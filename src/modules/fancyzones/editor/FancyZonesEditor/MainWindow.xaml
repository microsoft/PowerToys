<Window x:Class="FancyZonesEditor.MainWindow"
        x:Name="MainWindow1"
        AutomationProperties.Name="{x:Static props:Resources.Fancy_Zones_Main_Editor}"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:FancyZonesEditor"
        xmlns:Converters="clr-namespace:FancyZonesEditor.Converters"
        xmlns:props="clr-namespace:FancyZonesEditor.Properties"
        xmlns:local1="clr-namespace:FancyZonesEditor.ViewModels"
        xmlns:models="clr-namespace:FancyZonesEditor.Models"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:controls="clr-namespace:ModernWpf.Controls;assembly=ModernWpf"
        mc:Ignorable="d"
        Title="FancyZones Editor"
        ui:WindowHelper.UseModernWindowStyle="True"
        ui:TitleBar.IsIconVisible="True"
        ui:TitleBar.Background="{DynamicResource SecondaryBackgroundBrush}"
        ui:TitleBar.InactiveBackground="{DynamicResource SecondaryBackgroundBrush}"
        MinWidth="360"
        WindowStartupLocation="CenterOwner"
        ContentRendered="OnContentRendered"
        Background="{DynamicResource PrimaryBackgroundBrush}"
        Closing="OnClosing"
        ResizeMode="CanResize">
    <Window.Resources>

        <Converters:LayoutTypeCustomToVisibilityConverter x:Key="LayoutTypeCustomToVisibilityConverter" />
        <Converters:LayoutTypeTemplateToVisibilityConverter x:Key="LayoutTypeTemplateToVisibilityConverter" />
        
        <DataTemplate x:Key="MonitorItemTemplate">
            <Border x:Name="MonitorItem"
                    Width="{Binding DisplayWidth}"
                    Height="{Binding DisplayHeight}"
                    AutomationProperties.Name="{x:Static props:Resources.Monitor}"
                    AutomationProperties.HelpText="{Binding Index}"
                    Background="{DynamicResource MonitorBackgroundBrush}"
                    BorderBrush="{DynamicResource LayoutItemBackgroundBrush}"
                    BorderThickness="1"
                    Focusable="True"
                    CornerRadius="4"
                    Margin="8,2,8,8"
                    KeyDown="MonitorItem_KeyDown"
                    MouseDown="MonitorItem_MouseDown"
                    FocusVisualStyle="{StaticResource UWPFocusVisualStyle}">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="6"
                                      Opacity="0.24"
                                      ShadowDepth="1" />
                </Border.Effect>
                <Border.ToolTip>
                    <ToolTip>
                        <StackPanel>
                            <TextBlock FontWeight="SemiBold">
                                <Run Text="Monitor" />
                                <Run Text="{Binding Index}" />
                            </TextBlock>
                            <TextBlock Text="{Binding Dimensions}" />
                        </StackPanel>
                    </ToolTip>
                </Border.ToolTip>
                <TextBlock Name="IndexText"
                           TextTrimming="CharacterEllipsis"
                           Text="{Binding Index}"
                           FontSize="26"
                           Grid.Row="0"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Foreground="{DynamicResource PrimaryForegroundBrush}" />
            </Border>
            <DataTemplate.Triggers>
                <DataTrigger Binding="{Binding Selected}"
                             Value="true">
                    <Setter TargetName="IndexText"
                            Property="Foreground"
                            Value="White" />
                    <Setter TargetName="MonitorItem"
                            Property="Background"
                            Value="{DynamicResource SystemControlBackgroundAccentBrush}" />
                </DataTrigger>
            </DataTemplate.Triggers>
        </DataTemplate>

        <DataTemplate DataType="{x:Type models:CanvasLayoutModel}">
            <Grid Background="Transparent"
                  KeyDown="LayoutItem_KeyDown"
                  MouseDown="LayoutItem_Click"
                  Margin="0,0,0,12">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="24" />
                </Grid.RowDefinitions>

                <Border x:Name="LayoutItem"
                        Background="{DynamicResource LayoutItemBackgroundBrush}"
                        BorderBrush="{DynamicResource LayoutItemBackgroundBrush}"
                        BorderThickness="1"
                        Focusable="True"
                        CornerRadius="4"
                        Margin="8"
                        FocusVisualStyle="{StaticResource UWPFocusVisualStyle}"
                        FocusManager.GotFocus="LayoutItem_Focused">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="6"
                                          Opacity="0.24"
                                          ShadowDepth="1" />
                    </Border.Effect>

                    <local:LayoutPreview Margin="12"
                                         VerticalAlignment="Stretch"
                                         HorizontalAlignment="Stretch" />
                </Border>
                <Border x:Name="SelectionHighlight"
                        CornerRadius="4"
                        BorderThickness="3"
                        Margin="6"
                        Visibility="Collapsed"
                        BorderBrush="{DynamicResource SystemControlBackgroundAccentBrush}" />
                <TextBlock Name="layoutName"
                           Padding="8,0,8,0"
                           TextTrimming="CharacterEllipsis"
                           Text="{Binding Name}"
                           FontSize="14"
                           Grid.Row="2"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Foreground="{DynamicResource PrimaryForegroundBrush}" />
                <Button Content="&#xE104;"
                        x:Name="EditLayoutButton"
                        Visibility="Collapsed"
                        FontFamily="Segoe MDL2 Assets"
                        FontSize="14"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Width="36"
                        Height="36"
                        ToolTip="{x:Static props:Resources.Edit_Layout}"
                        AutomationProperties.Name="{x:Static props:Resources.Edit_Layout}"
                        Style="{StaticResource AccentButtonStyle}"
                        ui:ControlHelper.CornerRadius="48">
                    <Button.Effect>
                        <DropShadowEffect BlurRadius="6"
                                          Opacity="0.32"
                                          ShadowDepth="1" />
                    </Button.Effect>
                    <ui:FlyoutService.Flyout>
                        <ui:Flyout x:Name="EditFlyout"
                                   Placement="RightEdgeAlignedTop">
                            <StackPanel MinWidth="260">
                                <Button Click="EditLayout_Click"
                                        x:Name="editZoneLayoutButton"
                                        HorizontalAlignment="Stretch"
                                        AutomationProperties.Name="{x:Static props:Resources.Edit_zones}"
                                        Height="48"
                                        Style="{StaticResource AccentButtonStyle}"
                                        Visibility="{Binding Type, Converter={StaticResource LayoutTypeCustomToVisibilityConverter}}">
                                    <Button.Content>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="&#xE104;"
                                                       Margin="0,2,8,0"
                                                       FontFamily="Segoe MDL2 Assets" />
                                            <TextBlock Text="{x:Static props:Resources.Edit_zones}" />
                                        </StackPanel>
                                    </Button.Content>
                                </Button>
                                <TextBlock x:Name="nameHeader"
                                           Text="{x:Static props:Resources.Name}"
                                           Margin="0,32,0,0"
                                           Foreground="{DynamicResource PrimaryForegroundBrush}"
                                           Visibility="{Binding Type, Converter={StaticResource LayoutTypeCustomToVisibilityConverter}}" />
                                <TextBox Text="{Binding Name}"
                                         Margin="0,6,0,16"
                                         AutomationProperties.LabeledBy="{Binding ElementName=nameHeader}"
                                         Visibility="{Binding Type, Converter={StaticResource LayoutTypeCustomToVisibilityConverter}}"/>
                                
                                <StackPanel Margin="0,0,0,0"
                                            Orientation="Vertical">
                                    <StackPanel Margin="-8,-2,0,0"
                                                Orientation="Horizontal"
                                                VerticalAlignment="Center"
                                                HorizontalAlignment="Center"
                                                Visibility="{Binding Type, Converter={StaticResource LayoutTypeTemplateToVisibilityConverter}}">

                                        <Button x:Name="decrementZones"
                                                Width="32"
                                                Height="32"
                                                Content="&#xE949;"
                                                FontSize="14"
                                                TabIndex="2"
                                                HorizontalAlignment="Center"
                                                Background="Transparent"
                                                FontFamily="Segoe MDL2 Assets"
                                                ToolTip="{x:Static props:Resources.Zone_Count_Decrement}"
                                                AutomationProperties.Name="{x:Static props:Resources.Zone_Count_Decrement}"
                                                Style="{StaticResource DefaultButtonStyle}"
                                                Click="DecrementZones_Click" />

                                        <TextBlock x:Name="zoneCount"
                                                   Text="{Binding TemplateZoneCount}"
                                                   TextAlignment="Center"
                                                   FontSize="16"
                                                   Width="32"
                                                   Margin="8"
                                                   Foreground="{DynamicResource SystemAccentColorLight1Brush}"
                                                   FontWeight="SemiBold"
                                                   HorizontalAlignment="Stretch"
                                                   VerticalAlignment="Center" />

                                        <Button x:Name="incrementZones"
                                                Width="32"
                                                Height="32"
                                                FontSize="14"
                                                TabIndex="3"
                                                Background="Transparent"
                                                Content="&#xE948;"
                                                HorizontalAlignment="Center"
                                                FontFamily="Segoe MDL2 Assets"
                                                Style="{StaticResource DefaultButtonStyle}"
                                                ToolTip="{x:Static props:Resources.Zone_Count_Increment}"
                                                AutomationProperties.Name="{x:Static props:Resources.Zone_Count_Increment}"
                                                Click="IncrementZones_Click" />
                                    </StackPanel>
                                    
                                    <TextBlock Text="{x:Static props:Resources.Distance_adjacent_zones}"
                                               Margin="0,16,0,0"
                                               Foreground="{DynamicResource PrimaryForegroundBrush}"
                                               x:Name="sensitivityRadiusValue" />

                                    <TextBox Margin="0,6,0,0"
                                             Text="{Binding SensitivityRadius}"
                                             Width="86"
                                             AutomationProperties.LabeledBy="{Binding ElementName=sensitivityRadiusValue}"
                                             HorizontalAlignment="Left" />
                                </StackPanel>
                                <StackPanel Orientation="Horizontal"
                                            VerticalAlignment="Bottom"
                                            Margin="0,16,0,0"
                                            HorizontalAlignment="Right">
                                    <Button Click="DuplicateLayout_Click"
                                            AutomationProperties.Name="{x:Static props:Resources.Duplicate}"
                                            Background="Transparent">
                                        <Button.Content>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="&#xE8C8;"
                                                           Margin="0,3,8,0"
                                                           FontFamily="Segoe MDL2 Assets" />
                                                <TextBlock Text="{x:Static props:Resources.Duplicate}" />
                                            </StackPanel>
                                        </Button.Content>
                                    </Button>

                                    <Button Foreground="#FFC50500"
                                            AutomationProperties.Name="{x:Static props:Resources.Delete}"
                                            Click="DeleteLayout_Click"
                                            Background="Transparent"
                                            Visibility="{Binding Type, Converter={StaticResource LayoutTypeCustomToVisibilityConverter}}">
                                        <Button.Content>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="&#xE107;"
                                                           Margin="0,3,8,0"
                                                           FontFamily="Segoe MDL2 Assets" />
                                                <TextBlock Text="{x:Static props:Resources.Delete}" />
                                            </StackPanel>
                                        </Button.Content>
                                    </Button>
                                </StackPanel>
                            </StackPanel>
                        </ui:Flyout>
                    </ui:FlyoutService.Flyout>
                </Button>
            </Grid>
            <DataTemplate.Triggers>
                <DataTrigger Binding="{Binding IsApplied}"
                             Value="true">
                    <Setter TargetName="layoutName"
                            Property="Foreground"
                            Value="{DynamicResource SystemAccentColorLight1Brush}" />
                    <Setter TargetName="EditLayoutButton"
                            Property="Visibility"
                            Value="Visible" />
                    
                    <Setter TargetName="SelectionHighlight"
                            Property="Visibility"
                            Value="Visible" />
                </DataTrigger>
                <DataTrigger Binding="{Binding IsSelected}"
                             Value="true">
                    <Setter TargetName="LayoutItem"
                            Property="BorderBrush"
                            Value="{DynamicResource LayoutItemBorderPointerOverBrush}" />
                </DataTrigger>
            </DataTemplate.Triggers>
        </DataTemplate>

        <DataTemplate DataType="{x:Type models:GridLayoutModel}">
            <Grid Background="Transparent"
                  KeyDown="LayoutItem_KeyDown"
                  MouseDown="LayoutItem_Click"
                  Margin="0,0,0,12">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="24" />
                </Grid.RowDefinitions>

                <Border x:Name="LayoutItem"
                        Background="{DynamicResource LayoutItemBackgroundBrush}"
                        BorderBrush="{DynamicResource LayoutItemBackgroundBrush}"
                        BorderThickness="1"
                        Focusable="True"
                        CornerRadius="4"
                        Margin="8"
                        FocusVisualStyle="{StaticResource UWPFocusVisualStyle}"
                        FocusManager.GotFocus="LayoutItem_Focused">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="6"
                                          Opacity="0.24"
                                          ShadowDepth="1" />
                    </Border.Effect>

                    <local:LayoutPreview Margin="12"
                                         VerticalAlignment="Stretch"
                                         HorizontalAlignment="Stretch" />
                </Border>
                <Border x:Name="SelectionHighlight"
                        CornerRadius="4"
                        BorderThickness="3"
                        Margin="6"
                        Visibility="Collapsed"
                        BorderBrush="{DynamicResource SystemControlBackgroundAccentBrush}" />
                <TextBlock Name="layoutName"
                           Padding="8,0,8,0"
                           TextTrimming="CharacterEllipsis"
                           Text="{Binding Name}"
                           FontSize="14"
                           Grid.Row="2"
                           FontWeight="SemiBold"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Foreground="{DynamicResource PrimaryForegroundBrush}" />
                <Button Content="&#xE104;"
                        x:Name="EditLayoutButton"
                        Visibility="Collapsed"
                        FontFamily="Segoe MDL2 Assets"
                        FontSize="14"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Width="36"
                        Height="36"
                        ToolTip="{x:Static props:Resources.Edit_Layout}"
                        AutomationProperties.Name="{x:Static props:Resources.Edit_Layout}"
                        Style="{StaticResource AccentButtonStyle}"
                        ui:ControlHelper.CornerRadius="48">
                    <Button.Effect>
                        <DropShadowEffect BlurRadius="6"
                                          Opacity="0.32"
                                          ShadowDepth="1" />
                    </Button.Effect>
                    <ui:FlyoutService.Flyout>
                        <ui:Flyout x:Name="EditFlyout"
                                   Placement="RightEdgeAlignedTop">
                            <StackPanel MinWidth="260">
                                <Button Click="EditLayout_Click"
                                        x:Name="editZoneLayoutButton"
                                        HorizontalAlignment="Stretch"
                                        AutomationProperties.Name="{x:Static props:Resources.Edit_zones}"
                                        Height="48"
                                        Style="{StaticResource AccentButtonStyle}"
                                        Visibility="{Binding Type, Converter={StaticResource LayoutTypeCustomToVisibilityConverter}}">
                                    <Button.Content>
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="&#xE104;"
                                                       Margin="0,2,8,0"
                                                       FontFamily="Segoe MDL2 Assets" />
                                            <TextBlock Text="{x:Static props:Resources.Edit_zones}" />
                                        </StackPanel>
                                    </Button.Content>
                                </Button>
                                <TextBlock x:Name="nameHeader"
                                           Text="{x:Static props:Resources.Name}"
                                           Margin="0,32,0,0"
                                           Foreground="{DynamicResource PrimaryForegroundBrush}"
                                           Visibility="{Binding Type, Converter={StaticResource LayoutTypeCustomToVisibilityConverter}}" />
                                <TextBox Text="{Binding Name}"
                                         Margin="0,6,0,16"
                                         AutomationProperties.LabeledBy="{Binding ElementName=nameHeader}"
                                         Visibility="{Binding Type, Converter={StaticResource LayoutTypeCustomToVisibilityConverter}}"/>

                                <StackPanel Margin="0,0,0,0"
                                            Orientation="Vertical">
                                    <StackPanel Margin="-8,-2,0,0"
                                                Orientation="Horizontal"
                                                VerticalAlignment="Center"
                                                HorizontalAlignment="Center"
                                                Visibility="{Binding Type, Converter={StaticResource LayoutTypeTemplateToVisibilityConverter}}">

                                        <Button x:Name="decrementZones"
                                            Width="32"
                                            Height="32"
                                            Content="&#xE949;"
                                            FontSize="14"
                                            TabIndex="2"
                                            HorizontalAlignment="Center"
                                            Background="Transparent"
                                            FontFamily="Segoe MDL2 Assets"
                                            ToolTip="{x:Static props:Resources.Zone_Count_Decrement}"
                                            AutomationProperties.Name="{x:Static props:Resources.Zone_Count_Decrement}"
                                            Style="{StaticResource DefaultButtonStyle}"
                                            Click="DecrementZones_Click" />

                                        <TextBlock x:Name="zoneCount"
                                                Text="{Binding TemplateZoneCount}"
                                                TextAlignment="Center"
                                                FontSize="16"
                                                Width="32"
                                                Margin="8"
                                                Foreground="{DynamicResource SystemAccentColorLight1Brush}"
                                                FontWeight="SemiBold"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Center" />

                                        <Button x:Name="incrementZones"
                                            Width="32"
                                            Height="32"
                                            FontSize="14"
                                            TabIndex="3"
                                            Background="Transparent"
                                            Content="&#xE948;"
                                            HorizontalAlignment="Center"
                                            FontFamily="Segoe MDL2 Assets"
                                            Style="{StaticResource DefaultButtonStyle}"
                                            ToolTip="{x:Static props:Resources.Zone_Count_Increment}"
                                            AutomationProperties.Name="{x:Static props:Resources.Zone_Count_Increment}"
                                            Click="IncrementZones_Click" />
                                        </StackPanel>
                                        
                                        <ui:ToggleSwitch x:Name="spaceAroundSetting"
                                                     Header="{x:Static props:Resources.Show_Space_Zones}"
                                                     IsOn="{Binding ShowSpacing}" />

                                    <TextBlock x:Name="paddingValue"
                                               Text="{x:Static props:Resources.Space_Around_Zones}"
                                               Margin="0,8,0,0"
                                               Foreground="{DynamicResource PrimaryForegroundBrush}" />

                                    <TextBox Margin="0,6,0,0"
                                             Text="{Binding Spacing, UpdateSourceTrigger=PropertyChanged}"
                                             Width="86"
                                             HorizontalAlignment="Left"
                                             AutomationProperties.LabeledBy="{Binding ElementName=paddingValue}" />

                                    <TextBlock Text="{x:Static props:Resources.Distance_adjacent_zones}"
                                               Margin="0,16,0,0"
                                               Foreground="{DynamicResource PrimaryForegroundBrush}"
                                               x:Name="sensitivityRadiusValue" />

                                    <TextBox Margin="0,6,0,0"
                                             Text="{Binding SensitivityRadius}"
                                             Width="86"
                                             AutomationProperties.LabeledBy="{Binding ElementName=sensitivityRadiusValue}"
                                             HorizontalAlignment="Left" />
                                </StackPanel>
                                <StackPanel Orientation="Horizontal"
                                            VerticalAlignment="Bottom"
                                            Margin="0,16,0,0"
                                            HorizontalAlignment="Right">
                                    <Button Click="DuplicateLayout_Click"
                                            AutomationProperties.Name="{x:Static props:Resources.Duplicate}"
                                            Background="Transparent">
                                        <Button.Content>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="&#xE8C8;"
                                                           Margin="0,3,8,0"
                                                           FontFamily="Segoe MDL2 Assets" />
                                                <TextBlock Text="{x:Static props:Resources.Duplicate}" />
                                            </StackPanel>
                                        </Button.Content>
                                    </Button>

                                    <Button Foreground="#FFC50500"
                                            AutomationProperties.Name="{x:Static props:Resources.Delete}"
                                            Click="DeleteLayout_Click"
                                            Background="Transparent"
                                            Visibility="{Binding Type, Converter={StaticResource LayoutTypeCustomToVisibilityConverter}}">
                                        <Button.Content>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="&#xE107;"
                                                           Margin="0,3,8,0"
                                                           FontFamily="Segoe MDL2 Assets" />
                                                <TextBlock Text="{x:Static props:Resources.Delete}" />
                                            </StackPanel>
                                        </Button.Content>
                                    </Button>
                                </StackPanel>
                            </StackPanel>
                        </ui:Flyout>
                    </ui:FlyoutService.Flyout>
                </Button>
            </Grid>
            <DataTemplate.Triggers>
                <DataTrigger Binding="{Binding IsApplied}"
                             Value="true">
                    <Setter TargetName="layoutName"
                            Property="Foreground"
                            Value="{DynamicResource SystemAccentColorLight1Brush}" />
                    <Setter TargetName="EditLayoutButton"
                            Property="Visibility"
                            Value="Visible" />

                    <Setter TargetName="SelectionHighlight"
                            Property="Visibility"
                            Value="Visible" />
                </DataTrigger>
                <DataTrigger Binding="{Binding IsSelected}"
                             Value="true">
                    <Setter TargetName="LayoutItem"
                            Property="BorderBrush"
                            Value="{DynamicResource LayoutItemBorderPointerOverBrush}" />
                </DataTrigger>
            </DataTemplate.Triggers>
        </DataTemplate>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>



        <Grid Grid.Row="1"
              Background="{DynamicResource PrimaryBackgroundBrush}">
            <ScrollViewer>
                <Grid Margin="16,16,16,32">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <TextBlock Text="{x:Static props:Resources.Templates}"
                               x:Name="TemplatesHeaderBlock"
                               FontWeight="SemiBold"
                               FontSize="24" />

                    <ItemsControl ItemsSource="{Binding DefaultModels}"
                                  Grid.Row="1"
                                  AutomationProperties.LabeledBy="{Binding ElementName=TemplatesHeaderBlock}"
                                  TabIndex="4"
                                  x:Name="DefaultModelsItemsControl"
                                  Margin="-8,8,-8,0">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel Orientation="Horizontal"
                                           ItemWidth="164"
                                           ItemHeight="148"
                                           x:Name="DefaultModelsWrapPanel" />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>

                    <TextBlock Text="{x:Static props:Resources.Custom}"
                               x:Name="CustomHeaderBlock"
                               FontWeight="SemiBold"
                               Grid.Row="2"
                               Margin="0,16,0,0"
                               FontSize="24" />

                    <Button x:Name="NewLayoutButton"
                            Click="NewLayoutButton_Click"
                            HorizontalAlignment="Left"
                            AutomationProperties.Name="{x:Static props:Resources.Create_new_layout}"
                            Background="Transparent"
                            TabIndex="5"
                            Padding="0"
                            Height="36"
                            Margin="-8,4,0,0"
                            Grid.Row="3">
                        <StackPanel Orientation="Horizontal"
                                    Margin="8">
                            <TextBlock Text="&#xE109;"
                                       FontFamily="Segoe MDL2 Assets"
                                       Foreground="{DynamicResource SystemAccentColorLight1Brush}" />
                            <TextBlock Text="{x:Static props:Resources.Create_new_layout}"
                                       Margin="12,-3,0,0"
                                       Foreground="{DynamicResource PrimaryForegroundBrush}" />
                        </StackPanel>
                    </Button>

                    <StackPanel Height="240"
                                Grid.Row="4"
                                Orientation="Vertical"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Opacity="0.6"
                                Margin="16,48,16,16">
                        <StackPanel.Style>
                            <Style TargetType="StackPanel">
                            <Setter Property="Visibility"
                                    Value="Collapsed" />
                            <Style.Triggers>
                                    <DataTrigger Binding="{Binding CustomModels.Count}"
                                             Value="0">
                                    <Setter Property="Visibility"
                                            Value="Visible" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                        </StackPanel.Style>
                        <controls:PathIcon
                            Foreground="{DynamicResource SecondaryForegroundBrush}"
                            Height="38"
                            Data="M45,48H25.5V45H45V25.5H25.5v-3H45V3H25.5V0H48V48ZM22.5,48H3V45H22.5V3H3V0H25.5V48ZM0,48V0H3V48Z" />
                        <TextBlock Text="{x:Static props:Resources.No_Custom_Layouts_Message}" Margin="0,16,0,0" Foreground="{DynamicResource SecondaryForegroundBrush}" />
                    </StackPanel>
                    <ItemsControl ItemsSource="{Binding CustomModels}"
                                  TabIndex="6"
                                  AutomationProperties.LabeledBy="{Binding ElementName=CustomHeaderBlock}"
                                  Margin="-8,4,-8,0"
                                  Grid.Row="4">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel Orientation="Horizontal"
                                           ItemWidth="164"
                                           ItemHeight="148"
                                           x:Name="CustomModelsWrapPanel" />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>
                </Grid>
            </ScrollViewer>
        </Grid>

        <Grid Background="{DynamicResource SecondaryBackgroundBrush}">
            <Grid.Effect>
                <DropShadowEffect BlurRadius="6"
                                  Opacity="0.32"
                                  ShadowDepth="1" />
            </Grid.Effect>
            <ScrollViewer ScrollViewer.VerticalScrollBarVisibility="Disabled"
                          ScrollViewer.HorizontalScrollBarVisibility="Auto"
                          ScrollViewer.CanContentScroll="True"
                          ScrollViewer.PanningMode="HorizontalOnly"
                          Width="{Binding Path=ActualWidth, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=UIElement}}"
                          PreviewMouseWheel="ScrollViewer_PreviewMouseWheel">
                <ScrollViewer.DataContext>
                    <local1:MonitorViewModel x:Name="monitorViewModel" />
                </ScrollViewer.DataContext>
                <Grid>

                    <ItemsControl x:Name="MainWindowItemControl"
                                  TabIndex="0"
                                  ItemTemplate="{StaticResource MonitorItemTemplate}"
                                  ItemsSource="{Binding MonitorInfoForViewModel}">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel Background="Transparent"
                                            Orientation="Horizontal"
                                            HorizontalAlignment="Center"
                                            Margin="8, 0, 8, 16" />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>

                    </ItemsControl>
                    <Button x:Name="ResetButton"
                            TabIndex="1"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Bottom"
                            AutomationProperties.Name="{x:Static props:Resources.Reset_Layout}"
                            Margin="8"
                            Background="Transparent"
                            Click="Reset_Click">
                        <Button.Content>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="&#xE777;"
                                           FontFamily="Segoe MDL2 Assets"
                                           Margin="0,3,8,0" />
                                <TextBlock Text="{x:Static props:Resources.Reset_Layout}" />
                            </StackPanel>
                        </Button.Content>
                    </Button>
                </Grid>
            </ScrollViewer>
        </Grid>
        
        <ui:ContentDialog x:Name="NewLayoutDialog"
                          Background="{DynamicResource PrimaryBackgroundBrush}"
                          PrimaryButtonStyle="{StaticResource AccentButtonStyle}"
                          SecondaryButtonText="{x:Static props:Resources.Cancel}"
                          PrimaryButtonText="{x:Static props:Resources.Create}"
                          PrimaryButtonClick="NewLayoutDialog_PrimaryButtonClick"
                          Title="{x:Static props:Resources.Choose_layout_type}">
            <StackPanel Margin="0,16,0,0">
                <TextBlock x:Name="NameHeaderText"
                           Text="{x:Static props:Resources.Name}" />
                <TextBox Margin="3,6,3,0"
                         x:Name="LayoutNameText"
                         AutomationProperties.LabeledBy="{Binding ElementName=NameHeaderText}" />
                <RadioButton x:Name="GridLayoutRadioButton"
                             GroupName="LayoutTypeGroup"
                             AutomationProperties.Name="{x:Static props:Resources.Layout_Grid_Title}"
                             AutomationProperties.HelpText="{x:Static props:Resources.Layout_Grid_Description}"
                             IsChecked="True"
                             Margin="0,24,0,0"
                             Style="{StaticResource LayoutTypeRadioButtonStyle}">
                    <RadioButton.Content>
                        <Grid Width="420"
                              Margin="4">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="32" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="&#xE138;"
                                       FontSize="16"
                                       Foreground="{DynamicResource SystemControlBackgroundAccentBrush}"
                                       Margin="0,4,0,0"
                                       HorizontalAlignment="Left"
                                       FontFamily="Segoe MDL2 Assets" />
                            <StackPanel Grid.Column="1"
                                        Orientation="Vertical">
                                <TextBlock TextWrapping="Wrap"
                                           FontWeight="Bold"
                                           Margin="0,3,0,0"
                                           Text="{x:Static props:Resources.Layout_Grid_Title}" />
                                <TextBlock TextWrapping="Wrap"
                                           Margin="0,4,0,0"
                                           Text="{x:Static props:Resources.Layout_Grid_Description}"
                                           Foreground="{DynamicResource SecondaryForegroundBrush}" />
                            </StackPanel>
                        </Grid>
                    </RadioButton.Content>
                </RadioButton>

                <RadioButton x:Name="CanvasLayoutRadioButton"
                             GroupName="LayoutTypeGroup"
                             IsChecked="True"
                             AutomationProperties.Name="{x:Static props:Resources.Layout_Canvas_Title}"
                             AutomationProperties.HelpText="{x:Static props:Resources.Layout_Canvas_Description}"
                             Style="{StaticResource LayoutTypeRadioButtonStyle}"
                             Margin="0,0,0,64">
                    <RadioButton.Content>
                        <Grid Width="420"
                              Margin="4">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="32" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="&#xF5ED;"
                                       FontSize="16"
                                       Foreground="{DynamicResource SystemControlBackgroundAccentBrush}"
                                       Margin="0,4,0,0"
                                       HorizontalAlignment="Left"
                                       FontFamily="Segoe MDL2 Assets" />
                            <StackPanel Grid.Column="1"
                                        Orientation="Vertical">
                                <TextBlock TextWrapping="Wrap"
                                           FontWeight="Bold"
                                           Margin="0,3,0,0"
                                           Text="{x:Static props:Resources.Layout_Canvas_Title}" />
                                <TextBlock TextWrapping="Wrap"
                                           Margin="0,4,0,0"
                                           Text="{x:Static props:Resources.Layout_Canvas_Description}"
                                           Foreground="{DynamicResource SecondaryForegroundBrush}" />
                            </StackPanel>
                        </Grid>
                    </RadioButton.Content>
                </RadioButton>
            </StackPanel>
        </ui:ContentDialog>
    </Grid>
</Window>