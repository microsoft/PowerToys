<Project Sdk="Microsoft.NET.Sdk">
	<!-- Look at Directory.Build.props in root for common stuff as well -->
	<Import Project="..\..\..\..\Common.Dotnet.CsWinRT.props" Condition="'$(BuildTests)' != 'false'" />

	<PropertyGroup>
		<RepoRoot>$(MSBuildThisFileDirectory)..\..\..\..\..\</RepoRoot>
		<IsPackable>false</IsPackable>
		<IsTestProject>true</IsTestProject>
		<RootNamespace>Microsoft.CommandPalette.Extensions.Toolkit.UnitTests</RootNamespace>
		<OutputPath>$(SolutionDir)$(Platform)\$(Configuration)\WinUI3Apps\CmdPal\tests\</OutputPath>
		<AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
		<AppendRuntimeIdentifierToOutputPath>false</AppendRuntimeIdentifierToOutputPath>
		<Nullable>enable</Nullable>
	</PropertyGroup>

	<ItemGroup Condition="'$(BuildTests)' != 'false'">
		<PackageReference Include="Moq" />
		<PackageReference Include="MSTest" />
	</ItemGroup>

	<ItemGroup Condition="'$(BuildTests)' != 'false'">
	  <ProjectReference Include="..\..\extensionsdk\Microsoft.CommandPalette.Extensions.Toolkit\Microsoft.CommandPalette.Extensions.Toolkit.csproj" />
	</ItemGroup>

	<PropertyGroup Condition="'$(CIBuild)'=='true' and '$(BuildTests)' != 'false'">
		<SignAssembly>true</SignAssembly>
		<DelaySign>true</DelaySign>
		<AssemblyOriginatorKeyFile>$(RepoRoot).pipelines\272MSSharedLibSN2048.snk</AssemblyOriginatorKeyFile>
	</PropertyGroup>
</Project>