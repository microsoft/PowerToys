<?xml version="1.0" encoding="utf-8" ?>
<UserControl
    x:Class="Microsoft.CmdPal.UI.Controls.FallbackRanker"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cmdpalUI="using:Microsoft.CmdPal.UI"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    xmlns:converters="using:CommunityToolkit.WinUI.Converters"
    xmlns:coreViewModels="using:Microsoft.CmdPal.Core.ViewModels"
    xmlns:cpcontrols="using:Microsoft.CmdPal.UI.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:helpers="using:Microsoft.CmdPal.UI.Helpers"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:viewModels="using:Microsoft.CmdPal.UI.ViewModels"
    mc:Ignorable="d">

    <Grid MinWidth="360">
        <ListView
            Padding="12,0,24,0"
            AllowDrop="True"
            CanDragItems="True"
            CanReorderItems="True"
            DragItemsCompleted="ListView_DragItemsCompleted"
            ItemsSource="{x:Bind viewModel.FallbackRankings, Mode=OneWay}"
            SelectionMode="None">
            <ListView.ItemTemplate>
                <DataTemplate x:DataType="viewModels:FallbackSettingsViewModel">
                    <controls:SettingsCard
                        MinHeight="0"
                        Padding="8"
                        Background="Transparent"
                        BorderBrush="Transparent"
                        Header="{x:Bind DisplayName}"
                        ToolTipService.ToolTip="{x:Bind Id}">
                        <controls:SettingsCard.HeaderIcon>
                            <cpcontrols:ContentIcon>
                                <cpcontrols:ContentIcon.Content>
                                    <cpcontrols:IconBox
                                        Width="20"
                                        Height="20"
                                        AutomationProperties.AccessibilityView="Raw"
                                        SourceKey="{x:Bind Icon, Mode=OneWay}"
                                        SourceRequested="{x:Bind helpers:IconCacheProvider.SourceRequested}" />
                                </cpcontrols:ContentIcon.Content>
                            </cpcontrols:ContentIcon>
                        </controls:SettingsCard.HeaderIcon>
                    </controls:SettingsCard>
                </DataTemplate>
            </ListView.ItemTemplate>
            <!--  Customize Size of Item Container from ListView  -->
            <ListView.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel Orientation="Vertical" Spacing="0" />
                </ItemsPanelTemplate>
            </ListView.ItemsPanel>
            <ListView.ItemContainerStyle>
                <Style BasedOn="{StaticResource DefaultListViewItemStyle}" TargetType="ListViewItem">
                    <Setter Property="Margin" Value="0" />
                    <Setter Property="Padding" Value="4" />
                </Style>
            </ListView.ItemContainerStyle>
        </ListView>
    </Grid>
</UserControl>