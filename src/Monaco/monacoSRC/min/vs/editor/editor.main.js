/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.47.0(69991d66135e4a1fc1cf0b1ac4ad25d429866a0d)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ne=["exports","require","vs/base/common/lifecycle","vs/nls","vs/nls!vs/editor/editor.main","vs/editor/common/core/range","vs/base/browser/dom","vs/base/common/event","vs/platform/instantiation/common/instantiation","vs/editor/common/core/position","vs/css!vs/editor/editor.main","vs/base/common/strings","vs/base/common/errors","vs/base/common/arrays","vs/platform/contextkey/common/contextkey","vs/base/common/async","vs/editor/browser/editorExtensions","vs/base/common/platform","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/base/common/types","vs/editor/common/editorContextKeys","vs/base/common/uri","vs/editor/common/core/selection","vs/platform/theme/common/themeService","vs/platform/commands/common/commands","vs/platform/configuration/common/configuration","vs/base/common/codicons","vs/platform/actions/common/actions","vs/base/common/themables","vs/editor/common/languages","vs/platform/theme/common/colorRegistry","vs/base/common/observable","vs/editor/common/languages/languageConfigurationRegistry","vs/platform/keybinding/common/keybinding","vs/editor/browser/services/codeEditorService","vs/editor/common/config/editorOptions","vs/platform/registry/common/platform","vs/editor/common/model/textModel","vs/base/common/color","vs/editor/common/model","vs/base/browser/fastDomNode","vs/base/common/actions","vs/editor/common/languages/language","vs/base/browser/ui/aria/aria","vs/platform/instantiation/common/extensions","vs/base/browser/keyboardEvent","vs/base/common/network","vs/base/common/resources","vs/platform/notification/common/notification","vs/base/browser/window","vs/editor/common/services/model","vs/base/common/iterator","vs/base/common/map","vs/base/common/objects","vs/editor/browser/view/viewPart","vs/platform/contextview/browser/contextView","vs/platform/opener/common/opener","vs/base/common/htmlContent","vs/base/browser/browser","vs/platform/log/common/log","vs/platform/telemetry/common/telemetry","vs/base/common/arraysFind","vs/base/common/stopwatch","vs/editor/common/core/lineRange","vs/base/browser/touch","vs/base/common/keyCodes","vs/base/common/linkedList","vs/editor/common/core/editOperation","vs/base/browser/mouseEvent","vs/editor/common/services/resolverService","vs/platform/accessibility/common/accessibility","vs/platform/quickinput/common/quickInput","vs/base/common/filters","vs/editor/browser/config/domFontInfo","vs/editor/common/core/offsetRange","vs/editor/common/cursorCommon","vs/base/browser/ui/widget","vs/base/browser/ui/scrollbar/scrollableElement","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/services/languageFeatureDebounce","vs/editor/common/languages/modesRegistry","vs/platform/theme/common/iconRegistry","vs/editor/common/core/editorColorRegistry","vs/base/browser/event","vs/editor/common/core/cursorColumns","vs/editor/common/viewModel","vs/editor/browser/widget/diffEditor/utils","vs/platform/progress/common/progress","vs/platform/theme/common/theme","vs/base/common/assert","vs/base/browser/ui/hover/hoverDelegate","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/contrib/hover/browser/hoverTypes","vs/platform/storage/common/storage","vs/base/browser/trustedTypes","vs/base/common/lazy","vs/editor/common/tokens/lineTokens","vs/base/common/path","vs/editor/common/standaloneStrings","vs/platform/markers/common/markers","vs/platform/configuration/common/configurationRegistry","vs/platform/theme/browser/defaultStyles","vs/base/common/severity","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/list/listWidget","vs/editor/common/core/stringBuilder","vs/platform/clipboard/common/clipboardService","vs/editor/browser/widget/markdownRenderer/browser/markdownRenderer","vs/editor/contrib/editorState/browser/editorState","vs/platform/actions/browser/menuEntryActionViewItem","vs/base/common/decorators","vs/base/common/functional","vs/base/common/mime","vs/base/common/hash","vs/editor/common/diff/rangeMapping","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/codeAction/common/types","vs/editor/contrib/snippet/browser/snippetParser","vs/base/browser/ui/iconLabel/iconLabelHover","vs/editor/common/viewLayout/viewLineRenderer","vs/editor/common/services/editorWorker","vs/platform/accessibilitySignal/browser/accessibilitySignalService","vs/platform/layout/browser/layoutService","vs/platform/keybinding/common/keybindingsRegistry","vs/base/common/keybindings","vs/base/common/numbers","vs/base/common/observableInternal/base","vs/base/common/iconLabels","vs/editor/browser/stableEditorScroll","vs/editor/common/core/characterClassifier","vs/editor/common/core/eolCounter","vs/editor/common/commands/replaceCommand","vs/editor/common/editorFeatures","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/browser/services/bulkEditService","vs/editor/standalone/common/standaloneTheme","vs/editor/contrib/suggest/browser/suggest","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/observableInternal/logging","vs/base/common/scrollable","vs/editor/browser/view/renderingContext","vs/editor/common/config/editorZoom","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/diffAlgorithm","vs/editor/browser/editorBrowser","vs/editor/common/viewEventHandler","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/sash/sash","vs/base/browser/ui/toggle/toggle","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/dialogs/common/dialogs","vs/platform/instantiation/common/serviceCollection","vs/platform/label/common/label","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/contrib/message/browser/messageController","vs/editor/browser/editorDom","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/platform/workspace/common/workspace","vs/base/common/idGenerator","vs/base/common/observableInternal/debugName","vs/base/common/observableInternal/derived","vs/base/common/range","vs/base/common/diff/diff","vs/base/common/uint","vs/base/common/uuid","vs/base/common/dataTransfer","vs/base/browser/ui/codicons/codiconStyles","vs/css!vs/platform/quickinput/browser/media/quickInput","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/contrib/folding/browser/foldingRanges","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/browser/markdownRenderer","vs/base/browser/ui/tree/abstractTree","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/common/services/textResourceConfiguration","vs/platform/contextkey/common/contextkeys","vs/editor/browser/controller/textAreaInput","vs/editor/browser/coreCommands","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/codeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/browser/dnd","vs/base/common/ternarySearchTree","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/editor/browser/config/tabFocus","vs/editor/common/core/indentation","vs/editor/common/diff/defaultLinesDiffComputer/utils","vs/editor/common/diff/linesDiffComputer","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/standalone/standaloneEnums","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/inlineCompletions/browser/commandIds","vs/editor/contrib/inlineCompletions/browser/singleTextEdit","vs/base/common/keybindingLabels","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/extpath","vs/base/common/marshalling","vs/base/browser/pixelRatio","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/list/listView","vs/base/browser/ui/button/button","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/findinput/findInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/common/services/semanticTokensStyling","vs/editor/contrib/dropOrPasteInto/browser/edit","vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/platform/environment/common/environment","vs/platform/hover/browser/hover","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorConfigurationSchema","vs/editor/browser/services/editorWorkerService","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/services/semanticTokensProviderStyling","vs/platform/actions/browser/toolbar","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/editor/contrib/inlineEdit/browser/inlineEditController","vs/editor/browser/widget/diffEditor/registrations.contribution","vs/editor/browser/widget/diffEditor/diffEditorWidget","vs/editor/contrib/codeAction/browser/codeActionController","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/inlineProgress/browser/inlineProgress","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/editor/standalone/browser/standaloneServices","vs/base/browser/performance","vs/base/common/cache","vs/base/common/collections","vs/base/common/observableInternal/autorun","vs/base/common/observableInternal/utils","vs/base/common/ime","vs/base/common/symbols","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/css!vs/platform/actionWidget/browser/actionWidget","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/common/config/diffEditor","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/myersDiffAlgorithm","vs/editor/common/diff/defaultLinesDiffComputer/heuristicSequenceOptimizations","vs/editor/common/diff/defaultLinesDiffComputer/linesSliceCharSequence","vs/editor/common/diff/defaultLinesDiffComputer/defaultLinesDiffComputer","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/combineTextEditInfos","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/treeViewsDnd","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/semanticTokens/common/semanticTokensConfig","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/stickyScroll/browser/stickyScrollElement","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/base/common/process","vs/base/common/glob","vs/base/browser/dompurify/dompurify","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/editor/browser/config/elementSizeObserver","vs/editor/common/core/textChange","vs/editor/common/languageSelector","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/semanticTokens/common/getSemanticTokens","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/platform/quickinput/browser/quickInputUtils","vs/platform/dnd/browser/dnd","vs/editor/browser/dnd","vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider","vs/editor/contrib/colorPicker/browser/color","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/widget/diffEditor/diffEditorViewModel","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/browser/controller/mouseTarget","vs/platform/quickinput/browser/quickInputList","vs/platform/quickinput/browser/quickInput","vs/editor/browser/widget/diffEditor/features/overviewRulerFeature","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/standalone/browser/standaloneThemeService","vs/editor/contrib/inlineEdit/browser/inlineEditHintsWidget","vs/editor/browser/widget/multiDiffEditorWidget/diffEditorItemTemplate","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/find/browser/findController","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/suggest/browser/suggestController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/comparers","vs/base/common/linkedText","vs/base/common/marked/marked","vs/base/common/naturalLanguage/korean","vs/base/common/navigator","vs/base/common/history","vs/base/common/observableInternal/promise","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/base/common/tfIdf","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/margin/margin","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/viewParts/whitespace/whitespace","vs/css!vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/css!vs/editor/browser/widget/diffEditor/style","vs/css!vs/editor/browser/widget/hoverWidget/hover","vs/css!vs/editor/browser/widget/markdownRenderer/browser/renderedMarkdown","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/browser/widget/multiDiffEditorWidget/style","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/css!vs/editor/contrib/find/browser/findOptionsWidget","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/hover/browser/hover","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/css!vs/editor/contrib/inlineEdit/browser/inlineEdit","vs/css!vs/editor/contrib/inlineEdit/browser/inlineEditHintsWidget","vs/css!vs/editor/contrib/inlineProgress/browser/inlineProgressWidget","vs/css!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/opener/browser/link","vs/css!vs/platform/severityIcon/browser/media/severityIcon","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/domReadingContext","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/browser/widget/diffEditor/delegatingEditorImpl","vs/editor/browser/widget/multiDiffEditorWidget/objectPool","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/defaultLinesDiffComputer/lineSequence","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/defaultLinesDiffComputer/computeMovedLines","vs/editor/common/diff/legacyLinesDiffComputer","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/defaultDocumentColorsComputer","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/fixedArray","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/textModelBracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/tokenizationRegistry","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/glyphLanesModel","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/inlineEdit/browser/commandIds","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/hover/hoverWidget","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/editor/browser/widget/multiDiffEditorWidget/utils","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/hotReload","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/ui/menu/menu","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/widget/codeEditorContributions","vs/editor/browser/widget/diffEditor/components/diffEditorSash","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/contrib/hover/browser/resizableContentWidget","vs/editor/contrib/inlineCompletions/browser/provideInlineCompletions","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/nls!vs/editor/browser/widget/diffEditor/components/diffEditorEditors","vs/nls!vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin","vs/nls!vs/editor/browser/widget/diffEditor/diffEditor.contribution","vs/nls!vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature","vs/nls!vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature","vs/nls!vs/editor/browser/widget/diffEditor/features/revertButtonsFeature","vs/editor/browser/widget/diffEditor/features/revertButtonsFeature","vs/nls!vs/editor/browser/widget/diffEditor/registrations.contribution","vs/nls!vs/editor/browser/widget/hoverWidget/hoverWidget","vs/nls!vs/editor/browser/widget/multiDiffEditorWidget/colors","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/browser/widget/diffEditor/diffEditorOptions","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/viewLayout/viewLineRenderer","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/renderLines","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeAction","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionContributions","vs/nls!vs/editor/contrib/codeAction/browser/codeActionController","vs/nls!vs/editor/contrib/codeAction/browser/codeActionMenu","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/commands","vs/nls!vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/accessibilitySignal/browser/accessibilitySignalService","vs/nls!vs/platform/action/common/actionCommonCategories","vs/nls!vs/platform/actionWidget/browser/actionList","vs/nls!vs/platform/actionWidget/browser/actionWidget","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/browser/toolbar","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/contextkey/common/scanner","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/quickinput/browser/quickInput","vs/nls!vs/platform/quickinput/browser/quickInputController","vs/nls!vs/platform/quickinput/browser/quickInputList","vs/nls!vs/platform/quickinput/browser/quickInputUtils","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/action/common/action","vs/platform/action/common/actionCommonCategories","vs/platform/contextkey/common/scanner","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/common/services/languageFeaturesService","vs/editor/common/services/treeViewsDndService","vs/editor/contrib/inlineEdit/browser/ghostTextWidget","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextview/browser/contextViewService","vs/editor/contrib/diffEditorBreadcrumbs/browser/contribution","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/clipboard/browser/clipboardService","vs/platform/log/common/logService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/quickinput/browser/quickInputBox","vs/editor/browser/widget/hoverWidget/hoverWidget","vs/editor/browser/services/webWorker","vs/editor/common/cursor/cursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/hover/browser/marginHover","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsSource","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/platform/configuration/common/configurations","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/platform/severityIcon/browser/severityIcon","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/actions/common/menuService","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/widget/diffEditor/diffProviderFactoryService","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionKeybindingResolver","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/longLinesHelper/browser/longLinesHelper","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/widget/multiDiffEditorWidget/colors","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/platform/actionWidget/browser/actionList","vs/platform/actionWidget/browser/actionWidget","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/platform/quickinput/browser/quickInputController","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/services/hoverService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/widget/diffEditor/components/diffEditorEditors","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/viewParts/whitespace/whitespace","vs/editor/browser/view","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/common/services/semanticTokensStylingService","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/semanticTokens/browser/documentSemanticTokens","vs/editor/contrib/semanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/common/themes","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/editor/contrib/inlineEdit/browser/commands","vs/editor/contrib/inlineEdit/browser/hoverParticipant","vs/editor/contrib/inlineEdit/browser/inlineEdit.contribution","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInputService","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/editor/browser/widget/diffEditor/components/diffEditorDecorations","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/diffEditorViewZones","vs/editor/common/services/modelService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/browser/widget/diffEditor/diffEditor.contribution","vs/editor/browser/widget/multiDiffEditorWidget/multiDiffEditorWidgetImpl","vs/editor/browser/widget/multiDiffEditorWidget/multiDiffEditorWidget","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/stickyScroll/browser/stickyScrollModelProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/commands","vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/editor/contrib/inlineCompletions/browser/inlineCompletions.contribution","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],se=function(ee){for(var e=[],L=0,k=ee.length;L<k;L++)e[L]=ne[ee[L]];return e};define(ne[952],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=void 0;function L(p,w,v,b){if(b=b||{},(b["vs/css"]||{}).disabled){v({});return}const n=w.toUrl(p+".css");k(p,n,()=>{v({})},i=>{typeof v.error=="function"&&v.error("Could not find "+n+".")})}e.load=L;function k(p,w,v,b){if(y(p,w)){v();return}D(p,w,v,b)}function y(p,w){const v=window.document.getElementsByTagName("link");for(let b=0,a=v.length;b<a;b++){const n=v[b].getAttribute("data-name"),i=v[b].getAttribute("href");if(n===p||i===w)return!0}return!1}function D(p,w,v,b){const a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("data-name",p),S(p,a,v,b),a.setAttribute("href",w),(window.document.head||window.document.getElementsByTagName("head")[0]).appendChild(a)}function S(p,w,v,b){const a=()=>{w.removeEventListener("load",n),w.removeEventListener("error",i)},n=t=>{a(),v()},i=t=>{a(),b(t)};w.addEventListener("load",n),w.addEventListener("error",i)}}),define(ne[3],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=e.create=e.setPseudoTranslation=e.getConfiguredDefaultLocale=e.localize2=e.localize=void 0;let L=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const k="i-default";function y(g,m){let c;return m.length===0?c=g:c=g.replace(/\{(\d+)\}/g,(d,s)=>{const l=s[0],r=m[l];let h=d;return typeof r=="string"?h=r:(typeof r=="number"||typeof r=="boolean"||r===void 0||r===null)&&(h=String(r)),h}),L&&(c="\uFF3B"+c.replace(/[aouei]/g,"$&$&")+"\uFF3D"),c}function D(g,m){let c=g[m];return c||(c=g["*"],c)?c:null}function S(g){return g.charAt(g.length-1)==="/"?g:g+"/"}async function p(g,m,c){const d=S(g)+S(m)+"vscode/"+S(c),s=await fetch(d);if(s.ok)return await s.json();throw new Error(`${s.status} - ${s.statusText}`)}function w(g){return function(m,c){const d=Array.prototype.slice.call(arguments,2);return y(g[m],d)}}function v(g){return(m,c,...d)=>({value:y(g[m],d),original:y(c,d)})}function b(g,m,...c){return y(m,c)}e.localize=b;function a(g,m,...c){const d=y(m,c);return{value:d,original:d}}e.localize2=a;function n(g){}e.getConfiguredDefaultLocale=n;function i(g){L=g}e.setPseudoTranslation=i;function t(g,m){var c;return{localize:w(m[g]),localize2:v(m[g]),getConfiguredDefaultLocale:(c=m.getConfiguredDefaultLocale)!==null&&c!==void 0?c:d=>{}}}e.create=t;function o(g,m,c,d){var s;const l=(s=d["vs/nls"])!==null&&s!==void 0?s:{};if(!g||g.length===0)return c({localize:b,localize2:a,getConfiguredDefaultLocale:()=>{var C;return(C=l.availableLanguages)===null||C===void 0?void 0:C["*"]}});const r=l.availableLanguages?D(l.availableLanguages,g):null,h=r===null||r===k;let u=".nls";h||(u=u+"."+r);const f=C=>{Array.isArray(C)?(C.localize=w(C),C.localize2=v(C)):(C.localize=w(C[g]),C.localize2=v(C[g])),C.getConfiguredDefaultLocale=()=>{var _;return(_=l.availableLanguages)===null||_===void 0?void 0:_["*"]},c(C)};typeof l.loadBundle=="function"?l.loadBundle(g,r,(C,_)=>{C?m([g+".nls"],f):f(_)}):l.translationServiceUrl&&!h?(async()=>{var C;try{const _=await p(l.translationServiceUrl,r,g);return f(_)}catch(_){if(!r.includes("-"))return console.error(_),m([g+".nls"],f);try{const E=r.split("-")[0],I=await p(l.translationServiceUrl,E,g);return(C=l.availableLanguages)!==null&&C!==void 0||(l.availableLanguages={}),l.availableLanguages["*"]=E,f(I)}catch(E){return console.error(E),m([g+".nls"],f)}}})():m([g+u],f,C=>{if(u===".nls"){console.error("Failed trying to load default language strings",C);return}console.error(`Failed to load message bundle for language ${r}. Falling back to the default language:`,C),m([g+".nls"],f)})}e.load=o});/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:Bt,setPrototypeOf:Wt,isFrozen:Zt,getPrototypeOf:Yt,getOwnPropertyDescriptor:Qt}=Object;let{freeze:ft,seal:bt,create:Xt}=Object,{apply:Nt,construct:At}=typeof Reflect<"u"&&Reflect;Nt||(Nt=function(e,L,k){return e.apply(L,k)}),ft||(ft=function(e){return e}),bt||(bt=function(e){return e}),At||(At=function(e,L){return new e(...L)});const Jt=Ct(Array.prototype.forEach),Vt=Ct(Array.prototype.pop),Dt=Ct(Array.prototype.push),kt=Ct(String.prototype.toLowerCase),Rt=Ct(String.prototype.toString),ei=Ct(String.prototype.match),_t=Ct(String.prototype.replace),ti=Ct(String.prototype.indexOf),ii=Ct(String.prototype.trim),pt=Ct(RegExp.prototype.test),It=ni(TypeError);function Ct(ee){return function(e){for(var L=arguments.length,k=new Array(L>1?L-1:0),y=1;y<L;y++)k[y-1]=arguments[y];return Nt(ee,e,k)}}function ni(ee){return function(){for(var e=arguments.length,L=new Array(e),k=0;k<e;k++)L[k]=arguments[k];return At(ee,L)}}function Qe(ee,e,L){var k;L=(k=L)!==null&&k!==void 0?k:kt,Wt&&Wt(ee,null);let y=e.length;for(;y--;){let D=e[y];if(typeof D=="string"){const S=L(D);S!==D&&(Zt(e)||(e[y]=S),D=S)}ee[D]=!0}return ee}function Et(ee){const e=Xt(null);for(const[L,k]of Bt(ee))e[L]=k;return e}function Tt(ee,e){for(;ee!==null;){const k=Qt(ee,e);if(k){if(k.get)return Ct(k.get);if(typeof k.value=="function")return Ct(k.value)}ee=Yt(ee)}function L(k){return console.warn("fallback value for",k),null}return L}const Ht=ft(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Pt=ft(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ot=ft(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),si=ft(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ft=ft(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),oi=ft(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),zt=ft(["#text"]),Ut=ft(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),xt=ft(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Kt=ft(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Mt=ft(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ri=bt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ai=bt(/<%[\w\W]*|[\w\W]*%>/gm),li=bt(/\${[\w\W]*}/gm),di=bt(/^data-[\-\w.\u00B7-\uFFFF]/),ci=bt(/^aria-[\-\w]+$/),qt=bt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ui=bt(/^(?:\w+script|data):/i),hi=bt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),jt=bt(/^html$/i);var Gt=Object.freeze({__proto__:null,MUSTACHE_EXPR:ri,ERB_EXPR:ai,TMPLIT_EXPR:li,DATA_ATTR:di,ARIA_ATTR:ci,IS_ALLOWED_URI:qt,IS_SCRIPT_OR_DATA:ui,ATTR_WHITESPACE:hi,DOCTYPE_NAME:jt});const gi=()=>typeof window>"u"?null:window,fi=function(e,L){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let k=null;const y="data-tt-policy-suffix";L&&L.hasAttribute(y)&&(k=L.getAttribute(y));const D="dompurify"+(k?"#"+k:"");try{return e.createPolicy(D,{createHTML(S){return S},createScriptURL(S){return S}})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function $t(){let ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gi();const e=ke=>$t(ke);if(e.version="3.0.5",e.removed=[],!ee||!ee.document||ee.document.nodeType!==9)return e.isSupported=!1,e;const L=ee.document,k=L.currentScript;let{document:y}=ee;const{DocumentFragment:D,HTMLTemplateElement:S,Node:p,Element:w,NodeFilter:v,NamedNodeMap:b=ee.NamedNodeMap||ee.MozNamedAttrMap,HTMLFormElement:a,DOMParser:n,trustedTypes:i}=ee,t=w.prototype,o=Tt(t,"cloneNode"),g=Tt(t,"nextSibling"),m=Tt(t,"childNodes"),c=Tt(t,"parentNode");if(typeof S=="function"){const ke=y.createElement("template");ke.content&&ke.content.ownerDocument&&(y=ke.content.ownerDocument)}let d,s="";const{implementation:l,createNodeIterator:r,createDocumentFragment:h,getElementsByTagName:u}=y,{importNode:f}=L;let C={};e.isSupported=typeof Bt=="function"&&typeof c=="function"&&l&&l.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:_,ERB_EXPR:E,TMPLIT_EXPR:I,DATA_ATTR:T,ARIA_ATTR:A,IS_SCRIPT_OR_DATA:R,ATTR_WHITESPACE:M}=Gt;let{IS_ALLOWED_URI:N}=Gt,P=null;const F=Qe({},[...Ht,...Pt,...Ot,...Ft,...zt]);let O=null;const B=Qe({},[...Ut,...xt,...Kt,...Mt]);let W=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,z=null,K=!0,j=!0,x=!1,re=!0,ie=!1,J=!1,X=!1,Y=!1,le=!1,de=!1,ge=!1,pe=!0,Q=!1;const U="user-content-";let Z=!0,H=!1,q={},te=null;const G=Qe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $=null;const oe=Qe({},["audio","video","img","source","image","track"]);let ae=null;const ue=Qe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ce="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",ve="http://www.w3.org/1999/xhtml";let Ce=ve,Se=!1,_e=null;const Ie=Qe({},[ce,fe,ve],Rt);let Ne;const Oe=["application/xhtml+xml","text/html"],xe="text/html";let We,ye=null;const Me=y.createElement("form"),me=function(Ee){return Ee instanceof RegExp||Ee instanceof Function},be=function(Ee){if(!(ye&&ye===Ee)){if((!Ee||typeof Ee!="object")&&(Ee={}),Ee=Et(Ee),Ne=Oe.indexOf(Ee.PARSER_MEDIA_TYPE)===-1?Ne=xe:Ne=Ee.PARSER_MEDIA_TYPE,We=Ne==="application/xhtml+xml"?Rt:kt,P="ALLOWED_TAGS"in Ee?Qe({},Ee.ALLOWED_TAGS,We):F,O="ALLOWED_ATTR"in Ee?Qe({},Ee.ALLOWED_ATTR,We):B,_e="ALLOWED_NAMESPACES"in Ee?Qe({},Ee.ALLOWED_NAMESPACES,Rt):Ie,ae="ADD_URI_SAFE_ATTR"in Ee?Qe(Et(ue),Ee.ADD_URI_SAFE_ATTR,We):ue,$="ADD_DATA_URI_TAGS"in Ee?Qe(Et(oe),Ee.ADD_DATA_URI_TAGS,We):oe,te="FORBID_CONTENTS"in Ee?Qe({},Ee.FORBID_CONTENTS,We):G,V="FORBID_TAGS"in Ee?Qe({},Ee.FORBID_TAGS,We):{},z="FORBID_ATTR"in Ee?Qe({},Ee.FORBID_ATTR,We):{},q="USE_PROFILES"in Ee?Ee.USE_PROFILES:!1,K=Ee.ALLOW_ARIA_ATTR!==!1,j=Ee.ALLOW_DATA_ATTR!==!1,x=Ee.ALLOW_UNKNOWN_PROTOCOLS||!1,re=Ee.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ie=Ee.SAFE_FOR_TEMPLATES||!1,J=Ee.WHOLE_DOCUMENT||!1,le=Ee.RETURN_DOM||!1,de=Ee.RETURN_DOM_FRAGMENT||!1,ge=Ee.RETURN_TRUSTED_TYPE||!1,Y=Ee.FORCE_BODY||!1,pe=Ee.SANITIZE_DOM!==!1,Q=Ee.SANITIZE_NAMED_PROPS||!1,Z=Ee.KEEP_CONTENT!==!1,H=Ee.IN_PLACE||!1,N=Ee.ALLOWED_URI_REGEXP||qt,Ce=Ee.NAMESPACE||ve,W=Ee.CUSTOM_ELEMENT_HANDLING||{},Ee.CUSTOM_ELEMENT_HANDLING&&me(Ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=Ee.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ee.CUSTOM_ELEMENT_HANDLING&&me(Ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=Ee.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ee.CUSTOM_ELEMENT_HANDLING&&typeof Ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=Ee.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ie&&(j=!1),de&&(le=!0),q&&(P=Qe({},[...zt]),O=[],q.html===!0&&(Qe(P,Ht),Qe(O,Ut)),q.svg===!0&&(Qe(P,Pt),Qe(O,xt),Qe(O,Mt)),q.svgFilters===!0&&(Qe(P,Ot),Qe(O,xt),Qe(O,Mt)),q.mathMl===!0&&(Qe(P,Ft),Qe(O,Kt),Qe(O,Mt))),Ee.ADD_TAGS&&(P===F&&(P=Et(P)),Qe(P,Ee.ADD_TAGS,We)),Ee.ADD_ATTR&&(O===B&&(O=Et(O)),Qe(O,Ee.ADD_ATTR,We)),Ee.ADD_URI_SAFE_ATTR&&Qe(ae,Ee.ADD_URI_SAFE_ATTR,We),Ee.FORBID_CONTENTS&&(te===G&&(te=Et(te)),Qe(te,Ee.FORBID_CONTENTS,We)),Z&&(P["#text"]=!0),J&&Qe(P,["html","head","body"]),P.table&&(Qe(P,["tbody"]),delete V.tbody),Ee.TRUSTED_TYPES_POLICY){if(typeof Ee.TRUSTED_TYPES_POLICY.createHTML!="function")throw It('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ee.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw It('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');d=Ee.TRUSTED_TYPES_POLICY,s=d.createHTML("")}else d===void 0&&(d=fi(i,k)),d!==null&&typeof s=="string"&&(s=d.createHTML(""));ft&&ft(Ee),ye=Ee}},Ae=Qe({},["mi","mo","mn","ms","mtext"]),Be=Qe({},["foreignobject","desc","title","annotation-xml"]),Ke=Qe({},["title","style","font","a","script"]),qe=Qe({},Pt);Qe(qe,Ot),Qe(qe,si);const Ge=Qe({},Ft);Qe(Ge,oi);const st=function(Ee){let Re=c(Ee);(!Re||!Re.tagName)&&(Re={namespaceURI:Ce,tagName:"template"});const Pe=kt(Ee.tagName),He=kt(Re.tagName);return _e[Ee.namespaceURI]?Ee.namespaceURI===fe?Re.namespaceURI===ve?Pe==="svg":Re.namespaceURI===ce?Pe==="svg"&&(He==="annotation-xml"||Ae[He]):!!qe[Pe]:Ee.namespaceURI===ce?Re.namespaceURI===ve?Pe==="math":Re.namespaceURI===fe?Pe==="math"&&Be[He]:!!Ge[Pe]:Ee.namespaceURI===ve?Re.namespaceURI===fe&&!Be[He]||Re.namespaceURI===ce&&!Ae[He]?!1:!Ge[Pe]&&(Ke[Pe]||!qe[Pe]):!!(Ne==="application/xhtml+xml"&&_e[Ee.namespaceURI]):!1},Xe=function(Ee){Dt(e.removed,{element:Ee});try{Ee.parentNode.removeChild(Ee)}catch{Ee.remove()}},ot=function(Ee,Re){try{Dt(e.removed,{attribute:Re.getAttributeNode(Ee),from:Re})}catch{Dt(e.removed,{attribute:null,from:Re})}if(Re.removeAttribute(Ee),Ee==="is"&&!O[Ee])if(le||de)try{Xe(Re)}catch{}else try{Re.setAttribute(Ee,"")}catch{}},nt=function(Ee){let Re,Pe;if(Y)Ee="<remove></remove>"+Ee;else{const Ze=ei(Ee,/^[\r\n\t ]+/);Pe=Ze&&Ze[0]}Ne==="application/xhtml+xml"&&Ce===ve&&(Ee='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ee+"</body></html>");const He=d?d.createHTML(Ee):Ee;if(Ce===ve)try{Re=new n().parseFromString(He,Ne)}catch{}if(!Re||!Re.documentElement){Re=l.createDocument(Ce,"template",null);try{Re.documentElement.innerHTML=Se?s:He}catch{}}const Ue=Re.body||Re.documentElement;return Ee&&Pe&&Ue.insertBefore(y.createTextNode(Pe),Ue.childNodes[0]||null),Ce===ve?u.call(Re,J?"html":"body")[0]:J?Re.documentElement:Ue},rt=function(Ee){return r.call(Ee.ownerDocument||Ee,Ee,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT,null,!1)},at=function(Ee){return Ee instanceof a&&(typeof Ee.nodeName!="string"||typeof Ee.textContent!="string"||typeof Ee.removeChild!="function"||!(Ee.attributes instanceof b)||typeof Ee.removeAttribute!="function"||typeof Ee.setAttribute!="function"||typeof Ee.namespaceURI!="string"||typeof Ee.insertBefore!="function"||typeof Ee.hasChildNodes!="function")},ut=function(Ee){return typeof p=="object"?Ee instanceof p:Ee&&typeof Ee=="object"&&typeof Ee.nodeType=="number"&&typeof Ee.nodeName=="string"},dt=function(Ee,Re,Pe){C[Ee]&&Jt(C[Ee],He=>{He.call(e,Re,Pe,ye)})},vt=function(Ee){let Re;if(dt("beforeSanitizeElements",Ee,null),at(Ee))return Xe(Ee),!0;const Pe=We(Ee.nodeName);if(dt("uponSanitizeElement",Ee,{tagName:Pe,allowedTags:P}),Ee.hasChildNodes()&&!ut(Ee.firstElementChild)&&(!ut(Ee.content)||!ut(Ee.content.firstElementChild))&&pt(/<[/\w]/g,Ee.innerHTML)&&pt(/<[/\w]/g,Ee.textContent))return Xe(Ee),!0;if(!P[Pe]||V[Pe]){if(!V[Pe]&&Le(Pe)&&(W.tagNameCheck instanceof RegExp&&pt(W.tagNameCheck,Pe)||W.tagNameCheck instanceof Function&&W.tagNameCheck(Pe)))return!1;if(Z&&!te[Pe]){const He=c(Ee)||Ee.parentNode,Ue=m(Ee)||Ee.childNodes;if(Ue&&He){const Ze=Ue.length;for(let Ye=Ze-1;Ye>=0;--Ye)He.insertBefore(o(Ue[Ye],!0),g(Ee))}}return Xe(Ee),!0}return Ee instanceof w&&!st(Ee)||(Pe==="noscript"||Pe==="noembed"||Pe==="noframes")&&pt(/<\/no(script|embed|frames)/i,Ee.innerHTML)?(Xe(Ee),!0):(ie&&Ee.nodeType===3&&(Re=Ee.textContent,Re=_t(Re,_," "),Re=_t(Re,E," "),Re=_t(Re,I," "),Ee.textContent!==Re&&(Dt(e.removed,{element:Ee.cloneNode()}),Ee.textContent=Re)),dt("afterSanitizeElements",Ee,null),!1)},mt=function(Ee,Re,Pe){if(pe&&(Re==="id"||Re==="name")&&(Pe in y||Pe in Me))return!1;if(!(j&&!z[Re]&&pt(T,Re))){if(!(K&&pt(A,Re))){if(!O[Re]||z[Re]){if(!(Le(Ee)&&(W.tagNameCheck instanceof RegExp&&pt(W.tagNameCheck,Ee)||W.tagNameCheck instanceof Function&&W.tagNameCheck(Ee))&&(W.attributeNameCheck instanceof RegExp&&pt(W.attributeNameCheck,Re)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(Re))||Re==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&pt(W.tagNameCheck,Pe)||W.tagNameCheck instanceof Function&&W.tagNameCheck(Pe))))return!1}else if(!ae[Re]){if(!pt(N,_t(Pe,M,""))){if(!((Re==="src"||Re==="xlink:href"||Re==="href")&&Ee!=="script"&&ti(Pe,"data:")===0&&$[Ee])){if(!(x&&!pt(R,_t(Pe,M,"")))){if(Pe)return!1}}}}}}return!0},Le=function(Ee){return Ee.indexOf("-")>0},we=function(Ee){let Re,Pe,He,Ue;dt("beforeSanitizeAttributes",Ee,null);const{attributes:Ze}=Ee;if(!Ze)return;const Ye={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O};for(Ue=Ze.length;Ue--;){Re=Ze[Ue];const{name:$e,namespaceURI:Fe}=Re;if(Pe=$e==="value"?Re.value:ii(Re.value),He=We($e),Ye.attrName=He,Ye.attrValue=Pe,Ye.keepAttr=!0,Ye.forceKeepAttr=void 0,dt("uponSanitizeAttribute",Ee,Ye),Pe=Ye.attrValue,Ye.forceKeepAttr||(ot($e,Ee),!Ye.keepAttr))continue;if(!re&&pt(/\/>/i,Pe)){ot($e,Ee);continue}ie&&(Pe=_t(Pe,_," "),Pe=_t(Pe,E," "),Pe=_t(Pe,I," "));const Ve=We(Ee.nodeName);if(mt(Ve,He,Pe)){if(Q&&(He==="id"||He==="name")&&(ot($e,Ee),Pe=U+Pe),d&&typeof i=="object"&&typeof i.getAttributeType=="function"&&!Fe)switch(i.getAttributeType(Ve,He)){case"TrustedHTML":{Pe=d.createHTML(Pe);break}case"TrustedScriptURL":{Pe=d.createScriptURL(Pe);break}}try{Fe?Ee.setAttributeNS(Fe,$e,Pe):Ee.setAttribute($e,Pe),Vt(e.removed)}catch{}}}dt("afterSanitizeAttributes",Ee,null)},Te=function ke(Ee){let Re;const Pe=rt(Ee);for(dt("beforeSanitizeShadowDOM",Ee,null);Re=Pe.nextNode();)dt("uponSanitizeShadowNode",Re,null),!vt(Re)&&(Re.content instanceof D&&ke(Re.content),we(Re));dt("afterSanitizeShadowDOM",Ee,null)};return e.sanitize=function(ke){let Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re,Pe,He,Ue;if(Se=!ke,Se&&(ke="<!-->"),typeof ke!="string"&&!ut(ke))if(typeof ke.toString=="function"){if(ke=ke.toString(),typeof ke!="string")throw It("dirty is not a string, aborting")}else throw It("toString is not a function");if(!e.isSupported)return ke;if(X||be(Ee),e.removed=[],typeof ke=="string"&&(H=!1),H){if(ke.nodeName){const $e=We(ke.nodeName);if(!P[$e]||V[$e])throw It("root node is forbidden and cannot be sanitized in-place")}}else if(ke instanceof p)Re=nt("<!---->"),Pe=Re.ownerDocument.importNode(ke,!0),Pe.nodeType===1&&Pe.nodeName==="BODY"||Pe.nodeName==="HTML"?Re=Pe:Re.appendChild(Pe);else{if(!le&&!ie&&!J&&ke.indexOf("<")===-1)return d&&ge?d.createHTML(ke):ke;if(Re=nt(ke),!Re)return le?null:ge?s:""}Re&&Y&&Xe(Re.firstChild);const Ze=rt(H?ke:Re);for(;He=Ze.nextNode();)vt(He)||(He.content instanceof D&&Te(He.content),we(He));if(H)return ke;if(le){if(de)for(Ue=h.call(Re.ownerDocument);Re.firstChild;)Ue.appendChild(Re.firstChild);else Ue=Re;return(O.shadowroot||O.shadowrootmode)&&(Ue=f.call(L,Ue,!0)),Ue}let Ye=J?Re.outerHTML:Re.innerHTML;return J&&P["!doctype"]&&Re.ownerDocument&&Re.ownerDocument.doctype&&Re.ownerDocument.doctype.name&&pt(jt,Re.ownerDocument.doctype.name)&&(Ye="<!DOCTYPE "+Re.ownerDocument.doctype.name+`>
`+Ye),ie&&(Ye=_t(Ye,_," "),Ye=_t(Ye,E," "),Ye=_t(Ye,I," ")),d&&ge?d.createHTML(Ye):Ye},e.setConfig=function(ke){be(ke),X=!0},e.clearConfig=function(){ye=null,X=!1},e.isValidAttribute=function(ke,Ee,Re){ye||be({});const Pe=We(ke),He=We(Ee);return mt(Pe,He,Re)},e.addHook=function(ke,Ee){typeof Ee=="function"&&(C[ke]=C[ke]||[],Dt(C[ke],Ee))},e.removeHook=function(ke){if(C[ke])return Vt(C[ke])},e.removeHooks=function(ke){C[ke]&&(C[ke]=[])},e.removeAllHooks=function(){C={}},e}var mi=$t();define("vs/base/browser/dompurify/dompurify",function(){return mi}),define(ne[41],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class L{constructor(S){this.domNode=S,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(S){const p=k(S);this._maxWidth!==p&&(this._maxWidth=p,this.domNode.style.maxWidth=this._maxWidth)}setWidth(S){const p=k(S);this._width!==p&&(this._width=p,this.domNode.style.width=this._width)}setHeight(S){const p=k(S);this._height!==p&&(this._height=p,this.domNode.style.height=this._height)}setTop(S){const p=k(S);this._top!==p&&(this._top=p,this.domNode.style.top=this._top)}setLeft(S){const p=k(S);this._left!==p&&(this._left=p,this.domNode.style.left=this._left)}setBottom(S){const p=k(S);this._bottom!==p&&(this._bottom=p,this.domNode.style.bottom=this._bottom)}setRight(S){const p=k(S);this._right!==p&&(this._right=p,this.domNode.style.right=this._right)}setPaddingLeft(S){const p=k(S);this._paddingLeft!==p&&(this._paddingLeft=p,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(S){this._fontFamily!==S&&(this._fontFamily=S,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(S){this._fontWeight!==S&&(this._fontWeight=S,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(S){const p=k(S);this._fontSize!==p&&(this._fontSize=p,this.domNode.style.fontSize=this._fontSize)}setFontStyle(S){this._fontStyle!==S&&(this._fontStyle=S,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(S){this._fontFeatureSettings!==S&&(this._fontFeatureSettings=S,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(S){this._fontVariationSettings!==S&&(this._fontVariationSettings=S,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(S){this._textDecoration!==S&&(this._textDecoration=S,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(S){const p=k(S);this._lineHeight!==p&&(this._lineHeight=p,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(S){const p=k(S);this._letterSpacing!==p&&(this._letterSpacing=p,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(S){this._className!==S&&(this._className=S,this.domNode.className=this._className)}toggleClassName(S,p){this.domNode.classList.toggle(S,p),this._className=this.domNode.className}setDisplay(S){this._display!==S&&(this._display=S,this.domNode.style.display=this._display)}setPosition(S){this._position!==S&&(this._position=S,this.domNode.style.position=this._position)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this.domNode.style.visibility=this._visibility)}setColor(S){this._color!==S&&(this._color=S,this.domNode.style.color=this._color)}setBackgroundColor(S){this._backgroundColor!==S&&(this._backgroundColor=S,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(S){this._layerHint!==S&&(this._layerHint=S,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(S){this._boxShadow!==S&&(this._boxShadow=S,this.domNode.style.boxShadow=S)}setContain(S){this._contain!==S&&(this._contain=S,this.domNode.style.contain=this._contain)}setAttribute(S,p){this.domNode.setAttribute(S,p)}removeAttribute(S){this.domNode.removeAttribute(S)}appendChild(S){this.domNode.appendChild(S.domNode)}removeChild(S){this.domNode.removeChild(S.domNode)}}e.FastDomNode=L;function k(D){return typeof D=="number"?`${D}px`:D}function y(D){return new L(D)}e.createFastDomNode=y}),define(ne[401],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;const L=new WeakMap;function k(D){if(!D.parent||D.parent===D)return null;try{const S=D.location,p=D.parent.location;if(S.origin!=="null"&&p.origin!=="null"&&S.origin!==p.origin)return null}catch{return null}return D.parent}class y{static getSameOriginWindowChain(S){let p=L.get(S);if(!p){p=[],L.set(S,p);let w=S,v;do v=k(w),v?p.push({window:new WeakRef(w),iframeElement:w.frameElement||null}):p.push({window:new WeakRef(w),iframeElement:null}),w=v;while(w)}return p.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(S,p){var w,v;if(!p||S===p)return{top:0,left:0};let b=0,a=0;const n=this.getSameOriginWindowChain(S);for(const i of n){const t=i.window.deref();if(b+=(w=t?.scrollY)!==null&&w!==void 0?w:0,a+=(v=t?.scrollX)!==null&&v!==void 0?v:0,t===p||!i.iframeElement)break;const o=i.iframeElement.getBoundingClientRect();b+=o.top,a+=o.left}return{top:b,left:a}}}e.IframeUtils=y}),define(ne[273],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputLatency=void 0;var L;(function(k){const y={total:0,min:Number.MAX_VALUE,max:0},D={...y},S={...y},p={...y};let w=0;const v={keydown:0,input:0,render:0};function b(){s(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),v.keydown=1,queueMicrotask(a)}k.onKeyDown=b;function a(){v.keydown===1&&(performance.mark("keydown/end"),v.keydown=2)}function n(){performance.mark("input/start"),v.input=1,d()}k.onBeforeInput=n;function i(){v.input===0&&n(),queueMicrotask(t)}k.onInput=i;function t(){v.input===1&&(performance.mark("input/end"),v.input=2)}function o(){s()}k.onKeyUp=o;function g(){s()}k.onSelectionChange=g;function m(){v.keydown===2&&v.input===2&&v.render===0&&(performance.mark("render/start"),v.render=1,queueMicrotask(c),d())}k.onRenderStart=m;function c(){v.render===1&&(performance.mark("render/end"),v.render=2)}function d(){setTimeout(s)}function s(){v.keydown===2&&v.input===2&&v.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),l("keydown",y),l("input",D),l("render",S),l("inputlatency",p),w++,r())}function l(C,_){const E=performance.getEntriesByName(C)[0].duration;_.total+=E,_.min=Math.min(_.min,E),_.max=Math.max(_.max,E)}function r(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),v.keydown=0,v.input=0,v.render=0}function h(){if(w===0)return;const C={keydown:u(y),input:u(D),render:u(S),total:u(p),sampleCount:w};return f(y),f(D),f(S),f(p),w=0,C}k.getAndClearMeasurements=h;function u(C){return{average:C.total/w,max:C.max,min:C.min}}function f(C){C.total=0,C.min=Number.MAX_VALUE,C.max=0}})(L||(e.inputLatency=L={}))}),define(ne[402],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class L extends Error{constructor(y,D){super(`ListError [${y}] ${D}`)}}e.ListError=L}),define(ne[403],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class L{constructor(y){this.spliceables=y}splice(y,D,S){this.spliceables.forEach(p=>p.splice(y,D,S))}}e.CombinedSpliceable=L}),define(ne[203],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const L=20;class k{constructor(D,S,p,w,v,b){this._scrollbarSize=Math.round(S),this._oppositeScrollbarSize=Math.round(p),this._arrowSize=Math.round(D),this._visibleSize=w,this._scrollSize=v,this._scrollPosition=b,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(D){const S=Math.round(D);return this._visibleSize!==S?(this._visibleSize=S,this._refreshComputedValues(),!0):!1}setScrollSize(D){const S=Math.round(D);return this._scrollSize!==S?(this._scrollSize=S,this._refreshComputedValues(),!0):!1}setScrollPosition(D){const S=Math.round(D);return this._scrollPosition!==S?(this._scrollPosition=S,this._refreshComputedValues(),!0):!1}setScrollbarSize(D){this._scrollbarSize=Math.round(D)}setOppositeScrollbarSize(D){this._oppositeScrollbarSize=Math.round(D)}static _computeValues(D,S,p,w,v){const b=Math.max(0,p-D),a=Math.max(0,b-2*S),n=w>0&&w>p;if(!n)return{computedAvailableSize:Math.round(b),computedIsNeeded:n,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const i=Math.round(Math.max(L,Math.floor(p*a/w))),t=(a-i)/(w-p),o=v*t;return{computedAvailableSize:Math.round(b),computedIsNeeded:n,computedSliderSize:Math.round(i),computedSliderRatio:t,computedSliderPosition:Math.round(o)}}_refreshComputedValues(){const D=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=D.computedAvailableSize,this._computedIsNeeded=D.computedIsNeeded,this._computedSliderSize=D.computedSliderSize,this._computedSliderRatio=D.computedSliderRatio,this._computedSliderPosition=D.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize-this._computedSliderSize/2;return Math.round(S/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(D){if(!this._computedIsNeeded)return 0;const S=D-this._arrowSize;let p=this._scrollPosition;return S<this._computedSliderPosition?p-=this._visibleSize:p+=this._visibleSize,p}getDesiredScrollPositionFromDelta(D){if(!this._computedIsNeeded)return 0;const S=this._computedSliderPosition+D;return Math.round(S/this._computedSliderRatio)}}e.ScrollbarState=k}),define(ne[148],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=e.ObjectTreeElementCollapseState=void 0;var L;(function(S){S[S.Expanded=0]="Expanded",S[S.Collapsed=1]="Collapsed",S[S.PreserveOrExpanded=2]="PreserveOrExpanded",S[S.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(L||(e.ObjectTreeElementCollapseState=L={}));var k;(function(S){S[S.Unknown=0]="Unknown",S[S.Twistie=1]="Twistie",S[S.Element=2]="Element",S[S.Filter=3]="Filter"})(k||(e.TreeMouseEventTarget=k={}));class y extends Error{constructor(p,w){super(`TreeError [${p}] ${w}`)}}e.TreeError=y;class D{constructor(p){this.fn=p,this._map=new WeakMap}map(p){let w=this._map.get(p);return w||(w=this.fn(p),this._map.set(p,w)),w}}e.WeakMapper=D}),define(ne[50],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$window=e.mainWindow=e.ensureCodeWindow=void 0;function L(k,y){const D=k;typeof D.vscodeWindowId!="number"&&Object.defineProperty(D,"vscodeWindowId",{get:()=>y})}e.ensureCodeWindow=L,e.mainWindow=window,e.$window=e.mainWindow}),define(ne[59],se([1,0,50]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.addMatchMediaChangeListener=void 0;class k{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(b){var a;return(a=this.mapWindowIdToZoomFactor.get(this.getWindowId(b)))!==null&&a!==void 0?a:1}getWindowId(b){return b.vscodeWindowId}}k.INSTANCE=new k;function y(v,b,a){typeof b=="string"&&(b=v.matchMedia(b)),b.addEventListener("change",a)}e.addMatchMediaChangeListener=y;function D(v){return k.INSTANCE.getZoomFactor(v)}e.getZoomFactor=D;const S=navigator.userAgent;e.isFirefox=S.indexOf("Firefox")>=0,e.isWebKit=S.indexOf("AppleWebKit")>=0,e.isChrome=S.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&S.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=S.indexOf("Electron/")>=0,e.isAndroid=S.indexOf("Android")>=0;let p=!1;if(typeof L.mainWindow.matchMedia=="function"){const v=L.mainWindow.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),b=L.mainWindow.matchMedia("(display-mode: fullscreen)");p=v.matches,y(L.mainWindow,v,({matches:a})=>{p&&b.matches||(p=a)})}function w(){return p}e.isStandalone=w}),define(ne[13],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CallbackIterable=e.ArrayQueue=e.reverseOrder=e.booleanComparator=e.numberComparator=e.tieBreakComparators=e.compareBy=e.CompareResult=e.splice=e.insertInto=e.asArray=e.pushMany=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.firstOrDefault=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesceInPlace=e.coalesce=e.forEachWithNeighbors=e.forEachAdjacent=e.groupAdjacentBy=e.groupBy=e.quickSelect=e.binarySearch2=e.binarySearch=e.removeFastWithoutKeepingOrder=e.equals=e.tail2=e.tail=void 0;function L(F,O=0){return F[F.length-(1+O)]}e.tail=L;function k(F){if(F.length===0)throw new Error("Invalid tail call");return[F.slice(0,F.length-1),F[F.length-1]]}e.tail2=k;function y(F,O,B=(W,V)=>W===V){if(F===O)return!0;if(!F||!O||F.length!==O.length)return!1;for(let W=0,V=F.length;W<V;W++)if(!B(F[W],O[W]))return!1;return!0}e.equals=y;function D(F,O){const B=F.length-1;O<B&&(F[O]=F[B]),F.pop()}e.removeFastWithoutKeepingOrder=D;function S(F,O,B){return p(F.length,W=>B(F[W],O))}e.binarySearch=S;function p(F,O){let B=0,W=F-1;for(;B<=W;){const V=(B+W)/2|0,z=O(V);if(z<0)B=V+1;else if(z>0)W=V-1;else return V}return-(B+1)}e.binarySearch2=p;function w(F,O,B){if(F=F|0,F>=O.length)throw new TypeError("invalid index");const W=O[Math.floor(O.length*Math.random())],V=[],z=[],K=[];for(const j of O){const x=B(j,W);x<0?V.push(j):x>0?z.push(j):K.push(j)}return F<V.length?w(F,V,B):F<V.length+K.length?K[0]:w(F-(V.length+K.length),z,B)}e.quickSelect=w;function v(F,O){const B=[];let W;for(const V of F.slice(0).sort(O))!W||O(W[0],V)!==0?(W=[V],B.push(W)):W.push(V);return B}e.groupBy=v;function*b(F,O){let B,W;for(const V of F)W!==void 0&&O(W,V)?B.push(V):(B&&(yield B),B=[V]),W=V;B&&(yield B)}e.groupAdjacentBy=b;function a(F,O){for(let B=0;B<=F.length;B++)O(B===0?void 0:F[B-1],B===F.length?void 0:F[B])}e.forEachAdjacent=a;function n(F,O){for(let B=0;B<F.length;B++)O(B===0?void 0:F[B-1],F[B],B+1===F.length?void 0:F[B+1])}e.forEachWithNeighbors=n;function i(F){return F.filter(O=>!!O)}e.coalesce=i;function t(F){let O=0;for(let B=0;B<F.length;B++)F[B]&&(F[O]=F[B],O+=1);F.length=O}e.coalesceInPlace=t;function o(F){return!Array.isArray(F)||F.length===0}e.isFalsyOrEmpty=o;function g(F){return Array.isArray(F)&&F.length>0}e.isNonEmptyArray=g;function m(F,O=B=>B){const B=new Set;return F.filter(W=>{const V=O(W);return B.has(V)?!1:(B.add(V),!0)})}e.distinct=m;function c(F,O){return F.length>0?F[0]:O}e.firstOrDefault=c;function d(F,O){let B=typeof O=="number"?F:0;typeof O=="number"?B=F:(B=0,O=F);const W=[];if(B<=O)for(let V=B;V<O;V++)W.push(V);else for(let V=B;V>O;V--)W.push(V);return W}e.range=d;function s(F,O,B){const W=F.slice(0,O),V=F.slice(O);return W.concat(B,V)}e.arrayInsert=s;function l(F,O){const B=F.indexOf(O);B>-1&&(F.splice(B,1),F.unshift(O))}e.pushToStart=l;function r(F,O){const B=F.indexOf(O);B>-1&&(F.splice(B,1),F.push(O))}e.pushToEnd=r;function h(F,O){for(const B of O)F.push(B)}e.pushMany=h;function u(F){return Array.isArray(F)?F:[F]}e.asArray=u;function f(F,O,B){const W=_(F,O),V=F.length,z=B.length;F.length=V+z;for(let K=V-1;K>=W;K--)F[K+z]=F[K];for(let K=0;K<z;K++)F[K+W]=B[K]}e.insertInto=f;function C(F,O,B,W){const V=_(F,O);let z=F.splice(V,B);return z===void 0&&(z=[]),f(F,V,W),z}e.splice=C;function _(F,O){return O<0?Math.max(O+F.length,0):Math.min(O,F.length)}var E;(function(F){function O(z){return z<0}F.isLessThan=O;function B(z){return z<=0}F.isLessThanOrEqual=B;function W(z){return z>0}F.isGreaterThan=W;function V(z){return z===0}F.isNeitherLessOrGreaterThan=V,F.greaterThan=1,F.lessThan=-1,F.neitherLessOrGreaterThan=0})(E||(e.CompareResult=E={}));function I(F,O){return(B,W)=>O(F(B),F(W))}e.compareBy=I;function T(...F){return(O,B)=>{for(const W of F){const V=W(O,B);if(!E.isNeitherLessOrGreaterThan(V))return V}return E.neitherLessOrGreaterThan}}e.tieBreakComparators=T;const A=(F,O)=>F-O;e.numberComparator=A;const R=(F,O)=>(0,e.numberComparator)(F?1:0,O?1:0);e.booleanComparator=R;function M(F){return(O,B)=>-F(O,B)}e.reverseOrder=M;class N{constructor(O){this.items=O,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(O){let B=this.firstIdx;for(;B<this.items.length&&O(this.items[B]);)B++;const W=B===this.firstIdx?null:this.items.slice(this.firstIdx,B);return this.firstIdx=B,W}takeFromEndWhile(O){let B=this.lastIdx;for(;B>=0&&O(this.items[B]);)B--;const W=B===this.lastIdx?null:this.items.slice(B+1,this.lastIdx+1);return this.lastIdx=B,W}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const O=this.items[this.firstIdx];return this.firstIdx++,O}takeCount(O){const B=this.items.slice(this.firstIdx,this.firstIdx+O);return this.firstIdx+=O,B}}e.ArrayQueue=N;class P{constructor(O){this.iterate=O}toArray(){const O=[];return this.iterate(B=>(O.push(B),!0)),O}filter(O){return new P(B=>this.iterate(W=>O(W)?B(W):!0))}map(O){return new P(B=>this.iterate(W=>B(O(W))))}findLast(O){let B;return this.iterate(W=>(O(W)&&(B=W),!0)),B}findLastMaxBy(O){let B,W=!0;return this.iterate(V=>((W||E.isGreaterThan(O(V,B)))&&(W=!1,B=V),!0)),B}}e.CallbackIterable=P,P.empty=new P(F=>{})}),define(ne[62],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapFindFirst=e.findMaxIdxBy=e.findFirstMinBy=e.findLastMaxBy=e.findFirstMaxBy=e.MonotonousArray=e.findFirstIdxMonotonousOrArrLen=e.findFirstMonotonous=e.findLastIdxMonotonous=e.findLastMonotonous=e.findLastIdx=e.findLast=void 0;function L(t,o,g){const m=k(t,o);if(m!==-1)return t[m]}e.findLast=L;function k(t,o,g=t.length-1){for(let m=g;m>=0;m--){const c=t[m];if(o(c))return m}return-1}e.findLastIdx=k;function y(t,o){const g=D(t,o);return g===-1?void 0:t[g]}e.findLastMonotonous=y;function D(t,o,g=0,m=t.length){let c=g,d=m;for(;c<d;){const s=Math.floor((c+d)/2);o(t[s])?c=s+1:d=s}return c-1}e.findLastIdxMonotonous=D;function S(t,o){const g=p(t,o);return g===t.length?void 0:t[g]}e.findFirstMonotonous=S;function p(t,o,g=0,m=t.length){let c=g,d=m;for(;c<d;){const s=Math.floor((c+d)/2);o(t[s])?d=s:c=s+1}return c}e.findFirstIdxMonotonousOrArrLen=p;class w{constructor(o){this._array=o,this._findLastMonotonousLastIdx=0}findLastMonotonous(o){if(w.assertInvariants){if(this._prevFindLastPredicate){for(const m of this._array)if(this._prevFindLastPredicate(m)&&!o(m))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=o}const g=D(this._array,o,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=g+1,g===-1?void 0:this._array[g]}}e.MonotonousArray=w,w.assertInvariants=!1;function v(t,o){if(t.length===0)return;let g=t[0];for(let m=1;m<t.length;m++){const c=t[m];o(c,g)>0&&(g=c)}return g}e.findFirstMaxBy=v;function b(t,o){if(t.length===0)return;let g=t[0];for(let m=1;m<t.length;m++){const c=t[m];o(c,g)>=0&&(g=c)}return g}e.findLastMaxBy=b;function a(t,o){return v(t,(g,m)=>-o(g,m))}e.findFirstMinBy=a;function n(t,o){if(t.length===0)return-1;let g=0;for(let m=1;m<t.length;m++){const c=t[m];o(c,t[g])>0&&(g=m)}return g}e.findMaxIdxBy=n;function i(t,o){for(const g of t){const m=o(g);if(m!==void 0)return m}}e.mapFindFirst=i}),define(ne[274],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class L{constructor(D){this.fn=D,this.lastCache=void 0,this.lastArgKey=void 0}get(D){const S=JSON.stringify(D);return this.lastArgKey!==S&&(this.lastArgKey=S,this.lastCache=this.fn(D)),this.lastCache}}e.LRUCachedFunction=L;class k{get cachedValues(){return this._map}constructor(D){this.fn=D,this._map=new Map}get(D){if(this._map.has(D))return this._map.get(D);const S=this.fn(D);return this._map.set(D,S),S}}e.CachedFunction=k}),define(ne[275],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intersection=e.diffSets=void 0;function L(y,D){const S=[],p=[];for(const w of y)D.has(w)||S.push(w);for(const w of D)y.has(w)||p.push(w);return{removed:S,added:p}}e.diffSets=L;function k(y,D){const S=new Set;for(const p of D)y.has(p)&&S.add(p);return S}e.intersection=k}),define(ne[39],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function L(p,w){const v=Math.pow(10,w);return Math.round(p*v)/v}class k{constructor(w,v,b,a=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,w))|0,this.g=Math.min(255,Math.max(0,v))|0,this.b=Math.min(255,Math.max(0,b))|0,this.a=L(Math.max(Math.min(1,a),0),3)}static equals(w,v){return w.r===v.r&&w.g===v.g&&w.b===v.b&&w.a===v.a}}e.RGBA=k;class y{constructor(w,v,b,a){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,w),0)|0,this.s=L(Math.max(Math.min(1,v),0),3),this.l=L(Math.max(Math.min(1,b),0),3),this.a=L(Math.max(Math.min(1,a),0),3)}static equals(w,v){return w.h===v.h&&w.s===v.s&&w.l===v.l&&w.a===v.a}static fromRGBA(w){const v=w.r/255,b=w.g/255,a=w.b/255,n=w.a,i=Math.max(v,b,a),t=Math.min(v,b,a);let o=0,g=0;const m=(t+i)/2,c=i-t;if(c>0){switch(g=Math.min(m<=.5?c/(2*m):c/(2-2*m),1),i){case v:o=(b-a)/c+(b<a?6:0);break;case b:o=(a-v)/c+2;break;case a:o=(v-b)/c+4;break}o*=60,o=Math.round(o)}return new y(o,g,m,n)}static _hue2rgb(w,v,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?w+(v-w)*6*b:b<1/2?v:b<2/3?w+(v-w)*(2/3-b)*6:w}static toRGBA(w){const v=w.h/360,{s:b,l:a,a:n}=w;let i,t,o;if(b===0)i=t=o=a;else{const g=a<.5?a*(1+b):a+b-a*b,m=2*a-g;i=y._hue2rgb(m,g,v+1/3),t=y._hue2rgb(m,g,v),o=y._hue2rgb(m,g,v-1/3)}return new k(Math.round(i*255),Math.round(t*255),Math.round(o*255),n)}}e.HSLA=y;class D{constructor(w,v,b,a){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,w),0)|0,this.s=L(Math.max(Math.min(1,v),0),3),this.v=L(Math.max(Math.min(1,b),0),3),this.a=L(Math.max(Math.min(1,a),0),3)}static equals(w,v){return w.h===v.h&&w.s===v.s&&w.v===v.v&&w.a===v.a}static fromRGBA(w){const v=w.r/255,b=w.g/255,a=w.b/255,n=Math.max(v,b,a),i=Math.min(v,b,a),t=n-i,o=n===0?0:t/n;let g;return t===0?g=0:n===v?g=((b-a)/t%6+6)%6:n===b?g=(a-v)/t+2:g=(v-b)/t+4,new D(Math.round(g*60),o,n,w.a)}static toRGBA(w){const{h:v,s:b,v:a,a:n}=w,i=a*b,t=i*(1-Math.abs(v/60%2-1)),o=a-i;let[g,m,c]=[0,0,0];return v<60?(g=i,m=t):v<120?(g=t,m=i):v<180?(m=i,c=t):v<240?(m=t,c=i):v<300?(g=t,c=i):v<=360&&(g=i,c=t),g=Math.round((g+o)*255),m=Math.round((m+o)*255),c=Math.round((c+o)*255),new k(g,m,c,n)}}e.HSVA=D;class S{static fromHex(w){return S.Format.CSS.parseHex(w)||S.red}static equals(w,v){return!w&&!v?!0:!w||!v?!1:w.equals(v)}get hsla(){return this._hsla?this._hsla:y.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}constructor(w){if(w)if(w instanceof k)this.rgba=w;else if(w instanceof y)this._hsla=w,this.rgba=y.toRGBA(w);else if(w instanceof D)this._hsva=w,this.rgba=D.toRGBA(w);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(w){return!!w&&k.equals(this.rgba,w.rgba)&&y.equals(this.hsla,w.hsla)&&D.equals(this.hsva,w.hsva)}getRelativeLuminance(){const w=S._relativeLuminanceForComponent(this.rgba.r),v=S._relativeLuminanceForComponent(this.rgba.g),b=S._relativeLuminanceForComponent(this.rgba.b),a=.2126*w+.7152*v+.0722*b;return L(a,4)}static _relativeLuminanceForComponent(w){const v=w/255;return v<=.03928?v/12.92:Math.pow((v+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(w){const v=this.getRelativeLuminance(),b=w.getRelativeLuminance();return v>b}isDarkerThan(w){const v=this.getRelativeLuminance(),b=w.getRelativeLuminance();return v<b}lighten(w){return new S(new y(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*w,this.hsla.a))}darken(w){return new S(new y(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*w,this.hsla.a))}transparent(w){const{r:v,g:b,b:a,a:n}=this.rgba;return new S(new k(v,b,a,n*w))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new S(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(w){if(this.isOpaque()||w.rgba.a!==1)return this;const{r:v,g:b,b:a,a:n}=this.rgba;return new S(new k(w.rgba.r-n*(w.rgba.r-v),w.rgba.g-n*(w.rgba.g-b),w.rgba.b-n*(w.rgba.b-a),1))}toString(){return this._toString||(this._toString=S.Format.CSS.format(this)),this._toString}static getLighterColor(w,v,b){if(w.isLighterThan(v))return w;b=b||.5;const a=w.getRelativeLuminance(),n=v.getRelativeLuminance();return b=b*(n-a)/n,w.lighten(b)}static getDarkerColor(w,v,b){if(w.isDarkerThan(v))return w;b=b||.5;const a=w.getRelativeLuminance(),n=v.getRelativeLuminance();return b=b*(a-n)/a,w.darken(b)}}e.Color=S,S.white=new S(new k(255,255,255,1)),S.black=new S(new k(0,0,0,1)),S.red=new S(new k(255,0,0,1)),S.blue=new S(new k(0,0,255,1)),S.green=new S(new k(0,255,0,1)),S.cyan=new S(new k(0,255,255,1)),S.lightgrey=new S(new k(211,211,211,1)),S.transparent=new S(new k(0,0,0,0)),function(p){let w;(function(v){let b;(function(a){function n(r){return r.rgba.a===1?`rgb(${r.rgba.r}, ${r.rgba.g}, ${r.rgba.b})`:p.Format.CSS.formatRGBA(r)}a.formatRGB=n;function i(r){return`rgba(${r.rgba.r}, ${r.rgba.g}, ${r.rgba.b}, ${+r.rgba.a.toFixed(2)})`}a.formatRGBA=i;function t(r){return r.hsla.a===1?`hsl(${r.hsla.h}, ${(r.hsla.s*100).toFixed(2)}%, ${(r.hsla.l*100).toFixed(2)}%)`:p.Format.CSS.formatHSLA(r)}a.formatHSL=t;function o(r){return`hsla(${r.hsla.h}, ${(r.hsla.s*100).toFixed(2)}%, ${(r.hsla.l*100).toFixed(2)}%, ${r.hsla.a.toFixed(2)})`}a.formatHSLA=o;function g(r){const h=r.toString(16);return h.length!==2?"0"+h:h}function m(r){return`#${g(r.rgba.r)}${g(r.rgba.g)}${g(r.rgba.b)}`}a.formatHex=m;function c(r,h=!1){return h&&r.rgba.a===1?p.Format.CSS.formatHex(r):`#${g(r.rgba.r)}${g(r.rgba.g)}${g(r.rgba.b)}${g(Math.round(r.rgba.a*255))}`}a.formatHexA=c;function d(r){return r.isOpaque()?p.Format.CSS.formatHex(r):p.Format.CSS.formatRGBA(r)}a.format=d;function s(r){const h=r.length;if(h===0||r.charCodeAt(0)!==35)return null;if(h===7){const u=16*l(r.charCodeAt(1))+l(r.charCodeAt(2)),f=16*l(r.charCodeAt(3))+l(r.charCodeAt(4)),C=16*l(r.charCodeAt(5))+l(r.charCodeAt(6));return new p(new k(u,f,C,1))}if(h===9){const u=16*l(r.charCodeAt(1))+l(r.charCodeAt(2)),f=16*l(r.charCodeAt(3))+l(r.charCodeAt(4)),C=16*l(r.charCodeAt(5))+l(r.charCodeAt(6)),_=16*l(r.charCodeAt(7))+l(r.charCodeAt(8));return new p(new k(u,f,C,_/255))}if(h===4){const u=l(r.charCodeAt(1)),f=l(r.charCodeAt(2)),C=l(r.charCodeAt(3));return new p(new k(16*u+u,16*f+f,16*C+C))}if(h===5){const u=l(r.charCodeAt(1)),f=l(r.charCodeAt(2)),C=l(r.charCodeAt(3)),_=l(r.charCodeAt(4));return new p(new k(16*u+u,16*f+f,16*C+C,(16*_+_)/255))}return null}a.parseHex=s;function l(r){switch(r){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(b=v.CSS||(v.CSS={}))})(w=p.Format||(p.Format={}))}(S||(e.Color=S={}))}),define(ne[111],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function L(k,y,D){let S=null,p=null;if(typeof D.value=="function"?(S="value",p=D.value,p.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(S="get",p=D.get),!p)throw new Error("not supported");const w=`$memoize$${y}`;D[S]=function(...v){return this.hasOwnProperty(w)||Object.defineProperty(this,w,{configurable:!1,enumerable:!1,writable:!1,value:p.apply(this,v)}),this[w]}}e.memoize=L}),define(ne[404],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class L{constructor(y,D,S,p){this.originalStart=y,this.originalLength=D,this.modifiedStart=S,this.modifiedLength=p}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=L}),define(ne[12],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class L{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(g){setTimeout(()=>{throw g.stack?i.isErrorNoTelemetry(g)?new i(g.message+`

`+g.stack):new Error(g.message+`

`+g.stack):g},0)}}emit(g){this.listeners.forEach(m=>{m(g)})}onUnexpectedError(g){this.unexpectedErrorHandler(g),this.emit(g)}onUnexpectedExternalError(g){this.unexpectedErrorHandler(g)}}e.ErrorHandler=L,e.errorHandler=new L;function k(o){p(o)||e.errorHandler.onUnexpectedError(o)}e.onUnexpectedError=k;function y(o){p(o)||e.errorHandler.onUnexpectedExternalError(o)}e.onUnexpectedExternalError=y;function D(o){if(o instanceof Error){const{name:g,message:m}=o,c=o.stacktrace||o.stack;return{$isError:!0,name:g,message:m,stack:c,noTelemetry:i.isErrorNoTelemetry(o)}}return o}e.transformErrorForSerialization=D;const S="Canceled";function p(o){return o instanceof w?!0:o instanceof Error&&o.name===S&&o.message===S}e.isCancellationError=p;class w extends Error{constructor(){super(S),this.name=this.message}}e.CancellationError=w;function v(){const o=new Error(S);return o.name=o.message,o}e.canceled=v;function b(o){return o?new Error(`Illegal argument: ${o}`):new Error("Illegal argument")}e.illegalArgument=b;function a(o){return o?new Error(`Illegal state: ${o}`):new Error("Illegal state")}e.illegalState=a;class n extends Error{constructor(g){super("NotSupported"),g&&(this.message=g)}}e.NotSupportedError=n;class i extends Error{constructor(g){super(g),this.name="CodeExpectedError"}static fromError(g){if(g instanceof i)return g;const m=new i;return m.message=g.message,m.stack=g.stack,m}static isErrorNoTelemetry(g){return g.name==="CodeExpectedError"}}e.ErrorNoTelemetry=i;class t extends Error{constructor(g){super(g||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}}e.BugIndicatingError=t}),define(ne[95],se([1,0,50,12]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTrustedTypesPolicy=void 0;function y(D,S){var p;const w=globalThis.MonacoEnvironment;if(w?.createTrustedTypesPolicy)try{return w.createTrustedTypesPolicy(D,S)}catch(v){(0,k.onUnexpectedError)(v);return}try{return(p=L.mainWindow.trustedTypes)===null||p===void 0?void 0:p.createPolicy(D,S)}catch(v){(0,k.onUnexpectedError)(v);return}}e.createTrustedTypesPolicy=y}),define(ne[90],se([1,0,12]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkAdjacentItems=e.assertFn=e.softAssert=e.assertNever=e.ok=void 0;function k(w,v){if(!w)throw new Error(v?`Assertion failed (${v})`:"Assertion Failed")}e.ok=k;function y(w,v="Unreachable"){throw new Error(v)}e.assertNever=y;function D(w){w||(0,L.onUnexpectedError)(new L.BugIndicatingError("Soft Assertion Failed"))}e.softAssert=D;function S(w){if(!w()){debugger;w(),(0,L.onUnexpectedError)(new L.BugIndicatingError("Assertion Failed"))}}e.assertFn=S;function p(w,v){let b=0;for(;b<w.length-1;){const a=w[b],n=w[b+1];if(!v(a,n))return!1;b++}return!0}e.checkAdjacentItems=p}),define(ne[112],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSingleCallFunction=void 0;function L(k,y){const D=this;let S=!1,p;return function(){if(S)return p;if(S=!0,y)try{p=k.apply(D,arguments)}finally{y()}else p=k.apply(D,arguments);return p}}e.createSingleCallFunction=L}),define(ne[172],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class L{constructor(y){this._prefix=y,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=L,e.defaultGenerator=new L("id#")}),define(ne[52],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var L;(function(k){function y(r){return r&&typeof r=="object"&&typeof r[Symbol.iterator]=="function"}k.is=y;const D=Object.freeze([]);function S(){return D}k.empty=S;function*p(r){yield r}k.single=p;function w(r){return y(r)?r:p(r)}k.wrap=w;function v(r){return r||D}k.from=v;function*b(r){for(let h=r.length-1;h>=0;h--)yield r[h]}k.reverse=b;function a(r){return!r||r[Symbol.iterator]().next().done===!0}k.isEmpty=a;function n(r){return r[Symbol.iterator]().next().value}k.first=n;function i(r,h){for(const u of r)if(h(u))return!0;return!1}k.some=i;function t(r,h){for(const u of r)if(h(u))return u}k.find=t;function*o(r,h){for(const u of r)h(u)&&(yield u)}k.filter=o;function*g(r,h){let u=0;for(const f of r)yield h(f,u++)}k.map=g;function*m(...r){for(const h of r)yield*h}k.concat=m;function c(r,h,u){let f=u;for(const C of r)f=h(f,C);return f}k.reduce=c;function*d(r,h,u=r.length){for(h<0&&(h+=r.length),u<0?u+=r.length:u>r.length&&(u=r.length);h<u;h++)yield r[h]}k.slice=d;function s(r,h=Number.POSITIVE_INFINITY){const u=[];if(h===0)return[u,r];const f=r[Symbol.iterator]();for(let C=0;C<h;C++){const _=f.next();if(_.done)return[u,k.empty()];u.push(_.value)}return[u,{[Symbol.iterator](){return f}}]}k.consume=s;async function l(r){const h=[];for await(const u of r)h.push(u);return Promise.resolve(h)}k.asyncToArray=l})(L||(e.Iterable=L={}))}),define(ne[66],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class L{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(n,i){this._keyCodeToStr[n]=i,this._strToKeyCode[i.toLowerCase()]=n}keyCodeToStr(n){return this._keyCodeToStr[n]}strToKeyCode(n){return this._strToKeyCode[n.toLowerCase()]||0}}const k=new L,y=new L,D=new L;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const S=[],p=Object.create(null),w=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let a=0;a<=193;a++)e.IMMUTABLE_CODE_TO_KEY_CODE[a]=-1;for(let a=0;a<=132;a++)e.IMMUTABLE_KEY_CODE_TO_CODE[a]=-1;(function(){const a="",n=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",a,a],[1,1,"Hyper",0,a,0,a,a,a],[1,2,"Super",0,a,0,a,a,a],[1,3,"Fn",0,a,0,a,a,a],[1,4,"FnLock",0,a,0,a,a,a],[1,5,"Suspend",0,a,0,a,a,a],[1,6,"Resume",0,a,0,a,a,a],[1,7,"Turbo",0,a,0,a,a,a],[1,8,"Sleep",0,a,0,"VK_SLEEP",a,a],[1,9,"WakeUp",0,a,0,a,a,a],[0,10,"KeyA",31,"A",65,"VK_A",a,a],[0,11,"KeyB",32,"B",66,"VK_B",a,a],[0,12,"KeyC",33,"C",67,"VK_C",a,a],[0,13,"KeyD",34,"D",68,"VK_D",a,a],[0,14,"KeyE",35,"E",69,"VK_E",a,a],[0,15,"KeyF",36,"F",70,"VK_F",a,a],[0,16,"KeyG",37,"G",71,"VK_G",a,a],[0,17,"KeyH",38,"H",72,"VK_H",a,a],[0,18,"KeyI",39,"I",73,"VK_I",a,a],[0,19,"KeyJ",40,"J",74,"VK_J",a,a],[0,20,"KeyK",41,"K",75,"VK_K",a,a],[0,21,"KeyL",42,"L",76,"VK_L",a,a],[0,22,"KeyM",43,"M",77,"VK_M",a,a],[0,23,"KeyN",44,"N",78,"VK_N",a,a],[0,24,"KeyO",45,"O",79,"VK_O",a,a],[0,25,"KeyP",46,"P",80,"VK_P",a,a],[0,26,"KeyQ",47,"Q",81,"VK_Q",a,a],[0,27,"KeyR",48,"R",82,"VK_R",a,a],[0,28,"KeyS",49,"S",83,"VK_S",a,a],[0,29,"KeyT",50,"T",84,"VK_T",a,a],[0,30,"KeyU",51,"U",85,"VK_U",a,a],[0,31,"KeyV",52,"V",86,"VK_V",a,a],[0,32,"KeyW",53,"W",87,"VK_W",a,a],[0,33,"KeyX",54,"X",88,"VK_X",a,a],[0,34,"KeyY",55,"Y",89,"VK_Y",a,a],[0,35,"KeyZ",56,"Z",90,"VK_Z",a,a],[0,36,"Digit1",22,"1",49,"VK_1",a,a],[0,37,"Digit2",23,"2",50,"VK_2",a,a],[0,38,"Digit3",24,"3",51,"VK_3",a,a],[0,39,"Digit4",25,"4",52,"VK_4",a,a],[0,40,"Digit5",26,"5",53,"VK_5",a,a],[0,41,"Digit6",27,"6",54,"VK_6",a,a],[0,42,"Digit7",28,"7",55,"VK_7",a,a],[0,43,"Digit8",29,"8",56,"VK_8",a,a],[0,44,"Digit9",30,"9",57,"VK_9",a,a],[0,45,"Digit0",21,"0",48,"VK_0",a,a],[1,46,"Enter",3,"Enter",13,"VK_RETURN",a,a],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",a,a],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",a,a],[1,49,"Tab",2,"Tab",9,"VK_TAB",a,a],[1,50,"Space",10,"Space",32,"VK_SPACE",a,a],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,a,0,a,a,a],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",a,a],[1,64,"F1",59,"F1",112,"VK_F1",a,a],[1,65,"F2",60,"F2",113,"VK_F2",a,a],[1,66,"F3",61,"F3",114,"VK_F3",a,a],[1,67,"F4",62,"F4",115,"VK_F4",a,a],[1,68,"F5",63,"F5",116,"VK_F5",a,a],[1,69,"F6",64,"F6",117,"VK_F6",a,a],[1,70,"F7",65,"F7",118,"VK_F7",a,a],[1,71,"F8",66,"F8",119,"VK_F8",a,a],[1,72,"F9",67,"F9",120,"VK_F9",a,a],[1,73,"F10",68,"F10",121,"VK_F10",a,a],[1,74,"F11",69,"F11",122,"VK_F11",a,a],[1,75,"F12",70,"F12",123,"VK_F12",a,a],[1,76,"PrintScreen",0,a,0,a,a,a],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",a,a],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",a,a],[1,79,"Insert",19,"Insert",45,"VK_INSERT",a,a],[1,80,"Home",14,"Home",36,"VK_HOME",a,a],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",a,a],[1,82,"Delete",20,"Delete",46,"VK_DELETE",a,a],[1,83,"End",13,"End",35,"VK_END",a,a],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",a,a],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",a],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",a],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",a],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",a],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",a,a],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",a,a],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",a,a],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",a,a],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",a,a],[1,94,"NumpadEnter",3,a,0,a,a,a],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",a,a],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",a,a],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",a,a],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",a,a],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",a,a],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",a,a],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",a,a],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",a,a],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",a,a],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",a,a],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",a,a],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",a,a],[1,107,"ContextMenu",58,"ContextMenu",93,a,a,a],[1,108,"Power",0,a,0,a,a,a],[1,109,"NumpadEqual",0,a,0,a,a,a],[1,110,"F13",71,"F13",124,"VK_F13",a,a],[1,111,"F14",72,"F14",125,"VK_F14",a,a],[1,112,"F15",73,"F15",126,"VK_F15",a,a],[1,113,"F16",74,"F16",127,"VK_F16",a,a],[1,114,"F17",75,"F17",128,"VK_F17",a,a],[1,115,"F18",76,"F18",129,"VK_F18",a,a],[1,116,"F19",77,"F19",130,"VK_F19",a,a],[1,117,"F20",78,"F20",131,"VK_F20",a,a],[1,118,"F21",79,"F21",132,"VK_F21",a,a],[1,119,"F22",80,"F22",133,"VK_F22",a,a],[1,120,"F23",81,"F23",134,"VK_F23",a,a],[1,121,"F24",82,"F24",135,"VK_F24",a,a],[1,122,"Open",0,a,0,a,a,a],[1,123,"Help",0,a,0,a,a,a],[1,124,"Select",0,a,0,a,a,a],[1,125,"Again",0,a,0,a,a,a],[1,126,"Undo",0,a,0,a,a,a],[1,127,"Cut",0,a,0,a,a,a],[1,128,"Copy",0,a,0,a,a,a],[1,129,"Paste",0,a,0,a,a,a],[1,130,"Find",0,a,0,a,a,a],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",a,a],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",a,a],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",a,a],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",a,a],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",a,a],[1,136,"KanaMode",0,a,0,a,a,a],[0,137,"IntlYen",0,a,0,a,a,a],[1,138,"Convert",0,a,0,a,a,a],[1,139,"NonConvert",0,a,0,a,a,a],[1,140,"Lang1",0,a,0,a,a,a],[1,141,"Lang2",0,a,0,a,a,a],[1,142,"Lang3",0,a,0,a,a,a],[1,143,"Lang4",0,a,0,a,a,a],[1,144,"Lang5",0,a,0,a,a,a],[1,145,"Abort",0,a,0,a,a,a],[1,146,"Props",0,a,0,a,a,a],[1,147,"NumpadParenLeft",0,a,0,a,a,a],[1,148,"NumpadParenRight",0,a,0,a,a,a],[1,149,"NumpadBackspace",0,a,0,a,a,a],[1,150,"NumpadMemoryStore",0,a,0,a,a,a],[1,151,"NumpadMemoryRecall",0,a,0,a,a,a],[1,152,"NumpadMemoryClear",0,a,0,a,a,a],[1,153,"NumpadMemoryAdd",0,a,0,a,a,a],[1,154,"NumpadMemorySubtract",0,a,0,a,a,a],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",a,a],[1,156,"NumpadClearEntry",0,a,0,a,a,a],[1,0,a,5,"Ctrl",17,"VK_CONTROL",a,a],[1,0,a,4,"Shift",16,"VK_SHIFT",a,a],[1,0,a,6,"Alt",18,"VK_MENU",a,a],[1,0,a,57,"Meta",91,"VK_COMMAND",a,a],[1,157,"ControlLeft",5,a,0,"VK_LCONTROL",a,a],[1,158,"ShiftLeft",4,a,0,"VK_LSHIFT",a,a],[1,159,"AltLeft",6,a,0,"VK_LMENU",a,a],[1,160,"MetaLeft",57,a,0,"VK_LWIN",a,a],[1,161,"ControlRight",5,a,0,"VK_RCONTROL",a,a],[1,162,"ShiftRight",4,a,0,"VK_RSHIFT",a,a],[1,163,"AltRight",6,a,0,"VK_RMENU",a,a],[1,164,"MetaRight",57,a,0,"VK_RWIN",a,a],[1,165,"BrightnessUp",0,a,0,a,a,a],[1,166,"BrightnessDown",0,a,0,a,a,a],[1,167,"MediaPlay",0,a,0,a,a,a],[1,168,"MediaRecord",0,a,0,a,a,a],[1,169,"MediaFastForward",0,a,0,a,a,a],[1,170,"MediaRewind",0,a,0,a,a,a],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",a,a],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",a,a],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",a,a],[1,174,"Eject",0,a,0,a,a,a],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",a,a],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",a,a],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",a,a],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",a,a],[1,179,"LaunchApp1",0,a,0,"VK_MEDIA_LAUNCH_APP1",a,a],[1,180,"SelectTask",0,a,0,a,a,a],[1,181,"LaunchScreenSaver",0,a,0,a,a,a],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",a,a],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",a,a],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",a,a],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",a,a],[1,186,"BrowserStop",0,a,0,"VK_BROWSER_STOP",a,a],[1,187,"BrowserRefresh",0,a,0,"VK_BROWSER_REFRESH",a,a],[1,188,"BrowserFavorites",0,a,0,"VK_BROWSER_FAVORITES",a,a],[1,189,"ZoomToggle",0,a,0,a,a,a],[1,190,"MailReply",0,a,0,a,a,a],[1,191,"MailForward",0,a,0,a,a,a],[1,192,"MailSend",0,a,0,a,a,a],[1,0,a,114,"KeyInComposition",229,a,a,a],[1,0,a,116,"ABNT_C2",194,"VK_ABNT_C2",a,a],[1,0,a,96,"OEM_8",223,"VK_OEM_8",a,a],[1,0,a,0,a,0,"VK_KANA",a,a],[1,0,a,0,a,0,"VK_HANGUL",a,a],[1,0,a,0,a,0,"VK_JUNJA",a,a],[1,0,a,0,a,0,"VK_FINAL",a,a],[1,0,a,0,a,0,"VK_HANJA",a,a],[1,0,a,0,a,0,"VK_KANJI",a,a],[1,0,a,0,a,0,"VK_CONVERT",a,a],[1,0,a,0,a,0,"VK_NONCONVERT",a,a],[1,0,a,0,a,0,"VK_ACCEPT",a,a],[1,0,a,0,a,0,"VK_MODECHANGE",a,a],[1,0,a,0,a,0,"VK_SELECT",a,a],[1,0,a,0,a,0,"VK_PRINT",a,a],[1,0,a,0,a,0,"VK_EXECUTE",a,a],[1,0,a,0,a,0,"VK_SNAPSHOT",a,a],[1,0,a,0,a,0,"VK_HELP",a,a],[1,0,a,0,a,0,"VK_APPS",a,a],[1,0,a,0,a,0,"VK_PROCESSKEY",a,a],[1,0,a,0,a,0,"VK_PACKET",a,a],[1,0,a,0,a,0,"VK_DBE_SBCSCHAR",a,a],[1,0,a,0,a,0,"VK_DBE_DBCSCHAR",a,a],[1,0,a,0,a,0,"VK_ATTN",a,a],[1,0,a,0,a,0,"VK_CRSEL",a,a],[1,0,a,0,a,0,"VK_EXSEL",a,a],[1,0,a,0,a,0,"VK_EREOF",a,a],[1,0,a,0,a,0,"VK_PLAY",a,a],[1,0,a,0,a,0,"VK_ZOOM",a,a],[1,0,a,0,a,0,"VK_NONAME",a,a],[1,0,a,0,a,0,"VK_PA1",a,a],[1,0,a,0,a,0,"VK_OEM_CLEAR",a,a]],i=[],t=[];for(const o of n){const[g,m,c,d,s,l,r,h,u]=o;if(t[m]||(t[m]=!0,S[m]=c,p[c]=m,w[c.toLowerCase()]=m,g&&(e.IMMUTABLE_CODE_TO_KEY_CODE[m]=d,d!==0&&d!==3&&d!==5&&d!==4&&d!==6&&d!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[d]=m))),!i[d]){if(i[d]=!0,!s)throw new Error(`String representation missing for key code ${d} around scan code ${c}`);k.define(d,s),y.define(d,h||s),D.define(d,u||h||s)}l&&(e.EVENT_KEY_CODE_MAP[l]=d),r&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[r]=d)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var v;(function(a){function n(c){return k.keyCodeToStr(c)}a.toString=n;function i(c){return k.strToKeyCode(c)}a.fromString=i;function t(c){return y.keyCodeToStr(c)}a.toUserSettingsUS=t;function o(c){return D.keyCodeToStr(c)}a.toUserSettingsGeneral=o;function g(c){return y.strToKeyCode(c)||D.strToKeyCode(c)}a.fromUserSettings=g;function m(c){if(c>=98&&c<=113)return null;switch(c){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return k.keyCodeToStr(c)}a.toElectronAccelerator=m})(v||(e.KeyCodeUtils=v={}));function b(a,n){const i=(n&65535)<<16>>>0;return(a|i)>>>0}e.KeyChord=b}),define(ne[127],se([1,0,12]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedChord=e.Keybinding=e.ScanCodeChord=e.KeyCodeChord=e.createSimpleKeybinding=e.decodeKeybinding=void 0;function k(b,a){if(typeof b=="number"){if(b===0)return null;const n=(b&65535)>>>0,i=(b&4294901760)>>>16;return i!==0?new p([y(n,a),y(i,a)]):new p([y(n,a)])}else{const n=[];for(let i=0;i<b.length;i++)n.push(y(b[i],a));return new p(n)}}e.decodeKeybinding=k;function y(b,a){const n=!!(b&2048),i=!!(b&256),t=a===2?i:n,o=!!(b&1024),g=!!(b&512),m=a===2?n:i,c=b&255;return new D(t,o,g,m,c)}e.createSimpleKeybinding=y;class D{constructor(a,n,i,t,o){this.ctrlKey=a,this.shiftKey=n,this.altKey=i,this.metaKey=t,this.keyCode=o}equals(a){return a instanceof D&&this.ctrlKey===a.ctrlKey&&this.shiftKey===a.shiftKey&&this.altKey===a.altKey&&this.metaKey===a.metaKey&&this.keyCode===a.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.KeyCodeChord=D;class S{constructor(a,n,i,t,o){this.ctrlKey=a,this.shiftKey=n,this.altKey=i,this.metaKey=t,this.scanCode=o}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeChord=S;class p{constructor(a){if(a.length===0)throw(0,L.illegalArgument)("chords");this.chords=a}}e.Keybinding=p;class w{constructor(a,n,i,t,o,g){this.ctrlKey=a,this.shiftKey=n,this.altKey=i,this.metaKey=t,this.keyLabel=o,this.keyAriaLabel=g}}e.ResolvedChord=w;class v{}e.ResolvedKeybinding=v}),define(ne[96],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class L{constructor(y){this.executor=y,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(y){this._error=y}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=L}),define(ne[91],se([1,0,96]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefaultHoverDelegate=e.setHoverDelegateFactory=void 0;let y=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});const D=new L.Lazy(()=>y("mouse",!1)),S=new L.Lazy(()=>y("element",!1));function p(v){y=v}e.setHoverDelegateFactory=p;function w(v,b){return b?y(v,!0):v==="element"?S.value:D.value}e.getDefaultHoverDelegate=w}),define(ne[149],se([1,0,96]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const k=typeof Buffer<"u",y=new L.Lazy(()=>new Uint8Array(256));let D;class S{static wrap(t){return k&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new S(t)}constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}toString(){return k?this.buffer.toString():(D||(D=new TextDecoder),D.decode(this.buffer))}}e.VSBuffer=S;function p(i,t){return i[t+0]<<0>>>0|i[t+1]<<8>>>0}e.readUInt16LE=p;function w(i,t,o){i[o+0]=t&255,t=t>>>8,i[o+1]=t&255}e.writeUInt16LE=w;function v(i,t){return i[t]*2**24+i[t+1]*2**16+i[t+2]*2**8+i[t+3]}e.readUInt32BE=v;function b(i,t,o){i[o+3]=t,t=t>>>8,i[o+2]=t,t=t>>>8,i[o+1]=t,t=t>>>8,i[o]=t}e.writeUInt32BE=b;function a(i,t){return i[t]}e.readUInt8=a;function n(i,t,o){i[o]=t}e.writeUInt8=n}),define(ne[405],se([1,0,96]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const k=new L.Lazy(()=>{const v=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:v,collatorIsNumeric:v.resolvedOptions().numeric}}),y=new L.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),D=new L.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function S(v,b,a=!1){const n=v||"",i=b||"",t=k.value.collator.compare(n,i);return k.value.collatorIsNumeric&&t===0&&n!==i?n<i?-1:1:t}e.compareFileNames=S;function p(v,b,a){const n=v.toLowerCase(),i=b.toLowerCase(),t=w(v,b,a);if(t)return t;const o=n.endsWith(a),g=i.endsWith(a);if(o!==g)return o?-1:1;const m=S(n,i);return m!==0?m:n.localeCompare(i)}e.compareAnything=p;function w(v,b,a){const n=v.toLowerCase(),i=b.toLowerCase(),t=n.startsWith(a),o=i.startsWith(a);if(t!==o)return t?-1:1;if(t&&o){if(n.length<i.length)return-1;if(n.length>i.length)return 1}return 0}e.compareByPrefix=w}),define(ne[2],se([1,0,112,52]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableMap=e.ImmortalReference=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.markAsSingleton=e.markAsDisposed=e.trackDisposable=e.setDisposableTracker=void 0;const y=!1;let D=null;function S(r){D=r}if(e.setDisposableTracker=S,y){const r="__is_disposable_tracked__";S(new class{trackDisposable(h){const u=new Error("Potentially leaked disposable").stack;setTimeout(()=>{h[r]||console.log(u)},3e3)}setParent(h,u){if(h&&h!==m.None)try{h[r]=!0}catch{}}markAsDisposed(h){if(h&&h!==m.None)try{h[r]=!0}catch{}}markAsSingleton(h){}})}function p(r){return D?.trackDisposable(r),r}e.trackDisposable=p;function w(r){D?.markAsDisposed(r)}e.markAsDisposed=w;function v(r,h){D?.setParent(r,h)}function b(r,h){if(D)for(const u of r)D.setParent(u,h)}function a(r){return D?.markAsSingleton(r),r}e.markAsSingleton=a;function n(r){return typeof r.dispose=="function"&&r.dispose.length===0}e.isDisposable=n;function i(r){if(k.Iterable.is(r)){const h=[];for(const u of r)if(u)try{u.dispose()}catch(f){h.push(f)}if(h.length===1)throw h[0];if(h.length>1)throw new AggregateError(h,"Encountered errors while disposing of store");return Array.isArray(r)?[]:r}else if(r)return r.dispose(),r}e.dispose=i;function t(...r){const h=o(()=>i(r));return b(r,h),h}e.combinedDisposable=t;function o(r){const h=p({dispose:(0,L.createSingleCallFunction)(()=>{w(h),r()})});return h}e.toDisposable=o;class g{constructor(){this._toDispose=new Set,this._isDisposed=!1,p(this)}dispose(){this._isDisposed||(w(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{i(this._toDispose)}finally{this._toDispose.clear()}}add(h){if(!h)return h;if(h===this)throw new Error("Cannot register a disposable on itself!");return v(h,this),this._isDisposed?g.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(h),h}deleteAndLeak(h){h&&this._toDispose.has(h)&&(this._toDispose.delete(h),v(h,null))}}e.DisposableStore=g,g.DISABLE_DISPOSED_WARNING=!1;class m{constructor(){this._store=new g,p(this),v(this._store,this)}dispose(){w(this),this._store.dispose()}_register(h){if(h===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(h)}}e.Disposable=m,m.None=Object.freeze({dispose(){}});class c{constructor(){this._isDisposed=!1,p(this)}get value(){return this._isDisposed?void 0:this._value}set value(h){var u;this._isDisposed||h===this._value||((u=this._value)===null||u===void 0||u.dispose(),h&&v(h,this),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,w(this),(h=this._value)===null||h===void 0||h.dispose(),this._value=void 0}}e.MutableDisposable=c;class d{constructor(h){this._disposable=h,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}e.RefCountedDisposable=d;class s{constructor(h){this.object=h}dispose(){}}e.ImmortalReference=s;class l{constructor(){this._store=new Map,this._isDisposed=!1,p(this)}dispose(){w(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{i(this._store.values())}finally{this._store.clear()}}get(h){return this._store.get(h)}set(h,u,f=!1){var C;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),f||(C=this._store.get(h))===null||C===void 0||C.dispose(),this._store.set(h,u)}deleteAndDispose(h){var u;(u=this._store.get(h))===null||u===void 0||u.dispose(),this._store.delete(h)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}e.DisposableMap=l}),define(ne[67],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class L{constructor(D){this.element=D,this.next=L.Undefined,this.prev=L.Undefined}}L.Undefined=new L(void 0);class k{constructor(){this._first=L.Undefined,this._last=L.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===L.Undefined}clear(){let D=this._first;for(;D!==L.Undefined;){const S=D.next;D.prev=L.Undefined,D.next=L.Undefined,D=S}this._first=L.Undefined,this._last=L.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,S){const p=new L(D);if(this._first===L.Undefined)this._first=p,this._last=p;else if(S){const v=this._last;this._last=p,p.prev=v,v.next=p}else{const v=this._first;this._first=p,p.next=v,v.prev=p}this._size+=1;let w=!1;return()=>{w||(w=!0,this._remove(p))}}shift(){if(this._first!==L.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==L.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==L.Undefined&&D.next!==L.Undefined){const S=D.prev;S.next=D.next,D.next.prev=S}else D.prev===L.Undefined&&D.next===L.Undefined?(this._first=L.Undefined,this._last=L.Undefined):D.next===L.Undefined?(this._last=this._last.prev,this._last.next=L.Undefined):D.prev===L.Undefined&&(this._first=this._first.next,this._first.prev=L.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==L.Undefined;)yield D.element,D=D.next}}e.LinkedList=k});var De=this&&this.__decorate||function(ee,e,L,k){var y=arguments.length,D=y<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,L):k,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(ee,e,L,k);else for(var p=ee.length-1;p>=0;p--)(S=ee[p])&&(D=(y<3?S(D):y>3?S(e,L,D):S(e,L))||D);return y>3&&D&&Object.defineProperty(e,L,D),D};define(ne[406],se([1,0,111]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLinkedText=e.LinkedText=void 0;class k{constructor(p){this.nodes=p}toString(){return this.nodes.map(p=>typeof p=="string"?p:p.label).join("")}}e.LinkedText=k,De([L.memoize],k.prototype,"toString",null);const y=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function D(S){const p=[];let w=0,v;for(;v=y.exec(S);){v.index-w>0&&p.push(S.substring(w,v.index));const[,b,a,,n]=v;n?p.push({label:b,href:a,title:n}):p.push({label:b,href:a}),w=v.index+v[0].length}return w<S.length&&p.push(S.substring(w)),new k(p)}e.parseLinkedText=D}),define(ne[53],se([1,0]),function(ee,e){"use strict";var L,k;Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.BidirectionalMap=e.LRUCache=e.LinkedMap=e.ResourceMap=void 0;class y{constructor(n,i){this.uri=n,this.value=i}}function D(a){return Array.isArray(a)}class S{constructor(n,i){if(this[L]="ResourceMap",n instanceof S)this.map=new Map(n.map),this.toKey=i??S.defaultToKey;else if(D(n)){this.map=new Map,this.toKey=i??S.defaultToKey;for(const[t,o]of n)this.set(t,o)}else this.map=new Map,this.toKey=n??S.defaultToKey}set(n,i){return this.map.set(this.toKey(n),new y(n,i)),this}get(n){var i;return(i=this.map.get(this.toKey(n)))===null||i===void 0?void 0:i.value}has(n){return this.map.has(this.toKey(n))}get size(){return this.map.size}clear(){this.map.clear()}delete(n){return this.map.delete(this.toKey(n))}forEach(n,i){typeof i<"u"&&(n=n.bind(i));for(const[t,o]of this.map)n(o.value,o.uri,this)}*values(){for(const n of this.map.values())yield n.value}*keys(){for(const n of this.map.values())yield n.uri}*entries(){for(const n of this.map.values())yield[n.uri,n.value]}*[(L=Symbol.toStringTag,Symbol.iterator)](){for(const[,n]of this.map)yield[n.uri,n.value]}}e.ResourceMap=S,S.defaultToKey=a=>a.toString();class p{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var n;return(n=this._head)===null||n===void 0?void 0:n.value}get last(){var n;return(n=this._tail)===null||n===void 0?void 0:n.value}has(n){return this._map.has(n)}get(n,i=0){const t=this._map.get(n);if(t)return i!==0&&this.touch(t,i),t.value}set(n,i,t=0){let o=this._map.get(n);if(o)o.value=i,t!==0&&this.touch(o,t);else{switch(o={key:n,value:i,next:void 0,previous:void 0},t){case 0:this.addItemLast(o);break;case 1:this.addItemFirst(o);break;case 2:this.addItemLast(o);break;default:this.addItemLast(o);break}this._map.set(n,o),this._size++}return this}delete(n){return!!this.remove(n)}remove(n){const i=this._map.get(n);if(i)return this._map.delete(n),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const n=this._head;return this._map.delete(n.key),this.removeItem(n),this._size--,n.value}forEach(n,i){const t=this._state;let o=this._head;for(;o;){if(i?n.bind(i)(o.value,o.key,this):n(o.value,o.key,this),this._state!==t)throw new Error("LinkedMap got modified during iteration.");o=o.next}}keys(){const n=this,i=this._state;let t=this._head;const o={[Symbol.iterator](){return o},next(){if(n._state!==i)throw new Error("LinkedMap got modified during iteration.");if(t){const g={value:t.key,done:!1};return t=t.next,g}else return{value:void 0,done:!0}}};return o}values(){const n=this,i=this._state;let t=this._head;const o={[Symbol.iterator](){return o},next(){if(n._state!==i)throw new Error("LinkedMap got modified during iteration.");if(t){const g={value:t.value,done:!1};return t=t.next,g}else return{value:void 0,done:!0}}};return o}entries(){const n=this,i=this._state;let t=this._head;const o={[Symbol.iterator](){return o},next(){if(n._state!==i)throw new Error("LinkedMap got modified during iteration.");if(t){const g={value:[t.key,t.value],done:!1};return t=t.next,g}else return{value:void 0,done:!0}}};return o}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(n){if(n>=this.size)return;if(n===0){this.clear();return}let i=this._head,t=this.size;for(;i&&t>n;)this._map.delete(i.key),i=i.next,t--;this._head=i,this._size=t,i&&(i.previous=void 0),this._state++}addItemFirst(n){if(!this._head&&!this._tail)this._tail=n;else if(this._head)n.next=this._head,this._head.previous=n;else throw new Error("Invalid list");this._head=n,this._state++}addItemLast(n){if(!this._head&&!this._tail)this._head=n;else if(this._tail)n.previous=this._tail,this._tail.next=n;else throw new Error("Invalid list");this._tail=n,this._state++}removeItem(n){if(n===this._head&&n===this._tail)this._head=void 0,this._tail=void 0;else if(n===this._head){if(!n.next)throw new Error("Invalid list");n.next.previous=void 0,this._head=n.next}else if(n===this._tail){if(!n.previous)throw new Error("Invalid list");n.previous.next=void 0,this._tail=n.previous}else{const i=n.next,t=n.previous;if(!i||!t)throw new Error("Invalid list");i.previous=t,t.next=i}n.next=void 0,n.previous=void 0,this._state++}touch(n,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==1&&i!==2)){if(i===1){if(n===this._head)return;const t=n.next,o=n.previous;n===this._tail?(o.next=void 0,this._tail=o):(t.previous=o,o.next=t),n.previous=void 0,n.next=this._head,this._head.previous=n,this._head=n,this._state++}else if(i===2){if(n===this._tail)return;const t=n.next,o=n.previous;n===this._head?(t.previous=void 0,this._head=t):(t.previous=o,o.next=t),n.next=void 0,n.previous=this._tail,this._tail.next=n,this._tail=n,this._state++}}}toJSON(){const n=[];return this.forEach((i,t)=>{n.push([t,i])}),n}fromJSON(n){this.clear();for(const[i,t]of n)this.set(i,t)}}e.LinkedMap=p;class w extends p{constructor(n,i=1){super(),this._limit=n,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(n){this._limit=n,this.checkTrim()}get(n,i=2){return super.get(n,i)}peek(n){return super.get(n,0)}set(n,i){return super.set(n,i,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=w;class v{constructor(n){if(this._m1=new Map,this._m2=new Map,n)for(const[i,t]of n)this.set(i,t)}clear(){this._m1.clear(),this._m2.clear()}set(n,i){this._m1.set(n,i),this._m2.set(i,n)}get(n){return this._m1.get(n)}getKey(n){return this._m2.get(n)}delete(n){const i=this._m1.get(n);return i===void 0?!1:(this._m1.delete(n),this._m2.delete(i),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}e.BidirectionalMap=v;class b{constructor(){this.map=new Map}add(n,i){let t=this.map.get(n);t||(t=new Set,this.map.set(n,t)),t.add(i)}delete(n,i){const t=this.map.get(n);t&&(t.delete(i),t.size===0&&this.map.delete(n))}forEach(n,i){const t=this.map.get(n);t&&t.forEach(i)}get(n){const i=this.map.get(n);return i||new Set}}e.SetMap=b}),function(ee,e){typeof define=="function"&&define.amd?define(ne[407],se([0]),e):typeof exports=="object"&&typeof module<"u"?e(exports):(ee=typeof globalThis<"u"?globalThis:ee||self,e(ee.marked={}))}(this,function(ee){"use strict";function e(U,Z){for(var H=0;H<Z.length;H++){var q=Z[H];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(U,q.key,q)}}function L(U,Z,H){return Z&&e(U.prototype,Z),H&&e(U,H),Object.defineProperty(U,"prototype",{writable:!1}),U}function k(U,Z){if(U){if(typeof U=="string")return y(U,Z);var H=Object.prototype.toString.call(U).slice(8,-1);if(H==="Object"&&U.constructor&&(H=U.constructor.name),H==="Map"||H==="Set")return Array.from(U);if(H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return y(U,Z)}}function y(U,Z){(Z==null||Z>U.length)&&(Z=U.length);for(var H=0,q=new Array(Z);H<Z;H++)q[H]=U[H];return q}function D(U,Z){var H=typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(H)return(H=H.call(U)).next.bind(H);if(Array.isArray(U)||(H=k(U))||Z&&U&&typeof U.length=="number"){H&&(U=H);var q=0;return function(){return q>=U.length?{done:!0}:{done:!1,value:U[q++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}ee.defaults=S();function p(U){ee.defaults=U}var w=/[&<>"']/,v=/[&<>"']/g,b=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=function(Z){return n[Z]};function t(U,Z){if(Z){if(w.test(U))return U.replace(v,i)}else if(b.test(U))return U.replace(a,i);return U}var o=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function g(U){return U.replace(o,function(Z,H){return H=H.toLowerCase(),H==="colon"?":":H.charAt(0)==="#"?H.charAt(1)==="x"?String.fromCharCode(parseInt(H.substring(2),16)):String.fromCharCode(+H.substring(1)):""})}var m=/(^|[^\[])\^/g;function c(U,Z){U=typeof U=="string"?U:U.source,Z=Z||"";var H={replace:function(te,G){return G=G.source||G,G=G.replace(m,"$1"),U=U.replace(te,G),H},getRegex:function(){return new RegExp(U,Z)}};return H}var d=/[^\w:]/g,s=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function l(U,Z,H){if(U){var q;try{q=decodeURIComponent(g(H)).replace(d,"").toLowerCase()}catch{return null}if(q.indexOf("javascript:")===0||q.indexOf("vbscript:")===0||q.indexOf("data:")===0)return null}Z&&!s.test(H)&&(H=C(Z,H));try{H=encodeURI(H).replace(/%25/g,"%")}catch{return null}return H}var r={},h=/^[^:]+:\/*[^/]*$/,u=/^([^:]+:)[\s\S]*$/,f=/^([^:]+:\/*[^/]*)[\s\S]*$/;function C(U,Z){r[" "+U]||(h.test(U)?r[" "+U]=U+"/":r[" "+U]=T(U,"/",!0)),U=r[" "+U];var H=U.indexOf(":")===-1;return Z.substring(0,2)==="//"?H?Z:U.replace(u,"$1")+Z:Z.charAt(0)==="/"?H?Z:U.replace(f,"$1")+Z:U+Z}var _={exec:function(){}};function E(U){for(var Z=1,H,q;Z<arguments.length;Z++){H=arguments[Z];for(q in H)Object.prototype.hasOwnProperty.call(H,q)&&(U[q]=H[q])}return U}function I(U,Z){var H=U.replace(/\|/g,function(G,$,oe){for(var ae=!1,ue=$;--ue>=0&&oe[ue]==="\\";)ae=!ae;return ae?"|":" |"}),q=H.split(/ \|/),te=0;if(q[0].trim()||q.shift(),q.length>0&&!q[q.length-1].trim()&&q.pop(),q.length>Z)q.splice(Z);else for(;q.length<Z;)q.push("");for(;te<q.length;te++)q[te]=q[te].trim().replace(/\\\|/g,"|");return q}function T(U,Z,H){var q=U.length;if(q===0)return"";for(var te=0;te<q;){var G=U.charAt(q-te-1);if(G===Z&&!H)te++;else if(G!==Z&&H)te++;else break}return U.slice(0,q-te)}function A(U,Z){if(U.indexOf(Z[1])===-1)return-1;for(var H=U.length,q=0,te=0;te<H;te++)if(U[te]==="\\")te++;else if(U[te]===Z[0])q++;else if(U[te]===Z[1]&&(q--,q<0))return te;return-1}function R(U){U&&U.sanitize&&!U.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function M(U,Z){if(Z<1)return"";for(var H="";Z>1;)Z&1&&(H+=U),Z>>=1,U+=U;return H+U}function N(U,Z,H,q){var te=Z.href,G=Z.title?t(Z.title):null,$=U[1].replace(/\\([\[\]])/g,"$1");if(U[0].charAt(0)!=="!"){q.state.inLink=!0;var oe={type:"link",raw:H,href:te,title:G,text:$,tokens:q.inlineTokens($)};return q.state.inLink=!1,oe}return{type:"image",raw:H,href:te,title:G,text:t($)}}function P(U,Z){var H=U.match(/^(\s+)(?:```)/);if(H===null)return Z;var q=H[1];return Z.split(`
`).map(function(te){var G=te.match(/^\s+/);if(G===null)return te;var $=G[0];return $.length>=q.length?te.slice(q.length):te}).join(`
`)}var F=function(){function U(H){this.options=H||ee.defaults}var Z=U.prototype;return Z.space=function(q){var te=this.rules.block.newline.exec(q);if(te&&te[0].length>0)return{type:"space",raw:te[0]}},Z.code=function(q){var te=this.rules.block.code.exec(q);if(te){var G=te[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:te[0],codeBlockStyle:"indented",text:this.options.pedantic?G:T(G,`
`)}}},Z.fences=function(q){var te=this.rules.block.fences.exec(q);if(te){var G=te[0],$=P(G,te[3]||"");return{type:"code",raw:G,lang:te[2]?te[2].trim():te[2],text:$}}},Z.heading=function(q){var te=this.rules.block.heading.exec(q);if(te){var G=te[2].trim();if(/#$/.test(G)){var $=T(G,"#");(this.options.pedantic||!$||/ $/.test($))&&(G=$.trim())}return{type:"heading",raw:te[0],depth:te[1].length,text:G,tokens:this.lexer.inline(G)}}},Z.hr=function(q){var te=this.rules.block.hr.exec(q);if(te)return{type:"hr",raw:te[0]}},Z.blockquote=function(q){var te=this.rules.block.blockquote.exec(q);if(te){var G=te[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:te[0],tokens:this.lexer.blockTokens(G,[]),text:G}}},Z.list=function(q){var te=this.rules.block.list.exec(q);if(te){var G,$,oe,ae,ue,ce,fe,ve,Ce,Se,_e,Ie,Ne=te[1].trim(),Oe=Ne.length>1,xe={type:"list",raw:"",ordered:Oe,start:Oe?+Ne.slice(0,-1):"",loose:!1,items:[]};Ne=Oe?"\\d{1,9}\\"+Ne.slice(-1):"\\"+Ne,this.options.pedantic&&(Ne=Oe?Ne:"[*+-]");for(var We=new RegExp("^( {0,3}"+Ne+")((?:[	 ][^\\n]*)?(?:\\n|$))");q&&(Ie=!1,!(!(te=We.exec(q))||this.rules.block.hr.test(q)));){if(G=te[0],q=q.substring(G.length),ve=te[2].split(`
`,1)[0],Ce=q.split(`
`,1)[0],this.options.pedantic?(ae=2,_e=ve.trimLeft()):(ae=te[2].search(/[^ ]/),ae=ae>4?1:ae,_e=ve.slice(ae),ae+=te[1].length),ce=!1,!ve&&/^ *$/.test(Ce)&&(G+=Ce+`
`,q=q.substring(Ce.length+1),Ie=!0),!Ie)for(var ye=new RegExp("^ {0,"+Math.min(3,ae-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Me=new RegExp("^ {0,"+Math.min(3,ae-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),me=new RegExp("^ {0,"+Math.min(3,ae-1)+"}(?:```|~~~)"),be=new RegExp("^ {0,"+Math.min(3,ae-1)+"}#");q&&(Se=q.split(`
`,1)[0],ve=Se,this.options.pedantic&&(ve=ve.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(me.test(ve)||be.test(ve)||ye.test(ve)||Me.test(q)));){if(ve.search(/[^ ]/)>=ae||!ve.trim())_e+=`
`+ve.slice(ae);else if(!ce)_e+=`
`+ve;else break;!ce&&!ve.trim()&&(ce=!0),G+=Se+`
`,q=q.substring(Se.length+1)}xe.loose||(fe?xe.loose=!0:/\n *\n *$/.test(G)&&(fe=!0)),this.options.gfm&&($=/^\[[ xX]\] /.exec(_e),$&&(oe=$[0]!=="[ ] ",_e=_e.replace(/^\[[ xX]\] +/,""))),xe.items.push({type:"list_item",raw:G,task:!!$,checked:oe,loose:!1,text:_e}),xe.raw+=G}xe.items[xe.items.length-1].raw=G.trimRight(),xe.items[xe.items.length-1].text=_e.trimRight(),xe.raw=xe.raw.trimRight();var Ae=xe.items.length;for(ue=0;ue<Ae;ue++){this.lexer.state.top=!1,xe.items[ue].tokens=this.lexer.blockTokens(xe.items[ue].text,[]);var Be=xe.items[ue].tokens.filter(function(qe){return qe.type==="space"}),Ke=Be.every(function(qe){for(var Ge=qe.raw.split(""),st=0,Xe=D(Ge),ot;!(ot=Xe()).done;){var nt=ot.value;if(nt===`
`&&(st+=1),st>1)return!0}return!1});!xe.loose&&Be.length&&Ke&&(xe.loose=!0,xe.items[ue].loose=!0)}return xe}},Z.html=function(q){var te=this.rules.block.html.exec(q);if(te){var G={type:"html",raw:te[0],pre:!this.options.sanitizer&&(te[1]==="pre"||te[1]==="script"||te[1]==="style"),text:te[0]};if(this.options.sanitize){var $=this.options.sanitizer?this.options.sanitizer(te[0]):t(te[0]);G.type="paragraph",G.text=$,G.tokens=this.lexer.inline($)}return G}},Z.def=function(q){var te=this.rules.block.def.exec(q);if(te){te[3]&&(te[3]=te[3].substring(1,te[3].length-1));var G=te[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:G,raw:te[0],href:te[2],title:te[3]}}},Z.table=function(q){var te=this.rules.block.table.exec(q);if(te){var G={type:"table",header:I(te[1]).map(function(fe){return{text:fe}}),align:te[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:te[3]&&te[3].trim()?te[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(G.header.length===G.align.length){G.raw=te[0];var $=G.align.length,oe,ae,ue,ce;for(oe=0;oe<$;oe++)/^ *-+: *$/.test(G.align[oe])?G.align[oe]="right":/^ *:-+: *$/.test(G.align[oe])?G.align[oe]="center":/^ *:-+ *$/.test(G.align[oe])?G.align[oe]="left":G.align[oe]=null;for($=G.rows.length,oe=0;oe<$;oe++)G.rows[oe]=I(G.rows[oe],G.header.length).map(function(fe){return{text:fe}});for($=G.header.length,ae=0;ae<$;ae++)G.header[ae].tokens=this.lexer.inline(G.header[ae].text);for($=G.rows.length,ae=0;ae<$;ae++)for(ce=G.rows[ae],ue=0;ue<ce.length;ue++)ce[ue].tokens=this.lexer.inline(ce[ue].text);return G}}},Z.lheading=function(q){var te=this.rules.block.lheading.exec(q);if(te)return{type:"heading",raw:te[0],depth:te[2].charAt(0)==="="?1:2,text:te[1],tokens:this.lexer.inline(te[1])}},Z.paragraph=function(q){var te=this.rules.block.paragraph.exec(q);if(te){var G=te[1].charAt(te[1].length-1)===`
`?te[1].slice(0,-1):te[1];return{type:"paragraph",raw:te[0],text:G,tokens:this.lexer.inline(G)}}},Z.text=function(q){var te=this.rules.block.text.exec(q);if(te)return{type:"text",raw:te[0],text:te[0],tokens:this.lexer.inline(te[0])}},Z.escape=function(q){var te=this.rules.inline.escape.exec(q);if(te)return{type:"escape",raw:te[0],text:t(te[1])}},Z.tag=function(q){var te=this.rules.inline.tag.exec(q);if(te)return!this.lexer.state.inLink&&/^<a /i.test(te[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(te[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(te[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(te[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:te[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(te[0]):t(te[0]):te[0]}},Z.link=function(q){var te=this.rules.inline.link.exec(q);if(te){var G=te[2].trim();if(!this.options.pedantic&&/^</.test(G)){if(!/>$/.test(G))return;var $=T(G.slice(0,-1),"\\");if((G.length-$.length)%2===0)return}else{var oe=A(te[2],"()");if(oe>-1){var ae=te[0].indexOf("!")===0?5:4,ue=ae+te[1].length+oe;te[2]=te[2].substring(0,oe),te[0]=te[0].substring(0,ue).trim(),te[3]=""}}var ce=te[2],fe="";if(this.options.pedantic){var ve=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ce);ve&&(ce=ve[1],fe=ve[3])}else fe=te[3]?te[3].slice(1,-1):"";return ce=ce.trim(),/^</.test(ce)&&(this.options.pedantic&&!/>$/.test(G)?ce=ce.slice(1):ce=ce.slice(1,-1)),N(te,{href:ce&&ce.replace(this.rules.inline._escapes,"$1"),title:fe&&fe.replace(this.rules.inline._escapes,"$1")},te[0],this.lexer)}},Z.reflink=function(q,te){var G;if((G=this.rules.inline.reflink.exec(q))||(G=this.rules.inline.nolink.exec(q))){var $=(G[2]||G[1]).replace(/\s+/g," ");if($=te[$.toLowerCase()],!$||!$.href){var oe=G[0].charAt(0);return{type:"text",raw:oe,text:oe}}return N(G,$,G[0],this.lexer)}},Z.emStrong=function(q,te,G){G===void 0&&(G="");var $=this.rules.inline.emStrong.lDelim.exec(q);if($&&!($[3]&&G.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var oe=$[1]||$[2]||"";if(!oe||oe&&(G===""||this.rules.inline.punctuation.exec(G))){var ae=$[0].length-1,ue,ce,fe=ae,ve=0,Ce=$[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ce.lastIndex=0,te=te.slice(-1*q.length+ae);($=Ce.exec(te))!=null;)if(ue=$[1]||$[2]||$[3]||$[4]||$[5]||$[6],!!ue){if(ce=ue.length,$[3]||$[4]){fe+=ce;continue}else if(($[5]||$[6])&&ae%3&&!((ae+ce)%3)){ve+=ce;continue}if(fe-=ce,!(fe>0)){if(ce=Math.min(ce,ce+fe+ve),Math.min(ae,ce)%2){var Se=q.slice(1,ae+$.index+ce);return{type:"em",raw:q.slice(0,ae+$.index+ce+1),text:Se,tokens:this.lexer.inlineTokens(Se)}}var _e=q.slice(2,ae+$.index+ce-1);return{type:"strong",raw:q.slice(0,ae+$.index+ce+1),text:_e,tokens:this.lexer.inlineTokens(_e)}}}}}},Z.codespan=function(q){var te=this.rules.inline.code.exec(q);if(te){var G=te[2].replace(/\n/g," "),$=/[^ ]/.test(G),oe=/^ /.test(G)&&/ $/.test(G);return $&&oe&&(G=G.substring(1,G.length-1)),G=t(G,!0),{type:"codespan",raw:te[0],text:G}}},Z.br=function(q){var te=this.rules.inline.br.exec(q);if(te)return{type:"br",raw:te[0]}},Z.del=function(q){var te=this.rules.inline.del.exec(q);if(te)return{type:"del",raw:te[0],text:te[2],tokens:this.lexer.inlineTokens(te[2])}},Z.autolink=function(q,te){var G=this.rules.inline.autolink.exec(q);if(G){var $,oe;return G[2]==="@"?($=t(this.options.mangle?te(G[1]):G[1]),oe="mailto:"+$):($=t(G[1]),oe=$),{type:"link",raw:G[0],text:$,href:oe,tokens:[{type:"text",raw:$,text:$}]}}},Z.url=function(q,te){var G;if(G=this.rules.inline.url.exec(q)){var $,oe;if(G[2]==="@")$=t(this.options.mangle?te(G[0]):G[0]),oe="mailto:"+$;else{var ae;do ae=G[0],G[0]=this.rules.inline._backpedal.exec(G[0])[0];while(ae!==G[0]);$=t(G[0]),G[1]==="www."?oe="http://"+$:oe=$}return{type:"link",raw:G[0],text:$,href:oe,tokens:[{type:"text",raw:$,text:$}]}}},Z.inlineText=function(q,te){var G=this.rules.inline.text.exec(q);if(G){var $;return this.lexer.state.inRawBlock?$=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(G[0]):t(G[0]):G[0]:$=t(this.options.smartypants?te(G[0]):G[0]),{type:"text",raw:G[0],text:$}}},U}(),O={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:_,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};O._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,O._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,O.def=c(O.def).replace("label",O._label).replace("title",O._title).getRegex(),O.bullet=/(?:[*+-]|\d{1,9}[.)])/,O.listItemStart=c(/^( *)(bull) */).replace("bull",O.bullet).getRegex(),O.list=c(O.list).replace(/bull/g,O.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+O.def.source+")").getRegex(),O._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",O._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,O.html=c(O.html,"i").replace("comment",O._comment).replace("tag",O._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),O.paragraph=c(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.blockquote=c(O.blockquote).replace("paragraph",O.paragraph).getRegex(),O.normal=E({},O),O.gfm=E({},O.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),O.gfm.table=c(O.gfm.table).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.gfm.paragraph=c(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",O.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.pedantic=E({},O.normal,{html:c(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",O._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:_,paragraph:c(O.normal._paragraph).replace("hr",O.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",O.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var B={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};B._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",B.punctuation=c(B.punctuation).replace(/punctuation/g,B._punctuation).getRegex(),B.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,B.escapedEmSt=/\\\*|\\_/g,B._comment=c(O._comment).replace("(?:-->|$)","-->").getRegex(),B.emStrong.lDelim=c(B.emStrong.lDelim).replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimAst=c(B.emStrong.rDelimAst,"g").replace(/punct/g,B._punctuation).getRegex(),B.emStrong.rDelimUnd=c(B.emStrong.rDelimUnd,"g").replace(/punct/g,B._punctuation).getRegex(),B._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,B._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,B._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,B.autolink=c(B.autolink).replace("scheme",B._scheme).replace("email",B._email).getRegex(),B._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,B.tag=c(B.tag).replace("comment",B._comment).replace("attribute",B._attribute).getRegex(),B._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,B._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,B._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,B.link=c(B.link).replace("label",B._label).replace("href",B._href).replace("title",B._title).getRegex(),B.reflink=c(B.reflink).replace("label",B._label).replace("ref",O._label).getRegex(),B.nolink=c(B.nolink).replace("ref",O._label).getRegex(),B.reflinkSearch=c(B.reflinkSearch,"g").replace("reflink",B.reflink).replace("nolink",B.nolink).getRegex(),B.normal=E({},B),B.pedantic=E({},B.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:c(/^!?\[(label)\]\((.*?)\)/).replace("label",B._label).getRegex(),reflink:c(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",B._label).getRegex()}),B.gfm=E({},B.normal,{escape:c(B.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),B.gfm.url=c(B.gfm.url,"i").replace("email",B.gfm._extended_email).getRegex(),B.breaks=E({},B.gfm,{br:c(B.br).replace("{2,}","*").getRegex(),text:c(B.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function W(U){return U.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function V(U){var Z="",H,q,te=U.length;for(H=0;H<te;H++)q=U.charCodeAt(H),Math.random()>.5&&(q="x"+q.toString(16)),Z+="&#"+q+";";return Z}var z=function(){function U(H){this.tokens=[],this.tokens.links=Object.create(null),this.options=H||ee.defaults,this.options.tokenizer=this.options.tokenizer||new F,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var q={block:O.normal,inline:B.normal};this.options.pedantic?(q.block=O.pedantic,q.inline=B.pedantic):this.options.gfm&&(q.block=O.gfm,this.options.breaks?q.inline=B.breaks:q.inline=B.gfm),this.tokenizer.rules=q}U.lex=function(q,te){var G=new U(te);return G.lex(q)},U.lexInline=function(q,te){var G=new U(te);return G.inlineTokens(q)};var Z=U.prototype;return Z.lex=function(q){q=q.replace(/\r\n|\r/g,`
`),this.blockTokens(q,this.tokens);for(var te;te=this.inlineQueue.shift();)this.inlineTokens(te.src,te.tokens);return this.tokens},Z.blockTokens=function(q,te){var G=this;te===void 0&&(te=[]),this.options.pedantic?q=q.replace(/\t/g,"    ").replace(/^ +$/gm,""):q=q.replace(/^( *)(\t+)/gm,function(fe,ve,Ce){return ve+"    ".repeat(Ce.length)});for(var $,oe,ae,ue;q;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(fe){return($=fe.call({lexer:G},q,te))?(q=q.substring($.raw.length),te.push($),!0):!1}))){if($=this.tokenizer.space(q)){q=q.substring($.raw.length),$.raw.length===1&&te.length>0?te[te.length-1].raw+=`
`:te.push($);continue}if($=this.tokenizer.code(q)){q=q.substring($.raw.length),oe=te[te.length-1],oe&&(oe.type==="paragraph"||oe.type==="text")?(oe.raw+=`
`+$.raw,oe.text+=`
`+$.text,this.inlineQueue[this.inlineQueue.length-1].src=oe.text):te.push($);continue}if($=this.tokenizer.fences(q)){q=q.substring($.raw.length),te.push($);continue}if($=this.tokenizer.heading(q)){q=q.substring($.raw.length),te.push($);continue}if($=this.tokenizer.hr(q)){q=q.substring($.raw.length),te.push($);continue}if($=this.tokenizer.blockquote(q)){q=q.substring($.raw.length),te.push($);continue}if($=this.tokenizer.list(q)){q=q.substring($.raw.length),te.push($);continue}if($=this.tokenizer.html(q)){q=q.substring($.raw.length),te.push($);continue}if($=this.tokenizer.def(q)){q=q.substring($.raw.length),oe=te[te.length-1],oe&&(oe.type==="paragraph"||oe.type==="text")?(oe.raw+=`
`+$.raw,oe.text+=`
`+$.raw,this.inlineQueue[this.inlineQueue.length-1].src=oe.text):this.tokens.links[$.tag]||(this.tokens.links[$.tag]={href:$.href,title:$.title});continue}if($=this.tokenizer.table(q)){q=q.substring($.raw.length),te.push($);continue}if($=this.tokenizer.lheading(q)){q=q.substring($.raw.length),te.push($);continue}if(ae=q,this.options.extensions&&this.options.extensions.startBlock&&function(){var fe=1/0,ve=q.slice(1),Ce=void 0;G.options.extensions.startBlock.forEach(function(Se){Ce=Se.call({lexer:this},ve),typeof Ce=="number"&&Ce>=0&&(fe=Math.min(fe,Ce))}),fe<1/0&&fe>=0&&(ae=q.substring(0,fe+1))}(),this.state.top&&($=this.tokenizer.paragraph(ae))){oe=te[te.length-1],ue&&oe.type==="paragraph"?(oe.raw+=`
`+$.raw,oe.text+=`
`+$.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=oe.text):te.push($),ue=ae.length!==q.length,q=q.substring($.raw.length);continue}if($=this.tokenizer.text(q)){q=q.substring($.raw.length),oe=te[te.length-1],oe&&oe.type==="text"?(oe.raw+=`
`+$.raw,oe.text+=`
`+$.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=oe.text):te.push($);continue}if(q){var ce="Infinite loop on byte: "+q.charCodeAt(0);if(this.options.silent){console.error(ce);break}else throw new Error(ce)}}return this.state.top=!0,te},Z.inline=function(q,te){return te===void 0&&(te=[]),this.inlineQueue.push({src:q,tokens:te}),te},Z.inlineTokens=function(q,te){var G=this;te===void 0&&(te=[]);var $,oe,ae,ue=q,ce,fe,ve;if(this.tokens.links){var Ce=Object.keys(this.tokens.links);if(Ce.length>0)for(;(ce=this.tokenizer.rules.inline.reflinkSearch.exec(ue))!=null;)Ce.includes(ce[0].slice(ce[0].lastIndexOf("[")+1,-1))&&(ue=ue.slice(0,ce.index)+"["+M("a",ce[0].length-2)+"]"+ue.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ce=this.tokenizer.rules.inline.blockSkip.exec(ue))!=null;)ue=ue.slice(0,ce.index)+"["+M("a",ce[0].length-2)+"]"+ue.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ce=this.tokenizer.rules.inline.escapedEmSt.exec(ue))!=null;)ue=ue.slice(0,ce.index)+"++"+ue.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;q;)if(fe||(ve=""),fe=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(_e){return($=_e.call({lexer:G},q,te))?(q=q.substring($.raw.length),te.push($),!0):!1}))){if($=this.tokenizer.escape(q)){q=q.substring($.raw.length),te.push($);continue}if($=this.tokenizer.tag(q)){q=q.substring($.raw.length),oe=te[te.length-1],oe&&$.type==="text"&&oe.type==="text"?(oe.raw+=$.raw,oe.text+=$.text):te.push($);continue}if($=this.tokenizer.link(q)){q=q.substring($.raw.length),te.push($);continue}if($=this.tokenizer.reflink(q,this.tokens.links)){q=q.substring($.raw.length),oe=te[te.length-1],oe&&$.type==="text"&&oe.type==="text"?(oe.raw+=$.raw,oe.text+=$.text):te.push($);continue}if($=this.tokenizer.emStrong(q,ue,ve)){q=q.substring($.raw.length),te.push($);continue}if($=this.tokenizer.codespan(q)){q=q.substring($.raw.length),te.push($);continue}if($=this.tokenizer.br(q)){q=q.substring($.raw.length),te.push($);continue}if($=this.tokenizer.del(q)){q=q.substring($.raw.length),te.push($);continue}if($=this.tokenizer.autolink(q,V)){q=q.substring($.raw.length),te.push($);continue}if(!this.state.inLink&&($=this.tokenizer.url(q,V))){q=q.substring($.raw.length),te.push($);continue}if(ae=q,this.options.extensions&&this.options.extensions.startInline&&function(){var _e=1/0,Ie=q.slice(1),Ne=void 0;G.options.extensions.startInline.forEach(function(Oe){Ne=Oe.call({lexer:this},Ie),typeof Ne=="number"&&Ne>=0&&(_e=Math.min(_e,Ne))}),_e<1/0&&_e>=0&&(ae=q.substring(0,_e+1))}(),$=this.tokenizer.inlineText(ae,W)){q=q.substring($.raw.length),$.raw.slice(-1)!=="_"&&(ve=$.raw.slice(-1)),fe=!0,oe=te[te.length-1],oe&&oe.type==="text"?(oe.raw+=$.raw,oe.text+=$.text):te.push($);continue}if(q){var Se="Infinite loop on byte: "+q.charCodeAt(0);if(this.options.silent){console.error(Se);break}else throw new Error(Se)}}return te},L(U,null,[{key:"rules",get:function(){return{block:O,inline:B}}}]),U}(),K=function(){function U(H){this.options=H||ee.defaults}var Z=U.prototype;return Z.code=function(q,te,G){var $=(te||"").match(/\S*/)[0];if(this.options.highlight){var oe=this.options.highlight(q,$);oe!=null&&oe!==q&&(G=!0,q=oe)}return q=q.replace(/\n$/,"")+`
`,$?'<pre><code class="'+this.options.langPrefix+t($,!0)+'">'+(G?q:t(q,!0))+`</code></pre>
`:"<pre><code>"+(G?q:t(q,!0))+`</code></pre>
`},Z.blockquote=function(q){return`<blockquote>
`+q+`</blockquote>
`},Z.html=function(q){return q},Z.heading=function(q,te,G,$){if(this.options.headerIds){var oe=this.options.headerPrefix+$.slug(G);return"<h"+te+' id="'+oe+'">'+q+"</h"+te+`>
`}return"<h"+te+">"+q+"</h"+te+`>
`},Z.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Z.list=function(q,te,G){var $=te?"ol":"ul",oe=te&&G!==1?' start="'+G+'"':"";return"<"+$+oe+`>
`+q+"</"+$+`>
`},Z.listitem=function(q){return"<li>"+q+`</li>
`},Z.checkbox=function(q){return"<input "+(q?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Z.paragraph=function(q){return"<p>"+q+`</p>
`},Z.table=function(q,te){return te&&(te="<tbody>"+te+"</tbody>"),`<table>
<thead>
`+q+`</thead>
`+te+`</table>
`},Z.tablerow=function(q){return`<tr>
`+q+`</tr>
`},Z.tablecell=function(q,te){var G=te.header?"th":"td",$=te.align?"<"+G+' align="'+te.align+'">':"<"+G+">";return $+q+("</"+G+`>
`)},Z.strong=function(q){return"<strong>"+q+"</strong>"},Z.em=function(q){return"<em>"+q+"</em>"},Z.codespan=function(q){return"<code>"+q+"</code>"},Z.br=function(){return this.options.xhtml?"<br/>":"<br>"},Z.del=function(q){return"<del>"+q+"</del>"},Z.link=function(q,te,G){if(q=l(this.options.sanitize,this.options.baseUrl,q),q===null)return G;var $='<a href="'+t(q)+'"';return te&&($+=' title="'+te+'"'),$+=">"+G+"</a>",$},Z.image=function(q,te,G){if(q=l(this.options.sanitize,this.options.baseUrl,q),q===null)return G;var $='<img src="'+q+'" alt="'+G+'"';return te&&($+=' title="'+te+'"'),$+=this.options.xhtml?"/>":">",$},Z.text=function(q){return q},U}(),j=function(){function U(){}var Z=U.prototype;return Z.strong=function(q){return q},Z.em=function(q){return q},Z.codespan=function(q){return q},Z.del=function(q){return q},Z.html=function(q){return q},Z.text=function(q){return q},Z.link=function(q,te,G){return""+G},Z.image=function(q,te,G){return""+G},Z.br=function(){return""},U}(),x=function(){function U(){this.seen={}}var Z=U.prototype;return Z.serialize=function(q){return q.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Z.getNextSafeSlug=function(q,te){var G=q,$=0;if(this.seen.hasOwnProperty(G)){$=this.seen[q];do $++,G=q+"-"+$;while(this.seen.hasOwnProperty(G))}return te||(this.seen[q]=$,this.seen[G]=0),G},Z.slug=function(q,te){te===void 0&&(te={});var G=this.serialize(q);return this.getNextSafeSlug(G,te.dryrun)},U}(),re=function(){function U(H){this.options=H||ee.defaults,this.options.renderer=this.options.renderer||new K,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new j,this.slugger=new x}U.parse=function(q,te){var G=new U(te);return G.parse(q)},U.parseInline=function(q,te){var G=new U(te);return G.parseInline(q)};var Z=U.prototype;return Z.parse=function(q,te){te===void 0&&(te=!0);var G="",$,oe,ae,ue,ce,fe,ve,Ce,Se,_e,Ie,Ne,Oe,xe,We,ye,Me,me,be,Ae=q.length;for($=0;$<Ae;$++){if(_e=q[$],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[_e.type]&&(be=this.options.extensions.renderers[_e.type].call({parser:this},_e),be!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(_e.type))){G+=be||"";continue}switch(_e.type){case"space":continue;case"hr":{G+=this.renderer.hr();continue}case"heading":{G+=this.renderer.heading(this.parseInline(_e.tokens),_e.depth,g(this.parseInline(_e.tokens,this.textRenderer)),this.slugger);continue}case"code":{G+=this.renderer.code(_e.text,_e.lang,_e.escaped);continue}case"table":{for(Ce="",ve="",ue=_e.header.length,oe=0;oe<ue;oe++)ve+=this.renderer.tablecell(this.parseInline(_e.header[oe].tokens),{header:!0,align:_e.align[oe]});for(Ce+=this.renderer.tablerow(ve),Se="",ue=_e.rows.length,oe=0;oe<ue;oe++){for(fe=_e.rows[oe],ve="",ce=fe.length,ae=0;ae<ce;ae++)ve+=this.renderer.tablecell(this.parseInline(fe[ae].tokens),{header:!1,align:_e.align[ae]});Se+=this.renderer.tablerow(ve)}G+=this.renderer.table(Ce,Se);continue}case"blockquote":{Se=this.parse(_e.tokens),G+=this.renderer.blockquote(Se);continue}case"list":{for(Ie=_e.ordered,Ne=_e.start,Oe=_e.loose,ue=_e.items.length,Se="",oe=0;oe<ue;oe++)We=_e.items[oe],ye=We.checked,Me=We.task,xe="",We.task&&(me=this.renderer.checkbox(ye),Oe?We.tokens.length>0&&We.tokens[0].type==="paragraph"?(We.tokens[0].text=me+" "+We.tokens[0].text,We.tokens[0].tokens&&We.tokens[0].tokens.length>0&&We.tokens[0].tokens[0].type==="text"&&(We.tokens[0].tokens[0].text=me+" "+We.tokens[0].tokens[0].text)):We.tokens.unshift({type:"text",text:me}):xe+=me),xe+=this.parse(We.tokens,Oe),Se+=this.renderer.listitem(xe,Me,ye);G+=this.renderer.list(Se,Ie,Ne);continue}case"html":{G+=this.renderer.html(_e.text);continue}case"paragraph":{G+=this.renderer.paragraph(this.parseInline(_e.tokens));continue}case"text":{for(Se=_e.tokens?this.parseInline(_e.tokens):_e.text;$+1<Ae&&q[$+1].type==="text";)_e=q[++$],Se+=`
`+(_e.tokens?this.parseInline(_e.tokens):_e.text);G+=te?this.renderer.paragraph(Se):Se;continue}default:{var Be='Token with "'+_e.type+'" type was not found.';if(this.options.silent){console.error(Be);return}else throw new Error(Be)}}}return G},Z.parseInline=function(q,te){te=te||this.renderer;var G="",$,oe,ae,ue=q.length;for($=0;$<ue;$++){if(oe=q[$],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[oe.type]&&(ae=this.options.extensions.renderers[oe.type].call({parser:this},oe),ae!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(oe.type))){G+=ae||"";continue}switch(oe.type){case"escape":{G+=te.text(oe.text);break}case"html":{G+=te.html(oe.text);break}case"link":{G+=te.link(oe.href,oe.title,this.parseInline(oe.tokens,te));break}case"image":{G+=te.image(oe.href,oe.title,oe.text);break}case"strong":{G+=te.strong(this.parseInline(oe.tokens,te));break}case"em":{G+=te.em(this.parseInline(oe.tokens,te));break}case"codespan":{G+=te.codespan(oe.text);break}case"br":{G+=te.br();break}case"del":{G+=te.del(this.parseInline(oe.tokens,te));break}case"text":{G+=te.text(oe.text);break}default:{var ce='Token with "'+oe.type+'" type was not found.';if(this.options.silent){console.error(ce);return}else throw new Error(ce)}}}return G},U}();function ie(U,Z,H){if(typeof U>"u"||U===null)throw new Error("marked(): input parameter is undefined or null");if(typeof U!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(U)+", string expected");if(typeof Z=="function"&&(H=Z,Z=null),Z=E({},ie.defaults,Z||{}),R(Z),H){var q=Z.highlight,te;try{te=z.lex(U,Z)}catch(ue){return H(ue)}var G=function(ce){var fe;if(!ce)try{Z.walkTokens&&ie.walkTokens(te,Z.walkTokens),fe=re.parse(te,Z)}catch(ve){ce=ve}return Z.highlight=q,ce?H(ce):H(null,fe)};if(!q||q.length<3||(delete Z.highlight,!te.length))return G();var $=0;ie.walkTokens(te,function(ue){ue.type==="code"&&($++,setTimeout(function(){q(ue.text,ue.lang,function(ce,fe){if(ce)return G(ce);fe!=null&&fe!==ue.text&&(ue.text=fe,ue.escaped=!0),$--,$===0&&G()})},0))}),$===0&&G();return}function oe(ue){if(ue.message+=`
Please report this to https://github.com/markedjs/marked.`,Z.silent)return"<p>An error occurred:</p><pre>"+t(ue.message+"",!0)+"</pre>";throw ue}try{var ae=z.lex(U,Z);if(Z.walkTokens){if(Z.async)return Promise.all(ie.walkTokens(ae,Z.walkTokens)).then(function(){return re.parse(ae,Z)}).catch(oe);ie.walkTokens(ae,Z.walkTokens)}return re.parse(ae,Z)}catch(ue){oe(ue)}}ie.options=ie.setOptions=function(U){return E(ie.defaults,U),p(ie.defaults),ie},ie.getDefaults=S,ie.defaults=ee.defaults,ie.use=function(){for(var U=arguments.length,Z=new Array(U),H=0;H<U;H++)Z[H]=arguments[H];var q=E.apply(void 0,[{}].concat(Z)),te=ie.defaults.extensions||{renderers:{},childTokens:{}},G;Z.forEach(function($){if($.extensions&&(G=!0,$.extensions.forEach(function(ae){if(!ae.name)throw new Error("extension name required");if(ae.renderer){var ue=te.renderers?te.renderers[ae.name]:null;ue?te.renderers[ae.name]=function(){for(var ce=arguments.length,fe=new Array(ce),ve=0;ve<ce;ve++)fe[ve]=arguments[ve];var Ce=ae.renderer.apply(this,fe);return Ce===!1&&(Ce=ue.apply(this,fe)),Ce}:te.renderers[ae.name]=ae.renderer}if(ae.tokenizer){if(!ae.level||ae.level!=="block"&&ae.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");te[ae.level]?te[ae.level].unshift(ae.tokenizer):te[ae.level]=[ae.tokenizer],ae.start&&(ae.level==="block"?te.startBlock?te.startBlock.push(ae.start):te.startBlock=[ae.start]:ae.level==="inline"&&(te.startInline?te.startInline.push(ae.start):te.startInline=[ae.start]))}ae.childTokens&&(te.childTokens[ae.name]=ae.childTokens)})),$.renderer&&function(){var ae=ie.defaults.renderer||new K,ue=function(ve){var Ce=ae[ve];ae[ve]=function(){for(var Se=arguments.length,_e=new Array(Se),Ie=0;Ie<Se;Ie++)_e[Ie]=arguments[Ie];var Ne=$.renderer[ve].apply(ae,_e);return Ne===!1&&(Ne=Ce.apply(ae,_e)),Ne}};for(var ce in $.renderer)ue(ce);q.renderer=ae}(),$.tokenizer&&function(){var ae=ie.defaults.tokenizer||new F,ue=function(ve){var Ce=ae[ve];ae[ve]=function(){for(var Se=arguments.length,_e=new Array(Se),Ie=0;Ie<Se;Ie++)_e[Ie]=arguments[Ie];var Ne=$.tokenizer[ve].apply(ae,_e);return Ne===!1&&(Ne=Ce.apply(ae,_e)),Ne}};for(var ce in $.tokenizer)ue(ce);q.tokenizer=ae}(),$.walkTokens){var oe=ie.defaults.walkTokens;q.walkTokens=function(ae){var ue=[];return ue.push($.walkTokens.call(this,ae)),oe&&(ue=ue.concat(oe.call(this,ae))),ue}}G&&(q.extensions=te),ie.setOptions(q)})},ie.walkTokens=function(U,Z){for(var H=[],q=function(){var oe=G.value;switch(H=H.concat(Z.call(ie,oe)),oe.type){case"table":{for(var ae=D(oe.header),ue;!(ue=ae()).done;){var ce=ue.value;H=H.concat(ie.walkTokens(ce.tokens,Z))}for(var fe=D(oe.rows),ve;!(ve=fe()).done;)for(var Ce=ve.value,Se=D(Ce),_e;!(_e=Se()).done;){var Ie=_e.value;H=H.concat(ie.walkTokens(Ie.tokens,Z))}break}case"list":{H=H.concat(ie.walkTokens(oe.items,Z));break}default:ie.defaults.extensions&&ie.defaults.extensions.childTokens&&ie.defaults.extensions.childTokens[oe.type]?ie.defaults.extensions.childTokens[oe.type].forEach(function(Ne){H=H.concat(ie.walkTokens(oe[Ne],Z))}):oe.tokens&&(H=H.concat(ie.walkTokens(oe.tokens,Z)))}},te=D(U),G;!(G=te()).done;)q();return H},ie.parseInline=function(U,Z){if(typeof U>"u"||U===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof U!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(U)+", string expected");Z=E({},ie.defaults,Z||{}),R(Z);try{var H=z.lexInline(U,Z);return Z.walkTokens&&ie.walkTokens(H,Z.walkTokens),re.parseInline(H,Z)}catch(q){if(q.message+=`
Please report this to https://github.com/markedjs/marked.`,Z.silent)return"<p>An error occurred:</p><pre>"+t(q.message+"",!0)+"</pre>";throw q}},ie.Parser=re,ie.parser=re.parse,ie.Renderer=K,ie.TextRenderer=j,ie.Lexer=z,ie.lexer=z.lex,ie.Tokenizer=F,ie.Slugger=x,ie.parse=ie;var J=ie.options,X=ie.setOptions,Y=ie.use,le=ie.walkTokens,de=ie.parseInline,ge=ie,pe=re.parse,Q=z.lex;ee.Lexer=z,ee.Parser=re,ee.Renderer=K,ee.Slugger=x,ee.TextRenderer=j,ee.Tokenizer=F,ee.getDefaults=S,ee.lexer=Q,ee.marked=ie,ee.options=J,ee.parse=ge,ee.parseInline=de,ee.parser=pe,ee.setOptions=X,ee.use=Y,ee.walkTokens=le,Object.defineProperty(ee,"__esModule",{value:!0})}),define(ne[113],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(ne[204],se([1,0,113]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:L.Mimes.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}}),define(ne[408],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getKoreanAltChars=void 0;function L(n){const i=D(n);if(i&&i.length>0)return new Uint32Array(i)}e.getKoreanAltChars=L;let k=0;const y=new Uint32Array(10);function D(n){if(k=0,S(n,w,4352),k>0||(S(n,v,4449),k>0)||(S(n,b,4520),k>0)||(S(n,a,12593),k))return y.subarray(0,k);if(n>=44032&&n<=55203){const i=n-44032,t=i%588,o=Math.floor(i/588),g=Math.floor(t/28),m=t%28-1;if(o<w.length?S(o,w,0):4352+o-12593<a.length&&S(4352+o,a,12593),g<v.length?S(g,v,0):4449+g-12593<a.length&&S(4449+g-12593,a,12593),m>=0&&(m<b.length?S(m,b,0):4520+m-12593<a.length&&S(4520+m-12593,a,12593)),k>0)return y.subarray(0,k)}}function S(n,i,t){n>=t&&n<t+i.length&&p(i[n-t])}function p(n){n!==0&&(y[k++]=n&255,n>>8&&(y[k++]=n>>8&255),n>>16&&(y[k++]=n>>16&255))}const w=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),v=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),b=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),a=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108])}),define(ne[409],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class L{constructor(y,D=0,S=y.length,p=D-1){this.items=y,this.start=D,this.end=S,this.index=p}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=L}),define(ne[410],se([1,0,409]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(D=[],S=10){this._initialize(D),this._limit=S,this._onChange()}getHistory(){return this._elements}add(D){this._history.delete(D),this._history.add(D),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(D){return this._history.has(D)}_onChange(){this._reduceToLimit();const D=this._elements;this._navigator=new L.ArrayNavigator(D,0,D.length,D.length)}_reduceToLimit(){const D=this._elements;D.length>this._limit&&this._initialize(D.slice(D.length-this._limit))}_currentPosition(){const D=this._navigator.current();return D?this._elements.indexOf(D):-1}_initialize(D){this._history=new Set;for(const S of D)this._history.add(S)}get _elements(){const D=[];return this._history.forEach(S=>D.push(S)),D}}e.HistoryNavigator=k}),define(ne[128],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function L(D,S,p){return Math.min(Math.max(D,S),p)}e.clamp=L;class k{constructor(){this._n=1,this._val=0}update(S){return this._val=this._val+(S-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=k;class y{constructor(S){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(S),this._values.fill(0,0,S)}update(S){const p=this._values[this._index];return this._values[this._index]=S,this._index=(this._index+1)%this._values.length,this._sum-=p,this._sum+=S,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=y}),define(ne[173],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFunctionName=e.getDebugName=e.DebugNameData=void 0;class L{constructor(t,o,g){this.owner=t,this.debugNameSource=o,this.referenceFn=g}getDebugName(t){return D(t,this)}}e.DebugNameData=L;const k=new Map,y=new WeakMap;function D(i,t){var o;const g=y.get(i);if(g)return g;const m=S(i,t);if(m){let c=(o=k.get(m))!==null&&o!==void 0?o:0;c++,k.set(m,c);const d=c===1?m:`${m}#${c}`;return y.set(i,d),d}}e.getDebugName=D;function S(i,t){const o=y.get(i);if(o)return o;const g=t.owner?b(t.owner)+".":"";let m;const c=t.debugNameSource;if(c!==void 0)if(typeof c=="function"){if(m=c(),m!==void 0)return g+m}else return g+c;const d=t.referenceFn;if(d!==void 0&&(m=n(d),m!==void 0))return g+m;if(t.owner!==void 0){const s=p(t.owner,i);if(s!==void 0)return g+s}}function p(i,t){for(const o in i)if(i[o]===t)return o}const w=new Map,v=new WeakMap;function b(i){var t;const o=v.get(i);if(o)return o;const g=a(i);let m=(t=w.get(g))!==null&&t!==void 0?t:0;m++,w.set(g,m);const c=m===1?g:`${g}#${m}`;return v.set(i,c),c}function a(i){const t=i.constructor;return t?t.name:"Object"}function n(i){const t=i.toString(),g=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t),m=g?g[1]:void 0;return m?.trim()}e.getFunctionName=n}),define(ne[150],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleObservableLogger=e.getLogger=e.setLogger=void 0;let L;function k(o){L=o}e.setLogger=k;function y(){return L}e.getLogger=y;class D{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(g){return S([p(i("|  ",this.indentation)),g])}formatInfo(g){return g.hadValue?g.didChange?[p(" "),v(b(g.oldValue,70),{color:"red",strikeThrough:!0}),p(" "),v(b(g.newValue,60),{color:"green"})]:[p(" (unchanged)")]:[p(" "),v(b(g.newValue,60),{color:"green"}),p(" (initial)")]}handleObservableChanged(g,m){console.log(...this.textToConsoleArgs([w("observable value changed"),v(g.debugName,{color:"BlueViolet"}),...this.formatInfo(m)]))}formatChanges(g){if(g.size!==0)return v(" (changed deps: "+[...g].map(m=>m.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(g){const m=g.handleChange;this.changedObservablesSets.set(g,new Set),g.handleChange=(c,d)=>(this.changedObservablesSets.get(g).add(c),m.apply(g,[c,d]))}handleDerivedRecomputed(g,m){const c=this.changedObservablesSets.get(g);console.log(...this.textToConsoleArgs([w("derived recomputed"),v(g.debugName,{color:"BlueViolet"}),...this.formatInfo(m),this.formatChanges(c),{data:[{fn:g._computeFn}]}])),c.clear()}handleFromEventObservableTriggered(g,m){console.log(...this.textToConsoleArgs([w("observable from event triggered"),v(g.debugName,{color:"BlueViolet"}),...this.formatInfo(m),{data:[{fn:g._getValue}]}]))}handleAutorunCreated(g){const m=g.handleChange;this.changedObservablesSets.set(g,new Set),g.handleChange=(c,d)=>(this.changedObservablesSets.get(g).add(c),m.apply(g,[c,d]))}handleAutorunTriggered(g){const m=this.changedObservablesSets.get(g);console.log(...this.textToConsoleArgs([w("autorun"),v(g.debugName,{color:"BlueViolet"}),this.formatChanges(m),{data:[{fn:g._runFn}]}])),m.clear(),this.indentation++}handleAutorunFinished(g){this.indentation--}handleBeginTransaction(g){let m=g.getDebugName();m===void 0&&(m=""),console.log(...this.textToConsoleArgs([w("transaction"),v(m,{color:"BlueViolet"}),{data:[{fn:g._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}e.ConsoleObservableLogger=D;function S(o){const g=new Array,m=[];let c="";function d(l){if("length"in l)for(const r of l)r&&d(r);else"text"in l?(c+=`%c${l.text}`,g.push(l.style),l.data&&m.push(...l.data)):"data"in l&&m.push(...l.data)}d(o);const s=[c,...g];return s.push(...m),s}function p(o){return v(o,{color:"black"})}function w(o){return v(t(`${o}: `,10),{color:"black",bold:!0})}function v(o,g={color:"black"}){function m(d){return Object.entries(d).reduce((s,[l,r])=>`${s}${l}:${r};`,"")}const c={color:g.color};return g.strikeThrough&&(c["text-decoration"]="line-through"),g.bold&&(c["font-weight"]="bold"),{text:o,style:m(c)}}function b(o,g){switch(typeof o){case"number":return""+o;case"string":return o.length+2<=g?`"${o}"`:`"${o.substr(0,g-7)}"+...`;case"boolean":return o?"true":"false";case"undefined":return"undefined";case"object":return o===null?"null":Array.isArray(o)?a(o,g):n(o,g);case"symbol":return o.toString();case"function":return`[[Function${o.name?" "+o.name:""}]]`;default:return""+o}}function a(o,g){let m="[ ",c=!0;for(const d of o){if(c||(m+=", "),m.length-5>g){m+="...";break}c=!1,m+=`${b(d,g-m.length)}`}return m+=" ]",m}function n(o,g){let m="{ ",c=!0;for(const[d,s]of Object.entries(o)){if(c||(m+=", "),m.length-5>g){m+="...";break}c=!1,m+=`${d}: ${b(s,g-m.length)}`}return m+=" }",m}function i(o,g){let m="";for(let c=1;c<=g;c++)m+=o;return m}function t(o,g){for(;o.length<g;)o+=" ";return o}}),define(ne[276],se([1,0,90,2,173,150]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutorunObserver=e.autorunWithStore=e.autorunHandleChanges=e.autorunOpts=e.autorun=void 0;function S(a){return new b(new y.DebugNameData(void 0,void 0,a),a,void 0,void 0)}e.autorun=S;function p(a,n){var i;return new b(new y.DebugNameData(a.owner,a.debugName,(i=a.debugReferenceFn)!==null&&i!==void 0?i:n),n,void 0,void 0)}e.autorunOpts=p;function w(a,n){var i;return new b(new y.DebugNameData(a.owner,a.debugName,(i=a.debugReferenceFn)!==null&&i!==void 0?i:n),n,a.createEmptyChangeSummary,a.handleChange)}e.autorunHandleChanges=w;function v(a){const n=new k.DisposableStore,i=p({owner:void 0,debugName:void 0,debugReferenceFn:a},t=>{n.clear(),a(t,n)});return(0,k.toDisposable)(()=>{i.dispose(),n.dispose()})}e.autorunWithStore=v;class b{get debugName(){var n;return(n=this._debugNameData.getDebugName(this))!==null&&n!==void 0?n:"(anonymous)"}constructor(n,i,t,o){var g,m;this._debugNameData=n,this._runFn=i,this.createChangeSummary=t,this._handleChange=o,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(g=this.createChangeSummary)===null||g===void 0?void 0:g.call(this),(m=(0,D.getLogger)())===null||m===void 0||m.handleAutorunCreated(this),this._runIfNeeded(),(0,k.trackDisposable)(this)}dispose(){this.disposed=!0;for(const n of this.dependencies)n.removeObserver(this);this.dependencies.clear(),(0,k.markAsDisposed)(this)}_runIfNeeded(){var n,i,t;if(this.state===3)return;const o=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=o,this.state=3;const g=this.disposed;try{if(!g){(n=(0,D.getLogger)())===null||n===void 0||n.handleAutorunTriggered(this);const m=this.changeSummary;this.changeSummary=(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this),this._runFn(this,m)}}finally{g||(t=(0,D.getLogger)())===null||t===void 0||t.handleAutorunFinished(this);for(const m of this.dependenciesToBeRemoved)m.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const n of this.dependencies)if(n.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,L.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(n){this.state===3&&this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)&&(this.state=1)}handleChange(n,i){this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)&&(!this._handleChange||this._handleChange({changedObservable:n,change:i,didChange:o=>o===n},this.changeSummary))&&(this.state=2)}readObservable(n){if(this.disposed)return n.get();n.addObserver(this);const i=n.get();return this.dependencies.add(n),this.dependenciesToBeRemoved.delete(n),i}}e.AutorunObserver=b,function(a){a.Observer=b}(S||(e.autorun=S={}))}),define(ne[129],se([1,0,173,150]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableObservableValue=e.disposableObservableValue=e.ObservableValue=e.observableValue=e.TransactionImpl=e.subtransaction=e.asyncTransaction=e.globalTransaction=e.transaction=e.BaseObservable=e.ConvenientObservable=e._setDerivedOpts=e._setKeepObserved=e._setRecomputeInitiallyAndOnChange=void 0;let y;function D(r){y=r}e._setRecomputeInitiallyAndOnChange=D;let S;function p(r){S=r}e._setKeepObserved=p;let w;function v(r){w=r}e._setDerivedOpts=v;class b{get TChange(){return null}reportChanges(){this.get()}read(h){return h?h.readObservable(this):this.get()}map(h,u){const f=u===void 0?void 0:h,C=u===void 0?h:u;return w({owner:f,debugName:()=>{const _=(0,L.getFunctionName)(C);if(_!==void 0)return _;const I=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(C.toString());if(I)return`${this.debugName}.${I[2]}`;if(!f)return`${this.debugName} (mapped)`}},_=>C(this.read(_),_))}recomputeInitiallyAndOnChange(h,u){return h.add(y(this,u)),this}}e.ConvenientObservable=b;class a extends b{constructor(){super(...arguments),this.observers=new Set}addObserver(h){const u=this.observers.size;this.observers.add(h),u===0&&this.onFirstObserverAdded()}removeObserver(h){this.observers.delete(h)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}e.BaseObservable=a;function n(r,h){const u=new m(r,h);try{r(u)}finally{u.finish()}}e.transaction=n;let i;function t(r){if(i)r(i);else{const h=new m(r,void 0);i=h;try{r(h)}finally{h.finish(),i=void 0}}}e.globalTransaction=t;async function o(r,h){const u=new m(r,h);try{await r(u)}finally{u.finish()}}e.asyncTransaction=o;function g(r,h,u){r?h(r):n(h,u)}e.subtransaction=g;class m{constructor(h,u){var f;this._fn=h,this._getDebugName=u,this.updatingObservers=[],(f=(0,k.getLogger)())===null||f===void 0||f.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():(0,L.getFunctionName)(this._fn)}updateObserver(h,u){this.updatingObservers.push({observer:h,observable:u}),h.beginUpdate(u)}finish(){var h;const u=this.updatingObservers;for(let f=0;f<u.length;f++){const{observer:C,observable:_}=u[f];C.endUpdate(_)}this.updatingObservers=null,(h=(0,k.getLogger)())===null||h===void 0||h.handleEndTransaction()}}e.TransactionImpl=m;function c(r,h){return typeof r=="string"?new d(void 0,r,h):new d(r,void 0,h)}e.observableValue=c;class d extends a{get debugName(){var h;return(h=new L.DebugNameData(this._owner,this._debugName,void 0).getDebugName(this))!==null&&h!==void 0?h:"ObservableValue"}constructor(h,u,f){super(),this._owner=h,this._debugName=u,this._value=f}get(){return this._value}set(h,u,f){var C;if(this._value===h)return;let _;u||(u=_=new m(()=>{},()=>`Setting ${this.debugName}`));try{const E=this._value;this._setValue(h),(C=(0,k.getLogger)())===null||C===void 0||C.handleObservableChanged(this,{oldValue:E,newValue:h,change:f,didChange:!0,hadValue:!0});for(const I of this.observers)u.updateObserver(I,this),I.handleChange(this,f)}finally{_&&_.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(h){this._value=h}}e.ObservableValue=d;function s(r,h){return typeof r=="string"?new l(void 0,r,h):new l(r,void 0,h)}e.disposableObservableValue=s;class l extends d{_setValue(h){this._value!==h&&(this._value&&this._value.dispose(),this._value=h)}dispose(){var h;(h=this._value)===null||h===void 0||h.dispose()}}e.DisposableObservableValue=l}),define(ne[174],se([1,0,90,2,129,173,150]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Derived=e.derivedDisposable=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.defaultEqualityComparer=void 0;const p=(t,o)=>t===o;e.defaultEqualityComparer=p;function w(t,o){return o!==void 0?new i(new D.DebugNameData(t,void 0,o),o,void 0,void 0,void 0,e.defaultEqualityComparer):new i(new D.DebugNameData(void 0,void 0,t),t,void 0,void 0,void 0,e.defaultEqualityComparer)}e.derived=w;function v(t,o){var g;return new i(new D.DebugNameData(t.owner,t.debugName,t.debugReferenceFn),o,void 0,void 0,t.onLastObserverRemoved,(g=t.equalityComparer)!==null&&g!==void 0?g:e.defaultEqualityComparer)}e.derivedOpts=v,(0,y._setDerivedOpts)(v);function b(t,o){var g;return new i(new D.DebugNameData(t.owner,t.debugName,void 0),o,t.createEmptyChangeSummary,t.handleChange,void 0,(g=t.equalityComparer)!==null&&g!==void 0?g:e.defaultEqualityComparer)}e.derivedHandleChanges=b;function a(t,o){let g,m;o===void 0?(g=t,m=void 0):(m=t,g=o);const c=new k.DisposableStore;return new i(new D.DebugNameData(m,void 0,g),d=>(c.clear(),g(d,c)),void 0,void 0,()=>c.dispose(),e.defaultEqualityComparer)}e.derivedWithStore=a;function n(t,o){let g,m;o===void 0?(g=t,m=void 0):(m=t,g=o);const c=new k.DisposableStore;return new i(new D.DebugNameData(m,void 0,g),d=>{c.clear();const s=g(d);return s&&c.add(s),s},void 0,void 0,()=>c.dispose(),e.defaultEqualityComparer)}e.derivedDisposable=n;class i extends y.BaseObservable{get debugName(){var o;return(o=this._debugNameData.getDebugName(this))!==null&&o!==void 0?o:"(anonymous)"}constructor(o,g,m,c,d=void 0,s){var l,r;super(),this._debugNameData=o,this._computeFn=g,this.createChangeSummary=m,this._handleChange=c,this._handleLastObserverRemoved=d,this._equalityComparator=s,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(l=this.createChangeSummary)===null||l===void 0?void 0:l.call(this),(r=(0,S.getLogger)())===null||r===void 0||r.handleDerivedCreated(this)}onLastObserverRemoved(){var o;this.state=0,this.value=void 0;for(const g of this.dependencies)g.removeObserver(this);this.dependencies.clear(),(o=this._handleLastObserverRemoved)===null||o===void 0||o.call(this)}get(){var o;if(this.observers.size===0){const g=this._computeFn(this,(o=this.createChangeSummary)===null||o===void 0?void 0:o.call(this));return this.onLastObserverRemoved(),g}else{do{if(this.state===1){for(const g of this.dependencies)if(g.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var o,g;if(this.state===3)return;const m=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=m;const c=this.state!==0,d=this.value;this.state=3;const s=this.changeSummary;this.changeSummary=(o=this.createChangeSummary)===null||o===void 0?void 0:o.call(this);try{this.value=this._computeFn(this,s)}finally{for(const r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}const l=c&&!this._equalityComparator(d,this.value);if((g=(0,S.getLogger)())===null||g===void 0||g.handleDerivedRecomputed(this,{oldValue:d,newValue:this.value,change:void 0,didChange:l,hadValue:c}),l)for(const r of this.observers)r.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(o){this.updateCount++;const g=this.updateCount===1;if(this.state===3&&(this.state=1,!g))for(const m of this.observers)m.handlePossibleChange(this);if(g)for(const m of this.observers)m.beginUpdate(this)}endUpdate(o){if(this.updateCount--,this.updateCount===0){const g=[...this.observers];for(const m of g)m.endUpdate(this)}(0,L.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(o){if(this.state===3&&this.dependencies.has(o)&&!this.dependenciesToBeRemoved.has(o)){this.state=1;for(const g of this.observers)g.handlePossibleChange(this)}}handleChange(o,g){if(this.dependencies.has(o)&&!this.dependenciesToBeRemoved.has(o)){const m=this._handleChange?this._handleChange({changedObservable:o,change:g,didChange:d=>d===o},this.changeSummary):!0,c=this.state===3;if(m&&(this.state===1||c)&&(this.state=2,c))for(const d of this.observers)d.handlePossibleChange(this)}}readObservable(o){o.addObserver(this);const g=o.get();return this.dependencies.add(o),this.dependenciesToBeRemoved.delete(o),g}addObserver(o){const g=!this.observers.has(o)&&this.updateCount>0;super.addObserver(o),g&&o.beginUpdate(this)}removeObserver(o){const g=this.observers.has(o)&&this.updateCount>0;super.removeObserver(o),g&&o.endUpdate(this)}}e.Derived=i}),define(ne[411],se([1,0,276]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForState=void 0;function k(y,D,S){return new Promise((p,w)=>{let v=!0,b=!1;const a=y.map(i=>({isFinished:D(i),error:S?S(i):!1,state:i})),n=(0,L.autorun)(i=>{const{isFinished:t,error:o,state:g}=a.read(i);(t||o)&&(v?b=!0:n.dispose(),o?w(o===!0?g:o):p(g))});v=!1,b&&n.dispose()})}e.waitForState=k}),define(ne[277],se([1,0,2,129,173,174,150]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapObservableArrayCached=e.derivedObservableWithCache=e.KeepAliveObserver=e.recomputeInitiallyAndOnChange=e.keepObserved=e.observableSignal=e.observableSignalFromEvent=e.FromEventObservable=e.observableFromEvent=e.constObservable=void 0;function p(l){return new w(l)}e.constObservable=p;class w extends k.ConvenientObservable{constructor(r){super(),this.value=r}get debugName(){return this.toString()}get(){return this.value}addObserver(r){}removeObserver(r){}toString(){return`Const: ${this.value}`}}function v(l,r){return new b(l,r)}e.observableFromEvent=v;class b extends k.BaseObservable{constructor(r,h){super(),this.event=r,this._getValue=h,this.hasValue=!1,this.handleEvent=u=>{var f;const C=this._getValue(u),_=this.value,E=!this.hasValue||_!==C;let I=!1;E&&(this.value=C,this.hasValue&&(I=!0,(0,k.subtransaction)(b.globalTransaction,T=>{var A;(A=(0,S.getLogger)())===null||A===void 0||A.handleFromEventObservableTriggered(this,{oldValue:_,newValue:C,change:void 0,didChange:E,hadValue:this.hasValue});for(const R of this.observers)T.updateObserver(R,this),R.handleChange(this,void 0)},()=>{const T=this.getDebugName();return"Event fired"+(T?`: ${T}`:"")})),this.hasValue=!0),I||(f=(0,S.getLogger)())===null||f===void 0||f.handleFromEventObservableTriggered(this,{oldValue:_,newValue:C,change:void 0,didChange:E,hadValue:this.hasValue})}}getDebugName(){return(0,y.getFunctionName)(this._getValue)}get debugName(){const r=this.getDebugName();return"From Event"+(r?`: ${r}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}e.FromEventObservable=b,function(l){l.Observer=b;function r(h,u){let f=!1;b.globalTransaction===void 0&&(b.globalTransaction=h,f=!0);try{u()}finally{f&&(b.globalTransaction=void 0)}}l.batchEventsGlobally=r}(v||(e.observableFromEvent=v={}));function a(l,r){return new n(l,r)}e.observableSignalFromEvent=a;class n extends k.BaseObservable{constructor(r,h){super(),this.debugName=r,this.event=h,this.handleEvent=()=>{(0,k.transaction)(u=>{for(const f of this.observers)u.updateObserver(f,this),f.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function i(l){return typeof l=="string"?new t(l):new t(void 0,l)}e.observableSignal=i;class t extends k.BaseObservable{get debugName(){var r;return(r=new y.DebugNameData(this._owner,this._debugName,void 0).getDebugName(this))!==null&&r!==void 0?r:"Observable Signal"}constructor(r,h){super(),this._debugName=r,this._owner=h}trigger(r,h){if(!r){(0,k.transaction)(u=>{this.trigger(u,h)},()=>`Trigger signal ${this.debugName}`);return}for(const u of this.observers)r.updateObserver(u,this),u.handleChange(this,h)}get(){}}function o(l){const r=new m(!1,void 0);return l.addObserver(r),(0,L.toDisposable)(()=>{l.removeObserver(r)})}e.keepObserved=o,(0,k._setKeepObserved)(o);function g(l,r){const h=new m(!0,r);return l.addObserver(h),r?r(l.get()):l.reportChanges(),(0,L.toDisposable)(()=>{l.removeObserver(h)})}e.recomputeInitiallyAndOnChange=g,(0,k._setRecomputeInitiallyAndOnChange)(g);class m{constructor(r,h){this._forceRecompute=r,this._handleValue=h,this._counter=0}beginUpdate(r){this._counter++}endUpdate(r){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(r.get()):r.reportChanges())}handlePossibleChange(r){}handleChange(r,h){}}e.KeepAliveObserver=m;function c(l){let r;return(0,D.derived)(u=>(r=l(u,r),r))}e.derivedObservableWithCache=c;function d(l,r,h,u){let f=new s(h,u);return(0,D.derivedOpts)({debugReferenceFn:h,owner:l,onLastObserverRemoved:()=>{f.dispose(),f=new s(h)}},_=>(f.setItems(r.read(_)),f.getItems()))}e.mapObservableArrayCached=d;class s{constructor(r,h){this._map=r,this._keySelector=h,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(r=>r.store.dispose()),this._cache.clear()}setItems(r){const h=[],u=new Set(this._cache.keys());for(const f of r){const C=this._keySelector?this._keySelector(f):f;let _=this._cache.get(C);if(_)u.delete(C);else{const E=new L.DisposableStore;_={out:this._map(f,E),store:E},this._cache.set(C,_)}h.push(_.out)}for(const f of u)this._cache.get(f).store.dispose(),this._cache.delete(f);this._items=h}getItems(){return this._items}}}),define(ne[32],se([1,0,129,174,276,277,411,150]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForState=e.observableSignalFromEvent=e.observableSignal=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.keepObserved=e.derivedObservableWithCache=e.constObservable=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return L.observableValue}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return L.disposableObservableValue}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return L.transaction}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return L.subtransaction}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return k.derived}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return k.derivedOpts}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return k.derivedHandleChanges}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return k.derivedWithStore}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return y.autorun}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return y.autorunHandleChanges}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return y.autorunWithStore}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return y.autorunOpts}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return D.constObservable}}),Object.defineProperty(e,"derivedObservableWithCache",{enumerable:!0,get:function(){return D.derivedObservableWithCache}}),Object.defineProperty(e,"keepObserved",{enumerable:!0,get:function(){return D.keepObserved}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return D.recomputeInitiallyAndOnChange}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return D.observableFromEvent}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return D.observableSignal}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return D.observableSignalFromEvent}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return S.waitForState}}),!1&&(0,p.setLogger)(new p.ConsoleObservableLogger)}),define(ne[175],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var L;(function(k){function y(w,v){if(w.start>=v.end||v.start>=w.end)return{start:0,end:0};const b=Math.max(w.start,v.start),a=Math.min(w.end,v.end);return a-b<=0?{start:0,end:0}:{start:b,end:a}}k.intersect=y;function D(w){return w.end-w.start<=0}k.isEmpty=D;function S(w,v){return!D(y(w,v))}k.intersects=S;function p(w,v){const b=[],a={start:w.start,end:Math.min(v.start,w.end)},n={start:Math.max(v.end,w.start),end:w.end};return D(a)||b.push(a),D(n)||b.push(n),b}k.relativeComplement=p})(L||(e.Range=L={}))}),define(ne[412],se([1,0,175]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function k(w,v){const b=[];for(const a of v){if(w.start>=a.range.end)continue;if(w.end<a.range.start)break;const n=L.Range.intersect(w,a.range);L.Range.isEmpty(n)||b.push({range:n,size:a.size})}return b}e.groupIntersect=k;function y({start:w,end:v},b){return{start:w+b,end:v+b}}e.shift=y;function D(w){const v=[];let b=null;for(const a of w){const n=a.range.start,i=a.range.end,t=a.size;if(b&&t===b.size){b.range.end=i;continue}b={range:{start:n,end:i},size:t},v.push(b)}return v}e.consolidate=D;function S(...w){return D(w.reduce((v,b)=>v.concat(b),[]))}class p{get paddingTop(){return this._paddingTop}set paddingTop(v){this._size=this._size+v-this._paddingTop,this._paddingTop=v}constructor(v){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=v??0,this._size=this._paddingTop}splice(v,b,a=[]){const n=a.length-b,i=k({start:0,end:v},this.groups),t=k({start:v+b,end:Number.POSITIVE_INFINITY},this.groups).map(g=>({range:y(g.range,n),size:g.size})),o=a.map((g,m)=>({range:{start:v+m,end:v+m+1},size:g.size}));this.groups=S(i,o,t),this._size=this._paddingTop+this.groups.reduce((g,m)=>g+m.size*(m.range.end-m.range.start),0)}get count(){const v=this.groups.length;return v?this.groups[v-1].range.end:0}get size(){return this._size}indexAt(v){if(v<0)return-1;if(v<this._paddingTop)return 0;let b=0,a=this._paddingTop;for(const n of this.groups){const i=n.range.end-n.range.start,t=a+i*n.size;if(v<t)return b+Math.floor((v-a)/n.size);b+=i,a=t}return b}indexAfter(v){return Math.min(this.indexAt(v)+1,this.count)}positionAt(v){if(v<0)return-1;let b=0,a=0;for(const n of this.groups){const i=n.range.end-n.range.start,t=a+i;if(v<t)return this._paddingTop+b+(v-a)*n.size;b+=i*n.size,a=t}return-1}}e.RangeMap=p}),define(ne[63],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const L=globalThis.performance&&typeof globalThis.performance.now=="function";class k{static create(D){return new k(D)}constructor(D){this._now=L&&D===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}e.StopWatch=k}),define(ne[7],se([1,0,12,112,2,67,63]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.createEventDeliveryQueue=e.Emitter=e.EventProfiling=e.Event=void 0;const p=!1,w=!1;var v;(function(C){C.None=()=>y.Disposable.None;function _(Q){if(w){const{onDidAddListener:U}=Q,Z=i.create();let H=0;Q.onDidAddListener=()=>{++H===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Z.print()),U?.()}}}function E(Q,U){return B(Q,()=>{},0,void 0,!0,void 0,U)}C.defer=E;function I(Q){return(U,Z=null,H)=>{let q=!1,te;return te=Q(G=>{if(!q)return te?te.dispose():q=!0,U.call(Z,G)},null,H),q&&te.dispose(),te}}C.once=I;function T(Q,U,Z){return F((H,q=null,te)=>Q(G=>H.call(q,U(G)),null,te),Z)}C.map=T;function A(Q,U,Z){return F((H,q=null,te)=>Q(G=>{U(G),H.call(q,G)},null,te),Z)}C.forEach=A;function R(Q,U,Z){return F((H,q=null,te)=>Q(G=>U(G)&&H.call(q,G),null,te),Z)}C.filter=R;function M(Q){return Q}C.signal=M;function N(...Q){return(U,Z=null,H)=>{const q=(0,y.combinedDisposable)(...Q.map(te=>te(G=>U.call(Z,G))));return O(q,H)}}C.any=N;function P(Q,U,Z,H){let q=Z;return T(Q,te=>(q=U(q,te),q),H)}C.reduce=P;function F(Q,U){let Z;const H={onWillAddFirstListener(){Z=Q(q.fire,q)},onDidRemoveLastListener(){Z?.dispose()}};U||_(H);const q=new m(H);return U?.add(q),q.event}function O(Q,U){return U instanceof Array?U.push(Q):U&&U.add(Q),Q}function B(Q,U,Z=100,H=!1,q=!1,te,G){let $,oe,ae,ue=0,ce;const fe={leakWarningThreshold:te,onWillAddFirstListener(){$=Q(Ce=>{ue++,oe=U(oe,Ce),H&&!ae&&(ve.fire(oe),oe=void 0),ce=()=>{const Se=oe;oe=void 0,ae=void 0,(!H||ue>1)&&ve.fire(Se),ue=0},typeof Z=="number"?(clearTimeout(ae),ae=setTimeout(ce,Z)):ae===void 0&&(ae=0,queueMicrotask(ce))})},onWillRemoveListener(){q&&ue>0&&ce?.()},onDidRemoveLastListener(){ce=void 0,$.dispose()}};G||_(fe);const ve=new m(fe);return G?.add(ve),ve.event}C.debounce=B;function W(Q,U=0,Z){return C.debounce(Q,(H,q)=>H?(H.push(q),H):[q],U,void 0,!0,void 0,Z)}C.accumulate=W;function V(Q,U=(H,q)=>H===q,Z){let H=!0,q;return R(Q,te=>{const G=H||!U(te,q);return H=!1,q=te,G},Z)}C.latch=V;function z(Q,U,Z){return[C.filter(Q,U,Z),C.filter(Q,H=>!U(H),Z)]}C.split=z;function K(Q,U=!1,Z=[],H){let q=Z.slice(),te=Q(oe=>{q?q.push(oe):$.fire(oe)});H&&H.add(te);const G=()=>{q?.forEach(oe=>$.fire(oe)),q=null},$=new m({onWillAddFirstListener(){te||(te=Q(oe=>$.fire(oe)),H&&H.add(te))},onDidAddFirstListener(){q&&(U?setTimeout(G):G())},onDidRemoveLastListener(){te&&te.dispose(),te=null}});return H&&H.add($),$.event}C.buffer=K;function j(Q,U){return(H,q,te)=>{const G=U(new re);return Q(function($){const oe=G.evaluate($);oe!==x&&H.call(q,oe)},void 0,te)}}C.chain=j;const x=Symbol("HaltChainable");class re{constructor(){this.steps=[]}map(U){return this.steps.push(U),this}forEach(U){return this.steps.push(Z=>(U(Z),Z)),this}filter(U){return this.steps.push(Z=>U(Z)?Z:x),this}reduce(U,Z){let H=Z;return this.steps.push(q=>(H=U(H,q),H)),this}latch(U=(Z,H)=>Z===H){let Z=!0,H;return this.steps.push(q=>{const te=Z||!U(q,H);return Z=!1,H=q,te?q:x}),this}evaluate(U){for(const Z of this.steps)if(U=Z(U),U===x)break;return U}}function ie(Q,U,Z=H=>H){const H=(...$)=>G.fire(Z(...$)),q=()=>Q.on(U,H),te=()=>Q.removeListener(U,H),G=new m({onWillAddFirstListener:q,onDidRemoveLastListener:te});return G.event}C.fromNodeEventEmitter=ie;function J(Q,U,Z=H=>H){const H=(...$)=>G.fire(Z(...$)),q=()=>Q.addEventListener(U,H),te=()=>Q.removeEventListener(U,H),G=new m({onWillAddFirstListener:q,onDidRemoveLastListener:te});return G.event}C.fromDOMEventEmitter=J;function X(Q){return new Promise(U=>I(Q)(U))}C.toPromise=X;function Y(Q){const U=new m;return Q.then(Z=>{U.fire(Z)},()=>{U.fire(void 0)}).finally(()=>{U.dispose()}),U.event}C.fromPromise=Y;function le(Q,U,Z){return U(Z),Q(H=>U(H))}C.runAndSubscribe=le;class de{constructor(U,Z){this._observable=U,this._counter=0,this._hasChanged=!1;const H={onWillAddFirstListener:()=>{U.addObserver(this)},onDidRemoveLastListener:()=>{U.removeObserver(this)}};Z||_(H),this.emitter=new m(H),Z&&Z.add(this.emitter)}beginUpdate(U){this._counter++}handlePossibleChange(U){}handleChange(U,Z){this._hasChanged=!0}endUpdate(U){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function ge(Q,U){return new de(Q,U).emitter.event}C.fromObservable=ge;function pe(Q){return(U,Z,H)=>{let q=0,te=!1;const G={beginUpdate(){q++},endUpdate(){q--,q===0&&(Q.reportChanges(),te&&(te=!1,U.call(Z)))},handlePossibleChange(){},handleChange(){te=!0}};Q.addObserver(G),Q.reportChanges();const $={dispose(){Q.removeObserver(G)}};return H instanceof y.DisposableStore?H.add($):Array.isArray(H)&&H.push($),$}}C.fromObservableLight=pe})(v||(e.Event=v={}));class b{constructor(_){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${_}_${b._idPool++}`,b.all.add(this)}start(_){this._stopWatch=new S.StopWatch,this.listenerCount=_}stop(){if(this._stopWatch){const _=this._stopWatch.elapsed();this.durations.push(_),this.elapsedOverall+=_,this.invocationCount+=1,this._stopWatch=void 0}}}e.EventProfiling=b,b.all=new Set,b._idPool=0;let a=-1;class n{constructor(_,E=Math.random().toString(18).slice(2,5)){this.threshold=_,this.name=E,this._warnCountdown=0}dispose(){var _;(_=this._stacks)===null||_===void 0||_.clear()}check(_,E){const I=this.threshold;if(I<=0||E<I)return;this._stacks||(this._stacks=new Map);const T=this._stacks.get(_.value)||0;if(this._stacks.set(_.value,T+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=I*.5;let A,R=0;for(const[M,N]of this._stacks)(!A||R<N)&&(A=M,R=N);console.warn(`[${this.name}] potential listener LEAK detected, having ${E} listeners already. MOST frequent listener (${R}):`),console.warn(A)}return()=>{const A=this._stacks.get(_.value)||0;this._stacks.set(_.value,A-1)}}}class i{static create(){var _;return new i((_=new Error().stack)!==null&&_!==void 0?_:"")}constructor(_){this.value=_}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class t{constructor(_){this.value=_}}const o=2,g=(C,_)=>{if(C instanceof t)_(C);else for(let E=0;E<C.length;E++){const I=C[E];I&&_(I)}};class m{constructor(_){var E,I,T,A,R;this._size=0,this._options=_,this._leakageMon=a>0||!((E=this._options)===null||E===void 0)&&E.leakWarningThreshold?new n((T=(I=this._options)===null||I===void 0?void 0:I.leakWarningThreshold)!==null&&T!==void 0?T:a):void 0,this._perfMon=!((A=this._options)===null||A===void 0)&&A._profName?new b(this._options._profName):void 0,this._deliveryQueue=(R=this._options)===null||R===void 0?void 0:R.deliveryQueue}dispose(){var _,E,I,T;if(!this._disposed){if(this._disposed=!0,((_=this._deliveryQueue)===null||_===void 0?void 0:_.current)===this&&this._deliveryQueue.reset(),this._listeners){if(p){const A=this._listeners;queueMicrotask(()=>{g(A,R=>{var M;return(M=R.stack)===null||M===void 0?void 0:M.print()})})}this._listeners=void 0,this._size=0}(I=(E=this._options)===null||E===void 0?void 0:E.onDidRemoveLastListener)===null||I===void 0||I.call(E),(T=this._leakageMon)===null||T===void 0||T.dispose()}}get event(){var _;return(_=this._event)!==null&&_!==void 0||(this._event=(E,I,T)=>{var A,R,M,N,P;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),y.Disposable.None;if(this._disposed)return y.Disposable.None;I&&(E=E.bind(I));const F=new t(E);let O,B;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(F.stack=i.create(),O=this._leakageMon.check(F.stack,this._size+1)),p&&(F.stack=B??i.create()),this._listeners?this._listeners instanceof t?((P=this._deliveryQueue)!==null&&P!==void 0||(this._deliveryQueue=new d),this._listeners=[this._listeners,F]):this._listeners.push(F):((R=(A=this._options)===null||A===void 0?void 0:A.onWillAddFirstListener)===null||R===void 0||R.call(A,this),this._listeners=F,(N=(M=this._options)===null||M===void 0?void 0:M.onDidAddFirstListener)===null||N===void 0||N.call(M,this)),this._size++;const W=(0,y.toDisposable)(()=>{O?.(),this._removeListener(F)});return T instanceof y.DisposableStore?T.add(W):Array.isArray(T)&&T.push(W),W}),this._event}_removeListener(_){var E,I,T,A;if((I=(E=this._options)===null||E===void 0?void 0:E.onWillRemoveListener)===null||I===void 0||I.call(E,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(A=(T=this._options)===null||T===void 0?void 0:T.onDidRemoveLastListener)===null||A===void 0||A.call(T,this),this._size=0;return}const R=this._listeners,M=R.indexOf(_);if(M===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,R[M]=void 0;const N=this._deliveryQueue.current===this;if(this._size*o<=R.length){let P=0;for(let F=0;F<R.length;F++)R[F]?R[P++]=R[F]:N&&(this._deliveryQueue.end--,P<this._deliveryQueue.i&&this._deliveryQueue.i--);R.length=P}}_deliver(_,E){var I;if(!_)return;const T=((I=this._options)===null||I===void 0?void 0:I.onListenerError)||L.onUnexpectedError;if(!T){_.value(E);return}try{_.value(E)}catch(A){T(A)}}_deliverQueue(_){const E=_.current._listeners;for(;_.i<_.end;)this._deliver(E[_.i++],_.value);_.reset()}fire(_){var E,I,T,A;if(!((E=this._deliveryQueue)===null||E===void 0)&&E.current&&(this._deliverQueue(this._deliveryQueue),(I=this._perfMon)===null||I===void 0||I.stop()),(T=this._perfMon)===null||T===void 0||T.start(this._size),this._listeners)if(this._listeners instanceof t)this._deliver(this._listeners,_);else{const R=this._deliveryQueue;R.enqueue(this,_,this._listeners.length),this._deliverQueue(R)}(A=this._perfMon)===null||A===void 0||A.stop()}hasListeners(){return this._size>0}}e.Emitter=m;const c=()=>new d;e.createEventDeliveryQueue=c;class d{constructor(){this.i=-1,this.end=0}enqueue(_,E,I){this.i=0,this.end=I,this.current=_,this.value=E}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class s extends m{constructor(_){super(_),this._isPaused=0,this._eventQueue=new D.LinkedList,this._mergeFn=_?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const _=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(_))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(_){this._size&&(this._isPaused!==0?this._eventQueue.push(_):super.fire(_))}}e.PauseableEmitter=s;class l extends s{constructor(_){var E;super(_),this._delay=(E=_.delay)!==null&&E!==void 0?E:100}fire(_){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(_)}}e.DebounceEmitter=l;class r extends m{constructor(_){super(_),this._queuedEvents=[],this._mergeFn=_?.merge}fire(_){this.hasListeners()&&(this._queuedEvents.push(_),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(E=>super.fire(E)),this._queuedEvents=[]}))}}e.MicrotaskEmitter=r;class h{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new m({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(_){const E={event:_,listener:null};this.events.push(E),this.hasListeners&&this.hook(E);const I=()=>{this.hasListeners&&this.unhook(E);const T=this.events.indexOf(E);this.events.splice(T,1)};return(0,y.toDisposable)((0,k.createSingleCallFunction)(I))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(_=>this.hook(_))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(_=>this.unhook(_))}hook(_){_.listener=_.event(E=>this.emitter.fire(E))}unhook(_){var E;(E=_.listener)===null||E===void 0||E.dispose(),_.listener=null}dispose(){var _;this.emitter.dispose();for(const E of this.events)(_=E.listener)===null||_===void 0||_.dispose();this.events=[]}}e.EventMultiplexer=h;class u{constructor(){this.buffers=[]}wrapEvent(_){return(E,I,T)=>_(A=>{const R=this.buffers[this.buffers.length-1];R?R.push(()=>E.call(I,A)):E.call(I,A)},void 0,T)}bufferEvents(_){const E=[];this.buffers.push(E);const I=_();return this.buffers.pop(),E.forEach(T=>T()),I}}e.EventBufferer=u;class f{constructor(){this.listening=!1,this.inputEvent=v.None,this.inputEventListener=y.Disposable.None,this.emitter=new m({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(_){this.inputEvent=_,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=_(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=f}),define(ne[84],se([1,0,7]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class k{get event(){return this.emitter.event}constructor(D,S,p){const w=v=>this.emitter.fire(v);this.emitter=new L.Emitter({onWillAddFirstListener:()=>D.addEventListener(S,w,p),onDidRemoveLastListener:()=>D.removeEventListener(S,w,p)})}dispose(){this.emitter.dispose()}}e.DomEmitter=k}),define(ne[19],se([1,0,7]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const k=Object.freeze(function(p,w){const v=setTimeout(p.bind(w),0);return{dispose(){clearTimeout(v)}}});var y;(function(p){function w(v){return v===p.None||v===p.Cancelled||v instanceof D?!0:!v||typeof v!="object"?!1:typeof v.isCancellationRequested=="boolean"&&typeof v.onCancellationRequested=="function"}p.isCancellationToken=w,p.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:L.Event.None}),p.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(y||(e.CancellationToken=y={}));class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new L.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class S{constructor(w){this._token=void 0,this._parentListener=void 0,this._parentListener=w&&w.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=y.Cancelled}dispose(w=!1){var v;w&&this.cancel(),(v=this._parentListener)===null||v===void 0||v.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=y.None}}e.CancellationTokenSource=S}),define(ne[278],se([1,0,7]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IME=e.IMEImpl=void 0;class k{constructor(){this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}e.IMEImpl=k,e.IME=new k}),define(ne[151],se([1,0,7,2]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class y{constructor(i,t,o,g,m,c,d){this._forceIntegerValues=i,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,o=o|0,g=g|0,m=m|0,c=c|0,d=d|0),this.rawScrollLeft=g,this.rawScrollTop=d,t<0&&(t=0),g+t>o&&(g=o-t),g<0&&(g=0),m<0&&(m=0),d+m>c&&(d=c-m),d<0&&(d=0),this.width=t,this.scrollWidth=o,this.scrollLeft=g,this.height=m,this.scrollHeight=c,this.scrollTop=d}equals(i){return this.rawScrollLeft===i.rawScrollLeft&&this.rawScrollTop===i.rawScrollTop&&this.width===i.width&&this.scrollWidth===i.scrollWidth&&this.scrollLeft===i.scrollLeft&&this.height===i.height&&this.scrollHeight===i.scrollHeight&&this.scrollTop===i.scrollTop}withScrollDimensions(i,t){return new y(this._forceIntegerValues,typeof i.width<"u"?i.width:this.width,typeof i.scrollWidth<"u"?i.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof i.height<"u"?i.height:this.height,typeof i.scrollHeight<"u"?i.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(i){return new y(this._forceIntegerValues,this.width,this.scrollWidth,typeof i.scrollLeft<"u"?i.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof i.scrollTop<"u"?i.scrollTop:this.rawScrollTop)}createScrollEvent(i,t){const o=this.width!==i.width,g=this.scrollWidth!==i.scrollWidth,m=this.scrollLeft!==i.scrollLeft,c=this.height!==i.height,d=this.scrollHeight!==i.scrollHeight,s=this.scrollTop!==i.scrollTop;return{inSmoothScrolling:t,oldWidth:i.width,oldScrollWidth:i.scrollWidth,oldScrollLeft:i.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:i.height,oldScrollHeight:i.scrollHeight,oldScrollTop:i.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:o,scrollWidthChanged:g,scrollLeftChanged:m,heightChanged:c,scrollHeightChanged:d,scrollTopChanged:s}}}e.ScrollState=y;class D extends k.Disposable{constructor(i){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new L.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=i.smoothScrollDuration,this._scheduleAtNextAnimationFrame=i.scheduleAtNextAnimationFrame,this._state=new y(i.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(i){this._smoothScrollDuration=i}validateScrollPosition(i){return this._state.withScrollPosition(i)}getScrollDimensions(){return this._state}setScrollDimensions(i,t){var o;const g=this._state.withScrollDimensions(i,t);this._setState(g,!!this._smoothScrolling),(o=this._smoothScrolling)===null||o===void 0||o.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(i){const t=this._state.withScrollPosition(i);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(i,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(i);if(this._smoothScrolling){i={scrollLeft:typeof i.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:i.scrollLeft,scrollTop:typeof i.scrollTop>"u"?this._smoothScrolling.to.scrollTop:i.scrollTop};const o=this._state.withScrollPosition(i);if(this._smoothScrolling.to.scrollLeft===o.scrollLeft&&this._smoothScrolling.to.scrollTop===o.scrollTop)return;let g;t?g=new v(this._smoothScrolling.from,o,this._smoothScrolling.startTime,this._smoothScrolling.duration):g=this._smoothScrolling.combine(this._state,o,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=g}else{const o=this._state.withScrollPosition(i);this._smoothScrolling=v.start(this._state,o,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const i=this._smoothScrolling.tick(),t=this._state.withScrollPosition(i);if(this._setState(t,!0),!!this._smoothScrolling){if(i.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(i,t){const o=this._state;o.equals(i)||(this._state=i,this._onScroll.fire(this._state.createScrollEvent(o,t)))}}e.Scrollable=D;class S{constructor(i,t,o){this.scrollLeft=i,this.scrollTop=t,this.isDone=o}}e.SmoothScrollingUpdate=S;function p(n,i){const t=i-n;return function(o){return n+t*a(o)}}function w(n,i,t){return function(o){return o<t?n(o/t):i((o-t)/(1-t))}}class v{constructor(i,t,o,g){this.from=i,this.to=t,this.duration=g,this.startTime=o,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(i,t,o){if(Math.abs(i-t)>2.5*o){let m,c;return i<t?(m=i+.75*o,c=t-.75*o):(m=i-.75*o,c=t+.75*o),w(p(i,m),p(c,t),.33)}return p(i,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(i){this.to=i.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(i){const t=(i-this.startTime)/this.duration;if(t<1){const o=this.scrollLeft(t),g=this.scrollTop(t);return new S(o,g,!1)}return new S(this.to.scrollLeft,this.to.scrollTop,!0)}combine(i,t,o){return v.start(i,t,o)}static start(i,t,o){o=o+10;const g=Date.now()-10;return new v(i,t,g,o)}}e.SmoothScrollingOperation=v;function b(n){return Math.pow(n,3)}function a(n){return 1-b(1-n)}}),define(ne[11],se([1,0,274,96]),function(ee,e,L,k){"use strict";var y;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.isAsciiDigit=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLinesIncludeSeparators=e.splitLines=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.htmlAttributeEncodeValue=e.format=e.isFalsyOrWhitespace=void 0;function D(ae){return!ae||typeof ae!="string"?!0:ae.trim().length===0}e.isFalsyOrWhitespace=D;const S=/{(\d+)}/g;function p(ae,...ue){return ue.length===0?ae:ae.replace(S,function(ce,fe){const ve=parseInt(fe,10);return isNaN(ve)||ve<0||ve>=ue.length?ce:ue[ve]})}e.format=p;function w(ae){return ae.replace(/[<>"'&]/g,ue=>{switch(ue){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return ue})}e.htmlAttributeEncodeValue=w;function v(ae){return ae.replace(/[<>&]/g,function(ue){switch(ue){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return ue}})}e.escape=v;function b(ae){return ae.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=b;function a(ae,ue=" "){const ce=n(ae,ue);return i(ce,ue)}e.trim=a;function n(ae,ue){if(!ae||!ue)return ae;const ce=ue.length;if(ce===0||ae.length===0)return ae;let fe=0;for(;ae.indexOf(ue,fe)===fe;)fe=fe+ce;return ae.substring(fe)}e.ltrim=n;function i(ae,ue){if(!ae||!ue)return ae;const ce=ue.length,fe=ae.length;if(ce===0||fe===0)return ae;let ve=fe,Ce=-1;for(;Ce=ae.lastIndexOf(ue,ve-1),!(Ce===-1||Ce+ce!==ve);){if(Ce===0)return"";ve=Ce}return ae.substring(0,ve)}e.rtrim=i;function t(ae){return ae.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=t;function o(ae){return ae.replace(/\*/g,"")}e.stripWildcards=o;function g(ae,ue,ce={}){if(!ae)throw new Error("Cannot create regex from empty string");ue||(ae=b(ae)),ce.wholeWord&&(/\B/.test(ae.charAt(0))||(ae="\\b"+ae),/\B/.test(ae.charAt(ae.length-1))||(ae=ae+"\\b"));let fe="";return ce.global&&(fe+="g"),ce.matchCase||(fe+="i"),ce.multiline&&(fe+="m"),ce.unicode&&(fe+="u"),new RegExp(ae,fe)}e.createRegExp=g;function m(ae){return ae.source==="^"||ae.source==="^$"||ae.source==="$"||ae.source==="^\\s*$"?!1:!!(ae.exec("")&&ae.lastIndex===0)}e.regExpLeadsToEndlessLoop=m;function c(ae){return ae.split(/\r\n|\r|\n/)}e.splitLines=c;function d(ae){var ue;const ce=[],fe=ae.split(/(\r\n|\r|\n)/);for(let ve=0;ve<Math.ceil(fe.length/2);ve++)ce.push(fe[2*ve]+((ue=fe[2*ve+1])!==null&&ue!==void 0?ue:""));return ce}e.splitLinesIncludeSeparators=d;function s(ae){for(let ue=0,ce=ae.length;ue<ce;ue++){const fe=ae.charCodeAt(ue);if(fe!==32&&fe!==9)return ue}return-1}e.firstNonWhitespaceIndex=s;function l(ae,ue=0,ce=ae.length){for(let fe=ue;fe<ce;fe++){const ve=ae.charCodeAt(fe);if(ve!==32&&ve!==9)return ae.substring(ue,fe)}return ae.substring(ue,ce)}e.getLeadingWhitespace=l;function r(ae,ue=ae.length-1){for(let ce=ue;ce>=0;ce--){const fe=ae.charCodeAt(ce);if(fe!==32&&fe!==9)return ce}return-1}e.lastNonWhitespaceIndex=r;function h(ae,ue){return ae<ue?-1:ae>ue?1:0}e.compare=h;function u(ae,ue,ce=0,fe=ae.length,ve=0,Ce=ue.length){for(;ce<fe&&ve<Ce;ce++,ve++){const Ie=ae.charCodeAt(ce),Ne=ue.charCodeAt(ve);if(Ie<Ne)return-1;if(Ie>Ne)return 1}const Se=fe-ce,_e=Ce-ve;return Se<_e?-1:Se>_e?1:0}e.compareSubstring=u;function f(ae,ue){return C(ae,ue,0,ae.length,0,ue.length)}e.compareIgnoreCase=f;function C(ae,ue,ce=0,fe=ae.length,ve=0,Ce=ue.length){for(;ce<fe&&ve<Ce;ce++,ve++){let Ie=ae.charCodeAt(ce),Ne=ue.charCodeAt(ve);if(Ie===Ne)continue;if(Ie>=128||Ne>=128)return u(ae.toLowerCase(),ue.toLowerCase(),ce,fe,ve,Ce);E(Ie)&&(Ie-=32),E(Ne)&&(Ne-=32);const Oe=Ie-Ne;if(Oe!==0)return Oe}const Se=fe-ce,_e=Ce-ve;return Se<_e?-1:Se>_e?1:0}e.compareSubstringIgnoreCase=C;function _(ae){return ae>=48&&ae<=57}e.isAsciiDigit=_;function E(ae){return ae>=97&&ae<=122}e.isLowerAsciiLetter=E;function I(ae){return ae>=65&&ae<=90}e.isUpperAsciiLetter=I;function T(ae,ue){return ae.length===ue.length&&C(ae,ue)===0}e.equalsIgnoreCase=T;function A(ae,ue){const ce=ue.length;return ue.length>ae.length?!1:C(ae,ue,0,ce)===0}e.startsWithIgnoreCase=A;function R(ae,ue){const ce=Math.min(ae.length,ue.length);let fe;for(fe=0;fe<ce;fe++)if(ae.charCodeAt(fe)!==ue.charCodeAt(fe))return fe;return ce}e.commonPrefixLength=R;function M(ae,ue){const ce=Math.min(ae.length,ue.length);let fe;const ve=ae.length-1,Ce=ue.length-1;for(fe=0;fe<ce;fe++)if(ae.charCodeAt(ve-fe)!==ue.charCodeAt(Ce-fe))return fe;return ce}e.commonSuffixLength=M;function N(ae){return 55296<=ae&&ae<=56319}e.isHighSurrogate=N;function P(ae){return 56320<=ae&&ae<=57343}e.isLowSurrogate=P;function F(ae,ue){return(ae-55296<<10)+(ue-56320)+65536}e.computeCodePoint=F;function O(ae,ue,ce){const fe=ae.charCodeAt(ce);if(N(fe)&&ce+1<ue){const ve=ae.charCodeAt(ce+1);if(P(ve))return F(fe,ve)}return fe}e.getNextCodePoint=O;function B(ae,ue){const ce=ae.charCodeAt(ue-1);if(P(ce)&&ue>1){const fe=ae.charCodeAt(ue-2);if(N(fe))return F(fe,ce)}return ce}class W{get offset(){return this._offset}constructor(ue,ce=0){this._str=ue,this._len=ue.length,this._offset=ce}setOffset(ue){this._offset=ue}prevCodePoint(){const ue=B(this._str,this._offset);return this._offset-=ue>=65536?2:1,ue}nextCodePoint(){const ue=O(this._str,this._len,this._offset);return this._offset+=ue>=65536?2:1,ue}eol(){return this._offset>=this._len}}e.CodePointIterator=W;class V{get offset(){return this._iterator.offset}constructor(ue,ce=0){this._iterator=new W(ue,ce)}nextGraphemeLength(){const ue=Z.getInstance(),ce=this._iterator,fe=ce.offset;let ve=ue.getGraphemeBreakType(ce.nextCodePoint());for(;!ce.eol();){const Ce=ce.offset,Se=ue.getGraphemeBreakType(ce.nextCodePoint());if(U(ve,Se)){ce.setOffset(Ce);break}ve=Se}return ce.offset-fe}prevGraphemeLength(){const ue=Z.getInstance(),ce=this._iterator,fe=ce.offset;let ve=ue.getGraphemeBreakType(ce.prevCodePoint());for(;ce.offset>0;){const Ce=ce.offset,Se=ue.getGraphemeBreakType(ce.prevCodePoint());if(U(Se,ve)){ce.setOffset(Ce);break}ve=Se}return fe-ce.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=V;function z(ae,ue){return new V(ae,ue).nextGraphemeLength()}e.nextCharLength=z;function K(ae,ue){return new V(ae,ue).prevGraphemeLength()}e.prevCharLength=K;function j(ae,ue){ue>0&&P(ae.charCodeAt(ue))&&ue--;const ce=ue+z(ae,ue);return[ce-K(ae,ce),ce]}e.getCharContainingOffset=j;let x;function re(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function ie(ae){return x||(x=re()),x.test(ae)}e.containsRTL=ie;const J=/^[\t\n\r\x20-\x7E]*$/;function X(ae){return J.test(ae)}e.isBasicASCII=X,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function Y(ae){return e.UNUSUAL_LINE_TERMINATORS.test(ae)}e.containsUnusualLineTerminators=Y;function le(ae){return ae>=11904&&ae<=55215||ae>=63744&&ae<=64255||ae>=65281&&ae<=65374}e.isFullWidthCharacter=le;function de(ae){return ae>=127462&&ae<=127487||ae===8986||ae===8987||ae===9200||ae===9203||ae>=9728&&ae<=10175||ae===11088||ae===11093||ae>=127744&&ae<=128591||ae>=128640&&ae<=128764||ae>=128992&&ae<=129008||ae>=129280&&ae<=129535||ae>=129648&&ae<=129782}e.isEmojiImprecise=de,e.UTF8_BOM_CHARACTER="\uFEFF";function ge(ae){return!!(ae&&ae.length>0&&ae.charCodeAt(0)===65279)}e.startsWithUTF8BOM=ge;function pe(ae,ue=!1){return ae?(ue&&(ae=ae.replace(/\\./g,"")),ae.toLowerCase()!==ae):!1}e.containsUppercaseCharacter=pe;function Q(ae){return ae=ae%(2*26),ae<26?String.fromCharCode(97+ae):String.fromCharCode(65+ae-26)}e.singleLetterHash=Q;function U(ae,ue){return ae===0?ue!==5&&ue!==7:ae===2&&ue===3?!1:ae===4||ae===2||ae===3||ue===4||ue===2||ue===3?!0:!(ae===8&&(ue===8||ue===9||ue===11||ue===12)||(ae===11||ae===9)&&(ue===9||ue===10)||(ae===12||ae===10)&&ue===10||ue===5||ue===13||ue===7||ae===1||ae===13&&ue===14||ae===6&&ue===6)}class Z{static getInstance(){return Z._INSTANCE||(Z._INSTANCE=new Z),Z._INSTANCE}constructor(){this._data=H()}getGraphemeBreakType(ue){if(ue<32)return ue===10?3:ue===13?2:4;if(ue<127)return 0;const ce=this._data,fe=ce.length/3;let ve=1;for(;ve<=fe;)if(ue<ce[3*ve])ve=2*ve;else if(ue>ce[3*ve+1])ve=2*ve+1;else return ce[3*ve+2];return 0}}Z._INSTANCE=null;function H(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function q(ae,ue){if(ae===0)return 0;const ce=te(ae,ue);if(ce!==void 0)return ce;const fe=new W(ue,ae);return fe.prevCodePoint(),fe.offset}e.getLeftDeleteOffset=q;function te(ae,ue){const ce=new W(ue,ae);let fe=ce.prevCodePoint();for(;G(fe)||fe===65039||fe===8419;){if(ce.offset===0)return;fe=ce.prevCodePoint()}if(!de(fe))return;let ve=ce.offset;return ve>0&&ce.prevCodePoint()===8205&&(ve=ce.offset),ve}function G(ae){return 127995<=ae&&ae<=127999}e.noBreakWhitespace="\xA0";class ${static getInstance(ue){return y.cache.get(Array.from(ue))}static getLocales(){return y._locales.value}constructor(ue){this.confusableDictionary=ue}isAmbiguous(ue){return this.confusableDictionary.has(ue)}getPrimaryConfusable(ue){return this.confusableDictionary.get(ue)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=$,y=$,$.ambiguousCharacterData=new k.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),$.cache=new L.LRUCachedFunction(ae=>{function ue(Ne){const Oe=new Map;for(let xe=0;xe<Ne.length;xe+=2)Oe.set(Ne[xe],Ne[xe+1]);return Oe}function ce(Ne,Oe){const xe=new Map(Ne);for(const[We,ye]of Oe)xe.set(We,ye);return xe}function fe(Ne,Oe){if(!Ne)return Oe;const xe=new Map;for(const[We,ye]of Ne)Oe.has(We)&&xe.set(We,ye);return xe}const ve=y.ambiguousCharacterData.value;let Ce=ae.filter(Ne=>!Ne.startsWith("_")&&Ne in ve);Ce.length===0&&(Ce=["_default"]);let Se;for(const Ne of Ce){const Oe=ue(ve[Ne]);Se=fe(Se,Oe)}const _e=ue(ve._common),Ie=ce(_e,Se);return new y(Ie)}),$._locales=new k.Lazy(()=>Object.keys(y.ambiguousCharacterData.value).filter(ae=>!ae.startsWith("_")));class oe{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(oe.getRawData())),this._data}static isInvisibleCharacter(ue){return oe.getData().has(ue)}static get codePoints(){return oe.getData()}}e.InvisibleCharacters=oe,oe._data=void 0}),define(ne[73],se([1,0,53,408,11]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy2=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function D(...$){return function(oe,ae){for(let ue=0,ce=$.length;ue<ce;ue++){const fe=$[ue](oe,ae);if(fe)return fe}return null}}e.or=D,e.matchesStrictPrefix=S.bind(void 0,!1),e.matchesPrefix=S.bind(void 0,!0);function S($,oe,ae){if(!ae||ae.length<oe.length)return null;let ue;return $?ue=y.startsWithIgnoreCase(ae,oe):ue=ae.indexOf(oe)===0,ue?oe.length>0?[{start:0,end:oe.length}]:[]:null}function p($,oe){const ae=oe.toLowerCase().indexOf($.toLowerCase());return ae===-1?null:[{start:ae,end:ae+$.length}]}e.matchesContiguousSubString=p;function w($,oe){return v($.toLowerCase(),oe.toLowerCase(),0,0)}e.matchesSubString=w;function v($,oe,ae,ue){if(ae===$.length)return[];if(ue===oe.length)return null;if($[ae]===oe[ue]){let ce=null;return(ce=v($,oe,ae+1,ue+1))?s({start:ue,end:ue+1},ce):null}return v($,oe,ae,ue+1)}function b($){return 97<=$&&$<=122}function a($){return 65<=$&&$<=90}e.isUpper=a;function n($){return 48<=$&&$<=57}function i($){return $===32||$===9||$===10||$===13}const t=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach($=>t.add($.charCodeAt(0)));function o($){return i($)||t.has($)}function g($,oe){return $===oe||o($)&&o(oe)}const m=new Map;function c($){if(m.has($))return m.get($);let oe;const ae=(0,k.getKoreanAltChars)($);return ae&&(oe=ae),m.set($,oe),oe}function d($){return b($)||a($)||n($)}function s($,oe){return oe.length===0?oe=[$]:$.end===oe[0].start?oe[0].start=$.start:oe.unshift($),oe}function l($,oe){for(let ae=oe;ae<$.length;ae++){const ue=$.charCodeAt(ae);if(a(ue)||n(ue)||ae>0&&!d($.charCodeAt(ae-1)))return ae}return $.length}function r($,oe,ae,ue){if(ae===$.length)return[];if(ue===oe.length)return null;if($[ae]!==oe[ue].toLowerCase())return null;{let ce=null,fe=ue+1;for(ce=r($,oe,ae+1,ue+1);!ce&&(fe=l(oe,fe))<oe.length;)ce=r($,oe,ae+1,fe),fe++;return ce===null?null:s({start:ue,end:ue+1},ce)}}function h($){let oe=0,ae=0,ue=0,ce=0,fe=0;for(let Ie=0;Ie<$.length;Ie++)fe=$.charCodeAt(Ie),a(fe)&&oe++,b(fe)&&ae++,d(fe)&&ue++,n(fe)&&ce++;const ve=oe/$.length,Ce=ae/$.length,Se=ue/$.length,_e=ce/$.length;return{upperPercent:ve,lowerPercent:Ce,alphaPercent:Se,numericPercent:_e}}function u($){const{upperPercent:oe,lowerPercent:ae}=$;return ae===0&&oe>.6}function f($){const{upperPercent:oe,lowerPercent:ae,alphaPercent:ue,numericPercent:ce}=$;return ae>.2&&oe<.8&&ue>.6&&ce<.2}function C($){let oe=0,ae=0,ue=0,ce=0;for(let fe=0;fe<$.length;fe++)ue=$.charCodeAt(fe),a(ue)&&oe++,b(ue)&&ae++,i(ue)&&ce++;return(oe===0||ae===0)&&ce===0?$.length<=30:oe<=5}function _($,oe){if(!oe||(oe=oe.trim(),oe.length===0)||!C($))return null;oe.length>60&&(oe=oe.substring(0,60));const ae=h(oe);if(!f(ae)){if(!u(ae))return null;oe=oe.toLowerCase()}let ue=null,ce=0;for($=$.toLowerCase();ce<oe.length&&(ue=r($,oe,0,ce))===null;)ce=l(oe,ce+1);return ue}e.matchesCamelCase=_;function E($,oe,ae=!1){if(!oe||oe.length===0)return null;let ue=null,ce=0;for($=$.toLowerCase(),oe=oe.toLowerCase();ce<oe.length&&(ue=I($,oe,0,ce,ae),ue===null);)ce=T(oe,ce+1);return ue}e.matchesWords=E;function I($,oe,ae,ue,ce){let fe=0;if(ae===$.length)return[];if(ue===oe.length)return null;if(!g($.charCodeAt(ae),oe.charCodeAt(ue))){const Se=c($.charCodeAt(ae));if(!Se)return null;for(let _e=0;_e<Se.length;_e++)if(!g(Se[_e],oe.charCodeAt(ue+_e)))return null;fe+=Se.length-1}let ve=null,Ce=ue+fe+1;if(ve=I($,oe,ae+1,Ce,ce),!ce)for(;!ve&&(Ce=T(oe,Ce))<oe.length;)ve=I($,oe,ae+1,Ce,ce),Ce++;if(!ve)return null;if($.charCodeAt(ae)!==oe.charCodeAt(ue)){const Se=c($.charCodeAt(ae));if(!Se)return ve;for(let _e=0;_e<Se.length;_e++)if(Se[_e]!==oe.charCodeAt(ue+_e))return ve}return s({start:ue,end:ue+fe+1},ve)}function T($,oe){for(let ae=oe;ae<$.length;ae++)if(o($.charCodeAt(ae))||ae>0&&o($.charCodeAt(ae-1)))return ae;return $.length}const A=D(e.matchesPrefix,_,p),R=D(e.matchesPrefix,_,w),M=new L.LRUCache(1e4);function N($,oe,ae=!1){if(typeof $!="string"||typeof oe!="string")return null;let ue=M.get($);ue||(ue=new RegExp(y.convertSimple2RegExpPattern($),"i"),M.set($,ue));const ce=ue.exec(oe);return ce?[{start:ce.index,end:ce.index+ce[0].length}]:ae?R($,oe):A($,oe)}e.matchesFuzzy=N;function P($,oe){const ae=U($,$.toLowerCase(),0,oe,oe.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return ae?O(ae):null}e.matchesFuzzy2=P;function F($,oe,ae,ue,ce,fe){const ve=Math.min(13,$.length);for(;ae<ve;ae++){const Ce=U($,oe,ae,ue,ce,fe,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Ce)return Ce}return[0,fe]}e.anyScore=F;function O($){if(typeof $>"u")return[];const oe=[],ae=$[1];for(let ue=$.length-1;ue>1;ue--){const ce=$[ue]+ae,fe=oe[oe.length-1];fe&&fe.end===ce?fe.end=ce+1:oe.push({start:ce,end:ce+1})}return oe}e.createMatches=O;const B=128;function W(){const $=[],oe=[];for(let ae=0;ae<=B;ae++)oe[ae]=0;for(let ae=0;ae<=B;ae++)$.push(oe.slice(0));return $}function V($){const oe=[];for(let ae=0;ae<=$;ae++)oe[ae]=0;return oe}const z=V(2*B),K=V(2*B),j=W(),x=W(),re=W(),ie=!1;function J($,oe,ae,ue,ce){function fe(Ce,Se,_e=" "){for(;Ce.length<Se;)Ce=_e+Ce;return Ce}let ve=` |   |${ue.split("").map(Ce=>fe(Ce,3)).join("|")}
`;for(let Ce=0;Ce<=ae;Ce++)Ce===0?ve+=" |":ve+=`${oe[Ce-1]}|`,ve+=$[Ce].slice(0,ce+1).map(Se=>fe(Se.toString(),3)).join("|")+`
`;return ve}function X($,oe,ae,ue){$=$.substr(oe),ae=ae.substr(ue),console.log(J(x,$,$.length,ae,ae.length)),console.log(J(re,$,$.length,ae,ae.length)),console.log(J(j,$,$.length,ae,ae.length))}function Y($,oe){if(oe<0||oe>=$.length)return!1;const ae=$.codePointAt(oe);switch(ae){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!y.isEmojiImprecise(ae)}}function le($,oe){if(oe<0||oe>=$.length)return!1;switch($.charCodeAt(oe)){case 32:case 9:return!0;default:return!1}}function de($,oe,ae){return oe[$]!==ae[$]}function ge($,oe,ae,ue,ce,fe,ve=!1){for(;oe<ae&&ce<fe;)$[oe]===ue[ce]&&(ve&&(z[oe]=ce),oe+=1),ce+=1;return oe===ae}e.isPatternInWord=ge;var pe;(function($){$.Default=[-100,0];function oe(ae){return!ae||ae.length===2&&ae[0]===-100&&ae[1]===0}$.isDefault=oe})(pe||(e.FuzzyScore=pe={}));class Q{constructor(oe,ae){this.firstMatchCanBeWeak=oe,this.boostFullMatch=ae}}e.FuzzyScoreOptions=Q,Q.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function U($,oe,ae,ue,ce,fe,ve=Q.default){const Ce=$.length>B?B:$.length,Se=ue.length>B?B:ue.length;if(ae>=Ce||fe>=Se||Ce-ae>Se-fe||!ge(oe,ae,Ce,ce,fe,Se,!0))return;Z(Ce,Se,ae,fe,oe,ce);let _e=1,Ie=1,Ne=ae,Oe=fe;const xe=[!1];for(_e=1,Ne=ae;Ne<Ce;_e++,Ne++){const be=z[Ne],Ae=K[Ne],Be=Ne+1<Ce?K[Ne+1]:Se;for(Ie=be-fe+1,Oe=be;Oe<Be;Ie++,Oe++){let Ke=Number.MIN_SAFE_INTEGER,qe=!1;Oe<=Ae&&(Ke=H($,oe,Ne,ae,ue,ce,Oe,Se,fe,j[_e-1][Ie-1]===0,xe));let Ge=0;Ke!==Number.MAX_SAFE_INTEGER&&(qe=!0,Ge=Ke+x[_e-1][Ie-1]);const st=Oe>be,Xe=st?x[_e][Ie-1]+(j[_e][Ie-1]>0?-5:0):0,ot=Oe>be+1&&j[_e][Ie-1]>0,nt=ot?x[_e][Ie-2]+(j[_e][Ie-2]>0?-5:0):0;if(ot&&(!st||nt>=Xe)&&(!qe||nt>=Ge))x[_e][Ie]=nt,re[_e][Ie]=3,j[_e][Ie]=0;else if(st&&(!qe||Xe>=Ge))x[_e][Ie]=Xe,re[_e][Ie]=2,j[_e][Ie]=0;else if(qe)x[_e][Ie]=Ge,re[_e][Ie]=1,j[_e][Ie]=j[_e-1][Ie-1]+1;else throw new Error("not possible")}}if(ie&&X($,ae,ue,fe),!xe[0]&&!ve.firstMatchCanBeWeak)return;_e--,Ie--;const We=[x[_e][Ie],fe];let ye=0,Me=0;for(;_e>=1;){let be=Ie;do{const Ae=re[_e][be];if(Ae===3)be=be-2;else if(Ae===2)be=be-1;else break}while(be>=1);ye>1&&oe[ae+_e-1]===ce[fe+Ie-1]&&!de(be+fe-1,ue,ce)&&ye+1>j[_e][be]&&(be=Ie),be===Ie?ye++:ye=1,Me||(Me=be),_e--,Ie=be-1,We.push(Ie)}Se===Ce&&ve.boostFullMatch&&(We[0]+=2);const me=Me-Ce;return We[0]-=me,We}e.fuzzyScore=U;function Z($,oe,ae,ue,ce,fe){let ve=$-1,Ce=oe-1;for(;ve>=ae&&Ce>=ue;)ce[ve]===fe[Ce]&&(K[ve]=Ce,ve--),Ce--}function H($,oe,ae,ue,ce,fe,ve,Ce,Se,_e,Ie){if(oe[ae]!==fe[ve])return Number.MIN_SAFE_INTEGER;let Ne=1,Oe=!1;return ve===ae-ue?Ne=$[ae]===ce[ve]?7:5:de(ve,ce,fe)&&(ve===0||!de(ve-1,ce,fe))?(Ne=$[ae]===ce[ve]?7:5,Oe=!0):Y(fe,ve)&&(ve===0||!Y(fe,ve-1))?Ne=5:(Y(fe,ve-1)||le(fe,ve-1))&&(Ne=5,Oe=!0),Ne>1&&ae===ue&&(Ie[0]=!0),Oe||(Oe=de(ve,ce,fe)||Y(fe,ve-1)||le(fe,ve-1)),ae===ue?ve>Se&&(Ne-=Oe?3:5):_e?Ne+=Oe?2:0:Ne+=Oe?0:1,ve+1===Ce&&(Ne-=Oe?3:5),Ne}function q($,oe,ae,ue,ce,fe,ve){return te($,oe,ae,ue,ce,fe,!0,ve)}e.fuzzyScoreGracefulAggressive=q;function te($,oe,ae,ue,ce,fe,ve,Ce){let Se=U($,oe,ae,ue,ce,fe,Ce);if(Se&&!ve)return Se;if($.length>=3){const _e=Math.min(7,$.length-1);for(let Ie=ae+1;Ie<_e;Ie++){const Ne=G($,Ie);if(Ne){const Oe=U(Ne,Ne.toLowerCase(),ae,ue,ce,fe,Ce);Oe&&(Oe[0]-=3,(!Se||Oe[0]>Se[0])&&(Se=Oe))}}}return Se}function G($,oe){if(oe+1>=$.length)return;const ae=$[oe],ue=$[oe+1];if(ae!==ue)return $.slice(0,oe)+ue+ae+$.slice(oe+2)}}),define(ne[114],se([1,0,11]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function k(o){return y(o,0)}e.hash=k;function y(o,g){switch(typeof o){case"object":return o===null?D(349,g):Array.isArray(o)?w(o,g):v(o,g);case"string":return p(o,g);case"boolean":return S(o,g);case"number":return D(o,g);case"undefined":return D(937,g);default:return D(617,g)}}e.doHash=y;function D(o,g){return(g<<5)-g+o|0}e.numberHash=D;function S(o,g){return D(o?433:863,g)}function p(o,g){g=D(149417,g);for(let m=0,c=o.length;m<c;m++)g=D(o.charCodeAt(m),g);return g}e.stringHash=p;function w(o,g){return g=D(104579,g),o.reduce((m,c)=>y(c,m),g)}function v(o,g){return g=D(181387,g),Object.keys(o).sort().reduce((m,c)=>(m=p(c,m),y(o[c],m)),g)}function b(o,g,m=32){const c=m-g,d=~((1<<c)-1);return(o<<g|(d&o)>>>c)>>>0}function a(o,g=0,m=o.byteLength,c=0){for(let d=0;d<m;d++)o[g+d]=c}function n(o,g,m="0"){for(;o.length<g;)o=m+o;return o}function i(o,g=32){return o instanceof ArrayBuffer?Array.from(new Uint8Array(o)).map(m=>m.toString(16).padStart(2,"0")).join(""):n((o>>>0).toString(16),g/4)}e.toHexString=i;class t{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(g){const m=g.length;if(m===0)return;const c=this._buff;let d=this._buffLen,s=this._leftoverHighSurrogate,l,r;for(s!==0?(l=s,r=-1,s=0):(l=g.charCodeAt(0),r=0);;){let h=l;if(L.isHighSurrogate(l))if(r+1<m){const u=g.charCodeAt(r+1);L.isLowSurrogate(u)?(r++,h=L.computeCodePoint(l,u)):h=65533}else{s=l;break}else L.isLowSurrogate(l)&&(h=65533);if(d=this._push(c,d,h),r++,r<m)l=g.charCodeAt(r);else break}this._buffLen=d,this._leftoverHighSurrogate=s}_push(g,m,c){return c<128?g[m++]=c:c<2048?(g[m++]=192|(c&1984)>>>6,g[m++]=128|(c&63)>>>0):c<65536?(g[m++]=224|(c&61440)>>>12,g[m++]=128|(c&4032)>>>6,g[m++]=128|(c&63)>>>0):(g[m++]=240|(c&1835008)>>>18,g[m++]=128|(c&258048)>>>12,g[m++]=128|(c&4032)>>>6,g[m++]=128|(c&63)>>>0),m>=64&&(this._step(),m-=64,this._totalLen+=64,g[0]=g[64],g[1]=g[65],g[2]=g[66]),m}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),i(this._h0)+i(this._h1)+i(this._h2)+i(this._h3)+i(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,a(this._buff,this._buffLen),this._buffLen>56&&(this._step(),a(this._buff));const g=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(g/4294967296),!1),this._buffDV.setUint32(60,g%4294967296,!1),this._step()}_step(){const g=t._bigBlock32,m=this._buffDV;for(let C=0;C<64;C+=4)g.setUint32(C,m.getUint32(C,!1),!1);for(let C=64;C<320;C+=4)g.setUint32(C,b(g.getUint32(C-12,!1)^g.getUint32(C-32,!1)^g.getUint32(C-56,!1)^g.getUint32(C-64,!1),1),!1);let c=this._h0,d=this._h1,s=this._h2,l=this._h3,r=this._h4,h,u,f;for(let C=0;C<80;C++)C<20?(h=d&s|~d&l,u=1518500249):C<40?(h=d^s^l,u=1859775393):C<60?(h=d&s|d&l|s&l,u=2400959708):(h=d^s^l,u=3395469782),f=b(c,5)+h+r+u+g.getUint32(C*4,!1)&4294967295,r=l,l=s,s=b(d,30),d=c,c=f;this._h0=this._h0+c&4294967295,this._h1=this._h1+d&4294967295,this._h2=this._h2+s&4294967295,this._h3=this._h3+l&4294967295,this._h4=this._h4+r&4294967295}}e.StringSHA1=t,t._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ne[176],se([1,0,404,114]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.stringDiff=e.StringDiffSequence=void 0;class y{constructor(a){this.source=a}getElements(){const a=this.source,n=new Int32Array(a.length);for(let i=0,t=a.length;i<t;i++)n[i]=a.charCodeAt(i);return n}}e.StringDiffSequence=y;function D(b,a,n){return new v(new y(b),new y(a)).ComputeDiff(n).changes}e.stringDiff=D;class S{static Assert(a,n){if(!a)throw new Error(n)}}class p{static Copy(a,n,i,t,o){for(let g=0;g<o;g++)i[t+g]=a[n+g]}static Copy2(a,n,i,t,o){for(let g=0;g<o;g++)i[t+g]=a[n+g]}}class w{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new L.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(a,n){this.m_originalStart=Math.min(this.m_originalStart,a),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_originalCount++}AddModifiedElement(a,n){this.m_originalStart=Math.min(this.m_originalStart,a),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class v{constructor(a,n,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=a,this._modifiedSequence=n;const[t,o,g]=v._getElements(a),[m,c,d]=v._getElements(n);this._hasStrings=g&&d,this._originalStringElements=t,this._originalElementsOrHash=o,this._modifiedStringElements=m,this._modifiedElementsOrHash=c,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(a){return a.length>0&&typeof a[0]=="string"}static _getElements(a){const n=a.getElements();if(v._isStringArray(n)){const i=new Int32Array(n.length);for(let t=0,o=n.length;t<o;t++)i[t]=(0,k.stringHash)(n[t],0);return[n,i,!0]}return n instanceof Int32Array?[[],n,!1]:[[],new Int32Array(n),!1]}ElementsAreEqual(a,n){return this._originalElementsOrHash[a]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[a]===this._modifiedStringElements[n]:!0}ElementsAreStrictEqual(a,n){if(!this.ElementsAreEqual(a,n))return!1;const i=v._getStrictElement(this._originalSequence,a),t=v._getStrictElement(this._modifiedSequence,n);return i===t}static _getStrictElement(a,n){return typeof a.getStrictElement=="function"?a.getStrictElement(n):null}OriginalElementsAreEqual(a,n){return this._originalElementsOrHash[a]!==this._originalElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[a]===this._originalStringElements[n]:!0}ModifiedElementsAreEqual(a,n){return this._modifiedElementsOrHash[a]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._modifiedStringElements[a]===this._modifiedStringElements[n]:!0}ComputeDiff(a){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,a)}_ComputeDiff(a,n,i,t,o){const g=[!1];let m=this.ComputeDiffRecursive(a,n,i,t,g);return o&&(m=this.PrettifyChanges(m)),{quitEarly:g[0],changes:m}}ComputeDiffRecursive(a,n,i,t,o){for(o[0]=!1;a<=n&&i<=t&&this.ElementsAreEqual(a,i);)a++,i++;for(;n>=a&&t>=i&&this.ElementsAreEqual(n,t);)n--,t--;if(a>n||i>t){let l;return i<=t?(S.Assert(a===n+1,"originalStart should only be one more than originalEnd"),l=[new L.DiffChange(a,0,i,t-i+1)]):a<=n?(S.Assert(i===t+1,"modifiedStart should only be one more than modifiedEnd"),l=[new L.DiffChange(a,n-a+1,i,0)]):(S.Assert(a===n+1,"originalStart should only be one more than originalEnd"),S.Assert(i===t+1,"modifiedStart should only be one more than modifiedEnd"),l=[]),l}const g=[0],m=[0],c=this.ComputeRecursionPoint(a,n,i,t,g,m,o),d=g[0],s=m[0];if(c!==null)return c;if(!o[0]){const l=this.ComputeDiffRecursive(a,d,i,s,o);let r=[];return o[0]?r=[new L.DiffChange(d+1,n-(d+1)+1,s+1,t-(s+1)+1)]:r=this.ComputeDiffRecursive(d+1,n,s+1,t,o),this.ConcatenateChanges(l,r)}return[new L.DiffChange(a,n-a+1,i,t-i+1)]}WALKTRACE(a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_,E){let I=null,T=null,A=new w,R=n,M=i,N=h[0]-C[0]-t,P=-1073741824,F=this.m_forwardHistory.length-1;do{const O=N+a;O===R||O<M&&d[O-1]<d[O+1]?(l=d[O+1],u=l-N-t,l<P&&A.MarkNextChange(),P=l,A.AddModifiedElement(l+1,u),N=O+1-a):(l=d[O-1]+1,u=l-N-t,l<P&&A.MarkNextChange(),P=l-1,A.AddOriginalElement(l,u+1),N=O-1-a),F>=0&&(d=this.m_forwardHistory[F],a=d[0],R=1,M=d.length-1)}while(--F>=-1);if(I=A.getReverseChanges(),E[0]){let O=h[0]+1,B=C[0]+1;if(I!==null&&I.length>0){const W=I[I.length-1];O=Math.max(O,W.getOriginalEnd()),B=Math.max(B,W.getModifiedEnd())}T=[new L.DiffChange(O,r-O+1,B,f-B+1)]}else{A=new w,R=g,M=m,N=h[0]-C[0]-c,P=1073741824,F=_?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const O=N+o;O===R||O<M&&s[O-1]>=s[O+1]?(l=s[O+1]-1,u=l-N-c,l>P&&A.MarkNextChange(),P=l+1,A.AddOriginalElement(l+1,u+1),N=O+1-o):(l=s[O-1],u=l-N-c,l>P&&A.MarkNextChange(),P=l,A.AddModifiedElement(l+1,u+1),N=O-1-o),F>=0&&(s=this.m_reverseHistory[F],o=s[0],R=1,M=s.length-1)}while(--F>=-1);T=A.getChanges()}return this.ConcatenateChanges(I,T)}ComputeRecursionPoint(a,n,i,t,o,g,m){let c=0,d=0,s=0,l=0,r=0,h=0;a--,i--,o[0]=0,g[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const u=n-a+(t-i),f=u+1,C=new Int32Array(f),_=new Int32Array(f),E=t-i,I=n-a,T=a-i,A=n-t,M=(I-E)%2===0;C[E]=a,_[I]=n,m[0]=!1;for(let N=1;N<=u/2+1;N++){let P=0,F=0;s=this.ClipDiagonalBound(E-N,N,E,f),l=this.ClipDiagonalBound(E+N,N,E,f);for(let B=s;B<=l;B+=2){B===s||B<l&&C[B-1]<C[B+1]?c=C[B+1]:c=C[B-1]+1,d=c-(B-E)-T;const W=c;for(;c<n&&d<t&&this.ElementsAreEqual(c+1,d+1);)c++,d++;if(C[B]=c,c+d>P+F&&(P=c,F=d),!M&&Math.abs(B-I)<=N-1&&c>=_[B])return o[0]=c,g[0]=d,W<=_[B]&&1447>0&&N<=1448?this.WALKTRACE(E,s,l,T,I,r,h,A,C,_,c,n,o,d,t,g,M,m):null}const O=(P-a+(F-i)-N)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(P,O))return m[0]=!0,o[0]=P,g[0]=F,O>0&&1447>0&&N<=1448?this.WALKTRACE(E,s,l,T,I,r,h,A,C,_,c,n,o,d,t,g,M,m):(a++,i++,[new L.DiffChange(a,n-a+1,i,t-i+1)]);r=this.ClipDiagonalBound(I-N,N,I,f),h=this.ClipDiagonalBound(I+N,N,I,f);for(let B=r;B<=h;B+=2){B===r||B<h&&_[B-1]>=_[B+1]?c=_[B+1]-1:c=_[B-1],d=c-(B-I)-A;const W=c;for(;c>a&&d>i&&this.ElementsAreEqual(c,d);)c--,d--;if(_[B]=c,M&&Math.abs(B-E)<=N&&c<=C[B])return o[0]=c,g[0]=d,W>=C[B]&&1447>0&&N<=1448?this.WALKTRACE(E,s,l,T,I,r,h,A,C,_,c,n,o,d,t,g,M,m):null}if(N<=1447){let B=new Int32Array(l-s+2);B[0]=E-s+1,p.Copy2(C,s,B,1,l-s+1),this.m_forwardHistory.push(B),B=new Int32Array(h-r+2),B[0]=I-r+1,p.Copy2(_,r,B,1,h-r+1),this.m_reverseHistory.push(B)}}return this.WALKTRACE(E,s,l,T,I,r,h,A,C,_,c,n,o,d,t,g,M,m)}PrettifyChanges(a){for(let n=0;n<a.length;n++){const i=a[n],t=n<a.length-1?a[n+1].originalStart:this._originalElementsOrHash.length,o=n<a.length-1?a[n+1].modifiedStart:this._modifiedElementsOrHash.length,g=i.originalLength>0,m=i.modifiedLength>0;for(;i.originalStart+i.originalLength<t&&i.modifiedStart+i.modifiedLength<o&&(!g||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!m||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const d=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!d)break;i.originalStart++,i.modifiedStart++}const c=[null];if(n<a.length-1&&this.ChangesOverlap(a[n],a[n+1],c)){a[n]=c[0],a.splice(n+1,1),n--;continue}}for(let n=a.length-1;n>=0;n--){const i=a[n];let t=0,o=0;if(n>0){const l=a[n-1];t=l.originalStart+l.originalLength,o=l.modifiedStart+l.modifiedLength}const g=i.originalLength>0,m=i.modifiedLength>0;let c=0,d=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let l=1;;l++){const r=i.originalStart-l,h=i.modifiedStart-l;if(r<t||h<o||g&&!this.OriginalElementsAreEqual(r,r+i.originalLength)||m&&!this.ModifiedElementsAreEqual(h,h+i.modifiedLength))break;const f=(r===t&&h===o?5:0)+this._boundaryScore(r,i.originalLength,h,i.modifiedLength);f>d&&(d=f,c=l)}i.originalStart-=c,i.modifiedStart-=c;const s=[null];if(n>0&&this.ChangesOverlap(a[n-1],a[n],s)){a[n-1]=s[0],a.splice(n,1),n++;continue}}if(this._hasStrings)for(let n=1,i=a.length;n<i;n++){const t=a[n-1],o=a[n],g=o.originalStart-t.originalStart-t.originalLength,m=t.originalStart,c=o.originalStart+o.originalLength,d=c-m,s=t.modifiedStart,l=o.modifiedStart+o.modifiedLength,r=l-s;if(g<5&&d<20&&r<20){const h=this._findBetterContiguousSequence(m,d,s,r,g);if(h){const[u,f]=h;(u!==t.originalStart+t.originalLength||f!==t.modifiedStart+t.modifiedLength)&&(t.originalLength=u-t.originalStart,t.modifiedLength=f-t.modifiedStart,o.originalStart=u+g,o.modifiedStart=f+g,o.originalLength=c-o.originalStart,o.modifiedLength=l-o.modifiedStart)}}}return a}_findBetterContiguousSequence(a,n,i,t,o){if(n<o||t<o)return null;const g=a+n-o+1,m=i+t-o+1;let c=0,d=0,s=0;for(let l=a;l<g;l++)for(let r=i;r<m;r++){const h=this._contiguousSequenceScore(l,r,o);h>0&&h>c&&(c=h,d=l,s=r)}return c>0?[d,s]:null}_contiguousSequenceScore(a,n,i){let t=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(a+o,n+o))return 0;t+=this._originalStringElements[a+o].length}return t}_OriginalIsBoundary(a){return a<=0||a>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[a])}_OriginalRegionIsBoundary(a,n){if(this._OriginalIsBoundary(a)||this._OriginalIsBoundary(a-1))return!0;if(n>0){const i=a+n;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(a){return a<=0||a>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[a])}_ModifiedRegionIsBoundary(a,n){if(this._ModifiedIsBoundary(a)||this._ModifiedIsBoundary(a-1))return!0;if(n>0){const i=a+n;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(a,n,i,t){const o=this._OriginalRegionIsBoundary(a,n)?1:0,g=this._ModifiedRegionIsBoundary(i,t)?1:0;return o+g}ConcatenateChanges(a,n){const i=[];if(a.length===0||n.length===0)return n.length>0?n:a;if(this.ChangesOverlap(a[a.length-1],n[0],i)){const t=new Array(a.length+n.length-1);return p.Copy(a,0,t,0,a.length-1),t[a.length-1]=i[0],p.Copy(n,1,t,a.length,n.length-1),t}else{const t=new Array(a.length+n.length);return p.Copy(a,0,t,0,a.length),p.Copy(n,0,t,a.length,n.length),t}}ChangesOverlap(a,n,i){if(S.Assert(a.originalStart<=n.originalStart,"Left change is not less than or equal to right change"),S.Assert(a.modifiedStart<=n.modifiedStart,"Left change is not less than or equal to right change"),a.originalStart+a.originalLength>=n.originalStart||a.modifiedStart+a.modifiedLength>=n.modifiedStart){const t=a.originalStart;let o=a.originalLength;const g=a.modifiedStart;let m=a.modifiedLength;return a.originalStart+a.originalLength>=n.originalStart&&(o=n.originalStart+n.originalLength-a.originalStart),a.modifiedStart+a.modifiedLength>=n.modifiedStart&&(m=n.modifiedStart+n.modifiedLength-a.modifiedStart),i[0]=new L.DiffChange(t,o,g,m),!0}else return i[0]=null,!1}ClipDiagonalBound(a,n,i,t){if(a>=0&&a<t)return a;const o=i,g=t-i-1,m=n%2===0;if(a<0){const c=o%2===0;return m===c?0:1}else{const c=g%2===0;return m===c?t-1:t-2}}}e.LcsDiff=v}),define(ne[413],se([1,0,11]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function k(S,p){if(S&&S[0]!==""){const w=y(S,p,"-"),v=y(S,p,"_");return w&&!v?D(S,p,"-"):!w&&v?D(S,p,"_"):S[0].toUpperCase()===S[0]?p.toUpperCase():S[0].toLowerCase()===S[0]?p.toLowerCase():L.containsUppercaseCharacter(S[0][0])&&p.length>0?p[0].toUpperCase()+p.substr(1):S[0][0].toUpperCase()!==S[0][0]&&p.length>0?p[0].toLowerCase()+p.substr(1):p}else return p}e.buildReplaceStringWithCasePreserved=k;function y(S,p,w){return S[0].indexOf(w)!==-1&&p.indexOf(w)!==-1&&S[0].split(w).length===p.split(w).length}function D(S,p,w){const v=p.split(w),b=S[0].split(w);let a="";return v.forEach((n,i)=>{a+=k([b[i]],n)+w}),a.slice(0,-1)}}),define(ne[103],se([1,0,11]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(y){y[y.Ignore=0]="Ignore",y[y.Info=1]="Info",y[y.Warning=2]="Warning",y[y.Error=3]="Error"})(k||(k={})),function(y){const D="error",S="warning",p="warn",w="info",v="ignore";function b(n){return n?L.equalsIgnoreCase(D,n)?y.Error:L.equalsIgnoreCase(S,n)||L.equalsIgnoreCase(p,n)?y.Warning:L.equalsIgnoreCase(w,n)?y.Info:y.Ignore:y.Ignore}y.fromValue=b;function a(n){switch(n){case y.Error:return D;case y.Warning:return S;case y.Info:return w;default:return v}}y.toString=a}(k||(k={})),e.default=k}),define(ne[279],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrotaskDelay=void 0,e.MicrotaskDelay=Symbol("MicrotaskDelay")}),define(ne[205],se([1,0,11]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class k{constructor(){this._value="",this._pos=0}reset(b){return this._value=b,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(b){const a=b.charCodeAt(0),n=this._value.charCodeAt(this._pos);return a-n}value(){return this._value[this._pos]}}e.StringIterator=k;class y{constructor(b=!0){this._caseSensitive=b}reset(b){return this._value=b,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let b=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(b)this._from++;else break;else b=!1;return this}cmp(b){return this._caseSensitive?(0,L.compareSubstring)(b,this._value,0,b.length,this._from,this._to):(0,L.compareSubstringIgnoreCase)(b,this._value,0,b.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=y;class D{constructor(b=!0,a=!0){this._splitOnBackslash=b,this._caseSensitive=a}reset(b){this._from=0,this._to=0,this._value=b,this._valueLen=b.length;for(let a=b.length-1;a>=0;a--,this._valueLen--){const n=this._value.charCodeAt(a);if(!(n===47||this._splitOnBackslash&&n===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let b=!0;for(;this._to<this._valueLen;this._to++){const a=this._value.charCodeAt(this._to);if(a===47||this._splitOnBackslash&&a===92)if(b)this._from++;else break;else b=!1}return this}cmp(b){return this._caseSensitive?(0,L.compareSubstring)(b,this._value,0,b.length,this._from,this._to):(0,L.compareSubstringIgnoreCase)(b,this._value,0,b.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=D;class S{constructor(b,a){this._ignorePathCasing=b,this._ignoreQueryAndFragment=a,this._states=[],this._stateIdx=0}reset(b){return this._value=b,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new D(!1,!this._ignorePathCasing(b)),this._pathIterator.reset(b.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(b)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(b){if(this._states[this._stateIdx]===1)return(0,L.compareIgnoreCase)(b,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,L.compareIgnoreCase)(b,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(b);if(this._states[this._stateIdx]===4)return(0,L.compare)(b,this._value.query);if(this._states[this._stateIdx]===5)return(0,L.compare)(b,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=S;class p{constructor(){this.height=1}rotateLeft(){const b=this.right;return this.right=b.left,b.left=this,this.updateHeight(),b.updateHeight(),b}rotateRight(){const b=this.left;return this.left=b.right,b.right=this,this.updateHeight(),b.updateHeight(),b}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var b,a;return(a=(b=this.left)===null||b===void 0?void 0:b.height)!==null&&a!==void 0?a:0}get heightRight(){var b,a;return(a=(b=this.right)===null||b===void 0?void 0:b.height)!==null&&a!==void 0?a:0}}class w{static forUris(b=()=>!1,a=()=>!1){return new w(new S(b,a))}static forStrings(){return new w(new k)}static forConfigKeys(){return new w(new y)}constructor(b){this._iter=b}clear(){this._root=void 0}set(b,a){const n=this._iter.reset(b);let i;this._root||(this._root=new p,this._root.segment=n.value());const t=[];for(i=this._root;;){const g=n.cmp(i.segment);if(g>0)i.left||(i.left=new p,i.left.segment=n.value()),t.push([-1,i]),i=i.left;else if(g<0)i.right||(i.right=new p,i.right.segment=n.value()),t.push([1,i]),i=i.right;else if(n.hasNext())n.next(),i.mid||(i.mid=new p,i.mid.segment=n.value()),t.push([0,i]),i=i.mid;else break}const o=i.value;i.value=a,i.key=b;for(let g=t.length-1;g>=0;g--){const m=t[g][1];m.updateHeight();const c=m.balanceFactor();if(c<-1||c>1){const d=t[g][0],s=t[g+1][0];if(d===1&&s===1)t[g][1]=m.rotateLeft();else if(d===-1&&s===-1)t[g][1]=m.rotateRight();else if(d===1&&s===-1)m.right=t[g+1][1]=t[g+1][1].rotateRight(),t[g][1]=m.rotateLeft();else if(d===-1&&s===1)m.left=t[g+1][1]=t[g+1][1].rotateLeft(),t[g][1]=m.rotateRight();else throw new Error;if(g>0)switch(t[g-1][0]){case-1:t[g-1][1].left=t[g][1];break;case 1:t[g-1][1].right=t[g][1];break;case 0:t[g-1][1].mid=t[g][1];break}else this._root=t[0][1]}}return o}get(b){var a;return(a=this._getNode(b))===null||a===void 0?void 0:a.value}_getNode(b){const a=this._iter.reset(b);let n=this._root;for(;n;){const i=a.cmp(n.segment);if(i>0)n=n.left;else if(i<0)n=n.right;else if(a.hasNext())a.next(),n=n.mid;else break}return n}has(b){const a=this._getNode(b);return!(a?.value===void 0&&a?.mid===void 0)}delete(b){return this._delete(b,!1)}deleteSuperstr(b){return this._delete(b,!0)}_delete(b,a){var n;const i=this._iter.reset(b),t=[];let o=this._root;for(;o;){const g=i.cmp(o.segment);if(g>0)t.push([-1,o]),o=o.left;else if(g<0)t.push([1,o]),o=o.right;else if(i.hasNext())i.next(),t.push([0,o]),o=o.mid;else break}if(o){if(a?(o.left=void 0,o.mid=void 0,o.right=void 0,o.height=1):(o.key=void 0,o.value=void 0),!o.mid&&!o.value)if(o.left&&o.right){const g=this._min(o.right);if(g.key){const{key:m,value:c,segment:d}=g;this._delete(g.key,!1),o.key=m,o.value=c,o.segment=d}}else{const g=(n=o.left)!==null&&n!==void 0?n:o.right;if(t.length>0){const[m,c]=t[t.length-1];switch(m){case-1:c.left=g;break;case 0:c.mid=g;break;case 1:c.right=g;break}}else this._root=g}for(let g=t.length-1;g>=0;g--){const m=t[g][1];m.updateHeight();const c=m.balanceFactor();if(c>1?(m.right.balanceFactor()>=0||(m.right=m.right.rotateRight()),t[g][1]=m.rotateLeft()):c<-1&&(m.left.balanceFactor()<=0||(m.left=m.left.rotateLeft()),t[g][1]=m.rotateRight()),g>0)switch(t[g-1][0]){case-1:t[g-1][1].left=t[g][1];break;case 1:t[g-1][1].right=t[g][1];break;case 0:t[g-1][1].mid=t[g][1];break}else this._root=t[0][1]}}}_min(b){for(;b.left;)b=b.left;return b}findSubstr(b){const a=this._iter.reset(b);let n=this._root,i;for(;n;){const t=a.cmp(n.segment);if(t>0)n=n.left;else if(t<0)n=n.right;else if(a.hasNext())a.next(),i=n.value||i,n=n.mid;else break}return n&&n.value||i}findSuperstr(b){return this._findSuperstrOrElement(b,!1)}_findSuperstrOrElement(b,a){const n=this._iter.reset(b);let i=this._root;for(;i;){const t=n.cmp(i.segment);if(t>0)i=i.left;else if(t<0)i=i.right;else if(n.hasNext())n.next(),i=i.mid;else return i.mid?this._entries(i.mid):a?i.value:void 0}}forEach(b){for(const[a,n]of this)b(n,a)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(b){const a=[];return this._dfsEntries(b,a),a[Symbol.iterator]()}_dfsEntries(b,a){b&&(b.left&&this._dfsEntries(b.left,a),b.value&&a.push([b.key,b.value]),b.mid&&this._dfsEntries(b.mid,a),b.right&&this._dfsEntries(b.right,a))}}e.TernarySearchTree=w}),define(ne[414],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeTfIdfScores=e.TfIdfCalculator=void 0;function L(D){var S;const p=new Map;for(const w of D)p.set(w,((S=p.get(w))!==null&&S!==void 0?S:0)+1);return p}class k{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(S,p){const w=this.computeEmbedding(S),v=new Map,b=[];for(const[a,n]of this.documents){if(p.isCancellationRequested)return[];for(const i of n.chunks){const t=this.computeSimilarityScore(i,w,v);t>0&&b.push({key:a,score:t})}}return b}static termFrequencies(S){return L(k.splitTerms(S))}static*splitTerms(S){const p=w=>w.toLowerCase();for(const[w]of S.matchAll(/\b\p{Letter}[\p{Letter}\d]{2,}\b/gu)){yield p(w);const v=w.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(v.length>1)for(const b of v)b.length>2&&/\p{Letter}{3,}/gu.test(b)&&(yield p(b))}}updateDocuments(S){var p;for(const{key:w}of S)this.deleteDocument(w);for(const w of S){const v=[];for(const b of w.textChunks){const a=k.termFrequencies(b);for(const n of a.keys())this.chunkOccurrences.set(n,((p=this.chunkOccurrences.get(n))!==null&&p!==void 0?p:0)+1);v.push({text:b,tf:a})}this.chunkCount+=v.length,this.documents.set(w.key,{chunks:v})}return this}deleteDocument(S){const p=this.documents.get(S);if(p){this.documents.delete(S),this.chunkCount-=p.chunks.length;for(const w of p.chunks)for(const v of w.tf.keys()){const b=this.chunkOccurrences.get(v);if(typeof b=="number"){const a=b-1;a<=0?this.chunkOccurrences.delete(v):this.chunkOccurrences.set(v,a)}}}}computeSimilarityScore(S,p,w){let v=0;for(const[b,a]of Object.entries(p)){const n=S.tf.get(b);if(!n)continue;let i=w.get(b);typeof i!="number"&&(i=this.computeIdf(b),w.set(b,i));const t=n*i;v+=t*a}return v}computeEmbedding(S){const p=k.termFrequencies(S);return this.computeTfidf(p)}computeIdf(S){var p;const w=(p=this.chunkOccurrences.get(S))!==null&&p!==void 0?p:0;return w>0?Math.log((this.chunkCount+1)/w):0}computeTfidf(S){const p=Object.create(null);for(const[w,v]of S){const b=this.computeIdf(w);b>0&&(p[w]=v*b)}return p}}e.TfIdfCalculator=k;function y(D){var S,p;const w=D.slice(0);w.sort((b,a)=>a.score-b.score);const v=(p=(S=w[0])===null||S===void 0?void 0:S.score)!==null&&p!==void 0?p:0;if(v>0)for(const b of w)b.score/=v;return w}e.normalizeTfIdfScores=y}),define(ne[20],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isTypedArray=e.isObject=e.isString=void 0;function L(g){return typeof g=="string"}e.isString=L;function k(g){return typeof g=="object"&&g!==null&&!Array.isArray(g)&&!(g instanceof RegExp)&&!(g instanceof Date)}e.isObject=k;function y(g){const m=Object.getPrototypeOf(Uint8Array);return typeof g=="object"&&g instanceof m}e.isTypedArray=y;function D(g){return typeof g=="number"&&!isNaN(g)}e.isNumber=D;function S(g){return!!g&&typeof g[Symbol.iterator]=="function"}e.isIterable=S;function p(g){return g===!0||g===!1}e.isBoolean=p;function w(g){return typeof g>"u"}e.isUndefined=w;function v(g){return!b(g)}e.isDefined=v;function b(g){return w(g)||g===null}e.isUndefinedOrNull=b;function a(g,m){if(!g)throw new Error(m?`Unexpected type, expected '${m}'`:"Unexpected type")}e.assertType=a;function n(g){if(b(g))throw new Error("Assertion Failed: argument is undefined or null");return g}e.assertIsDefined=n;function i(g){return typeof g=="function"}e.isFunction=i;function t(g,m){const c=Math.min(g.length,m.length);for(let d=0;d<c;d++)o(g[d],m[d])}e.validateConstraints=t;function o(g,m){if(L(m)){if(typeof g!==m)throw new Error(`argument does not match constraint: typeof ${m}`)}else if(i(m)){try{if(g instanceof m)return}catch{}if(!b(g)&&g.constructor===m||m.length===1&&m.call(void 0,g)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=o}),define(ne[27],se([1,0,20]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Codicon=e.getCodiconFontCharacters=void 0;const k=Object.create(null);function y(S,p){if((0,L.isString)(p)){const w=k[p];if(w===void 0)throw new Error(`${S} references an unknown codicon: ${p}`);p=w}return k[S]=p,{id:S}}function D(){return k}e.getCodiconFontCharacters=D,e.Codicon={add:y("add",6e4),plus:y("plus",6e4),gistNew:y("gist-new",6e4),repoCreate:y("repo-create",6e4),lightbulb:y("lightbulb",60001),lightBulb:y("light-bulb",60001),repo:y("repo",60002),repoDelete:y("repo-delete",60002),gistFork:y("gist-fork",60003),repoForked:y("repo-forked",60003),gitPullRequest:y("git-pull-request",60004),gitPullRequestAbandoned:y("git-pull-request-abandoned",60004),recordKeys:y("record-keys",60005),keyboard:y("keyboard",60005),tag:y("tag",60006),tagAdd:y("tag-add",60006),tagRemove:y("tag-remove",60006),gitPullRequestLabel:y("git-pull-request-label",60006),person:y("person",60007),personFollow:y("person-follow",60007),personOutline:y("person-outline",60007),personFilled:y("person-filled",60007),gitBranch:y("git-branch",60008),gitBranchCreate:y("git-branch-create",60008),gitBranchDelete:y("git-branch-delete",60008),sourceControl:y("source-control",60008),mirror:y("mirror",60009),mirrorPublic:y("mirror-public",60009),star:y("star",60010),starAdd:y("star-add",60010),starDelete:y("star-delete",60010),starEmpty:y("star-empty",60010),comment:y("comment",60011),commentAdd:y("comment-add",60011),alert:y("alert",60012),warning:y("warning",60012),search:y("search",60013),searchSave:y("search-save",60013),logOut:y("log-out",60014),signOut:y("sign-out",60014),logIn:y("log-in",60015),signIn:y("sign-in",60015),eye:y("eye",60016),eyeUnwatch:y("eye-unwatch",60016),eyeWatch:y("eye-watch",60016),circleFilled:y("circle-filled",60017),primitiveDot:y("primitive-dot",60017),closeDirty:y("close-dirty",60017),debugBreakpoint:y("debug-breakpoint",60017),debugBreakpointDisabled:y("debug-breakpoint-disabled",60017),debugBreakpointPending:y("debug-breakpoint-pending",60377),debugHint:y("debug-hint",60017),primitiveSquare:y("primitive-square",60018),edit:y("edit",60019),pencil:y("pencil",60019),info:y("info",60020),issueOpened:y("issue-opened",60020),gistPrivate:y("gist-private",60021),gitForkPrivate:y("git-fork-private",60021),lock:y("lock",60021),mirrorPrivate:y("mirror-private",60021),close:y("close",60022),removeClose:y("remove-close",60022),x:y("x",60022),repoSync:y("repo-sync",60023),sync:y("sync",60023),clone:y("clone",60024),desktopDownload:y("desktop-download",60024),beaker:y("beaker",60025),microscope:y("microscope",60025),vm:y("vm",60026),deviceDesktop:y("device-desktop",60026),file:y("file",60027),fileText:y("file-text",60027),more:y("more",60028),ellipsis:y("ellipsis",60028),kebabHorizontal:y("kebab-horizontal",60028),mailReply:y("mail-reply",60029),reply:y("reply",60029),organization:y("organization",60030),organizationFilled:y("organization-filled",60030),organizationOutline:y("organization-outline",60030),newFile:y("new-file",60031),fileAdd:y("file-add",60031),newFolder:y("new-folder",60032),fileDirectoryCreate:y("file-directory-create",60032),trash:y("trash",60033),trashcan:y("trashcan",60033),history:y("history",60034),clock:y("clock",60034),folder:y("folder",60035),fileDirectory:y("file-directory",60035),symbolFolder:y("symbol-folder",60035),logoGithub:y("logo-github",60036),markGithub:y("mark-github",60036),github:y("github",60036),terminal:y("terminal",60037),console:y("console",60037),repl:y("repl",60037),zap:y("zap",60038),symbolEvent:y("symbol-event",60038),error:y("error",60039),stop:y("stop",60039),variable:y("variable",60040),symbolVariable:y("symbol-variable",60040),array:y("array",60042),symbolArray:y("symbol-array",60042),symbolModule:y("symbol-module",60043),symbolPackage:y("symbol-package",60043),symbolNamespace:y("symbol-namespace",60043),symbolObject:y("symbol-object",60043),symbolMethod:y("symbol-method",60044),symbolFunction:y("symbol-function",60044),symbolConstructor:y("symbol-constructor",60044),symbolBoolean:y("symbol-boolean",60047),symbolNull:y("symbol-null",60047),symbolNumeric:y("symbol-numeric",60048),symbolNumber:y("symbol-number",60048),symbolStructure:y("symbol-structure",60049),symbolStruct:y("symbol-struct",60049),symbolParameter:y("symbol-parameter",60050),symbolTypeParameter:y("symbol-type-parameter",60050),symbolKey:y("symbol-key",60051),symbolText:y("symbol-text",60051),symbolReference:y("symbol-reference",60052),goToFile:y("go-to-file",60052),symbolEnum:y("symbol-enum",60053),symbolValue:y("symbol-value",60053),symbolRuler:y("symbol-ruler",60054),symbolUnit:y("symbol-unit",60054),activateBreakpoints:y("activate-breakpoints",60055),archive:y("archive",60056),arrowBoth:y("arrow-both",60057),arrowDown:y("arrow-down",60058),arrowLeft:y("arrow-left",60059),arrowRight:y("arrow-right",60060),arrowSmallDown:y("arrow-small-down",60061),arrowSmallLeft:y("arrow-small-left",60062),arrowSmallRight:y("arrow-small-right",60063),arrowSmallUp:y("arrow-small-up",60064),arrowUp:y("arrow-up",60065),bell:y("bell",60066),bold:y("bold",60067),book:y("book",60068),bookmark:y("bookmark",60069),debugBreakpointConditionalUnverified:y("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:y("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:y("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:y("debug-breakpoint-data-unverified",60072),debugBreakpointData:y("debug-breakpoint-data",60073),debugBreakpointDataDisabled:y("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:y("debug-breakpoint-log-unverified",60074),debugBreakpointLog:y("debug-breakpoint-log",60075),debugBreakpointLogDisabled:y("debug-breakpoint-log-disabled",60075),briefcase:y("briefcase",60076),broadcast:y("broadcast",60077),browser:y("browser",60078),bug:y("bug",60079),calendar:y("calendar",60080),caseSensitive:y("case-sensitive",60081),check:y("check",60082),checklist:y("checklist",60083),chevronDown:y("chevron-down",60084),dropDownButton:y("drop-down-button",60084),chevronLeft:y("chevron-left",60085),chevronRight:y("chevron-right",60086),chevronUp:y("chevron-up",60087),chromeClose:y("chrome-close",60088),chromeMaximize:y("chrome-maximize",60089),chromeMinimize:y("chrome-minimize",60090),chromeRestore:y("chrome-restore",60091),circle:y("circle",60092),circleOutline:y("circle-outline",60092),debugBreakpointUnverified:y("debug-breakpoint-unverified",60092),circleSlash:y("circle-slash",60093),circuitBoard:y("circuit-board",60094),clearAll:y("clear-all",60095),clippy:y("clippy",60096),closeAll:y("close-all",60097),cloudDownload:y("cloud-download",60098),cloudUpload:y("cloud-upload",60099),code:y("code",60100),collapseAll:y("collapse-all",60101),colorMode:y("color-mode",60102),commentDiscussion:y("comment-discussion",60103),compareChanges:y("compare-changes",60157),creditCard:y("credit-card",60105),dash:y("dash",60108),dashboard:y("dashboard",60109),database:y("database",60110),debugContinue:y("debug-continue",60111),debugDisconnect:y("debug-disconnect",60112),debugPause:y("debug-pause",60113),debugRestart:y("debug-restart",60114),debugStart:y("debug-start",60115),debugStepInto:y("debug-step-into",60116),debugStepOut:y("debug-step-out",60117),debugStepOver:y("debug-step-over",60118),debugStop:y("debug-stop",60119),debug:y("debug",60120),deviceCameraVideo:y("device-camera-video",60121),deviceCamera:y("device-camera",60122),deviceMobile:y("device-mobile",60123),diffAdded:y("diff-added",60124),diffIgnored:y("diff-ignored",60125),diffModified:y("diff-modified",60126),diffRemoved:y("diff-removed",60127),diffRenamed:y("diff-renamed",60128),diff:y("diff",60129),discard:y("discard",60130),editorLayout:y("editor-layout",60131),emptyWindow:y("empty-window",60132),exclude:y("exclude",60133),extensions:y("extensions",60134),eyeClosed:y("eye-closed",60135),fileBinary:y("file-binary",60136),fileCode:y("file-code",60137),fileMedia:y("file-media",60138),filePdf:y("file-pdf",60139),fileSubmodule:y("file-submodule",60140),fileSymlinkDirectory:y("file-symlink-directory",60141),fileSymlinkFile:y("file-symlink-file",60142),fileZip:y("file-zip",60143),files:y("files",60144),filter:y("filter",60145),flame:y("flame",60146),foldDown:y("fold-down",60147),foldUp:y("fold-up",60148),fold:y("fold",60149),folderActive:y("folder-active",60150),folderOpened:y("folder-opened",60151),gear:y("gear",60152),gift:y("gift",60153),gistSecret:y("gist-secret",60154),gist:y("gist",60155),gitCommit:y("git-commit",60156),gitCompare:y("git-compare",60157),gitMerge:y("git-merge",60158),githubAction:y("github-action",60159),githubAlt:y("github-alt",60160),globe:y("globe",60161),grabber:y("grabber",60162),graph:y("graph",60163),gripper:y("gripper",60164),heart:y("heart",60165),home:y("home",60166),horizontalRule:y("horizontal-rule",60167),hubot:y("hubot",60168),inbox:y("inbox",60169),issueClosed:y("issue-closed",60324),issueReopened:y("issue-reopened",60171),issues:y("issues",60172),italic:y("italic",60173),jersey:y("jersey",60174),json:y("json",60175),bracket:y("bracket",60175),kebabVertical:y("kebab-vertical",60176),key:y("key",60177),law:y("law",60178),lightbulbAutofix:y("lightbulb-autofix",60179),linkExternal:y("link-external",60180),link:y("link",60181),listOrdered:y("list-ordered",60182),listUnordered:y("list-unordered",60183),liveShare:y("live-share",60184),loading:y("loading",60185),location:y("location",60186),mailRead:y("mail-read",60187),mail:y("mail",60188),markdown:y("markdown",60189),megaphone:y("megaphone",60190),mention:y("mention",60191),milestone:y("milestone",60192),gitPullRequestMilestone:y("git-pull-request-milestone",60192),mortarBoard:y("mortar-board",60193),move:y("move",60194),multipleWindows:y("multiple-windows",60195),mute:y("mute",60196),noNewline:y("no-newline",60197),note:y("note",60198),octoface:y("octoface",60199),openPreview:y("open-preview",60200),package:y("package",60201),paintcan:y("paintcan",60202),pin:y("pin",60203),play:y("play",60204),run:y("run",60204),plug:y("plug",60205),preserveCase:y("preserve-case",60206),preview:y("preview",60207),project:y("project",60208),pulse:y("pulse",60209),question:y("question",60210),quote:y("quote",60211),radioTower:y("radio-tower",60212),reactions:y("reactions",60213),references:y("references",60214),refresh:y("refresh",60215),regex:y("regex",60216),remoteExplorer:y("remote-explorer",60217),remote:y("remote",60218),remove:y("remove",60219),replaceAll:y("replace-all",60220),replace:y("replace",60221),repoClone:y("repo-clone",60222),repoForcePush:y("repo-force-push",60223),repoPull:y("repo-pull",60224),repoPush:y("repo-push",60225),report:y("report",60226),requestChanges:y("request-changes",60227),rocket:y("rocket",60228),rootFolderOpened:y("root-folder-opened",60229),rootFolder:y("root-folder",60230),rss:y("rss",60231),ruby:y("ruby",60232),saveAll:y("save-all",60233),saveAs:y("save-as",60234),save:y("save",60235),screenFull:y("screen-full",60236),screenNormal:y("screen-normal",60237),searchStop:y("search-stop",60238),server:y("server",60240),settingsGear:y("settings-gear",60241),settings:y("settings",60242),shield:y("shield",60243),smiley:y("smiley",60244),sortPrecedence:y("sort-precedence",60245),splitHorizontal:y("split-horizontal",60246),splitVertical:y("split-vertical",60247),squirrel:y("squirrel",60248),starFull:y("star-full",60249),starHalf:y("star-half",60250),symbolClass:y("symbol-class",60251),symbolColor:y("symbol-color",60252),symbolCustomColor:y("symbol-customcolor",60252),symbolConstant:y("symbol-constant",60253),symbolEnumMember:y("symbol-enum-member",60254),symbolField:y("symbol-field",60255),symbolFile:y("symbol-file",60256),symbolInterface:y("symbol-interface",60257),symbolKeyword:y("symbol-keyword",60258),symbolMisc:y("symbol-misc",60259),symbolOperator:y("symbol-operator",60260),symbolProperty:y("symbol-property",60261),wrench:y("wrench",60261),wrenchSubaction:y("wrench-subaction",60261),symbolSnippet:y("symbol-snippet",60262),tasklist:y("tasklist",60263),telescope:y("telescope",60264),textSize:y("text-size",60265),threeBars:y("three-bars",60266),thumbsdown:y("thumbsdown",60267),thumbsup:y("thumbsup",60268),tools:y("tools",60269),triangleDown:y("triangle-down",60270),triangleLeft:y("triangle-left",60271),triangleRight:y("triangle-right",60272),triangleUp:y("triangle-up",60273),twitter:y("twitter",60274),unfold:y("unfold",60275),unlock:y("unlock",60276),unmute:y("unmute",60277),unverified:y("unverified",60278),verified:y("verified",60279),versions:y("versions",60280),vmActive:y("vm-active",60281),vmOutline:y("vm-outline",60282),vmRunning:y("vm-running",60283),watch:y("watch",60284),whitespace:y("whitespace",60285),wholeWord:y("whole-word",60286),window:y("window",60287),wordWrap:y("word-wrap",60288),zoomIn:y("zoom-in",60289),zoomOut:y("zoom-out",60290),listFilter:y("list-filter",60291),listFlat:y("list-flat",60292),listSelection:y("list-selection",60293),selection:y("selection",60293),listTree:y("list-tree",60294),debugBreakpointFunctionUnverified:y("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:y("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:y("debug-breakpoint-function-disabled",60296),debugStackframeActive:y("debug-stackframe-active",60297),circleSmallFilled:y("circle-small-filled",60298),debugStackframeDot:y("debug-stackframe-dot",60298),debugStackframe:y("debug-stackframe",60299),debugStackframeFocused:y("debug-stackframe-focused",60299),debugBreakpointUnsupported:y("debug-breakpoint-unsupported",60300),symbolString:y("symbol-string",60301),debugReverseContinue:y("debug-reverse-continue",60302),debugStepBack:y("debug-step-back",60303),debugRestartFrame:y("debug-restart-frame",60304),callIncoming:y("call-incoming",60306),callOutgoing:y("call-outgoing",60307),menu:y("menu",60308),expandAll:y("expand-all",60309),feedback:y("feedback",60310),gitPullRequestReviewer:y("git-pull-request-reviewer",60310),groupByRefType:y("group-by-ref-type",60311),ungroupByRefType:y("ungroup-by-ref-type",60312),account:y("account",60313),gitPullRequestAssignee:y("git-pull-request-assignee",60313),bellDot:y("bell-dot",60314),debugConsole:y("debug-console",60315),library:y("library",60316),output:y("output",60317),runAll:y("run-all",60318),syncIgnored:y("sync-ignored",60319),pinned:y("pinned",60320),githubInverted:y("github-inverted",60321),debugAlt:y("debug-alt",60305),serverProcess:y("server-process",60322),serverEnvironment:y("server-environment",60323),pass:y("pass",60324),stopCircle:y("stop-circle",60325),playCircle:y("play-circle",60326),record:y("record",60327),debugAltSmall:y("debug-alt-small",60328),vmConnect:y("vm-connect",60329),cloud:y("cloud",60330),merge:y("merge",60331),exportIcon:y("export",60332),graphLeft:y("graph-left",60333),magnet:y("magnet",60334),notebook:y("notebook",60335),redo:y("redo",60336),checkAll:y("check-all",60337),pinnedDirty:y("pinned-dirty",60338),passFilled:y("pass-filled",60339),circleLargeFilled:y("circle-large-filled",60340),circleLarge:y("circle-large",60341),circleLargeOutline:y("circle-large-outline",60341),combine:y("combine",60342),gather:y("gather",60342),table:y("table",60343),variableGroup:y("variable-group",60344),typeHierarchy:y("type-hierarchy",60345),typeHierarchySub:y("type-hierarchy-sub",60346),typeHierarchySuper:y("type-hierarchy-super",60347),gitPullRequestCreate:y("git-pull-request-create",60348),runAbove:y("run-above",60349),runBelow:y("run-below",60350),notebookTemplate:y("notebook-template",60351),debugRerun:y("debug-rerun",60352),workspaceTrusted:y("workspace-trusted",60353),workspaceUntrusted:y("workspace-untrusted",60354),workspaceUnspecified:y("workspace-unspecified",60355),terminalCmd:y("terminal-cmd",60356),terminalDebian:y("terminal-debian",60357),terminalLinux:y("terminal-linux",60358),terminalPowershell:y("terminal-powershell",60359),terminalTmux:y("terminal-tmux",60360),terminalUbuntu:y("terminal-ubuntu",60361),terminalBash:y("terminal-bash",60362),arrowSwap:y("arrow-swap",60363),copy:y("copy",60364),personAdd:y("person-add",60365),filterFilled:y("filter-filled",60366),wand:y("wand",60367),debugLineByLine:y("debug-line-by-line",60368),inspect:y("inspect",60369),layers:y("layers",60370),layersDot:y("layers-dot",60371),layersActive:y("layers-active",60372),compass:y("compass",60373),compassDot:y("compass-dot",60374),compassActive:y("compass-active",60375),azure:y("azure",60376),issueDraft:y("issue-draft",60377),gitPullRequestClosed:y("git-pull-request-closed",60378),gitPullRequestDraft:y("git-pull-request-draft",60379),debugAll:y("debug-all",60380),debugCoverage:y("debug-coverage",60381),runErrors:y("run-errors",60382),folderLibrary:y("folder-library",60383),debugContinueSmall:y("debug-continue-small",60384),beakerStop:y("beaker-stop",60385),graphLine:y("graph-line",60386),graphScatter:y("graph-scatter",60387),pieChart:y("pie-chart",60388),bracketDot:y("bracket-dot",60389),bracketError:y("bracket-error",60390),lockSmall:y("lock-small",60391),azureDevops:y("azure-devops",60392),verifiedFilled:y("verified-filled",60393),newLine:y("newline",60394),layout:y("layout",60395),layoutActivitybarLeft:y("layout-activitybar-left",60396),layoutActivitybarRight:y("layout-activitybar-right",60397),layoutPanelLeft:y("layout-panel-left",60398),layoutPanelCenter:y("layout-panel-center",60399),layoutPanelJustify:y("layout-panel-justify",60400),layoutPanelRight:y("layout-panel-right",60401),layoutPanel:y("layout-panel",60402),layoutSidebarLeft:y("layout-sidebar-left",60403),layoutSidebarRight:y("layout-sidebar-right",60404),layoutStatusbar:y("layout-statusbar",60405),layoutMenubar:y("layout-menubar",60406),layoutCentered:y("layout-centered",60407),layoutSidebarRightOff:y("layout-sidebar-right-off",60416),layoutPanelOff:y("layout-panel-off",60417),layoutSidebarLeftOff:y("layout-sidebar-left-off",60418),target:y("target",60408),indent:y("indent",60409),recordSmall:y("record-small",60410),errorSmall:y("error-small",60411),arrowCircleDown:y("arrow-circle-down",60412),arrowCircleLeft:y("arrow-circle-left",60413),arrowCircleRight:y("arrow-circle-right",60414),arrowCircleUp:y("arrow-circle-up",60415),heartFilled:y("heart-filled",60420),map:y("map",60421),mapFilled:y("map-filled",60422),circleSmall:y("circle-small",60423),bellSlash:y("bell-slash",60424),bellSlashDot:y("bell-slash-dot",60425),commentUnresolved:y("comment-unresolved",60426),gitPullRequestGoToChanges:y("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:y("git-pull-request-new-changes",60428),searchFuzzy:y("search-fuzzy",60429),commentDraft:y("comment-draft",60430),send:y("send",60431),sparkle:y("sparkle",60432),insert:y("insert",60433),mic:y("mic",60434),thumbsDownFilled:y("thumbsdown-filled",60435),thumbsUpFilled:y("thumbsup-filled",60436),coffee:y("coffee",60437),snake:y("snake",60438),game:y("game",60439),vr:y("vr",60440),chip:y("chip",60441),piano:y("piano",60442),music:y("music",60443),micFilled:y("mic-filled",60444),gitFetch:y("git-fetch",60445),copilot:y("copilot",60446),lightbulbSparkle:y("lightbulb-sparkle",60447),lightbulbSparkleAutofix:y("lightbulb-sparkle-autofix",60447),robot:y("robot",60448),sparkleFilled:y("sparkle-filled",60449),diffSingle:y("diff-single",60450),diffMultiple:y("diff-multiple",60451),surroundWith:y("surround-with",60452),gitStash:y("git-stash",60454),gitStashApply:y("git-stash-apply",60455),gitStashPop:y("git-stash-pop",60456),runAllCoverage:y("run-all-coverage",60461),runCoverage:y("run-all-coverage",60460),coverage:y("coverage",60462),githubProject:y("github-project",60463),dialogError:y("dialog-error","error"),dialogWarning:y("dialog-warning","warning"),dialogInfo:y("dialog-info","info"),dialogClose:y("dialog-close","close"),treeItemExpanded:y("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:y("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:y("tree-filter-on-type-off","list-selection"),treeFilterClear:y("tree-filter-clear","close"),treeItemLoading:y("tree-item-loading","loading"),menuSelection:y("menu-selection","check"),menuSubmenu:y("menu-submenu","chevron-right"),menuBarMore:y("menubar-more","more"),scrollbarButtonLeft:y("scrollbar-button-left","triangle-left"),scrollbarButtonRight:y("scrollbar-button-right","triangle-right"),scrollbarButtonUp:y("scrollbar-button-up","triangle-up"),scrollbarButtonDown:y("scrollbar-button-down","triangle-down"),toolBarMore:y("toolbar-more","more"),quickInputBack:y("quick-input-back","arrow-left")}}),define(ne[54],se([1,0,20]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function k(i){if(!i||typeof i!="object"||i instanceof RegExp)return i;const t=Array.isArray(i)?[]:{};return Object.entries(i).forEach(([o,g])=>{t[o]=g&&typeof g=="object"?k(g):g}),t}e.deepClone=k;function y(i){if(!i||typeof i!="object")return i;const t=[i];for(;t.length>0;){const o=t.shift();Object.freeze(o);for(const g in o)if(D.call(o,g)){const m=o[g];typeof m=="object"&&!Object.isFrozen(m)&&!(0,L.isTypedArray)(m)&&t.push(m)}}return i}e.deepFreeze=y;const D=Object.prototype.hasOwnProperty;function S(i,t){return p(i,t,new Set)}e.cloneAndChange=S;function p(i,t,o){if((0,L.isUndefinedOrNull)(i))return i;const g=t(i);if(typeof g<"u")return g;if(Array.isArray(i)){const m=[];for(const c of i)m.push(p(c,t,o));return m}if((0,L.isObject)(i)){if(o.has(i))throw new Error("Cannot clone recursive data-structure");o.add(i);const m={};for(const c in i)D.call(i,c)&&(m[c]=p(i[c],t,o));return o.delete(i),m}return i}function w(i,t,o=!0){return(0,L.isObject)(i)?((0,L.isObject)(t)&&Object.keys(t).forEach(g=>{g in i?o&&((0,L.isObject)(i[g])&&(0,L.isObject)(t[g])?w(i[g],t[g],o):i[g]=t[g]):i[g]=t[g]}),i):t}e.mixin=w;function v(i,t){if(i===t)return!0;if(i==null||t===null||t===void 0||typeof i!=typeof t||typeof i!="object"||Array.isArray(i)!==Array.isArray(t))return!1;let o,g;if(Array.isArray(i)){if(i.length!==t.length)return!1;for(o=0;o<i.length;o++)if(!v(i[o],t[o]))return!1}else{const m=[];for(g in i)m.push(g);m.sort();const c=[];for(g in t)c.push(g);if(c.sort(),!v(m,c))return!1;for(o=0;o<m.length;o++)if(!v(i[m[o]],t[m[o]]))return!1}return!0}e.equals=v;function b(i){let t=[];for(;Object.prototype!==i;)t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return t}e.getAllPropertyNames=b;function a(i){const t=[];for(const o of b(i))typeof i[o]=="function"&&t.push(o);return t}e.getAllMethodNames=a;function n(i,t){const o=m=>function(){const c=Array.prototype.slice.call(arguments,0);return t(m,c)},g={};for(const m of i)g[m]=o(m);return g}e.createProxyObject=n}),define(ne[29],se([1,0,27]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeIcon=e.ThemeColor=void 0;var k;(function(D){function S(p){return p&&typeof p=="object"&&typeof p.id=="string"}D.isThemeColor=S})(k||(e.ThemeColor=k={}));var y;(function(D){D.iconNameSegment="[A-Za-z0-9]+",D.iconNameExpression="[A-Za-z0-9-]+",D.iconModifierExpression="~[A-Za-z]+",D.iconNameCharacter="[A-Za-z0-9~-]";const S=new RegExp(`^(${D.iconNameExpression})(${D.iconModifierExpression})?$`);function p(m){const c=S.exec(m.id);if(!c)return p(L.Codicon.error);const[,d,s]=c,l=["codicon","codicon-"+d];return s&&l.push("codicon-modifier-"+s.substring(1)),l}D.asClassNameArray=p;function w(m){return p(m).join(" ")}D.asClassName=w;function v(m){return"."+p(m).join(".")}D.asCSSSelector=v;function b(m){return m&&typeof m=="object"&&typeof m.id=="string"&&(typeof m.color>"u"||k.isThemeColor(m.color))}D.isThemeIcon=b;const a=new RegExp(`^\\$\\((${D.iconNameExpression}(?:${D.iconModifierExpression})?)\\)$`);function n(m){const c=a.exec(m);if(!c)return;const[,d]=c;return{id:d}}D.fromString=n;function i(m){return{id:m}}D.fromId=i;function t(m,c){let d=m.id;const s=d.lastIndexOf("~");return s!==-1&&(d=d.substring(0,s)),c&&(d=`${d}~${c}`),{id:d}}D.modify=t;function o(m){const c=m.id.lastIndexOf("~");if(c!==-1)return m.id.substring(c+1)}D.getModifier=o;function g(m,c){var d,s;return m.id===c.id&&((d=m.color)===null||d===void 0?void 0:d.id)===((s=c.color)===null||s===void 0?void 0:s.id)}D.isEqual=g})(y||(e.ThemeIcon=y={}))}),define(ne[130],se([1,0,73,11,29]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.getCodiconAriaLabel=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=void 0;const D="$(",S=new RegExp(`\\$\\(${y.ThemeIcon.iconNameExpression}(?:${y.ThemeIcon.iconModifierExpression})?\\)`,"g"),p=new RegExp(`(\\\\)?${S.source}`,"g");function w(m){return m.replace(p,(c,d)=>d?c:`\\${c}`)}e.escapeIcons=w;const v=new RegExp(`\\\\${S.source}`,"g");function b(m){return m.replace(v,c=>`\\${c}`)}e.markdownEscapeEscapedIcons=b;const a=new RegExp(`(\\s)?(\\\\)?${S.source}(\\s)?`,"g");function n(m){return m.indexOf(D)===-1?m:m.replace(a,(c,d,s,l)=>s?c:d||l||"")}e.stripIcons=n;function i(m){return m?m.replace(/\$\((.*?)\)/g,(c,d)=>` ${d} `).trim():""}e.getCodiconAriaLabel=i;const t=new RegExp(`\\$\\(${y.ThemeIcon.iconNameCharacter}+\\)`,"g");function o(m){t.lastIndex=0;let c="";const d=[];let s=0;for(;;){const l=t.lastIndex,r=t.exec(m),h=m.substring(l,r?.index);if(h.length>0){c+=h;for(let u=0;u<h.length;u++)d.push(s)}if(!r)break;s+=r[0].length}return{text:c,iconOffsets:d}}e.parseLabelWithIcons=o;function g(m,c,d=!1){const{text:s,iconOffsets:l}=c;if(!l||l.length===0)return(0,L.matchesFuzzy)(m,s,d);const r=(0,k.ltrim)(s," "),h=s.length-r.length,u=(0,L.matchesFuzzy)(m,r,d);if(u)for(const f of u){const C=l[f.start+h]+h;f.start+=C,f.end+=C}return u}e.matchesFuzzyIconAware=g}),define(ne[177],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function L(y){return y<0?0:y>255?255:y|0}e.toUint8=L;function k(y){return y<0?0:y>4294967295?4294967295:y|0}e.toUint32=k}),define(ne[178],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let L;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?L=crypto.getRandomValues.bind(crypto):L=function(D){for(let S=0;S<D.length;S++)D[S]=Math.floor(Math.random()*256);return D};const k=new Uint8Array(16),y=[];for(let D=0;D<256;D++)y.push(D.toString(16).padStart(2,"0"));return function(){L(k),k[6]=k[6]&15|64,k[8]=k[8]&63|128;let S=0,p="";return p+=y[k[S++]],p+=y[k[S++]],p+=y[k[S++]],p+=y[k[S++]],p+="-",p+=y[k[S++]],p+=y[k[S++]],p+="-",p+=y[k[S++]],p+=y[k[S++]],p+="-",p+=y[k[S++]],p+=y[k[S++]],p+="-",p+=y[k[S++]],p+=y[k[S++]],p+=y[k[S++]],p+=y[k[S++]],p+=y[k[S++]],p+=y[k[S++]],p}}()}),define(ne[179],se([1,0,13,52,178]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.matchesMimeType=e.VSDataTransfer=e.createFileDataTransferItem=e.createStringDataTransferItem=void 0;function D(a){return{asString:async()=>a,asFile:()=>{},value:typeof a=="string"?a:void 0}}e.createStringDataTransferItem=D;function S(a,n,i){const t={id:(0,y.generateUuid)(),name:a,uri:n,data:i};return{asString:async()=>"",asFile:()=>t,value:void 0}}e.createFileDataTransferItem=S;class p{constructor(){this._entries=new Map}get size(){let n=0;for(const i of this._entries)n++;return n}has(n){return this._entries.has(this.toKey(n))}matches(n){const i=[...this._entries.keys()];return k.Iterable.some(this,([t,o])=>o.asFile())&&i.push("files"),b(w(n),i)}get(n){var i;return(i=this._entries.get(this.toKey(n)))===null||i===void 0?void 0:i[0]}append(n,i){const t=this._entries.get(n);t?t.push(i):this._entries.set(this.toKey(n),[i])}replace(n,i){this._entries.set(this.toKey(n),[i])}delete(n){this._entries.delete(this.toKey(n))}*[Symbol.iterator](){for(const[n,i]of this._entries)for(const t of i)yield[n,t]}toKey(n){return w(n)}}e.VSDataTransfer=p;function w(a){return a.toLowerCase()}function v(a,n){return b(w(a),n.map(w))}e.matchesMimeType=v;function b(a,n){if(a==="*/*")return n.length>0;if(n.includes(a))return!0;const i=a.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!i)return!1;const[t,o,g]=i;return g==="*"?n.some(m=>m.startsWith(o+"/")):!1}e.UriList=Object.freeze({create:a=>(0,L.distinct)(a.map(n=>n.toString())).join(`\r
`),split:a=>a.split(`\r
`),parse:a=>e.UriList.split(a).filter(n=>!n.startsWith("#"))})}),define(ne[280],se([10]),{}),define(ne[415],se([10]),{}),define(ne[416],se([10]),{}),define(ne[417],se([10]),{}),define(ne[418],se([10]),{}),define(ne[180],se([1,0,417,418]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ne[419],se([10]),{}),define(ne[420],se([10]),{}),define(ne[281],se([10]),{}),define(ne[282],se([10]),{}),define(ne[421],se([10]),{}),define(ne[422],se([10]),{}),define(ne[423],se([10]),{}),define(ne[424],se([10]),{}),define(ne[283],se([10]),{}),define(ne[425],se([10]),{}),define(ne[206],se([1,0,425]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ne[426],se([10]),{}),define(ne[427],se([10]),{}),define(ne[428],se([10]),{}),define(ne[429],se([10]),{}),define(ne[430],se([10]),{}),define(ne[431],se([10]),{}),define(ne[432],se([10]),{}),define(ne[433],se([10]),{}),define(ne[434],se([10]),{}),define(ne[435],se([10]),{}),define(ne[436],se([10]),{}),define(ne[437],se([10]),{}),define(ne[438],se([10]),{}),define(ne[439],se([10]),{}),define(ne[440],se([10]),{}),define(ne[441],se([10]),{}),define(ne[442],se([10]),{}),define(ne[443],se([10]),{}),define(ne[444],se([10]),{}),define(ne[445],se([10]),{}),define(ne[446],se([10]),{}),define(ne[447],se([10]),{}),define(ne[448],se([10]),{}),define(ne[449],se([10]),{}),define(ne[450],se([10]),{}),define(ne[451],se([10]),{}),define(ne[452],se([10]),{}),define(ne[453],se([10]),{}),define(ne[454],se([10]),{}),define(ne[455],se([10]),{}),define(ne[456],se([10]),{}),define(ne[457],se([10]),{}),define(ne[458],se([10]),{}),define(ne[459],se([10]),{}),define(ne[460],se([10]),{}),define(ne[461],se([10]),{}),define(ne[462],se([10]),{}),define(ne[463],se([10]),{}),define(ne[207],se([10]),{}),define(ne[464],se([10]),{}),define(ne[465],se([10]),{}),define(ne[466],se([10]),{}),define(ne[467],se([10]),{}),define(ne[468],se([10]),{}),define(ne[469],se([10]),{}),define(ne[470],se([10]),{}),define(ne[471],se([10]),{}),define(ne[472],se([10]),{}),define(ne[473],se([10]),{}),define(ne[474],se([10]),{}),define(ne[475],se([10]),{}),define(ne[476],se([10]),{}),define(ne[477],se([10]),{}),define(ne[478],se([10]),{}),define(ne[479],se([10]),{}),define(ne[480],se([10]),{}),define(ne[481],se([10]),{}),define(ne[482],se([10]),{}),define(ne[483],se([10]),{}),define(ne[484],se([10]),{}),define(ne[485],se([10]),{}),define(ne[486],se([10]),{}),define(ne[487],se([10]),{}),define(ne[488],se([10]),{}),define(ne[489],se([10]),{}),define(ne[490],se([10]),{}),define(ne[491],se([10]),{}),define(ne[492],se([10]),{}),define(ne[493],se([10]),{}),define(ne[494],se([10]),{}),define(ne[495],se([10]),{}),define(ne[496],se([10]),{}),define(ne[284],se([10]),{}),define(ne[497],se([10]),{}),define(ne[498],se([10]),{}),define(ne[181],se([10]),{}),define(ne[499],se([10]),{}),define(ne[74],se([1,0,41]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function k(y,D){y instanceof L.FastDomNode?(y.setFontFamily(D.getMassagedFontFamily()),y.setFontWeight(D.fontWeight),y.setFontSize(D.fontSize),y.setFontFeatureSettings(D.fontFeatureSettings),y.setFontVariationSettings(D.fontVariationSettings),y.setLineHeight(D.lineHeight),y.setLetterSpacing(D.letterSpacing)):(y.style.fontFamily=D.getMassagedFontFamily(),y.style.fontWeight=D.fontWeight,y.style.fontSize=D.fontSize+"px",y.style.fontFeatureSettings=D.fontFeatureSettings,y.style.fontVariationSettings=D.fontVariationSettings,y.style.lineHeight=D.lineHeight+"px",y.style.letterSpacing=D.letterSpacing+"px")}e.applyFontInfo=k}),define(ne[500],se([1,0,74]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class k{constructor(p,w){this.chr=p,this.type=w,this.width=0}fulfill(p){this.width=p}}e.CharWidthRequest=k;class y{constructor(p,w){this._bareFontInfo=p,this._requests=w,this._container=null,this._testElements=null}read(p){this._createDomElements(),p.document.body.appendChild(this._container),this._readFromDomElements(),p.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const p=document.createElement("div");p.style.position="absolute",p.style.top="-50000px",p.style.width="50000px";const w=document.createElement("div");(0,L.applyFontInfo)(w,this._bareFontInfo),p.appendChild(w);const v=document.createElement("div");(0,L.applyFontInfo)(v,this._bareFontInfo),v.style.fontWeight="bold",p.appendChild(v);const b=document.createElement("div");(0,L.applyFontInfo)(b,this._bareFontInfo),b.style.fontStyle="italic",p.appendChild(b);const a=[];for(const n of this._requests){let i;n.type===0&&(i=w),n.type===2&&(i=v),n.type===1&&(i=b),i.appendChild(document.createElement("br"));const t=document.createElement("span");y._render(t,n),i.appendChild(t),a.push(t)}this._container=p,this._testElements=a}static _render(p,w){if(w.chr===" "){let v="\xA0";for(let b=0;b<8;b++)v+=v;p.innerText=v}else{let v=w.chr;for(let b=0;b<8;b++)v+=v;p.textContent=v}}_readFromDomElements(){for(let p=0,w=this._requests.length;p<w;p++){const v=this._requests[p],b=this._testElements[p];v.fulfill(b.offsetWidth/256)}}}function D(S,p,w){new y(p,w).read(S)}e.readCharWidths=D}),define(ne[501],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=e.EditorSettingMigration=void 0;class L{constructor(w,v){this.key=w,this.migrate=v}apply(w){const v=L._read(w,this.key),b=n=>L._read(w,n),a=(n,i)=>L._write(w,n,i);this.migrate(v,b,a)}static _read(w,v){if(typeof w>"u")return;const b=v.indexOf(".");if(b>=0){const a=v.substring(0,b);return this._read(w[a],v.substring(b+1))}return w[v]}static _write(w,v,b){const a=v.indexOf(".");if(a>=0){const n=v.substring(0,a);w[n]=w[n]||{},this._write(w[n],v.substring(a+1),b);return}w[v]=b}}e.EditorSettingMigration=L,L.items=[];function k(p,w){L.items.push(new L(p,w))}function y(p,w){k(p,(v,b,a)=>{if(typeof v<"u"){for(const[n,i]of w)if(v===n){a(p,i);return}}})}function D(p){L.items.forEach(w=>w.apply(p))}e.migrateOptions=D,y("wordWrap",[[!0,"on"],[!1,"off"]]),y("lineNumbers",[[!0,"on"],[!1,"off"]]),y("cursorBlinking",[["visible","solid"]]),y("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),y("renderLineHighlight",[[!0,"line"],[!1,"none"]]),y("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),y("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),y("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),y("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),y("autoIndent",[[!1,"advanced"],[!0,"full"]]),y("matchBrackets",[[!0,"always"],[!1,"never"]]),y("renderFinalNewline",[[!0,"on"],[!1,"off"]]),y("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),y("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),y("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),k("autoClosingBrackets",(p,w,v)=>{p===!1&&(v("autoClosingBrackets","never"),typeof w("autoClosingQuotes")>"u"&&v("autoClosingQuotes","never"),typeof w("autoSurround")>"u"&&v("autoSurround","never"))}),k("renderIndentGuides",(p,w,v)=>{typeof p<"u"&&(v("renderIndentGuides",void 0),typeof w("guides.indentation")>"u"&&v("guides.indentation",!!p))}),k("highlightActiveIndentGuide",(p,w,v)=>{typeof p<"u"&&(v("highlightActiveIndentGuide",void 0),typeof w("guides.highlightActiveIndentation")>"u"&&v("guides.highlightActiveIndentation",!!p))});const S={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};k("suggest.filteredTypes",(p,w,v)=>{if(p&&typeof p=="object"){for(const b of Object.entries(S))p[b[0]]===!1&&typeof w(`suggest.${b[1]}`)>"u"&&v(`suggest.${b[1]}`,!1);v("suggest.filteredTypes",void 0)}}),k("quickSuggestions",(p,w,v)=>{if(typeof p=="boolean"){const b=p?"on":"off";v("quickSuggestions",{comments:b,strings:b,other:b})}}),k("experimental.stickyScroll.enabled",(p,w,v)=>{typeof p=="boolean"&&(v("experimental.stickyScroll.enabled",void 0),typeof w("stickyScroll.enabled")>"u"&&v("stickyScroll.enabled",p))}),k("experimental.stickyScroll.maxLineCount",(p,w,v)=>{typeof p=="number"&&(v("experimental.stickyScroll.maxLineCount",void 0),typeof w("stickyScroll.maxLineCount")>"u"&&v("stickyScroll.maxLineCount",p))}),k("codeActionsOnSave",(p,w,v)=>{if(p&&typeof p=="object"){let b=!1;const a={};for(const n of Object.entries(p))typeof n[1]=="boolean"?(b=!0,a[n[0]]=n[1]?"explicit":"never"):a[n[0]]=n[1];b&&v("codeActionsOnSave",a)}}),k("codeActionWidget.includeNearbyQuickfixes",(p,w,v)=>{typeof p=="boolean"&&(v("codeActionWidget.includeNearbyQuickfixes",void 0),typeof w("codeActionWidget.includeNearbyQuickFixes")>"u"&&v("codeActionWidget.includeNearbyQuickFixes",p))}),k("lightbulb.enabled",(p,w,v)=>{typeof p=="boolean"&&v("lightbulb.enabled",p?void 0:"off")})}),define(ne[208],se([1,0,7]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class k{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new L.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(D){this._tabFocus=D,this._onDidChangeTabFocus.fire(this._tabFocus)}}e.TabFocus=new k}),define(ne[131],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class L{static capture(y){if(y.getScrollTop()===0||y.hasPendingScrollAnimation())return new L(y.getScrollTop(),y.getContentHeight(),null,0,null);let D=null,S=0;const p=y.getVisibleRanges();if(p.length>0){D=p[0].getStartPosition();const w=y.getTopForPosition(D.lineNumber,D.column);S=y.getScrollTop()-w}return new L(y.getScrollTop(),y.getContentHeight(),D,S,y.getPosition())}constructor(y,D,S,p,w){this._initialScrollTop=y,this._initialContentHeight=D,this._visiblePosition=S,this._visiblePositionScrollDelta=p,this._cursorPosition=w}restore(y){if(!(this._initialContentHeight===y.getContentHeight()&&this._initialScrollTop===y.getScrollTop())&&this._visiblePosition){const D=y.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);y.setScrollTop(D+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(y){if(this._initialContentHeight===y.getContentHeight()&&this._initialScrollTop===y.getScrollTop())return;const D=y.getPosition();if(!this._cursorPosition||!D)return;const S=y.getTopForLineNumber(D.lineNumber)-y.getTopForLineNumber(this._cursorPosition.lineNumber);y.setScrollTop(y.getScrollTop()+S)}}e.StableEditorScrollState=L}),define(ne[152],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class L{constructor(b,a){this._restrictedRenderingContextBrand=void 0,this._viewLayout=b,this.viewportData=a,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}getScrolledTopFromAbsoluteTop(b){return b-this.scrollTop}getVerticalOffsetForLineNumber(b,a){return this._viewLayout.getVerticalOffsetForLineNumber(b,a)}getVerticalOffsetAfterLineNumber(b,a){return this._viewLayout.getVerticalOffsetAfterLineNumber(b,a)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=L;class k extends L{constructor(b,a,n){super(b,a),this._renderingContextBrand=void 0,this._viewLines=n}linesVisibleRangesForRange(b,a){return this._viewLines.linesVisibleRangesForRange(b,a)}visibleRangeForPosition(b){return this._viewLines.visibleRangeForPosition(b)}}e.RenderingContext=k;class y{constructor(b,a,n,i){this.outsideRenderedLine=b,this.lineNumber=a,this.ranges=n,this.continuesOnNextLine=i}}e.LineVisibleRanges=y;class D{static from(b){const a=new Array(b.length);for(let n=0,i=b.length;n<i;n++){const t=b[n];a[n]=new D(t.left,t.width)}return a}constructor(b,a){this._horizontalRangeBrand=void 0,this.left=Math.round(b),this.width=Math.round(a)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class S{constructor(b,a){this._floatHorizontalRangeBrand=void 0,this.left=b,this.width=a}toString(){return`[${this.left},${this.width}]`}static compare(b,a){return b.left-a.left}}e.FloatHorizontalRange=S;class p{constructor(b,a){this.outsideRenderedLine=b,this.originalLeft=a,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=p;class w{constructor(b,a){this.outsideRenderedLine=b,this.ranges=a}}e.VisibleRanges=w}),define(ne[502],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomReadingContext=void 0;class L{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const y=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=y.left,this._clientRectScale=y.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(y,D){this._domNode=y,this.endNode=D,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}e.DomReadingContext=L}),define(ne[503],se([1,0,152]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(D,S){D.selectNodeContents(S)}static _readClientRects(D,S,p,w,v){const b=this._createRange();try{return b.setStart(D,S),b.setEnd(p,w),b.getClientRects()}catch{return null}finally{this._detachRange(b,v)}}static _mergeAdjacentRanges(D){if(D.length===1)return D;D.sort(L.FloatHorizontalRange.compare);const S=[];let p=0,w=D[0];for(let v=1,b=D.length;v<b;v++){const a=D[v];w.left+w.width+.9>=a.left?w.width=Math.max(w.width,a.left+a.width-w.left):(S[p++]=w,w=a)}return S[p++]=w,S}static _createHorizontalRangesFromClientRects(D,S,p){if(!D||D.length===0)return null;const w=[];for(let v=0,b=D.length;v<b;v++){const a=D[v];w[v]=new L.FloatHorizontalRange(Math.max(0,(a.left-S)/p),a.width/p)}return this._mergeAdjacentRanges(w)}static readHorizontalRanges(D,S,p,w,v,b){const n=D.children.length-1;if(0>n)return null;if(S=Math.min(n,Math.max(0,S)),w=Math.min(n,Math.max(0,w)),S===w&&p===v&&p===0&&!D.children[S].firstChild){const g=D.children[S].getClientRects();return b.markDidDomLayout(),this._createHorizontalRangesFromClientRects(g,b.clientRectDeltaLeft,b.clientRectScale)}S!==w&&w>0&&v===0&&(w--,v=1073741824);let i=D.children[S].firstChild,t=D.children[w].firstChild;if((!i||!t)&&(!i&&p===0&&S>0&&(i=D.children[S-1].firstChild,p=1073741824),!t&&v===0&&w>0&&(t=D.children[w-1].firstChild,v=1073741824)),!i||!t)return null;p=Math.min(i.textContent.length,Math.max(0,p)),v=Math.min(t.textContent.length,Math.max(0,v));const o=this._readClientRects(i,p,t,v,b.endNode);return b.markDidDomLayout(),this._createHorizontalRangesFromClientRects(o,b.clientRectDeltaLeft,b.clientRectScale)}}e.RangeUtil=k}),define(ne[285],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let y=32;y<=126;y++)k.push(y);return k.push(65533),k})();const L=(k,y)=>(k-=32,k<0||k>96?y<=2?(k+96)%96:95:k);e.getCharIndex=L}),define(ne[504],se([1,0,285,177]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class y{constructor(S,p){this.scale=p,this._minimapCharRendererBrand=void 0,this.charDataNormal=y.soften(S,12/15),this.charDataLight=y.soften(S,50/60)}static soften(S,p){const w=new Uint8ClampedArray(S.length);for(let v=0,b=S.length;v<b;v++)w[v]=(0,k.toUint8)(S[v]*p);return w}renderChar(S,p,w,v,b,a,n,i,t,o,g){const m=1*this.scale,c=2*this.scale,d=g?1:c;if(p+m>S.width||w+d>S.height){console.warn("bad render request outside image data");return}const s=o?this.charDataLight:this.charDataNormal,l=(0,L.getCharIndex)(v,t),r=S.width*4,h=n.r,u=n.g,f=n.b,C=b.r-h,_=b.g-u,E=b.b-f,I=Math.max(a,i),T=S.data;let A=l*m*c,R=w*r+p*4;for(let M=0;M<d;M++){let N=R;for(let P=0;P<m;P++){const F=s[A++]/255*(a/255);T[N++]=h+C*F,T[N++]=u+_*F,T[N++]=f+E*F,T[N++]=I}R+=r}}blockRenderChar(S,p,w,v,b,a,n,i){const t=1*this.scale,o=2*this.scale,g=i?1:o;if(p+t>S.width||w+g>S.height){console.warn("bad render request outside image data");return}const m=S.width*4,c=.5*(b/255),d=a.r,s=a.g,l=a.b,r=v.r-d,h=v.g-s,u=v.b-l,f=d+r*c,C=s+h*c,_=l+u*c,E=Math.max(b,n),I=S.data;let T=w*m+p*4;for(let A=0;A<g;A++){let R=T;for(let M=0;M<t;M++)I[R++]=f,I[R++]=C,I[R++]=_,I[R++]=E;T+=m}}}e.MinimapCharRenderer=y}),define(ne[505],se([1,0,112]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},y=D=>{const S=new Uint8ClampedArray(D.length/2);for(let p=0;p<D.length;p+=2)S[p>>1]=k[D[p]]<<4|k[D[p+1]]&15;return S};e.prebakedMiniMaps={1:(0,L.createSingleCallFunction)(()=>y("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,L.createSingleCallFunction)(()=>y("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ne[506],se([1,0,504,285,505,177]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class S{static create(w,v){if(this.lastCreated&&w===this.lastCreated.scale&&v===this.lastFontFamily)return this.lastCreated;let b;return y.prebakedMiniMaps[w]?b=new L.MinimapCharRenderer(y.prebakedMiniMaps[w](),w):b=S.createFromSampleData(S.createSampleData(v).data,w),this.lastFontFamily=v,this.lastCreated=b,b}static createSampleData(w){const v=document.createElement("canvas"),b=v.getContext("2d");v.style.height="16px",v.height=16,v.width=96*10,v.style.width=96*10+"px",b.fillStyle="#ffffff",b.font=`bold 16px ${w}`,b.textBaseline="middle";let a=0;for(const n of k.allCharCodes)b.fillText(String.fromCharCode(n),a,16/2),a+=10;return b.getImageData(0,0,96*10,16)}static createFromSampleData(w,v){if(w.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const a=S._downsample(w,v);return new L.MinimapCharRenderer(a,v)}static _downsampleChar(w,v,b,a,n){const i=1*n,t=2*n;let o=a,g=0;for(let m=0;m<t;m++){const c=m/t*16,d=(m+1)/t*16;for(let s=0;s<i;s++){const l=s/i*10,r=(s+1)/i*10;let h=0,u=0;for(let C=c;C<d;C++){const _=v+Math.floor(C)*3840,E=1-(C-Math.floor(C));for(let I=l;I<r;I++){const T=1-(I-Math.floor(I)),A=_+Math.floor(I)*4,R=T*E;u+=R,h+=w[A]*w[A+3]/255*R}}const f=h/u;g=Math.max(g,f),b[o++]=(0,D.toUint8)(f)}}return g}static _downsample(w,v){const b=2*v*1*v,a=b*96,n=new Uint8ClampedArray(a);let i=0,t=0,o=0;for(let g=0;g<96;g++)o=Math.max(o,this._downsampleChar(w,t,n,i,v)),i+=b,t+=10*4;if(o>0){const g=255/o;for(let m=0;m<a;m++)n[m]*=g}return n}}e.MinimapCharRendererFactory=S}),define(ne[507],se([1,0,7,2]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DelegatingEditor=void 0;class y extends k.Disposable{constructor(){super(...arguments),this._id=++y.idCounter,this._onDidDispose=this._register(new L.Emitter),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(S){return this._targetEditor.getVisibleColumnFromPosition(S)}getPosition(){return this._targetEditor.getPosition()}setPosition(S,p="api"){this._targetEditor.setPosition(S,p)}revealLine(S,p=0){this._targetEditor.revealLine(S,p)}revealLineInCenter(S,p=0){this._targetEditor.revealLineInCenter(S,p)}revealLineInCenterIfOutsideViewport(S,p=0){this._targetEditor.revealLineInCenterIfOutsideViewport(S,p)}revealLineNearTop(S,p=0){this._targetEditor.revealLineNearTop(S,p)}revealPosition(S,p=0){this._targetEditor.revealPosition(S,p)}revealPositionInCenter(S,p=0){this._targetEditor.revealPositionInCenter(S,p)}revealPositionInCenterIfOutsideViewport(S,p=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(S,p)}revealPositionNearTop(S,p=0){this._targetEditor.revealPositionNearTop(S,p)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(S,p="api"){this._targetEditor.setSelection(S,p)}setSelections(S,p="api"){this._targetEditor.setSelections(S,p)}revealLines(S,p,w=0){this._targetEditor.revealLines(S,p,w)}revealLinesInCenter(S,p,w=0){this._targetEditor.revealLinesInCenter(S,p,w)}revealLinesInCenterIfOutsideViewport(S,p,w=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(S,p,w)}revealLinesNearTop(S,p,w=0){this._targetEditor.revealLinesNearTop(S,p,w)}revealRange(S,p=0,w=!1,v=!0){this._targetEditor.revealRange(S,p,w,v)}revealRangeInCenter(S,p=0){this._targetEditor.revealRangeInCenter(S,p)}revealRangeInCenterIfOutsideViewport(S,p=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(S,p)}revealRangeNearTop(S,p=0){this._targetEditor.revealRangeNearTop(S,p)}revealRangeNearTopIfOutsideViewport(S,p=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(S,p)}revealRangeAtTop(S,p=0){this._targetEditor.revealRangeAtTop(S,p)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(S,p,w){this._targetEditor.trigger(S,p,w)}createDecorationsCollection(S){return this._targetEditor.createDecorationsCollection(S)}changeDecorations(S){return this._targetEditor.changeDecorations(S)}}e.DelegatingEditor=y,y.idCounter=0}),define(ne[508],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectPool=void 0;class L{constructor(y){this._create=y,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(y){var D;let S;if(this._unused.size===0)S=this._create(y),this._itemData.set(S,y);else{const p=[...this._unused.values()];S=(D=p.find(w=>this._itemData.get(w).getId()===y.getId()))!==null&&D!==void 0?D:p[0],this._unused.delete(S),this._itemData.set(S,y),S.setData(y)}return this._used.add(S),{object:S,dispose:()=>{this._used.delete(S),this._unused.size>5?S.dispose():this._unused.add(S)}}}dispose(){for(const y of this._used)y.dispose();for(const y of this._unused)y.dispose();this._used.clear(),this._unused.clear()}}e.ObjectPool=L}),define(ne[286],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffEditorDefaultOptions=void 0,e.diffEditorDefaultOptions={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}}),define(ne[153],se([1,0,7]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new L.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(ne[132],se([1,0,177]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(S){const p=(0,L.toUint8)(S);this._defaultValue=p,this._asciiMap=k._createAsciiMap(p),this._map=new Map}static _createAsciiMap(S){const p=new Uint8Array(256);return p.fill(S),p}set(S,p){const w=(0,L.toUint8)(p);S>=0&&S<256?this._asciiMap[S]=w:this._map.set(S,w)}get(S){return S>=0&&S<256?this._asciiMap[S]:this._map.get(S)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}e.CharacterClassifier=k;class y{constructor(){this._actual=new k(0)}add(S){this._actual.set(S,1)}has(S){return this._actual.get(S)===1}clear(){return this._actual.clear()}}e.CharacterSet=y}),define(ne[85],se([1,0,11]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class k{static _nextVisibleColumn(D,S,p){return D===9?k.nextRenderTabStop(S,p):L.isFullWidthCharacter(D)||L.isEmojiImprecise(D)?S+2:S+1}static visibleColumnFromColumn(D,S,p){const w=Math.min(S-1,D.length),v=D.substring(0,w),b=new L.GraphemeIterator(v);let a=0;for(;!b.eol();){const n=L.getNextCodePoint(v,w,b.offset);b.nextGraphemeLength(),a=this._nextVisibleColumn(n,a,p)}return a}static columnFromVisibleColumn(D,S,p){if(S<=0)return 1;const w=D.length,v=new L.GraphemeIterator(D);let b=0,a=1;for(;!v.eol();){const n=L.getNextCodePoint(D,w,v.offset);v.nextGraphemeLength();const i=this._nextVisibleColumn(n,b,p),t=v.offset+1;if(i>=S){const o=S-b;return i-S<o?t:a}b=i,a=t}return w+1}static nextRenderTabStop(D,S){return D+S-D%S}static nextIndentTabStop(D,S){return D+S-D%S}static prevRenderTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}static prevIndentTabStop(D,S){return Math.max(0,D-1-(D-1)%S)}}e.CursorColumns=k}),define(ne[133],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function L(k){let y=0,D=0,S=0,p=0;for(let w=0,v=k.length;w<v;w++){const b=k.charCodeAt(w);b===13?(y===0&&(D=w),y++,w+1<v&&k.charCodeAt(w+1)===10?(p|=2,w++):p|=3,S=w+1):b===10&&(p|=1,y===0&&(D=w),y++,S=w+1)}return y===0&&(D=k.length),[y,D,k.length-S,p]}e.countEOL=L}),define(ne[209],se([1,0,11,85]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=void 0;function y(S,p,w){let v=0;for(let a=0;a<S.length;a++)S.charAt(a)==="	"?v=k.CursorColumns.nextIndentTabStop(v,p):v++;let b="";if(!w){const a=Math.floor(v/p);v=v%p;for(let n=0;n<a;n++)b+="	"}for(let a=0;a<v;a++)b+=" ";return b}function D(S,p,w){let v=L.firstNonWhitespaceIndex(S);return v===-1&&(v=S.length),y(S.substring(0,v),p,w)+S.substring(v)}e.normalizeIndentation=D}),define(ne[75],se([1,0,12]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OffsetRangeSet=e.OffsetRange=void 0;class k{static addRange(S,p){let w=0;for(;w<p.length&&p[w].endExclusive<S.start;)w++;let v=w;for(;v<p.length&&p[v].start<=S.endExclusive;)v++;if(w===v)p.splice(w,0,S);else{const b=Math.min(S.start,p[w].start),a=Math.max(S.endExclusive,p[v-1].endExclusive);p.splice(w,v-w,new k(b,a))}}static ofLength(S){return new k(0,S)}static ofStartAndLength(S,p){return new k(S,S+p)}constructor(S,p){if(this.start=S,this.endExclusive=p,S>p)throw new L.BugIndicatingError(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(S){return new k(this.start+S,this.endExclusive+S)}deltaStart(S){return new k(this.start+S,this.endExclusive)}deltaEnd(S){return new k(this.start,this.endExclusive+S)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(S){return this.start<=S&&S<this.endExclusive}join(S){return new k(Math.min(this.start,S.start),Math.max(this.endExclusive,S.endExclusive))}intersect(S){const p=Math.max(this.start,S.start),w=Math.min(this.endExclusive,S.endExclusive);if(p<=w)return new k(p,w)}intersects(S){const p=Math.max(this.start,S.start),w=Math.min(this.endExclusive,S.endExclusive);return p<w}isBefore(S){return this.endExclusive<=S.start}isAfter(S){return this.start>=S.endExclusive}slice(S){return S.slice(this.start,this.endExclusive)}clip(S){if(this.isEmpty)throw new L.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,S))}clipCyclic(S){if(this.isEmpty)throw new L.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return S<this.start?this.endExclusive-(this.start-S)%this.length:S>=this.endExclusive?this.start+(S-this.start)%this.length:S}forEach(S){for(let p=this.start;p<this.endExclusive;p++)S(p)}}e.OffsetRange=k;class y{constructor(){this._sortedRanges=[]}addRange(S){let p=0;for(;p<this._sortedRanges.length&&this._sortedRanges[p].endExclusive<S.start;)p++;let w=p;for(;w<this._sortedRanges.length&&this._sortedRanges[w].start<=S.endExclusive;)w++;if(p===w)this._sortedRanges.splice(p,0,S);else{const v=Math.min(S.start,this._sortedRanges[p].start),b=Math.max(S.endExclusive,this._sortedRanges[w-1].endExclusive);this._sortedRanges.splice(p,w-p,new k(v,b))}}toString(){return this._sortedRanges.map(S=>S.toString()).join(", ")}intersectsStrict(S){let p=0;for(;p<this._sortedRanges.length&&this._sortedRanges[p].endExclusive<=S.start;)p++;return p<this._sortedRanges.length&&this._sortedRanges[p].start<S.endExclusive}intersectWithRange(S){const p=new y;for(const w of this._sortedRanges){const v=w.intersect(S);v&&p.addRange(v)}return p}intersectWithRangeLength(S){return this.intersectWithRange(S).length}get length(){return this._sortedRanges.reduce((S,p)=>S+p.length,0)}}e.OffsetRangeSet=y}),define(ne[9],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class L{constructor(y,D){this.lineNumber=y,this.column=D}with(y=this.lineNumber,D=this.column){return y===this.lineNumber&&D===this.column?this:new L(y,D)}delta(y=0,D=0){return this.with(this.lineNumber+y,this.column+D)}equals(y){return L.equals(this,y)}static equals(y,D){return!y&&!D?!0:!!y&&!!D&&y.lineNumber===D.lineNumber&&y.column===D.column}isBefore(y){return L.isBefore(this,y)}static isBefore(y,D){return y.lineNumber<D.lineNumber?!0:D.lineNumber<y.lineNumber?!1:y.column<D.column}isBeforeOrEqual(y){return L.isBeforeOrEqual(this,y)}static isBeforeOrEqual(y,D){return y.lineNumber<D.lineNumber?!0:D.lineNumber<y.lineNumber?!1:y.column<=D.column}static compare(y,D){const S=y.lineNumber|0,p=D.lineNumber|0;if(S===p){const w=y.column|0,v=D.column|0;return w-v}return S-p}clone(){return new L(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(y){return new L(y.lineNumber,y.column)}static isIPosition(y){return y&&typeof y.lineNumber=="number"&&typeof y.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}e.Position=L}),define(ne[287],se([1,0,9]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(D){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=D}emitKeyDown(D){var S;(S=this.onKeyDown)===null||S===void 0||S.call(this,D)}emitKeyUp(D){var S;(S=this.onKeyUp)===null||S===void 0||S.call(this,D)}emitContextMenu(D){var S;(S=this.onContextMenu)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseMove(D){var S;(S=this.onMouseMove)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseLeave(D){var S;(S=this.onMouseLeave)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDown(D){var S;(S=this.onMouseDown)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseUp(D){var S;(S=this.onMouseUp)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrag(D){var S;(S=this.onMouseDrag)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrop(D){var S;(S=this.onMouseDrop)===null||S===void 0||S.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDropCanceled(){var D;(D=this.onMouseDropCanceled)===null||D===void 0||D.call(this)}emitMouseWheel(D){var S;(S=this.onMouseWheel)===null||S===void 0||S.call(this,D)}_convertViewToModelMouseEvent(D){return D.target?{event:D.event,target:this._convertViewToModelMouseTarget(D.target)}:D}_convertViewToModelMouseTarget(D){return k.convertViewToModelMouseTarget(D,this._coordinatesConverter)}static convertViewToModelMouseTarget(D,S){const p={...D};return p.position&&(p.position=S.convertViewPositionToModelPosition(p.position)),p.range&&(p.range=S.convertViewRangeToModelRange(p.range)),(p.type===5||p.type===8)&&(p.detail=this.convertViewToModelViewZoneData(p.detail,S)),p}static convertViewToModelViewZoneData(D,S){return{viewZoneId:D.viewZoneId,positionBefore:D.positionBefore?S.convertViewPositionToModelPosition(D.positionBefore):D.positionBefore,positionAfter:D.positionAfter?S.convertViewPositionToModelPosition(D.positionAfter):D.positionAfter,position:S.convertViewPositionToModelPosition(D.position),afterLineNumber:S.convertViewPositionToModelPosition(new L.Position(D.afterLineNumber,1)).lineNumber}}}e.ViewUserInputEvents=k}),define(ne[5],se([1,0,9]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(D,S,p,w){D>p||D===p&&S>w?(this.startLineNumber=p,this.startColumn=w,this.endLineNumber=D,this.endColumn=S):(this.startLineNumber=D,this.startColumn=S,this.endLineNumber=p,this.endColumn=w)}isEmpty(){return k.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return k.containsPosition(this,D)}static containsPosition(D,S){return!(S.lineNumber<D.startLineNumber||S.lineNumber>D.endLineNumber||S.lineNumber===D.startLineNumber&&S.column<D.startColumn||S.lineNumber===D.endLineNumber&&S.column>D.endColumn)}static strictContainsPosition(D,S){return!(S.lineNumber<D.startLineNumber||S.lineNumber>D.endLineNumber||S.lineNumber===D.startLineNumber&&S.column<=D.startColumn||S.lineNumber===D.endLineNumber&&S.column>=D.endColumn)}containsRange(D){return k.containsRange(this,D)}static containsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>D.endColumn)}strictContainsRange(D){return k.strictContainsRange(this,D)}static strictContainsRange(D,S){return!(S.startLineNumber<D.startLineNumber||S.endLineNumber<D.startLineNumber||S.startLineNumber>D.endLineNumber||S.endLineNumber>D.endLineNumber||S.startLineNumber===D.startLineNumber&&S.startColumn<=D.startColumn||S.endLineNumber===D.endLineNumber&&S.endColumn>=D.endColumn)}plusRange(D){return k.plusRange(this,D)}static plusRange(D,S){let p,w,v,b;return S.startLineNumber<D.startLineNumber?(p=S.startLineNumber,w=S.startColumn):S.startLineNumber===D.startLineNumber?(p=S.startLineNumber,w=Math.min(S.startColumn,D.startColumn)):(p=D.startLineNumber,w=D.startColumn),S.endLineNumber>D.endLineNumber?(v=S.endLineNumber,b=S.endColumn):S.endLineNumber===D.endLineNumber?(v=S.endLineNumber,b=Math.max(S.endColumn,D.endColumn)):(v=D.endLineNumber,b=D.endColumn),new k(p,w,v,b)}intersectRanges(D){return k.intersectRanges(this,D)}static intersectRanges(D,S){let p=D.startLineNumber,w=D.startColumn,v=D.endLineNumber,b=D.endColumn;const a=S.startLineNumber,n=S.startColumn,i=S.endLineNumber,t=S.endColumn;return p<a?(p=a,w=n):p===a&&(w=Math.max(w,n)),v>i?(v=i,b=t):v===i&&(b=Math.min(b,t)),p>v||p===v&&w>b?null:new k(p,w,v,b)}equalsRange(D){return k.equalsRange(this,D)}static equalsRange(D,S){return!D&&!S?!0:!!D&&!!S&&D.startLineNumber===S.startLineNumber&&D.startColumn===S.startColumn&&D.endLineNumber===S.endLineNumber&&D.endColumn===S.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(D){return new L.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(D){return new L.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,S){return new k(this.startLineNumber,this.startColumn,D,S)}setStartPosition(D,S){return new k(D,S,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(D){return new k(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}collapseToEnd(){return k.collapseToEnd(this)}static collapseToEnd(D){return new k(D.endLineNumber,D.endColumn,D.endLineNumber,D.endColumn)}delta(D){return new k(this.startLineNumber+D,this.startColumn,this.endLineNumber+D,this.endColumn)}static fromPositions(D,S=D){return new k(D.lineNumber,D.column,S.lineNumber,S.column)}static lift(D){return D?new k(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<D.startColumn)}static areIntersecting(D,S){return!(D.endLineNumber<S.startLineNumber||D.endLineNumber===S.startLineNumber&&D.endColumn<=S.startColumn||S.endLineNumber<D.startLineNumber||S.endLineNumber===D.startLineNumber&&S.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,S){if(D&&S){const v=D.startLineNumber|0,b=S.startLineNumber|0;if(v===b){const a=D.startColumn|0,n=S.startColumn|0;if(a===n){const i=D.endLineNumber|0,t=S.endLineNumber|0;if(i===t){const o=D.endColumn|0,g=S.endColumn|0;return o-g}return i-t}return a-n}return v-b}return(D?1:0)-(S?1:0)}static compareRangesUsingEnds(D,S){return D.endLineNumber===S.endLineNumber?D.endColumn===S.endColumn?D.startLineNumber===S.startLineNumber?D.startColumn-S.startColumn:D.startLineNumber-S.startLineNumber:D.endColumn-S.endColumn:D.endLineNumber-S.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}toJSON(){return this}}e.Range=k}),define(ne[288],se([1,0,11,5]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class y{constructor(p,w,v,b,a){this.value=p,this.selectionStart=w,this.selectionEnd=v,this.selection=b,this.newlineCountBeforeSelection=a}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(p,w){const v=p.getValue(),b=p.getSelectionStart(),a=p.getSelectionEnd();let n;if(w){const i=v.substring(0,b),t=w.value.substring(0,w.selectionStart);i===t&&(n=w.newlineCountBeforeSelection)}return new y(v,b,a,null,n)}collapseSelection(){return this.selectionStart===this.value.length?this:new y(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(p,w,v){e._debugComposition&&console.log(`writeToTextArea ${p}: ${this.toString()}`),w.setValue(p,this.value),v&&w.setSelectionRange(p,this.selectionStart,this.selectionEnd)}deduceEditorPosition(p){var w,v,b,a,n,i,t,o;if(p<=this.selectionStart){const c=this.value.substring(p,this.selectionStart);return this._finishDeduceEditorPosition((v=(w=this.selection)===null||w===void 0?void 0:w.getStartPosition())!==null&&v!==void 0?v:null,c,-1)}if(p>=this.selectionEnd){const c=this.value.substring(this.selectionEnd,p);return this._finishDeduceEditorPosition((a=(b=this.selection)===null||b===void 0?void 0:b.getEndPosition())!==null&&a!==void 0?a:null,c,1)}const g=this.value.substring(this.selectionStart,p);if(g.indexOf("\u2026")===-1)return this._finishDeduceEditorPosition((i=(n=this.selection)===null||n===void 0?void 0:n.getStartPosition())!==null&&i!==void 0?i:null,g,1);const m=this.value.substring(p,this.selectionEnd);return this._finishDeduceEditorPosition((o=(t=this.selection)===null||t===void 0?void 0:t.getEndPosition())!==null&&o!==void 0?o:null,m,-1)}_finishDeduceEditorPosition(p,w,v){let b=0,a=-1;for(;(a=w.indexOf(`
`,a+1))!==-1;)b++;return[p,v*w.length,b]}static deduceInput(p,w,v){if(!p)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${p.toString()}`),console.log(`CURRENT STATE: ${w.toString()}`));const b=Math.min(L.commonPrefixLength(p.value,w.value),p.selectionStart,w.selectionStart),a=Math.min(L.commonSuffixLength(p.value,w.value),p.value.length-p.selectionEnd,w.value.length-w.selectionEnd),n=p.value.substring(b,p.value.length-a),i=w.value.substring(b,w.value.length-a),t=p.selectionStart-b,o=p.selectionEnd-b,g=w.selectionStart-b,m=w.selectionEnd-b;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${n}>, selectionStart: ${t}, selectionEnd: ${o}`),console.log(`AFTER DIFFING CURRENT STATE: <${i}>, selectionStart: ${g}, selectionEnd: ${m}`)),g===m){const d=p.selectionStart-b;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${d} chars`),{text:i,replacePrevCharCnt:d,replaceNextCharCnt:0,positionDelta:0}}const c=o-t;return{text:i,replacePrevCharCnt:c,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(p,w){if(!p)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${p.toString()}`),console.log(`CURRENT STATE: ${w.toString()}`)),p.value===w.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:w.selectionEnd-p.selectionEnd};const v=Math.min(L.commonPrefixLength(p.value,w.value),p.selectionEnd),b=Math.min(L.commonSuffixLength(p.value,w.value),p.value.length-p.selectionEnd),a=p.value.substring(v,p.value.length-b),n=w.value.substring(v,w.value.length-b),i=p.selectionStart-v,t=p.selectionEnd-v,o=w.selectionStart-v,g=w.selectionEnd-v;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${a}>, selectionStart: ${i}, selectionEnd: ${t}`),console.log(`AFTER DIFFING CURRENT STATE: <${n}>, selectionStart: ${o}, selectionEnd: ${g}`)),{text:n,replacePrevCharCnt:t,replaceNextCharCnt:a.length-t,positionDelta:g-n.length}}}e.TextAreaState=y,y.EMPTY=new y("",0,0,null,void 0);class D{static _getPageOfLine(p,w){return Math.floor((p-1)/w)}static _getRangeForPage(p,w){const v=p*w,b=v+1,a=v+w;return new k.Range(b,1,a+1,1)}static fromEditorSelection(p,w,v,b){const n=D._getPageOfLine(w.startLineNumber,v),i=D._getRangeForPage(n,v),t=D._getPageOfLine(w.endLineNumber,v),o=D._getRangeForPage(t,v);let g=i.intersectRanges(new k.Range(1,1,w.startLineNumber,w.startColumn));if(b&&p.getValueLengthInRange(g,1)>500){const h=p.modifyPosition(g.getEndPosition(),-500);g=k.Range.fromPositions(h,g.getEndPosition())}const m=p.getValueInRange(g,1),c=p.getLineCount(),d=p.getLineMaxColumn(c);let s=o.intersectRanges(new k.Range(w.endLineNumber,w.endColumn,c,d));if(b&&p.getValueLengthInRange(s,1)>500){const h=p.modifyPosition(s.getStartPosition(),500);s=k.Range.fromPositions(s.getStartPosition(),h)}const l=p.getValueInRange(s,1);let r;if(n===t||n+1===t)r=p.getValueInRange(w,1);else{const h=i.intersectRanges(w),u=o.intersectRanges(w);r=p.getValueInRange(h,1)+"\u2026"+p.getValueInRange(u,1)}return b&&r.length>2*500&&(r=r.substring(0,500)+"\u2026"+r.substring(r.length-500,r.length)),new y(m+r+l,m.length,m.length+r.length,w,g.endLineNumber-g.startLineNumber)}}e.PagedScreenReaderStrategy=D}),define(ne[68],se([1,0,5]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(D,S){return{range:new L.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:S,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,S){return{range:D,text:S}}static replaceMove(D,S){return{range:D,text:S,forceMoveMarkers:!0}}}e.EditOperation=k}),define(ne[509],se([1,0,11,68,5]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class D{constructor(w,v){this._selection=w,this._cursors=v,this._selectionId=null}getEditOperations(w,v){const b=S(w,this._cursors);for(let a=0,n=b.length;a<n;a++){const i=b[a];v.addEditOperation(i.range,i.text)}this._selectionId=v.trackSelection(this._selection)}computeCursorState(w,v){return v.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=D;function S(p,w){w.sort((i,t)=>i.lineNumber===t.lineNumber?i.column-t.column:i.lineNumber-t.lineNumber);for(let i=w.length-2;i>=0;i--)w[i].lineNumber===w[i+1].lineNumber&&w.splice(i,1);const v=[];let b=0,a=0;const n=w.length;for(let i=1,t=p.getLineCount();i<=t;i++){const o=p.getLineContent(i),g=o.length+1;let m=0;if(a<n&&w[a].lineNumber===i&&(m=w[a].column,a++,m===g)||o.length===0)continue;const c=L.lastNonWhitespaceIndex(o);let d=0;if(c===-1)d=1;else if(c!==o.length-1)d=c+2;else continue;d=Math.max(m,d),v[b++]=k.EditOperation.delete(new y.Range(i,d,i,g))}return v}e.trimTrailingWhitespace=S}),define(ne[64],se([1,0,12,75,5,62]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeSet=e.LineRange=void 0;class S{static fromRangeInclusive(v){return new S(v.startLineNumber,v.endLineNumber+1)}static joinMany(v){if(v.length===0)return[];let b=new p(v[0].slice());for(let a=1;a<v.length;a++)b=b.getUnion(new p(v[a].slice()));return b.ranges}static ofLength(v,b){return new S(v,v+b)}static deserialize(v){return new S(v[0],v[1])}constructor(v,b){if(v>b)throw new L.BugIndicatingError(`startLineNumber ${v} cannot be after endLineNumberExclusive ${b}`);this.startLineNumber=v,this.endLineNumberExclusive=b}contains(v){return this.startLineNumber<=v&&v<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(v){return new S(this.startLineNumber+v,this.endLineNumberExclusive+v)}deltaLength(v){return new S(this.startLineNumber,this.endLineNumberExclusive+v)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(v){return new S(Math.min(this.startLineNumber,v.startLineNumber),Math.max(this.endLineNumberExclusive,v.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(v){const b=Math.max(this.startLineNumber,v.startLineNumber),a=Math.min(this.endLineNumberExclusive,v.endLineNumberExclusive);if(b<=a)return new S(b,a)}intersectsStrict(v){return this.startLineNumber<v.endLineNumberExclusive&&v.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(v){return this.startLineNumber<=v.endLineNumberExclusive&&v.startLineNumber<=this.endLineNumberExclusive}equals(v){return this.startLineNumber===v.startLineNumber&&this.endLineNumberExclusive===v.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new y.Range(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new y.Range(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(v){const b=[];for(let a=this.startLineNumber;a<this.endLineNumberExclusive;a++)b.push(v(a));return b}forEach(v){for(let b=this.startLineNumber;b<this.endLineNumberExclusive;b++)v(b)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(v){return this.startLineNumber<=v&&v<this.endLineNumberExclusive}toOffsetRange(){return new k.OffsetRange(this.startLineNumber-1,this.endLineNumberExclusive-1)}}e.LineRange=S;class p{constructor(v=[]){this._normalizedRanges=v}get ranges(){return this._normalizedRanges}addRange(v){if(v.length===0)return;const b=(0,D.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,n=>n.endLineNumberExclusive>=v.startLineNumber),a=(0,D.findLastIdxMonotonous)(this._normalizedRanges,n=>n.startLineNumber<=v.endLineNumberExclusive)+1;if(b===a)this._normalizedRanges.splice(b,0,v);else if(b===a-1){const n=this._normalizedRanges[b];this._normalizedRanges[b]=n.join(v)}else{const n=this._normalizedRanges[b].join(this._normalizedRanges[a-1]).join(v);this._normalizedRanges.splice(b,a-b,n)}}contains(v){const b=(0,D.findLastMonotonous)(this._normalizedRanges,a=>a.startLineNumber<=v);return!!b&&b.endLineNumberExclusive>v}intersects(v){const b=(0,D.findLastMonotonous)(this._normalizedRanges,a=>a.startLineNumber<v.endLineNumberExclusive);return!!b&&b.endLineNumberExclusive>v.startLineNumber}getUnion(v){if(this._normalizedRanges.length===0)return v;if(v._normalizedRanges.length===0)return this;const b=[];let a=0,n=0,i=null;for(;a<this._normalizedRanges.length||n<v._normalizedRanges.length;){let t=null;if(a<this._normalizedRanges.length&&n<v._normalizedRanges.length){const o=this._normalizedRanges[a],g=v._normalizedRanges[n];o.startLineNumber<g.startLineNumber?(t=o,a++):(t=g,n++)}else a<this._normalizedRanges.length?(t=this._normalizedRanges[a],a++):(t=v._normalizedRanges[n],n++);i===null?i=t:i.endLineNumberExclusive>=t.startLineNumber?i=new S(i.startLineNumber,Math.max(i.endLineNumberExclusive,t.endLineNumberExclusive)):(b.push(i),i=t)}return i!==null&&b.push(i),new p(b)}subtractFrom(v){const b=(0,D.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,t=>t.endLineNumberExclusive>=v.startLineNumber),a=(0,D.findLastIdxMonotonous)(this._normalizedRanges,t=>t.startLineNumber<=v.endLineNumberExclusive)+1;if(b===a)return new p([v]);const n=[];let i=v.startLineNumber;for(let t=b;t<a;t++){const o=this._normalizedRanges[t];o.startLineNumber>i&&n.push(new S(i,o.startLineNumber)),i=o.endLineNumberExclusive}return i<v.endLineNumberExclusive&&n.push(new S(i,v.endLineNumberExclusive)),new p(n)}toString(){return this._normalizedRanges.map(v=>v.toString()).join(", ")}getIntersection(v){const b=[];let a=0,n=0;for(;a<this._normalizedRanges.length&&n<v._normalizedRanges.length;){const i=this._normalizedRanges[a],t=v._normalizedRanges[n],o=i.intersect(t);o&&!o.isEmpty&&b.push(o),i.endLineNumberExclusive<t.endLineNumberExclusive?a++:n++}return new p(b)}getWithDelta(v){return new p(this._normalizedRanges.map(b=>b.delta(v)))}}e.LineRangeSet=p}),define(ne[289],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class L{constructor(y,D,S,p){this._rgba8Brand=void 0,this.r=L._clamp(y),this.g=L._clamp(D),this.b=L._clamp(S),this.a=L._clamp(p)}equals(y){return this.r===y.r&&this.g===y.g&&this.b===y.b&&this.a===y.a}static _clamp(y){return y<0?0:y>255?255:y|0}}e.RGBA8=L,L.Empty=new L(0,0,0,0)}),define(ne[23],se([1,0,9,5]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class y extends k.Range{constructor(S,p,w,v){super(S,p,w,v),this.selectionStartLineNumber=S,this.selectionStartColumn=p,this.positionLineNumber=w,this.positionColumn=v}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(S){return y.selectionsEqual(this,S)}static selectionsEqual(S,p){return S.selectionStartLineNumber===p.selectionStartLineNumber&&S.selectionStartColumn===p.selectionStartColumn&&S.positionLineNumber===p.positionLineNumber&&S.positionColumn===p.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(S,p){return this.getDirection()===0?new y(this.startLineNumber,this.startColumn,S,p):new y(S,p,this.startLineNumber,this.startColumn)}getPosition(){return new L.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new L.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(S,p){return this.getDirection()===0?new y(S,p,this.endLineNumber,this.endColumn):new y(this.endLineNumber,this.endColumn,S,p)}static fromPositions(S,p=S){return new y(S.lineNumber,S.column,p.lineNumber,p.column)}static fromRange(S,p){return p===0?new y(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn):new y(S.endLineNumber,S.endColumn,S.startLineNumber,S.startColumn)}static liftSelection(S){return new y(S.selectionStartLineNumber,S.selectionStartColumn,S.positionLineNumber,S.positionColumn)}static selectionsArrEqual(S,p){if(S&&!p||!S&&p)return!1;if(!S&&!p)return!0;if(S.length!==p.length)return!1;for(let w=0,v=S.length;w<v;w++)if(!this.selectionsEqual(S[w],p[w]))return!1;return!0}static isISelection(S){return S&&typeof S.selectionStartLineNumber=="number"&&typeof S.selectionStartColumn=="number"&&typeof S.positionLineNumber=="number"&&typeof S.positionColumn=="number"}static createWithDirection(S,p,w,v,b){return b===0?new y(S,p,w,v):new y(w,v,S,p)}}e.Selection=y}),define(ne[134],se([1,0,23]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(v,b,a=!1){this._range=v,this._text=b,this.insertsAutoWhitespace=a}getEditOperations(v,b){b.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,b){const n=b.getInverseEditOperations()[0].range;return L.Selection.fromPositions(n.getEndPosition())}}e.ReplaceCommand=k;class y{constructor(v,b){this._range=v,this._text=b}getEditOperations(v,b){b.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,b){const n=b.getInverseEditOperations()[0].range;return L.Selection.fromRange(n,0)}}e.ReplaceCommandThatSelectsText=y;class D{constructor(v,b,a=!1){this._range=v,this._text=b,this.insertsAutoWhitespace=a}getEditOperations(v,b){b.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,b){const n=b.getInverseEditOperations()[0].range;return L.Selection.fromPositions(n.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=D;class S{constructor(v,b,a,n,i=!1){this._range=v,this._text=b,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=a,this.insertsAutoWhitespace=i}getEditOperations(v,b){b.addTrackedEditOperation(this._range,this._text)}computeCursorState(v,b){const n=b.getInverseEditOperations()[0].range;return L.Selection.fromPositions(n.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=S;class p{constructor(v,b,a,n=!1){this._range=v,this._text=b,this._initialSelection=a,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(v,b){b.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=b.trackSelection(this._initialSelection)}computeCursorState(v,b){return b.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=p}),define(ne[510],se([1,0,5,23]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class y{constructor(p,w,v){this._range=p,this._charBeforeSelection=w,this._charAfterSelection=v}getEditOperations(p,w){w.addTrackedEditOperation(new L.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),w.addTrackedEditOperation(new L.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(p,w){const v=w.getInverseEditOperations(),b=v[0].range,a=v[1].range;return new k.Selection(b.endLineNumber,b.endColumn,a.endLineNumber,a.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=y;class D{constructor(p,w,v){this._position=p,this._text=w,this._charAfter=v}getEditOperations(p,w){w.addTrackedEditOperation(new L.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(p,w){const b=w.getInverseEditOperations()[0].range;return new k.Selection(b.endLineNumber,b.startColumn,b.endLineNumber,b.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=D}),define(ne[182],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(ne[154],se([1,0,132]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class k extends L.CharacterClassifier{constructor(S){super(0);for(let p=0,w=S.length;p<w;p++)this.set(S.charCodeAt(p),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=k;function y(D){const S={};return p=>(S.hasOwnProperty(p)||(S[p]=D(p)),S[p])}e.getMapForWordSeparators=y(D=>new k(D))}),define(ne[155],se([1,0,52,67]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function y(v=""){let b="(-?\\d*\\.\\d\\w*)|([^";for(const a of e.USUAL_WORD_SEPARATORS)v.indexOf(a)>=0||(b+="\\"+a);return b+="\\s]+)",new RegExp(b,"g")}e.DEFAULT_WORD_REGEXP=y();function D(v){let b=e.DEFAULT_WORD_REGEXP;if(v&&v instanceof RegExp)if(v.global)b=v;else{let a="g";v.ignoreCase&&(a+="i"),v.multiline&&(a+="m"),v.unicode&&(a+="u"),b=new RegExp(v.source,a)}return b.lastIndex=0,b}e.ensureValidWordDefinition=D;const S=new k.LinkedList;S.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function p(v,b,a,n,i){if(b=D(b),i||(i=L.Iterable.first(S)),a.length>i.maxLen){let c=v-i.maxLen/2;return c<0?c=0:n+=c,a=a.substring(c,v+i.maxLen/2),p(v,b,a,n,i)}const t=Date.now(),o=v-1-n;let g=-1,m=null;for(let c=1;!(Date.now()-t>=i.timeBudget);c++){const d=o-i.windowSize*c;b.lastIndex=Math.max(0,d);const s=w(b,a,o,g);if(!s&&m||(m=s,d<=0))break;g=d}if(m){const c={word:m[0],startColumn:n+1+m.index,endColumn:n+1+m.index+m[0].length};return b.lastIndex=0,c}return null}e.getWordAtText=p;function w(v,b,a,n){let i;for(;i=v.exec(b);){const t=i.index||0;if(t<=a&&v.lastIndex>=a)return i;if(n>0&&t>n)return null}return null}}),define(ne[290],se([1,0,85]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(D,S,p){const w=D.length;let v=0,b=-1,a=-1;for(let n=0;n<w;n++){if(n===S)return[b,a,v];switch(v%p===0&&(b=n,a=v),D.charCodeAt(n)){case 32:v+=1;break;case 9:v=L.CursorColumns.nextRenderTabStop(v,p);break;default:return[-1,-1,-1]}}return S===w?[b,a,v]:[-1,-1,-1]}static atomicPosition(D,S,p,w){const v=D.length,[b,a,n]=k.whitespaceVisibleColumn(D,S,p);if(n===-1)return-1;let i;switch(w){case 0:i=!0;break;case 1:i=!1;break;case 2:if(n%p===0)return S;i=n%p<=p/2;break}if(i){if(b===-1)return-1;let g=a;for(let m=b;m<v;++m){if(g===a+p)return b;switch(D.charCodeAt(m)){case 32:g+=1;break;case 9:g=L.CursorColumns.nextRenderTabStop(g,p);break;default:return-1}}return g===a+p?b:-1}const t=L.CursorColumns.nextRenderTabStop(n,p);let o=n;for(let g=S;g<v;g++){if(o===t)return g;switch(D.charCodeAt(g)){case 32:o+=1;break;case 9:o=L.CursorColumns.nextRenderTabStop(o,p);break;default:return-1}}return o===t?v:-1}}e.AtomicTabMoveOperations=k}),define(ne[511],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class L{constructor(y,D,S,p){this._cursorContextBrand=void 0,this.model=y,this.viewModel=D,this.coordinatesConverter=S,this.cursorConfig=p}}e.CursorContext=L}),define(ne[156],se([1,0,13,12,75]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeout=e.InfiniteTimeout=e.OffsetPair=e.SequenceDiff=e.DiffAlgorithmResult=void 0;class D{static trivial(a,n){return new D([new S(y.OffsetRange.ofLength(a.length),y.OffsetRange.ofLength(n.length))],!1)}static trivialTimedOut(a,n){return new D([new S(y.OffsetRange.ofLength(a.length),y.OffsetRange.ofLength(n.length))],!0)}constructor(a,n){this.diffs=a,this.hitTimeout=n}}e.DiffAlgorithmResult=D;class S{static invert(a,n){const i=[];return(0,L.forEachAdjacent)(a,(t,o)=>{i.push(S.fromOffsetPairs(t?t.getEndExclusives():p.zero,o?o.getStarts():new p(n,(t?t.seq2Range.endExclusive-t.seq1Range.endExclusive:0)+n)))}),i}static fromOffsetPairs(a,n){return new S(new y.OffsetRange(a.offset1,n.offset1),new y.OffsetRange(a.offset2,n.offset2))}constructor(a,n){this.seq1Range=a,this.seq2Range=n}swap(){return new S(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(a){return new S(this.seq1Range.join(a.seq1Range),this.seq2Range.join(a.seq2Range))}delta(a){return a===0?this:new S(this.seq1Range.delta(a),this.seq2Range.delta(a))}deltaStart(a){return a===0?this:new S(this.seq1Range.deltaStart(a),this.seq2Range.deltaStart(a))}deltaEnd(a){return a===0?this:new S(this.seq1Range.deltaEnd(a),this.seq2Range.deltaEnd(a))}intersect(a){const n=this.seq1Range.intersect(a.seq1Range),i=this.seq2Range.intersect(a.seq2Range);if(!(!n||!i))return new S(n,i)}getStarts(){return new p(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new p(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}e.SequenceDiff=S;class p{constructor(a,n){this.offset1=a,this.offset2=n}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(a){return a===0?this:new p(this.offset1+a,this.offset2+a)}equals(a){return this.offset1===a.offset1&&this.offset2===a.offset2}}e.OffsetPair=p,p.zero=new p(0,0),p.max=new p(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class w{isValid(){return!0}}e.InfiniteTimeout=w,w.instance=new w;class v{constructor(a){if(this.timeout=a,this.startTime=Date.now(),this.valid=!0,a<=0)throw new k.BugIndicatingError("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}e.DateTimeout=v}),define(ne[291],se([1,0,75,156]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class y{compute(v,b,a=k.InfiniteTimeout.instance){if(v.length===0||b.length===0)return k.DiffAlgorithmResult.trivial(v,b);const n=v,i=b;function t(h,u){for(;h<n.length&&u<i.length&&n.getElement(h)===i.getElement(u);)h++,u++;return h}let o=0;const g=new S;g.set(0,t(0,0));const m=new p;m.set(0,g.get(0)===0?null:new D(null,0,0,g.get(0)));let c=0;e:for(;;){if(o++,!a.isValid())return k.DiffAlgorithmResult.trivialTimedOut(n,i);const h=-Math.min(o,i.length+o%2),u=Math.min(o,n.length+o%2);for(c=h;c<=u;c+=2){let f=0;const C=c===u?-1:g.get(c+1),_=c===h?-1:g.get(c-1)+1;f++;const E=Math.min(Math.max(C,_),n.length),I=E-c;if(f++,E>n.length||I>i.length)continue;const T=t(E,I);g.set(c,T);const A=E===C?m.get(c+1):m.get(c-1);if(m.set(c,T!==E?new D(A,E,I,T-E):A),g.get(c)===n.length&&g.get(c)-c===i.length)break e}}let d=m.get(c);const s=[];let l=n.length,r=i.length;for(;;){const h=d?d.x+d.length:0,u=d?d.y+d.length:0;if((h!==l||u!==r)&&s.push(new k.SequenceDiff(new L.OffsetRange(h,l),new L.OffsetRange(u,r))),!d)break;l=d.x,r=d.y,d=d.prev}return s.reverse(),new k.DiffAlgorithmResult(s,!1)}}e.MyersDiffAlgorithm=y;class D{constructor(v,b,a,n){this.prev=v,this.x=b,this.y=a,this.length=n}}class S{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(v){return v<0?(v=-v-1,this.negativeArr[v]):this.positiveArr[v]}set(v,b){if(v<0){if(v=-v-1,v>=this.negativeArr.length){const a=this.negativeArr;this.negativeArr=new Int32Array(a.length*2),this.negativeArr.set(a)}this.negativeArr[v]=b}else{if(v>=this.positiveArr.length){const a=this.positiveArr;this.positiveArr=new Int32Array(a.length*2),this.positiveArr.set(a)}this.positiveArr[v]=b}}}class p{constructor(){this.positiveArr=[],this.negativeArr=[]}get(v){return v<0?(v=-v-1,this.negativeArr[v]):this.positiveArr[v]}set(v,b){v<0?(v=-v-1,this.negativeArr[v]=b):this.positiveArr[v]=b}}}),define(ne[292],se([1,0,13,75,156]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeVeryShortMatchingTextBetweenLongDiffs=e.removeVeryShortMatchingLinesBetweenDiffs=e.extendDiffsToEntireWordIfAppropriate=e.removeShortMatches=e.optimizeSequenceDiffs=void 0;function D(t,o,g){let m=g;return m=S(t,o,m),m=S(t,o,m),m=p(t,o,m),m}e.optimizeSequenceDiffs=D;function S(t,o,g){if(g.length===0)return g;const m=[];m.push(g[0]);for(let d=1;d<g.length;d++){const s=m[m.length-1];let l=g[d];if(l.seq1Range.isEmpty||l.seq2Range.isEmpty){const r=l.seq1Range.start-s.seq1Range.endExclusive;let h;for(h=1;h<=r&&!(t.getElement(l.seq1Range.start-h)!==t.getElement(l.seq1Range.endExclusive-h)||o.getElement(l.seq2Range.start-h)!==o.getElement(l.seq2Range.endExclusive-h));h++);if(h--,h===r){m[m.length-1]=new y.SequenceDiff(new k.OffsetRange(s.seq1Range.start,l.seq1Range.endExclusive-r),new k.OffsetRange(s.seq2Range.start,l.seq2Range.endExclusive-r));continue}l=l.delta(-h)}m.push(l)}const c=[];for(let d=0;d<m.length-1;d++){const s=m[d+1];let l=m[d];if(l.seq1Range.isEmpty||l.seq2Range.isEmpty){const r=s.seq1Range.start-l.seq1Range.endExclusive;let h;for(h=0;h<r&&!(!t.isStronglyEqual(l.seq1Range.start+h,l.seq1Range.endExclusive+h)||!o.isStronglyEqual(l.seq2Range.start+h,l.seq2Range.endExclusive+h));h++);if(h===r){m[d+1]=new y.SequenceDiff(new k.OffsetRange(l.seq1Range.start+r,s.seq1Range.endExclusive),new k.OffsetRange(l.seq2Range.start+r,s.seq2Range.endExclusive));continue}h>0&&(l=l.delta(h))}c.push(l)}return m.length>0&&c.push(m[m.length-1]),c}function p(t,o,g){if(!t.getBoundaryScore||!o.getBoundaryScore)return g;for(let m=0;m<g.length;m++){const c=m>0?g[m-1]:void 0,d=g[m],s=m+1<g.length?g[m+1]:void 0,l=new k.OffsetRange(c?c.seq1Range.endExclusive+1:0,s?s.seq1Range.start-1:t.length),r=new k.OffsetRange(c?c.seq2Range.endExclusive+1:0,s?s.seq2Range.start-1:o.length);d.seq1Range.isEmpty?g[m]=w(d,t,o,l,r):d.seq2Range.isEmpty&&(g[m]=w(d.swap(),o,t,r,l).swap())}return g}function w(t,o,g,m,c){let s=1;for(;t.seq1Range.start-s>=m.start&&t.seq2Range.start-s>=c.start&&g.isStronglyEqual(t.seq2Range.start-s,t.seq2Range.endExclusive-s)&&s<100;)s++;s--;let l=0;for(;t.seq1Range.start+l<m.endExclusive&&t.seq2Range.endExclusive+l<c.endExclusive&&g.isStronglyEqual(t.seq2Range.start+l,t.seq2Range.endExclusive+l)&&l<100;)l++;if(s===0&&l===0)return t;let r=0,h=-1;for(let u=-s;u<=l;u++){const f=t.seq2Range.start+u,C=t.seq2Range.endExclusive+u,_=t.seq1Range.start+u,E=o.getBoundaryScore(_)+g.getBoundaryScore(f)+g.getBoundaryScore(C);E>h&&(h=E,r=u)}return t.delta(r)}function v(t,o,g){const m=[];for(const c of g){const d=m[m.length-1];if(!d){m.push(c);continue}c.seq1Range.start-d.seq1Range.endExclusive<=2||c.seq2Range.start-d.seq2Range.endExclusive<=2?m[m.length-1]=new y.SequenceDiff(d.seq1Range.join(c.seq1Range),d.seq2Range.join(c.seq2Range)):m.push(c)}return m}e.removeShortMatches=v;function b(t,o,g){const m=y.SequenceDiff.invert(g,t.length),c=[];let d=new y.OffsetPair(0,0);function s(r,h){if(r.offset1<d.offset1||r.offset2<d.offset2)return;const u=t.findWordContaining(r.offset1),f=o.findWordContaining(r.offset2);if(!u||!f)return;let C=new y.SequenceDiff(u,f);const _=C.intersect(h);let E=_.seq1Range.length,I=_.seq2Range.length;for(;m.length>0;){const T=m[0];if(!(T.seq1Range.intersects(u)||T.seq2Range.intersects(f)))break;const R=t.findWordContaining(T.seq1Range.start),M=o.findWordContaining(T.seq2Range.start),N=new y.SequenceDiff(R,M),P=N.intersect(T);if(E+=P.seq1Range.length,I+=P.seq2Range.length,C=C.join(N),C.seq1Range.endExclusive>=T.seq1Range.endExclusive)m.shift();else break}E+I<(C.seq1Range.length+C.seq2Range.length)*2/3&&c.push(C),d=C.getEndExclusives()}for(;m.length>0;){const r=m.shift();r.seq1Range.isEmpty||(s(r.getStarts(),r),s(r.getEndExclusives().delta(-1),r))}return a(g,c)}e.extendDiffsToEntireWordIfAppropriate=b;function a(t,o){const g=[];for(;t.length>0||o.length>0;){const m=t[0],c=o[0];let d;m&&(!c||m.seq1Range.start<c.seq1Range.start)?d=t.shift():d=o.shift(),g.length>0&&g[g.length-1].seq1Range.endExclusive>=d.seq1Range.start?g[g.length-1]=g[g.length-1].join(d):g.push(d)}return g}function n(t,o,g){let m=g;if(m.length===0)return m;let c=0,d;do{d=!1;const s=[m[0]];for(let l=1;l<m.length;l++){let u=function(C,_){const E=new k.OffsetRange(h.seq1Range.endExclusive,r.seq1Range.start);return t.getText(E).replace(/\s/g,"").length<=4&&(C.seq1Range.length+C.seq2Range.length>5||_.seq1Range.length+_.seq2Range.length>5)};const r=m[l],h=s[s.length-1];u(h,r)?(d=!0,s[s.length-1]=s[s.length-1].join(r)):s.push(r)}m=s}while(c++<10&&d);return m}e.removeVeryShortMatchingLinesBetweenDiffs=n;function i(t,o,g){let m=g;if(m.length===0)return m;let c=0,d;do{d=!1;const l=[m[0]];for(let r=1;r<m.length;r++){let f=function(_,E){const I=new k.OffsetRange(u.seq1Range.endExclusive,h.seq1Range.start);if(t.countLinesIn(I)>5||I.length>500)return!1;const A=t.getText(I).trim();if(A.length>20||A.split(/\r\n|\r|\n/).length>1)return!1;const R=t.countLinesIn(_.seq1Range),M=_.seq1Range.length,N=o.countLinesIn(_.seq2Range),P=_.seq2Range.length,F=t.countLinesIn(E.seq1Range),O=E.seq1Range.length,B=o.countLinesIn(E.seq2Range),W=E.seq2Range.length,V=2*40+50;function z(K){return Math.min(K,V)}return Math.pow(Math.pow(z(R*40+M),1.5)+Math.pow(z(N*40+P),1.5),1.5)+Math.pow(Math.pow(z(F*40+O),1.5)+Math.pow(z(B*40+W),1.5),1.5)>(V**1.5)**1.5*1.3};const h=m[r],u=l[l.length-1];f(u,h)?(d=!0,l[l.length-1]=l[l.length-1].join(h)):l.push(h)}m=l}while(c++<10&&d);const s=[];return(0,L.forEachWithNeighbors)(m,(l,r,h)=>{let u=r;function f(A){return A.length>0&&A.trim().length<=3&&r.seq1Range.length+r.seq2Range.length>100}const C=t.extendToFullLines(r.seq1Range),_=t.getText(new k.OffsetRange(C.start,r.seq1Range.start));f(_)&&(u=u.deltaStart(-_.length));const E=t.getText(new k.OffsetRange(r.seq1Range.endExclusive,C.endExclusive));f(E)&&(u=u.deltaEnd(E.length));const I=y.SequenceDiff.fromOffsetPairs(l?l.getEndExclusives():y.OffsetPair.zero,h?h.getStarts():y.OffsetPair.max),T=u.intersect(I);s.length>0&&T.getStarts().equals(s[s.length-1].getEndExclusives())?s[s.length-1]=s[s.length-1].join(T):s.push(T)}),s}e.removeVeryShortMatchingTextBetweenLongDiffs=i}),define(ne[512],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineSequence=void 0;class L{constructor(D,S){this.trimmedHash=D,this.lines=S}getElement(D){return this.trimmedHash[D]}get length(){return this.trimmedHash.length}getBoundaryScore(D){const S=D===0?0:k(this.lines[D-1]),p=D===this.lines.length?0:k(this.lines[D]);return 1e3-(S+p)}getText(D){return this.lines.slice(D.start,D.endExclusive).join(`
`)}isStronglyEqual(D,S){return this.lines[D]===this.lines[S]}}e.LineSequence=L;function k(y){let D=0;for(;D<y.length&&(y.charCodeAt(D)===32||y.charCodeAt(D)===9);)D++;return D}}),define(ne[210],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeFragment=e.isSpace=e.Array2D=void 0;class L{constructor(S,p){this.width=S,this.height=p,this.array=[],this.array=new Array(S*p)}get(S,p){return this.array[S+p*this.width]}set(S,p,w){this.array[S+p*this.width]=w}}e.Array2D=L;function k(D){return D===32||D===9}e.isSpace=k;class y{static getKey(S){let p=this.chrKeys.get(S);return p===void 0&&(p=this.chrKeys.size,this.chrKeys.set(S,p)),p}constructor(S,p,w){this.range=S,this.lines=p,this.source=w,this.histogram=[];let v=0;for(let b=S.startLineNumber-1;b<S.endLineNumberExclusive-1;b++){const a=p[b];for(let i=0;i<a.length;i++){v++;const t=a[i],o=y.getKey(t);this.histogram[o]=(this.histogram[o]||0)+1}v++;const n=y.getKey(`
`);this.histogram[n]=(this.histogram[n]||0)+1}this.totalCount=v}computeSimilarity(S){var p,w;let v=0;const b=Math.max(this.histogram.length,S.histogram.length);for(let a=0;a<b;a++)v+=Math.abs(((p=this.histogram[a])!==null&&p!==void 0?p:0)-((w=S.histogram[a])!==null&&w!==void 0?w:0));return 1-v/(this.totalCount+S.totalCount)}}e.LineRangeFragment=y,y.chrKeys=new Map}),define(ne[513],se([1,0,75,156,210]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class D{compute(p,w,v=k.InfiniteTimeout.instance,b){if(p.length===0||w.length===0)return k.DiffAlgorithmResult.trivial(p,w);const a=new y.Array2D(p.length,w.length),n=new y.Array2D(p.length,w.length),i=new y.Array2D(p.length,w.length);for(let s=0;s<p.length;s++)for(let l=0;l<w.length;l++){if(!v.isValid())return k.DiffAlgorithmResult.trivialTimedOut(p,w);const r=s===0?0:a.get(s-1,l),h=l===0?0:a.get(s,l-1);let u;p.getElement(s)===w.getElement(l)?(s===0||l===0?u=0:u=a.get(s-1,l-1),s>0&&l>0&&n.get(s-1,l-1)===3&&(u+=i.get(s-1,l-1)),u+=b?b(s,l):1):u=-1;const f=Math.max(r,h,u);if(f===u){const C=s>0&&l>0?i.get(s-1,l-1):0;i.set(s,l,C+1),n.set(s,l,3)}else f===r?(i.set(s,l,0),n.set(s,l,1)):f===h&&(i.set(s,l,0),n.set(s,l,2));a.set(s,l,f)}const t=[];let o=p.length,g=w.length;function m(s,l){(s+1!==o||l+1!==g)&&t.push(new k.SequenceDiff(new L.OffsetRange(s+1,o),new L.OffsetRange(l+1,g))),o=s,g=l}let c=p.length-1,d=w.length-1;for(;c>=0&&d>=0;)n.get(c,d)===3?(m(c,d),c--,d--):n.get(c,d)===1?c--:d--;return m(-1,-1),t.reverse(),new k.DiffAlgorithmResult(t,!1)}}e.DynamicProgrammingDiffing=D}),define(ne[293],se([1,0,62,75,9,5,210]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesSliceCharSequence=void 0;class p{constructor(i,t,o){this.lines=i,this.considerWhitespaceChanges=o,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let g=!1;t.start>0&&t.endExclusive>=i.length&&(t=new k.OffsetRange(t.start-1,t.endExclusive),g=!0),this.lineRange=t,this.firstCharOffsetByLine[0]=0;for(let m=this.lineRange.start;m<this.lineRange.endExclusive;m++){let c=i[m],d=0;if(g)d=c.length,c="",g=!1;else if(!o){const s=c.trimStart();d=c.length-s.length,c=s.trimEnd()}this.additionalOffsetByLine.push(d);for(let s=0;s<c.length;s++)this.elements.push(c.charCodeAt(s));m<i.length-1&&(this.elements.push(10),this.firstCharOffsetByLine[m-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new k.OffsetRange(0,this.length))}getText(i){return this.elements.slice(i.start,i.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(i){return this.elements[i]}get length(){return this.elements.length}getBoundaryScore(i){const t=a(i>0?this.elements[i-1]:-1),o=a(i<this.elements.length?this.elements[i]:-1);if(t===7&&o===8)return 0;if(t===8)return 150;let g=0;return t!==o&&(g+=10,t===0&&o===1&&(g+=1)),g+=b(t),g+=b(o),g}translateOffset(i){if(this.lineRange.isEmpty)return new y.Position(this.lineRange.start+1,1);const t=(0,L.findLastIdxMonotonous)(this.firstCharOffsetByLine,o=>o<=i);return new y.Position(this.lineRange.start+t+1,i-this.firstCharOffsetByLine[t]+this.additionalOffsetByLine[t]+1)}translateRange(i){return D.Range.fromPositions(this.translateOffset(i.start),this.translateOffset(i.endExclusive))}findWordContaining(i){if(i<0||i>=this.elements.length||!w(this.elements[i]))return;let t=i;for(;t>0&&w(this.elements[t-1]);)t--;let o=i;for(;o<this.elements.length&&w(this.elements[o]);)o++;return new k.OffsetRange(t,o)}countLinesIn(i){return this.translateOffset(i.endExclusive).lineNumber-this.translateOffset(i.start).lineNumber}isStronglyEqual(i,t){return this.elements[i]===this.elements[t]}extendToFullLines(i){var t,o;const g=(t=(0,L.findLastMonotonous)(this.firstCharOffsetByLine,c=>c<=i.start))!==null&&t!==void 0?t:0,m=(o=(0,L.findFirstMonotonous)(this.firstCharOffsetByLine,c=>i.endExclusive<=c))!==null&&o!==void 0?o:this.elements.length;return new k.OffsetRange(g,m)}}e.LinesSliceCharSequence=p;function w(n){return n>=97&&n<=122||n>=65&&n<=90||n>=48&&n<=57}const v={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function b(n){return v[n]}function a(n){return n===10?8:n===13?7:(0,S.isSpace)(n)?6:n>=97&&n<=122?0:n>=65&&n<=90?1:n>=48&&n<=57?2:n===-1?3:n===44||n===59?5:4}}),define(ne[211],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedText=e.LinesDiff=void 0;class L{constructor(D,S,p){this.changes=D,this.moves=S,this.hitTimeout=p}}e.LinesDiff=L;class k{constructor(D,S){this.lineRangeMapping=D,this.changes=S}}e.MovedText=k}),define(ne[115],se([1,0,64]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMapping=e.DetailedLineRangeMapping=e.LineRangeMapping=void 0;class k{static inverse(p,w,v){const b=[];let a=1,n=1;for(const t of p){const o=new k(new L.LineRange(a,t.original.startLineNumber),new L.LineRange(n,t.modified.startLineNumber));o.modified.isEmpty||b.push(o),a=t.original.endLineNumberExclusive,n=t.modified.endLineNumberExclusive}const i=new k(new L.LineRange(a,w+1),new L.LineRange(n,v+1));return i.modified.isEmpty||b.push(i),b}static clip(p,w,v){const b=[];for(const a of p){const n=a.original.intersect(w),i=a.modified.intersect(v);n&&!n.isEmpty&&i&&!i.isEmpty&&b.push(new k(n,i))}return b}constructor(p,w){this.original=p,this.modified=w}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new k(this.modified,this.original)}join(p){return new k(this.original.join(p.original),this.modified.join(p.modified))}}e.LineRangeMapping=k;class y extends k{constructor(p,w,v){super(p,w),this.innerChanges=v}flip(){var p;return new y(this.modified,this.original,(p=this.innerChanges)===null||p===void 0?void 0:p.map(w=>w.flip()))}}e.DetailedLineRangeMapping=y;class D{constructor(p,w){this.originalRange=p,this.modifiedRange=w}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new D(this.modifiedRange,this.originalRange)}}e.RangeMapping=D}),define(ne[514],se([1,0,156,115,13,62,53,64,75,293,210,291]),function(ee,e,L,k,y,D,S,p,w,v,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeMovedLines=void 0;function n(d,s,l,r,h,u){let{moves:f,excludedChanges:C}=t(d,s,l,u);if(!u.isValid())return[];const _=d.filter(I=>!C.has(I)),E=o(_,r,h,s,l,u);return(0,y.pushMany)(f,E),f=m(f),f=f.filter(I=>{const T=I.original.toOffsetRange().slice(s).map(R=>R.trim());return T.join(`
`).length>=15&&i(T,R=>R.length>=2)>=2}),f=c(d,f),f}e.computeMovedLines=n;function i(d,s){let l=0;for(const r of d)s(r)&&l++;return l}function t(d,s,l,r){const h=[],u=d.filter(_=>_.modified.isEmpty&&_.original.length>=3).map(_=>new b.LineRangeFragment(_.original,s,_)),f=new Set(d.filter(_=>_.original.isEmpty&&_.modified.length>=3).map(_=>new b.LineRangeFragment(_.modified,l,_))),C=new Set;for(const _ of u){let E=-1,I;for(const T of f){const A=_.computeSimilarity(T);A>E&&(E=A,I=T)}if(E>.9&&I&&(f.delete(I),h.push(new k.LineRangeMapping(_.range,I.range)),C.add(_.source),C.add(I.source)),!r.isValid())return{moves:h,excludedChanges:C}}return{moves:h,excludedChanges:C}}function o(d,s,l,r,h,u){const f=[],C=new S.SetMap;for(const A of d)for(let R=A.original.startLineNumber;R<A.original.endLineNumberExclusive-2;R++){const M=`${s[R-1]}:${s[R+1-1]}:${s[R+2-1]}`;C.add(M,{range:new p.LineRange(R,R+3)})}const _=[];d.sort((0,y.compareBy)(A=>A.modified.startLineNumber,y.numberComparator));for(const A of d){let R=[];for(let M=A.modified.startLineNumber;M<A.modified.endLineNumberExclusive-2;M++){const N=`${l[M-1]}:${l[M+1-1]}:${l[M+2-1]}`,P=new p.LineRange(M,M+3),F=[];C.forEach(N,({range:O})=>{for(const W of R)if(W.originalLineRange.endLineNumberExclusive+1===O.endLineNumberExclusive&&W.modifiedLineRange.endLineNumberExclusive+1===P.endLineNumberExclusive){W.originalLineRange=new p.LineRange(W.originalLineRange.startLineNumber,O.endLineNumberExclusive),W.modifiedLineRange=new p.LineRange(W.modifiedLineRange.startLineNumber,P.endLineNumberExclusive),F.push(W);return}const B={modifiedLineRange:P,originalLineRange:O};_.push(B),F.push(B)}),R=F}if(!u.isValid())return[]}_.sort((0,y.reverseOrder)((0,y.compareBy)(A=>A.modifiedLineRange.length,y.numberComparator)));const E=new p.LineRangeSet,I=new p.LineRangeSet;for(const A of _){const R=A.modifiedLineRange.startLineNumber-A.originalLineRange.startLineNumber,M=E.subtractFrom(A.modifiedLineRange),N=I.subtractFrom(A.originalLineRange).getWithDelta(R),P=M.getIntersection(N);for(const F of P.ranges){if(F.length<3)continue;const O=F,B=F.delta(-R);f.push(new k.LineRangeMapping(B,O)),E.addRange(O),I.addRange(B)}}f.sort((0,y.compareBy)(A=>A.original.startLineNumber,y.numberComparator));const T=new D.MonotonousArray(d);for(let A=0;A<f.length;A++){const R=f[A],M=T.findLastMonotonous(z=>z.original.startLineNumber<=R.original.startLineNumber),N=(0,D.findLastMonotonous)(d,z=>z.modified.startLineNumber<=R.modified.startLineNumber),P=Math.max(R.original.startLineNumber-M.original.startLineNumber,R.modified.startLineNumber-N.modified.startLineNumber),F=T.findLastMonotonous(z=>z.original.startLineNumber<R.original.endLineNumberExclusive),O=(0,D.findLastMonotonous)(d,z=>z.modified.startLineNumber<R.modified.endLineNumberExclusive),B=Math.max(F.original.endLineNumberExclusive-R.original.endLineNumberExclusive,O.modified.endLineNumberExclusive-R.modified.endLineNumberExclusive);let W;for(W=0;W<P;W++){const z=R.original.startLineNumber-W-1,K=R.modified.startLineNumber-W-1;if(z>r.length||K>h.length||E.contains(K)||I.contains(z)||!g(r[z-1],h[K-1],u))break}W>0&&(I.addRange(new p.LineRange(R.original.startLineNumber-W,R.original.startLineNumber)),E.addRange(new p.LineRange(R.modified.startLineNumber-W,R.modified.startLineNumber)));let V;for(V=0;V<B;V++){const z=R.original.endLineNumberExclusive+V,K=R.modified.endLineNumberExclusive+V;if(z>r.length||K>h.length||E.contains(K)||I.contains(z)||!g(r[z-1],h[K-1],u))break}V>0&&(I.addRange(new p.LineRange(R.original.endLineNumberExclusive,R.original.endLineNumberExclusive+V)),E.addRange(new p.LineRange(R.modified.endLineNumberExclusive,R.modified.endLineNumberExclusive+V))),(W>0||V>0)&&(f[A]=new k.LineRangeMapping(new p.LineRange(R.original.startLineNumber-W,R.original.endLineNumberExclusive+V),new p.LineRange(R.modified.startLineNumber-W,R.modified.endLineNumberExclusive+V)))}return f}function g(d,s,l){if(d.trim()===s.trim())return!0;if(d.length>300&&s.length>300)return!1;const h=new a.MyersDiffAlgorithm().compute(new v.LinesSliceCharSequence([d],new w.OffsetRange(0,1),!1),new v.LinesSliceCharSequence([s],new w.OffsetRange(0,1),!1),l);let u=0;const f=L.SequenceDiff.invert(h.diffs,d.length);for(const I of f)I.seq1Range.forEach(T=>{(0,b.isSpace)(d.charCodeAt(T))||u++});function C(I){let T=0;for(let A=0;A<d.length;A++)(0,b.isSpace)(I.charCodeAt(A))||T++;return T}const _=C(d.length>s.length?d:s);return u/_>.6&&_>10}function m(d){if(d.length===0)return d;d.sort((0,y.compareBy)(l=>l.original.startLineNumber,y.numberComparator));const s=[d[0]];for(let l=1;l<d.length;l++){const r=s[s.length-1],h=d[l],u=h.original.startLineNumber-r.original.endLineNumberExclusive,f=h.modified.startLineNumber-r.modified.endLineNumberExclusive;if(u>=0&&f>=0&&u+f<=2){s[s.length-1]=r.join(h);continue}s.push(h)}return s}function c(d,s){const l=new D.MonotonousArray(d);return s=s.filter(r=>{const h=l.findLastMonotonous(C=>C.original.startLineNumber<r.original.endLineNumberExclusive)||new k.LineRangeMapping(new p.LineRange(1,1),new p.LineRange(1,1)),u=(0,D.findLastMonotonous)(d,C=>C.modified.startLineNumber<r.modified.endLineNumberExclusive);return h!==u}),s}}),define(ne[294],se([1,0,13,90,64,75,5,156,513,291,514,292,211,115,293,512]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLineRangeMapping=e.lineRangeMappingFromRangeMappings=e.DefaultLinesDiffComputer=void 0;class g{constructor(){this.dynamicProgrammingDiffing=new w.DynamicProgrammingDiffing,this.myersDiffingAlgorithm=new v.MyersDiffAlgorithm}computeDiff(s,l,r){if(s.length<=1&&(0,L.equals)(s,l,(V,z)=>V===z))return new n.LinesDiff([],[],!1);if(s.length===1&&s[0].length===0||l.length===1&&l[0].length===0)return new n.LinesDiff([new i.DetailedLineRangeMapping(new y.LineRange(1,s.length+1),new y.LineRange(1,l.length+1),[new i.RangeMapping(new S.Range(1,1,s.length,s[0].length+1),new S.Range(1,1,l.length,l[0].length+1))])],[],!1);const h=r.maxComputationTimeMs===0?p.InfiniteTimeout.instance:new p.DateTimeout(r.maxComputationTimeMs),u=!r.ignoreTrimWhitespace,f=new Map;function C(V){let z=f.get(V);return z===void 0&&(z=f.size,f.set(V,z)),z}const _=s.map(V=>C(V.trim())),E=l.map(V=>C(V.trim())),I=new o.LineSequence(_,s),T=new o.LineSequence(E,l),A=I.length+T.length<1700?this.dynamicProgrammingDiffing.compute(I,T,h,(V,z)=>s[V]===l[z]?l[z].length===0?.1:1+Math.log(1+l[z].length):.99):this.myersDiffingAlgorithm.compute(I,T);let R=A.diffs,M=A.hitTimeout;R=(0,a.optimizeSequenceDiffs)(I,T,R),R=(0,a.removeVeryShortMatchingLinesBetweenDiffs)(I,T,R);const N=[],P=V=>{if(u)for(let z=0;z<V;z++){const K=F+z,j=O+z;if(s[K]!==l[j]){const x=this.refineDiff(s,l,new p.SequenceDiff(new D.OffsetRange(K,K+1),new D.OffsetRange(j,j+1)),h,u);for(const re of x.mappings)N.push(re);x.hitTimeout&&(M=!0)}}};let F=0,O=0;for(const V of R){(0,k.assertFn)(()=>V.seq1Range.start-F===V.seq2Range.start-O);const z=V.seq1Range.start-F;P(z),F=V.seq1Range.endExclusive,O=V.seq2Range.endExclusive;const K=this.refineDiff(s,l,V,h,u);K.hitTimeout&&(M=!0);for(const j of K.mappings)N.push(j)}P(s.length-F);const B=m(N,s,l);let W=[];return r.computeMoves&&(W=this.computeMoves(B,s,l,_,E,h,u)),(0,k.assertFn)(()=>{function V(K,j){if(K.lineNumber<1||K.lineNumber>j.length)return!1;const x=j[K.lineNumber-1];return!(K.column<1||K.column>x.length+1)}function z(K,j){return!(K.startLineNumber<1||K.startLineNumber>j.length+1||K.endLineNumberExclusive<1||K.endLineNumberExclusive>j.length+1)}for(const K of B){if(!K.innerChanges)return!1;for(const j of K.innerChanges)if(!(V(j.modifiedRange.getStartPosition(),l)&&V(j.modifiedRange.getEndPosition(),l)&&V(j.originalRange.getStartPosition(),s)&&V(j.originalRange.getEndPosition(),s)))return!1;if(!z(K.modified,l)||!z(K.original,s))return!1}return!0}),new n.LinesDiff(B,W,M)}computeMoves(s,l,r,h,u,f,C){return(0,b.computeMovedLines)(s,l,r,h,u,f).map(I=>{const T=this.refineDiff(l,r,new p.SequenceDiff(I.original.toOffsetRange(),I.modified.toOffsetRange()),f,C),A=m(T.mappings,l,r,!0);return new n.MovedText(I,A)})}refineDiff(s,l,r,h,u){const f=new t.LinesSliceCharSequence(s,r.seq1Range,u),C=new t.LinesSliceCharSequence(l,r.seq2Range,u),_=f.length+C.length<500?this.dynamicProgrammingDiffing.compute(f,C,h):this.myersDiffingAlgorithm.compute(f,C,h);let E=_.diffs;return E=(0,a.optimizeSequenceDiffs)(f,C,E),E=(0,a.extendDiffsToEntireWordIfAppropriate)(f,C,E),E=(0,a.removeShortMatches)(f,C,E),E=(0,a.removeVeryShortMatchingTextBetweenLongDiffs)(f,C,E),{mappings:E.map(T=>new i.RangeMapping(f.translateRange(T.seq1Range),C.translateRange(T.seq2Range))),hitTimeout:_.hitTimeout}}}e.DefaultLinesDiffComputer=g;function m(d,s,l,r=!1){const h=[];for(const u of(0,L.groupAdjacentBy)(d.map(f=>c(f,s,l)),(f,C)=>f.original.overlapOrTouch(C.original)||f.modified.overlapOrTouch(C.modified))){const f=u[0],C=u[u.length-1];h.push(new i.DetailedLineRangeMapping(f.original.join(C.original),f.modified.join(C.modified),u.map(_=>_.innerChanges[0])))}return(0,k.assertFn)(()=>!r&&h.length>0&&h[0].original.startLineNumber!==h[0].modified.startLineNumber?!1:(0,k.checkAdjacentItems)(h,(u,f)=>f.original.startLineNumber-u.original.endLineNumberExclusive===f.modified.startLineNumber-u.modified.endLineNumberExclusive&&u.original.endLineNumberExclusive<f.original.startLineNumber&&u.modified.endLineNumberExclusive<f.modified.startLineNumber)),h}e.lineRangeMappingFromRangeMappings=m;function c(d,s,l){let r=0,h=0;d.modifiedRange.endColumn===1&&d.originalRange.endColumn===1&&d.originalRange.startLineNumber+r<=d.originalRange.endLineNumber&&d.modifiedRange.startLineNumber+r<=d.modifiedRange.endLineNumber&&(h=-1),d.modifiedRange.startColumn-1>=l[d.modifiedRange.startLineNumber-1].length&&d.originalRange.startColumn-1>=s[d.originalRange.startLineNumber-1].length&&d.originalRange.startLineNumber<=d.originalRange.endLineNumber+h&&d.modifiedRange.startLineNumber<=d.modifiedRange.endLineNumber+h&&(r=1);const u=new y.LineRange(d.originalRange.startLineNumber+r,d.originalRange.endLineNumber+1+h),f=new y.LineRange(d.modifiedRange.startLineNumber+r,d.modifiedRange.endLineNumber+1+h);return new i.DetailedLineRangeMapping(u,f,[d])}e.getLineRangeMapping=c}),define(ne[515],se([1,0,176,211,115,11,5,90,64]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.LegacyLinesDiffComputer=void 0;const v=3;class b{computeDiff(r,h,u){var f;const _=new m(r,h,{maxComputationTime:u.maxComputationTimeMs,shouldIgnoreTrimWhitespace:u.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),E=[];let I=null;for(const T of _.changes){let A;T.originalEndLineNumber===0?A=new w.LineRange(T.originalStartLineNumber+1,T.originalStartLineNumber+1):A=new w.LineRange(T.originalStartLineNumber,T.originalEndLineNumber+1);let R;T.modifiedEndLineNumber===0?R=new w.LineRange(T.modifiedStartLineNumber+1,T.modifiedStartLineNumber+1):R=new w.LineRange(T.modifiedStartLineNumber,T.modifiedEndLineNumber+1);let M=new y.DetailedLineRangeMapping(A,R,(f=T.charChanges)===null||f===void 0?void 0:f.map(N=>new y.RangeMapping(new S.Range(N.originalStartLineNumber,N.originalStartColumn,N.originalEndLineNumber,N.originalEndColumn),new S.Range(N.modifiedStartLineNumber,N.modifiedStartColumn,N.modifiedEndLineNumber,N.modifiedEndColumn))));I&&(I.modified.endLineNumberExclusive===M.modified.startLineNumber||I.original.endLineNumberExclusive===M.original.startLineNumber)&&(M=new y.DetailedLineRangeMapping(I.original.join(M.original),I.modified.join(M.modified),I.innerChanges&&M.innerChanges?I.innerChanges.concat(M.innerChanges):void 0),E.pop()),E.push(M),I=M}return(0,p.assertFn)(()=>(0,p.checkAdjacentItems)(E,(T,A)=>A.original.startLineNumber-T.original.endLineNumberExclusive===A.modified.startLineNumber-T.modified.endLineNumberExclusive&&T.original.endLineNumberExclusive<A.original.startLineNumber&&T.modified.endLineNumberExclusive<A.modified.startLineNumber)),new k.LinesDiff(E,[],_.quitEarly)}}e.LegacyLinesDiffComputer=b;function a(l,r,h,u){return new L.LcsDiff(l,r,h).ComputeDiff(u)}class n{constructor(r){const h=[],u=[];for(let f=0,C=r.length;f<C;f++)h[f]=c(r[f],1),u[f]=d(r[f],1);this.lines=r,this._startColumns=h,this._endColumns=u}getElements(){const r=[];for(let h=0,u=this.lines.length;h<u;h++)r[h]=this.lines[h].substring(this._startColumns[h]-1,this._endColumns[h]-1);return r}getStrictElement(r){return this.lines[r]}getStartLineNumber(r){return r+1}getEndLineNumber(r){return r+1}createCharSequence(r,h,u){const f=[],C=[],_=[];let E=0;for(let I=h;I<=u;I++){const T=this.lines[I],A=r?this._startColumns[I]:1,R=r?this._endColumns[I]:T.length+1;for(let M=A;M<R;M++)f[E]=T.charCodeAt(M-1),C[E]=I+1,_[E]=M,E++;!r&&I<u&&(f[E]=10,C[E]=I+1,_[E]=T.length+1,E++)}return new i(f,C,_)}}class i{constructor(r,h,u){this._charCodes=r,this._lineNumbers=h,this._columns=u}toString(){return"["+this._charCodes.map((r,h)=>(r===10?"\\n":String.fromCharCode(r))+`-(${this._lineNumbers[h]},${this._columns[h]})`).join(", ")+"]"}_assertIndex(r,h){if(r<0||r>=h.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(r){return r>0&&r===this._lineNumbers.length?this.getEndLineNumber(r-1):(this._assertIndex(r,this._lineNumbers),this._lineNumbers[r])}getEndLineNumber(r){return r===-1?this.getStartLineNumber(r+1):(this._assertIndex(r,this._lineNumbers),this._charCodes[r]===10?this._lineNumbers[r]+1:this._lineNumbers[r])}getStartColumn(r){return r>0&&r===this._columns.length?this.getEndColumn(r-1):(this._assertIndex(r,this._columns),this._columns[r])}getEndColumn(r){return r===-1?this.getStartColumn(r+1):(this._assertIndex(r,this._columns),this._charCodes[r]===10?1:this._columns[r]+1)}}class t{constructor(r,h,u,f,C,_,E,I){this.originalStartLineNumber=r,this.originalStartColumn=h,this.originalEndLineNumber=u,this.originalEndColumn=f,this.modifiedStartLineNumber=C,this.modifiedStartColumn=_,this.modifiedEndLineNumber=E,this.modifiedEndColumn=I}static createFromDiffChange(r,h,u){const f=h.getStartLineNumber(r.originalStart),C=h.getStartColumn(r.originalStart),_=h.getEndLineNumber(r.originalStart+r.originalLength-1),E=h.getEndColumn(r.originalStart+r.originalLength-1),I=u.getStartLineNumber(r.modifiedStart),T=u.getStartColumn(r.modifiedStart),A=u.getEndLineNumber(r.modifiedStart+r.modifiedLength-1),R=u.getEndColumn(r.modifiedStart+r.modifiedLength-1);return new t(f,C,_,E,I,T,A,R)}}function o(l){if(l.length<=1)return l;const r=[l[0]];let h=r[0];for(let u=1,f=l.length;u<f;u++){const C=l[u],_=C.originalStart-(h.originalStart+h.originalLength),E=C.modifiedStart-(h.modifiedStart+h.modifiedLength);Math.min(_,E)<v?(h.originalLength=C.originalStart+C.originalLength-h.originalStart,h.modifiedLength=C.modifiedStart+C.modifiedLength-h.modifiedStart):(r.push(C),h=C)}return r}class g{constructor(r,h,u,f,C){this.originalStartLineNumber=r,this.originalEndLineNumber=h,this.modifiedStartLineNumber=u,this.modifiedEndLineNumber=f,this.charChanges=C}static createFromDiffResult(r,h,u,f,C,_,E){let I,T,A,R,M;if(h.originalLength===0?(I=u.getStartLineNumber(h.originalStart)-1,T=0):(I=u.getStartLineNumber(h.originalStart),T=u.getEndLineNumber(h.originalStart+h.originalLength-1)),h.modifiedLength===0?(A=f.getStartLineNumber(h.modifiedStart)-1,R=0):(A=f.getStartLineNumber(h.modifiedStart),R=f.getEndLineNumber(h.modifiedStart+h.modifiedLength-1)),_&&h.originalLength>0&&h.originalLength<20&&h.modifiedLength>0&&h.modifiedLength<20&&C()){const N=u.createCharSequence(r,h.originalStart,h.originalStart+h.originalLength-1),P=f.createCharSequence(r,h.modifiedStart,h.modifiedStart+h.modifiedLength-1);if(N.getElements().length>0&&P.getElements().length>0){let F=a(N,P,C,!0).changes;E&&(F=o(F)),M=[];for(let O=0,B=F.length;O<B;O++)M.push(t.createFromDiffChange(F[O],N,P))}}return new g(I,T,A,R,M)}}class m{constructor(r,h,u){this.shouldComputeCharChanges=u.shouldComputeCharChanges,this.shouldPostProcessCharChanges=u.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=u.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=u.shouldMakePrettyDiff,this.originalLines=r,this.modifiedLines=h,this.original=new n(r),this.modified=new n(h),this.continueLineDiff=s(u.maxComputationTime),this.continueCharDiff=s(u.maxComputationTime===0?0:Math.min(u.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const r=a(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),h=r.changes,u=r.quitEarly;if(this.shouldIgnoreTrimWhitespace){const E=[];for(let I=0,T=h.length;I<T;I++)E.push(g.createFromDiffResult(this.shouldIgnoreTrimWhitespace,h[I],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:u,changes:E}}const f=[];let C=0,_=0;for(let E=-1,I=h.length;E<I;E++){const T=E+1<I?h[E+1]:null,A=T?T.originalStart:this.originalLines.length,R=T?T.modifiedStart:this.modifiedLines.length;for(;C<A&&_<R;){const M=this.originalLines[C],N=this.modifiedLines[_];if(M!==N){{let P=c(M,1),F=c(N,1);for(;P>1&&F>1;){const O=M.charCodeAt(P-2),B=N.charCodeAt(F-2);if(O!==B)break;P--,F--}(P>1||F>1)&&this._pushTrimWhitespaceCharChange(f,C+1,1,P,_+1,1,F)}{let P=d(M,1),F=d(N,1);const O=M.length+1,B=N.length+1;for(;P<O&&F<B;){const W=M.charCodeAt(P-1),V=M.charCodeAt(F-1);if(W!==V)break;P++,F++}(P<O||F<B)&&this._pushTrimWhitespaceCharChange(f,C+1,P,O,_+1,F,B)}}C++,_++}T&&(f.push(g.createFromDiffResult(this.shouldIgnoreTrimWhitespace,T,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),C+=T.originalLength,_+=T.modifiedLength)}return{quitEarly:u,changes:f}}_pushTrimWhitespaceCharChange(r,h,u,f,C,_,E){if(this._mergeTrimWhitespaceCharChange(r,h,u,f,C,_,E))return;let I;this.shouldComputeCharChanges&&(I=[new t(h,u,h,f,C,_,C,E)]),r.push(new g(h,h,C,C,I))}_mergeTrimWhitespaceCharChange(r,h,u,f,C,_,E){const I=r.length;if(I===0)return!1;const T=r[I-1];return T.originalEndLineNumber===0||T.modifiedEndLineNumber===0?!1:T.originalEndLineNumber===h&&T.modifiedEndLineNumber===C?(this.shouldComputeCharChanges&&T.charChanges&&T.charChanges.push(new t(h,u,h,f,C,_,C,E)),!0):T.originalEndLineNumber+1===h&&T.modifiedEndLineNumber+1===C?(T.originalEndLineNumber=h,T.modifiedEndLineNumber=C,this.shouldComputeCharChanges&&T.charChanges&&T.charChanges.push(new t(h,u,h,f,C,_,C,E)),!0):!1}}e.DiffComputer=m;function c(l,r){const h=D.firstNonWhitespaceIndex(l);return h===-1?r:h+1}function d(l,r){const h=D.lastNonWhitespaceIndex(l);return h===-1?r:h+2}function s(l){if(l===0)return()=>!0;const r=Date.now();return()=>Date.now()-r<l}}),define(ne[516],se([1,0,515,294]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={getLegacy:()=>new L.LegacyLinesDiffComputer,getDefault:()=>new k.DefaultLinesDiffComputer}}),define(ne[295],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class L{constructor(y,D,S,p,w,v,b){this.id=y,this.label=D,this.alias=S,this.metadata=p,this._precondition=w,this._run=v,this._contextKeyService=b}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(y){return this.isSupported()?this._run(y):Promise.resolve(void 0)}}e.InternalEditorAction=L}),define(ne[183],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ne[157],se([1,0,183]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isCompositeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function k(p){return p&&typeof p.getEditorType=="function"?p.getEditorType()===L.EditorType.ICodeEditor:!1}e.isCodeEditor=k;function y(p){return p&&typeof p.getEditorType=="function"?p.getEditorType()===L.EditorType.IDiffEditor:!1}e.isDiffEditor=y;function D(p){return!!p&&typeof p=="object"&&typeof p.onDidChangeActiveEditor=="function"}e.isCompositeEditor=D;function S(p){return k(p)?p:y(p)?p.getModifiedEditor():D(p)&&k(p.activeCodeEditor)?p.activeCodeEditor:null}e.getCodeEditor=S}),define(ne[135],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEditorFeatures=e.registerEditorFeature=void 0;const L=[];function k(D){L.push(D)}e.registerEditorFeature=k;function y(){return L.slice(0)}e.getEditorFeatures=y}),define(ne[517],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class L{get type(){return this._theme.type}get value(){return this._theme}constructor(y){this._theme=y}update(y){this._theme=y}getColor(y){return this._theme.getColor(y)}}e.EditorTheme=L}),define(ne[136],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class L{static getLanguageId(y){return(y&255)>>>0}static getTokenType(y){return(y&768)>>>8}static containsBalancedBrackets(y){return(y&1024)!==0}static getFontStyle(y){return(y&30720)>>>11}static getForeground(y){return(y&16744448)>>>15}static getBackground(y){return(y&4278190080)>>>24}static getClassNameFromMetadata(y){let S="mtk"+this.getForeground(y);const p=this.getFontStyle(y);return p&1&&(S+=" mtki"),p&2&&(S+=" mtkb"),p&4&&(S+=" mtku"),p&8&&(S+=" mtks"),S}static getInlineStyleFromMetadata(y,D){const S=this.getForeground(y),p=this.getFontStyle(y);let w=`color: ${D[S]};`;p&1&&(w+="font-style: italic;"),p&2&&(w+="font-weight: bold;");let v="";return p&4&&(v+=" underline"),p&8&&(v+=" line-through"),v&&(w+=`text-decoration:${v};`),w}static getPresentationFromMetadata(y){const D=this.getForeground(y),S=this.getFontStyle(y);return{foreground:D,italic:!!(S&1),bold:!!(S&2),underline:!!(S&4),strikethrough:!!(S&8)}}}e.TokenMetadata=L}),define(ne[518],se([1,0,39]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeDefaultDocumentColors=void 0;function k(n){const i=[];for(const t of n){const o=Number(t);(o||o===0&&t.replace(/\s/g,"")!=="")&&i.push(o)}return i}function y(n,i,t,o){return{red:n/255,blue:t/255,green:i/255,alpha:o}}function D(n,i){const t=i.index,o=i[0].length;if(!t)return;const g=n.positionAt(t);return{startLineNumber:g.lineNumber,startColumn:g.column,endLineNumber:g.lineNumber,endColumn:g.column+o}}function S(n,i){if(!n)return;const t=L.Color.Format.CSS.parseHex(i);if(t)return{range:n,color:y(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function p(n,i,t){if(!n||i.length!==1)return;const g=i[0].values(),m=k(g);return{range:n,color:y(m[0],m[1],m[2],t?m[3]:1)}}function w(n,i,t){if(!n||i.length!==1)return;const g=i[0].values(),m=k(g),c=new L.Color(new L.HSLA(m[0],m[1]/100,m[2]/100,t?m[3]:1));return{range:n,color:y(c.rgba.r,c.rgba.g,c.rgba.b,c.rgba.a)}}function v(n,i){return typeof n=="string"?[...n.matchAll(i)]:n.findMatches(i)}function b(n){const i=[],o=v(n,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(o.length>0)for(const g of o){const m=g.filter(l=>l!==void 0),c=m[1],d=m[2];if(!d)continue;let s;if(c==="rgb"){const l=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;s=p(D(n,g),v(d,l),!1)}else if(c==="rgba"){const l=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;s=p(D(n,g),v(d,l),!0)}else if(c==="hsl"){const l=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;s=w(D(n,g),v(d,l),!1)}else if(c==="hsla"){const l=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;s=w(D(n,g),v(d,l),!0)}else c==="#"&&(s=S(D(n,g),c+d));s&&i.push(s)}return i}function a(n){return!n||typeof n.getValue!="function"||typeof n.positionAt!="function"?[]:b(n)}e.computeDefaultDocumentColors=a}),define(ne[116],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var L;(function(S){S[S.None=0]="None",S[S.Indent=1]="Indent",S[S.IndentOutdent=2]="IndentOutdent",S[S.Outdent=3]="Outdent"})(L||(e.IndentAction=L={}));class k{constructor(p){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=p.open,this.close=p.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(p.notIn))for(let w=0,v=p.notIn.length;w<v;w++)switch(p.notIn[w]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(p){switch(p){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(p,w){if(p.getTokenCount()===0)return!0;const v=p.findTokenIndexAtOffset(w-2),b=p.getStandardTokenType(v);return this.isOK(b)}_findNeutralCharacterInRange(p,w){for(let v=p;v<=w;v++){const b=String.fromCharCode(v);if(!this.open.includes(b)&&!this.close.includes(b))return b}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=k;class y{constructor(p){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const w of p)D(this.autoClosingPairsOpenByStart,w.open.charAt(0),w),D(this.autoClosingPairsOpenByEnd,w.open.charAt(w.open.length-1),w),D(this.autoClosingPairsCloseByStart,w.close.charAt(0),w),D(this.autoClosingPairsCloseByEnd,w.close.charAt(w.close.length-1),w),w.close.length===1&&w.open.length===1&&D(this.autoClosingPairsCloseSingleChar,w.close,w)}}e.AutoClosingPairs=y;function D(S,p,w){S.has(p)?S.get(p).push(w):S.set(p,[w])}}),define(ne[519],se([1,0,132]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=void 0;class k{constructor(n,i,t){const o=new Uint8Array(n*i);for(let g=0,m=n*i;g<m;g++)o[g]=t;this._data=o,this.rows=n,this.cols=i}get(n,i){return this._data[n*this.cols+i]}set(n,i,t){this._data[n*this.cols+i]=t}}class y{constructor(n){let i=0,t=0;for(let g=0,m=n.length;g<m;g++){const[c,d,s]=n[g];d>i&&(i=d),c>t&&(t=c),s>t&&(t=s)}i++,t++;const o=new k(t,i,0);for(let g=0,m=n.length;g<m;g++){const[c,d,s]=n[g];o.set(c,d,s)}this._states=o,this._maxCharCode=i}nextState(n,i){return i<0||i>=this._maxCharCode?0:this._states.get(n,i)}}e.StateMachine=y;let D=null;function S(){return D===null&&(D=new y([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let p=null;function w(){if(p===null){p=new L.CharacterClassifier(0);const a=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let i=0;i<a.length;i++)p.set(a.charCodeAt(i),1);const n=".,;:";for(let i=0;i<n.length;i++)p.set(n.charCodeAt(i),2)}return p}class v{static _createLink(n,i,t,o,g){let m=g-1;do{const c=i.charCodeAt(m);if(n.get(c)!==2)break;m--}while(m>o);if(o>0){const c=i.charCodeAt(o-1),d=i.charCodeAt(m);(c===40&&d===41||c===91&&d===93||c===123&&d===125)&&m--}return{range:{startLineNumber:t,startColumn:o+1,endLineNumber:t,endColumn:m+2},url:i.substring(o,m+1)}}static computeLinks(n,i=S()){const t=w(),o=[];for(let g=1,m=n.getLineCount();g<=m;g++){const c=n.getLineContent(g),d=c.length;let s=0,l=0,r=0,h=1,u=!1,f=!1,C=!1,_=!1;for(;s<d;){let E=!1;const I=c.charCodeAt(s);if(h===13){let T;switch(I){case 40:u=!0,T=0;break;case 41:T=u?0:1;break;case 91:C=!0,f=!0,T=0;break;case 93:C=!1,T=f?0:1;break;case 123:_=!0,T=0;break;case 125:T=_?0:1;break;case 39:case 34:case 96:r===I?T=1:r===39||r===34||r===96?T=0:T=1;break;case 42:T=r===42?1:0;break;case 124:T=r===124?1:0;break;case 32:T=C?0:1;break;default:T=t.get(I)}T===1&&(o.push(v._createLink(t,c,g,l,s)),E=!0)}else if(h===12){let T;I===91?(f=!0,T=0):T=t.get(I),T===1?E=!0:h=13}else h=i.nextState(h,I),h===0&&(E=!0);E&&(h=1,u=!1,f=!1,_=!1,l=s+1,r=I),s++}h===13&&o.push(v._createLink(t,c,g,l,d))}return o}}e.LinkComputer=v;function b(a){return!a||typeof a.getLineCount!="function"||typeof a.getLineContent!="function"?[]:v.computeLinks(a)}e.computeLinks=b}),define(ne[137],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function L(D,S){const p=D.getCount(),w=D.findTokenIndexAtOffset(S),v=D.getLanguageId(w);let b=w;for(;b+1<p&&D.getLanguageId(b+1)===v;)b++;let a=w;for(;a>0&&D.getLanguageId(a-1)===v;)a--;return new k(D,v,a,b+1,D.getStartOffset(a),D.getEndOffset(b))}e.createScopedLineTokens=L;class k{constructor(S,p,w,v,b,a){this._scopedLineTokensBrand=void 0,this._actual=S,this.languageId=p,this._firstTokenIndex=w,this._lastTokenIndex=v,this.firstCharOffset=b,this._lastCharOffset=a}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(S){return this._actual.getLineContent().substring(0,this.firstCharOffset+S)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(S){return this._actual.findTokenIndexAtOffset(S+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(S){return this._actual.getStandardTokenType(S+this._firstTokenIndex)}}e.ScopedLineTokens=k;function y(D){return(D&3)!==0}e.ignoreBracketsInToken=y}),define(ne[76],se([1,0,9,5,23,137,85,209]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0;const w=()=>!0,v=()=>!1,b=c=>c===" "||c==="	";class a{static shouldRecreate(d){return d.hasChanged(144)||d.hasChanged(130)||d.hasChanged(37)||d.hasChanged(77)||d.hasChanged(79)||d.hasChanged(80)||d.hasChanged(6)||d.hasChanged(7)||d.hasChanged(11)||d.hasChanged(9)||d.hasChanged(10)||d.hasChanged(14)||d.hasChanged(128)||d.hasChanged(50)||d.hasChanged(91)}constructor(d,s,l,r){var h;this.languageConfigurationService=r,this._cursorMoveConfigurationBrand=void 0,this._languageId=d;const u=l.options,f=u.get(144),C=u.get(50);this.readOnly=u.get(91),this.tabSize=s.tabSize,this.indentSize=s.indentSize,this.insertSpaces=s.insertSpaces,this.stickyTabStops=u.get(116),this.lineHeight=C.lineHeight,this.typicalHalfwidthCharacterWidth=C.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(f.height/this.lineHeight)-2),this.useTabStops=u.get(128),this.wordSeparators=u.get(130),this.emptySelectionClipboard=u.get(37),this.copyWithSyntaxHighlighting=u.get(25),this.multiCursorMergeOverlapping=u.get(77),this.multiCursorPaste=u.get(79),this.multiCursorLimit=u.get(80),this.autoClosingBrackets=u.get(6),this.autoClosingComments=u.get(7),this.autoClosingQuotes=u.get(11),this.autoClosingDelete=u.get(9),this.autoClosingOvertype=u.get(10),this.autoSurround=u.get(14),this.autoIndent=u.get(12),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(d,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(d,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(d,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(d).getAutoClosingPairs();const _=this.languageConfigurationService.getLanguageConfiguration(d).getSurroundingPairs();if(_)for(const I of _)this.surroundingPairs[I.open]=I.close;const E=this.languageConfigurationService.getLanguageConfiguration(d).comments;this.blockCommentStartToken=(h=E?.blockCommentStartToken)!==null&&h!==void 0?h:null}get electricChars(){var d;if(!this._electricChars){this._electricChars={};const s=(d=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||d===void 0?void 0:d.getElectricCharacters();if(s)for(const l of s)this._electricChars[l]=!0}return this._electricChars}onElectricCharacter(d,s,l){const r=(0,D.createScopedLineTokens)(s,l-1),h=this.languageConfigurationService.getLanguageConfiguration(r.languageId).electricCharacter;return h?h.onElectricCharacter(d,r,l-r.firstCharOffset):null}normalizeIndentation(d){return(0,p.normalizeIndentation)(d,this.indentSize,this.insertSpaces)}_getShouldAutoClose(d,s,l){switch(s){case"beforeWhitespace":return b;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(d,l);case"always":return w;case"never":return v}}_getLanguageDefinedShouldAutoClose(d,s){const l=this.languageConfigurationService.getLanguageConfiguration(d).getAutoCloseBeforeSet(s);return r=>l.indexOf(r)!==-1}visibleColumnFromColumn(d,s){return S.CursorColumns.visibleColumnFromColumn(d.getLineContent(s.lineNumber),s.column,this.tabSize)}columnFromVisibleColumn(d,s,l){const r=S.CursorColumns.columnFromVisibleColumn(d.getLineContent(s),l,this.tabSize),h=d.getLineMinColumn(s);if(r<h)return h;const u=d.getLineMaxColumn(s);return r>u?u:r}}e.CursorConfiguration=a;class n{static fromModelState(d){return new i(d)}static fromViewState(d){return new t(d)}static fromModelSelection(d){const s=y.Selection.liftSelection(d),l=new o(k.Range.fromPositions(s.getSelectionStart()),0,0,s.getPosition(),0);return n.fromModelState(l)}static fromModelSelections(d){const s=[];for(let l=0,r=d.length;l<r;l++)s[l]=this.fromModelSelection(d[l]);return s}constructor(d,s){this._cursorStateBrand=void 0,this.modelState=d,this.viewState=s}equals(d){return this.viewState.equals(d.viewState)&&this.modelState.equals(d.modelState)}}e.CursorState=n;class i{constructor(d){this.modelState=d,this.viewState=null}}e.PartialModelCursorState=i;class t{constructor(d){this.modelState=null,this.viewState=d}}e.PartialViewCursorState=t;class o{constructor(d,s,l,r,h){this.selectionStart=d,this.selectionStartKind=s,this.selectionStartLeftoverVisibleColumns=l,this.position=r,this.leftoverVisibleColumns=h,this._singleCursorStateBrand=void 0,this.selection=o._computeSelection(this.selectionStart,this.position)}equals(d){return this.selectionStartLeftoverVisibleColumns===d.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===d.leftoverVisibleColumns&&this.selectionStartKind===d.selectionStartKind&&this.position.equals(d.position)&&this.selectionStart.equalsRange(d.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(d,s,l,r){return d?new o(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new L.Position(s,l),r):new o(new k.Range(s,l,s,l),0,r,new L.Position(s,l),r)}static _computeSelection(d,s){return d.isEmpty()||!s.isBeforeOrEqual(d.getStartPosition())?y.Selection.fromPositions(d.getStartPosition(),s):y.Selection.fromPositions(d.getEndPosition(),s)}}e.SingleCursorState=o;class g{constructor(d,s,l){this._editOperationResultBrand=void 0,this.type=d,this.commands=s,this.shouldPushStackElementBefore=l.shouldPushStackElementBefore,this.shouldPushStackElementAfter=l.shouldPushStackElementAfter}}e.EditOperationResult=g;function m(c){return c==="'"||c==='"'||c==="`"}e.isQuote=m}),define(ne[520],se([1,0,76,9,5]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(p,w,v,b,a,n){const i=Math.abs(a-v)+1,t=v>a,o=b>n,g=b<n,m=[];for(let c=0;c<i;c++){const d=v+(t?-c:c),s=p.columnFromVisibleColumn(w,d,b),l=p.columnFromVisibleColumn(w,d,n),r=p.visibleColumnFromColumn(w,new k.Position(d,s)),h=p.visibleColumnFromColumn(w,new k.Position(d,l));g&&(r>n||h<b)||o&&(h>b||r<n)||m.push(new L.SingleCursorState(new y.Range(d,s,d,s),0,0,new k.Position(d,l),0))}if(m.length===0)for(let c=0;c<i;c++){const d=v+(t?-c:c),s=w.getLineMaxColumn(d);m.push(new L.SingleCursorState(new y.Range(d,s,d,s),0,0,new k.Position(d,s),0))}return{viewStates:m,reversed:t,fromLineNumber:v,fromVisualColumn:b,toLineNumber:a,toVisualColumn:n}}static columnSelectLeft(p,w,v){let b=v.toViewVisualColumn;return b>0&&b--,D.columnSelect(p,w,v.fromViewLineNumber,v.fromViewVisualColumn,v.toViewLineNumber,b)}static columnSelectRight(p,w,v){let b=0;const a=Math.min(v.fromViewLineNumber,v.toViewLineNumber),n=Math.max(v.fromViewLineNumber,v.toViewLineNumber);for(let t=a;t<=n;t++){const o=w.getLineMaxColumn(t),g=p.visibleColumnFromColumn(w,new k.Position(t,o));b=Math.max(b,g)}let i=v.toViewVisualColumn;return i<b&&i++,this.columnSelect(p,w,v.fromViewLineNumber,v.fromViewVisualColumn,v.toViewLineNumber,i)}static columnSelectUp(p,w,v,b){const a=b?p.pageSize:1,n=Math.max(1,v.toViewLineNumber-a);return this.columnSelect(p,w,v.fromViewLineNumber,v.fromViewVisualColumn,n,v.toViewVisualColumn)}static columnSelectDown(p,w,v,b){const a=b?p.pageSize:1,n=Math.min(w.getLineCount(),v.toViewLineNumber+a);return this.columnSelect(p,w,v.fromViewLineNumber,v.fromViewVisualColumn,n,v.toViewVisualColumn)}}e.ColumnSelection=D}),define(ne[212],se([1,0,11,85,9,5,290,76]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class w{constructor(a,n,i){this._cursorPositionBrand=void 0,this.lineNumber=a,this.column=n,this.leftoverVisibleColumns=i}}e.CursorPosition=w;class v{static leftPosition(a,n){if(n.column>a.getLineMinColumn(n.lineNumber))return n.delta(void 0,-L.prevCharLength(a.getLineContent(n.lineNumber),n.column-1));if(n.lineNumber>1){const i=n.lineNumber-1;return new y.Position(i,a.getLineMaxColumn(i))}else return n}static leftPositionAtomicSoftTabs(a,n,i){if(n.column<=a.getLineIndentColumn(n.lineNumber)){const t=a.getLineMinColumn(n.lineNumber),o=a.getLineContent(n.lineNumber),g=S.AtomicTabMoveOperations.atomicPosition(o,n.column-1,i,0);if(g!==-1&&g+1>=t)return new y.Position(n.lineNumber,g+1)}return this.leftPosition(a,n)}static left(a,n,i){const t=a.stickyTabStops?v.leftPositionAtomicSoftTabs(n,i,a.tabSize):v.leftPosition(n,i);return new w(t.lineNumber,t.column,0)}static moveLeft(a,n,i,t,o){let g,m;if(i.hasSelection()&&!t)g=i.selection.startLineNumber,m=i.selection.startColumn;else{const c=i.position.delta(void 0,-(o-1)),d=n.normalizePosition(v.clipPositionColumn(c,n),0),s=v.left(a,n,d);g=s.lineNumber,m=s.column}return i.move(t,g,m,0)}static clipPositionColumn(a,n){return new y.Position(a.lineNumber,v.clipRange(a.column,n.getLineMinColumn(a.lineNumber),n.getLineMaxColumn(a.lineNumber)))}static clipRange(a,n,i){return a<n?n:a>i?i:a}static rightPosition(a,n,i){return i<a.getLineMaxColumn(n)?i=i+L.nextCharLength(a.getLineContent(n),i-1):n<a.getLineCount()&&(n=n+1,i=a.getLineMinColumn(n)),new y.Position(n,i)}static rightPositionAtomicSoftTabs(a,n,i,t,o){if(i<a.getLineIndentColumn(n)){const g=a.getLineContent(n),m=S.AtomicTabMoveOperations.atomicPosition(g,i-1,t,1);if(m!==-1)return new y.Position(n,m+1)}return this.rightPosition(a,n,i)}static right(a,n,i){const t=a.stickyTabStops?v.rightPositionAtomicSoftTabs(n,i.lineNumber,i.column,a.tabSize,a.indentSize):v.rightPosition(n,i.lineNumber,i.column);return new w(t.lineNumber,t.column,0)}static moveRight(a,n,i,t,o){let g,m;if(i.hasSelection()&&!t)g=i.selection.endLineNumber,m=i.selection.endColumn;else{const c=i.position.delta(void 0,o-1),d=n.normalizePosition(v.clipPositionColumn(c,n),1),s=v.right(a,n,d);g=s.lineNumber,m=s.column}return i.move(t,g,m,0)}static vertical(a,n,i,t,o,g,m,c){const d=k.CursorColumns.visibleColumnFromColumn(n.getLineContent(i),t,a.tabSize)+o,s=n.getLineCount(),l=i===1&&t===1,r=i===s&&t===n.getLineMaxColumn(i),h=g<i?l:r;if(i=g,i<1?(i=1,m?t=n.getLineMinColumn(i):t=Math.min(n.getLineMaxColumn(i),t)):i>s?(i=s,m?t=n.getLineMaxColumn(i):t=Math.min(n.getLineMaxColumn(i),t)):t=a.columnFromVisibleColumn(n,i,d),h?o=0:o=d-k.CursorColumns.visibleColumnFromColumn(n.getLineContent(i),t,a.tabSize),c!==void 0){const u=new y.Position(i,t),f=n.normalizePosition(u,c);o=o+(t-f.column),i=f.lineNumber,t=f.column}return new w(i,t,o)}static down(a,n,i,t,o,g,m){return this.vertical(a,n,i,t,o,i+g,m,4)}static moveDown(a,n,i,t,o){let g,m;i.hasSelection()&&!t?(g=i.selection.endLineNumber,m=i.selection.endColumn):(g=i.position.lineNumber,m=i.position.column);let c=0,d;do if(d=v.down(a,n,g+c,m,i.leftoverVisibleColumns,o,!0),n.normalizePosition(new y.Position(d.lineNumber,d.column),2).lineNumber>g)break;while(c++<10&&g+c<n.getLineCount());return i.move(t,d.lineNumber,d.column,d.leftoverVisibleColumns)}static translateDown(a,n,i){const t=i.selection,o=v.down(a,n,t.selectionStartLineNumber,t.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),g=v.down(a,n,t.positionLineNumber,t.positionColumn,i.leftoverVisibleColumns,1,!1);return new p.SingleCursorState(new D.Range(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new y.Position(g.lineNumber,g.column),g.leftoverVisibleColumns)}static up(a,n,i,t,o,g,m){return this.vertical(a,n,i,t,o,i-g,m,3)}static moveUp(a,n,i,t,o){let g,m;i.hasSelection()&&!t?(g=i.selection.startLineNumber,m=i.selection.startColumn):(g=i.position.lineNumber,m=i.position.column);const c=v.up(a,n,g,m,i.leftoverVisibleColumns,o,!0);return i.move(t,c.lineNumber,c.column,c.leftoverVisibleColumns)}static translateUp(a,n,i){const t=i.selection,o=v.up(a,n,t.selectionStartLineNumber,t.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),g=v.up(a,n,t.positionLineNumber,t.positionColumn,i.leftoverVisibleColumns,1,!1);return new p.SingleCursorState(new D.Range(o.lineNumber,o.column,o.lineNumber,o.column),0,o.leftoverVisibleColumns,new y.Position(g.lineNumber,g.column),g.leftoverVisibleColumns)}static _isBlankLine(a,n){return a.getLineFirstNonWhitespaceColumn(n)===0}static moveToPrevBlankLine(a,n,i,t){let o=i.position.lineNumber;for(;o>1&&this._isBlankLine(n,o);)o--;for(;o>1&&!this._isBlankLine(n,o);)o--;return i.move(t,o,n.getLineMinColumn(o),0)}static moveToNextBlankLine(a,n,i,t){const o=n.getLineCount();let g=i.position.lineNumber;for(;g<o&&this._isBlankLine(n,g);)g++;for(;g<o&&!this._isBlankLine(n,g);)g++;return i.move(t,g,n.getLineMinColumn(g),0)}static moveToBeginningOfLine(a,n,i,t){const o=i.position.lineNumber,g=n.getLineMinColumn(o),m=n.getLineFirstNonWhitespaceColumn(o)||g;let c;return i.position.column===m?c=g:c=m,i.move(t,o,c,0)}static moveToEndOfLine(a,n,i,t,o){const g=i.position.lineNumber,m=n.getLineMaxColumn(g);return i.move(t,g,m,o?1073741824-m:0)}static moveToBeginningOfBuffer(a,n,i,t){return i.move(t,1,1,0)}static moveToEndOfBuffer(a,n,i,t){const o=n.getLineCount(),g=n.getLineMaxColumn(o);return i.move(t,o,g,0)}}e.MoveOperations=v}),define(ne[213],se([1,0,11,134,76,85,212,5,9]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class v{static deleteRight(a,n,i,t){const o=[];let g=a!==3;for(let m=0,c=t.length;m<c;m++){const d=t[m];let s=d;if(s.isEmpty()){const l=d.getPosition(),r=S.MoveOperations.right(n,i,l);s=new p.Range(r.lineNumber,r.column,l.lineNumber,l.column)}if(s.isEmpty()){o[m]=null;continue}s.startLineNumber!==s.endLineNumber&&(g=!0),o[m]=new k.ReplaceCommand(s,"")}return[g,o]}static isAutoClosingPairDelete(a,n,i,t,o,g,m){if(n==="never"&&i==="never"||a==="never")return!1;for(let c=0,d=g.length;c<d;c++){const s=g[c],l=s.getPosition();if(!s.isEmpty())return!1;const r=o.getLineContent(l.lineNumber);if(l.column<2||l.column>=r.length+1)return!1;const h=r.charAt(l.column-2),u=t.get(h);if(!u)return!1;if((0,y.isQuote)(h)){if(i==="never")return!1}else if(n==="never")return!1;const f=r.charAt(l.column-1);let C=!1;for(const _ of u)_.open===h&&_.close===f&&(C=!0);if(!C)return!1;if(a==="auto"){let _=!1;for(let E=0,I=m.length;E<I;E++){const T=m[E];if(l.lineNumber===T.startLineNumber&&l.column===T.startColumn){_=!0;break}}if(!_)return!1}}return!0}static _runAutoClosingPairDelete(a,n,i){const t=[];for(let o=0,g=i.length;o<g;o++){const m=i[o].getPosition(),c=new p.Range(m.lineNumber,m.column-1,m.lineNumber,m.column+1);t[o]=new k.ReplaceCommand(c,"")}return[!0,t]}static deleteLeft(a,n,i,t,o){if(this.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,i,t,o))return this._runAutoClosingPairDelete(n,i,t);const g=[];let m=a!==2;for(let c=0,d=t.length;c<d;c++){const s=v.getDeleteRange(t[c],i,n);if(s.isEmpty()){g[c]=null;continue}s.startLineNumber!==s.endLineNumber&&(m=!0),g[c]=new k.ReplaceCommand(s,"")}return[m,g]}static getDeleteRange(a,n,i){if(!a.isEmpty())return a;const t=a.getPosition();if(i.useTabStops&&t.column>1){const o=n.getLineContent(t.lineNumber),g=L.firstNonWhitespaceIndex(o),m=g===-1?o.length+1:g+1;if(t.column<=m){const c=i.visibleColumnFromColumn(n,t),d=D.CursorColumns.prevIndentTabStop(c,i.indentSize),s=i.columnFromVisibleColumn(n,t.lineNumber,d);return new p.Range(t.lineNumber,s,t.lineNumber,t.column)}}return p.Range.fromPositions(v.getPositionAfterDeleteLeft(t,n),t)}static getPositionAfterDeleteLeft(a,n){if(a.column>1){const i=L.getLeftDeleteOffset(a.column-1,n.getLineContent(a.lineNumber));return a.with(void 0,i+1)}else if(a.lineNumber>1){const i=a.lineNumber-1;return new w.Position(i,n.getLineMaxColumn(i))}else return a}static cut(a,n,i){const t=[];let o=null;i.sort((g,m)=>w.Position.compare(g.getStartPosition(),m.getEndPosition()));for(let g=0,m=i.length;g<m;g++){const c=i[g];if(c.isEmpty())if(a.emptySelectionClipboard){const d=c.getPosition();let s,l,r,h;d.lineNumber<n.getLineCount()?(s=d.lineNumber,l=1,r=d.lineNumber+1,h=1):d.lineNumber>1&&o?.endLineNumber!==d.lineNumber?(s=d.lineNumber-1,l=n.getLineMaxColumn(d.lineNumber-1),r=d.lineNumber,h=n.getLineMaxColumn(d.lineNumber)):(s=d.lineNumber,l=1,r=d.lineNumber,h=n.getLineMaxColumn(d.lineNumber));const u=new p.Range(s,l,r,h);o=u,u.isEmpty()?t[g]=null:t[g]=new k.ReplaceCommand(u,"")}else t[g]=null;else t[g]=new k.ReplaceCommand(c,"")}return new y.EditOperationResult(0,t,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=v}),define(ne[184],se([1,0,11,76,213,154,9,5]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class w{static _createWord(n,i,t,o,g){return{start:o,end:g,wordType:i,nextCharClass:t}}static _findPreviousWordOnLine(n,i,t){const o=i.getLineContent(t.lineNumber);return this._doFindPreviousWordOnLine(o,n,t)}static _doFindPreviousWordOnLine(n,i,t){let o=0;for(let g=t.column-2;g>=0;g--){const m=n.charCodeAt(g),c=i.get(m);if(c===0){if(o===2)return this._createWord(n,o,c,g+1,this._findEndOfWord(n,i,o,g+1));o=1}else if(c===2){if(o===1)return this._createWord(n,o,c,g+1,this._findEndOfWord(n,i,o,g+1));o=2}else if(c===1&&o!==0)return this._createWord(n,o,c,g+1,this._findEndOfWord(n,i,o,g+1))}return o!==0?this._createWord(n,o,1,0,this._findEndOfWord(n,i,o,0)):null}static _findEndOfWord(n,i,t,o){const g=n.length;for(let m=o;m<g;m++){const c=n.charCodeAt(m),d=i.get(c);if(d===1||t===1&&d===2||t===2&&d===0)return m}return g}static _findNextWordOnLine(n,i,t){const o=i.getLineContent(t.lineNumber);return this._doFindNextWordOnLine(o,n,t)}static _doFindNextWordOnLine(n,i,t){let o=0;const g=n.length;for(let m=t.column-1;m<g;m++){const c=n.charCodeAt(m),d=i.get(c);if(d===0){if(o===2)return this._createWord(n,o,d,this._findStartOfWord(n,i,o,m-1),m);o=1}else if(d===2){if(o===1)return this._createWord(n,o,d,this._findStartOfWord(n,i,o,m-1),m);o=2}else if(d===1&&o!==0)return this._createWord(n,o,d,this._findStartOfWord(n,i,o,m-1),m)}return o!==0?this._createWord(n,o,1,this._findStartOfWord(n,i,o,g-1),g):null}static _findStartOfWord(n,i,t,o){for(let g=o;g>=0;g--){const m=n.charCodeAt(g),c=i.get(m);if(c===1||t===1&&c===2||t===2&&c===0)return g+1}return 0}static moveWordLeft(n,i,t,o){let g=t.lineNumber,m=t.column;m===1&&g>1&&(g=g-1,m=i.getLineMaxColumn(g));let c=w._findPreviousWordOnLine(n,i,new S.Position(g,m));if(o===0)return new S.Position(g,c?c.start+1:1);if(o===1)return c&&c.wordType===2&&c.end-c.start===1&&c.nextCharClass===0&&(c=w._findPreviousWordOnLine(n,i,new S.Position(g,c.start+1))),new S.Position(g,c?c.start+1:1);if(o===3){for(;c&&c.wordType===2;)c=w._findPreviousWordOnLine(n,i,new S.Position(g,c.start+1));return new S.Position(g,c?c.start+1:1)}return c&&m<=c.end+1&&(c=w._findPreviousWordOnLine(n,i,new S.Position(g,c.start+1))),new S.Position(g,c?c.end+1:1)}static _moveWordPartLeft(n,i){const t=i.lineNumber,o=n.getLineMaxColumn(t);if(i.column===1)return t>1?new S.Position(t-1,n.getLineMaxColumn(t-1)):i;const g=n.getLineContent(t);for(let m=i.column-1;m>1;m--){const c=g.charCodeAt(m-2),d=g.charCodeAt(m-1);if(c===95&&d!==95)return new S.Position(t,m);if(c===45&&d!==45)return new S.Position(t,m);if((L.isLowerAsciiLetter(c)||L.isAsciiDigit(c))&&L.isUpperAsciiLetter(d))return new S.Position(t,m);if(L.isUpperAsciiLetter(c)&&L.isUpperAsciiLetter(d)&&m+1<o){const s=g.charCodeAt(m);if(L.isLowerAsciiLetter(s)||L.isAsciiDigit(s))return new S.Position(t,m)}}return new S.Position(t,1)}static moveWordRight(n,i,t,o){let g=t.lineNumber,m=t.column,c=!1;m===i.getLineMaxColumn(g)&&g<i.getLineCount()&&(c=!0,g=g+1,m=1);let d=w._findNextWordOnLine(n,i,new S.Position(g,m));if(o===2)d&&d.wordType===2&&d.end-d.start===1&&d.nextCharClass===0&&(d=w._findNextWordOnLine(n,i,new S.Position(g,d.end+1))),d?m=d.end+1:m=i.getLineMaxColumn(g);else if(o===3){for(c&&(m=0);d&&(d.wordType===2||d.start+1<=m);)d=w._findNextWordOnLine(n,i,new S.Position(g,d.end+1));d?m=d.start+1:m=i.getLineMaxColumn(g)}else d&&!c&&m>=d.start+1&&(d=w._findNextWordOnLine(n,i,new S.Position(g,d.end+1))),d?m=d.start+1:m=i.getLineMaxColumn(g);return new S.Position(g,m)}static _moveWordPartRight(n,i){const t=i.lineNumber,o=n.getLineMaxColumn(t);if(i.column===o)return t<n.getLineCount()?new S.Position(t+1,1):i;const g=n.getLineContent(t);for(let m=i.column+1;m<o;m++){const c=g.charCodeAt(m-2),d=g.charCodeAt(m-1);if(c!==95&&d===95)return new S.Position(t,m);if(c!==45&&d===45)return new S.Position(t,m);if((L.isLowerAsciiLetter(c)||L.isAsciiDigit(c))&&L.isUpperAsciiLetter(d))return new S.Position(t,m);if(L.isUpperAsciiLetter(c)&&L.isUpperAsciiLetter(d)&&m+1<o){const s=g.charCodeAt(m);if(L.isLowerAsciiLetter(s)||L.isAsciiDigit(s))return new S.Position(t,m)}}return new S.Position(t,o)}static _deleteWordLeftWhitespace(n,i){const t=n.getLineContent(i.lineNumber),o=i.column-2,g=L.lastNonWhitespaceIndex(t,o);return g+1<o?new p.Range(i.lineNumber,g+2,i.lineNumber,i.column):null}static deleteWordLeft(n,i){const t=n.wordSeparators,o=n.model,g=n.selection,m=n.whitespaceHeuristics;if(!g.isEmpty())return g;if(y.DeleteOperations.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,n.model,[n.selection],n.autoClosedCharacters)){const r=n.selection.getPosition();return new p.Range(r.lineNumber,r.column-1,r.lineNumber,r.column+1)}const c=new S.Position(g.positionLineNumber,g.positionColumn);let d=c.lineNumber,s=c.column;if(d===1&&s===1)return null;if(m){const r=this._deleteWordLeftWhitespace(o,c);if(r)return r}let l=w._findPreviousWordOnLine(t,o,c);return i===0?l?s=l.start+1:s>1?s=1:(d--,s=o.getLineMaxColumn(d)):(l&&s<=l.end+1&&(l=w._findPreviousWordOnLine(t,o,new S.Position(d,l.start+1))),l?s=l.end+1:s>1?s=1:(d--,s=o.getLineMaxColumn(d))),new p.Range(d,s,c.lineNumber,c.column)}static deleteInsideWord(n,i,t){if(!t.isEmpty())return t;const o=new S.Position(t.positionLineNumber,t.positionColumn),g=this._deleteInsideWordWhitespace(i,o);return g||this._deleteInsideWordDetermineDeleteRange(n,i,o)}static _charAtIsWhitespace(n,i){const t=n.charCodeAt(i);return t===32||t===9}static _deleteInsideWordWhitespace(n,i){const t=n.getLineContent(i.lineNumber),o=t.length;if(o===0)return null;let g=Math.max(i.column-2,0);if(!this._charAtIsWhitespace(t,g))return null;let m=Math.min(i.column-1,o-1);if(!this._charAtIsWhitespace(t,m))return null;for(;g>0&&this._charAtIsWhitespace(t,g-1);)g--;for(;m+1<o&&this._charAtIsWhitespace(t,m+1);)m++;return new p.Range(i.lineNumber,g+1,i.lineNumber,m+2)}static _deleteInsideWordDetermineDeleteRange(n,i,t){const o=i.getLineContent(t.lineNumber),g=o.length;if(g===0)return t.lineNumber>1?new p.Range(t.lineNumber-1,i.getLineMaxColumn(t.lineNumber-1),t.lineNumber,1):t.lineNumber<i.getLineCount()?new p.Range(t.lineNumber,1,t.lineNumber+1,1):new p.Range(t.lineNumber,1,t.lineNumber,1);const m=r=>r.start+1<=t.column&&t.column<=r.end+1,c=(r,h)=>(r=Math.min(r,t.column),h=Math.max(h,t.column),new p.Range(t.lineNumber,r,t.lineNumber,h)),d=r=>{let h=r.start+1,u=r.end+1,f=!1;for(;u-1<g&&this._charAtIsWhitespace(o,u-1);)f=!0,u++;if(!f)for(;h>1&&this._charAtIsWhitespace(o,h-2);)h--;return c(h,u)},s=w._findPreviousWordOnLine(n,i,t);if(s&&m(s))return d(s);const l=w._findNextWordOnLine(n,i,t);return l&&m(l)?d(l):s&&l?c(s.end+1,l.start+1):s?c(s.start+1,s.end+1):l?c(l.start+1,l.end+1):c(1,g+1)}static _deleteWordPartLeft(n,i){if(!i.isEmpty())return i;const t=i.getPosition(),o=w._moveWordPartLeft(n,t);return new p.Range(t.lineNumber,t.column,o.lineNumber,o.column)}static _findFirstNonWhitespaceChar(n,i){const t=n.length;for(let o=i;o<t;o++){const g=n.charAt(o);if(g!==" "&&g!=="	")return o}return t}static _deleteWordRightWhitespace(n,i){const t=n.getLineContent(i.lineNumber),o=i.column-1,g=this._findFirstNonWhitespaceChar(t,o);return o+1<g?new p.Range(i.lineNumber,i.column,i.lineNumber,g+1):null}static deleteWordRight(n,i){const t=n.wordSeparators,o=n.model,g=n.selection,m=n.whitespaceHeuristics;if(!g.isEmpty())return g;const c=new S.Position(g.positionLineNumber,g.positionColumn);let d=c.lineNumber,s=c.column;const l=o.getLineCount(),r=o.getLineMaxColumn(d);if(d===l&&s===r)return null;if(m){const u=this._deleteWordRightWhitespace(o,c);if(u)return u}let h=w._findNextWordOnLine(t,o,c);return i===2?h?s=h.end+1:s<r||d===l?s=r:(d++,h=w._findNextWordOnLine(t,o,new S.Position(d,1)),h?s=h.start+1:s=o.getLineMaxColumn(d)):(h&&s>=h.start+1&&(h=w._findNextWordOnLine(t,o,new S.Position(d,h.end+1))),h?s=h.start+1:s<r||d===l?s=r:(d++,h=w._findNextWordOnLine(t,o,new S.Position(d,1)),h?s=h.start+1:s=o.getLineMaxColumn(d))),new p.Range(d,s,c.lineNumber,c.column)}static _deleteWordPartRight(n,i){if(!i.isEmpty())return i;const t=i.getPosition(),o=w._moveWordPartRight(n,t);return new p.Range(t.lineNumber,t.column,o.lineNumber,o.column)}static _createWordAtPosition(n,i,t){const o=new p.Range(i,t.start+1,i,t.end+1);return{word:n.getValueInRange(o),startColumn:o.startColumn,endColumn:o.endColumn}}static getWordAtPosition(n,i,t){const o=(0,D.getMapForWordSeparators)(i),g=w._findPreviousWordOnLine(o,n,t);if(g&&g.wordType===1&&g.start<=t.column-1&&t.column-1<=g.end)return w._createWordAtPosition(n,t.lineNumber,g);const m=w._findNextWordOnLine(o,n,t);return m&&m.wordType===1&&m.start<=t.column-1&&t.column-1<=m.end?w._createWordAtPosition(n,t.lineNumber,m):null}static word(n,i,t,o,g){const m=(0,D.getMapForWordSeparators)(n.wordSeparators),c=w._findPreviousWordOnLine(m,i,g),d=w._findNextWordOnLine(m,i,g);if(!o){let u,f;return c&&c.wordType===1&&c.start<=g.column-1&&g.column-1<=c.end?(u=c.start+1,f=c.end+1):d&&d.wordType===1&&d.start<=g.column-1&&g.column-1<=d.end?(u=d.start+1,f=d.end+1):(c?u=c.end+1:u=1,d?f=d.start+1:f=i.getLineMaxColumn(g.lineNumber)),new k.SingleCursorState(new p.Range(g.lineNumber,u,g.lineNumber,f),1,0,new S.Position(g.lineNumber,f),0)}let s,l;c&&c.wordType===1&&c.start<g.column-1&&g.column-1<c.end?(s=c.start+1,l=c.end+1):d&&d.wordType===1&&d.start<g.column-1&&g.column-1<d.end?(s=d.start+1,l=d.end+1):(s=g.column,l=g.column);const r=g.lineNumber;let h;if(t.selectionStart.containsPosition(g))h=t.selectionStart.endColumn;else if(g.isBeforeOrEqual(t.selectionStart.getStartPosition())){h=s;const u=new S.Position(r,h);t.selectionStart.containsPosition(u)&&(h=t.selectionStart.endColumn)}else{h=l;const u=new S.Position(r,h);t.selectionStart.containsPosition(u)&&(h=t.selectionStart.startColumn)}return t.move(!0,r,h,0)}}e.WordOperations=w;class v extends w{static deleteWordPartLeft(n){const i=b([w.deleteWordLeft(n,0),w.deleteWordLeft(n,2),w._deleteWordPartLeft(n.model,n.selection)]);return i.sort(p.Range.compareRangesUsingEnds),i[2]}static deleteWordPartRight(n){const i=b([w.deleteWordRight(n,0),w.deleteWordRight(n,2),w._deleteWordPartRight(n.model,n.selection)]);return i.sort(p.Range.compareRangesUsingStarts),i[0]}static moveWordPartLeft(n,i,t){const o=b([w.moveWordLeft(n,i,t,0),w.moveWordLeft(n,i,t,2),w._moveWordPartLeft(i,t)]);return o.sort(S.Position.compare),o[2]}static moveWordPartRight(n,i,t){const o=b([w.moveWordRight(n,i,t,0),w.moveWordRight(n,i,t,2),w._moveWordPartRight(i,t)]);return o.sort(S.Position.compare),o[0]}}e.WordPartOperations=v;function b(a){return a.filter(n=>!!n)}}),define(ne[214],se([1,0,20,76,212,184,9,5]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class w{static addCursorDown(a,n,i){const t=[];let o=0;for(let g=0,m=n.length;g<m;g++){const c=n[g];t[o++]=new k.CursorState(c.modelState,c.viewState),i?t[o++]=k.CursorState.fromModelState(y.MoveOperations.translateDown(a.cursorConfig,a.model,c.modelState)):t[o++]=k.CursorState.fromViewState(y.MoveOperations.translateDown(a.cursorConfig,a,c.viewState))}return t}static addCursorUp(a,n,i){const t=[];let o=0;for(let g=0,m=n.length;g<m;g++){const c=n[g];t[o++]=new k.CursorState(c.modelState,c.viewState),i?t[o++]=k.CursorState.fromModelState(y.MoveOperations.translateUp(a.cursorConfig,a.model,c.modelState)):t[o++]=k.CursorState.fromViewState(y.MoveOperations.translateUp(a.cursorConfig,a,c.viewState))}return t}static moveToBeginningOfLine(a,n,i){const t=[];for(let o=0,g=n.length;o<g;o++){const m=n[o];t[o]=this._moveToLineStart(a,m,i)}return t}static _moveToLineStart(a,n,i){const t=n.viewState.position.column,o=n.modelState.position.column,g=t===o,m=n.viewState.position.lineNumber,c=a.getLineFirstNonWhitespaceColumn(m);return!g&&!(t===c)?this._moveToLineStartByView(a,n,i):this._moveToLineStartByModel(a,n,i)}static _moveToLineStartByView(a,n,i){return k.CursorState.fromViewState(y.MoveOperations.moveToBeginningOfLine(a.cursorConfig,a,n.viewState,i))}static _moveToLineStartByModel(a,n,i){return k.CursorState.fromModelState(y.MoveOperations.moveToBeginningOfLine(a.cursorConfig,a.model,n.modelState,i))}static moveToEndOfLine(a,n,i,t){const o=[];for(let g=0,m=n.length;g<m;g++){const c=n[g];o[g]=this._moveToLineEnd(a,c,i,t)}return o}static _moveToLineEnd(a,n,i,t){const o=n.viewState.position,g=a.getLineMaxColumn(o.lineNumber),m=o.column===g,c=n.modelState.position,d=a.model.getLineMaxColumn(c.lineNumber),s=g-o.column===d-c.column;return m||s?this._moveToLineEndByModel(a,n,i,t):this._moveToLineEndByView(a,n,i,t)}static _moveToLineEndByView(a,n,i,t){return k.CursorState.fromViewState(y.MoveOperations.moveToEndOfLine(a.cursorConfig,a,n.viewState,i,t))}static _moveToLineEndByModel(a,n,i,t){return k.CursorState.fromModelState(y.MoveOperations.moveToEndOfLine(a.cursorConfig,a.model,n.modelState,i,t))}static expandLineSelection(a,n){const i=[];for(let t=0,o=n.length;t<o;t++){const g=n[t],m=g.modelState.selection.startLineNumber,c=a.model.getLineCount();let d=g.modelState.selection.endLineNumber,s;d===c?s=a.model.getLineMaxColumn(c):(d++,s=1),i[t]=k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(m,1,m,1),0,0,new S.Position(d,s),0))}return i}static moveToBeginningOfBuffer(a,n,i){const t=[];for(let o=0,g=n.length;o<g;o++){const m=n[o];t[o]=k.CursorState.fromModelState(y.MoveOperations.moveToBeginningOfBuffer(a.cursorConfig,a.model,m.modelState,i))}return t}static moveToEndOfBuffer(a,n,i){const t=[];for(let o=0,g=n.length;o<g;o++){const m=n[o];t[o]=k.CursorState.fromModelState(y.MoveOperations.moveToEndOfBuffer(a.cursorConfig,a.model,m.modelState,i))}return t}static selectAll(a,n){const i=a.model.getLineCount(),t=a.model.getLineMaxColumn(i);return k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(1,1,1,1),0,0,new S.Position(i,t),0))}static line(a,n,i,t,o){const g=a.model.validatePosition(t),m=o?a.coordinatesConverter.validateViewPosition(new S.Position(o.lineNumber,o.column),g):a.coordinatesConverter.convertModelPositionToViewPosition(g);if(!i){const d=a.model.getLineCount();let s=g.lineNumber+1,l=1;return s>d&&(s=d,l=a.model.getLineMaxColumn(s)),k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(g.lineNumber,1,s,l),2,0,new S.Position(s,l),0))}const c=n.modelState.selectionStart.getStartPosition().lineNumber;if(g.lineNumber<c)return k.CursorState.fromViewState(n.viewState.move(!0,m.lineNumber,1,0));if(g.lineNumber>c){const d=a.getLineCount();let s=m.lineNumber+1,l=1;return s>d&&(s=d,l=a.getLineMaxColumn(s)),k.CursorState.fromViewState(n.viewState.move(!0,s,l,0))}else{const d=n.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(n.modelState.move(!0,d.lineNumber,d.column,0))}}static word(a,n,i,t){const o=a.model.validatePosition(t);return k.CursorState.fromModelState(D.WordOperations.word(a.cursorConfig,a.model,n.modelState,i,o))}static cancelSelection(a,n){if(!n.modelState.hasSelection())return new k.CursorState(n.modelState,n.viewState);const i=n.viewState.position.lineNumber,t=n.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new p.Range(i,t,i,t),0,0,new S.Position(i,t),0))}static moveTo(a,n,i,t,o){if(i){if(n.modelState.selectionStartKind===1)return this.word(a,n,i,t);if(n.modelState.selectionStartKind===2)return this.line(a,n,i,t,o)}const g=a.model.validatePosition(t),m=o?a.coordinatesConverter.validateViewPosition(new S.Position(o.lineNumber,o.column),g):a.coordinatesConverter.convertModelPositionToViewPosition(g);return k.CursorState.fromViewState(n.viewState.move(i,m.lineNumber,m.column,0))}static simpleMove(a,n,i,t,o,g){switch(i){case 0:return g===4?this._moveHalfLineLeft(a,n,t):this._moveLeft(a,n,t,o);case 1:return g===4?this._moveHalfLineRight(a,n,t):this._moveRight(a,n,t,o);case 2:return g===2?this._moveUpByViewLines(a,n,t,o):this._moveUpByModelLines(a,n,t,o);case 3:return g===2?this._moveDownByViewLines(a,n,t,o):this._moveDownByModelLines(a,n,t,o);case 4:return g===2?n.map(m=>k.CursorState.fromViewState(y.MoveOperations.moveToPrevBlankLine(a.cursorConfig,a,m.viewState,t))):n.map(m=>k.CursorState.fromModelState(y.MoveOperations.moveToPrevBlankLine(a.cursorConfig,a.model,m.modelState,t)));case 5:return g===2?n.map(m=>k.CursorState.fromViewState(y.MoveOperations.moveToNextBlankLine(a.cursorConfig,a,m.viewState,t))):n.map(m=>k.CursorState.fromModelState(y.MoveOperations.moveToNextBlankLine(a.cursorConfig,a.model,m.modelState,t)));case 6:return this._moveToViewMinColumn(a,n,t);case 7:return this._moveToViewFirstNonWhitespaceColumn(a,n,t);case 8:return this._moveToViewCenterColumn(a,n,t);case 9:return this._moveToViewMaxColumn(a,n,t);case 10:return this._moveToViewLastNonWhitespaceColumn(a,n,t);default:return null}}static viewportMove(a,n,i,t,o){const g=a.getCompletelyVisibleViewRange(),m=a.coordinatesConverter.convertViewRangeToModelRange(g);switch(i){case 11:{const c=this._firstLineNumberInRange(a.model,m,o),d=a.model.getLineFirstNonWhitespaceColumn(c);return[this._moveToModelPosition(a,n[0],t,c,d)]}case 13:{const c=this._lastLineNumberInRange(a.model,m,o),d=a.model.getLineFirstNonWhitespaceColumn(c);return[this._moveToModelPosition(a,n[0],t,c,d)]}case 12:{const c=Math.round((m.startLineNumber+m.endLineNumber)/2),d=a.model.getLineFirstNonWhitespaceColumn(c);return[this._moveToModelPosition(a,n[0],t,c,d)]}case 14:{const c=[];for(let d=0,s=n.length;d<s;d++){const l=n[d];c[d]=this.findPositionInViewportIfOutside(a,l,g,t)}return c}default:return null}}static findPositionInViewportIfOutside(a,n,i,t){const o=n.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new k.CursorState(n.modelState,n.viewState);{let g;o>i.endLineNumber-1?g=i.endLineNumber-1:o<i.startLineNumber?g=i.startLineNumber:g=o;const m=y.MoveOperations.vertical(a.cursorConfig,a,o,n.viewState.position.column,n.viewState.leftoverVisibleColumns,g,!1);return k.CursorState.fromViewState(n.viewState.move(t,m.lineNumber,m.column,m.leftoverVisibleColumns))}}static _firstLineNumberInRange(a,n,i){let t=n.startLineNumber;return n.startColumn!==a.getLineMinColumn(t)&&t++,Math.min(n.endLineNumber,t+i-1)}static _lastLineNumberInRange(a,n,i){let t=n.startLineNumber;return n.startColumn!==a.getLineMinColumn(t)&&t++,Math.max(t,n.endLineNumber-i+1)}static _moveLeft(a,n,i,t){return n.map(o=>k.CursorState.fromViewState(y.MoveOperations.moveLeft(a.cursorConfig,a,o.viewState,i,t)))}static _moveHalfLineLeft(a,n,i){const t=[];for(let o=0,g=n.length;o<g;o++){const m=n[o],c=m.viewState.position.lineNumber,d=Math.round(a.getLineLength(c)/2);t[o]=k.CursorState.fromViewState(y.MoveOperations.moveLeft(a.cursorConfig,a,m.viewState,i,d))}return t}static _moveRight(a,n,i,t){return n.map(o=>k.CursorState.fromViewState(y.MoveOperations.moveRight(a.cursorConfig,a,o.viewState,i,t)))}static _moveHalfLineRight(a,n,i){const t=[];for(let o=0,g=n.length;o<g;o++){const m=n[o],c=m.viewState.position.lineNumber,d=Math.round(a.getLineLength(c)/2);t[o]=k.CursorState.fromViewState(y.MoveOperations.moveRight(a.cursorConfig,a,m.viewState,i,d))}return t}static _moveDownByViewLines(a,n,i,t){const o=[];for(let g=0,m=n.length;g<m;g++){const c=n[g];o[g]=k.CursorState.fromViewState(y.MoveOperations.moveDown(a.cursorConfig,a,c.viewState,i,t))}return o}static _moveDownByModelLines(a,n,i,t){const o=[];for(let g=0,m=n.length;g<m;g++){const c=n[g];o[g]=k.CursorState.fromModelState(y.MoveOperations.moveDown(a.cursorConfig,a.model,c.modelState,i,t))}return o}static _moveUpByViewLines(a,n,i,t){const o=[];for(let g=0,m=n.length;g<m;g++){const c=n[g];o[g]=k.CursorState.fromViewState(y.MoveOperations.moveUp(a.cursorConfig,a,c.viewState,i,t))}return o}static _moveUpByModelLines(a,n,i,t){const o=[];for(let g=0,m=n.length;g<m;g++){const c=n[g];o[g]=k.CursorState.fromModelState(y.MoveOperations.moveUp(a.cursorConfig,a.model,c.modelState,i,t))}return o}static _moveToViewPosition(a,n,i,t,o){return k.CursorState.fromViewState(n.viewState.move(i,t,o,0))}static _moveToModelPosition(a,n,i,t,o){return k.CursorState.fromModelState(n.modelState.move(i,t,o,0))}static _moveToViewMinColumn(a,n,i){const t=[];for(let o=0,g=n.length;o<g;o++){const m=n[o],c=m.viewState.position.lineNumber,d=a.getLineMinColumn(c);t[o]=this._moveToViewPosition(a,m,i,c,d)}return t}static _moveToViewFirstNonWhitespaceColumn(a,n,i){const t=[];for(let o=0,g=n.length;o<g;o++){const m=n[o],c=m.viewState.position.lineNumber,d=a.getLineFirstNonWhitespaceColumn(c);t[o]=this._moveToViewPosition(a,m,i,c,d)}return t}static _moveToViewCenterColumn(a,n,i){const t=[];for(let o=0,g=n.length;o<g;o++){const m=n[o],c=m.viewState.position.lineNumber,d=Math.round((a.getLineMaxColumn(c)+a.getLineMinColumn(c))/2);t[o]=this._moveToViewPosition(a,m,i,c,d)}return t}static _moveToViewMaxColumn(a,n,i){const t=[];for(let o=0,g=n.length;o<g;o++){const m=n[o],c=m.viewState.position.lineNumber,d=a.getLineMaxColumn(c);t[o]=this._moveToViewPosition(a,m,i,c,d)}return t}static _moveToViewLastNonWhitespaceColumn(a,n,i){const t=[];for(let o=0,g=n.length;o<g;o++){const m=n[o],c=m.viewState.position.lineNumber,d=a.getLineLastNonWhitespaceColumn(c);t[o]=this._moveToViewPosition(a,m,i,c,d)}return t}}e.CursorMoveCommands=w;var v;(function(b){const a=function(i){if(!L.isObject(i))return!1;const t=i;return!(!L.isString(t.to)||!L.isUndefined(t.select)&&!L.isBoolean(t.select)||!L.isUndefined(t.by)&&!L.isString(t.by)||!L.isUndefined(t.value)&&!L.isNumber(t.value))};b.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:a,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},b.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},b.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function n(i){if(!i.to)return null;let t;switch(i.to){case b.RawDirection.Left:t=0;break;case b.RawDirection.Right:t=1;break;case b.RawDirection.Up:t=2;break;case b.RawDirection.Down:t=3;break;case b.RawDirection.PrevBlankLine:t=4;break;case b.RawDirection.NextBlankLine:t=5;break;case b.RawDirection.WrappedLineStart:t=6;break;case b.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case b.RawDirection.WrappedLineColumnCenter:t=8;break;case b.RawDirection.WrappedLineEnd:t=9;break;case b.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case b.RawDirection.ViewPortTop:t=11;break;case b.RawDirection.ViewPortBottom:t=13;break;case b.RawDirection.ViewPortCenter:t=12;break;case b.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let o=0;switch(i.by){case b.RawUnit.Line:o=1;break;case b.RawUnit.WrappedLine:o=2;break;case b.RawUnit.Character:o=3;break;case b.RawUnit.HalfLine:o=4;break}return{direction:t,unit:o,select:!!i.select,value:i.value||1}}b.parse=n})(v||(e.CursorMove=v={}))}),define(ne[521],se([1,0,76,9,5,23]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class S{constructor(w){this._selTrackedRange=null,this._trackSelection=!0,this._setState(w,new L.SingleCursorState(new y.Range(1,1,1,1),0,0,new k.Position(1,1),0),new L.SingleCursorState(new y.Range(1,1,1,1),0,0,new k.Position(1,1),0))}dispose(w){this._removeTrackedRange(w)}startTrackingSelection(w){this._trackSelection=!0,this._updateTrackedRange(w)}stopTrackingSelection(w){this._trackSelection=!1,this._removeTrackedRange(w)}_updateTrackedRange(w){this._trackSelection&&(this._selTrackedRange=w.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(w){this._selTrackedRange=w.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new L.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(w){const v=w.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!v.isEmpty()?D.Selection.fromRange(v.collapseToEnd(),this.modelState.selection.getDirection()):D.Selection.fromRange(v,this.modelState.selection.getDirection())}ensureValidState(w){this._setState(w,this.modelState,this.viewState)}setState(w,v,b){this._setState(w,v,b)}static _validatePositionWithCache(w,v,b,a){return v.equals(b)?a:w.normalizePosition(v,2)}static _validateViewState(w,v){const b=v.position,a=v.selectionStart.getStartPosition(),n=v.selectionStart.getEndPosition(),i=w.normalizePosition(b,2),t=this._validatePositionWithCache(w,a,b,i),o=this._validatePositionWithCache(w,n,a,t);return b.equals(i)&&a.equals(t)&&n.equals(o)?v:new L.SingleCursorState(y.Range.fromPositions(t,o),v.selectionStartKind,v.selectionStartLeftoverVisibleColumns+a.column-t.column,i,v.leftoverVisibleColumns+b.column-i.column)}_setState(w,v,b){if(b&&(b=S._validateViewState(w.viewModel,b)),v){const a=w.model.validateRange(v.selectionStart),n=v.selectionStart.equalsRange(a)?v.selectionStartLeftoverVisibleColumns:0,i=w.model.validatePosition(v.position),t=v.position.equals(i)?v.leftoverVisibleColumns:0;v=new L.SingleCursorState(a,v.selectionStartKind,n,i,t)}else{if(!b)return;const a=w.model.validateRange(w.coordinatesConverter.convertViewRangeToModelRange(b.selectionStart)),n=w.model.validatePosition(w.coordinatesConverter.convertViewPositionToModelPosition(b.position));v=new L.SingleCursorState(a,b.selectionStartKind,b.selectionStartLeftoverVisibleColumns,n,b.leftoverVisibleColumns)}if(b){const a=w.coordinatesConverter.validateViewRange(b.selectionStart,v.selectionStart),n=w.coordinatesConverter.validateViewPosition(b.position,v.position);b=new L.SingleCursorState(a,v.selectionStartKind,v.selectionStartLeftoverVisibleColumns,n,v.leftoverVisibleColumns)}else{const a=w.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(v.selectionStart.startLineNumber,v.selectionStart.startColumn)),n=w.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(v.selectionStart.endLineNumber,v.selectionStart.endColumn)),i=new y.Range(a.lineNumber,a.column,n.lineNumber,n.column),t=w.coordinatesConverter.convertModelPositionToViewPosition(v.position);b=new L.SingleCursorState(i,v.selectionStartKind,v.selectionStartLeftoverVisibleColumns,t,v.leftoverVisibleColumns)}this.modelState=v,this.viewState=b,this._updateTrackedRange(w)}}e.Cursor=S}),define(ne[522],se([1,0,13,62,76,521,9,5,23]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class v{constructor(a){this.context=a,this.cursors=[new D.Cursor(a)],this.lastAddedCursorIndex=0}dispose(){for(const a of this.cursors)a.dispose(this.context)}startTrackingSelections(){for(const a of this.cursors)a.startTrackingSelection(this.context)}stopTrackingSelections(){for(const a of this.cursors)a.stopTrackingSelection(this.context)}updateContext(a){this.context=a}ensureValidState(){for(const a of this.cursors)a.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(a=>a.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(a=>a.asCursorState())}getViewPositions(){return this.cursors.map(a=>a.viewState.position)}getTopMostViewPosition(){return(0,k.findFirstMinBy)(this.cursors,(0,L.compareBy)(a=>a.viewState.position,S.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,k.findLastMaxBy)(this.cursors,(0,L.compareBy)(a=>a.viewState.position,S.Position.compare)).viewState.position}getSelections(){return this.cursors.map(a=>a.modelState.selection)}getViewSelections(){return this.cursors.map(a=>a.viewState.selection)}setSelections(a){this.setStates(y.CursorState.fromModelSelections(a))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(a){a!==null&&(this.cursors[0].setState(this.context,a[0].modelState,a[0].viewState),this._setSecondaryStates(a.slice(1)))}_setSecondaryStates(a){const n=this.cursors.length-1,i=a.length;if(n<i){const t=i-n;for(let o=0;o<t;o++)this._addSecondaryCursor()}else if(n>i){const t=n-i;for(let o=0;o<t;o++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<i;t++)this.cursors[t+1].setState(this.context,a[t].modelState,a[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new D.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(a){this.lastAddedCursorIndex>=a+1&&this.lastAddedCursorIndex--,this.cursors[a+1].dispose(this.context),this.cursors.splice(a+1,1)}normalize(){if(this.cursors.length===1)return;const a=this.cursors.slice(0),n=[];for(let i=0,t=a.length;i<t;i++)n.push({index:i,selection:a[i].modelState.selection});n.sort((0,L.compareBy)(i=>i.selection,p.Range.compareRangesUsingStarts));for(let i=0;i<n.length-1;i++){const t=n[i],o=n[i+1],g=t.selection,m=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let c;if(m.isEmpty()||g.isEmpty()?c=m.getStartPosition().isBeforeOrEqual(g.getEndPosition()):c=m.getStartPosition().isBefore(g.getEndPosition()),c){const d=t.index<o.index?i:i+1,s=t.index<o.index?i+1:i,l=n[s].index,r=n[d].index,h=n[s].selection,u=n[d].selection;if(!h.equalsSelection(u)){const f=h.plusRange(u),C=h.selectionStartLineNumber===h.startLineNumber&&h.selectionStartColumn===h.startColumn,_=u.selectionStartLineNumber===u.startLineNumber&&u.selectionStartColumn===u.startColumn;let E;l===this.lastAddedCursorIndex?(E=C,this.lastAddedCursorIndex=r):E=_;let I;E?I=new w.Selection(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn):I=new w.Selection(f.endLineNumber,f.endColumn,f.startLineNumber,f.startColumn),n[d].selection=I;const T=y.CursorState.fromModelSelection(I);a[r].setState(this.context,T.modelState,T.viewState)}for(const f of n)f.index>l&&f.index--;a.splice(l,1),n.splice(s,1),this._removeSecondaryCursor(l-1),i--}}}}e.CursorCollection=v}),define(ne[523],se([1,0,116]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(D){if(D.autoClosingPairs?this._autoClosingPairs=D.autoClosingPairs.map(S=>new L.StandardAutoClosingPairConditional(S)):D.brackets?this._autoClosingPairs=D.brackets.map(S=>new L.StandardAutoClosingPairConditional({open:S[0],close:S[1]})):this._autoClosingPairs=[],D.__electricCharacterSupport&&D.__electricCharacterSupport.docComment){const S=D.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new L.StandardAutoClosingPairConditional({open:S.open,close:S.close||""}))}this._autoCloseBeforeForQuotes=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=D.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(D){return D?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`}),define(ne[524],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function L(y){return y.global&&(y.lastIndex=0),!0}class k{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&L(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&L(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&L(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&L(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let S=0;return this.shouldIncrease(D)&&(S+=1),this.shouldDecrease(D)&&(S+=2),this.shouldIndentNextLine(D)&&(S+=4),this.shouldIgnore(D)&&(S+=8),S}}e.IndentRulesSupport=k}),define(ne[525],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class L{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(y,D,S,p,w){if(y&&D){const v=this.doNavigateValueSet(D,w);if(v)return{range:y,value:v}}if(S&&p){const v=this.doNavigateValueSet(p,w);if(v)return{range:S,value:v}}return null}doNavigateValueSet(y,D){const S=this.numberReplace(y,D);return S!==null?S:this.textReplace(y,D)}numberReplace(y,D){const S=Math.pow(10,y.length-(y.lastIndexOf(".")+1));let p=Number(y);const w=parseFloat(y);return!isNaN(p)&&!isNaN(w)&&p===w?p===0&&!D?null:(p=Math.floor(p*S),p+=D?S:-S,String(p/S)):null}textReplace(y,D){return this.valueSetsReplace(this._defaultValueSet,y,D)}valueSetsReplace(y,D,S){let p=null;for(let w=0,v=y.length;p===null&&w<v;w++)p=this.valueSetReplace(y[w],D,S);return p}valueSetReplace(y,D,S){let p=y.indexOf(D);return p>=0?(p+=S?1:-1,p<0?p=y.length-1:p%=y.length,y[p]):null}}e.BasicInplaceReplace=L,L.INSTANCE=new L}),define(ne[526],se([1,0,274]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class k{constructor(v,b){this.languageId=v;const a=b.brackets?y(b.brackets):[],n=new L.CachedFunction(o=>{const g=new Set;return{info:new S(this,o,g),closing:g}}),i=new L.CachedFunction(o=>{const g=new Set,m=new Set;return{info:new p(this,o,g,m),opening:g,openingColorized:m}});for(const[o,g]of a){const m=n.get(o),c=i.get(g);m.closing.add(c.info),c.opening.add(m.info)}const t=b.colorizedBracketPairs?y(b.colorizedBracketPairs):a.filter(o=>!(o[0]==="<"&&o[1]===">"));for(const[o,g]of t){const m=n.get(o),c=i.get(g);m.closing.add(c.info),c.openingColorized.add(m.info),c.opening.add(m.info)}this._openingBrackets=new Map([...n.cachedValues].map(([o,g])=>[o,g.info])),this._closingBrackets=new Map([...i.cachedValues].map(([o,g])=>[o,g.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(v){return this._openingBrackets.get(v)}getClosingBracketInfo(v){return this._closingBrackets.get(v)}getBracketInfo(v){return this.getOpeningBracketInfo(v)||this.getClosingBracketInfo(v)}}e.LanguageBracketsConfiguration=k;function y(w){return w.filter(([v,b])=>v!==""&&b!=="")}class D{constructor(v,b){this.config=v,this.bracketText=b}get languageId(){return this.config.languageId}}e.BracketKindBase=D;class S extends D{constructor(v,b,a){super(v,b),this.openedBrackets=a,this.isOpeningBracket=!0}}e.OpeningBracketKind=S;class p extends D{constructor(v,b,a,n){super(v,b),this.openingBrackets=a,this.openingColorizedBrackets=n,this.isOpeningBracket=!1}closes(v){return v.config!==this.config?!1:this.openingBrackets.has(v)}closesColorized(v){return v.config!==this.config?!1:this.openingColorizedBrackets.has(v)}getOpeningBrackets(){return[...this.openingBrackets]}}e.ClosingBracketKind=p}),define(ne[527],se([1,0,12,11,116]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(p){p=p||{},p.brackets=p.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],p.brackets.forEach(w=>{const v=D._createOpenBracketRegExp(w[0]),b=D._createCloseBracketRegExp(w[1]);v&&b&&this._brackets.push({open:w[0],openRegExp:v,close:w[1],closeRegExp:b})}),this._regExpRules=p.onEnterRules||[]}onEnter(p,w,v,b){if(p>=3)for(let a=0,n=this._regExpRules.length;a<n;a++){const i=this._regExpRules[a];if([{reg:i.beforeText,text:v},{reg:i.afterText,text:b},{reg:i.previousLineText,text:w}].every(o=>o.reg?(o.reg.lastIndex=0,o.reg.test(o.text)):!0))return i.action}if(p>=2&&v.length>0&&b.length>0)for(let a=0,n=this._brackets.length;a<n;a++){const i=this._brackets[a];if(i.openRegExp.test(v)&&i.closeRegExp.test(b))return{indentAction:y.IndentAction.IndentOutdent}}if(p>=2&&v.length>0){for(let a=0,n=this._brackets.length;a<n;a++)if(this._brackets[a].openRegExp.test(v))return{indentAction:y.IndentAction.Indent}}return null}static _createOpenBracketRegExp(p){let w=k.escapeRegExpCharacters(p);return/\B/.test(w.charAt(0))||(w="\\b"+w),w+="\\s*$",D._safeRegExp(w)}static _createCloseBracketRegExp(p){let w=k.escapeRegExpCharacters(p);return/\B/.test(w.charAt(w.length-1))||(w=w+"\\b"),w="^\\s*"+w,D._safeRegExp(w)}static _safeRegExp(p){try{return new RegExp(p)}catch(w){return(0,L.onUnexpectedError)(w),null}}}e.OnEnterSupport=D}),define(ne[528],se([1,0,39]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class k{constructor(g,m,c,d,s){this._parsedThemeRuleBrand=void 0,this.token=g,this.index=m,this.fontStyle=c,this.foreground=d,this.background=s}}e.ParsedTokenThemeRule=k;function y(o){if(!o||!Array.isArray(o))return[];const g=[];let m=0;for(let c=0,d=o.length;c<d;c++){const s=o[c];let l=-1;if(typeof s.fontStyle=="string"){l=0;const u=s.fontStyle.split(" ");for(let f=0,C=u.length;f<C;f++)switch(u[f]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let r=null;typeof s.foreground=="string"&&(r=s.foreground);let h=null;typeof s.background=="string"&&(h=s.background),g[m++]=new k(s.token||"",c,l,r,h)}return g}e.parseTokenTheme=y;function D(o,g){o.sort((f,C)=>{const _=a(f.token,C.token);return _!==0?_:f.index-C.index});let m=0,c="000000",d="ffffff";for(;o.length>=1&&o[0].token==="";){const f=o.shift();f.fontStyle!==-1&&(m=f.fontStyle),f.foreground!==null&&(c=f.foreground),f.background!==null&&(d=f.background)}const s=new p;for(const f of g)s.getId(f);const l=s.getId(c),r=s.getId(d),h=new n(m,l,r),u=new i(h);for(let f=0,C=o.length;f<C;f++){const _=o[f];u.insert(_.token,_.fontStyle,s.getId(_.foreground),s.getId(_.background))}return new w(s,u)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class p{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(g){if(g===null)return 0;const m=g.match(S);if(!m)throw new Error("Illegal value for token color: "+g);g=m[1].toUpperCase();let c=this._color2id.get(g);return c||(c=++this._lastColorId,this._color2id.set(g,c),this._id2color[c]=L.Color.fromHex("#"+g),c)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=p;class w{static createFromRawTokenTheme(g,m){return this.createFromParsedTokenTheme(y(g),m)}static createFromParsedTokenTheme(g,m){return D(g,m)}constructor(g,m){this._colorMap=g,this._root=m,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(g){return this._root.match(g)}match(g,m){let c=this._cache.get(m);if(typeof c>"u"){const d=this._match(m),s=b(m);c=(d.metadata|s<<8)>>>0,this._cache.set(m,c)}return(c|g<<0)>>>0}}e.TokenTheme=w;const v=/\b(comment|string|regex|regexp)\b/;function b(o){const g=o.match(v);if(!g)return 0;switch(g[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=b;function a(o,g){return o<g?-1:o>g?1:0}e.strcmp=a;class n{constructor(g,m,c){this._themeTrieElementRuleBrand=void 0,this._fontStyle=g,this._foreground=m,this._background=c,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new n(this._fontStyle,this._foreground,this._background)}acceptOverwrite(g,m,c){g!==-1&&(this._fontStyle=g),m!==0&&(this._foreground=m),c!==0&&(this._background=c),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=n;class i{constructor(g){this._themeTrieElementBrand=void 0,this._mainRule=g,this._children=new Map}match(g){if(g==="")return this._mainRule;const m=g.indexOf(".");let c,d;m===-1?(c=g,d=""):(c=g.substring(0,m),d=g.substring(m+1));const s=this._children.get(c);return typeof s<"u"?s.match(d):this._mainRule}insert(g,m,c,d){if(g===""){this._mainRule.acceptOverwrite(m,c,d);return}const s=g.indexOf(".");let l,r;s===-1?(l=g,r=""):(l=g.substring(0,s),r=g.substring(s+1));let h=this._children.get(l);typeof h>"u"&&(h=new i(this._mainRule.clone()),this._children.set(l,h)),h.insert(r,m,c,d)}}e.ThemeTrieElement=i;function t(o){const g=[];for(let m=1,c=o.length;m<c;m++){const d=o[m];g[m]=`.mtk${m} { color: ${d}; }`}return g.push(".mtki { font-style: italic; }"),g.push(".mtkb { font-weight: bold; }"),g.push(".mtku { text-decoration: underline; text-underline-position: under; }"),g.push(".mtks { text-decoration: line-through; }"),g.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),g.join(`
`)}e.generateTokensCSSForColorMap=t}),define(ne[40],se([1,0,54]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.isITextSnapshot=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.GlyphMarginLane=e.OverviewRulerLane=void 0;var k;(function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=4]="Right",t[t.Full=7]="Full"})(k||(e.OverviewRulerLane=k={}));var y;(function(t){t[t.Left=1]="Left",t[t.Center=2]="Center",t[t.Right=3]="Right"})(y||(e.GlyphMarginLane=y={}));var D;(function(t){t[t.Inline=1]="Inline",t[t.Gutter=2]="Gutter"})(D||(e.MinimapPosition=D={}));var S;(function(t){t[t.Both=0]="Both",t[t.Right=1]="Right",t[t.Left=2]="Left",t[t.None=3]="None"})(S||(e.InjectedTextCursorStops=S={}));class p{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(o){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,o.tabSize|0),o.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,o.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!o.insertSpaces,this.defaultEOL=o.defaultEOL|0,this.trimAutoWhitespace=!!o.trimAutoWhitespace,this.bracketPairColorizationOptions=o.bracketPairColorizationOptions}equals(o){return this.tabSize===o.tabSize&&this._indentSizeIsTabSize===o._indentSizeIsTabSize&&this.indentSize===o.indentSize&&this.insertSpaces===o.insertSpaces&&this.defaultEOL===o.defaultEOL&&this.trimAutoWhitespace===o.trimAutoWhitespace&&(0,L.equals)(this.bracketPairColorizationOptions,o.bracketPairColorizationOptions)}createChangeEvent(o){return{tabSize:this.tabSize!==o.tabSize,indentSize:this.indentSize!==o.indentSize,insertSpaces:this.insertSpaces!==o.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==o.trimAutoWhitespace}}}e.TextModelResolvedOptions=p;class w{constructor(o,g){this._findMatchBrand=void 0,this.range=o,this.matches=g}}e.FindMatch=w;function v(t){return t&&typeof t.read=="function"}e.isITextSnapshot=v;class b{constructor(o,g,m,c,d,s){this.identifier=o,this.range=g,this.text=m,this.forceMoveMarkers=c,this.isAutoWhitespaceEdit=d,this._isTracked=s}}e.ValidAnnotatedEditOperation=b;class a{constructor(o,g,m){this.regex=o,this.wordSeparators=g,this.simpleSearch=m}}e.SearchData=a;class n{constructor(o,g,m){this.reverseEdits=o,this.changes=g,this.trimAutoWhitespaceLineNumbers=m}}e.ApplyEditsResult=n;function i(t){return!t.isTooLargeForSyncing()&&!t.isForSimpleWidget}e.shouldSynchronizeModel=i}),define(ne[92],se([1,0,11,5]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthEquals=e.sumLengths=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class y{constructor(h,u){this.lineCount=h,this.columnCount=u}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=y,y.zero=new y(0,0);function D(r,h,u,f){return r!==u?w(u-r,f):w(0,f-h)}e.lengthDiff=D,e.lengthZero=0;function S(r){return r===0}e.lengthIsZero=S;const p=2**26;function w(r,h){return r*p+h}e.toLength=w;function v(r){const h=r,u=Math.floor(h/p),f=h-u*p;return new y(u,f)}e.lengthToObj=v;function b(r){return Math.floor(r/p)}e.lengthGetLineCount=b;function a(r){return r}e.lengthGetColumnCountIfZeroLineCount=a;function n(r,h){let u=r+h;return h>=p&&(u=u-r%p),u}e.lengthAdd=n;function i(r,h){return r.reduce((u,f)=>n(u,h(f)),e.lengthZero)}e.sumLengths=i;function t(r,h){return r===h}e.lengthEquals=t;function o(r,h){const u=r,f=h;if(f-u<=0)return e.lengthZero;const _=Math.floor(u/p),E=Math.floor(f/p),I=f-E*p;if(_===E){const T=u-_*p;return w(0,I-T)}else return w(E-_,I)}e.lengthDiffNonNegative=o;function g(r,h){return r<h}e.lengthLessThan=g;function m(r,h){return r<=h}e.lengthLessThanEqual=m;function c(r,h){return r>=h}e.lengthGreaterThanEqual=c;function d(r){return w(r.lineNumber-1,r.column-1)}e.positionToLength=d;function s(r,h){const u=r,f=Math.floor(u/p),C=u-f*p,_=h,E=Math.floor(_/p),I=_-E*p;return new k.Range(f+1,C+1,E+1,I+1)}e.lengthsToRange=s;function l(r){const h=(0,L.splitLines)(r);return w(h.length-1,h[h.length-1].length)}e.lengthOfString=l}),define(ne[185],se([1,0,5,92]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class y{static fromModelContentChanges(w){return w.map(b=>{const a=L.Range.lift(b.range);return new y((0,k.positionToLength)(a.getStartPosition()),(0,k.positionToLength)(a.getEndPosition()),(0,k.lengthOfString)(b.text))}).reverse()}constructor(w,v,b){this.startOffset=w,this.endOffset=v,this.newLength=b}toString(){return`[${(0,k.lengthToObj)(this.startOffset)}...${(0,k.lengthToObj)(this.endOffset)}) -> ${(0,k.lengthToObj)(this.newLength)}`}}e.TextEditInfo=y;class D{constructor(w){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=w.map(v=>S.from(v))}getOffsetBeforeChange(w){return this.adjustNextEdit(w),this.translateCurToOld(w)}getDistanceToNextChange(w){this.adjustNextEdit(w);const v=this.edits[this.nextEditIdx],b=v?this.translateOldToCur(v.offsetObj):null;return b===null?null:(0,k.lengthDiffNonNegative)(w,b)}translateOldToCur(w){return w.lineCount===this.deltaLineIdxInOld?(0,k.toLength)(w.lineCount+this.deltaOldToNewLineCount,w.columnCount+this.deltaOldToNewColumnCount):(0,k.toLength)(w.lineCount+this.deltaOldToNewLineCount,w.columnCount)}translateCurToOld(w){const v=(0,k.lengthToObj)(w);return v.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,k.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount-this.deltaOldToNewColumnCount):(0,k.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount)}adjustNextEdit(w){for(;this.nextEditIdx<this.edits.length;){const v=this.edits[this.nextEditIdx],b=this.translateOldToCur(v.endOffsetAfterObj);if((0,k.lengthLessThanEqual)(b,w)){this.nextEditIdx++;const a=(0,k.lengthToObj)(b),n=(0,k.lengthToObj)(this.translateOldToCur(v.endOffsetBeforeObj)),i=a.lineCount-n.lineCount;this.deltaOldToNewLineCount+=i;const t=this.deltaLineIdxInOld===v.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,o=a.columnCount-n.columnCount;this.deltaOldToNewColumnCount=t+o,this.deltaLineIdxInOld=v.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=D;class S{static from(w){return new S(w.startOffset,w.endOffset,w.newLength)}constructor(w,v,b){this.endOffsetBeforeObj=(0,k.lengthToObj)(v),this.endOffsetAfterObj=(0,k.lengthToObj)((0,k.lengthAdd)(w,b)),this.offsetObj=(0,k.lengthToObj)(w)}}}),define(ne[296],se([1,0,13,185,92]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineTextEditInfos=void 0;function D(w,v){if(w.length===0)return v;if(v.length===0)return w;const b=new L.ArrayQueue(p(w)),a=p(v);a.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let n=b.dequeue();function i(m){if(m===void 0){const d=b.takeWhile(s=>!0)||[];return n&&d.unshift(n),d}const c=[];for(;n&&!(0,y.lengthIsZero)(m);){const[d,s]=n.splitAt(m);c.push(d),m=(0,y.lengthDiffNonNegative)(d.lengthAfter,m),n=s??b.dequeue()}return(0,y.lengthIsZero)(m)||c.push(new S(!1,m,m)),c}const t=[];function o(m,c,d){if(t.length>0&&(0,y.lengthEquals)(t[t.length-1].endOffset,m)){const s=t[t.length-1];t[t.length-1]=new k.TextEditInfo(s.startOffset,c,(0,y.lengthAdd)(s.newLength,d))}else t.push({startOffset:m,endOffset:c,newLength:d})}let g=y.lengthZero;for(const m of a){const c=i(m.lengthBefore);if(m.modified){const d=(0,y.sumLengths)(c,l=>l.lengthBefore),s=(0,y.lengthAdd)(g,d);o(g,s,m.lengthAfter),g=s}else for(const d of c){const s=g;g=(0,y.lengthAdd)(g,d.lengthBefore),d.modified&&o(s,g,d.lengthAfter)}}return t}e.combineTextEditInfos=D;class S{constructor(v,b,a){this.modified=v,this.lengthBefore=b,this.lengthAfter=a}splitAt(v){const b=(0,y.lengthDiffNonNegative)(v,this.lengthAfter);return(0,y.lengthEquals)(b,y.lengthZero)?[this,void 0]:this.modified?[new S(this.modified,this.lengthBefore,v),new S(this.modified,y.lengthZero,b)]:[new S(this.modified,v,v),new S(this.modified,b,b)]}toString(){return`${this.modified?"M":"U"}:${(0,y.lengthToObj)(this.lengthBefore)} -> ${(0,y.lengthToObj)(this.lengthAfter)}`}}function p(w){const v=[];let b=y.lengthZero;for(const a of w){const n=(0,y.lengthDiffNonNegative)(b,a.startOffset);(0,y.lengthIsZero)(n)||v.push(new S(!1,n,n));const i=(0,y.lengthDiffNonNegative)(a.startOffset,a.endOffset);v.push(new S(!0,i,a.newLength)),b=a.endOffset}return v}}),define(ne[529],se([1,0,92]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class k{constructor(p){this.lastOffset=L.lengthZero,this.nextNodes=[p],this.offsets=[L.lengthZero],this.idxs=[]}readLongestNodeAt(p,w){if((0,L.lengthLessThan)(p,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=p;;){const v=D(this.nextNodes);if(!v)return;const b=D(this.offsets);if((0,L.lengthLessThan)(p,b))return;if((0,L.lengthLessThan)(b,p))if((0,L.lengthAdd)(b,v.length)<=p)this.nextNodeAfterCurrent();else{const a=y(v);a!==-1?(this.nextNodes.push(v.getChild(a)),this.offsets.push(b),this.idxs.push(a)):this.nextNodeAfterCurrent()}else{if(w(v))return this.nextNodeAfterCurrent(),v;{const a=y(v);if(a===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(v.getChild(a)),this.offsets.push(b),this.idxs.push(a)}}}}nextNodeAfterCurrent(){for(;;){const p=D(this.offsets),w=D(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const v=D(this.nextNodes),b=y(v,this.idxs[this.idxs.length-1]);if(b!==-1){this.nextNodes.push(v.getChild(b)),this.offsets.push((0,L.lengthAdd)(p,w.length)),this.idxs[this.idxs.length-1]=b;break}else this.idxs.pop()}}}e.NodeReader=k;function y(S,p=-1){for(;;){if(p++,p>=S.childrenLength)return-1;if(S.getChild(p))return p}}function D(S){return S.length>0?S[S.length-1]:void 0}}),define(ne[138],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const L=[];class k{static create(S,p){if(S<=128&&p.length===0){let w=k.cache[S];return w||(w=new k(S,p),k.cache[S]=w),w}return new k(S,p)}static getEmpty(){return this.empty}constructor(S,p){this.items=S,this.additionalItems=p}add(S,p){const w=p.getKey(S);let v=w>>5;if(v===0){const a=1<<w|this.items;return a===this.items?this:k.create(a,this.additionalItems)}v--;const b=this.additionalItems.slice(0);for(;b.length<v;)b.push(0);return b[v]|=1<<(w&31),k.create(this.items,b)}merge(S){const p=this.items|S.items;if(this.additionalItems===L&&S.additionalItems===L)return p===this.items?this:p===S.items?S:k.create(p,L);const w=[];for(let v=0;v<Math.max(this.additionalItems.length,S.additionalItems.length);v++){const b=this.additionalItems[v]||0,a=S.additionalItems[v]||0;w.push(b|a)}return k.create(p,w)}intersects(S){if(this.items&S.items)return!0;for(let p=0;p<Math.min(this.additionalItems.length,S.additionalItems.length);p++)if(this.additionalItems[p]&S.additionalItems[p])return!0;return!1}}e.SmallImmutableSet=k,k.cache=new Array(129),k.empty=k.create(0,L),e.identityKeyProvider={getKey(D){return D}};class y{constructor(){this.items=new Map}getKey(S){let p=this.items.get(S);return p===void 0&&(p=this.items.size,this.items.set(S,p)),p}}e.DenseKeyProvider=y}),define(ne[186],se([1,0,12,85,92,138]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class S{get length(){return this._length}constructor(d){this._length=d}}class p extends S{static create(d,s,l){let r=d.length;return s&&(r=(0,y.lengthAdd)(r,s.length)),l&&(r=(0,y.lengthAdd)(r,l.length)),new p(r,d,s,l,s?s.missingOpeningBracketIds:D.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(d){switch(d){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const d=[];return d.push(this.openingBracket),this.child&&d.push(this.child),this.closingBracket&&d.push(this.closingBracket),d}constructor(d,s,l,r,h){super(d),this.openingBracket=s,this.child=l,this.closingBracket=r,this.missingOpeningBracketIds=h}canBeReused(d){return!(this.closingBracket===null||d.intersects(this.missingOpeningBracketIds))}deepClone(){return new p(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(d,s){return this.child?this.child.computeMinIndentation((0,y.lengthAdd)(d,this.openingBracket.length),s):Number.MAX_SAFE_INTEGER}}e.PairAstNode=p;class w extends S{static create23(d,s,l,r=!1){let h=d.length,u=d.missingOpeningBracketIds;if(d.listHeight!==s.listHeight)throw new Error("Invalid list heights");if(h=(0,y.lengthAdd)(h,s.length),u=u.merge(s.missingOpeningBracketIds),l){if(d.listHeight!==l.listHeight)throw new Error("Invalid list heights");h=(0,y.lengthAdd)(h,l.length),u=u.merge(l.missingOpeningBracketIds)}return r?new b(h,d.listHeight+1,d,s,l,u):new v(h,d.listHeight+1,d,s,l,u)}static getEmpty(){return new n(y.lengthZero,0,[],D.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(d,s,l){super(d),this.listHeight=s,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const d=this.childrenLength;if(d===0)return;const s=this.getChild(d-1),l=s.kind===4?s.toMutable():s;return s!==l&&this.setChild(d-1,l),l}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const s=this.getChild(0),l=s.kind===4?s.toMutable():s;return s!==l&&this.setChild(0,l),l}canBeReused(d){if(d.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let s=this;for(;s.kind===4;){const l=s.childrenLength;if(l===0)throw new L.BugIndicatingError;s=s.getChild(l-1)}return s.canBeReused(d)}handleChildrenChanged(){this.throwIfImmutable();const d=this.childrenLength;let s=this.getChild(0).length,l=this.getChild(0).missingOpeningBracketIds;for(let r=1;r<d;r++){const h=this.getChild(r);s=(0,y.lengthAdd)(s,h.length),l=l.merge(h.missingOpeningBracketIds)}this._length=s,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}computeMinIndentation(d,s){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let l=Number.MAX_SAFE_INTEGER,r=d;for(let h=0;h<this.childrenLength;h++){const u=this.getChild(h);u&&(l=Math.min(l,u.computeMinIndentation(r,s)),r=(0,y.lengthAdd)(r,u.length))}return this.cachedMinIndentation=l,l}}e.ListAstNode=w;class v extends w{get childrenLength(){return this._item3!==null?3:2}getChild(d){switch(d){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(d,s){switch(d){case 0:this._item1=s;return;case 1:this._item2=s;return;case 2:this._item3=s;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(d,s,l,r,h,u){super(d,s,u),this._item1=l,this._item2=r,this._item3=h}deepClone(){return new v(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=d,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item3;return this._item3=null,this.handleChildrenChanged(),d}prependChildOfSameHeight(d){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=d,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const d=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),d}toMutable(){return this}}class b extends v{toMutable(){return new v(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class a extends w{get childrenLength(){return this._children.length}getChild(d){return this._children[d]}setChild(d,s){this._children[d]=s}get children(){return this._children}constructor(d,s,l,r){super(d,s,r),this._children=l}deepClone(){const d=new Array(this._children.length);for(let s=0;s<this._children.length;s++)d[s]=this._children[s].deepClone();return new a(this.length,this.listHeight,d,this.missingOpeningBracketIds)}appendChildOfSameHeight(d){this.throwIfImmutable(),this._children.push(d),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const d=this._children.pop();return this.handleChildrenChanged(),d}prependChildOfSameHeight(d){this.throwIfImmutable(),this._children.unshift(d),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const d=this._children.shift();return this.handleChildrenChanged(),d}toMutable(){return this}}class n extends a{toMutable(){return new a(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const i=[];class t extends S{get listHeight(){return 0}get childrenLength(){return 0}getChild(d){return null}get children(){return i}deepClone(){return this}}class o extends t{get kind(){return 0}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}canBeReused(d){return!0}computeMinIndentation(d,s){const l=(0,y.lengthToObj)(d),r=(l.columnCount===0?l.lineCount:l.lineCount+1)+1,h=(0,y.lengthGetLineCount)((0,y.lengthAdd)(d,this.length))+1;let u=Number.MAX_SAFE_INTEGER;for(let f=r;f<=h;f++){const C=s.getLineFirstNonWhitespaceColumn(f),_=s.getLineContent(f);if(C===0)continue;const E=k.CursorColumns.visibleColumnFromColumn(_,C,s.getOptions().tabSize);u=Math.min(u,E)}return u}}e.TextAstNode=o;class g extends t{static create(d,s,l){return new g(d,s,l)}get kind(){return 1}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}constructor(d,s,l){super(d),this.bracketInfo=s,this.bracketIds=l}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(d){return!1}computeMinIndentation(d,s){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=g;class m extends t{get kind(){return 3}constructor(d,s){super(s),this.missingOpeningBracketIds=d}canBeReused(d){return!d.intersects(this.missingOpeningBracketIds)}computeMinIndentation(d,s){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=m}),define(ne[530],se([1,0,186]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function k(v){if(v.length===0)return null;if(v.length===1)return v[0];let b=0;function a(){if(b>=v.length)return null;const o=b,g=v[o].listHeight;for(b++;b<v.length&&v[b].listHeight===g;)b++;return b-o>=2?y(o===0&&b===v.length?v:v.slice(o,b),!1):v[o]}let n=a(),i=a();if(!i)return n;for(let o=a();o;o=a())D(n,i)<=D(i,o)?(n=S(n,i),i=o):i=S(i,o);return S(n,i)}e.concat23Trees=k;function y(v,b=!1){if(v.length===0)return null;if(v.length===1)return v[0];let a=v.length;for(;a>3;){const n=a>>1;for(let i=0;i<n;i++){const t=i<<1;v[i]=L.ListAstNode.create23(v[t],v[t+1],t+3===a?v[t+2]:null,b)}a=n}return L.ListAstNode.create23(v[0],v[1],a>=3?v[2]:null,b)}e.concat23TreesOfSameHeight=y;function D(v,b){return Math.abs(v.listHeight-b.listHeight)}function S(v,b){return v.listHeight===b.listHeight?L.ListAstNode.create23(v,b,null,!1):v.listHeight>b.listHeight?p(v,b):w(b,v)}function p(v,b){v=v.toMutable();let a=v;const n=[];let i;for(;;){if(b.listHeight===a.listHeight){i=b;break}if(a.kind!==4)throw new Error("unexpected");n.push(a),a=a.makeLastElementMutable()}for(let t=n.length-1;t>=0;t--){const o=n[t];i?o.childrenLength>=3?i=L.ListAstNode.create23(o.unappendChild(),i,null,!1):(o.appendChildOfSameHeight(i),i=void 0):o.handleChildrenChanged()}return i?L.ListAstNode.create23(v,i,null,!1):v}function w(v,b){v=v.toMutable();let a=v;const n=[];for(;b.listHeight!==a.listHeight;){if(a.kind!==4)throw new Error("unexpected");n.push(a),a=a.makeFirstElementMutable()}let i=b;for(let t=n.length-1;t>=0;t--){const o=n[t];i?o.childrenLength>=3?i=L.ListAstNode.create23(i,o.unprependChild(),null,!1):(o.prependChildOfSameHeight(i),i=void 0):o.handleChildrenChanged()}return i?L.ListAstNode.create23(i,v,null,!1):v}}),define(ne[297],se([1,0,186,185,138,92,530,529]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function w(b,a,n,i){return new v(b,a,n,i).parseDocument()}e.parseDocument=w;class v{constructor(a,n,i,t){if(this.tokenizer=a,this.createImmutableLists=t,this._itemsConstructed=0,this._itemsFromCache=0,i&&t)throw new Error("Not supported");this.oldNodeReader=i?new p.NodeReader(i):void 0,this.positionMapper=new k.BeforeEditPositionMapper(n)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let a=this.parseList(y.SmallImmutableSet.getEmpty(),0);return a||(a=L.ListAstNode.getEmpty()),a}parseList(a,n){const i=[];for(;;){let o=this.tryReadChildFromCache(a);if(!o){const g=this.tokenizer.peek();if(!g||g.kind===2&&g.bracketIds.intersects(a))break;o=this.parseChild(a,n+1)}o.kind===4&&o.childrenLength===0||i.push(o)}return this.oldNodeReader?(0,S.concat23Trees)(i):(0,S.concat23TreesOfSameHeight)(i,this.createImmutableLists)}tryReadChildFromCache(a){if(this.oldNodeReader){const n=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(n===null||!(0,D.lengthIsZero)(n)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),t=>n!==null&&!(0,D.lengthLessThan)(t.length,n)?!1:t.canBeReused(a));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(a,n){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new L.InvalidBracketAstNode(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(n>300)return new L.TextAstNode(i.length);const t=a.merge(i.bracketIds),o=this.parseList(t,n+1),g=this.tokenizer.peek();return g&&g.kind===2&&(g.bracketId===i.bracketId||g.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),L.PairAstNode.create(i.astNode,o,g.astNode)):L.PairAstNode.create(i.astNode,o,null)}default:throw new Error("unexpected")}}}}),define(ne[215],se([1,0,12,136,186,92,138]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class p{constructor(n,i,t,o,g){this.length=n,this.kind=i,this.bracketId=t,this.bracketIds=o,this.astNode=g}}e.Token=p;class w{constructor(n,i){this.textModel=n,this.bracketTokens=i,this.reader=new v(this.textModel,this.bracketTokens),this._offset=D.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=n.getLineCount(),this.textBufferLastLineLength=n.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,D.toLength)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(n){this.didPeek=!1,this._offset=(0,D.lengthAdd)(this._offset,n);const i=(0,D.lengthToObj)(this._offset);this.reader.setPosition(i.lineCount,i.columnCount)}read(){let n;return this.peeked?(this.didPeek=!1,n=this.peeked):n=this.reader.read(),n&&(this._offset=(0,D.lengthAdd)(this._offset,n.length)),n}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=w;class v{constructor(n,i){this.textModel=n,this.bracketTokens=i,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=n.getLineCount(),this.textBufferLastLineLength=n.getLineLength(this.textBufferLineCount)}setPosition(n,i){n===this.lineIdx?(this.lineCharOffset=i,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=n,this.lineCharOffset=i,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const g=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(g.length),g}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const n=this.lineIdx,i=this.lineCharOffset;let t=0;for(;;){const g=this.lineTokens,m=g.getCount();let c=null;if(this.lineTokenOffset<m){const d=g.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<m&&d===g.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const s=k.TokenMetadata.getTokenType(d)===0,l=k.TokenMetadata.containsBalancedBrackets(d),r=g.getEndOffset(this.lineTokenOffset);if(l&&s&&this.lineCharOffset<r){const h=g.getLanguageId(this.lineTokenOffset),u=this.line.substring(this.lineCharOffset,r),f=this.bracketTokens.getSingleLanguageBracketTokens(h),C=f.regExpGlobal;if(C){C.lastIndex=0;const _=C.exec(u);_&&(c=f.getToken(_[0]),c&&(this.lineCharOffset+=_.index))}}if(t+=r-this.lineCharOffset,c)if(n!==this.lineIdx||i!==this.lineCharOffset){this.peekedToken=c;break}else return this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(c.length),c;else this.lineTokenOffset++,this.lineCharOffset=r}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,t+=33,t>1e3))break;if(t>1500)break}const o=(0,D.lengthDiff)(n,i,this.lineIdx,this.lineCharOffset);return new p(o,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(o))}}class b{constructor(n,i){this.text=n,this._offset=D.lengthZero,this.idx=0;const t=i.getRegExpStr(),o=t?new RegExp(t+`|
`,"gi"):null,g=[];let m,c=0,d=0,s=0,l=0;const r=[];for(let f=0;f<60;f++)r.push(new p((0,D.toLength)(0,f),0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode((0,D.toLength)(0,f))));const h=[];for(let f=0;f<60;f++)h.push(new p((0,D.toLength)(1,f),0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode((0,D.toLength)(1,f))));if(o)for(o.lastIndex=0;(m=o.exec(n))!==null;){const f=m.index,C=m[0];if(C===`
`)c++,d=f+1;else{if(s!==f){let _;if(l===c){const E=f-s;if(E<r.length)_=r[E];else{const I=(0,D.toLength)(0,E);_=new p(I,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(I))}}else{const E=c-l,I=f-d;if(E===1&&I<h.length)_=h[I];else{const T=(0,D.toLength)(E,I);_=new p(T,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(T))}}g.push(_)}g.push(i.getToken(C)),s=f+C.length,l=c}}const u=n.length;if(s!==u){const f=l===c?(0,D.toLength)(0,u-s):(0,D.toLength)(c-l,u-d);g.push(new p(f,0,-1,S.SmallImmutableSet.getEmpty(),new y.TextAstNode(f)))}this.length=(0,D.toLength)(c,u-d),this.tokens=g}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(n){throw new L.NotSupportedError}}e.FastTokenizer=b}),define(ne[298],se([1,0,11,186,92,138,215]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class p{static createFromLanguage(a,n){function i(o){return n.getKey(`${o.languageId}:::${o.bracketText}`)}const t=new Map;for(const o of a.bracketsNew.openingBrackets){const g=(0,y.toLength)(0,o.bracketText.length),m=i(o),c=D.SmallImmutableSet.getEmpty().add(m,D.identityKeyProvider);t.set(o.bracketText,new S.Token(g,1,m,c,k.BracketAstNode.create(g,o,c)))}for(const o of a.bracketsNew.closingBrackets){const g=(0,y.toLength)(0,o.bracketText.length);let m=D.SmallImmutableSet.getEmpty();const c=o.getOpeningBrackets();for(const d of c)m=m.add(i(d),D.identityKeyProvider);t.set(o.bracketText,new S.Token(g,2,i(c[0]),m,k.BracketAstNode.create(g,o,m)))}return new p(t)}constructor(a){this.map=a,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const a=[...this.map.keys()];return a.sort(),a.reverse(),a.map(n=>w(n)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const a=this.getRegExpStr();this._regExpGlobal=a?new RegExp(a,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(a){return this.map.get(a.toLowerCase())}findClosingTokenText(a){for(const[n,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(a))return n}get isEmpty(){return this.map.size===0}}e.BracketTokens=p;function w(b){let a=(0,L.escapeRegExpCharacters)(b);return/^[\w ]+/.test(b)&&(a=`\\b${a}`),/[\w ]+$/.test(b)&&(a=`${a}\\b`),a}class v{constructor(a,n){this.denseKeyProvider=a,this.getLanguageConfiguration=n,this.languageIdToBracketTokens=new Map}didLanguageChange(a){return this.languageIdToBracketTokens.has(a)}getSingleLanguageBracketTokens(a){let n=this.languageIdToBracketTokens.get(a);return n||(n=p.createFromLanguage(this.getLanguageConfiguration(a),this.denseKeyProvider),this.languageIdToBracketTokens.set(a,n)),n}}e.LanguageAgnosticBracketTokens=v}),define(ne[531],se([1,0,298,92,297,138,215]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=void 0;function p(v,b){const a=new D.DenseKeyProvider,n=new L.LanguageAgnosticBracketTokens(a,c=>b.getLanguageConfiguration(c)),i=new S.TextBufferTokenizer(new w([v]),n),t=(0,y.parseDocument)(i,[],void 0,!0);let o="";const g=v.getLineContent();function m(c,d){if(c.kind===2)if(m(c.openingBracket,d),d=(0,k.lengthAdd)(d,c.openingBracket.length),c.child&&(m(c.child,d),d=(0,k.lengthAdd)(d,c.child.length)),c.closingBracket)m(c.closingBracket,d),d=(0,k.lengthAdd)(d,c.closingBracket.length);else{const l=n.getSingleLanguageBracketTokens(c.openingBracket.languageId).findClosingTokenText(c.openingBracket.bracketIds);o+=l}else if(c.kind!==3){if(c.kind===0||c.kind===1)o+=g.substring((0,k.lengthGetColumnCountIfZeroLineCount)(d),(0,k.lengthGetColumnCountIfZeroLineCount)((0,k.lengthAdd)(d,c.length)));else if(c.kind===4)for(const s of c.children)m(s,d),d=(0,k.lengthAdd)(d,s.length)}}return m(t,k.lengthZero),o}e.fixBracketsInLine=p;class w{constructor(b){this.lines=b,this.tokenization={getLineTokens:a=>this.lines[a-1]}}getLineCount(){return this.lines.length}getLineLength(b){return this.lines[b-1].getLineContent().length}}}),define(ne[532],se([1,0,13]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedArray=void 0;class k{constructor(S){this._default=S,this._store=[]}get(S){return S<this._store.length?this._store[S]:this._default}set(S,p){for(;S>=this._store.length;)this._store[this._store.length]=this._default;this._store[S]=p}replace(S,p,w){if(S>=this._store.length)return;if(p===0){this.insert(S,w);return}else if(w===0){this.delete(S,p);return}const v=this._store.slice(0,S),b=this._store.slice(S+p),a=y(w,this._default);this._store=v.concat(a,b)}delete(S,p){p===0||S>=this._store.length||this._store.splice(S,p)}insert(S,p){if(p===0||S>=this._store.length)return;const w=[];for(let v=0;v<p;v++)w[v]=this._default;this._store=(0,L.arrayInsert)(this._store,S,w)}}e.FixedArray=k;function y(D,S){const p=[];for(let w=0;w<D;w++)p[w]=S;return p}}),define(ne[533],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class L{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(D,S,p,w,v){v.spacesDiff=0,v.looksLikeAlignment=!1;let b;for(b=0;b<S&&b<w;b++){const m=D.charCodeAt(b),c=p.charCodeAt(b);if(m!==c)break}let a=0,n=0;for(let m=b;m<S;m++)D.charCodeAt(m)===32?a++:n++;let i=0,t=0;for(let m=b;m<w;m++)p.charCodeAt(m)===32?i++:t++;if(a>0&&n>0||i>0&&t>0)return;const o=Math.abs(n-t),g=Math.abs(a-i);if(o===0){v.spacesDiff=g,g>0&&0<=i-1&&i-1<D.length&&i<p.length&&p.charCodeAt(i)!==32&&D.charCodeAt(i-1)===32&&D.charCodeAt(D.length-1)===44&&(v.looksLikeAlignment=!0);return}if(g%o===0){v.spacesDiff=g/o;return}}function y(D,S,p){const w=Math.min(D.getLineCount(),1e4);let v=0,b=0,a="",n=0;const i=[2,4,6,8,3,5,7],t=8,o=[0,0,0,0,0,0,0,0,0],g=new L;for(let d=1;d<=w;d++){const s=D.getLineLength(d),l=D.getLineContent(d),r=s<=65536;let h=!1,u=0,f=0,C=0;for(let E=0,I=s;E<I;E++){const T=r?l.charCodeAt(E):D.getLineCharCode(d,E);if(T===9)C++;else if(T===32)f++;else{h=!0,u=E;break}}if(!h||(C>0?v++:f>1&&b++,k(a,n,l,u,g),g.looksLikeAlignment&&!(p&&S===g.spacesDiff)))continue;const _=g.spacesDiff;_<=t&&o[_]++,a=l,n=u}let m=p;v!==b&&(m=v<b);let c=S;if(m){let d=m?0:.1*w;i.forEach(s=>{const l=o[s];l>d&&(d=l,c=s)}),c===4&&o[4]>0&&o[2]>0&&o[2]>=o[4]/2&&(c=2)}return{insertSpaces:m,tabSize:c}}e.guessIndentation=y}),define(ne[534],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function L(F){return(F.metadata&1)>>>0}e.getNodeColor=L;function k(F,O){F.metadata=F.metadata&254|O<<0}function y(F){return(F.metadata&2)>>>1===1}function D(F,O){F.metadata=F.metadata&253|(O?1:0)<<1}function S(F){return(F.metadata&4)>>>2===1}function p(F,O){F.metadata=F.metadata&251|(O?1:0)<<2}function w(F){return(F.metadata&64)>>>6===1}function v(F,O){F.metadata=F.metadata&191|(O?1:0)<<6}function b(F){return(F.metadata&24)>>>3}function a(F,O){F.metadata=F.metadata&231|O<<3}function n(F){return(F.metadata&32)>>>5===1}function i(F,O){F.metadata=F.metadata&223|(O?1:0)<<5}class t{constructor(O,B,W){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=B,this.end=W,this.delta=0,this.maxEnd=W,this.id=O,this.ownerId=0,this.options=null,p(this,!1),v(this,!1),a(this,1),i(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=W,this.range=null,D(this,!1)}reset(O,B,W,V){this.start=B,this.end=W,this.maxEnd=W,this.cachedVersionId=O,this.cachedAbsoluteStart=B,this.cachedAbsoluteEnd=W,this.range=V}setOptions(O){this.options=O;const B=this.options.className;p(this,B==="squiggly-error"||B==="squiggly-warning"||B==="squiggly-info"),v(this,this.options.glyphMarginClassName!==null),a(this,this.options.stickiness),i(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(O,B,W){this.cachedVersionId!==W&&(this.range=null),this.cachedVersionId=W,this.cachedAbsoluteStart=O,this.cachedAbsoluteEnd=B}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=t,e.SENTINEL=new t(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class o{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(O,B,W,V,z,K){return this.root===e.SENTINEL?[]:u(this,O,B,W,V,z,K)}search(O,B,W,V){return this.root===e.SENTINEL?[]:h(this,O,B,W,V)}collectNodesFromOwner(O){return l(this,O)}collectNodesPostOrder(){return r(this)}insert(O){f(this,O),this._normalizeDeltaIfNecessary()}delete(O){_(this,O),this._normalizeDeltaIfNecessary()}resolveNode(O,B){const W=O;let V=0;for(;O!==this.root;)O===O.parent.right&&(V+=O.parent.delta),O=O.parent;const z=W.start+V,K=W.end+V;W.setCachedOffsets(z,K,B)}acceptReplace(O,B,W,V){const z=d(this,O,O+B);for(let K=0,j=z.length;K<j;K++){const x=z[K];_(this,x)}this._normalizeDeltaIfNecessary(),s(this,O,O+B,W),this._normalizeDeltaIfNecessary();for(let K=0,j=z.length;K<j;K++){const x=z[K];x.start=x.cachedAbsoluteStart,x.end=x.cachedAbsoluteEnd,c(x,O,O+B,W,V),x.maxEnd=x.end,f(this,x)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,g(this))}}e.IntervalTree=o;function g(F){let O=F.root,B=0;for(;O!==e.SENTINEL;){if(O.left!==e.SENTINEL&&!y(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!y(O.right)){B+=O.delta,O=O.right;continue}O.start=B+O.start,O.end=B+O.end,O.delta=0,M(O),D(O,!0),D(O.left,!1),D(O.right,!1),O===O.parent.right&&(B-=O.parent.delta),O=O.parent}D(F.root,!1)}function m(F,O,B,W){return F<B?!0:F>B||W===1?!1:W===2?!0:O}function c(F,O,B,W,V){const z=b(F),K=z===0||z===2,j=z===1||z===2,x=B-O,re=W,ie=Math.min(x,re),J=F.start;let X=!1;const Y=F.end;let le=!1;O<=J&&Y<=B&&n(F)&&(F.start=O,X=!0,F.end=O,le=!0);{const ge=V?1:x>0?2:0;!X&&m(J,K,O,ge)&&(X=!0),!le&&m(Y,j,O,ge)&&(le=!0)}if(ie>0&&!V){const ge=x>re?2:0;!X&&m(J,K,O+ie,ge)&&(X=!0),!le&&m(Y,j,O+ie,ge)&&(le=!0)}{const ge=V?1:0;!X&&m(J,K,B,ge)&&(F.start=O+re,X=!0),!le&&m(Y,j,B,ge)&&(F.end=O+re,le=!0)}const de=re-x;X||(F.start=Math.max(0,J+de)),le||(F.end=Math.max(0,Y+de)),F.start>F.end&&(F.end=F.start)}e.nodeAcceptEdit=c;function d(F,O,B){let W=F.root,V=0,z=0,K=0,j=0;const x=[];let re=0;for(;W!==e.SENTINEL;){if(y(W)){D(W.left,!1),D(W.right,!1),W===W.parent.right&&(V-=W.parent.delta),W=W.parent;continue}if(!y(W.left)){if(z=V+W.maxEnd,z<O){D(W,!0);continue}if(W.left!==e.SENTINEL){W=W.left;continue}}if(K=V+W.start,K>B){D(W,!0);continue}if(j=V+W.end,j>=O&&(W.setCachedOffsets(K,j,0),x[re++]=W),D(W,!0),W.right!==e.SENTINEL&&!y(W.right)){V+=W.delta,W=W.right;continue}}return D(F.root,!1),x}function s(F,O,B,W){let V=F.root,z=0,K=0,j=0;const x=W-(B-O);for(;V!==e.SENTINEL;){if(y(V)){D(V.left,!1),D(V.right,!1),V===V.parent.right&&(z-=V.parent.delta),M(V),V=V.parent;continue}if(!y(V.left)){if(K=z+V.maxEnd,K<O){D(V,!0);continue}if(V.left!==e.SENTINEL){V=V.left;continue}}if(j=z+V.start,j>B){V.start+=x,V.end+=x,V.delta+=x,(V.delta<-1073741824||V.delta>1073741824)&&(F.requestNormalizeDelta=!0),D(V,!0);continue}if(D(V,!0),V.right!==e.SENTINEL&&!y(V.right)){z+=V.delta,V=V.right;continue}}D(F.root,!1)}function l(F,O){let B=F.root;const W=[];let V=0;for(;B!==e.SENTINEL;){if(y(B)){D(B.left,!1),D(B.right,!1),B=B.parent;continue}if(B.left!==e.SENTINEL&&!y(B.left)){B=B.left;continue}if(B.ownerId===O&&(W[V++]=B),D(B,!0),B.right!==e.SENTINEL&&!y(B.right)){B=B.right;continue}}return D(F.root,!1),W}function r(F){let O=F.root;const B=[];let W=0;for(;O!==e.SENTINEL;){if(y(O)){D(O.left,!1),D(O.right,!1),O=O.parent;continue}if(O.left!==e.SENTINEL&&!y(O.left)){O=O.left;continue}if(O.right!==e.SENTINEL&&!y(O.right)){O=O.right;continue}B[W++]=O,D(O,!0)}return D(F.root,!1),B}function h(F,O,B,W,V){let z=F.root,K=0,j=0,x=0;const re=[];let ie=0;for(;z!==e.SENTINEL;){if(y(z)){D(z.left,!1),D(z.right,!1),z===z.parent.right&&(K-=z.parent.delta),z=z.parent;continue}if(z.left!==e.SENTINEL&&!y(z.left)){z=z.left;continue}j=K+z.start,x=K+z.end,z.setCachedOffsets(j,x,W);let J=!0;if(O&&z.ownerId&&z.ownerId!==O&&(J=!1),B&&S(z)&&(J=!1),V&&!w(z)&&(J=!1),J&&(re[ie++]=z),D(z,!0),z.right!==e.SENTINEL&&!y(z.right)){K+=z.delta,z=z.right;continue}}return D(F.root,!1),re}function u(F,O,B,W,V,z,K){let j=F.root,x=0,re=0,ie=0,J=0;const X=[];let Y=0;for(;j!==e.SENTINEL;){if(y(j)){D(j.left,!1),D(j.right,!1),j===j.parent.right&&(x-=j.parent.delta),j=j.parent;continue}if(!y(j.left)){if(re=x+j.maxEnd,re<O){D(j,!0);continue}if(j.left!==e.SENTINEL){j=j.left;continue}}if(ie=x+j.start,ie>B){D(j,!0);continue}if(J=x+j.end,J>=O){j.setCachedOffsets(ie,J,z);let le=!0;W&&j.ownerId&&j.ownerId!==W&&(le=!1),V&&S(j)&&(le=!1),K&&!w(j)&&(le=!1),le&&(X[Y++]=j)}if(D(j,!0),j.right!==e.SENTINEL&&!y(j.right)){x+=j.delta,j=j.right;continue}}return D(F.root,!1),X}function f(F,O){if(F.root===e.SENTINEL)return O.parent=e.SENTINEL,O.left=e.SENTINEL,O.right=e.SENTINEL,k(O,0),F.root=O,F.root;C(F,O),N(O.parent);let B=O;for(;B!==F.root&&L(B.parent)===1;)if(B.parent===B.parent.parent.left){const W=B.parent.parent.right;L(W)===1?(k(B.parent,0),k(W,0),k(B.parent.parent,1),B=B.parent.parent):(B===B.parent.right&&(B=B.parent,T(F,B)),k(B.parent,0),k(B.parent.parent,1),A(F,B.parent.parent))}else{const W=B.parent.parent.left;L(W)===1?(k(B.parent,0),k(W,0),k(B.parent.parent,1),B=B.parent.parent):(B===B.parent.left&&(B=B.parent,A(F,B)),k(B.parent,0),k(B.parent.parent,1),T(F,B.parent.parent))}return k(F.root,0),O}function C(F,O){let B=0,W=F.root;const V=O.start,z=O.end;for(;;)if(P(V,z,W.start+B,W.end+B)<0)if(W.left===e.SENTINEL){O.start-=B,O.end-=B,O.maxEnd-=B,W.left=O;break}else W=W.left;else if(W.right===e.SENTINEL){O.start-=B+W.delta,O.end-=B+W.delta,O.maxEnd-=B+W.delta,W.right=O;break}else B+=W.delta,W=W.right;O.parent=W,O.left=e.SENTINEL,O.right=e.SENTINEL,k(O,1)}function _(F,O){let B,W;if(O.left===e.SENTINEL?(B=O.right,W=O,B.delta+=O.delta,(B.delta<-1073741824||B.delta>1073741824)&&(F.requestNormalizeDelta=!0),B.start+=O.delta,B.end+=O.delta):O.right===e.SENTINEL?(B=O.left,W=O):(W=E(O.right),B=W.right,B.start+=W.delta,B.end+=W.delta,B.delta+=W.delta,(B.delta<-1073741824||B.delta>1073741824)&&(F.requestNormalizeDelta=!0),W.start+=O.delta,W.end+=O.delta,W.delta=O.delta,(W.delta<-1073741824||W.delta>1073741824)&&(F.requestNormalizeDelta=!0)),W===F.root){F.root=B,k(B,0),O.detach(),I(),M(B),F.root.parent=e.SENTINEL;return}const V=L(W)===1;if(W===W.parent.left?W.parent.left=B:W.parent.right=B,W===O?B.parent=W.parent:(W.parent===O?B.parent=W:B.parent=W.parent,W.left=O.left,W.right=O.right,W.parent=O.parent,k(W,L(O)),O===F.root?F.root=W:O===O.parent.left?O.parent.left=W:O.parent.right=W,W.left!==e.SENTINEL&&(W.left.parent=W),W.right!==e.SENTINEL&&(W.right.parent=W)),O.detach(),V){N(B.parent),W!==O&&(N(W),N(W.parent)),I();return}N(B),N(B.parent),W!==O&&(N(W),N(W.parent));let z;for(;B!==F.root&&L(B)===0;)B===B.parent.left?(z=B.parent.right,L(z)===1&&(k(z,0),k(B.parent,1),T(F,B.parent),z=B.parent.right),L(z.left)===0&&L(z.right)===0?(k(z,1),B=B.parent):(L(z.right)===0&&(k(z.left,0),k(z,1),A(F,z),z=B.parent.right),k(z,L(B.parent)),k(B.parent,0),k(z.right,0),T(F,B.parent),B=F.root)):(z=B.parent.left,L(z)===1&&(k(z,0),k(B.parent,1),A(F,B.parent),z=B.parent.left),L(z.left)===0&&L(z.right)===0?(k(z,1),B=B.parent):(L(z.left)===0&&(k(z.right,0),k(z,1),T(F,z),z=B.parent.left),k(z,L(B.parent)),k(B.parent,0),k(z.left,0),A(F,B.parent),B=F.root));k(B,0),I()}function E(F){for(;F.left!==e.SENTINEL;)F=F.left;return F}function I(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function T(F,O){const B=O.right;B.delta+=O.delta,(B.delta<-1073741824||B.delta>1073741824)&&(F.requestNormalizeDelta=!0),B.start+=O.delta,B.end+=O.delta,O.right=B.left,B.left!==e.SENTINEL&&(B.left.parent=O),B.parent=O.parent,O.parent===e.SENTINEL?F.root=B:O===O.parent.left?O.parent.left=B:O.parent.right=B,B.left=O,O.parent=B,M(O),M(B)}function A(F,O){const B=O.left;O.delta-=B.delta,(O.delta<-1073741824||O.delta>1073741824)&&(F.requestNormalizeDelta=!0),O.start-=B.delta,O.end-=B.delta,O.left=B.right,B.right!==e.SENTINEL&&(B.right.parent=O),B.parent=O.parent,O.parent===e.SENTINEL?F.root=B:O===O.parent.right?O.parent.right=B:O.parent.left=B,B.right=O,O.parent=B,M(O),M(B)}function R(F){let O=F.end;if(F.left!==e.SENTINEL){const B=F.left.maxEnd;B>O&&(O=B)}if(F.right!==e.SENTINEL){const B=F.right.maxEnd+F.delta;B>O&&(O=B)}return O}function M(F){F.maxEnd=R(F)}e.recomputeMaxEnd=M;function N(F){for(;F!==e.SENTINEL;){const O=R(F);if(F.maxEnd===O)return;F.maxEnd=O,F=F.parent}}function P(F,O,B,W){return F===B?O-W:F-B}e.intervalCompare=P}),define(ne[535],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class L{constructor(o,g){this.piece=o,this.color=g,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let o=this;for(;o.parent!==e.SENTINEL&&o.parent.left!==o;)o=o.parent;return o.parent===e.SENTINEL?e.SENTINEL:o.parent}prev(){if(this.left!==e.SENTINEL)return y(this.left);let o=this;for(;o.parent!==e.SENTINEL&&o.parent.right!==o;)o=o.parent;return o.parent===e.SENTINEL?e.SENTINEL:o.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=L,e.SENTINEL=new L(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(t){for(;t.left!==e.SENTINEL;)t=t.left;return t}e.leftest=k;function y(t){for(;t.right!==e.SENTINEL;)t=t.right;return t}e.righttest=y;function D(t){return t===e.SENTINEL?0:t.size_left+t.piece.length+D(t.right)}function S(t){return t===e.SENTINEL?0:t.lf_left+t.piece.lineFeedCnt+S(t.right)}function p(){e.SENTINEL.parent=e.SENTINEL}function w(t,o){const g=o.right;g.size_left+=o.size_left+(o.piece?o.piece.length:0),g.lf_left+=o.lf_left+(o.piece?o.piece.lineFeedCnt:0),o.right=g.left,g.left!==e.SENTINEL&&(g.left.parent=o),g.parent=o.parent,o.parent===e.SENTINEL?t.root=g:o.parent.left===o?o.parent.left=g:o.parent.right=g,g.left=o,o.parent=g}e.leftRotate=w;function v(t,o){const g=o.left;o.left=g.right,g.right!==e.SENTINEL&&(g.right.parent=o),g.parent=o.parent,o.size_left-=g.size_left+(g.piece?g.piece.length:0),o.lf_left-=g.lf_left+(g.piece?g.piece.lineFeedCnt:0),o.parent===e.SENTINEL?t.root=g:o===o.parent.right?o.parent.right=g:o.parent.left=g,g.right=o,o.parent=g}e.rightRotate=v;function b(t,o){let g,m;if(o.left===e.SENTINEL?(m=o,g=m.right):o.right===e.SENTINEL?(m=o,g=m.left):(m=k(o.right),g=m.right),m===t.root){t.root=g,g.color=0,o.detach(),p(),t.root.parent=e.SENTINEL;return}const c=m.color===1;if(m===m.parent.left?m.parent.left=g:m.parent.right=g,m===o?(g.parent=m.parent,i(t,g)):(m.parent===o?g.parent=m:g.parent=m.parent,i(t,g),m.left=o.left,m.right=o.right,m.parent=o.parent,m.color=o.color,o===t.root?t.root=m:o===o.parent.left?o.parent.left=m:o.parent.right=m,m.left!==e.SENTINEL&&(m.left.parent=m),m.right!==e.SENTINEL&&(m.right.parent=m),m.size_left=o.size_left,m.lf_left=o.lf_left,i(t,m)),o.detach(),g.parent.left===g){const s=D(g),l=S(g);if(s!==g.parent.size_left||l!==g.parent.lf_left){const r=s-g.parent.size_left,h=l-g.parent.lf_left;g.parent.size_left=s,g.parent.lf_left=l,n(t,g.parent,r,h)}}if(i(t,g.parent),c){p();return}let d;for(;g!==t.root&&g.color===0;)g===g.parent.left?(d=g.parent.right,d.color===1&&(d.color=0,g.parent.color=1,w(t,g.parent),d=g.parent.right),d.left.color===0&&d.right.color===0?(d.color=1,g=g.parent):(d.right.color===0&&(d.left.color=0,d.color=1,v(t,d),d=g.parent.right),d.color=g.parent.color,g.parent.color=0,d.right.color=0,w(t,g.parent),g=t.root)):(d=g.parent.left,d.color===1&&(d.color=0,g.parent.color=1,v(t,g.parent),d=g.parent.left),d.left.color===0&&d.right.color===0?(d.color=1,g=g.parent):(d.left.color===0&&(d.right.color=0,d.color=1,w(t,d),d=g.parent.left),d.color=g.parent.color,g.parent.color=0,d.left.color=0,v(t,g.parent),g=t.root));g.color=0,p()}e.rbDelete=b;function a(t,o){for(i(t,o);o!==t.root&&o.parent.color===1;)if(o.parent===o.parent.parent.left){const g=o.parent.parent.right;g.color===1?(o.parent.color=0,g.color=0,o.parent.parent.color=1,o=o.parent.parent):(o===o.parent.right&&(o=o.parent,w(t,o)),o.parent.color=0,o.parent.parent.color=1,v(t,o.parent.parent))}else{const g=o.parent.parent.left;g.color===1?(o.parent.color=0,g.color=0,o.parent.parent.color=1,o=o.parent.parent):(o===o.parent.left&&(o=o.parent,v(t,o)),o.parent.color=0,o.parent.parent.color=1,w(t,o.parent.parent))}t.root.color=0}e.fixInsert=a;function n(t,o,g,m){for(;o!==t.root&&o!==e.SENTINEL;)o.parent.left===o&&(o.parent.size_left+=g,o.parent.lf_left+=m),o=o.parent}e.updateTreeMetadata=n;function i(t,o){let g=0,m=0;if(o!==t.root){for(;o!==t.root&&o===o.parent.right;)o=o.parent;if(o!==t.root)for(o=o.parent,g=D(o.left)-o.size_left,m=S(o.left)-o.lf_left,o.size_left+=g,o.lf_left+=m;o!==t.root&&(g!==0||m!==0);)o.parent.left===o&&(o.parent.size_left+=g,o.parent.lf_left+=m),o=o.parent}}e.recomputeTreeMetadata=i}),define(ne[299],se([1,0,13,177]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class y{constructor(w){this.values=w,this.prefixSum=new Uint32Array(w.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(w,v){w=(0,k.toUint32)(w);const b=this.values,a=this.prefixSum,n=v.length;return n===0?!1:(this.values=new Uint32Array(b.length+n),this.values.set(b.subarray(0,w),0),this.values.set(b.subarray(w),w+n),this.values.set(v,w),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(a.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(w,v){return w=(0,k.toUint32)(w),v=(0,k.toUint32)(v),this.values[w]===v?!1:(this.values[w]=v,w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),!0)}removeValues(w,v){w=(0,k.toUint32)(w),v=(0,k.toUint32)(v);const b=this.values,a=this.prefixSum;if(w>=b.length)return!1;const n=b.length-w;return v>=n&&(v=n),v===0?!1:(this.values=new Uint32Array(b.length-v),this.values.set(b.subarray(0,w),0),this.values.set(b.subarray(w+v),w),this.prefixSum=new Uint32Array(this.values.length),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(a.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(w){return w<0?0:(w=(0,k.toUint32)(w),this._getPrefixSum(w))}_getPrefixSum(w){if(w<=this.prefixSumValidIndex[0])return this.prefixSum[w];let v=this.prefixSumValidIndex[0]+1;v===0&&(this.prefixSum[0]=this.values[0],v++),w>=this.values.length&&(w=this.values.length-1);for(let b=v;b<=w;b++)this.prefixSum[b]=this.prefixSum[b-1]+this.values[b];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],w),this.prefixSum[w]}getIndexOf(w){w=Math.floor(w),this.getTotalSum();let v=0,b=this.values.length-1,a=0,n=0,i=0;for(;v<=b;)if(a=v+(b-v)/2|0,n=this.prefixSum[a],i=n-this.values[a],w<i)b=a-1;else if(w>=n)v=a+1;else break;return new S(a,w-i)}}e.PrefixSumComputer=y;class D{constructor(w){this._values=w,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(w){return this._ensureValid(),w===0?0:this._prefixSum[w-1]}getIndexOf(w){this._ensureValid();const v=this._indexBySum[w],b=v>0?this._prefixSum[v-1]:0;return new S(v,w-b)}removeValues(w,v){this._values.splice(w,v),this._invalidate(w)}insertValues(w,v){this._values=(0,L.arrayInsert)(this._values,w,v),this._invalidate(w)}_invalidate(w){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,w-1)}_ensureValid(){if(!this._isValid){for(let w=this._validEndIndex+1,v=this._values.length;w<v;w++){const b=this._values[w],a=w>0?this._prefixSum[w-1]:0;this._prefixSum[w]=a+b;for(let n=0;n<b;n++)this._indexBySum[a+n]=w}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(w,v){this._values[w]!==v&&(this._values[w]=v,this._invalidate(w))}}e.ConstantTimePrefixSumComputer=D;class S{constructor(w,v){this.index=w,this.remainder=v,this._prefixSumIndexOfResultBrand=void 0,this.index=w,this.remainder=v}}e.PrefixSumIndexOfResult=S}),define(ne[536],se([1,0,11,9,299]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(p,w,v,b){this._uri=p,this._lines=w,this._eol=v,this._versionId=b,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(p){p.eol&&p.eol!==this._eol&&(this._eol=p.eol,this._lineStarts=null);const w=p.changes;for(const v of w)this._acceptDeleteRange(v.range),this._acceptInsertText(new k.Position(v.range.startLineNumber,v.range.startColumn),v.text);this._versionId=p.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const p=this._eol.length,w=this._lines.length,v=new Uint32Array(w);for(let b=0;b<w;b++)v[b]=this._lines[b].length+p;this._lineStarts=new y.PrefixSumComputer(v)}}_setLineText(p,w){this._lines[p]=w,this._lineStarts&&this._lineStarts.setValue(p,this._lines[p].length+this._eol.length)}_acceptDeleteRange(p){if(p.startLineNumber===p.endLineNumber){if(p.startColumn===p.endColumn)return;this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.startLineNumber-1].substring(p.endColumn-1));return}this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.endLineNumber-1].substring(p.endColumn-1)),this._lines.splice(p.startLineNumber,p.endLineNumber-p.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(p.startLineNumber,p.endLineNumber-p.startLineNumber)}_acceptInsertText(p,w){if(w.length===0)return;const v=(0,L.splitLines)(w);if(v.length===1){this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+v[0]+this._lines[p.lineNumber-1].substring(p.column-1));return}v[v.length-1]+=this._lines[p.lineNumber-1].substring(p.column-1),this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+v[0]);const b=new Uint32Array(v.length-1);for(let a=1;a<v.length;a++)this._lines.splice(p.lineNumber+a-1,0,v[a]),b[a-1]=v[a].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(p.lineNumber,b)}}e.MirrorTextModel=D}),define(ne[300],se([1,0,2]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class k extends L.Disposable{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=k}),define(ne[187],se([1,0,11,154,9,5,40]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.isMultilineRegexSource=e.SearchParams=void 0;const p=999;class w{constructor(c,d,s,l){this.searchString=c,this.isRegex=d,this.matchCase=s,this.wordSeparators=l}parseSearchRequest(){if(this.searchString==="")return null;let c;this.isRegex?c=v(this.searchString):c=this.searchString.indexOf(`
`)>=0;let d=null;try{d=L.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:c,global:!0,unicode:!0})}catch{return null}if(!d)return null;let s=!this.isRegex&&!c;return s&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(s=this.matchCase),new S.SearchData(d,this.wordSeparators?(0,k.getMapForWordSeparators)(this.wordSeparators):null,s?this.searchString:null)}}e.SearchParams=w;function v(m){if(!m||m.length===0)return!1;for(let c=0,d=m.length;c<d;c++){const s=m.charCodeAt(c);if(s===10)return!0;if(s===92){if(c++,c>=d)break;const l=m.charCodeAt(c);if(l===110||l===114||l===87)return!0}}return!1}e.isMultilineRegexSource=v;function b(m,c,d){if(!d)return new S.FindMatch(m,null);const s=[];for(let l=0,r=c.length;l<r;l++)s[l]=c[l];return new S.FindMatch(m,s)}e.createFindMatch=b;class a{constructor(c){const d=[];let s=0;for(let l=0,r=c.length;l<r;l++)c.charCodeAt(l)===10&&(d[s++]=l);this._lineFeedsOffsets=d}findLineFeedCountBeforeOffset(c){const d=this._lineFeedsOffsets;let s=0,l=d.length-1;if(l===-1||c<=d[0])return 0;for(;s<l;){const r=s+((l-s)/2>>0);d[r]>=c?l=r-1:d[r+1]>=c?(s=r,l=r):s=r+1}return s+1}}class n{static findMatches(c,d,s,l,r){const h=d.parseSearchRequest();return h?h.regex.multiline?this._doFindMatchesMultiline(c,s,new g(h.wordSeparators,h.regex),l,r):this._doFindMatchesLineByLine(c,s,h,l,r):[]}static _getMultilineMatchRange(c,d,s,l,r,h){let u,f=0;l?(f=l.findLineFeedCountBeforeOffset(r),u=d+r+f):u=d+r;let C;if(l){const T=l.findLineFeedCountBeforeOffset(r+h.length)-f;C=u+h.length+T}else C=u+h.length;const _=c.getPositionAt(u),E=c.getPositionAt(C);return new D.Range(_.lineNumber,_.column,E.lineNumber,E.column)}static _doFindMatchesMultiline(c,d,s,l,r){const h=c.getOffsetAt(d.getStartPosition()),u=c.getValueInRange(d,1),f=c.getEOL()===`\r
`?new a(u):null,C=[];let _=0,E;for(s.reset(0);E=s.next(u);)if(C[_++]=b(this._getMultilineMatchRange(c,h,u,f,E.index,E[0]),E,l),_>=r)return C;return C}static _doFindMatchesLineByLine(c,d,s,l,r){const h=[];let u=0;if(d.startLineNumber===d.endLineNumber){const C=c.getLineContent(d.startLineNumber).substring(d.startColumn-1,d.endColumn-1);return u=this._findMatchesInLine(s,C,d.startLineNumber,d.startColumn-1,u,h,l,r),h}const f=c.getLineContent(d.startLineNumber).substring(d.startColumn-1);u=this._findMatchesInLine(s,f,d.startLineNumber,d.startColumn-1,u,h,l,r);for(let C=d.startLineNumber+1;C<d.endLineNumber&&u<r;C++)u=this._findMatchesInLine(s,c.getLineContent(C),C,0,u,h,l,r);if(u<r){const C=c.getLineContent(d.endLineNumber).substring(0,d.endColumn-1);u=this._findMatchesInLine(s,C,d.endLineNumber,0,u,h,l,r)}return h}static _findMatchesInLine(c,d,s,l,r,h,u,f){const C=c.wordSeparators;if(!u&&c.simpleSearch){const I=c.simpleSearch,T=I.length,A=d.length;let R=-T;for(;(R=d.indexOf(I,R+T))!==-1;)if((!C||o(C,d,A,R,T))&&(h[r++]=new S.FindMatch(new D.Range(s,R+1+l,s,R+1+T+l),null),r>=f))return r;return r}const _=new g(c.wordSeparators,c.regex);let E;_.reset(0);do if(E=_.next(d),E&&(h[r++]=b(new D.Range(s,E.index+1+l,s,E.index+1+E[0].length+l),E,u),r>=f))return r;while(E);return r}static findNextMatch(c,d,s,l){const r=d.parseSearchRequest();if(!r)return null;const h=new g(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindNextMatchMultiline(c,s,h,l):this._doFindNextMatchLineByLine(c,s,h,l)}static _doFindNextMatchMultiline(c,d,s,l){const r=new y.Position(d.lineNumber,1),h=c.getOffsetAt(r),u=c.getLineCount(),f=c.getValueInRange(new D.Range(r.lineNumber,r.column,u,c.getLineMaxColumn(u)),1),C=c.getEOL()===`\r
`?new a(f):null;s.reset(d.column-1);const _=s.next(f);return _?b(this._getMultilineMatchRange(c,h,f,C,_.index,_[0]),_,l):d.lineNumber!==1||d.column!==1?this._doFindNextMatchMultiline(c,new y.Position(1,1),s,l):null}static _doFindNextMatchLineByLine(c,d,s,l){const r=c.getLineCount(),h=d.lineNumber,u=c.getLineContent(h),f=this._findFirstMatchInLine(s,u,h,d.column,l);if(f)return f;for(let C=1;C<=r;C++){const _=(h+C-1)%r,E=c.getLineContent(_+1),I=this._findFirstMatchInLine(s,E,_+1,1,l);if(I)return I}return null}static _findFirstMatchInLine(c,d,s,l,r){c.reset(l-1);const h=c.next(d);return h?b(new D.Range(s,h.index+1,s,h.index+1+h[0].length),h,r):null}static findPreviousMatch(c,d,s,l){const r=d.parseSearchRequest();if(!r)return null;const h=new g(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindPreviousMatchMultiline(c,s,h,l):this._doFindPreviousMatchLineByLine(c,s,h,l)}static _doFindPreviousMatchMultiline(c,d,s,l){const r=this._doFindMatchesMultiline(c,new D.Range(1,1,d.lineNumber,d.column),s,l,10*p);if(r.length>0)return r[r.length-1];const h=c.getLineCount();return d.lineNumber!==h||d.column!==c.getLineMaxColumn(h)?this._doFindPreviousMatchMultiline(c,new y.Position(h,c.getLineMaxColumn(h)),s,l):null}static _doFindPreviousMatchLineByLine(c,d,s,l){const r=c.getLineCount(),h=d.lineNumber,u=c.getLineContent(h).substring(0,d.column-1),f=this._findLastMatchInLine(s,u,h,l);if(f)return f;for(let C=1;C<=r;C++){const _=(r+h-C-1)%r,E=c.getLineContent(_+1),I=this._findLastMatchInLine(s,E,_+1,l);if(I)return I}return null}static _findLastMatchInLine(c,d,s,l){let r=null,h;for(c.reset(0);h=c.next(d);)r=b(new D.Range(s,h.index+1,s,h.index+1+h[0].length),h,l);return r}}e.TextModelSearch=n;function i(m,c,d,s,l){if(s===0)return!0;const r=c.charCodeAt(s-1);if(m.get(r)!==0||r===13||r===10)return!0;if(l>0){const h=c.charCodeAt(s);if(m.get(h)!==0)return!0}return!1}function t(m,c,d,s,l){if(s+l===d)return!0;const r=c.charCodeAt(s+l);if(m.get(r)!==0||r===13||r===10)return!0;if(l>0){const h=c.charCodeAt(s+l-1);if(m.get(h)!==0)return!0}return!1}function o(m,c,d,s,l){return i(m,c,d,s,l)&&t(m,c,d,s,l)}e.isValidMatch=o;class g{constructor(c,d){this._wordSeparators=c,this._searchRegex=d,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(c){this._searchRegex.lastIndex=c,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(c){const d=c.length;let s;do{if(this._prevMatchStartIndex+this._prevMatchLength===d||(s=this._searchRegex.exec(c),!s))return null;const l=s.index,r=s[0].length;if(l===this._prevMatchStartIndex&&r===this._prevMatchLength){if(r===0){L.getNextCodePoint(c,d,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=l,this._prevMatchLength=r,!this._wordSeparators||o(this._wordSeparators,c,d,l,r))return s}while(s);return null}}e.Searcher=g}),define(ne[301],se([1,0,9,5,40,535,187]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=void 0;const p=65535;function w(m){let c;return m[m.length-1]<65536?c=new Uint16Array(m.length):c=new Uint32Array(m.length),c.set(m,0),c}class v{constructor(c,d,s,l,r){this.lineStarts=c,this.cr=d,this.lf=s,this.crlf=l,this.isBasicASCII=r}}function b(m,c=!0){const d=[0];let s=1;for(let l=0,r=m.length;l<r;l++){const h=m.charCodeAt(l);h===13?l+1<r&&m.charCodeAt(l+1)===10?(d[s++]=l+2,l++):d[s++]=l+1:h===10&&(d[s++]=l+1)}return c?w(d):d}e.createLineStartsFast=b;function a(m,c){m.length=0,m[0]=0;let d=1,s=0,l=0,r=0,h=!0;for(let f=0,C=c.length;f<C;f++){const _=c.charCodeAt(f);_===13?f+1<C&&c.charCodeAt(f+1)===10?(r++,m[d++]=f+2,f++):(s++,m[d++]=f+1):_===10?(l++,m[d++]=f+1):h&&_!==9&&(_<32||_>126)&&(h=!1)}const u=new v(w(m),s,l,r,h);return m.length=0,u}e.createLineStarts=a;class n{constructor(c,d,s,l,r){this.bufferIndex=c,this.start=d,this.end=s,this.lineFeedCnt=l,this.length=r}}e.Piece=n;class i{constructor(c,d){this.buffer=c,this.lineStarts=d}}e.StringBuffer=i;class t{constructor(c,d){this._pieces=[],this._tree=c,this._BOM=d,this._index=0,c.root!==D.SENTINEL&&c.iterate(c.root,s=>(s!==D.SENTINEL&&this._pieces.push(s.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class o{constructor(c){this._limit=c,this._cache=[]}get(c){for(let d=this._cache.length-1;d>=0;d--){const s=this._cache[d];if(s.nodeStartOffset<=c&&s.nodeStartOffset+s.node.piece.length>=c)return s}return null}get2(c){for(let d=this._cache.length-1;d>=0;d--){const s=this._cache[d];if(s.nodeStartLineNumber&&s.nodeStartLineNumber<c&&s.nodeStartLineNumber+s.node.piece.lineFeedCnt>=c)return s}return null}set(c){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(c)}validate(c){let d=!1;const s=this._cache;for(let l=0;l<s.length;l++){const r=s[l];if(r.node.parent===null||r.nodeStartOffset>=c){s[l]=null,d=!0;continue}}if(d){const l=[];for(const r of s)r!==null&&l.push(r);this._cache=l}}}class g{constructor(c,d,s){this.create(c,d,s)}create(c,d,s){this._buffers=[new i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=D.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=d,this._EOLLength=d.length,this._EOLNormalized=s;let l=null;for(let r=0,h=c.length;r<h;r++)if(c[r].buffer.length>0){c[r].lineStarts||(c[r].lineStarts=b(c[r].buffer));const u=new n(r+1,{line:0,column:0},{line:c[r].lineStarts.length-1,column:c[r].buffer.length-c[r].lineStarts[c[r].lineStarts.length-1]},c[r].lineStarts.length-1,c[r].buffer.length);this._buffers.push(c[r]),l=this.rbInsertRight(l,u)}this._searchCache=new o(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(c){const d=p,s=d-Math.floor(d/3),l=s*2;let r="",h=0;const u=[];if(this.iterate(this.root,f=>{const C=this.getNodeContent(f),_=C.length;if(h<=s||h+_<l)return r+=C,h+=_,!0;const E=r.replace(/\r\n|\r|\n/g,c);return u.push(new i(E,b(E))),r=C,h=_,!0}),h>0){const f=r.replace(/\r\n|\r|\n/g,c);u.push(new i(f,b(f)))}this.create(u,c,!0)}getEOL(){return this._EOL}setEOL(c){this._EOL=c,this._EOLLength=this._EOL.length,this.normalizeEOL(c)}createSnapshot(c){return new t(this,c)}getOffsetAt(c,d){let s=0,l=this.root;for(;l!==D.SENTINEL;)if(l.left!==D.SENTINEL&&l.lf_left+1>=c)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt+1>=c){s+=l.size_left;const r=this.getAccumulatedValue(l,c-l.lf_left-2);return s+=r+d-1}else c-=l.lf_left+l.piece.lineFeedCnt,s+=l.size_left+l.piece.length,l=l.right;return s}getPositionAt(c){c=Math.floor(c),c=Math.max(0,c);let d=this.root,s=0;const l=c;for(;d!==D.SENTINEL;)if(d.size_left!==0&&d.size_left>=c)d=d.left;else if(d.size_left+d.piece.length>=c){const r=this.getIndexOf(d,c-d.size_left);if(s+=d.lf_left+r.index,r.index===0){const h=this.getOffsetAt(s+1,1),u=l-h;return new L.Position(s+1,u+1)}return new L.Position(s+1,r.remainder+1)}else if(c-=d.size_left+d.piece.length,s+=d.lf_left+d.piece.lineFeedCnt,d.right===D.SENTINEL){const r=this.getOffsetAt(s+1,1),h=l-c-r;return new L.Position(s+1,h+1)}else d=d.right;return new L.Position(1,1)}getValueInRange(c,d){if(c.startLineNumber===c.endLineNumber&&c.startColumn===c.endColumn)return"";const s=this.nodeAt2(c.startLineNumber,c.startColumn),l=this.nodeAt2(c.endLineNumber,c.endColumn),r=this.getValueInRange2(s,l);return d?d!==this._EOL||!this._EOLNormalized?r.replace(/\r\n|\r|\n/g,d):d===this.getEOL()&&this._EOLNormalized?r:r.replace(/\r\n|\r|\n/g,d):r}getValueInRange2(c,d){if(c.node===d.node){const u=c.node,f=this._buffers[u.piece.bufferIndex].buffer,C=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start);return f.substring(C+c.remainder,C+d.remainder)}let s=c.node;const l=this._buffers[s.piece.bufferIndex].buffer,r=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);let h=l.substring(r+c.remainder,r+s.piece.length);for(s=s.next();s!==D.SENTINEL;){const u=this._buffers[s.piece.bufferIndex].buffer,f=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);if(s===d.node){h+=u.substring(f,f+d.remainder);break}else h+=u.substr(f,s.piece.length);s=s.next()}return h}getLinesContent(){const c=[];let d=0,s="",l=!1;return this.iterate(this.root,r=>{if(r===D.SENTINEL)return!0;const h=r.piece;let u=h.length;if(u===0)return!0;const f=this._buffers[h.bufferIndex].buffer,C=this._buffers[h.bufferIndex].lineStarts,_=h.start.line,E=h.end.line;let I=C[_]+h.start.column;if(l&&(f.charCodeAt(I)===10&&(I++,u--),c[d++]=s,s="",l=!1,u===0))return!0;if(_===E)return!this._EOLNormalized&&f.charCodeAt(I+u-1)===13?(l=!0,s+=f.substr(I,u-1)):s+=f.substr(I,u),!0;s+=this._EOLNormalized?f.substring(I,Math.max(I,C[_+1]-this._EOLLength)):f.substring(I,C[_+1]).replace(/(\r\n|\r|\n)$/,""),c[d++]=s;for(let T=_+1;T<E;T++)s=this._EOLNormalized?f.substring(C[T],C[T+1]-this._EOLLength):f.substring(C[T],C[T+1]).replace(/(\r\n|\r|\n)$/,""),c[d++]=s;return!this._EOLNormalized&&f.charCodeAt(C[E]+h.end.column-1)===13?(l=!0,h.end.column===0?d--:s=f.substr(C[E],h.end.column-1)):s=f.substr(C[E],h.end.column),!0}),l&&(c[d++]=s,s=""),c[d++]=s,c}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(c){return this._lastVisitedLine.lineNumber===c?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=c,c===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(c):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(c,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(c).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(c){if(c.remainder===c.node.piece.length){const d=c.node.next();if(!d)return 0;const s=this._buffers[d.piece.bufferIndex],l=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);return s.buffer.charCodeAt(l)}else{const d=this._buffers[c.node.piece.bufferIndex],l=this.offsetInBuffer(c.node.piece.bufferIndex,c.node.piece.start)+c.remainder;return d.buffer.charCodeAt(l)}}getLineCharCode(c,d){const s=this.nodeAt2(c,d+1);return this._getCharCode(s)}getLineLength(c){if(c===this.getLineCount()){const d=this.getOffsetAt(c,1);return this.getLength()-d}return this.getOffsetAt(c+1,1)-this.getOffsetAt(c,1)-this._EOLLength}findMatchesInNode(c,d,s,l,r,h,u,f,C,_,E){const I=this._buffers[c.piece.bufferIndex],T=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start),A=this.offsetInBuffer(c.piece.bufferIndex,r),R=this.offsetInBuffer(c.piece.bufferIndex,h);let M;const N={line:0,column:0};let P,F;d._wordSeparators?(P=I.buffer.substring(A,R),F=O=>O+A,d.reset(0)):(P=I.buffer,F=O=>O,d.reset(A));do if(M=d.next(P),M){if(F(M.index)>=R)return _;this.positionInBuffer(c,F(M.index)-T,N);const O=this.getLineFeedCnt(c.piece.bufferIndex,r,N),B=N.line===r.line?N.column-r.column+l:N.column+1,W=B+M[0].length;if(E[_++]=(0,S.createFindMatch)(new k.Range(s+O,B,s+O,W),M,f),F(M.index)+M[0].length>=R||_>=C)return _}while(M);return _}findMatchesLineByLine(c,d,s,l){const r=[];let h=0;const u=new S.Searcher(d.wordSeparators,d.regex);let f=this.nodeAt2(c.startLineNumber,c.startColumn);if(f===null)return[];const C=this.nodeAt2(c.endLineNumber,c.endColumn);if(C===null)return[];let _=this.positionInBuffer(f.node,f.remainder);const E=this.positionInBuffer(C.node,C.remainder);if(f.node===C.node)return this.findMatchesInNode(f.node,u,c.startLineNumber,c.startColumn,_,E,d,s,l,h,r),r;let I=c.startLineNumber,T=f.node;for(;T!==C.node;){const R=this.getLineFeedCnt(T.piece.bufferIndex,_,T.piece.end);if(R>=1){const N=this._buffers[T.piece.bufferIndex].lineStarts,P=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),F=N[_.line+R],O=I===c.startLineNumber?c.startColumn:1;if(h=this.findMatchesInNode(T,u,I,O,_,this.positionInBuffer(T,F-P),d,s,l,h,r),h>=l)return r;I+=R}const M=I===c.startLineNumber?c.startColumn-1:0;if(I===c.endLineNumber){const N=this.getLineContent(I).substring(M,c.endColumn-1);return h=this._findMatchesInLine(d,u,N,c.endLineNumber,M,h,r,s,l),r}if(h=this._findMatchesInLine(d,u,this.getLineContent(I).substr(M),I,M,h,r,s,l),h>=l)return r;I++,f=this.nodeAt2(I,1),T=f.node,_=this.positionInBuffer(f.node,f.remainder)}if(I===c.endLineNumber){const R=I===c.startLineNumber?c.startColumn-1:0,M=this.getLineContent(I).substring(R,c.endColumn-1);return h=this._findMatchesInLine(d,u,M,c.endLineNumber,R,h,r,s,l),r}const A=I===c.startLineNumber?c.startColumn:1;return h=this.findMatchesInNode(C.node,u,I,A,_,E,d,s,l,h,r),r}_findMatchesInLine(c,d,s,l,r,h,u,f,C){const _=c.wordSeparators;if(!f&&c.simpleSearch){const I=c.simpleSearch,T=I.length,A=s.length;let R=-T;for(;(R=s.indexOf(I,R+T))!==-1;)if((!_||(0,S.isValidMatch)(_,s,A,R,T))&&(u[h++]=new y.FindMatch(new k.Range(l,R+1+r,l,R+1+T+r),null),h>=C))return h;return h}let E;d.reset(0);do if(E=d.next(s),E&&(u[h++]=(0,S.createFindMatch)(new k.Range(l,E.index+1+r,l,E.index+1+E[0].length+r),E,f),h>=C))return h;while(E);return h}insert(c,d,s=!1){if(this._EOLNormalized=this._EOLNormalized&&s,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==D.SENTINEL){const{node:l,remainder:r,nodeStartOffset:h}=this.nodeAt(c),u=l.piece,f=u.bufferIndex,C=this.positionInBuffer(l,r);if(l.piece.bufferIndex===0&&u.end.line===this._lastChangeBufferPos.line&&u.end.column===this._lastChangeBufferPos.column&&h+u.length===c&&d.length<p){this.appendToNode(l,d),this.computeBufferMetadata();return}if(h===c)this.insertContentToNodeLeft(d,l),this._searchCache.validate(c);else if(h+l.piece.length>c){const _=[];let E=new n(u.bufferIndex,C,u.end,this.getLineFeedCnt(u.bufferIndex,C,u.end),this.offsetInBuffer(f,u.end)-this.offsetInBuffer(f,C));if(this.shouldCheckCRLF()&&this.endWithCR(d)&&this.nodeCharCodeAt(l,r)===10){const R={line:E.start.line+1,column:0};E=new n(E.bufferIndex,R,E.end,this.getLineFeedCnt(E.bufferIndex,R,E.end),E.length-1),d+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(d))if(this.nodeCharCodeAt(l,r-1)===13){const R=this.positionInBuffer(l,r-1);this.deleteNodeTail(l,R),d="\r"+d,l.piece.length===0&&_.push(l)}else this.deleteNodeTail(l,C);else this.deleteNodeTail(l,C);const I=this.createNewPieces(d);E.length>0&&this.rbInsertRight(l,E);let T=l;for(let A=0;A<I.length;A++)T=this.rbInsertRight(T,I[A]);this.deleteNodes(_)}else this.insertContentToNodeRight(d,l)}else{const l=this.createNewPieces(d);let r=this.rbInsertLeft(null,l[0]);for(let h=1;h<l.length;h++)r=this.rbInsertRight(r,l[h])}this.computeBufferMetadata()}delete(c,d){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",d<=0||this.root===D.SENTINEL)return;const s=this.nodeAt(c),l=this.nodeAt(c+d),r=s.node,h=l.node;if(r===h){const I=this.positionInBuffer(r,s.remainder),T=this.positionInBuffer(r,l.remainder);if(s.nodeStartOffset===c){if(d===r.piece.length){const A=r.next();(0,D.rbDelete)(this,r),this.validateCRLFWithPrevNode(A),this.computeBufferMetadata();return}this.deleteNodeHead(r,T),this._searchCache.validate(c),this.validateCRLFWithPrevNode(r),this.computeBufferMetadata();return}if(s.nodeStartOffset+r.piece.length===c+d){this.deleteNodeTail(r,I),this.validateCRLFWithNextNode(r),this.computeBufferMetadata();return}this.shrinkNode(r,I,T),this.computeBufferMetadata();return}const u=[],f=this.positionInBuffer(r,s.remainder);this.deleteNodeTail(r,f),this._searchCache.validate(c),r.piece.length===0&&u.push(r);const C=this.positionInBuffer(h,l.remainder);this.deleteNodeHead(h,C),h.piece.length===0&&u.push(h);const _=r.next();for(let I=_;I!==D.SENTINEL&&I!==h;I=I.next())u.push(I);const E=r.piece.length===0?r.prev():r;this.deleteNodes(u),this.validateCRLFWithNextNode(E),this.computeBufferMetadata()}insertContentToNodeLeft(c,d){const s=[];if(this.shouldCheckCRLF()&&this.endWithCR(c)&&this.startWithLF(d)){const h=d.piece,u={line:h.start.line+1,column:0},f=new n(h.bufferIndex,u,h.end,this.getLineFeedCnt(h.bufferIndex,u,h.end),h.length-1);d.piece=f,c+=`
`,(0,D.updateTreeMetadata)(this,d,-1,-1),d.piece.length===0&&s.push(d)}const l=this.createNewPieces(c);let r=this.rbInsertLeft(d,l[l.length-1]);for(let h=l.length-2;h>=0;h--)r=this.rbInsertLeft(r,l[h]);this.validateCRLFWithPrevNode(r),this.deleteNodes(s)}insertContentToNodeRight(c,d){this.adjustCarriageReturnFromNext(c,d)&&(c+=`
`);const s=this.createNewPieces(c),l=this.rbInsertRight(d,s[0]);let r=l;for(let h=1;h<s.length;h++)r=this.rbInsertRight(r,s[h]);this.validateCRLFWithPrevNode(l)}positionInBuffer(c,d,s){const l=c.piece,r=c.piece.bufferIndex,h=this._buffers[r].lineStarts,f=h[l.start.line]+l.start.column+d;let C=l.start.line,_=l.end.line,E=0,I=0,T=0;for(;C<=_&&(E=C+(_-C)/2|0,T=h[E],E!==_);)if(I=h[E+1],f<T)_=E-1;else if(f>=I)C=E+1;else break;return s?(s.line=E,s.column=f-T,null):{line:E,column:f-T}}getLineFeedCnt(c,d,s){if(s.column===0)return s.line-d.line;const l=this._buffers[c].lineStarts;if(s.line===l.length-1)return s.line-d.line;const r=l[s.line+1],h=l[s.line]+s.column;if(r>h+1)return s.line-d.line;const u=h-1;return this._buffers[c].buffer.charCodeAt(u)===13?s.line-d.line+1:s.line-d.line}offsetInBuffer(c,d){return this._buffers[c].lineStarts[d.line]+d.column}deleteNodes(c){for(let d=0;d<c.length;d++)(0,D.rbDelete)(this,c[d])}createNewPieces(c){if(c.length>p){const _=[];for(;c.length>p;){const I=c.charCodeAt(p-1);let T;I===13||I>=55296&&I<=56319?(T=c.substring(0,p-1),c=c.substring(p-1)):(T=c.substring(0,p),c=c.substring(p));const A=b(T);_.push(new n(this._buffers.length,{line:0,column:0},{line:A.length-1,column:T.length-A[A.length-1]},A.length-1,T.length)),this._buffers.push(new i(T,A))}const E=b(c);return _.push(new n(this._buffers.length,{line:0,column:0},{line:E.length-1,column:c.length-E[E.length-1]},E.length-1,c.length)),this._buffers.push(new i(c,E)),_}let d=this._buffers[0].buffer.length;const s=b(c,!1);let l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===d&&d!==0&&this.startWithLF(c)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(let _=0;_<s.length;_++)s[_]+=d+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1)),this._buffers[0].buffer+="_"+c,d+=1}else{if(d!==0)for(let _=0;_<s.length;_++)s[_]+=d;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(s.slice(1)),this._buffers[0].buffer+=c}const r=this._buffers[0].buffer.length,h=this._buffers[0].lineStarts.length-1,u=r-this._buffers[0].lineStarts[h],f={line:h,column:u},C=new n(0,l,f,this.getLineFeedCnt(0,l,f),r-d);return this._lastChangeBufferPos=f,[C]}getLineRawContent(c,d=0){let s=this.root,l="";const r=this._searchCache.get2(c);if(r){s=r.node;const h=this.getAccumulatedValue(s,c-r.nodeStartLineNumber-1),u=this._buffers[s.piece.bufferIndex].buffer,f=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);if(r.nodeStartLineNumber+s.piece.lineFeedCnt===c)l=u.substring(f+h,f+s.piece.length);else{const C=this.getAccumulatedValue(s,c-r.nodeStartLineNumber);return u.substring(f+h,f+C-d)}}else{let h=0;const u=c;for(;s!==D.SENTINEL;)if(s.left!==D.SENTINEL&&s.lf_left>=c-1)s=s.left;else if(s.lf_left+s.piece.lineFeedCnt>c-1){const f=this.getAccumulatedValue(s,c-s.lf_left-2),C=this.getAccumulatedValue(s,c-s.lf_left-1),_=this._buffers[s.piece.bufferIndex].buffer,E=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return h+=s.size_left,this._searchCache.set({node:s,nodeStartOffset:h,nodeStartLineNumber:u-(c-1-s.lf_left)}),_.substring(E+f,E+C-d)}else if(s.lf_left+s.piece.lineFeedCnt===c-1){const f=this.getAccumulatedValue(s,c-s.lf_left-2),C=this._buffers[s.piece.bufferIndex].buffer,_=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);l=C.substring(_+f,_+s.piece.length);break}else c-=s.lf_left+s.piece.lineFeedCnt,h+=s.size_left+s.piece.length,s=s.right}for(s=s.next();s!==D.SENTINEL;){const h=this._buffers[s.piece.bufferIndex].buffer;if(s.piece.lineFeedCnt>0){const u=this.getAccumulatedValue(s,0),f=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return l+=h.substring(f,f+u-d),l}else{const u=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);l+=h.substr(u,s.piece.length)}s=s.next()}return l}computeBufferMetadata(){let c=this.root,d=1,s=0;for(;c!==D.SENTINEL;)d+=c.lf_left+c.piece.lineFeedCnt,s+=c.size_left+c.piece.length,c=c.right;this._lineCnt=d,this._length=s,this._searchCache.validate(this._length)}getIndexOf(c,d){const s=c.piece,l=this.positionInBuffer(c,d),r=l.line-s.start.line;if(this.offsetInBuffer(s.bufferIndex,s.end)-this.offsetInBuffer(s.bufferIndex,s.start)===d){const h=this.getLineFeedCnt(c.piece.bufferIndex,s.start,l);if(h!==r)return{index:h,remainder:0}}return{index:r,remainder:l.column}}getAccumulatedValue(c,d){if(d<0)return 0;const s=c.piece,l=this._buffers[s.bufferIndex].lineStarts,r=s.start.line+d+1;return r>s.end.line?l[s.end.line]+s.end.column-l[s.start.line]-s.start.column:l[r]-l[s.start.line]-s.start.column}deleteNodeTail(c,d){const s=c.piece,l=s.lineFeedCnt,r=this.offsetInBuffer(s.bufferIndex,s.end),h=d,u=this.offsetInBuffer(s.bufferIndex,h),f=this.getLineFeedCnt(s.bufferIndex,s.start,h),C=f-l,_=u-r,E=s.length+_;c.piece=new n(s.bufferIndex,s.start,h,f,E),(0,D.updateTreeMetadata)(this,c,_,C)}deleteNodeHead(c,d){const s=c.piece,l=s.lineFeedCnt,r=this.offsetInBuffer(s.bufferIndex,s.start),h=d,u=this.getLineFeedCnt(s.bufferIndex,h,s.end),f=this.offsetInBuffer(s.bufferIndex,h),C=u-l,_=r-f,E=s.length+_;c.piece=new n(s.bufferIndex,h,s.end,u,E),(0,D.updateTreeMetadata)(this,c,_,C)}shrinkNode(c,d,s){const l=c.piece,r=l.start,h=l.end,u=l.length,f=l.lineFeedCnt,C=d,_=this.getLineFeedCnt(l.bufferIndex,l.start,C),E=this.offsetInBuffer(l.bufferIndex,d)-this.offsetInBuffer(l.bufferIndex,r);c.piece=new n(l.bufferIndex,l.start,C,_,E),(0,D.updateTreeMetadata)(this,c,E-u,_-f);const I=new n(l.bufferIndex,s,h,this.getLineFeedCnt(l.bufferIndex,s,h),this.offsetInBuffer(l.bufferIndex,h)-this.offsetInBuffer(l.bufferIndex,s)),T=this.rbInsertRight(c,I);this.validateCRLFWithPrevNode(T)}appendToNode(c,d){this.adjustCarriageReturnFromNext(d,c)&&(d+=`
`);const s=this.shouldCheckCRLF()&&this.startWithLF(d)&&this.endWithCR(c),l=this._buffers[0].buffer.length;this._buffers[0].buffer+=d;const r=b(d,!1);for(let T=0;T<r.length;T++)r[T]+=l;if(s){const T=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:l-T}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1));const h=this._buffers[0].lineStarts.length-1,u=this._buffers[0].buffer.length-this._buffers[0].lineStarts[h],f={line:h,column:u},C=c.piece.length+d.length,_=c.piece.lineFeedCnt,E=this.getLineFeedCnt(0,c.piece.start,f),I=E-_;c.piece=new n(c.piece.bufferIndex,c.piece.start,f,E,C),this._lastChangeBufferPos=f,(0,D.updateTreeMetadata)(this,c,d.length,I)}nodeAt(c){let d=this.root;const s=this._searchCache.get(c);if(s)return{node:s.node,nodeStartOffset:s.nodeStartOffset,remainder:c-s.nodeStartOffset};let l=0;for(;d!==D.SENTINEL;)if(d.size_left>c)d=d.left;else if(d.size_left+d.piece.length>=c){l+=d.size_left;const r={node:d,remainder:c-d.size_left,nodeStartOffset:l};return this._searchCache.set(r),r}else c-=d.size_left+d.piece.length,l+=d.size_left+d.piece.length,d=d.right;return null}nodeAt2(c,d){let s=this.root,l=0;for(;s!==D.SENTINEL;)if(s.left!==D.SENTINEL&&s.lf_left>=c-1)s=s.left;else if(s.lf_left+s.piece.lineFeedCnt>c-1){const r=this.getAccumulatedValue(s,c-s.lf_left-2),h=this.getAccumulatedValue(s,c-s.lf_left-1);return l+=s.size_left,{node:s,remainder:Math.min(r+d-1,h),nodeStartOffset:l}}else if(s.lf_left+s.piece.lineFeedCnt===c-1){const r=this.getAccumulatedValue(s,c-s.lf_left-2);if(r+d-1<=s.piece.length)return{node:s,remainder:r+d-1,nodeStartOffset:l};d-=s.piece.length-r;break}else c-=s.lf_left+s.piece.lineFeedCnt,l+=s.size_left+s.piece.length,s=s.right;for(s=s.next();s!==D.SENTINEL;){if(s.piece.lineFeedCnt>0){const r=this.getAccumulatedValue(s,0),h=this.offsetOfNode(s);return{node:s,remainder:Math.min(d-1,r),nodeStartOffset:h}}else if(s.piece.length>=d-1){const r=this.offsetOfNode(s);return{node:s,remainder:d-1,nodeStartOffset:r}}else d-=s.piece.length;s=s.next()}return null}nodeCharCodeAt(c,d){if(c.piece.lineFeedCnt<1)return-1;const s=this._buffers[c.piece.bufferIndex],l=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start)+d;return s.buffer.charCodeAt(l)}offsetOfNode(c){if(!c)return 0;let d=c.size_left;for(;c!==this.root;)c.parent.right===c&&(d+=c.parent.size_left+c.parent.piece.length),c=c.parent;return d}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(c){if(typeof c=="string")return c.charCodeAt(0)===10;if(c===D.SENTINEL||c.piece.lineFeedCnt===0)return!1;const d=c.piece,s=this._buffers[d.bufferIndex].lineStarts,l=d.start.line,r=s[l]+d.start.column;return l===s.length-1||s[l+1]>r+1?!1:this._buffers[d.bufferIndex].buffer.charCodeAt(r)===10}endWithCR(c){return typeof c=="string"?c.charCodeAt(c.length-1)===13:c===D.SENTINEL||c.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(c,c.piece.length-1)===13}validateCRLFWithPrevNode(c){if(this.shouldCheckCRLF()&&this.startWithLF(c)){const d=c.prev();this.endWithCR(d)&&this.fixCRLF(d,c)}}validateCRLFWithNextNode(c){if(this.shouldCheckCRLF()&&this.endWithCR(c)){const d=c.next();this.startWithLF(d)&&this.fixCRLF(c,d)}}fixCRLF(c,d){const s=[],l=this._buffers[c.piece.bufferIndex].lineStarts;let r;c.piece.end.column===0?r={line:c.piece.end.line-1,column:l[c.piece.end.line]-l[c.piece.end.line-1]-1}:r={line:c.piece.end.line,column:c.piece.end.column-1};const h=c.piece.length-1,u=c.piece.lineFeedCnt-1;c.piece=new n(c.piece.bufferIndex,c.piece.start,r,u,h),(0,D.updateTreeMetadata)(this,c,-1,-1),c.piece.length===0&&s.push(c);const f={line:d.piece.start.line+1,column:0},C=d.piece.length-1,_=this.getLineFeedCnt(d.piece.bufferIndex,f,d.piece.end);d.piece=new n(d.piece.bufferIndex,f,d.piece.end,_,C),(0,D.updateTreeMetadata)(this,d,-1,-1),d.piece.length===0&&s.push(d);const E=this.createNewPieces(`\r
`);this.rbInsertRight(c,E[0]);for(let I=0;I<s.length;I++)(0,D.rbDelete)(this,s[I])}adjustCarriageReturnFromNext(c,d){if(this.shouldCheckCRLF()&&this.endWithCR(c)){const s=d.next();if(this.startWithLF(s)){if(c+=`
`,s.piece.length===1)(0,D.rbDelete)(this,s);else{const l=s.piece,r={line:l.start.line+1,column:0},h=l.length-1,u=this.getLineFeedCnt(l.bufferIndex,r,l.end);s.piece=new n(l.bufferIndex,r,l.end,u,h),(0,D.updateTreeMetadata)(this,s,-1,-1)}return!0}}return!1}iterate(c,d){if(c===D.SENTINEL)return d(D.SENTINEL);const s=this.iterate(c.left,d);return s&&d(c)&&this.iterate(c.right,d)}getNodeContent(c){if(c===D.SENTINEL)return"";const d=this._buffers[c.piece.bufferIndex],s=c.piece,l=this.offsetInBuffer(s.bufferIndex,s.start),r=this.offsetInBuffer(s.bufferIndex,s.end);return d.buffer.substring(l,r)}getPieceContent(c){const d=this._buffers[c.bufferIndex],s=this.offsetInBuffer(c.bufferIndex,c.start),l=this.offsetInBuffer(c.bufferIndex,c.end);return d.buffer.substring(s,l)}rbInsertRight(c,d){const s=new D.TreeNode(d,1);if(s.left=D.SENTINEL,s.right=D.SENTINEL,s.parent=D.SENTINEL,s.size_left=0,s.lf_left=0,this.root===D.SENTINEL)this.root=s,s.color=0;else if(c.right===D.SENTINEL)c.right=s,s.parent=c;else{const r=(0,D.leftest)(c.right);r.left=s,s.parent=r}return(0,D.fixInsert)(this,s),s}rbInsertLeft(c,d){const s=new D.TreeNode(d,1);if(s.left=D.SENTINEL,s.right=D.SENTINEL,s.parent=D.SENTINEL,s.size_left=0,s.lf_left=0,this.root===D.SENTINEL)this.root=s,s.color=0;else if(c.left===D.SENTINEL)c.left=s,s.parent=c;else{const l=(0,D.righttest)(c.left);l.right=s,s.parent=l}return(0,D.fixInsert)(this,s),s}}e.PieceTreeBase=g}),define(ne[216],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function L(k,y){let D=0,S=0;const p=k.length;for(;S<p;){const w=k.charCodeAt(S);if(w===32)D++;else if(w===9)D=D-D%y+y;else break;S++}return S===p?-1:D}e.computeIndentLevel=L}),define(ne[302],se([1,0,90,9,40]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class D{constructor(a,n,i,t,o){this.injectionOffsets=a,this.injectionOptions=n,this.breakOffsets=i,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=o}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(a){return a>0?this.wrappedTextIndentLength:0}getLineLength(a){const n=a>0?this.breakOffsets[a-1]:0;let t=this.breakOffsets[a]-n;return a>0&&(t+=this.wrappedTextIndentLength),t}getMaxOutputOffset(a){return this.getLineLength(a)}translateToInputOffset(a,n){a>0&&(n=Math.max(0,n-this.wrappedTextIndentLength));let t=a===0?n:this.breakOffsets[a-1]+n;if(this.injectionOffsets!==null)for(let o=0;o<this.injectionOffsets.length&&t>this.injectionOffsets[o];o++)t<this.injectionOffsets[o]+this.injectionOptions[o].content.length?t=this.injectionOffsets[o]:t-=this.injectionOptions[o].content.length;return t}translateToOutputPosition(a,n=2){let i=a;if(this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&!(a<this.injectionOffsets[t]||n!==1&&a===this.injectionOffsets[t]);t++)i+=this.injectionOptions[t].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,n)}offsetInInputWithInjectionsToOutputPosition(a,n=2){let i=0,t=this.breakOffsets.length-1,o=0,g=0;for(;i<=t;){o=i+(t-i)/2|0;const c=this.breakOffsets[o];if(g=o>0?this.breakOffsets[o-1]:0,n===0)if(a<=g)t=o-1;else if(a>c)i=o+1;else break;else if(a<g)t=o-1;else if(a>=c)i=o+1;else break}let m=a-g;return o>0&&(m+=this.wrappedTextIndentLength),new v(o,m)}normalizeOutputPosition(a,n,i){if(this.injectionOffsets!==null){const t=this.outputPositionToOffsetInInputWithInjections(a,n),o=this.normalizeOffsetInInputWithInjectionsAroundInjections(t,i);if(o!==t)return this.offsetInInputWithInjectionsToOutputPosition(o,i)}if(i===0){if(a>0&&n===this.getMinOutputOffset(a))return new v(a-1,this.getMaxOutputOffset(a-1))}else if(i===1){const t=this.getOutputLineCount()-1;if(a<t&&n===this.getMaxOutputOffset(a))return new v(a+1,this.getMinOutputOffset(a+1))}return new v(a,n)}outputPositionToOffsetInInputWithInjections(a,n){return a>0&&(n=Math.max(0,n-this.wrappedTextIndentLength)),(a>0?this.breakOffsets[a-1]:0)+n}normalizeOffsetInInputWithInjectionsAroundInjections(a,n){const i=this.getInjectedTextAtOffset(a);if(!i)return a;if(n===2){if(a===i.offsetInInputWithInjections+i.length&&S(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let t=i.offsetInInputWithInjections;if(p(this.injectionOptions[i.injectedTextIndex].cursorStops))return t;let o=i.injectedTextIndex-1;for(;o>=0&&this.injectionOffsets[o]===this.injectionOffsets[i.injectedTextIndex]&&!(S(this.injectionOptions[o].cursorStops)||(t-=this.injectionOptions[o].content.length,p(this.injectionOptions[o].cursorStops)));)o--;return t}}else if(n===1||n===4){let t=i.offsetInInputWithInjections+i.length,o=i.injectedTextIndex;for(;o+1<this.injectionOffsets.length&&this.injectionOffsets[o+1]===this.injectionOffsets[o];)t+=this.injectionOptions[o+1].content.length,o++;return t}else if(n===0||n===3){let t=i.offsetInInputWithInjections,o=i.injectedTextIndex;for(;o-1>=0&&this.injectionOffsets[o-1]===this.injectionOffsets[o];)t-=this.injectionOptions[o-1].content.length,o--;return t}(0,L.assertNever)(n)}getInjectedText(a,n){const i=this.outputPositionToOffsetInInputWithInjections(a,n),t=this.getInjectedTextAtOffset(i);return t?{options:this.injectionOptions[t.injectedTextIndex]}:null}getInjectedTextAtOffset(a){const n=this.injectionOffsets,i=this.injectionOptions;if(n!==null){let t=0;for(let o=0;o<n.length;o++){const g=i[o].content.length,m=n[o]+t,c=n[o]+t+g;if(m>a)break;if(a<=c)return{injectedTextIndex:o,offsetInInputWithInjections:m,length:g};t+=g}}}}e.ModelLineProjectionData=D;function S(b){return b==null?!0:b===y.InjectedTextCursorStops.Right||b===y.InjectedTextCursorStops.Both}function p(b){return b==null?!0:b===y.InjectedTextCursorStops.Left||b===y.InjectedTextCursorStops.Both}class w{constructor(a){this.options=a}}e.InjectedText=w;class v{constructor(a,n){this.outputLineIndex=a,this.outputOffset=n}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(a){return new k.Position(a+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=v}),define(ne[303],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DraggedTreeItemsIdentifier=e.TreeViewsDnDService=void 0;class L{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(D){if(D&&this._dragOperations.has(D)){const S=this._dragOperations.get(D);return this._dragOperations.delete(D),S}}}e.TreeViewsDnDService=L;class k{constructor(D){this.identifier=D}}e.DraggedTreeItemsIdentifier=k}),define(ne[304],se([1,0,5,187,11,90,155]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class p{static computeUnicodeHighlights(n,i,t){const o=t?t.startLineNumber:1,g=t?t.endLineNumber:n.getLineCount(),m=new v(i),c=m.getCandidateCodePoints();let d;c==="allNonBasicAscii"?d=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):d=new RegExp(`${w(Array.from(c))}`,"g");const s=new k.Searcher(null,d),l=[];let r=!1,h,u=0,f=0,C=0;e:for(let _=o,E=g;_<=E;_++){const I=n.getLineContent(_),T=I.length;s.reset(0);do if(h=s.next(I),h){let A=h.index,R=h.index+h[0].length;if(A>0){const F=I.charCodeAt(A-1);y.isHighSurrogate(F)&&A--}if(R+1<T){const F=I.charCodeAt(R-1);y.isHighSurrogate(F)&&R++}const M=I.substring(A,R);let N=(0,S.getWordAtText)(A+1,S.DEFAULT_WORD_REGEXP,I,0);N&&N.endColumn<=A+1&&(N=null);const P=m.shouldHighlightNonBasicASCII(M,N?N.word:null);if(P!==0){if(P===3?u++:P===2?f++:P===1?C++:(0,D.assertNever)(P),l.length>=1e3){r=!0;break e}l.push(new L.Range(_,A+1,_,R+1))}}while(h)}return{ranges:l,hasMore:r,ambiguousCharacterCount:u,invisibleCharacterCount:f,nonBasicAsciiCharacterCount:C}}static computeUnicodeHighlightReason(n,i){const t=new v(i);switch(t.shouldHighlightNonBasicASCII(n,null)){case 0:return null;case 2:return{kind:1};case 3:{const g=n.codePointAt(0),m=t.ambiguousCharacters.getPrimaryConfusable(g),c=y.AmbiguousCharacters.getLocales().filter(d=>!y.AmbiguousCharacters.getInstance(new Set([...i.allowedLocales,d])).isAmbiguous(g));return{kind:0,confusableWith:String.fromCodePoint(m),notAmbiguousInLocales:c}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=p;function w(a,n){return`[${y.escapeRegExpCharacters(a.map(t=>String.fromCodePoint(t)).join(""))}]`}class v{constructor(n){this.options=n,this.allowedCodePoints=new Set(n.allowedCodePoints),this.ambiguousCharacters=y.AmbiguousCharacters.getInstance(new Set(n.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const n=new Set;if(this.options.invisibleCharacters)for(const i of y.InvisibleCharacters.codePoints)b(String.fromCodePoint(i))||n.add(i);if(this.options.ambiguousCharacters)for(const i of this.ambiguousCharacters.getConfusableCodePoints())n.add(i);for(const i of this.allowedCodePoints)n.delete(i);return n}shouldHighlightNonBasicASCII(n,i){const t=n.codePointAt(0);if(this.allowedCodePoints.has(t))return 0;if(this.options.nonBasicASCII)return 1;let o=!1,g=!1;if(i)for(const m of i){const c=m.codePointAt(0),d=y.isBasicASCII(m);o=o||d,!d&&!this.ambiguousCharacters.isAmbiguous(c)&&!y.InvisibleCharacters.isInvisibleCharacter(c)&&(g=!0)}return!o&&g?0:this.options.invisibleCharacters&&!b(n)&&y.InvisibleCharacters.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(t)?3:0}}function b(a){return a===" "||a===`
`||a==="	"}}),define(ne[217],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.ShowLightbulbIconMode=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.NewSymbolNameTag=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineEditTriggerKind=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.GlyphMarginLane=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var L;(function(x){x[x.Unknown=0]="Unknown",x[x.Disabled=1]="Disabled",x[x.Enabled=2]="Enabled"})(L||(e.AccessibilitySupport=L={}));var k;(function(x){x[x.Invoke=1]="Invoke",x[x.Auto=2]="Auto"})(k||(e.CodeActionTriggerType=k={}));var y;(function(x){x[x.None=0]="None",x[x.KeepWhitespace=1]="KeepWhitespace",x[x.InsertAsSnippet=4]="InsertAsSnippet"})(y||(e.CompletionItemInsertTextRule=y={}));var D;(function(x){x[x.Method=0]="Method",x[x.Function=1]="Function",x[x.Constructor=2]="Constructor",x[x.Field=3]="Field",x[x.Variable=4]="Variable",x[x.Class=5]="Class",x[x.Struct=6]="Struct",x[x.Interface=7]="Interface",x[x.Module=8]="Module",x[x.Property=9]="Property",x[x.Event=10]="Event",x[x.Operator=11]="Operator",x[x.Unit=12]="Unit",x[x.Value=13]="Value",x[x.Constant=14]="Constant",x[x.Enum=15]="Enum",x[x.EnumMember=16]="EnumMember",x[x.Keyword=17]="Keyword",x[x.Text=18]="Text",x[x.Color=19]="Color",x[x.File=20]="File",x[x.Reference=21]="Reference",x[x.Customcolor=22]="Customcolor",x[x.Folder=23]="Folder",x[x.TypeParameter=24]="TypeParameter",x[x.User=25]="User",x[x.Issue=26]="Issue",x[x.Snippet=27]="Snippet"})(D||(e.CompletionItemKind=D={}));var S;(function(x){x[x.Deprecated=1]="Deprecated"})(S||(e.CompletionItemTag=S={}));var p;(function(x){x[x.Invoke=0]="Invoke",x[x.TriggerCharacter=1]="TriggerCharacter",x[x.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(p||(e.CompletionTriggerKind=p={}));var w;(function(x){x[x.EXACT=0]="EXACT",x[x.ABOVE=1]="ABOVE",x[x.BELOW=2]="BELOW"})(w||(e.ContentWidgetPositionPreference=w={}));var v;(function(x){x[x.NotSet=0]="NotSet",x[x.ContentFlush=1]="ContentFlush",x[x.RecoverFromMarkers=2]="RecoverFromMarkers",x[x.Explicit=3]="Explicit",x[x.Paste=4]="Paste",x[x.Undo=5]="Undo",x[x.Redo=6]="Redo"})(v||(e.CursorChangeReason=v={}));var b;(function(x){x[x.LF=1]="LF",x[x.CRLF=2]="CRLF"})(b||(e.DefaultEndOfLine=b={}));var a;(function(x){x[x.Text=0]="Text",x[x.Read=1]="Read",x[x.Write=2]="Write"})(a||(e.DocumentHighlightKind=a={}));var n;(function(x){x[x.None=0]="None",x[x.Keep=1]="Keep",x[x.Brackets=2]="Brackets",x[x.Advanced=3]="Advanced",x[x.Full=4]="Full"})(n||(e.EditorAutoIndentStrategy=n={}));var i;(function(x){x[x.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",x[x.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",x[x.accessibilitySupport=2]="accessibilitySupport",x[x.accessibilityPageSize=3]="accessibilityPageSize",x[x.ariaLabel=4]="ariaLabel",x[x.ariaRequired=5]="ariaRequired",x[x.autoClosingBrackets=6]="autoClosingBrackets",x[x.autoClosingComments=7]="autoClosingComments",x[x.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",x[x.autoClosingDelete=9]="autoClosingDelete",x[x.autoClosingOvertype=10]="autoClosingOvertype",x[x.autoClosingQuotes=11]="autoClosingQuotes",x[x.autoIndent=12]="autoIndent",x[x.automaticLayout=13]="automaticLayout",x[x.autoSurround=14]="autoSurround",x[x.bracketPairColorization=15]="bracketPairColorization",x[x.guides=16]="guides",x[x.codeLens=17]="codeLens",x[x.codeLensFontFamily=18]="codeLensFontFamily",x[x.codeLensFontSize=19]="codeLensFontSize",x[x.colorDecorators=20]="colorDecorators",x[x.colorDecoratorsLimit=21]="colorDecoratorsLimit",x[x.columnSelection=22]="columnSelection",x[x.comments=23]="comments",x[x.contextmenu=24]="contextmenu",x[x.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",x[x.cursorBlinking=26]="cursorBlinking",x[x.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",x[x.cursorStyle=28]="cursorStyle",x[x.cursorSurroundingLines=29]="cursorSurroundingLines",x[x.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",x[x.cursorWidth=31]="cursorWidth",x[x.disableLayerHinting=32]="disableLayerHinting",x[x.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",x[x.domReadOnly=34]="domReadOnly",x[x.dragAndDrop=35]="dragAndDrop",x[x.dropIntoEditor=36]="dropIntoEditor",x[x.emptySelectionClipboard=37]="emptySelectionClipboard",x[x.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",x[x.extraEditorClassName=39]="extraEditorClassName",x[x.fastScrollSensitivity=40]="fastScrollSensitivity",x[x.find=41]="find",x[x.fixedOverflowWidgets=42]="fixedOverflowWidgets",x[x.folding=43]="folding",x[x.foldingStrategy=44]="foldingStrategy",x[x.foldingHighlight=45]="foldingHighlight",x[x.foldingImportsByDefault=46]="foldingImportsByDefault",x[x.foldingMaximumRegions=47]="foldingMaximumRegions",x[x.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",x[x.fontFamily=49]="fontFamily",x[x.fontInfo=50]="fontInfo",x[x.fontLigatures=51]="fontLigatures",x[x.fontSize=52]="fontSize",x[x.fontWeight=53]="fontWeight",x[x.fontVariations=54]="fontVariations",x[x.formatOnPaste=55]="formatOnPaste",x[x.formatOnType=56]="formatOnType",x[x.glyphMargin=57]="glyphMargin",x[x.gotoLocation=58]="gotoLocation",x[x.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",x[x.hover=60]="hover",x[x.inDiffEditor=61]="inDiffEditor",x[x.inlineSuggest=62]="inlineSuggest",x[x.inlineEdit=63]="inlineEdit",x[x.letterSpacing=64]="letterSpacing",x[x.lightbulb=65]="lightbulb",x[x.lineDecorationsWidth=66]="lineDecorationsWidth",x[x.lineHeight=67]="lineHeight",x[x.lineNumbers=68]="lineNumbers",x[x.lineNumbersMinChars=69]="lineNumbersMinChars",x[x.linkedEditing=70]="linkedEditing",x[x.links=71]="links",x[x.matchBrackets=72]="matchBrackets",x[x.minimap=73]="minimap",x[x.mouseStyle=74]="mouseStyle",x[x.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",x[x.mouseWheelZoom=76]="mouseWheelZoom",x[x.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",x[x.multiCursorModifier=78]="multiCursorModifier",x[x.multiCursorPaste=79]="multiCursorPaste",x[x.multiCursorLimit=80]="multiCursorLimit",x[x.occurrencesHighlight=81]="occurrencesHighlight",x[x.overviewRulerBorder=82]="overviewRulerBorder",x[x.overviewRulerLanes=83]="overviewRulerLanes",x[x.padding=84]="padding",x[x.pasteAs=85]="pasteAs",x[x.parameterHints=86]="parameterHints",x[x.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",x[x.definitionLinkOpensInPeek=88]="definitionLinkOpensInPeek",x[x.quickSuggestions=89]="quickSuggestions",x[x.quickSuggestionsDelay=90]="quickSuggestionsDelay",x[x.readOnly=91]="readOnly",x[x.readOnlyMessage=92]="readOnlyMessage",x[x.renameOnType=93]="renameOnType",x[x.renderControlCharacters=94]="renderControlCharacters",x[x.renderFinalNewline=95]="renderFinalNewline",x[x.renderLineHighlight=96]="renderLineHighlight",x[x.renderLineHighlightOnlyWhenFocus=97]="renderLineHighlightOnlyWhenFocus",x[x.renderValidationDecorations=98]="renderValidationDecorations",x[x.renderWhitespace=99]="renderWhitespace",x[x.revealHorizontalRightPadding=100]="revealHorizontalRightPadding",x[x.roundedSelection=101]="roundedSelection",x[x.rulers=102]="rulers",x[x.scrollbar=103]="scrollbar",x[x.scrollBeyondLastColumn=104]="scrollBeyondLastColumn",x[x.scrollBeyondLastLine=105]="scrollBeyondLastLine",x[x.scrollPredominantAxis=106]="scrollPredominantAxis",x[x.selectionClipboard=107]="selectionClipboard",x[x.selectionHighlight=108]="selectionHighlight",x[x.selectOnLineNumbers=109]="selectOnLineNumbers",x[x.showFoldingControls=110]="showFoldingControls",x[x.showUnused=111]="showUnused",x[x.snippetSuggestions=112]="snippetSuggestions",x[x.smartSelect=113]="smartSelect",x[x.smoothScrolling=114]="smoothScrolling",x[x.stickyScroll=115]="stickyScroll",x[x.stickyTabStops=116]="stickyTabStops",x[x.stopRenderingLineAfter=117]="stopRenderingLineAfter",x[x.suggest=118]="suggest",x[x.suggestFontSize=119]="suggestFontSize",x[x.suggestLineHeight=120]="suggestLineHeight",x[x.suggestOnTriggerCharacters=121]="suggestOnTriggerCharacters",x[x.suggestSelection=122]="suggestSelection",x[x.tabCompletion=123]="tabCompletion",x[x.tabIndex=124]="tabIndex",x[x.unicodeHighlighting=125]="unicodeHighlighting",x[x.unusualLineTerminators=126]="unusualLineTerminators",x[x.useShadowDOM=127]="useShadowDOM",x[x.useTabStops=128]="useTabStops",x[x.wordBreak=129]="wordBreak",x[x.wordSeparators=130]="wordSeparators",x[x.wordWrap=131]="wordWrap",x[x.wordWrapBreakAfterCharacters=132]="wordWrapBreakAfterCharacters",x[x.wordWrapBreakBeforeCharacters=133]="wordWrapBreakBeforeCharacters",x[x.wordWrapColumn=134]="wordWrapColumn",x[x.wordWrapOverride1=135]="wordWrapOverride1",x[x.wordWrapOverride2=136]="wordWrapOverride2",x[x.wrappingIndent=137]="wrappingIndent",x[x.wrappingStrategy=138]="wrappingStrategy",x[x.showDeprecated=139]="showDeprecated",x[x.inlayHints=140]="inlayHints",x[x.editorClassName=141]="editorClassName",x[x.pixelRatio=142]="pixelRatio",x[x.tabFocusMode=143]="tabFocusMode",x[x.layoutInfo=144]="layoutInfo",x[x.wrappingInfo=145]="wrappingInfo",x[x.defaultColorDecorators=146]="defaultColorDecorators",x[x.colorDecoratorsActivatedOn=147]="colorDecoratorsActivatedOn",x[x.inlineCompletionsAccessibilityVerbose=148]="inlineCompletionsAccessibilityVerbose"})(i||(e.EditorOption=i={}));var t;(function(x){x[x.TextDefined=0]="TextDefined",x[x.LF=1]="LF",x[x.CRLF=2]="CRLF"})(t||(e.EndOfLinePreference=t={}));var o;(function(x){x[x.LF=0]="LF",x[x.CRLF=1]="CRLF"})(o||(e.EndOfLineSequence=o={}));var g;(function(x){x[x.Left=1]="Left",x[x.Center=2]="Center",x[x.Right=3]="Right"})(g||(e.GlyphMarginLane=g={}));var m;(function(x){x[x.None=0]="None",x[x.Indent=1]="Indent",x[x.IndentOutdent=2]="IndentOutdent",x[x.Outdent=3]="Outdent"})(m||(e.IndentAction=m={}));var c;(function(x){x[x.Both=0]="Both",x[x.Right=1]="Right",x[x.Left=2]="Left",x[x.None=3]="None"})(c||(e.InjectedTextCursorStops=c={}));var d;(function(x){x[x.Type=1]="Type",x[x.Parameter=2]="Parameter"})(d||(e.InlayHintKind=d={}));var s;(function(x){x[x.Automatic=0]="Automatic",x[x.Explicit=1]="Explicit"})(s||(e.InlineCompletionTriggerKind=s={}));var l;(function(x){x[x.Invoke=0]="Invoke",x[x.Automatic=1]="Automatic"})(l||(e.InlineEditTriggerKind=l={}));var r;(function(x){x[x.DependsOnKbLayout=-1]="DependsOnKbLayout",x[x.Unknown=0]="Unknown",x[x.Backspace=1]="Backspace",x[x.Tab=2]="Tab",x[x.Enter=3]="Enter",x[x.Shift=4]="Shift",x[x.Ctrl=5]="Ctrl",x[x.Alt=6]="Alt",x[x.PauseBreak=7]="PauseBreak",x[x.CapsLock=8]="CapsLock",x[x.Escape=9]="Escape",x[x.Space=10]="Space",x[x.PageUp=11]="PageUp",x[x.PageDown=12]="PageDown",x[x.End=13]="End",x[x.Home=14]="Home",x[x.LeftArrow=15]="LeftArrow",x[x.UpArrow=16]="UpArrow",x[x.RightArrow=17]="RightArrow",x[x.DownArrow=18]="DownArrow",x[x.Insert=19]="Insert",x[x.Delete=20]="Delete",x[x.Digit0=21]="Digit0",x[x.Digit1=22]="Digit1",x[x.Digit2=23]="Digit2",x[x.Digit3=24]="Digit3",x[x.Digit4=25]="Digit4",x[x.Digit5=26]="Digit5",x[x.Digit6=27]="Digit6",x[x.Digit7=28]="Digit7",x[x.Digit8=29]="Digit8",x[x.Digit9=30]="Digit9",x[x.KeyA=31]="KeyA",x[x.KeyB=32]="KeyB",x[x.KeyC=33]="KeyC",x[x.KeyD=34]="KeyD",x[x.KeyE=35]="KeyE",x[x.KeyF=36]="KeyF",x[x.KeyG=37]="KeyG",x[x.KeyH=38]="KeyH",x[x.KeyI=39]="KeyI",x[x.KeyJ=40]="KeyJ",x[x.KeyK=41]="KeyK",x[x.KeyL=42]="KeyL",x[x.KeyM=43]="KeyM",x[x.KeyN=44]="KeyN",x[x.KeyO=45]="KeyO",x[x.KeyP=46]="KeyP",x[x.KeyQ=47]="KeyQ",x[x.KeyR=48]="KeyR",x[x.KeyS=49]="KeyS",x[x.KeyT=50]="KeyT",x[x.KeyU=51]="KeyU",x[x.KeyV=52]="KeyV",x[x.KeyW=53]="KeyW",x[x.KeyX=54]="KeyX",x[x.KeyY=55]="KeyY",x[x.KeyZ=56]="KeyZ",x[x.Meta=57]="Meta",x[x.ContextMenu=58]="ContextMenu",x[x.F1=59]="F1",x[x.F2=60]="F2",x[x.F3=61]="F3",x[x.F4=62]="F4",x[x.F5=63]="F5",x[x.F6=64]="F6",x[x.F7=65]="F7",x[x.F8=66]="F8",x[x.F9=67]="F9",x[x.F10=68]="F10",x[x.F11=69]="F11",x[x.F12=70]="F12",x[x.F13=71]="F13",x[x.F14=72]="F14",x[x.F15=73]="F15",x[x.F16=74]="F16",x[x.F17=75]="F17",x[x.F18=76]="F18",x[x.F19=77]="F19",x[x.F20=78]="F20",x[x.F21=79]="F21",x[x.F22=80]="F22",x[x.F23=81]="F23",x[x.F24=82]="F24",x[x.NumLock=83]="NumLock",x[x.ScrollLock=84]="ScrollLock",x[x.Semicolon=85]="Semicolon",x[x.Equal=86]="Equal",x[x.Comma=87]="Comma",x[x.Minus=88]="Minus",x[x.Period=89]="Period",x[x.Slash=90]="Slash",x[x.Backquote=91]="Backquote",x[x.BracketLeft=92]="BracketLeft",x[x.Backslash=93]="Backslash",x[x.BracketRight=94]="BracketRight",x[x.Quote=95]="Quote",x[x.OEM_8=96]="OEM_8",x[x.IntlBackslash=97]="IntlBackslash",x[x.Numpad0=98]="Numpad0",x[x.Numpad1=99]="Numpad1",x[x.Numpad2=100]="Numpad2",x[x.Numpad3=101]="Numpad3",x[x.Numpad4=102]="Numpad4",x[x.Numpad5=103]="Numpad5",x[x.Numpad6=104]="Numpad6",x[x.Numpad7=105]="Numpad7",x[x.Numpad8=106]="Numpad8",x[x.Numpad9=107]="Numpad9",x[x.NumpadMultiply=108]="NumpadMultiply",x[x.NumpadAdd=109]="NumpadAdd",x[x.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",x[x.NumpadSubtract=111]="NumpadSubtract",x[x.NumpadDecimal=112]="NumpadDecimal",x[x.NumpadDivide=113]="NumpadDivide",x[x.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",x[x.ABNT_C1=115]="ABNT_C1",x[x.ABNT_C2=116]="ABNT_C2",x[x.AudioVolumeMute=117]="AudioVolumeMute",x[x.AudioVolumeUp=118]="AudioVolumeUp",x[x.AudioVolumeDown=119]="AudioVolumeDown",x[x.BrowserSearch=120]="BrowserSearch",x[x.BrowserHome=121]="BrowserHome",x[x.BrowserBack=122]="BrowserBack",x[x.BrowserForward=123]="BrowserForward",x[x.MediaTrackNext=124]="MediaTrackNext",x[x.MediaTrackPrevious=125]="MediaTrackPrevious",x[x.MediaStop=126]="MediaStop",x[x.MediaPlayPause=127]="MediaPlayPause",x[x.LaunchMediaPlayer=128]="LaunchMediaPlayer",x[x.LaunchMail=129]="LaunchMail",x[x.LaunchApp2=130]="LaunchApp2",x[x.Clear=131]="Clear",x[x.MAX_VALUE=132]="MAX_VALUE"})(r||(e.KeyCode=r={}));var h;(function(x){x[x.Hint=1]="Hint",x[x.Info=2]="Info",x[x.Warning=4]="Warning",x[x.Error=8]="Error"})(h||(e.MarkerSeverity=h={}));var u;(function(x){x[x.Unnecessary=1]="Unnecessary",x[x.Deprecated=2]="Deprecated"})(u||(e.MarkerTag=u={}));var f;(function(x){x[x.Inline=1]="Inline",x[x.Gutter=2]="Gutter"})(f||(e.MinimapPosition=f={}));var C;(function(x){x[x.UNKNOWN=0]="UNKNOWN",x[x.TEXTAREA=1]="TEXTAREA",x[x.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",x[x.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",x[x.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",x[x.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",x[x.CONTENT_TEXT=6]="CONTENT_TEXT",x[x.CONTENT_EMPTY=7]="CONTENT_EMPTY",x[x.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",x[x.CONTENT_WIDGET=9]="CONTENT_WIDGET",x[x.OVERVIEW_RULER=10]="OVERVIEW_RULER",x[x.SCROLLBAR=11]="SCROLLBAR",x[x.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",x[x.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(C||(e.MouseTargetType=C={}));var _;(function(x){x[x.AIGenerated=1]="AIGenerated"})(_||(e.NewSymbolNameTag=_={}));var E;(function(x){x[x.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",x[x.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",x[x.TOP_CENTER=2]="TOP_CENTER"})(E||(e.OverlayWidgetPositionPreference=E={}));var I;(function(x){x[x.Left=1]="Left",x[x.Center=2]="Center",x[x.Right=4]="Right",x[x.Full=7]="Full"})(I||(e.OverviewRulerLane=I={}));var T;(function(x){x[x.Left=0]="Left",x[x.Right=1]="Right",x[x.None=2]="None",x[x.LeftOfInjectedText=3]="LeftOfInjectedText",x[x.RightOfInjectedText=4]="RightOfInjectedText"})(T||(e.PositionAffinity=T={}));var A;(function(x){x[x.Off=0]="Off",x[x.On=1]="On",x[x.Relative=2]="Relative",x[x.Interval=3]="Interval",x[x.Custom=4]="Custom"})(A||(e.RenderLineNumbersType=A={}));var R;(function(x){x[x.None=0]="None",x[x.Text=1]="Text",x[x.Blocks=2]="Blocks"})(R||(e.RenderMinimap=R={}));var M;(function(x){x[x.Smooth=0]="Smooth",x[x.Immediate=1]="Immediate"})(M||(e.ScrollType=M={}));var N;(function(x){x[x.Auto=1]="Auto",x[x.Hidden=2]="Hidden",x[x.Visible=3]="Visible"})(N||(e.ScrollbarVisibility=N={}));var P;(function(x){x[x.LTR=0]="LTR",x[x.RTL=1]="RTL"})(P||(e.SelectionDirection=P={}));var F;(function(x){x.Off="off",x.OnCode="onCode",x.On="on"})(F||(e.ShowLightbulbIconMode=F={}));var O;(function(x){x[x.Invoke=1]="Invoke",x[x.TriggerCharacter=2]="TriggerCharacter",x[x.ContentChange=3]="ContentChange"})(O||(e.SignatureHelpTriggerKind=O={}));var B;(function(x){x[x.File=0]="File",x[x.Module=1]="Module",x[x.Namespace=2]="Namespace",x[x.Package=3]="Package",x[x.Class=4]="Class",x[x.Method=5]="Method",x[x.Property=6]="Property",x[x.Field=7]="Field",x[x.Constructor=8]="Constructor",x[x.Enum=9]="Enum",x[x.Interface=10]="Interface",x[x.Function=11]="Function",x[x.Variable=12]="Variable",x[x.Constant=13]="Constant",x[x.String=14]="String",x[x.Number=15]="Number",x[x.Boolean=16]="Boolean",x[x.Array=17]="Array",x[x.Object=18]="Object",x[x.Key=19]="Key",x[x.Null=20]="Null",x[x.EnumMember=21]="EnumMember",x[x.Struct=22]="Struct",x[x.Event=23]="Event",x[x.Operator=24]="Operator",x[x.TypeParameter=25]="TypeParameter"})(B||(e.SymbolKind=B={}));var W;(function(x){x[x.Deprecated=1]="Deprecated"})(W||(e.SymbolTag=W={}));var V;(function(x){x[x.Hidden=0]="Hidden",x[x.Blink=1]="Blink",x[x.Smooth=2]="Smooth",x[x.Phase=3]="Phase",x[x.Expand=4]="Expand",x[x.Solid=5]="Solid"})(V||(e.TextEditorCursorBlinkingStyle=V={}));var z;(function(x){x[x.Line=1]="Line",x[x.Block=2]="Block",x[x.Underline=3]="Underline",x[x.LineThin=4]="LineThin",x[x.BlockOutline=5]="BlockOutline",x[x.UnderlineThin=6]="UnderlineThin"})(z||(e.TextEditorCursorStyle=z={}));var K;(function(x){x[x.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",x[x.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",x[x.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",x[x.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(K||(e.TrackedRangeStickiness=K={}));var j;(function(x){x[x.None=0]="None",x[x.Same=1]="Same",x[x.Indent=2]="Indent",x[x.DeepIndent=3]="DeepIndent"})(j||(e.WrappingIndent=j={}))}),define(ne[537],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class L{constructor(S,p,w,v){this.range=S,this.nestingLevel=p,this.nestingLevelOfEqualBracketType=w,this.isInvalid=v}}e.BracketInfo=L;class k{constructor(S,p,w,v,b,a){this.range=S,this.openingBracketRange=p,this.closingBracketRange=w,this.nestingLevel=v,this.nestingLevelOfEqualBracketType=b,this.bracketPairNode=a}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=k;class y extends k{constructor(S,p,w,v,b,a,n){super(S,p,w,v,b,a),this.minVisibleColumnIndentation=n}}e.BracketPairWithMinIndentationInfo=y}),define(ne[538],se([1,0,7,2,537,185,298,92,297,138,215,13,296]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class i extends k.Disposable{didLanguageChange(s){return this.brackets.didLanguageChange(s)}constructor(s,l){if(super(),this.textModel=s,this.getLanguageConfiguration=l,this.didChangeEmitter=new L.Emitter,this.denseKeyProvider=new v.DenseKeyProvider,this.brackets=new S.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],s.tokenization.hasTokens)s.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const r=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),h=new b.FastTokenizer(this.textModel.getValue(),r);this.initialAstWithoutTokens=(0,w.parseDocument)(h,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const s=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,s||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:s}){const l=s.map(r=>new D.TextEditInfo((0,p.toLength)(r.fromLineNumber-1,0),(0,p.toLength)(r.toLineNumber,0),(0,p.toLength)(r.toLineNumber-r.fromLineNumber+1,0)));this.handleEdits(l,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(s){const l=D.TextEditInfo.fromModelContentChanges(s.changes);this.handleEdits(l,!1)}handleEdits(s,l){const r=(0,n.combineTextEditInfos)(this.queuedTextEdits,s);this.queuedTextEdits=r,this.initialAstWithoutTokens&&!l&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,n.combineTextEditInfos)(this.queuedTextEditsForInitialAstWithoutTokens,s))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(s,l,r){const u=l,f=new b.TextBufferTokenizer(this.textModel,this.brackets);return(0,w.parseDocument)(f,s,u,r)}getBracketsInRange(s,l){this.flushQueue();const r=(0,p.toLength)(s.startLineNumber-1,s.startColumn-1),h=(0,p.toLength)(s.endLineNumber-1,s.endColumn-1);return new a.CallbackIterable(u=>{const f=this.initialAstWithoutTokens||this.astWithTokens;g(f,p.lengthZero,f.length,r,h,u,0,0,new Map,l)})}getBracketPairsInRange(s,l){this.flushQueue();const r=(0,p.positionToLength)(s.getStartPosition()),h=(0,p.positionToLength)(s.getEndPosition());return new a.CallbackIterable(u=>{const f=this.initialAstWithoutTokens||this.astWithTokens,C=new m(u,l,this.textModel);c(f,p.lengthZero,f.length,r,h,C,0,new Map)})}getFirstBracketAfter(s){this.flushQueue();const l=this.initialAstWithoutTokens||this.astWithTokens;return o(l,p.lengthZero,l.length,(0,p.positionToLength)(s))}getFirstBracketBefore(s){this.flushQueue();const l=this.initialAstWithoutTokens||this.astWithTokens;return t(l,p.lengthZero,l.length,(0,p.positionToLength)(s))}}e.BracketPairsTree=i;function t(d,s,l,r){if(d.kind===4||d.kind===2){const h=[];for(const u of d.children)l=(0,p.lengthAdd)(s,u.length),h.push({nodeOffsetStart:s,nodeOffsetEnd:l}),s=l;for(let u=h.length-1;u>=0;u--){const{nodeOffsetStart:f,nodeOffsetEnd:C}=h[u];if((0,p.lengthLessThan)(f,r)){const _=t(d.children[u],f,C,r);if(_)return _}}return null}else{if(d.kind===3)return null;if(d.kind===1){const h=(0,p.lengthsToRange)(s,l);return{bracketInfo:d.bracketInfo,range:h}}}return null}function o(d,s,l,r){if(d.kind===4||d.kind===2){for(const h of d.children){if(l=(0,p.lengthAdd)(s,h.length),(0,p.lengthLessThan)(r,l)){const u=o(h,s,l,r);if(u)return u}s=l}return null}else{if(d.kind===3)return null;if(d.kind===1){const h=(0,p.lengthsToRange)(s,l);return{bracketInfo:d.bracketInfo,range:h}}}return null}function g(d,s,l,r,h,u,f,C,_,E,I=!1){if(f>200)return!0;e:for(;;)switch(d.kind){case 4:{const T=d.childrenLength;for(let A=0;A<T;A++){const R=d.getChild(A);if(R){if(l=(0,p.lengthAdd)(s,R.length),(0,p.lengthLessThanEqual)(s,h)&&(0,p.lengthGreaterThanEqual)(l,r)){if((0,p.lengthGreaterThanEqual)(l,h)){d=R;continue e}if(!g(R,s,l,r,h,u,f,0,_,E))return!1}s=l}}return!0}case 2:{const T=!E||!d.closingBracket||d.closingBracket.bracketInfo.closesColorized(d.openingBracket.bracketInfo);let A=0;if(_){let M=_.get(d.openingBracket.text);M===void 0&&(M=0),A=M,T&&(M++,_.set(d.openingBracket.text,M))}const R=d.childrenLength;for(let M=0;M<R;M++){const N=d.getChild(M);if(N){if(l=(0,p.lengthAdd)(s,N.length),(0,p.lengthLessThanEqual)(s,h)&&(0,p.lengthGreaterThanEqual)(l,r)){if((0,p.lengthGreaterThanEqual)(l,h)&&N.kind!==1){d=N,T?(f++,C=A+1):C=A;continue e}if((T||N.kind!==1||!d.closingBracket)&&!g(N,s,l,r,h,u,T?f+1:f,T?A+1:A,_,E,!d.closingBracket))return!1}s=l}}return _?.set(d.openingBracket.text,A),!0}case 3:{const T=(0,p.lengthsToRange)(s,l);return u(new y.BracketInfo(T,f-1,0,!0))}case 1:{const T=(0,p.lengthsToRange)(s,l);return u(new y.BracketInfo(T,f-1,C-1,I))}case 0:return!0}}class m{constructor(s,l,r){this.push=s,this.includeMinIndentation=l,this.textModel=r}}function c(d,s,l,r,h,u,f,C){var _;if(f>200)return!0;let E=!0;if(d.kind===2){let I=0;if(C){let R=C.get(d.openingBracket.text);R===void 0&&(R=0),I=R,R++,C.set(d.openingBracket.text,R)}const T=(0,p.lengthAdd)(s,d.openingBracket.length);let A=-1;if(u.includeMinIndentation&&(A=d.computeMinIndentation(s,u.textModel)),E=u.push(new y.BracketPairWithMinIndentationInfo((0,p.lengthsToRange)(s,l),(0,p.lengthsToRange)(s,T),d.closingBracket?(0,p.lengthsToRange)((0,p.lengthAdd)(T,((_=d.child)===null||_===void 0?void 0:_.length)||p.lengthZero),l):void 0,f,I,d,A)),s=T,E&&d.child){const R=d.child;if(l=(0,p.lengthAdd)(s,R.length),(0,p.lengthLessThanEqual)(s,h)&&(0,p.lengthGreaterThanEqual)(l,r)&&(E=c(R,s,l,r,h,u,f+1,C),!E))return!1}C?.set(d.openingBracket.text,I)}else{let I=s;for(const T of d.children){const A=I;if(I=(0,p.lengthAdd)(I,T.length),(0,p.lengthLessThanEqual)(A,h)&&(0,p.lengthLessThanEqual)(r,I)&&(E=c(T,A,I,r,h,u,f,C),!E))return!1}}return E}}),define(ne[117],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class L{constructor(){this.changeType=1}}e.ModelRawFlush=L;class k{static applyInjectedText(n,i){if(!i||i.length===0)return n;let t="",o=0;for(const g of i)t+=n.substring(o,g.column-1),o=g.column-1,t+=g.options.content;return t+=n.substring(o),t}static fromDecorations(n){const i=[];for(const t of n)t.options.before&&t.options.before.content.length>0&&i.push(new k(t.ownerId,t.range.startLineNumber,t.range.startColumn,t.options.before,0)),t.options.after&&t.options.after.content.length>0&&i.push(new k(t.ownerId,t.range.endLineNumber,t.range.endColumn,t.options.after,1));return i.sort((t,o)=>t.lineNumber===o.lineNumber?t.column===o.column?t.order-o.order:t.column-o.column:t.lineNumber-o.lineNumber),i}constructor(n,i,t,o,g){this.ownerId=n,this.lineNumber=i,this.column=t,this.options=o,this.order=g}}e.LineInjectedText=k;class y{constructor(n,i,t){this.changeType=2,this.lineNumber=n,this.detail=i,this.injectedText=t}}e.ModelRawLineChanged=y;class D{constructor(n,i){this.changeType=3,this.fromLineNumber=n,this.toLineNumber=i}}e.ModelRawLinesDeleted=D;class S{constructor(n,i,t,o){this.changeType=4,this.injectedTexts=o,this.fromLineNumber=n,this.toLineNumber=i,this.detail=t}}e.ModelRawLinesInserted=S;class p{constructor(){this.changeType=5}}e.ModelRawEOLChanged=p;class w{constructor(n,i,t,o){this.changes=n,this.versionId=i,this.isUndoing=t,this.isRedoing=o,this.resultingSelection=null}containsEvent(n){for(let i=0,t=this.changes.length;i<t;i++)if(this.changes[i].changeType===n)return!0;return!1}static merge(n,i){const t=[].concat(n.changes).concat(i.changes),o=i.versionId,g=n.isUndoing||i.isUndoing,m=n.isRedoing||i.isRedoing;return new w(t,o,g,m)}}e.ModelRawContentChangedEvent=w;class v{constructor(n){this.changes=n}}e.ModelInjectedTextChangedEvent=v;class b{constructor(n,i){this.rawContentChangedEvent=n,this.contentChangedEvent=i}merge(n){const i=w.merge(this.rawContentChangedEvent,n.rawContentChangedEvent),t=b._mergeChangeEvents(this.contentChangedEvent,n.contentChangedEvent);return new b(i,t)}static _mergeChangeEvents(n,i){const t=[].concat(n.changes).concat(i.changes),o=i.eol,g=i.versionId,m=n.isUndoing||i.isUndoing,c=n.isRedoing||i.isRedoing,d=n.isFlush||i.isFlush,s=n.isEolChange&&i.isEolChange;return{changes:t,eol:o,isEolChange:s,versionId:g,isUndoing:m,isRedoing:c,isFlush:d}}}e.InternalModelContentChangeEvent=b}),define(ne[218],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var L;(function(D){D[D.Disabled=0]="Disabled",D[D.EnabledForActive=1]="EnabledForActive",D[D.Enabled=2]="Enabled"})(L||(e.HorizontalGuidesState=L={}));class k{constructor(S,p,w,v,b,a){if(this.visibleColumn=S,this.column=p,this.className=w,this.horizontalLine=v,this.forWrappedLinesAfterColumn=b,this.forWrappedLinesBeforeOrAtColumn=a,S!==-1==(p!==-1))throw new Error}}e.IndentGuide=k;class y{constructor(S,p){this.top=S,this.endColumn=p}}e.IndentGuideHorizontalLine=y}),define(ne[305],se([1,0,62,11,85,5,300,216,218,12]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class b extends S.TextModelPart{constructor(i,t){super(),this.textModel=i,this.languageConfigurationService=t}getLanguageConfiguration(i){return this.languageConfigurationService.getLanguageConfiguration(i)}_computeIndentLevel(i){return(0,p.computeIndentLevel)(this.textModel.getLineContent(i+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(i,t,o){this.assertNotDisposed();const g=this.textModel.getLineCount();if(i<1||i>g)throw new v.BugIndicatingError("Illegal value for lineNumber");const m=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,c=!!(m&&m.offSide);let d=-2,s=-1,l=-2,r=-1;const h=P=>{if(d!==-1&&(d===-2||d>P-1)){d=-1,s=-1;for(let F=P-2;F>=0;F--){const O=this._computeIndentLevel(F);if(O>=0){d=F,s=O;break}}}if(l===-2){l=-1,r=-1;for(let F=P;F<g;F++){const O=this._computeIndentLevel(F);if(O>=0){l=F,r=O;break}}}};let u=-2,f=-1,C=-2,_=-1;const E=P=>{if(u===-2){u=-1,f=-1;for(let F=P-2;F>=0;F--){const O=this._computeIndentLevel(F);if(O>=0){u=F,f=O;break}}}if(C!==-1&&(C===-2||C<P-1)){C=-1,_=-1;for(let F=P;F<g;F++){const O=this._computeIndentLevel(F);if(O>=0){C=F,_=O;break}}}};let I=0,T=!0,A=0,R=!0,M=0,N=0;for(let P=0;T||R;P++){const F=i-P,O=i+P;P>1&&(F<1||F<t)&&(T=!1),P>1&&(O>g||O>o)&&(R=!1),P>5e4&&(T=!1,R=!1);let B=-1;if(T&&F>=1){const V=this._computeIndentLevel(F-1);V>=0?(l=F-1,r=V,B=Math.ceil(V/this.textModel.getOptions().indentSize)):(h(F),B=this._getIndentLevelForWhitespaceLine(c,s,r))}let W=-1;if(R&&O<=g){const V=this._computeIndentLevel(O-1);V>=0?(u=O-1,f=V,W=Math.ceil(V/this.textModel.getOptions().indentSize)):(E(O),W=this._getIndentLevelForWhitespaceLine(c,f,_))}if(P===0){N=B;continue}if(P===1){if(O<=g&&W>=0&&N+1===W){T=!1,I=O,A=O,M=W;continue}if(F>=1&&B>=0&&B-1===N){R=!1,I=F,A=F,M=B;continue}if(I=i,A=i,M=N,M===0)return{startLineNumber:I,endLineNumber:A,indent:M}}T&&(B>=M?I=F:T=!1),R&&(W>=M?A=O:R=!1)}return{startLineNumber:I,endLineNumber:A,indent:M}}getLinesBracketGuides(i,t,o,g){var m;const c=[];for(let u=i;u<=t;u++)c.push([]);const d=!0,s=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D.Range(i,1,t,this.textModel.getLineMaxColumn(t))).toArray();let l;if(o&&s.length>0){const u=(i<=o.lineNumber&&o.lineNumber<=t?s:this.textModel.bracketPairs.getBracketPairsInRange(D.Range.fromPositions(o)).toArray()).filter(f=>D.Range.strictContainsPosition(f.range,o));l=(m=(0,L.findLast)(u,f=>d||f.range.startLineNumber!==f.range.endLineNumber))===null||m===void 0?void 0:m.range}const r=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,h=new a;for(const u of s){if(!u.closingBracketRange)continue;const f=l&&u.range.equalsRange(l);if(!f&&!g.includeInactive)continue;const C=h.getInlineClassName(u.nestingLevel,u.nestingLevelOfEqualBracketType,r)+(g.highlightActive&&f?" "+h.activeClassName:""),_=u.openingBracketRange.getStartPosition(),E=u.closingBracketRange.getStartPosition(),I=g.horizontalGuides===w.HorizontalGuidesState.Enabled||g.horizontalGuides===w.HorizontalGuidesState.EnabledForActive&&f;if(u.range.startLineNumber===u.range.endLineNumber){d&&I&&c[u.range.startLineNumber-i].push(new w.IndentGuide(-1,u.openingBracketRange.getEndPosition().column,C,new w.IndentGuideHorizontalLine(!1,E.column),-1,-1));continue}const T=this.getVisibleColumnFromPosition(E),A=this.getVisibleColumnFromPosition(u.openingBracketRange.getStartPosition()),R=Math.min(A,T,u.minVisibleColumnIndentation+1);let M=!1;k.firstNonWhitespaceIndex(this.textModel.getLineContent(u.closingBracketRange.startLineNumber))<u.closingBracketRange.startColumn-1&&(M=!0);const F=Math.max(_.lineNumber,i),O=Math.min(E.lineNumber,t),B=M?1:0;for(let W=F;W<O+B;W++)c[W-i].push(new w.IndentGuide(R,-1,C,null,W===_.lineNumber?_.column:-1,W===E.lineNumber?E.column:-1));I&&(_.lineNumber>=i&&A>R&&c[_.lineNumber-i].push(new w.IndentGuide(R,-1,C,new w.IndentGuideHorizontalLine(!1,_.column),-1,-1)),E.lineNumber<=t&&T>R&&c[E.lineNumber-i].push(new w.IndentGuide(R,-1,C,new w.IndentGuideHorizontalLine(!M,E.column),-1,-1)))}for(const u of c)u.sort((f,C)=>f.visibleColumn-C.visibleColumn);return c}getVisibleColumnFromPosition(i){return y.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(i.lineNumber),i.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(i,t){this.assertNotDisposed();const o=this.textModel.getLineCount();if(i<1||i>o)throw new Error("Illegal value for startLineNumber");if(t<1||t>o)throw new Error("Illegal value for endLineNumber");const g=this.textModel.getOptions(),m=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,c=!!(m&&m.offSide),d=new Array(t-i+1);let s=-2,l=-1,r=-2,h=-1;for(let u=i;u<=t;u++){const f=u-i,C=this._computeIndentLevel(u-1);if(C>=0){s=u-1,l=C,d[f]=Math.ceil(C/g.indentSize);continue}if(s===-2){s=-1,l=-1;for(let _=u-2;_>=0;_--){const E=this._computeIndentLevel(_);if(E>=0){s=_,l=E;break}}}if(r!==-1&&(r===-2||r<u-1)){r=-1,h=-1;for(let _=u;_<o;_++){const E=this._computeIndentLevel(_);if(E>=0){r=_,h=E;break}}}d[f]=this._getIndentLevelForWhitespaceLine(c,l,h)}return d}_getIndentLevelForWhitespaceLine(i,t,o){const g=this.textModel.getOptions();return t===-1||o===-1?0:t<o?1+Math.floor(t/g.indentSize):t===o||i?Math.ceil(o/g.indentSize):1+Math.floor(o/g.indentSize)}}e.GuidesTextModelPart=b;class a{constructor(){this.activeClassName="indent-active"}getInlineClassName(i,t,o){return this.getInlineClassNameOfLevel(o?t:i)}getInlineClassNameOfLevel(i){return`bracket-indent-guide lvl-${i%30}`}}e.BracketPairGuidesClassNames=a}),define(ne[539],se([1,0,7,2]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class y{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(p){this._onDidChange.fire({changedLanguages:p,changedColorMap:!1})}register(p,w){return this._tokenizationSupports.set(p,w),this.handleChange([p]),(0,k.toDisposable)(()=>{this._tokenizationSupports.get(p)===w&&(this._tokenizationSupports.delete(p),this.handleChange([p]))})}get(p){return this._tokenizationSupports.get(p)||null}registerFactory(p,w){var v;(v=this._factories.get(p))===null||v===void 0||v.dispose();const b=new D(this,p,w);return this._factories.set(p,b),(0,k.toDisposable)(()=>{const a=this._factories.get(p);!a||a!==b||(this._factories.delete(p),a.dispose())})}async getOrCreate(p){const w=this.get(p);if(w)return w;const v=this._factories.get(p);return!v||v.isResolved?null:(await v.resolve(),this.get(p))}isResolved(p){if(this.get(p))return!0;const v=this._factories.get(p);return!!(!v||v.isResolved)}setColorMap(p){this._colorMap=p,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=y;class D extends k.Disposable{get isResolved(){return this._isResolved}constructor(p,w,v){super(),this._registry=p,this._languageId=w,this._factory=v,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const p=await this._factory.tokenizationSupport;this._isResolved=!0,p&&!this._isDisposed&&this._register(this._registry.register(this._languageId,p))}}}),define(ne[540],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class L{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(y,D){this._startLineNumber=y,this._tokens=D}getLineTokens(y){return this._tokens[y-this._startLineNumber]}appendLineTokens(y){this._tokens.push(y)}}e.ContiguousMultilineTokens=L}),define(ne[306],se([1,0,540]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class k{constructor(){this._tokens=[]}add(D,S){if(this._tokens.length>0){const p=this._tokens[this._tokens.length-1];if(p.endLineNumber+1===D){p.appendLineTokens(S);return}}this._tokens.push(new L.ContiguousMultilineTokens(D,[S]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=k}),define(ne[97],se([1,0,136]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class k{static createEmpty(S,p){const w=k.defaultTokenMetadata,v=new Uint32Array(2);return v[0]=S.length,v[1]=w,new k(v,S,p)}constructor(S,p,w){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=p,this._languageIdCodec=w}equals(S){return S instanceof k?this.slicedEquals(S,0,this._tokensCount):!1}slicedEquals(S,p,w){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const v=p<<1,b=v+(w<<1);for(let a=v;a<b;a++)if(this._tokens[a]!==S._tokens[a])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[(S<<1)+1]}getLanguageId(S){const p=this._tokens[(S<<1)+1],w=L.TokenMetadata.getLanguageId(p);return this._languageIdCodec.decodeLanguageId(w)}getStandardTokenType(S){const p=this._tokens[(S<<1)+1];return L.TokenMetadata.getTokenType(p)}getForeground(S){const p=this._tokens[(S<<1)+1];return L.TokenMetadata.getForeground(p)}getClassName(S){const p=this._tokens[(S<<1)+1];return L.TokenMetadata.getClassNameFromMetadata(p)}getInlineStyle(S,p){const w=this._tokens[(S<<1)+1];return L.TokenMetadata.getInlineStyleFromMetadata(w,p)}getPresentation(S){const p=this._tokens[(S<<1)+1];return L.TokenMetadata.getPresentationFromMetadata(p)}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return k.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,p,w){return new y(this,S,p,w)}static convertToEndOffset(S,p){const v=(S.length>>>1)-1;for(let b=0;b<v;b++)S[b<<1]=S[b+1<<1];S[v<<1]=p}static findIndexInTokensArray(S,p){if(S.length<=2)return 0;let w=0,v=(S.length>>>1)-1;for(;w<v;){const b=w+Math.floor((v-w)/2),a=S[b<<1];if(a===p)return b+1;a<p?w=b+1:a>p&&(v=b)}return w}withInserted(S){if(S.length===0)return this;let p=0,w=0,v="";const b=new Array;let a=0;for(;;){const n=p<this._tokensCount?this._tokens[p<<1]:-1,i=w<S.length?S[w]:null;if(n!==-1&&(i===null||n<=i.offset)){v+=this._text.substring(a,n);const t=this._tokens[(p<<1)+1];b.push(v.length,t),p++,a=n}else if(i){if(i.offset>a){v+=this._text.substring(a,i.offset);const t=this._tokens[(p<<1)+1];b.push(v.length,t),a=i.offset}v+=i.text,b.push(v.length,i.tokenMetadata),w++}else break}return new k(new Uint32Array(b),v,this._languageIdCodec)}}e.LineTokens=k,k.defaultTokenMetadata=(32768|2<<24)>>>0;class y{constructor(S,p,w,v){this._source=S,this._startOffset=p,this._endOffset=w,this._deltaOffset=v,this._firstTokenIndex=S.findTokenIndexAtOffset(p),this._tokensCount=0;for(let b=this._firstTokenIndex,a=S.getCount();b<a&&!(S.getStartOffset(b)>=w);b++)this._tokensCount++}getMetadata(S){return this._source.getMetadata(this._firstTokenIndex+S)}getLanguageId(S){return this._source.getLanguageId(this._firstTokenIndex+S)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(S){return S instanceof y?this._startOffset===S._startOffset&&this._endOffset===S._endOffset&&this._deltaOffset===S._deltaOffset&&this._source.slicedEquals(S._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(S){return this._source.getForeground(this._firstTokenIndex+S)}getEndOffset(S){const p=this._source.getEndOffset(this._firstTokenIndex+S);return Math.min(this._endOffset,p)-this._startOffset+this._deltaOffset}getClassName(S){return this._source.getClassName(this._firstTokenIndex+S)}getInlineStyle(S,p){return this._source.getInlineStyle(this._firstTokenIndex+S,p)}getPresentation(S){return this._source.getPresentation(this._firstTokenIndex+S)}findTokenIndexAtOffset(S){return this._source.findTokenIndexAtOffset(S+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(ne[541],se([1,0,97]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class k{static deleteBeginning(S,p){return S===null||S===e.EMPTY_LINE_TOKENS?S:k.delete(S,0,p)}static deleteEnding(S,p){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const w=y(S),v=w[w.length-2];return k.delete(S,p,v)}static delete(S,p,w){if(S===null||S===e.EMPTY_LINE_TOKENS||p===w)return S;const v=y(S),b=v.length>>>1;if(p===0&&v[v.length-2]===w)return e.EMPTY_LINE_TOKENS;const a=L.LineTokens.findIndexInTokensArray(v,p),n=a>0?v[a-1<<1]:0,i=v[a<<1];if(w<i){const c=w-p;for(let d=a;d<b;d++)v[d<<1]-=c;return S}let t,o;n!==p?(v[a<<1]=p,t=a+1<<1,o=p):(t=a<<1,o=n);const g=w-p;for(let c=a+1;c<b;c++){const d=v[c<<1]-g;d>o&&(v[t++]=d,v[t++]=v[(c<<1)+1],o=d)}if(t===v.length)return S;const m=new Uint32Array(t);return m.set(v.subarray(0,t),0),m.buffer}static append(S,p){if(p===e.EMPTY_LINE_TOKENS)return S;if(S===e.EMPTY_LINE_TOKENS)return p;if(S===null)return S;if(p===null)return null;const w=y(S),v=y(p),b=v.length>>>1,a=new Uint32Array(w.length+v.length);a.set(w,0);let n=w.length;const i=w[w.length-2];for(let t=0;t<b;t++)a[n++]=v[t<<1]+i,a[n++]=v[(t<<1)+1];return a.buffer}static insert(S,p,w){if(S===null||S===e.EMPTY_LINE_TOKENS)return S;const v=y(S),b=v.length>>>1;let a=L.LineTokens.findIndexInTokensArray(v,p);a>0&&v[a-1<<1]===p&&a--;for(let n=a;n<b;n++)v[n<<1]+=w;return S}}e.ContiguousTokensEditing=k;function y(D){return D instanceof Uint32Array?D:new Uint32Array(D)}e.toUint32Array=y}),define(ne[542],se([1,0,13,9,541,97,136]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class p{constructor(b){this._lineTokens=[],this._len=0,this._languageIdCodec=b}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(b,a,n){let i=null;if(a<this._len&&(i=this._lineTokens[a]),i!==null&&i!==y.EMPTY_LINE_TOKENS)return new D.LineTokens((0,y.toUint32Array)(i),n,this._languageIdCodec);const t=new Uint32Array(2);return t[0]=n.length,t[1]=w(this._languageIdCodec.encodeLanguageId(b)),new D.LineTokens(t,n,this._languageIdCodec)}static _massageTokens(b,a,n){const i=n?(0,y.toUint32Array)(n):null;if(a===0){let t=!1;if(i&&i.length>1&&(t=S.TokenMetadata.getLanguageId(i[1])!==b),!t)return y.EMPTY_LINE_TOKENS}if(!i||i.length===0){const t=new Uint32Array(2);return t[0]=a,t[1]=w(b),t.buffer}return i[i.length-2]=a,i.byteOffset===0&&i.byteLength===i.buffer.byteLength?i.buffer:i}_ensureLine(b){for(;b>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(b,a){a!==0&&(b+a>this._len&&(a=this._len-b),this._lineTokens.splice(b,a),this._len-=a)}_insertLines(b,a){if(a===0)return;const n=[];for(let i=0;i<a;i++)n[i]=null;this._lineTokens=L.arrayInsert(this._lineTokens,b,n),this._len+=a}setTokens(b,a,n,i,t){const o=p._massageTokens(this._languageIdCodec.encodeLanguageId(b),n,i);this._ensureLine(a);const g=this._lineTokens[a];return this._lineTokens[a]=o,t?!p._equals(g,o):!1}static _equals(b,a){if(!b||!a)return!b&&!a;const n=(0,y.toUint32Array)(b),i=(0,y.toUint32Array)(a);if(n.length!==i.length)return!1;for(let t=0,o=n.length;t<o;t++)if(n[t]!==i[t])return!1;return!0}acceptEdit(b,a,n){this._acceptDeleteRange(b),this._acceptInsertText(new k.Position(b.startLineNumber,b.startColumn),a,n)}_acceptDeleteRange(b){const a=b.startLineNumber-1;if(a>=this._len)return;if(b.startLineNumber===b.endLineNumber){if(b.startColumn===b.endColumn)return;this._lineTokens[a]=y.ContiguousTokensEditing.delete(this._lineTokens[a],b.startColumn-1,b.endColumn-1);return}this._lineTokens[a]=y.ContiguousTokensEditing.deleteEnding(this._lineTokens[a],b.startColumn-1);const n=b.endLineNumber-1;let i=null;n<this._len&&(i=y.ContiguousTokensEditing.deleteBeginning(this._lineTokens[n],b.endColumn-1)),this._lineTokens[a]=y.ContiguousTokensEditing.append(this._lineTokens[a],i),this._deleteLines(b.startLineNumber,b.endLineNumber-b.startLineNumber)}_acceptInsertText(b,a,n){if(a===0&&n===0)return;const i=b.lineNumber-1;if(!(i>=this._len)){if(a===0){this._lineTokens[i]=y.ContiguousTokensEditing.insert(this._lineTokens[i],b.column-1,n);return}this._lineTokens[i]=y.ContiguousTokensEditing.deleteEnding(this._lineTokens[i],b.column-1),this._lineTokens[i]=y.ContiguousTokensEditing.insert(this._lineTokens[i],b.column-1,n),this._insertLines(b.lineNumber,a)}}setMultilineTokens(b,a){if(b.length===0)return{changes:[]};const n=[];for(let i=0,t=b.length;i<t;i++){const o=b[i];let g=0,m=0,c=!1;for(let d=o.startLineNumber;d<=o.endLineNumber;d++)c?(this.setTokens(a.getLanguageId(),d-1,a.getLineLength(d),o.getLineTokens(d),!1),m=d):this.setTokens(a.getLanguageId(),d-1,a.getLineLength(d),o.getLineTokens(d),!0)&&(c=!0,g=d,m=d);c&&n.push({fromLineNumber:g,toLineNumber:m})}return{changes:n}}}e.ContiguousTokensStore=p;function w(v){return(v<<0|0|0|32768|2<<24|1024)>>>0}}),define(ne[543],se([1,0,9,5,133]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class D{static create(v,b){return new D(v,new S(b))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(v,b){this._startLineNumber=v,this._tokens=b,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(v){return this._startLineNumber<=v&&v<=this._endLineNumber?this._tokens.getLineTokens(v-this._startLineNumber):null}getRange(){const v=this._tokens.getRange();return v&&new k.Range(this._startLineNumber+v.startLineNumber,v.startColumn,this._startLineNumber+v.endLineNumber,v.endColumn)}removeTokens(v){const b=v.startLineNumber-this._startLineNumber,a=v.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(b,v.startColumn-1,a,v.endColumn-1),this._updateEndLineNumber()}split(v){const b=v.startLineNumber-this._startLineNumber,a=v.endLineNumber-this._startLineNumber,[n,i,t]=this._tokens.split(b,v.startColumn-1,a,v.endColumn-1);return[new D(this._startLineNumber,n),new D(this._startLineNumber+t,i)]}applyEdit(v,b){const[a,n,i]=(0,y.countEOL)(b);this.acceptEdit(v,a,n,i,b.length>0?b.charCodeAt(0):0)}acceptEdit(v,b,a,n,i){this._acceptDeleteRange(v),this._acceptInsertText(new L.Position(v.startLineNumber,v.startColumn),b,a,n,i),this._updateEndLineNumber()}_acceptDeleteRange(v){if(v.startLineNumber===v.endLineNumber&&v.startColumn===v.endColumn)return;const b=v.startLineNumber-this._startLineNumber,a=v.endLineNumber-this._startLineNumber;if(a<0){const i=a-b;this._startLineNumber-=i;return}const n=this._tokens.getMaxDeltaLine();if(!(b>=n+1)){if(b<0&&a>=n+1){this._startLineNumber=0,this._tokens.clear();return}if(b<0){const i=-b;this._startLineNumber-=i,this._tokens.acceptDeleteRange(v.startColumn-1,0,0,a,v.endColumn-1)}else this._tokens.acceptDeleteRange(0,b,v.startColumn-1,a,v.endColumn-1)}}_acceptInsertText(v,b,a,n,i){if(b===0&&a===0)return;const t=v.lineNumber-this._startLineNumber;if(t<0){this._startLineNumber+=b;return}const o=this._tokens.getMaxDeltaLine();t>=o+1||this._tokens.acceptInsertText(t,v.column-1,b,a,n,i)}}e.SparseMultilineTokens=D;class S{constructor(v){this._tokens=v,this._tokenCount=v.length/4}toString(v){const b=[];for(let a=0;a<this._tokenCount;a++)b.push(`(${this._getDeltaLine(a)+v},${this._getStartCharacter(a)}-${this._getEndCharacter(a)})`);return`[${b.join(",")}]`}getMaxDeltaLine(){const v=this._getTokenCount();return v===0?-1:this._getDeltaLine(v-1)}getRange(){const v=this._getTokenCount();if(v===0)return null;const b=this._getStartCharacter(0),a=this._getDeltaLine(v-1),n=this._getEndCharacter(v-1);return new k.Range(0,b+1,a,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(v){return this._tokens[4*v]}_getStartCharacter(v){return this._tokens[4*v+1]}_getEndCharacter(v){return this._tokens[4*v+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(v){let b=0,a=this._getTokenCount()-1;for(;b<a;){const n=b+Math.floor((a-b)/2),i=this._getDeltaLine(n);if(i<v)b=n+1;else if(i>v)a=n-1;else{let t=n;for(;t>b&&this._getDeltaLine(t-1)===v;)t--;let o=n;for(;o<a&&this._getDeltaLine(o+1)===v;)o++;return new p(this._tokens.subarray(4*t,4*o+4))}}return this._getDeltaLine(b)===v?new p(this._tokens.subarray(4*b,4*b+4)):null}clear(){this._tokenCount=0}removeTokens(v,b,a,n){const i=this._tokens,t=this._tokenCount;let o=0,g=!1,m=0;for(let c=0;c<t;c++){const d=4*c,s=i[d],l=i[d+1],r=i[d+2],h=i[d+3];if((s>v||s===v&&r>=b)&&(s<a||s===a&&l<=n))g=!0;else{if(o===0&&(m=s),g){const u=4*o;i[u]=s-m,i[u+1]=l,i[u+2]=r,i[u+3]=h}o++}}return this._tokenCount=o,m}split(v,b,a,n){const i=this._tokens,t=this._tokenCount,o=[],g=[];let m=o,c=0,d=0;for(let s=0;s<t;s++){const l=4*s,r=i[l],h=i[l+1],u=i[l+2],f=i[l+3];if(r>v||r===v&&u>=b){if(r<a||r===a&&h<=n)continue;m!==g&&(m=g,c=0,d=r)}m[c++]=r-d,m[c++]=h,m[c++]=u,m[c++]=f}return[new S(new Uint32Array(o)),new S(new Uint32Array(g)),d]}acceptDeleteRange(v,b,a,n,i){const t=this._tokens,o=this._tokenCount,g=n-b;let m=0,c=!1;for(let d=0;d<o;d++){const s=4*d;let l=t[s],r=t[s+1],h=t[s+2];const u=t[s+3];if(l<b||l===b&&h<=a){m++;continue}else if(l===b&&r<a)l===n&&h>i?h-=i-a:h=a;else if(l===b&&r===a)if(l===n&&h>i)h-=i-a;else{c=!0;continue}else if(l<n||l===n&&r<i)if(l===n&&h>i)l=b,r=a,h=r+(h-i);else{c=!0;continue}else if(l>n){if(g===0&&!c){m=o;break}l-=g}else if(l===n&&r>=i)v&&l===0&&(r+=v,h+=v),l-=g,r-=i-a,h-=i-a;else throw new Error("Not possible!");const f=4*m;t[f]=l,t[f+1]=r,t[f+2]=h,t[f+3]=u,m++}this._tokenCount=m}acceptInsertText(v,b,a,n,i,t){const o=a===0&&n===1&&(t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122),g=this._tokens,m=this._tokenCount;for(let c=0;c<m;c++){const d=4*c;let s=g[d],l=g[d+1],r=g[d+2];if(!(s<v||s===v&&r<b)){if(s===v&&r===b)if(o)r+=1;else continue;else if(s===v&&l<b&&b<r)a===0?r+=n:r=b;else{if(s===v&&l===b&&o)continue;if(s===v)if(s+=a,a===0)l+=n,r+=n;else{const h=r-l;l=i+(l-b),r=l+h}else s+=a}g[d]=s,g[d+1]=l,g[d+2]=r}}}}class p{constructor(v){this._tokens=v}getCount(){return this._tokens.length/4}getStartCharacter(v){return this._tokens[4*v+1]}getEndCharacter(v){return this._tokens[4*v+2]}getMetadata(v){return this._tokens[4*v+3]}}e.SparseLineTokens=p}),define(ne[544],se([1,0,13,97]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class y{constructor(S){this._pieces=[],this._isComplete=!1,this._languageIdCodec=S}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(S,p){this._pieces=S||[],this._isComplete=p}setPartial(S,p){let w=S;if(p.length>0){const b=p[0].getRange(),a=p[p.length-1].getRange();if(!b||!a)return S;w=S.plusRange(b).plusRange(a)}let v=null;for(let b=0,a=this._pieces.length;b<a;b++){const n=this._pieces[b];if(n.endLineNumber<w.startLineNumber)continue;if(n.startLineNumber>w.endLineNumber){v=v||{index:b};break}if(n.removeTokens(w),n.isEmpty()){this._pieces.splice(b,1),b--,a--;continue}if(n.endLineNumber<w.startLineNumber)continue;if(n.startLineNumber>w.endLineNumber){v=v||{index:b};continue}const[i,t]=n.split(w);if(i.isEmpty()){v=v||{index:b};continue}t.isEmpty()||(this._pieces.splice(b,1,i,t),b++,a++,v=v||{index:b})}return v=v||{index:this._pieces.length},p.length>0&&(this._pieces=L.arrayInsert(this._pieces,v.index,p)),w}isComplete(){return this._isComplete}addSparseTokens(S,p){if(p.getLineContent().length===0)return p;const w=this._pieces;if(w.length===0)return p;const v=y._findFirstPieceWithLine(w,S),b=w[v].getLineTokens(S);if(!b)return p;const a=p.getCount(),n=b.getCount();let i=0;const t=[];let o=0,g=0;const m=(c,d)=>{c!==g&&(g=c,t[o++]=c,t[o++]=d)};for(let c=0;c<n;c++){const d=b.getStartCharacter(c),s=b.getEndCharacter(c),l=b.getMetadata(c),r=((l&1?2048:0)|(l&2?4096:0)|(l&4?8192:0)|(l&8?16384:0)|(l&16?16744448:0)|(l&32?4278190080:0))>>>0,h=~r>>>0;for(;i<a&&p.getEndOffset(i)<=d;)m(p.getEndOffset(i),p.getMetadata(i)),i++;for(i<a&&p.getStartOffset(i)<d&&m(d,p.getMetadata(i));i<a&&p.getEndOffset(i)<s;)m(p.getEndOffset(i),p.getMetadata(i)&h|l&r),i++;if(i<a)m(s,p.getMetadata(i)&h|l&r),p.getEndOffset(i)===s&&i++;else{const u=Math.min(Math.max(0,i-1),a-1);m(s,p.getMetadata(u)&h|l&r)}}for(;i<a;)m(p.getEndOffset(i),p.getMetadata(i)),i++;return new k.LineTokens(new Uint32Array(t),p.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(S,p){let w=0,v=S.length-1;for(;w<v;){let b=w+Math.floor((v-w)/2);if(S[b].endLineNumber<p)w=b+1;else if(S[b].startLineNumber>p)v=b-1;else{for(;b>w&&S[b-1].startLineNumber<=p&&p<=S[b-1].endLineNumber;)b--;return b}}return w}acceptEdit(S,p,w,v,b){for(const a of this._pieces)a.acceptEdit(S,p,w,v,b)}}e.SparseTokensStore=y}),define(ne[158],se([1,0,2]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends L.Disposable{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let S=!1;for(let p=0,w=D.length;p<w;p++){const v=D[p];switch(v.type){case 0:this.onCompositionStart(v)&&(S=!0);break;case 1:this.onCompositionEnd(v)&&(S=!0);break;case 2:this.onConfigurationChanged(v)&&(S=!0);break;case 3:this.onCursorStateChanged(v)&&(S=!0);break;case 4:this.onDecorationsChanged(v)&&(S=!0);break;case 5:this.onFlushed(v)&&(S=!0);break;case 6:this.onFocusChanged(v)&&(S=!0);break;case 7:this.onLanguageConfigurationChanged(v)&&(S=!0);break;case 8:this.onLineMappingChanged(v)&&(S=!0);break;case 9:this.onLinesChanged(v)&&(S=!0);break;case 10:this.onLinesDeleted(v)&&(S=!0);break;case 11:this.onLinesInserted(v)&&(S=!0);break;case 12:this.onRevealRangeRequest(v)&&(S=!0);break;case 13:this.onScrollChanged(v)&&(S=!0);break;case 15:this.onTokensChanged(v)&&(S=!0);break;case 14:this.onThemeChanged(v)&&(S=!0);break;case 16:this.onTokensColorsChanged(v)&&(S=!0);break;case 17:this.onZonesChanged(v)&&(S=!0);break;default:console.info("View received unknown event: "),console.info(v)}}S&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(ne[118],se([1,0,158]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends L.ViewEventHandler{}e.DynamicViewOverlay=k}),define(ne[55],se([1,0,158]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class k extends L.ViewEventHandler{constructor(S){super(),this._context=S,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=k;class y{static write(S,p){S.setAttribute("data-mprt",String(p))}static read(S){const p=S.getAttribute("data-mprt");return p===null?0:parseInt(p,10)}static collect(S,p){const w=[];let v=0;for(;S&&S!==S.ownerDocument.body&&S!==p;)S.nodeType===S.ELEMENT_NODE&&(w[v++]=this.read(S)),S=S.parentElement;const b=new Uint8Array(v);for(let a=0;a<v;a++)b[a]=w[v-a-1];return b}}e.PartFingerprints=y}),define(ne[545],se([1,0,41,55,437]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class y extends k.ViewPart{constructor(S){super(S),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let S=!1;const w=this._context.configuration.options.get(144),v=w.contentWidth-w.verticalScrollbarWidth;this.contentWidth!==v&&(this.contentWidth=v,S=!0);const b=w.contentLeft;return this.contentLeft!==b&&(this.contentLeft=b,S=!0),S}dispose(){super.dispose()}onConfigurationChanged(S){return this.update()}onScrollChanged(S){return S.scrollTopChanged||S.scrollLeftChanged}onDecorationsChanged(S){return!0}onZonesChanged(S){return!0}prepareRender(S){}render(S){var p;let w=0;const v=S.getDecorationsInViewport();for(const b of v){if(!b.options.blockClassName)continue;let a=this.blocks[w];a||(a=this.blocks[w]=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(a));let n,i;b.options.blockIsAfterEnd?(n=S.getVerticalOffsetAfterLineNumber(b.range.endLineNumber,!1),i=S.getVerticalOffsetAfterLineNumber(b.range.endLineNumber,!0)):(n=S.getVerticalOffsetForLineNumber(b.range.startLineNumber,!0),i=b.range.isEmpty()&&!b.options.blockDoesNotCollapse?S.getVerticalOffsetForLineNumber(b.range.startLineNumber,!1):S.getVerticalOffsetAfterLineNumber(b.range.endLineNumber,!0));const[t,o,g,m]=(p=b.options.blockPadding)!==null&&p!==void 0?p:[0,0,0,0];a.setClassName("blockDecorations-block "+b.options.blockClassName),a.setLeft(this.contentLeft-m),a.setWidth(this.contentWidth+m+o),a.setTop(n-S.scrollTop-t),a.setHeight(i-n+t+g),w++}for(let b=w;b<this.blocks.length;b++)this.blocks[b].domNode.remove();this.blocks.length=w}}e.BlockDecorations=y}),define(ne[546],se([1,0,118,152,5,439]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends L.DynamicViewOverlay{constructor(p){super(),this._context=p;const w=this._context.configuration.options;this._lineHeight=w.get(67),this._typicalHalfwidthCharacterWidth=w.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const w=this._context.configuration.options;return this._lineHeight=w.get(67),this._typicalHalfwidthCharacterWidth=w.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged||p.scrollWidthChanged}onZonesChanged(p){return!0}prepareRender(p){const w=p.getDecorationsInViewport();let v=[],b=0;for(let t=0,o=w.length;t<o;t++){const g=w[t];g.options.className&&(v[b++]=g)}v=v.sort((t,o)=>{if(t.options.zIndex<o.options.zIndex)return-1;if(t.options.zIndex>o.options.zIndex)return 1;const g=t.options.className,m=o.options.className;return g<m?-1:g>m?1:y.Range.compareRangesUsingStarts(t.range,o.range)});const a=p.visibleRange.startLineNumber,n=p.visibleRange.endLineNumber,i=[];for(let t=a;t<=n;t++){const o=t-a;i[o]=""}this._renderWholeLineDecorations(p,v,i),this._renderNormalDecorations(p,v,i),this._renderResult=i}_renderWholeLineDecorations(p,w,v){const b=String(this._lineHeight),a=p.visibleRange.startLineNumber,n=p.visibleRange.endLineNumber;for(let i=0,t=w.length;i<t;i++){const o=w[i];if(!o.options.isWholeLine)continue;const g='<div class="cdr '+o.options.className+'" style="left:0;width:100%;height:'+b+'px;"></div>',m=Math.max(o.range.startLineNumber,a),c=Math.min(o.range.endLineNumber,n);for(let d=m;d<=c;d++){const s=d-a;v[s]+=g}}}_renderNormalDecorations(p,w,v){var b;const a=String(this._lineHeight),n=p.visibleRange.startLineNumber;let i=null,t=!1,o=null,g=!1;for(let m=0,c=w.length;m<c;m++){const d=w[m];if(d.options.isWholeLine)continue;const s=d.options.className,l=!!d.options.showIfCollapsed;let r=d.range;if(l&&r.endColumn===1&&r.endLineNumber!==r.startLineNumber&&(r=new y.Range(r.startLineNumber,r.startColumn,r.endLineNumber-1,this._context.viewModel.getLineMaxColumn(r.endLineNumber-1))),i===s&&t===l&&y.Range.areIntersectingOrTouching(o,r)){o=y.Range.plusRange(o,r);continue}i!==null&&this._renderNormalDecoration(p,o,i,g,t,a,n,v),i=s,t=l,o=r,g=(b=d.options.shouldFillLineOnLineBreak)!==null&&b!==void 0?b:!1}i!==null&&this._renderNormalDecoration(p,o,i,g,t,a,n,v)}_renderNormalDecoration(p,w,v,b,a,n,i,t){const o=p.linesVisibleRangesForRange(w,v==="findMatch");if(o)for(let g=0,m=o.length;g<m;g++){const c=o[g];if(c.outsideRenderedLine)continue;const d=c.lineNumber-i;if(a&&c.ranges.length===1){const s=c.ranges[0];if(s.width<this._typicalHalfwidthCharacterWidth){const l=Math.round(s.left+s.width/2),r=Math.max(0,Math.round(l-this._typicalHalfwidthCharacterWidth/2));c.ranges[0]=new k.HorizontalRange(r,this._typicalHalfwidthCharacterWidth)}}for(let s=0,l=c.ranges.length;s<l;s++){const r=b&&c.continuesOnNextLine&&l===1,h=c.ranges[s],u='<div class="cdr '+v+'" style="left:'+String(h.left)+(r?"px;width:100%;height:":"px;width:"+String(h.width)+"px;height:")+n+'px;"></div>';t[d]+=u}}}render(p,w){if(!this._renderResult)return"";const v=w-p;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}e.DecorationsOverlay=D}),define(ne[219],se([1,0,41,13,118,55,9,5,40,440]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginWidgets=e.DedupOverlay=e.VisibleLineDecorationsToRender=e.LineDecorationToRender=e.DecorationToRender=void 0;class v{constructor(c,d,s,l,r){this.startLineNumber=c,this.endLineNumber=d,this.className=s,this.tooltip=l,this._decorationToRenderBrand=void 0,this.zIndex=r??0}}e.DecorationToRender=v;class b{constructor(c,d,s){this.className=c,this.zIndex=d,this.tooltip=s}}e.LineDecorationToRender=b;class a{constructor(){this.decorations=[]}add(c){this.decorations.push(c)}getDecorations(){return this.decorations}}e.VisibleLineDecorationsToRender=a;class n extends y.DynamicViewOverlay{_render(c,d,s){const l=[];for(let u=c;u<=d;u++){const f=u-c;l[f]=new a}if(s.length===0)return l;s.sort((u,f)=>u.className===f.className?u.startLineNumber===f.startLineNumber?u.endLineNumber-f.endLineNumber:u.startLineNumber-f.startLineNumber:u.className<f.className?-1:1);let r=null,h=0;for(let u=0,f=s.length;u<f;u++){const C=s[u],_=C.className,E=C.zIndex;let I=Math.max(C.startLineNumber,c)-c;const T=Math.min(C.endLineNumber,d)-c;r===_?(I=Math.max(h+1,I),h=Math.max(h,T)):(r=_,h=T);for(let A=I;A<=h;A++)l[A].add(new b(_,E,C.tooltip))}return l}}e.DedupOverlay=n;class i extends D.ViewPart{constructor(c){super(c),this._widgets={},this._context=c;const d=this._context.configuration.options,s=d.get(144);this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=d.get(67),this._glyphMargin=d.get(57),this._glyphMarginLeft=s.glyphMarginLeft,this._glyphMarginWidth=s.glyphMarginWidth,this._glyphMarginDecorationLaneCount=s.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(c){const d=this._context.configuration.options,s=d.get(144);return this._lineHeight=d.get(67),this._glyphMargin=d.get(57),this._glyphMarginLeft=s.glyphMarginLeft,this._glyphMarginWidth=s.glyphMarginWidth,this._glyphMarginDecorationLaneCount=s.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(c){return!0}onFlushed(c){return!0}onLinesChanged(c){return!0}onLinesDeleted(c){return!0}onLinesInserted(c){return!0}onScrollChanged(c){return c.scrollTopChanged}onZonesChanged(c){return!0}addWidget(c){const d=(0,L.createFastDomNode)(c.getDomNode());this._widgets[c.getId()]={widget:c,preference:c.getPosition(),domNode:d,renderInfo:null},d.setPosition("absolute"),d.setDisplay("none"),d.setAttribute("widgetId",c.getId()),this.domNode.appendChild(d),this.setShouldRender()}setWidgetPosition(c,d){const s=this._widgets[c.getId()];return s.preference.lane===d.lane&&s.preference.zIndex===d.zIndex&&p.Range.equalsRange(s.preference.range,d.range)?!1:(s.preference=d,this.setShouldRender(),!0)}removeWidget(c){var d;const s=c.getId();if(this._widgets[s]){const r=this._widgets[s].domNode.domNode;delete this._widgets[s],(d=r.parentNode)===null||d===void 0||d.removeChild(r),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(c,d){var s,l,r;const h=c.visibleRange.startLineNumber,u=c.visibleRange.endLineNumber,f=c.getDecorationsInViewport();for(const C of f){const _=C.options.glyphMarginClassName;if(!_)continue;const E=Math.max(C.range.startLineNumber,h),I=Math.min(C.range.endLineNumber,u),T=(l=(s=C.options.glyphMargin)===null||s===void 0?void 0:s.position)!==null&&l!==void 0?l:w.GlyphMarginLane.Center,A=(r=C.options.zIndex)!==null&&r!==void 0?r:0;for(let R=E;R<=I;R++){const M=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(R,0)),N=this._context.viewModel.glyphLanes.getLanesAtLine(M.lineNumber).indexOf(T);d.push(new t(R,N,A,_))}}}_collectWidgetBasedGlyphRenderRequest(c,d){const s=c.visibleRange.startLineNumber,l=c.visibleRange.endLineNumber;for(const r of Object.values(this._widgets)){const h=r.preference.range,{startLineNumber:u,endLineNumber:f}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(p.Range.lift(h));if(!u||!f||f<s||u>l)continue;const C=Math.max(u,s),_=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new S.Position(C,0)),E=this._context.viewModel.glyphLanes.getLanesAtLine(_.lineNumber).indexOf(r.preference.lane);d.push(new o(C,E,r.preference.zIndex,r))}}_collectSortedGlyphRenderRequests(c){const d=[];return this._collectDecorationBasedGlyphRenderRequest(c,d),this._collectWidgetBasedGlyphRenderRequest(c,d),d.sort((s,l)=>s.lineNumber===l.lineNumber?s.laneIndex===l.laneIndex?s.zIndex===l.zIndex?l.type===s.type?s.type===0&&l.type===0?s.className<l.className?-1:1:0:l.type-s.type:l.zIndex-s.zIndex:s.laneIndex-l.laneIndex:s.lineNumber-l.lineNumber),d}prepareRender(c){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const l of Object.values(this._widgets))l.renderInfo=null;const d=new k.ArrayQueue(this._collectSortedGlyphRenderRequests(c)),s=[];for(;d.length>0;){const l=d.peek();if(!l)break;const r=d.takeWhile(u=>u.lineNumber===l.lineNumber&&u.laneIndex===l.laneIndex);if(!r||r.length===0)break;const h=r[0];if(h.type===0){const u=[];for(const f of r){if(f.zIndex!==h.zIndex||f.type!==h.type)break;(u.length===0||u[u.length-1]!==f.className)&&u.push(f.className)}s.push(h.accept(u.join(" ")))}else h.widget.renderInfo={lineNumber:h.lineNumber,laneIndex:h.laneIndex}}this._decorationGlyphsToRender=s}render(c){if(!this._glyphMargin){for(const s of Object.values(this._widgets))s.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const s=this._managedDomNodes.pop();s?.domNode.remove()}return}const d=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const s of Object.values(this._widgets))if(!s.renderInfo)s.domNode.setDisplay("none");else{const l=c.viewportData.relativeVerticalOffset[s.renderInfo.lineNumber-c.viewportData.startLineNumber],r=this._glyphMarginLeft+s.renderInfo.laneIndex*this._lineHeight;s.domNode.setDisplay("block"),s.domNode.setTop(l),s.domNode.setLeft(r),s.domNode.setWidth(d),s.domNode.setHeight(this._lineHeight)}for(let s=0;s<this._decorationGlyphsToRender.length;s++){const l=this._decorationGlyphsToRender[s],r=c.viewportData.relativeVerticalOffset[l.lineNumber-c.viewportData.startLineNumber],h=this._glyphMarginLeft+l.laneIndex*this._lineHeight;let u;s<this._managedDomNodes.length?u=this._managedDomNodes[s]:(u=(0,L.createFastDomNode)(document.createElement("div")),this._managedDomNodes.push(u),this.domNode.appendChild(u)),u.setClassName("cgmr codicon "+l.combinedClassName),u.setPosition("absolute"),u.setTop(r),u.setLeft(h),u.setWidth(d),u.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const s=this._managedDomNodes.pop();s?.domNode.remove()}}}e.GlyphMarginWidgets=i;class t{constructor(c,d,s,l){this.lineNumber=c,this.laneIndex=d,this.zIndex=s,this.className=l,this.type=0}accept(c){return new g(this.lineNumber,this.laneIndex,c)}}class o{constructor(c,d,s,l){this.lineNumber=c,this.laneIndex=d,this.zIndex=s,this.widget=l,this.type=1}}class g{constructor(c,d,s){this.lineNumber=c,this.laneIndex=d,this.combinedClassName=s}}}),define(ne[547],se([1,0,219,444]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends L.DedupOverlay{constructor(D){super(),this._context=D;const p=this._context.configuration.options.get(144);this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){const p=this._context.configuration.options.get(144);return this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){var S,p;const w=D.getDecorationsInViewport(),v=[];let b=0;for(let a=0,n=w.length;a<n;a++){const i=w[a],t=i.options.linesDecorationsClassName,o=i.options.zIndex;t&&(v[b++]=new L.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,t,(S=i.options.linesDecorationsTooltip)!==null&&S!==void 0?S:null,o));const g=i.options.firstLineDecorationClassName;g&&(v[b++]=new L.DecorationToRender(i.range.startLineNumber,i.range.startLineNumber,g,(p=i.options.linesDecorationsTooltip)!==null&&p!==void 0?p:null,o))}return v}prepareRender(D){const S=D.visibleRange.startLineNumber,p=D.visibleRange.endLineNumber,w=this._render(S,p,this._getDecorations(D)),v=this._decorationsLeft.toString(),b=this._decorationsWidth.toString(),a='" style="left:'+v+"px;width:"+b+'px;"></div>',n=[];for(let i=S;i<=p;i++){const t=i-S,o=w[t].getDecorations();let g="";for(const m of o){let c='<div class="cldr '+m.className;m.tooltip!==null&&(c+='" title="'+m.tooltip),c+=a,g+=c}n[t]=g}this._renderResult=n}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.LinesDecorationsOverlay=k}),define(ne[307],se([1,0,41,55,445]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class y extends k.ViewPart{constructor(S){super(S);const p=this._context.configuration.options,w=p.get(144);this._canUseLayerHinting=!p.get(32),this._contentLeft=w.contentLeft,this._glyphMarginLeft=w.glyphMarginLeft,this._glyphMarginWidth=w.glyphMarginWidth,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(y.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,L.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(y.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(S){const p=this._context.configuration.options,w=p.get(144);return this._canUseLayerHinting=!p.get(32),this._contentLeft=w.contentLeft,this._glyphMarginLeft=w.glyphMarginLeft,this._glyphMarginWidth=w.glyphMarginWidth,!0}onScrollChanged(S){return super.onScrollChanged(S)||S.scrollTopChanged}prepareRender(S){}render(S){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const p=S.scrollTop-S.bigNumbersDelta;this._domNode.setTop(-p);const w=Math.min(S.scrollHeight,1e6);this._domNode.setHeight(w),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(w)}}e.Margin=y,y.CLASS_NAME="glyph-margin",y.OUTER_CLASS_NAME="margin"}),define(ne[548],se([1,0,219,446]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends L.DedupOverlay{constructor(D){super(),this._context=D,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const S=D.getDecorationsInViewport(),p=[];let w=0;for(let v=0,b=S.length;v<b;v++){const a=S[v],n=a.options.marginClassName,i=a.options.zIndex;n&&(p[w++]=new L.DecorationToRender(a.range.startLineNumber,a.range.endLineNumber,n,null,i))}return p}prepareRender(D){const S=D.visibleRange.startLineNumber,p=D.visibleRange.endLineNumber,w=this._render(S,p,this._getDecorations(D)),v=[];for(let b=S;b<=p;b++){const a=b-S,n=w[a].getDecorations();let i="";for(const t of n)i+='<div class="cmdr '+t.className+'" style=""></div>';v[a]=i}this._renderResult=v}render(D,S){return this._renderResult?this._renderResult[S-D]:""}}e.MarginViewLineDecorationsOverlay=k}),define(ne[549],se([1,0,41,55,449]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class y extends k.ViewPart{constructor(S){super(S),this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const p=this._context.configuration.options;this._rulers=p.get(102),this._typicalHalfwidthCharacterWidth=p.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(S){const p=this._context.configuration.options;return this._rulers=p.get(102),this._typicalHalfwidthCharacterWidth=p.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(S){return S.scrollHeightChanged}prepareRender(S){}_ensureRulersCount(){const S=this._renderedRulers.length,p=this._rulers.length;if(S===p)return;if(S<p){const{tabSize:v}=this._context.viewModel.model.getOptions(),b=v;let a=p-S;for(;a>0;){const n=(0,L.createFastDomNode)(document.createElement("div"));n.setClassName("view-ruler"),n.setWidth(b),this.domNode.appendChild(n),this._renderedRulers.push(n),a--}return}let w=S-p;for(;w>0;){const v=this._renderedRulers.pop();this.domNode.removeChild(v),w--}}render(S){this._ensureRulersCount();for(let p=0,w=this._rulers.length;p<w;p++){const v=this._renderedRulers[p],b=this._rulers[p];v.setBoxShadow(b.color?`1px 0 0 0 ${b.color} inset`:""),v.setHeight(Math.min(S.scrollHeight,1e6)),v.setLeft(b.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=y}),define(ne[550],se([1,0,41,55,450]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class y extends k.ViewPart{constructor(S){super(S),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const w=this._context.configuration.options.get(103);this._useShadows=w.useShadows,this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const S=this._useShadows&&this._scrollTop>0;return this._shouldShow!==S?(this._shouldShow=S,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const p=this._context.configuration.options.get(144);p.minimap.renderMinimap===0||p.minimap.minimapWidth>0&&p.minimap.minimapLeft===0?this._width=p.width:this._width=p.width-p.verticalScrollbarWidth}onConfigurationChanged(S){const w=this._context.configuration.options.get(103);return this._useShadows=w.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(S){return this._scrollTop=S.scrollTop,this._updateShouldShow()}prepareRender(S){}render(S){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=y}),define(ne[551],se([1,0,41,12,55,9]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const S=()=>{throw new Error("Invalid change accessor")};class p extends y.ViewPart{constructor(b){super(b);const a=this._context.configuration.options,n=a.get(144);this._lineHeight=a.get(67),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,this.domNode=(0,L.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,L.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const b=this._context.viewLayout.getWhitespaces(),a=new Map;for(const i of b)a.set(i.id,i);let n=!1;return this._context.viewModel.changeWhitespace(i=>{const t=Object.keys(this._zones);for(let o=0,g=t.length;o<g;o++){const m=t[o],c=this._zones[m],d=this._computeWhitespaceProps(c.delegate);c.isInHiddenArea=d.isInHiddenArea;const s=a.get(m);s&&(s.afterLineNumber!==d.afterViewLineNumber||s.height!==d.heightInPx)&&(i.changeOneWhitespace(m,d.afterViewLineNumber,d.heightInPx),this._safeCallOnComputedHeight(c.delegate,d.heightInPx),n=!0)}}),n}onConfigurationChanged(b){const a=this._context.configuration.options,n=a.get(144);return this._lineHeight=a.get(67),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,b.hasChanged(67)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(b){return this._recomputeWhitespacesProps()}onLinesDeleted(b){return!0}onScrollChanged(b){return b.scrollTopChanged||b.scrollWidthChanged}onZonesChanged(b){return!0}onLinesInserted(b){return!0}_getZoneOrdinal(b){var a,n;return(n=(a=b.ordinal)!==null&&a!==void 0?a:b.afterColumn)!==null&&n!==void 0?n:1e4}_computeWhitespaceProps(b){if(b.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(b),minWidthInPx:this._minWidthInPixels(b)};let a;if(typeof b.afterColumn<"u")a=this._context.viewModel.model.validatePosition({lineNumber:b.afterLineNumber,column:b.afterColumn});else{const o=this._context.viewModel.model.validatePosition({lineNumber:b.afterLineNumber,column:1}).lineNumber;a=new D.Position(o,this._context.viewModel.model.getLineMaxColumn(o))}let n;a.column===this._context.viewModel.model.getLineMaxColumn(a.lineNumber)?n=this._context.viewModel.model.validatePosition({lineNumber:a.lineNumber+1,column:1}):n=this._context.viewModel.model.validatePosition({lineNumber:a.lineNumber,column:a.column+1});const i=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(a,b.afterColumnAffinity,!0),t=b.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(n);return{isInHiddenArea:!t,afterViewLineNumber:i.lineNumber,heightInPx:t?this._heightInPixels(b):0,minWidthInPx:this._minWidthInPixels(b)}}changeViewZones(b){let a=!1;return this._context.viewModel.changeWhitespace(n=>{const i={addZone:t=>(a=!0,this._addZone(n,t)),removeZone:t=>{t&&(a=this._removeZone(n,t)||a)},layoutZone:t=>{t&&(a=this._layoutZone(n,t)||a)}};w(b,i),i.addZone=S,i.removeZone=S,i.layoutZone=S}),a}_addZone(b,a){const n=this._computeWhitespaceProps(a),t={whitespaceId:b.insertWhitespace(n.afterViewLineNumber,this._getZoneOrdinal(a),n.heightInPx,n.minWidthInPx),delegate:a,isInHiddenArea:n.isInHiddenArea,isVisible:!1,domNode:(0,L.createFastDomNode)(a.domNode),marginDomNode:a.marginDomNode?(0,L.createFastDomNode)(a.marginDomNode):null};return this._safeCallOnComputedHeight(t.delegate,n.heightInPx),t.domNode.setPosition("absolute"),t.domNode.domNode.style.width="100%",t.domNode.setDisplay("none"),t.domNode.setAttribute("monaco-view-zone",t.whitespaceId),this.domNode.appendChild(t.domNode),t.marginDomNode&&(t.marginDomNode.setPosition("absolute"),t.marginDomNode.domNode.style.width="100%",t.marginDomNode.setDisplay("none"),t.marginDomNode.setAttribute("monaco-view-zone",t.whitespaceId),this.marginDomNode.appendChild(t.marginDomNode)),this._zones[t.whitespaceId]=t,this.setShouldRender(),t.whitespaceId}_removeZone(b,a){if(this._zones.hasOwnProperty(a)){const n=this._zones[a];return delete this._zones[a],b.removeWhitespace(n.whitespaceId),n.domNode.removeAttribute("monaco-visible-view-zone"),n.domNode.removeAttribute("monaco-view-zone"),n.domNode.domNode.parentNode.removeChild(n.domNode.domNode),n.marginDomNode&&(n.marginDomNode.removeAttribute("monaco-visible-view-zone"),n.marginDomNode.removeAttribute("monaco-view-zone"),n.marginDomNode.domNode.parentNode.removeChild(n.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(b,a){if(this._zones.hasOwnProperty(a)){const n=this._zones[a],i=this._computeWhitespaceProps(n.delegate);return n.isInHiddenArea=i.isInHiddenArea,b.changeOneWhitespace(n.whitespaceId,i.afterViewLineNumber,i.heightInPx),this._safeCallOnComputedHeight(n.delegate,i.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(b){return this._zones.hasOwnProperty(b)?!!this._zones[b].delegate.suppressMouseDown:!1}_heightInPixels(b){return typeof b.heightInPx=="number"?b.heightInPx:typeof b.heightInLines=="number"?this._lineHeight*b.heightInLines:this._lineHeight}_minWidthInPixels(b){return typeof b.minWidthInPx=="number"?b.minWidthInPx:0}_safeCallOnComputedHeight(b,a){if(typeof b.onComputedHeight=="function")try{b.onComputedHeight(a)}catch(n){(0,k.onUnexpectedError)(n)}}_safeCallOnDomNodeTop(b,a){if(typeof b.onDomNodeTop=="function")try{b.onDomNodeTop(a)}catch(n){(0,k.onUnexpectedError)(n)}}prepareRender(b){}render(b){const a=b.viewportData.whitespaceViewportData,n={};let i=!1;for(const o of a)this._zones[o.id].isInHiddenArea||(n[o.id]=o,i=!0);const t=Object.keys(this._zones);for(let o=0,g=t.length;o<g;o++){const m=t[o],c=this._zones[m];let d=0,s=0,l="none";n.hasOwnProperty(m)?(d=n[m].verticalOffset-b.bigNumbersDelta,s=n[m].height,l="block",c.isVisible||(c.domNode.setAttribute("monaco-visible-view-zone","true"),c.isVisible=!0),this._safeCallOnDomNodeTop(c.delegate,b.getScrolledTopFromAbsoluteTop(n[m].verticalOffset))):(c.isVisible&&(c.domNode.removeAttribute("monaco-visible-view-zone"),c.isVisible=!1),this._safeCallOnDomNodeTop(c.delegate,b.getScrolledTopFromAbsoluteTop(-1e6))),c.domNode.setTop(d),c.domNode.setHeight(s),c.domNode.setDisplay(l),c.marginDomNode&&(c.marginDomNode.setTop(d),c.marginDomNode.setHeight(s),c.marginDomNode.setDisplay(l))}i&&(this.domNode.setWidth(Math.max(b.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=p;function w(v,b){try{return v(b)}catch(a){(0,k.onUnexpectedError)(a)}}}),define(ne[220],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class L{constructor(){this.type=0}}e.ViewCompositionStartEvent=L;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class y{constructor(l){this.type=2,this._source=l}hasChanged(l){return this._source.hasChanged(l)}}e.ViewConfigurationChangedEvent=y;class D{constructor(l,r,h){this.selections=l,this.modelSelections=r,this.reason=h,this.type=3}}e.ViewCursorStateChangedEvent=D;class S{constructor(l){this.type=4,l?(this.affectsMinimap=l.affectsMinimap,this.affectsOverviewRuler=l.affectsOverviewRuler,this.affectsGlyphMargin=l.affectsGlyphMargin,this.affectsLineNumber=l.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}e.ViewDecorationsChangedEvent=S;class p{constructor(){this.type=5}}e.ViewFlushedEvent=p;class w{constructor(l){this.type=6,this.isFocused=l}}e.ViewFocusChangedEvent=w;class v{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=v;class b{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=b;class a{constructor(l,r){this.fromLineNumber=l,this.count=r,this.type=9}}e.ViewLinesChangedEvent=a;class n{constructor(l,r){this.type=10,this.fromLineNumber=l,this.toLineNumber=r}}e.ViewLinesDeletedEvent=n;class i{constructor(l,r){this.type=11,this.fromLineNumber=l,this.toLineNumber=r}}e.ViewLinesInsertedEvent=i;class t{constructor(l,r,h,u,f,C,_){this.source=l,this.minimalReveal=r,this.range=h,this.selections=u,this.verticalType=f,this.revealHorizontal=C,this.scrollType=_,this.type=12}}e.ViewRevealRangeRequestEvent=t;class o{constructor(l){this.type=13,this.scrollWidth=l.scrollWidth,this.scrollLeft=l.scrollLeft,this.scrollHeight=l.scrollHeight,this.scrollTop=l.scrollTop,this.scrollWidthChanged=l.scrollWidthChanged,this.scrollLeftChanged=l.scrollLeftChanged,this.scrollHeightChanged=l.scrollHeightChanged,this.scrollTopChanged=l.scrollTopChanged}}e.ViewScrollChangedEvent=o;class g{constructor(l){this.theme=l,this.type=14}}e.ViewThemeChangedEvent=g;class m{constructor(l){this.type=15,this.ranges=l}}e.ViewTokensChangedEvent=m;class c{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=c;class d{constructor(){this.type=17}}e.ViewZonesChangedEvent=d}),define(ne[139],se([1,0,11]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(w,v,b,a){this.startColumn=w,this.endColumn=v,this.className=b,this.type=a,this._lineDecorationBrand=void 0}static _equals(w,v){return w.startColumn===v.startColumn&&w.endColumn===v.endColumn&&w.className===v.className&&w.type===v.type}static equalsArr(w,v){const b=w.length,a=v.length;if(b!==a)return!1;for(let n=0;n<b;n++)if(!k._equals(w[n],v[n]))return!1;return!0}static extractWrapped(w,v,b){if(w.length===0)return w;const a=v+1,n=b+1,i=b-v,t=[];let o=0;for(const g of w)g.endColumn<=a||g.startColumn>=n||(t[o++]=new k(Math.max(1,g.startColumn-a+1),Math.min(i+1,g.endColumn-a+1),g.className,g.type));return t}static filter(w,v,b,a){if(w.length===0)return[];const n=[];let i=0;for(let t=0,o=w.length;t<o;t++){const g=w[t],m=g.range;if(m.endLineNumber<v||m.startLineNumber>v||m.isEmpty()&&(g.type===0||g.type===3))continue;const c=m.startLineNumber===v?m.startColumn:b,d=m.endLineNumber===v?m.endColumn:a;n[i++]=new k(c,d,g.inlineClassName,g.type)}return n}static _typeCompare(w,v){const b=[2,0,1,3];return b[w]-b[v]}static compare(w,v){if(w.startColumn!==v.startColumn)return w.startColumn-v.startColumn;if(w.endColumn!==v.endColumn)return w.endColumn-v.endColumn;const b=k._typeCompare(w.type,v.type);return b!==0?b:w.className!==v.className?w.className<v.className?-1:1:0}}e.LineDecoration=k;class y{constructor(w,v,b,a){this.startOffset=w,this.endOffset=v,this.className=b,this.metadata=a}}e.DecorationSegment=y;class D{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(w){let v=0;for(let b=0,a=w.length;b<a;b++)v|=w[b];return v}consumeLowerThan(w,v,b){for(;this.count>0&&this.stopOffsets[0]<w;){let a=0;for(;a+1<this.count&&this.stopOffsets[a]===this.stopOffsets[a+1];)a++;b.push(new y(v,this.stopOffsets[a],this.classNames.join(" "),D._metadata(this.metadata))),v=this.stopOffsets[a]+1,this.stopOffsets.splice(0,a+1),this.classNames.splice(0,a+1),this.metadata.splice(0,a+1),this.count-=a+1}return this.count>0&&v<w&&(b.push(new y(v,w-1,this.classNames.join(" "),D._metadata(this.metadata))),v=w),v}insert(w,v,b){if(this.count===0||this.stopOffsets[this.count-1]<=w)this.stopOffsets.push(w),this.classNames.push(v),this.metadata.push(b);else for(let a=0;a<this.count;a++)if(this.stopOffsets[a]>=w){this.stopOffsets.splice(a,0,w),this.classNames.splice(a,0,v),this.metadata.splice(a,0,b);break}this.count++}}class S{static normalize(w,v){if(v.length===0)return[];const b=[],a=new D;let n=0;for(let i=0,t=v.length;i<t;i++){const o=v[i];let g=o.startColumn,m=o.endColumn;const c=o.className,d=o.type===1?2:o.type===2?4:0;if(g>1){const r=w.charCodeAt(g-2);L.isHighSurrogate(r)&&g--}if(m>1){const r=w.charCodeAt(m-2);L.isHighSurrogate(r)&&m--}const s=g-1,l=m-2;n=a.consumeLowerThan(s,n,b),a.count===0&&(n=s),a.insert(l,c,d)}return a.consumeLowerThan(1073741824,n,b),b}}e.LineDecorationsNormalizer=S}),define(ne[552],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class L{constructor(y,D,S,p){this.endIndex=y,this.type=D,this.metadata=S,this.containsRTL=p,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=L}),define(ne[553],se([1,0,11]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(p){this._hasPending=!0,this._inserts.push(p)}change(p){this._hasPending=!0,this._changes.push(p)}remove(p){this._hasPending=!0,this._removes.push(p)}mustCommit(){return this._hasPending}commit(p){if(!this._hasPending)return;const w=this._inserts,v=this._changes,b=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],p._commitPendingChanges(w,v,b)}}class y{constructor(p,w,v,b,a){this.id=p,this.afterLineNumber=w,this.ordinal=v,this.height=b,this.minWidth=a,this.prefixSum=0}}e.EditorWhitespace=y;class D{constructor(p,w,v,b){this._instanceId=L.singleLetterHash(++D.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=p,this._lineHeight=w,this._paddingTop=v,this._paddingBottom=b}static findInsertionIndex(p,w,v){let b=0,a=p.length;for(;b<a;){const n=b+a>>>1;w===p[n].afterLineNumber?v<p[n].ordinal?a=n:b=n+1:w<p[n].afterLineNumber?a=n:b=n+1}return b}setLineHeight(p){this._checkPendingChanges(),this._lineHeight=p}setPadding(p,w){this._paddingTop=p,this._paddingBottom=w}onFlushed(p){this._checkPendingChanges(),this._lineCount=p}changeWhitespace(p){let w=!1;try{p({insertWhitespace:(b,a,n,i)=>{w=!0,b=b|0,a=a|0,n=n|0,i=i|0;const t=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new y(t,b,a,n,i)),t},changeOneWhitespace:(b,a,n)=>{w=!0,a=a|0,n=n|0,this._pendingChanges.change({id:b,newAfterLineNumber:a,newHeight:n})},removeWhitespace:b=>{w=!0,this._pendingChanges.remove({id:b})}})}finally{this._pendingChanges.commit(this)}return w}_commitPendingChanges(p,w,v){if((p.length>0||v.length>0)&&(this._minWidth=-1),p.length+w.length+v.length<=1){for(const t of p)this._insertWhitespace(t);for(const t of w)this._changeOneWhitespace(t.id,t.newAfterLineNumber,t.newHeight);for(const t of v){const o=this._findWhitespaceIndex(t.id);o!==-1&&this._removeWhitespace(o)}return}const b=new Set;for(const t of v)b.add(t.id);const a=new Map;for(const t of w)a.set(t.id,t);const n=t=>{const o=[];for(const g of t)if(!b.has(g.id)){if(a.has(g.id)){const m=a.get(g.id);g.afterLineNumber=m.newAfterLineNumber,g.height=m.newHeight}o.push(g)}return o},i=n(this._arr).concat(n(p));i.sort((t,o)=>t.afterLineNumber===o.afterLineNumber?t.ordinal-o.ordinal:t.afterLineNumber-o.afterLineNumber),this._arr=i,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(p){const w=D.findInsertionIndex(this._arr,p.afterLineNumber,p.ordinal);this._arr.splice(w,0,p),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,w-1)}_findWhitespaceIndex(p){const w=this._arr;for(let v=0,b=w.length;v<b;v++)if(w[v].id===p)return v;return-1}_changeOneWhitespace(p,w,v){const b=this._findWhitespaceIndex(p);if(b!==-1&&(this._arr[b].height!==v&&(this._arr[b].height=v,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)),this._arr[b].afterLineNumber!==w)){const a=this._arr[b];this._removeWhitespace(b),a.afterLineNumber=w,this._insertWhitespace(a)}}_removeWhitespace(p){this._arr.splice(p,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)}onLinesDeleted(p,w){this._checkPendingChanges(),p=p|0,w=w|0,this._lineCount-=w-p+1;for(let v=0,b=this._arr.length;v<b;v++){const a=this._arr[v].afterLineNumber;p<=a&&a<=w?this._arr[v].afterLineNumber=p-1:a>w&&(this._arr[v].afterLineNumber-=w-p+1)}}onLinesInserted(p,w){this._checkPendingChanges(),p=p|0,w=w|0,this._lineCount+=w-p+1;for(let v=0,b=this._arr.length;v<b;v++){const a=this._arr[v].afterLineNumber;p<=a&&(this._arr[v].afterLineNumber+=w-p+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(p){this._checkPendingChanges(),p=p|0;let w=Math.max(0,this._prefixSumValidIndex+1);w===0&&(this._arr[0].prefixSum=this._arr[0].height,w++);for(let v=w;v<=p;v++)this._arr[v].prefixSum=this._arr[v-1].prefixSum+this._arr[v].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,p),this._arr[p].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const p=this._lineHeight*this._lineCount,w=this.getWhitespacesTotalHeight();return p+w+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(p){this._checkPendingChanges(),p=p|0;const w=this._findLastWhitespaceBeforeLineNumber(p);return w===-1?0:this.getWhitespacesAccumulatedHeight(w)}_findLastWhitespaceBeforeLineNumber(p){p=p|0;const w=this._arr;let v=0,b=w.length-1;for(;v<=b;){const n=(b-v|0)/2|0,i=v+n|0;if(w[i].afterLineNumber<p){if(i+1>=w.length||w[i+1].afterLineNumber>=p)return i;v=i+1|0}else b=i-1|0}return-1}_findFirstWhitespaceAfterLineNumber(p){p=p|0;const v=this._findLastWhitespaceBeforeLineNumber(p)+1;return v<this._arr.length?v:-1}getFirstWhitespaceIndexAfterLineNumber(p){return this._checkPendingChanges(),p=p|0,this._findFirstWhitespaceAfterLineNumber(p)}getVerticalOffsetForLineNumber(p,w=!1){this._checkPendingChanges(),p=p|0;let v;p>1?v=this._lineHeight*(p-1):v=0;const b=this.getWhitespaceAccumulatedHeightBeforeLineNumber(p-(w?1:0));return v+b+this._paddingTop}getVerticalOffsetAfterLineNumber(p,w=!1){this._checkPendingChanges(),p=p|0;const v=this._lineHeight*p,b=this.getWhitespaceAccumulatedHeightBeforeLineNumber(p+(w?1:0));return v+b+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let p=0;for(let w=0,v=this._arr.length;w<v;w++)p=Math.max(p,this._arr[w].minWidth);this._minWidth=p}return this._minWidth}isAfterLines(p){this._checkPendingChanges();const w=this.getLinesTotalHeight();return p>w}isInTopPadding(p){return this._paddingTop===0?!1:(this._checkPendingChanges(),p<this._paddingTop)}isInBottomPadding(p){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const w=this.getLinesTotalHeight();return p>=w-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(p){if(this._checkPendingChanges(),p=p|0,p<0)return 1;const w=this._lineCount|0,v=this._lineHeight;let b=1,a=w;for(;b<a;){const n=(b+a)/2|0,i=this.getVerticalOffsetForLineNumber(n)|0;if(p>=i+v)b=n+1;else{if(p>=i)return n;a=n}}return b>w?w:b}getLinesViewportData(p,w){this._checkPendingChanges(),p=p|0,w=w|0;const v=this._lineHeight,b=this.getLineNumberAtOrAfterVerticalOffset(p)|0,a=this.getVerticalOffsetForLineNumber(b)|0;let n=this._lineCount|0,i=this.getFirstWhitespaceIndexAfterLineNumber(b)|0;const t=this.getWhitespacesCount()|0;let o,g;i===-1?(i=t,g=n+1,o=0):(g=this.getAfterLineNumberForWhitespaceIndex(i)|0,o=this.getHeightForWhitespaceIndex(i)|0);let m=a,c=m;const d=5e5;let s=0;a>=d&&(s=Math.floor(a/d)*d,s=Math.floor(s/v)*v,c-=s);const l=[],r=p+(w-p)/2;let h=-1;for(let _=b;_<=n;_++){if(h===-1){const E=m,I=m+v;(E<=r&&r<I||E>r)&&(h=_)}for(m+=v,l[_-b]=c,c+=v;g===_;)c+=o,m+=o,i++,i>=t?g=n+1:(g=this.getAfterLineNumberForWhitespaceIndex(i)|0,o=this.getHeightForWhitespaceIndex(i)|0);if(m>=w){n=_;break}}h===-1&&(h=n);const u=this.getVerticalOffsetForLineNumber(n)|0;let f=b,C=n;return f<C&&a<p&&f++,f<C&&u+v>w&&C--,{bigNumbersDelta:s,startLineNumber:b,endLineNumber:n,relativeVerticalOffset:l,centeredLineNumber:h,completelyVisibleStartLineNumber:f,completelyVisibleEndLineNumber:C}}getVerticalOffsetForWhitespaceIndex(p){this._checkPendingChanges(),p=p|0;const w=this.getAfterLineNumberForWhitespaceIndex(p);let v;w>=1?v=this._lineHeight*w:v=0;let b;return p>0?b=this.getWhitespacesAccumulatedHeight(p-1):b=0,v+b+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(p){this._checkPendingChanges(),p=p|0;let w=0,v=this.getWhitespacesCount()-1;if(v<0)return-1;const b=this.getVerticalOffsetForWhitespaceIndex(v),a=this.getHeightForWhitespaceIndex(v);if(p>=b+a)return-1;for(;w<v;){const n=Math.floor((w+v)/2),i=this.getVerticalOffsetForWhitespaceIndex(n),t=this.getHeightForWhitespaceIndex(n);if(p>=i+t)w=n+1;else{if(p>=i)return n;v=n}}return w}getWhitespaceAtVerticalOffset(p){this._checkPendingChanges(),p=p|0;const w=this.getWhitespaceIndexAtOrAfterVerticallOffset(p);if(w<0||w>=this.getWhitespacesCount())return null;const v=this.getVerticalOffsetForWhitespaceIndex(w);if(v>p)return null;const b=this.getHeightForWhitespaceIndex(w),a=this.getIdForWhitespaceIndex(w),n=this.getAfterLineNumberForWhitespaceIndex(w);return{id:a,afterLineNumber:n,verticalOffset:v,height:b}}getWhitespaceViewportData(p,w){this._checkPendingChanges(),p=p|0,w=w|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(p),b=this.getWhitespacesCount()-1;if(v<0)return[];const a=[];for(let n=v;n<=b;n++){const i=this.getVerticalOffsetForWhitespaceIndex(n),t=this.getHeightForWhitespaceIndex(n);if(i>=w)break;a.push({id:this.getIdForWhitespaceIndex(n),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(n),verticalOffset:i,height:t})}return a}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].id}getAfterLineNumberForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].afterLineNumber}getHeightForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].height}}e.LinesLayout=D,D.INSTANCE_COUNT=0}),define(ne[554],se([1,0,5]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(D,S,p,w){this.selections=D,this.startLineNumber=S.startLineNumber|0,this.endLineNumber=S.endLineNumber|0,this.relativeVerticalOffset=S.relativeVerticalOffset,this.bigNumbersDelta=S.bigNumbersDelta|0,this.whitespaceViewportData=p,this._model=w,this.visibleRange=new L.Range(S.startLineNumber,this._model.getLineMinColumn(S.startLineNumber),S.endLineNumber,this._model.getLineMaxColumn(S.endLineNumber))}getViewLineRenderingData(D){return this._model.getViewportViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(ne[86],se([1,0,13,11,5]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class D{constructor(t,o,g,m){this._viewportBrand=void 0,this.top=t|0,this.left=o|0,this.width=g|0,this.height=m|0}}e.Viewport=D;class S{constructor(t,o){this.tabSize=t,this.data=o}}e.MinimapLinesRenderingData=S;class p{constructor(t,o,g,m,c,d,s){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=o,this.minColumn=g,this.maxColumn=m,this.startVisibleColumn=c,this.tokens=d,this.inlineDecorations=s}}e.ViewLineData=p;class w{constructor(t,o,g,m,c,d,s,l,r,h){this.minColumn=t,this.maxColumn=o,this.content=g,this.continuesWithWrappedLine=m,this.isBasicASCII=w.isBasicASCII(g,d),this.containsRTL=w.containsRTL(g,this.isBasicASCII,c),this.tokens=s,this.inlineDecorations=l,this.tabSize=r,this.startVisibleColumn=h}static isBasicASCII(t,o){return o?k.isBasicASCII(t):!0}static containsRTL(t,o,g){return!o&&g?k.containsRTL(t):!1}}e.ViewLineRenderingData=w;class v{constructor(t,o,g){this.range=t,this.inlineClassName=o,this.type=g}}e.InlineDecoration=v;class b{constructor(t,o,g,m){this.startOffset=t,this.endOffset=o,this.inlineClassName=g,this.inlineClassNameAffectsLetterSpacing=m}toInlineDecoration(t){return new v(new y.Range(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=b;class a{constructor(t,o){this._viewModelDecorationBrand=void 0,this.range=t,this.options=o}}e.ViewModelDecoration=a;class n{constructor(t,o,g){this.color=t,this.zIndex=o,this.data=g}static compareByRenderingProps(t,o){return t.zIndex===o.zIndex?t.color<o.color?-1:t.color>o.color?1:0:t.zIndex-o.zIndex}static equals(t,o){return t.color===o.color&&t.zIndex===o.zIndex&&L.equals(t.data,o.data)}static equalsArr(t,o){return L.equals(t,o,n.equals)}}e.OverviewRulerDecorationsGroup=n}),define(ne[555],se([1,0,40]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginLanesModel=void 0;const k=L.GlyphMarginLane.Right;class y{constructor(S){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((S+1)*k/8))}reset(S){const p=Math.ceil((S+1)*k/8);this.lanes.length<p?this.lanes=new Uint8Array(p):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(S,p,w){w&&(this.persist|=1<<S-1);for(let v=p.startLineNumber;v<=p.endLineNumber;v++){const b=k*v+(S-1);this.lanes[b>>>3]|=1<<b%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(v))}}getLanesAtLine(S){const p=[];let w=k*S;for(let v=0;v<k;v++)(this.persist&1<<v||this.lanes[w>>>3]&1<<w%8)&&p.push(v+1),w++;return p.length?p:[L.GlyphMarginLane.Center]}countAtLine(S){let p=k*S,w=0;for(let v=0;v<k;v++)(this.persist&1<<v||this.lanes[p>>>3]&1<<p%8)&&w++,p++;return w}}e.GlyphMarginLanesModel=y}),define(ne[556],se([1,0,97,9,117,86]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function S(i,t){return i===null?t?w.INSTANCE:v.INSTANCE:new p(i,t)}e.createModelLineProjection=S;class p{constructor(t,o){this._projectionData=t,this._isVisible=o}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,o,g){this._assertVisible();const m=g>0?this._projectionData.breakOffsets[g-1]:0,c=this._projectionData.breakOffsets[g];let d;if(this._projectionData.injectionOffsets!==null){const s=this._projectionData.injectionOffsets.map((r,h)=>new y.LineInjectedText(0,0,r+1,this._projectionData.injectionOptions[h],0));d=y.LineInjectedText.applyInjectedText(t.getLineContent(o),s).substring(m,c)}else d=t.getValueInRange({startLineNumber:o,startColumn:m+1,endLineNumber:o,endColumn:c+1});return g>0&&(d=a(this._projectionData.wrappedTextIndentLength)+d),d}getViewLineLength(t,o,g){return this._assertVisible(),this._projectionData.getLineLength(g)}getViewLineMinColumn(t,o,g){return this._assertVisible(),this._projectionData.getMinOutputOffset(g)+1}getViewLineMaxColumn(t,o,g){return this._assertVisible(),this._projectionData.getMaxOutputOffset(g)+1}getViewLineData(t,o,g){const m=new Array;return this.getViewLinesData(t,o,g,1,0,[!0],m),m[0]}getViewLinesData(t,o,g,m,c,d,s){this._assertVisible();const l=this._projectionData,r=l.injectionOffsets,h=l.injectionOptions;let u=null;if(r){u=[];let C=0,_=0;for(let E=0;E<l.getOutputLineCount();E++){const I=new Array;u[E]=I;const T=E>0?l.breakOffsets[E-1]:0,A=l.breakOffsets[E];for(;_<r.length;){const R=h[_].content.length,M=r[_]+C,N=M+R;if(M>A)break;if(T<N){const P=h[_];if(P.inlineClassName){const F=E>0?l.wrappedTextIndentLength:0,O=F+Math.max(M-T,0),B=F+Math.min(N-T,A-T);O!==B&&I.push(new D.SingleLineInlineDecoration(O,B,P.inlineClassName,P.inlineClassNameAffectsLetterSpacing))}}if(N<=A)C+=R,_++;else break}}}let f;r?f=t.tokenization.getLineTokens(o).withInserted(r.map((C,_)=>({offset:C,text:h[_].content,tokenMetadata:L.LineTokens.defaultTokenMetadata}))):f=t.tokenization.getLineTokens(o);for(let C=g;C<g+m;C++){const _=c+C-g;if(!d[_]){s[_]=null;continue}s[_]=this._getViewLineData(f,u?u[C]:null,C)}}_getViewLineData(t,o,g){this._assertVisible();const m=this._projectionData,c=g>0?m.wrappedTextIndentLength:0,d=g>0?m.breakOffsets[g-1]:0,s=m.breakOffsets[g],l=t.sliceAndInflate(d,s,c);let r=l.getLineContent();g>0&&(r=a(m.wrappedTextIndentLength)+r);const h=this._projectionData.getMinOutputOffset(g)+1,u=r.length+1,f=g+1<this.getViewLineCount(),C=g===0?0:m.breakOffsetsVisibleColumn[g-1];return new D.ViewLineData(r,f,h,u,C,l,o)}getModelColumnOfViewPosition(t,o){return this._assertVisible(),this._projectionData.translateToInputOffset(t,o-1)+1}getViewPositionOfModelPosition(t,o,g=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(o-1,g).toPosition(t)}getViewLineNumberOfModelPosition(t,o){this._assertVisible();const g=this._projectionData.translateToOutputPosition(o-1);return t+g.outputLineIndex}normalizePosition(t,o,g){const m=o.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,o.column-1,g).toPosition(m)}getInjectedTextAt(t,o){return this._projectionData.getInjectedText(t,o-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class w{constructor(){}isVisible(){return!0}setVisible(t){return t?this:v.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,o,g){return t.getLineContent(o)}getViewLineLength(t,o,g){return t.getLineLength(o)}getViewLineMinColumn(t,o,g){return t.getLineMinColumn(o)}getViewLineMaxColumn(t,o,g){return t.getLineMaxColumn(o)}getViewLineData(t,o,g){const m=t.tokenization.getLineTokens(o),c=m.getLineContent();return new D.ViewLineData(c,!1,1,c.length+1,0,m.inflate(),null)}getViewLinesData(t,o,g,m,c,d,s){if(!d[c]){s[c]=null;return}s[c]=this.getViewLineData(t,o,0)}getModelColumnOfViewPosition(t,o){return o}getViewPositionOfModelPosition(t,o){return new k.Position(t,o)}getViewLineNumberOfModelPosition(t,o){return t}normalizePosition(t,o,g){return o}getInjectedTextAt(t,o){return null}}w.INSTANCE=new w;class v{constructor(){}isVisible(){return!1}setVisible(t){return t?w.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,o,g){throw new Error("Not supported")}getViewLineLength(t,o,g){throw new Error("Not supported")}getViewLineMinColumn(t,o,g){throw new Error("Not supported")}getViewLineMaxColumn(t,o,g){throw new Error("Not supported")}getViewLineData(t,o,g){throw new Error("Not supported")}getViewLinesData(t,o,g,m,c,d,s){throw new Error("Not supported")}getModelColumnOfViewPosition(t,o){throw new Error("Not supported")}getViewPositionOfModelPosition(t,o){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,o){throw new Error("Not supported")}normalizePosition(t,o,g){throw new Error("Not supported")}getInjectedTextAt(t,o){throw new Error("Not supported")}}v.INSTANCE=new v;const b=[""];function a(i){if(i>=b.length)for(let t=1;t<=i;t++)b[t]=n(t);return b[i]}function n(i){return new Array(i+1).join(" ")}}),define(ne[557],se([1,0,11,132,117,302]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class S{static create(m){return new S(m.get(133),m.get(132))}constructor(m,c){this.classifier=new p(m,c)}createLineBreaksComputer(m,c,d,s,l){const r=[],h=[],u=[];return{addRequest:(f,C,_)=>{r.push(f),h.push(C),u.push(_)},finalize:()=>{const f=m.typicalFullwidthCharacterWidth/m.typicalHalfwidthCharacterWidth,C=[];for(let _=0,E=r.length;_<E;_++){const I=h[_],T=u[_];T&&!T.injectionOptions&&!I?C[_]=b(this.classifier,T,r[_],c,d,f,s,l):C[_]=a(this.classifier,r[_],I,c,d,f,s,l)}return w.length=0,v.length=0,C}}}}e.MonospaceLineBreaksComputerFactory=S;class p extends k.CharacterClassifier{constructor(m,c){super(0);for(let d=0;d<m.length;d++)this.set(m.charCodeAt(d),1);for(let d=0;d<c.length;d++)this.set(c.charCodeAt(d),2)}get(m){return m>=0&&m<256?this._asciiMap[m]:m>=12352&&m<=12543||m>=13312&&m<=19903||m>=19968&&m<=40959?3:this._map.get(m)||this._defaultValue}}let w=[],v=[];function b(g,m,c,d,s,l,r,h){if(s===-1)return null;const u=c.length;if(u<=1)return null;const f=h==="keepAll",C=m.breakOffsets,_=m.breakOffsetsVisibleColumn,E=o(c,d,s,l,r),I=s-E,T=w,A=v;let R=0,M=0,N=0,P=s;const F=C.length;let O=0;if(O>=0){let B=Math.abs(_[O]-P);for(;O+1<F;){const W=Math.abs(_[O+1]-P);if(W>=B)break;B=W,O++}}for(;O<F;){let B=O<0?0:C[O],W=O<0?0:_[O];M>B&&(B=M,W=N);let V=0,z=0,K=0,j=0;if(W<=P){let re=W,ie=B===0?0:c.charCodeAt(B-1),J=B===0?0:g.get(ie),X=!0;for(let Y=B;Y<u;Y++){const le=Y,de=c.charCodeAt(Y);let ge,pe;if(L.isHighSurrogate(de)?(Y++,ge=0,pe=2):(ge=g.get(de),pe=n(de,re,d,l)),le>M&&t(ie,J,de,ge,f)&&(V=le,z=re),re+=pe,re>P){le>M?(K=le,j=re-pe):(K=Y+1,j=re),re-z>I&&(V=0),X=!1;break}ie=de,J=ge}if(X){R>0&&(T[R]=C[C.length-1],A[R]=_[C.length-1],R++);break}}if(V===0){let re=W,ie=c.charCodeAt(B),J=g.get(ie),X=!1;for(let Y=B-1;Y>=M;Y--){const le=Y+1,de=c.charCodeAt(Y);if(de===9){X=!0;break}let ge,pe;if(L.isLowSurrogate(de)?(Y--,ge=0,pe=2):(ge=g.get(de),pe=L.isFullWidthCharacter(de)?l:1),re<=P){if(K===0&&(K=le,j=re),re<=P-I)break;if(t(de,ge,ie,J,f)){V=le,z=re;break}}re-=pe,ie=de,J=ge}if(V!==0){const Y=I-(j-z);if(Y<=d){const le=c.charCodeAt(K);let de;L.isHighSurrogate(le)?de=2:de=n(le,j,d,l),Y-de<0&&(V=0)}}if(X){O--;continue}}if(V===0&&(V=K,z=j),V<=M){const re=c.charCodeAt(M);L.isHighSurrogate(re)?(V=M+2,z=N+2):(V=M+1,z=N+n(re,N,d,l))}for(M=V,T[R]=V,N=z,A[R]=z,R++,P=z+I;O<0||O<F&&_[O]<z;)O++;let x=Math.abs(_[O]-P);for(;O+1<F;){const re=Math.abs(_[O+1]-P);if(re>=x)break;x=re,O++}}return R===0?null:(T.length=R,A.length=R,w=m.breakOffsets,v=m.breakOffsetsVisibleColumn,m.breakOffsets=T,m.breakOffsetsVisibleColumn=A,m.wrappedTextIndentLength=E,m)}function a(g,m,c,d,s,l,r,h){const u=y.LineInjectedText.applyInjectedText(m,c);let f,C;if(c&&c.length>0?(f=c.map(z=>z.options),C=c.map(z=>z.column-1)):(f=null,C=null),s===-1)return f?new D.ModelLineProjectionData(C,f,[u.length],[],0):null;const _=u.length;if(_<=1)return f?new D.ModelLineProjectionData(C,f,[u.length],[],0):null;const E=h==="keepAll",I=o(u,d,s,l,r),T=s-I,A=[],R=[];let M=0,N=0,P=0,F=s,O=u.charCodeAt(0),B=g.get(O),W=n(O,0,d,l),V=1;L.isHighSurrogate(O)&&(W+=1,O=u.charCodeAt(1),B=g.get(O),V++);for(let z=V;z<_;z++){const K=z,j=u.charCodeAt(z);let x,re;L.isHighSurrogate(j)?(z++,x=0,re=2):(x=g.get(j),re=n(j,W,d,l)),t(O,B,j,x,E)&&(N=K,P=W),W+=re,W>F&&((N===0||W-P>T)&&(N=K,P=W-re),A[M]=N,R[M]=P,M++,F=P+T,N=0),O=j,B=x}return M===0&&(!c||c.length===0)?null:(A[M]=_,R[M]=W,new D.ModelLineProjectionData(C,f,A,R,I))}function n(g,m,c,d){return g===9?c-m%c:L.isFullWidthCharacter(g)||g<32?d:1}function i(g,m){return m-g%m}function t(g,m,c,d,s){return c!==32&&(m===2&&d!==2||m!==1&&d===1||!s&&m===3&&d!==2||!s&&d===3&&m!==1)}function o(g,m,c,d,s){let l=0;if(s!==0){const r=L.firstNonWhitespaceIndex(g);if(r!==-1){for(let u=0;u<r;u++){const f=g.charCodeAt(u)===9?i(l,m):1;l+=f}const h=s===3?2:s===2?1:0;for(let u=0;u<h;u++){const f=i(l,m);l+=f}l+d>c&&(l=0)}}return l}}),define(ne[308],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class L{constructor(S,p,w){this._colorZoneBrand=void 0,this.from=S|0,this.to=p|0,this.colorId=w|0}static compare(S,p){return S.colorId===p.colorId?S.from===p.from?S.to-p.to:S.from-p.from:S.colorId-p.colorId}}e.ColorZone=L;class k{constructor(S,p,w,v){this._overviewRulerZoneBrand=void 0,this.startLineNumber=S,this.endLineNumber=p,this.heightInLines=w,this.color=v,this._colorZone=null}static compare(S,p){return S.color===p.color?S.startLineNumber===p.startLineNumber?S.heightInLines===p.heightInLines?S.endLineNumber-p.endLineNumber:S.heightInLines-p.heightInLines:S.startLineNumber-p.startLineNumber:S.color<p.color?-1:1}setColorZone(S){this._colorZone=S}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class y{constructor(S){this._getVerticalOffsetForLine=S,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(S){this._zones=S,this._zones.sort(k.compare)}setLineHeight(S){return this._lineHeight===S?!1:(this._lineHeight=S,this._colorZonesInvalid=!0,!0)}setPixelRatio(S){this._pixelRatio=S,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(S){return this._domWidth===S?!1:(this._domWidth=S,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(S){return this._domHeight===S?!1:(this._domHeight=S,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(S){return this._outerHeight===S?!1:(this._outerHeight=S,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const S=this._colorZonesInvalid,p=Math.floor(this._lineHeight),w=Math.floor(this.getCanvasHeight()),v=Math.floor(this._outerHeight),b=w/v,a=Math.floor(4*this._pixelRatio/2),n=[];for(let i=0,t=this._zones.length;i<t;i++){const o=this._zones[i];if(!S){const f=o.getColorZones();if(f){n.push(f);continue}}const g=this._getVerticalOffsetForLine(o.startLineNumber),m=o.heightInLines===0?this._getVerticalOffsetForLine(o.endLineNumber)+p:g+o.heightInLines*p,c=Math.floor(b*g),d=Math.floor(b*m);let s=Math.floor((c+d)/2),l=d-s;l<a&&(l=a),s-l<0&&(s=l),s+l>w&&(s=w-l);const r=o.color;let h=this._color2Id[r];h||(h=++this._lastAssignedId,this._color2Id[r]=h,this._id2Color[h]=r);const u=new L(s-l,s+l,h);o.setColorZone(u),n.push(u)}return this._colorZonesInvalid=!1,n.sort(L.compare),n}}e.OverviewZoneManager=y}),define(ne[558],se([1,0,41,308,158]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends y.ViewEventHandler{constructor(p,w){super(),this._context=p;const v=this._context.configuration.options;this._domNode=(0,L.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(w),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(b=>this._context.viewLayout.getVerticalOffsetForLineNumber(b)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(v.get(67)),this._zoneManager.setPixelRatio(v.get(142)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(p){const w=this._context.configuration.options;return p.hasChanged(67)&&(this._zoneManager.setLineHeight(w.get(67)),this._render()),p.hasChanged(142)&&(this._zoneManager.setPixelRatio(w.get(142)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(p){return this._render(),!0}onScrollChanged(p){return p.scrollHeightChanged&&(this._zoneManager.setOuterHeight(p.scrollHeight),this._render()),!0}onZonesChanged(p){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(p){this._domNode.setTop(p.top),this._domNode.setRight(p.right);let w=!1;w=this._zoneManager.setDOMWidth(p.width)||w,w=this._zoneManager.setDOMHeight(p.height)||w,w&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(p){this._zoneManager.setZones(p),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const p=this._zoneManager.getCanvasWidth(),w=this._zoneManager.getCanvasHeight(),v=this._zoneManager.resolveColorZones(),b=this._zoneManager.getId2Color(),a=this._domNode.domNode.getContext("2d");return a.clearRect(0,0,p,w),v.length>0&&this._renderOneLane(a,v,b,p),!0}_renderOneLane(p,w,v,b){let a=0,n=0,i=0;for(const t of w){const o=t.colorId,g=t.from,m=t.to;o!==a?(p.fillRect(0,n,b,i-n),a=o,p.fillStyle=v[a],n=g,i=m):i>=g?i=Math.max(i,m):(p.fillRect(0,n,b,i-n),n=g,i=m)}p.fillRect(0,n,b,i-n)}}e.OverviewRuler=D}),define(ne[559],se([1,0,517]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class k{constructor(D,S,p){this.configuration=D,this.theme=new L.EditorTheme(S),this.viewModel=p,this.viewLayout=p.viewLayout}addEventHandler(D){this.viewModel.addViewEventHandler(D)}removeEventHandler(D){this.viewModel.removeViewEventHandler(D)}}e.ViewContext=k}),define(ne[221],se([1,0,7,2]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class y extends k.Disposable{constructor(){super(),this._onEvent=this._register(new L.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(s){this._addOutgoingEvent(s),this._emitOutgoingEvents()}_addOutgoingEvent(s){for(let l=0,r=this._outgoingEvents.length;l<r;l++){const h=this._outgoingEvents[l].kind===s.kind?this._outgoingEvents[l].attemptToMerge(s):null;if(h){this._outgoingEvents[l]=h;return}}this._outgoingEvents.push(s)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const s=this._outgoingEvents.shift();s.isNoOp()||this._onEvent.fire(s)}}addViewEventHandler(s){for(let l=0,r=this._eventHandlers.length;l<r;l++)this._eventHandlers[l]===s&&console.warn("Detected duplicate listener in ViewEventDispatcher",s);this._eventHandlers.push(s)}removeViewEventHandler(s){for(let l=0;l<this._eventHandlers.length;l++)if(this._eventHandlers[l]===s){this._eventHandlers.splice(l,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new D),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const s=this._collector.outgoingEvents,l=this._collector.viewEvents;this._collector=null;for(const r of s)this._addOutgoingEvent(r);l.length>0&&this._emitMany(l)}this._emitOutgoingEvents()}emitSingleViewEvent(s){try{this.beginEmitViewEvents().emitViewEvent(s)}finally{this.endEmitViewEvents()}}_emitMany(s){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(s):this._viewEventQueue=s,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const s=this._viewEventQueue;this._viewEventQueue=null;const l=this._eventHandlers.slice(0);for(const r of l)r.handleEvents(s)}}}e.ViewModelEventDispatcher=y;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(s){this.viewEvents.push(s)}emitOutgoingEvent(s){this.outgoingEvents.push(s)}}e.ViewModelEventsCollector=D;class S{constructor(s,l,r,h){this.kind=0,this._oldContentWidth=s,this._oldContentHeight=l,this.contentWidth=r,this.contentHeight=h,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(s){return s.kind!==this.kind?null:new S(this._oldContentWidth,this._oldContentHeight,s.contentWidth,s.contentHeight)}}e.ContentSizeChangedEvent=S;class p{constructor(s,l){this.kind=1,this.oldHasFocus=s,this.hasFocus=l}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(s){return s.kind!==this.kind?null:new p(this.oldHasFocus,s.hasFocus)}}e.FocusChangedEvent=p;class w{constructor(s,l,r,h,u,f,C,_){this.kind=2,this._oldScrollWidth=s,this._oldScrollLeft=l,this._oldScrollHeight=r,this._oldScrollTop=h,this.scrollWidth=u,this.scrollLeft=f,this.scrollHeight=C,this.scrollTop=_,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(s){return s.kind!==this.kind?null:new w(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,s.scrollWidth,s.scrollLeft,s.scrollHeight,s.scrollTop)}}e.ScrollChangedEvent=w;class v{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(s){return s.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=v;class b{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(s){return s.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=b;class a{constructor(s,l,r,h,u,f,C){this.kind=6,this.oldSelections=s,this.selections=l,this.oldModelVersionId=r,this.modelVersionId=h,this.source=u,this.reason=f,this.reachedMaxCursorCount=C}static _selectionsAreEqual(s,l){if(!s&&!l)return!0;if(!s||!l)return!1;const r=s.length,h=l.length;if(r!==h)return!1;for(let u=0;u<r;u++)if(!s[u].equalsSelection(l[u]))return!1;return!0}isNoOp(){return a._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(s){return s.kind!==this.kind?null:new a(this.oldSelections,s.selections,this.oldModelVersionId,s.modelVersionId,s.source,s.reason,this.reachedMaxCursorCount||s.reachedMaxCursorCount)}}e.CursorStateChangedEvent=a;class n{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(s){return s.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=n;class i{constructor(s){this.event=s,this.kind=7}isNoOp(){return!1}attemptToMerge(s){return null}}e.ModelDecorationsChangedEvent=i;class t{constructor(s){this.event=s,this.kind=8}isNoOp(){return!1}attemptToMerge(s){return null}}e.ModelLanguageChangedEvent=t;class o{constructor(s){this.event=s,this.kind=9}isNoOp(){return!1}attemptToMerge(s){return null}}e.ModelLanguageConfigurationChangedEvent=o;class g{constructor(s){this.event=s,this.kind=10}isNoOp(){return!1}attemptToMerge(s){return null}}e.ModelContentChangedEvent=g;class m{constructor(s){this.event=s,this.kind=11}isNoOp(){return!1}attemptToMerge(s){return null}}e.ModelOptionsChangedEvent=m;class c{constructor(s){this.event=s,this.kind=12}isNoOp(){return!1}attemptToMerge(s){return null}}e.ModelTokensChangedEvent=c}),define(ne[560],se([1,0,7,2,151,553,86,221]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const w=125;class v{constructor(i,t,o,g){i=i|0,t=t|0,o=o|0,g=g|0,i<0&&(i=0),t<0&&(t=0),o<0&&(o=0),g<0&&(g=0),this.width=i,this.contentWidth=t,this.scrollWidth=Math.max(i,t),this.height=o,this.contentHeight=g,this.scrollHeight=Math.max(o,g)}equals(i){return this.width===i.width&&this.contentWidth===i.contentWidth&&this.height===i.height&&this.contentHeight===i.contentHeight}}class b extends k.Disposable{constructor(i,t){super(),this._onDidContentSizeChange=this._register(new L.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new v(0,0,0,0),this._scrollable=this._register(new y.Scrollable({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(i){this._scrollable.setSmoothScrollDuration(i)}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}getScrollDimensions(){return this._dimensions}setScrollDimensions(i){if(this._dimensions.equals(i))return;const t=this._dimensions;this._dimensions=i,this._scrollable.setScrollDimensions({width:i.width,scrollWidth:i.scrollWidth,height:i.height,scrollHeight:i.scrollHeight},!0);const o=t.contentWidth!==i.contentWidth,g=t.contentHeight!==i.contentHeight;(o||g)&&this._onDidContentSizeChange.fire(new p.ContentSizeChangedEvent(t.contentWidth,t.contentHeight,i.contentWidth,i.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(i){this._scrollable.setScrollPositionNow(i)}setScrollPositionSmooth(i){this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class a extends k.Disposable{constructor(i,t,o){super(),this._configuration=i;const g=this._configuration.options,m=g.get(144),c=g.get(84);this._linesLayout=new D.LinesLayout(t,g.get(67),c.top,c.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new b(0,o)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new v(m.contentWidth,0,m.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(114)?w:0)}onConfigurationChanged(i){const t=this._configuration.options;if(i.hasChanged(67)&&this._linesLayout.setLineHeight(t.get(67)),i.hasChanged(84)){const o=t.get(84);this._linesLayout.setPadding(o.top,o.bottom)}if(i.hasChanged(144)){const o=t.get(144),g=o.contentWidth,m=o.height,c=this._scrollable.getScrollDimensions(),d=c.contentWidth;this._scrollable.setScrollDimensions(new v(g,c.contentWidth,m,this._getContentHeight(g,m,d)))}else this._updateHeight();i.hasChanged(114)&&this._configureSmoothScrollDuration()}onFlushed(i){this._linesLayout.onFlushed(i)}onLinesDeleted(i,t){this._linesLayout.onLinesDeleted(i,t)}onLinesInserted(i,t){this._linesLayout.onLinesInserted(i,t)}_getHorizontalScrollbarHeight(i,t){const g=this._configuration.options.get(103);return g.horizontal===2||i>=t?0:g.horizontalScrollbarSize}_getContentHeight(i,t,o){const g=this._configuration.options;let m=this._linesLayout.getLinesTotalHeight();return g.get(105)?m+=Math.max(0,t-g.get(67)-g.get(84).bottom):g.get(103).ignoreHorizontalScrollbarInContentHeight||(m+=this._getHorizontalScrollbarHeight(i,o)),m}_updateHeight(){const i=this._scrollable.getScrollDimensions(),t=i.width,o=i.height,g=i.contentWidth;this._scrollable.setScrollDimensions(new v(t,i.contentWidth,o,this._getContentHeight(t,o,g)))}getCurrentViewport(){const i=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new S.Viewport(t.scrollTop,t.scrollLeft,i.width,i.height)}getFutureViewport(){const i=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new S.Viewport(t.scrollTop,t.scrollLeft,i.width,i.height)}_computeContentWidth(){const i=this._configuration.options,t=this._maxLineWidth,o=i.get(145),g=i.get(50),m=i.get(144);if(o.isViewportWrapping){const c=i.get(73);return t>m.contentWidth+g.typicalHalfwidthCharacterWidth&&c.enabled&&c.side==="right"?t+m.verticalScrollbarWidth:t}else{const c=i.get(104)*g.typicalHalfwidthCharacterWidth,d=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+c+m.verticalScrollbarWidth,d,this._overlayWidgetsMinWidth)}}setMaxLineWidth(i){this._maxLineWidth=i,this._updateContentWidth()}setOverlayWidgetsMinWidth(i){this._overlayWidgetsMinWidth=i,this._updateContentWidth()}_updateContentWidth(){const i=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new v(i.width,this._computeContentWidth(),i.height,i.contentHeight)),this._updateHeight()}saveState(){const i=this._scrollable.getFutureScrollPosition(),t=i.scrollTop,o=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),g=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(o);return{scrollTop:t,scrollTopWithoutViewZones:t-g,scrollLeft:i.scrollLeft}}changeWhitespace(i){const t=this._linesLayout.changeWhitespace(i);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(i,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(i,t)}getVerticalOffsetAfterLineNumber(i,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(i,t)}isAfterLines(i){return this._linesLayout.isAfterLines(i)}isInTopPadding(i){return this._linesLayout.isInTopPadding(i)}isInBottomPadding(i){return this._linesLayout.isInBottomPadding(i)}getLineNumberAtVerticalOffset(i){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i)}getWhitespaceAtVerticalOffset(i){return this._linesLayout.getWhitespaceAtVerticalOffset(i)}getLinesViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(i.top,i.top+i.height)}getLinesViewportDataAtScrollTop(i){const t=this._scrollable.getScrollDimensions();return i+t.height>t.scrollHeight&&(i=t.scrollHeight-t.height),i<0&&(i=0),this._linesLayout.getLinesViewportData(i,i+t.height)}getWhitespaceViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(i.top,i.top+i.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}setScrollPosition(i,t){t===1?this._scrollable.setScrollPositionNow(i):this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(i,t){const o=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:o.scrollLeft+i,scrollTop:o.scrollTop+t})}}e.ViewLayout=a}),define(ne[561],se([1,0,5,23]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class y{constructor(S,p){this._selection=S,this._isMovingLeft=p}getEditOperations(S,p){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const w=this._selection.startLineNumber,v=this._selection.startColumn,b=this._selection.endColumn;if(!(this._isMovingLeft&&v===1)&&!(!this._isMovingLeft&&b===S.getLineMaxColumn(w)))if(this._isMovingLeft){const a=new L.Range(w,v-1,w,v),n=S.getValueInRange(a);p.addEditOperation(a,null),p.addEditOperation(new L.Range(w,b,w,b),n)}else{const a=new L.Range(w,b,w,b+1),n=S.getValueInRange(a);p.addEditOperation(a,null),p.addEditOperation(new L.Range(w,v,w,v),n)}}computeCursorState(S,p){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=y}),define(ne[119],se([1,0,12]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionItem=e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionTriggerSource=e.CodeActionKind=void 0;class k{constructor(a){this.value=a}equals(a){return this.value===a.value}contains(a){return this.equals(a)||this.value===""||a.value.startsWith(this.value+k.sep)}intersects(a){return this.contains(a)||a.contains(this)}append(a){return new k(this.value+k.sep+a)}}e.CodeActionKind=k,k.sep=".",k.None=new k("@@none@@"),k.Empty=new k(""),k.QuickFix=new k("quickfix"),k.Refactor=new k("refactor"),k.RefactorExtract=k.Refactor.append("extract"),k.RefactorInline=k.Refactor.append("inline"),k.RefactorMove=k.Refactor.append("move"),k.RefactorRewrite=k.Refactor.append("rewrite"),k.Notebook=new k("notebook"),k.Source=new k("source"),k.SourceOrganizeImports=k.Source.append("organizeImports"),k.SourceFixAll=k.Source.append("fixAll"),k.SurroundWith=k.Refactor.append("surround");var y;(function(b){b.Refactor="refactor",b.RefactorPreview="refactor preview",b.Lightbulb="lightbulb",b.Default="other (default)",b.SourceAction="source action",b.QuickFix="quick fix action",b.FixAll="fix all",b.OrganizeImports="organize imports",b.AutoFix="auto fix",b.QuickFixHover="quick fix hover window",b.OnSave="save participants",b.ProblemsView="problems view"})(y||(e.CodeActionTriggerSource=y={}));function D(b,a){return!(b.include&&!b.include.intersects(a)||b.excludes&&b.excludes.some(n=>p(a,n,b.include))||!b.includeSourceActions&&k.Source.contains(a))}e.mayIncludeActionsOfKind=D;function S(b,a){const n=a.kind?new k(a.kind):void 0;return!(b.include&&(!n||!b.include.contains(n))||b.excludes&&n&&b.excludes.some(i=>p(n,i,b.include))||!b.includeSourceActions&&n&&k.Source.contains(n)||b.onlyIncludePreferredActions&&!a.isPreferred)}e.filtersAction=S;function p(b,a,n){return!(!a.contains(b)||n&&a.contains(n))}class w{static fromUser(a,n){return!a||typeof a!="object"?new w(n.kind,n.apply,!1):new w(w.getKindFromUser(a,n.kind),w.getApplyFromUser(a,n.apply),w.getPreferredUser(a))}static getApplyFromUser(a,n){switch(typeof a.apply=="string"?a.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return n}}static getKindFromUser(a,n){return typeof a.kind=="string"?new k(a.kind):n}static getPreferredUser(a){return typeof a.preferred=="boolean"?a.preferred:!1}constructor(a,n,i){this.kind=a,this.apply=n,this.preferred=i}}e.CodeActionCommandArgs=w;class v{constructor(a,n,i){this.action=a,this.provider=n,this.highlightRange=i}async resolve(a){var n;if(!((n=this.provider)===null||n===void 0)&&n.resolveCodeAction&&!this.action.edit){let i;try{i=await this.provider.resolveCodeAction(this.action,a)}catch(t){(0,L.onUnexpectedExternalError)(t)}i&&(this.action.edit=i.edit)}return this}}e.CodeActionItem=v}),define(ne[562],se([1,0,7]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{get color(){return this._color}set color(D){this._color.equals(D)||(this._color=D,this._onDidChangeColor.fire(D))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(D){this._colorPresentations=D,this.presentationIndex>D.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(D,S,p){this.presentationIndex=p,this._onColorFlushed=new L.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new L.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new L.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=D,this._color=D,this._colorPresentations=S}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(D,S){let p=-1;for(let w=0;w<this.colorPresentations.length;w++)if(S.toLowerCase()===this.colorPresentations[w].label){p=w;break}if(p===-1){const w=S.split("(")[0].toLowerCase();for(let v=0;v<this.colorPresentations.length;v++)if(this.colorPresentations[v].label.toLowerCase().startsWith(w)){p=v;break}}p!==-1&&p!==this.presentationIndex&&(this.presentationIndex=p,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(ne[309],se([1,0,68,9,5,23]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class S{constructor(w,v,b){this.languageConfigurationService=b,this._selection=w,this._insertSpace=v,this._usedEndToken=null}static _haystackHasNeedleAtOffset(w,v,b){if(b<0)return!1;const a=v.length,n=w.length;if(b+a>n)return!1;for(let i=0;i<a;i++){const t=w.charCodeAt(b+i),o=v.charCodeAt(i);if(t!==o&&!(t>=65&&t<=90&&t+32===o)&&!(o>=65&&o<=90&&o+32===t))return!1}return!0}_createOperationsForBlockComment(w,v,b,a,n,i){const t=w.startLineNumber,o=w.startColumn,g=w.endLineNumber,m=w.endColumn,c=n.getLineContent(t),d=n.getLineContent(g);let s=c.lastIndexOf(v,o-1+v.length),l=d.indexOf(b,m-1-b.length);if(s!==-1&&l!==-1)if(t===g)c.substring(s+v.length,l).indexOf(b)>=0&&(s=-1,l=-1);else{const h=c.substring(s+v.length),u=d.substring(0,l);(h.indexOf(b)>=0||u.indexOf(b)>=0)&&(s=-1,l=-1)}let r;s!==-1&&l!==-1?(a&&s+v.length<c.length&&c.charCodeAt(s+v.length)===32&&(v=v+" "),a&&l>0&&d.charCodeAt(l-1)===32&&(b=" "+b,l-=1),r=S._createRemoveBlockCommentOperations(new y.Range(t,s+v.length+1,g,l+1),v,b)):(r=S._createAddBlockCommentOperations(w,v,b,this._insertSpace),this._usedEndToken=r.length===1?b:null);for(const h of r)i.addTrackedEditOperation(h.range,h.text)}static _createRemoveBlockCommentOperations(w,v,b){const a=[];return y.Range.isEmpty(w)?a.push(L.EditOperation.delete(new y.Range(w.startLineNumber,w.startColumn-v.length,w.endLineNumber,w.endColumn+b.length))):(a.push(L.EditOperation.delete(new y.Range(w.startLineNumber,w.startColumn-v.length,w.startLineNumber,w.startColumn))),a.push(L.EditOperation.delete(new y.Range(w.endLineNumber,w.endColumn,w.endLineNumber,w.endColumn+b.length)))),a}static _createAddBlockCommentOperations(w,v,b,a){const n=[];return y.Range.isEmpty(w)?n.push(L.EditOperation.replace(new y.Range(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn),v+"  "+b)):(n.push(L.EditOperation.insert(new k.Position(w.startLineNumber,w.startColumn),v+(a?" ":""))),n.push(L.EditOperation.insert(new k.Position(w.endLineNumber,w.endColumn),(a?" ":"")+b))),n}getEditOperations(w,v){const b=this._selection.startLineNumber,a=this._selection.startColumn;w.tokenization.tokenizeIfCheap(b);const n=w.getLanguageIdAtPosition(b,a),i=this.languageConfigurationService.getLanguageConfiguration(n).comments;!i||!i.blockCommentStartToken||!i.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,i.blockCommentStartToken,i.blockCommentEndToken,this._insertSpace,w,v)}computeCursorState(w,v){const b=v.getInverseEditOperations();if(b.length===2){const a=b[0],n=b[1];return new D.Selection(a.range.endLineNumber,a.range.endColumn,n.range.startLineNumber,n.range.startColumn)}else{const a=b[0].range,n=this._usedEndToken?-this._usedEndToken.length-1:0;return new D.Selection(a.endLineNumber,a.endColumn+n,a.endLineNumber,a.endColumn+n)}}}e.BlockCommentCommand=S}),define(ne[563],se([1,0,11,68,9,5,23,309]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class w{constructor(b,a,n,i,t,o,g){this.languageConfigurationService=b,this._selection=a,this._tabSize=n,this._type=i,this._insertSpace=t,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=o,this._ignoreFirstLine=g||!1}static _gatherPreflightCommentStrings(b,a,n,i){b.tokenization.tokenizeIfCheap(a);const t=b.getLanguageIdAtPosition(a,1),o=i.getLanguageConfiguration(t).comments,g=o?o.lineCommentToken:null;if(!g)return null;const m=[];for(let c=0,d=n-a+1;c<d;c++)m[c]={ignore:!1,commentStr:g,commentStrOffset:0,commentStrLength:g.length};return m}static _analyzeLines(b,a,n,i,t,o,g,m){let c=!0,d;b===0?d=!0:b===1?d=!1:d=!0;for(let s=0,l=i.length;s<l;s++){const r=i[s],h=t+s;if(h===t&&g){r.ignore=!0;continue}const u=n.getLineContent(h),f=L.firstNonWhitespaceIndex(u);if(f===-1){r.ignore=o,r.commentStrOffset=u.length;continue}if(c=!1,r.ignore=!1,r.commentStrOffset=f,d&&!p.BlockCommentCommand._haystackHasNeedleAtOffset(u,r.commentStr,f)&&(b===0?d=!1:b===1||(r.ignore=!0)),d&&a){const C=f+r.commentStrLength;C<u.length&&u.charCodeAt(C)===32&&(r.commentStrLength+=1)}}if(b===0&&c){d=!1;for(let s=0,l=i.length;s<l;s++)i[s].ignore=!1}return{supported:!0,shouldRemoveComments:d,lines:i}}static _gatherPreflightData(b,a,n,i,t,o,g,m){const c=w._gatherPreflightCommentStrings(n,i,t,m);return c===null?{supported:!1}:w._analyzeLines(b,a,n,c,i,o,g,m)}_executeLineComments(b,a,n,i){let t;n.shouldRemoveComments?t=w._createRemoveLineCommentsOperations(n.lines,i.startLineNumber):(w._normalizeInsertionPoint(b,n.lines,i.startLineNumber,this._tabSize),t=this._createAddLineCommentsOperations(n.lines,i.startLineNumber));const o=new y.Position(i.positionLineNumber,i.positionColumn);for(let g=0,m=t.length;g<m;g++)a.addEditOperation(t[g].range,t[g].text),D.Range.isEmpty(t[g].range)&&D.Range.getStartPosition(t[g].range).equals(o)&&b.getLineContent(o.lineNumber).length+1===o.column&&(this._deltaColumn=(t[g].text||"").length);this._selectionId=a.trackSelection(i)}_attemptRemoveBlockComment(b,a,n,i){let t=a.startLineNumber,o=a.endLineNumber;const g=i.length+Math.max(b.getLineFirstNonWhitespaceColumn(a.startLineNumber),a.startColumn);let m=b.getLineContent(t).lastIndexOf(n,g-1),c=b.getLineContent(o).indexOf(i,a.endColumn-1-n.length);return m!==-1&&c===-1&&(c=b.getLineContent(t).indexOf(i,m+n.length),o=t),m===-1&&c!==-1&&(m=b.getLineContent(o).lastIndexOf(n,c),t=o),a.isEmpty()&&(m===-1||c===-1)&&(m=b.getLineContent(t).indexOf(n),m!==-1&&(c=b.getLineContent(t).indexOf(i,m+n.length))),m!==-1&&b.getLineContent(t).charCodeAt(m+n.length)===32&&(n+=" "),c!==-1&&b.getLineContent(o).charCodeAt(c-1)===32&&(i=" "+i,c-=1),m!==-1&&c!==-1?p.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(t,m+n.length+1,o,c+1),n,i):null}_executeBlockComment(b,a,n){b.tokenization.tokenizeIfCheap(n.startLineNumber);const i=b.getLanguageIdAtPosition(n.startLineNumber,1),t=this.languageConfigurationService.getLanguageConfiguration(i).comments;if(!t||!t.blockCommentStartToken||!t.blockCommentEndToken)return;const o=t.blockCommentStartToken,g=t.blockCommentEndToken;let m=this._attemptRemoveBlockComment(b,n,o,g);if(!m){if(n.isEmpty()){const c=b.getLineContent(n.startLineNumber);let d=L.firstNonWhitespaceIndex(c);d===-1&&(d=c.length),m=p.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(n.startLineNumber,d+1,n.startLineNumber,c.length+1),o,g,this._insertSpace)}else m=p.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(n.startLineNumber,b.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,b.getLineMaxColumn(n.endLineNumber)),o,g,this._insertSpace);m.length===1&&(this._deltaColumn=o.length+1)}this._selectionId=a.trackSelection(n);for(const c of m)a.addEditOperation(c.range,c.text)}getEditOperations(b,a){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine){a.addEditOperation(new D.Range(n.startLineNumber,b.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===b.getLineCount()?"":`
`),this._selectionId=a.trackSelection(n);return}n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,b.getLineMaxColumn(n.endLineNumber-1)));const i=w._gatherPreflightData(this._type,this._insertSpace,b,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return i.supported?this._executeLineComments(b,a,i,n):this._executeBlockComment(b,a,n)}computeCursorState(b,a){let n=a.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new S.Selection(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(b,a){const n=[];for(let i=0,t=b.length;i<t;i++){const o=b[i];o.ignore||n.push(k.EditOperation.delete(new D.Range(a+i,o.commentStrOffset+1,a+i,o.commentStrOffset+o.commentStrLength+1)))}return n}_createAddLineCommentsOperations(b,a){const n=[],i=this._insertSpace?" ":"";for(let t=0,o=b.length;t<o;t++){const g=b[t];g.ignore||n.push(k.EditOperation.insert(new y.Position(a+t,g.commentStrOffset+1),g.commentStr+i))}return n}static nextVisibleColumn(b,a,n,i){return n?b+(a-b%a):b+i}static _normalizeInsertionPoint(b,a,n,i){let t=1073741824,o,g;for(let m=0,c=a.length;m<c;m++){if(a[m].ignore)continue;const d=b.getLineContent(n+m);let s=0;for(let l=0,r=a[m].commentStrOffset;s<t&&l<r;l++)s=w.nextVisibleColumn(s,i,d.charCodeAt(l)===9,1);s<t&&(t=s)}t=Math.floor(t/i)*i;for(let m=0,c=a.length;m<c;m++){if(a[m].ignore)continue;const d=b.getLineContent(n+m);let s=0;for(o=0,g=a[m].commentStrOffset;s<t&&o<g;o++)s=w.nextVisibleColumn(s,i,d.charCodeAt(o)===9,1);s>t?a[m].commentStrOffset=o-1:a[m].commentStrOffset=o}}}e.LineCommentCommand=w}),define(ne[564],se([1,0,5,23]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class y{constructor(S,p,w){this.selection=S,this.targetPosition=p,this.copy=w,this.targetSelection=null}getEditOperations(S,p){const w=S.getValueInRange(this.selection);if(this.copy||p.addEditOperation(this.selection,null),p.addEditOperation(new L.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),w),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(S,p){return this.targetSelection}}e.DragAndDropCommand=y}),define(ne[565],se([1,0,5]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(D,S,p){this._editorSelection=D,this._ranges=S,this._replaceStrings=p,this._trackedEditorSelectionId=null}getEditOperations(D,S){if(this._ranges.length>0){const p=[];for(let b=0;b<this._ranges.length;b++)p.push({range:this._ranges[b],text:this._replaceStrings[b]});p.sort((b,a)=>L.Range.compareRangesUsingStarts(b.range,a.range));const w=[];let v=p[0];for(let b=1;b<p.length;b++)v.range.endLineNumber===p[b].range.startLineNumber&&v.range.endColumn===p[b].range.startColumn?(v.range=v.range.plusRange(p[b].range),v.text=v.text+p[b].text):(w.push(v),v=p[b]);w.push(v);for(const b of w)S.addEditOperation(b.range,b.text)}this._trackedEditorSelectionId=S.trackSelection(this._editorSelection)}computeCursorState(D,S){return S.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(ne[566],se([1,0,413]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class k{constructor(b){this.staticValue=b,this.kind=0}}class y{constructor(b){this.pieces=b,this.kind=1}}class D{static fromStaticValue(b){return new D([S.staticValue(b)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(b){!b||b.length===0?this._state=new k(""):b.length===1&&b[0].staticValue!==null?this._state=new k(b[0].staticValue):this._state=new y(b)}buildReplaceString(b,a){if(this._state.kind===0)return a?(0,L.buildReplaceStringWithCasePreserved)(b,this._state.staticValue):this._state.staticValue;let n="";for(let i=0,t=this._state.pieces.length;i<t;i++){const o=this._state.pieces[i];if(o.staticValue!==null){n+=o.staticValue;continue}let g=D._substitute(o.matchIndex,b);if(o.caseOps!==null&&o.caseOps.length>0){const m=[],c=o.caseOps.length;let d=0;for(let s=0,l=g.length;s<l;s++){if(d>=c){m.push(g.slice(s));break}switch(o.caseOps[d]){case"U":m.push(g[s].toUpperCase());break;case"u":m.push(g[s].toUpperCase()),d++;break;case"L":m.push(g[s].toLowerCase());break;case"l":m.push(g[s].toLowerCase()),d++;break;default:m.push(g[s])}}g=m.join("")}n+=g}return n}static _substitute(b,a){if(a===null)return"";if(b===0)return a[0];let n="";for(;b>0;){if(b<a.length)return(a[b]||"")+n;n=String(b%10)+n,b=Math.floor(b/10)}return"$"+n}}e.ReplacePattern=D;class S{static staticValue(b){return new S(b,-1,null)}static caseOps(b,a){return new S(null,b,a)}constructor(b,a,n){this.staticValue=b,this.matchIndex=a,!n||n.length===0?this.caseOps=null:this.caseOps=n.slice(0)}}e.ReplacePiece=S;class p{constructor(b){this._source=b,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(b){this._emitStatic(this._source.substring(this._lastCharIndex,b)),this._lastCharIndex=b}emitStatic(b,a){this._emitStatic(b),this._lastCharIndex=a}_emitStatic(b){b.length!==0&&(this._currentStaticPiece+=b)}emitMatchIndex(b,a,n){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=S.caseOps(b,n),this._lastCharIndex=a}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=S.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D(this._result)}}function w(v){if(!v||v.length===0)return new D(null);const b=[],a=new p(v);for(let n=0,i=v.length;n<i;n++){const t=v.charCodeAt(n);if(t===92){if(n++,n>=i)break;const o=v.charCodeAt(n);switch(o){case 92:a.emitUnchanged(n-1),a.emitStatic("\\",n+1);break;case 110:a.emitUnchanged(n-1),a.emitStatic(`
`,n+1);break;case 116:a.emitUnchanged(n-1),a.emitStatic("	",n+1);break;case 117:case 85:case 108:case 76:a.emitUnchanged(n-1),a.emitStatic("",n+1),b.push(String.fromCharCode(o));break}continue}if(t===36){if(n++,n>=i)break;const o=v.charCodeAt(n);if(o===36){a.emitUnchanged(n-1),a.emitStatic("$",n+1);continue}if(o===48||o===38){a.emitUnchanged(n-1),a.emitMatchIndex(0,n+1,b),b.length=0;continue}if(49<=o&&o<=57){let g=o-48;if(n+1<i){const m=v.charCodeAt(n+1);if(48<=m&&m<=57){n++,g=g*10+(m-48),a.emitUnchanged(n-2),a.emitMatchIndex(g,n+1,b),b.length=0;continue}}a.emitUnchanged(n-1),a.emitMatchIndex(g,n+1,b),b.length=0;continue}}}return a.finalize()}e.parseReplaceString=w}),define(ne[188],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=e.foldSourceAbbr=void 0,e.foldSourceAbbr={0:" ",1:"u",2:"r"},e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const L=4278190080;class k{constructor(p){const w=Math.ceil(p/32);this._states=new Uint32Array(w)}get(p){const w=p/32|0,v=p%32;return(this._states[w]&1<<v)!==0}set(p,w){const v=p/32|0,b=p%32,a=this._states[v];w?this._states[v]=a|1<<b:this._states[v]=a&~(1<<b)}}class y{constructor(p,w,v){if(p.length!==w.length||p.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=p,this._endIndexes=w,this._collapseStates=new k(p.length),this._userDefinedStates=new k(p.length),this._recoveredStates=new k(p.length),this._types=v,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const p=[],w=(v,b)=>{const a=p[p.length-1];return this.getStartLineNumber(a)<=v&&this.getEndLineNumber(a)>=b};for(let v=0,b=this._startIndexes.length;v<b;v++){const a=this._startIndexes[v],n=this._endIndexes[v];if(a>e.MAX_LINE_NUMBER||n>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;p.length>0&&!w(a,n);)p.pop();const i=p.length>0?p[p.length-1]:-1;p.push(v),this._startIndexes[v]=a+((i&255)<<24),this._endIndexes[v]=n+((i&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(p){return this._startIndexes[p]&e.MAX_LINE_NUMBER}getEndLineNumber(p){return this._endIndexes[p]&e.MAX_LINE_NUMBER}getType(p){return this._types?this._types[p]:void 0}hasTypes(){return!!this._types}isCollapsed(p){return this._collapseStates.get(p)}setCollapsed(p,w){this._collapseStates.set(p,w)}isUserDefined(p){return this._userDefinedStates.get(p)}setUserDefined(p,w){return this._userDefinedStates.set(p,w)}isRecovered(p){return this._recoveredStates.get(p)}setRecovered(p,w){return this._recoveredStates.set(p,w)}getSource(p){return this.isUserDefined(p)?1:this.isRecovered(p)?2:0}setSource(p,w){w===1?(this.setUserDefined(p,!0),this.setRecovered(p,!1)):w===2?(this.setUserDefined(p,!1),this.setRecovered(p,!0)):(this.setUserDefined(p,!1),this.setRecovered(p,!1))}setCollapsedAllOfType(p,w){let v=!1;if(this._types)for(let b=0;b<this._types.length;b++)this._types[b]===p&&(this.setCollapsed(b,w),v=!0);return v}toRegion(p){return new D(this,p)}getParentIndex(p){this.ensureParentIndices();const w=((this._startIndexes[p]&L)>>>24)+((this._endIndexes[p]&L)>>>16);return w===e.MAX_FOLDING_REGIONS?-1:w}contains(p,w){return this.getStartLineNumber(p)<=w&&this.getEndLineNumber(p)>=w}findIndex(p){let w=0,v=this._startIndexes.length;if(v===0)return-1;for(;w<v;){const b=Math.floor((w+v)/2);p<this.getStartLineNumber(b)?v=b:w=b+1}return w-1}findRange(p){let w=this.findIndex(p);if(w>=0){if(this.getEndLineNumber(w)>=p)return w;for(w=this.getParentIndex(w);w!==-1;){if(this.contains(w,p))return w;w=this.getParentIndex(w)}}return-1}toString(){const p=[];for(let w=0;w<this.length;w++)p[w]=`[${e.foldSourceAbbr[this.getSource(w)]}${this.isCollapsed(w)?"+":"-"}] ${this.getStartLineNumber(w)}/${this.getEndLineNumber(w)}`;return p.join(", ")}toFoldRange(p){return{startLineNumber:this._startIndexes[p]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[p]&e.MAX_LINE_NUMBER,type:this._types?this._types[p]:void 0,isCollapsed:this.isCollapsed(p),source:this.getSource(p)}}static fromFoldRanges(p){const w=p.length,v=new Uint32Array(w),b=new Uint32Array(w);let a=[],n=!1;for(let t=0;t<w;t++){const o=p[t];v[t]=o.startLineNumber,b[t]=o.endLineNumber,a.push(o.type),o.type&&(n=!0)}n||(a=void 0);const i=new y(v,b,a);for(let t=0;t<w;t++)p[t].isCollapsed&&i.setCollapsed(t,!0),i.setSource(t,p[t].source);return i}static sanitizeAndMerge(p,w,v){v=v??Number.MAX_VALUE;const b=(l,r)=>Array.isArray(l)?h=>h<r?l[h]:void 0:h=>h<r?l.toFoldRange(h):void 0,a=b(p,p.length),n=b(w,w.length);let i=0,t=0,o=a(0),g=n(0);const m=[];let c,d=0;const s=[];for(;o||g;){let l;if(g&&(!o||o.startLineNumber>=g.startLineNumber))o&&o.startLineNumber===g.startLineNumber?(g.source===1?l=g:(l=o,l.isCollapsed=g.isCollapsed&&o.endLineNumber===g.endLineNumber,l.source=0),o=a(++i)):(l=g,g.isCollapsed&&g.source===0&&(l.source=2)),g=n(++t);else{let r=t,h=g;for(;;){if(!h||h.startLineNumber>o.endLineNumber){l=o;break}if(h.source===1&&h.endLineNumber>o.endLineNumber)break;h=n(++r)}o=a(++i)}if(l){for(;c&&c.endLineNumber<l.startLineNumber;)c=m.pop();l.endLineNumber>l.startLineNumber&&l.startLineNumber>d&&l.endLineNumber<=v&&(!c||c.endLineNumber>=l.endLineNumber)&&(s.push(l),d=l.startLineNumber,c&&m.push(c),c=l)}}return s}}e.FoldingRegions=y;class D{constructor(p,w){this.ranges=p,this.index=w}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(p){return p.startLineNumber<=this.startLineNumber&&p.endLineNumber>=this.endLineNumber}containsLine(p){return this.startLineNumber<=p&&p<=this.endLineNumber}}e.FoldingRegion=D}),define(ne[310],se([1,0,7,188,114]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class D{get regions(){return this._regions}get textModel(){return this._textModel}constructor(c,d){this._updateEventEmitter=new L.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=c,this._decorationProvider=d,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(c){if(!c.length)return;c=c.sort((s,l)=>s.regionIndex-l.regionIndex);const d={};this._decorationProvider.changeDecorations(s=>{let l=0,r=-1,h=-1;const u=f=>{for(;l<f;){const C=this._regions.getEndLineNumber(l),_=this._regions.isCollapsed(l);if(C<=r){const E=this.regions.getSource(l)!==0;s.changeDecorationOptions(this._editorDecorationIds[l],this._decorationProvider.getDecorationOption(_,C<=h,E))}_&&C>h&&(h=C),l++}};for(const f of c){const C=f.regionIndex,_=this._editorDecorationIds[C];if(_&&!d[_]){d[_]=!0,u(C);const E=!this._regions.isCollapsed(C);this._regions.setCollapsed(C,E),r=Math.max(r,this._regions.getEndLineNumber(C))}}u(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:c})}removeManualRanges(c){const d=new Array,s=l=>{for(const r of c)if(!(r.startLineNumber>l.endLineNumber||l.startLineNumber>r.endLineNumber))return!0;return!1};for(let l=0;l<this._regions.length;l++){const r=this._regions.toFoldRange(l);(r.source===0||!s(r))&&d.push(r)}this.updatePost(k.FoldingRegions.fromFoldRanges(d))}update(c,d=[]){const s=this._currentFoldedOrManualRanges(d),l=k.FoldingRegions.sanitizeAndMerge(c,s,this._textModel.getLineCount());this.updatePost(k.FoldingRegions.fromFoldRanges(l))}updatePost(c){const d=[];let s=-1;for(let l=0,r=c.length;l<r;l++){const h=c.getStartLineNumber(l),u=c.getEndLineNumber(l),f=c.isCollapsed(l),C=c.getSource(l)!==0,_={startLineNumber:h,startColumn:this._textModel.getLineMaxColumn(h),endLineNumber:u,endColumn:this._textModel.getLineMaxColumn(u)+1};d.push({range:_,options:this._decorationProvider.getDecorationOption(f,u<=s,C)}),f&&u>s&&(s=u)}this._decorationProvider.changeDecorations(l=>this._editorDecorationIds=l.deltaDecorations(this._editorDecorationIds,d)),this._regions=c,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(c=[]){const d=(l,r)=>{for(const h of c)if(l<h&&h<=r)return!0;return!1},s=[];for(let l=0,r=this._regions.length;l<r;l++){let h=this.regions.isCollapsed(l);const u=this.regions.getSource(l);if(h||u!==0){const f=this._regions.toFoldRange(l),C=this._textModel.getDecorationRange(this._editorDecorationIds[l]);C&&(h&&d(C.startLineNumber,C.endLineNumber)&&(h=!1),s.push({startLineNumber:C.startLineNumber,endLineNumber:C.endLineNumber,type:f.type,isCollapsed:h,source:u}))}}return s}getMemento(){const c=this._currentFoldedOrManualRanges(),d=[],s=this._textModel.getLineCount();for(let l=0,r=c.length;l<r;l++){const h=c[l];if(h.startLineNumber>=h.endLineNumber||h.startLineNumber<1||h.endLineNumber>s)continue;const u=this._getLinesChecksum(h.startLineNumber+1,h.endLineNumber);d.push({startLineNumber:h.startLineNumber,endLineNumber:h.endLineNumber,isCollapsed:h.isCollapsed,source:h.source,checksum:u})}return d.length>0?d:void 0}applyMemento(c){var d,s;if(!Array.isArray(c))return;const l=[],r=this._textModel.getLineCount();for(const u of c){if(u.startLineNumber>=u.endLineNumber||u.startLineNumber<1||u.endLineNumber>r)continue;const f=this._getLinesChecksum(u.startLineNumber+1,u.endLineNumber);(!u.checksum||f===u.checksum)&&l.push({startLineNumber:u.startLineNumber,endLineNumber:u.endLineNumber,type:void 0,isCollapsed:(d=u.isCollapsed)!==null&&d!==void 0?d:!0,source:(s=u.source)!==null&&s!==void 0?s:0})}const h=k.FoldingRegions.sanitizeAndMerge(this._regions,l,r);this.updatePost(k.FoldingRegions.fromFoldRanges(h))}_getLinesChecksum(c,d){return(0,y.hash)(this._textModel.getLineContent(c)+this._textModel.getLineContent(d))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(c,d){const s=[];if(this._regions){let l=this._regions.findRange(c),r=1;for(;l>=0;){const h=this._regions.toRegion(l);(!d||d(h,r))&&s.push(h),r++,l=h.parentIndex}}return s}getRegionAtLine(c){if(this._regions){const d=this._regions.findRange(c);if(d>=0)return this._regions.toRegion(d)}return null}getRegionsInside(c,d){const s=[],l=c?c.regionIndex+1:0,r=c?c.endLineNumber:Number.MAX_VALUE;if(d&&d.length===2){const h=[];for(let u=l,f=this._regions.length;u<f;u++){const C=this._regions.toRegion(u);if(this._regions.getStartLineNumber(u)<r){for(;h.length>0&&!C.containedBy(h[h.length-1]);)h.pop();h.push(C),d(C,h.length)&&s.push(C)}else break}}else for(let h=l,u=this._regions.length;h<u;h++){const f=this._regions.toRegion(h);if(this._regions.getStartLineNumber(h)<r)(!d||d(f))&&s.push(f);else break}return s}}e.FoldingModel=D;function S(m,c,d){const s=[];for(const l of d){const r=m.getRegionAtLine(l);if(r){const h=!r.isCollapsed;if(s.push(r),c>1){const u=m.getRegionsInside(r,(f,C)=>f.isCollapsed!==h&&C<c);s.push(...u)}}}m.toggleCollapseState(s)}e.toggleCollapseState=S;function p(m,c,d=Number.MAX_VALUE,s){const l=[];if(s&&s.length>0)for(const r of s){const h=m.getRegionAtLine(r);if(h&&(h.isCollapsed!==c&&l.push(h),d>1)){const u=m.getRegionsInside(h,(f,C)=>f.isCollapsed!==c&&C<d);l.push(...u)}}else{const r=m.getRegionsInside(null,(h,u)=>h.isCollapsed!==c&&u<d);l.push(...r)}m.toggleCollapseState(l)}e.setCollapseStateLevelsDown=p;function w(m,c,d,s){const l=[];for(const r of s){const h=m.getAllRegionsAtLine(r,(u,f)=>u.isCollapsed!==c&&f<=d);l.push(...h)}m.toggleCollapseState(l)}e.setCollapseStateLevelsUp=w;function v(m,c,d){const s=[];for(const l of d){const r=m.getAllRegionsAtLine(l,h=>h.isCollapsed!==c);r.length>0&&s.push(r[0])}m.toggleCollapseState(s)}e.setCollapseStateUp=v;function b(m,c,d,s){const l=(h,u)=>u===c&&h.isCollapsed!==d&&!s.some(f=>h.containsLine(f)),r=m.getRegionsInside(null,l);m.toggleCollapseState(r)}e.setCollapseStateAtLevel=b;function a(m,c,d){const s=[];for(const h of d){const u=m.getAllRegionsAtLine(h,void 0);u.length>0&&s.push(u[0])}const l=h=>s.every(u=>!u.containedBy(h)&&!h.containedBy(u))&&h.isCollapsed!==c,r=m.getRegionsInside(null,l);m.toggleCollapseState(r)}e.setCollapseStateForRest=a;function n(m,c,d){const s=m.textModel,l=m.regions,r=[];for(let h=l.length-1;h>=0;h--)if(d!==l.isCollapsed(h)){const u=l.getStartLineNumber(h);c.test(s.getLineContent(u))&&r.push(l.toRegion(h))}m.toggleCollapseState(r)}e.setCollapseStateForMatchingLines=n;function i(m,c,d){const s=m.regions,l=[];for(let r=s.length-1;r>=0;r--)d!==s.isCollapsed(r)&&c===s.getType(r)&&l.push(s.toRegion(r));m.toggleCollapseState(l)}e.setCollapseStateForType=i;function t(m,c){let d=null;const s=c.getRegionAtLine(m);if(s!==null&&(d=s.startLineNumber,m===d)){const l=s.parentIndex;l!==-1?d=c.regions.getStartLineNumber(l):d=null}return d}e.getParentFoldLine=t;function o(m,c){let d=c.getRegionAtLine(m);if(d!==null&&d.startLineNumber===m){if(m!==d.startLineNumber)return d.startLineNumber;{const s=d.parentIndex;let l=0;for(s!==-1&&(l=c.regions.getStartLineNumber(d.parentIndex));d!==null;)if(d.regionIndex>0){if(d=c.regions.toRegion(d.regionIndex-1),d.startLineNumber<=l)return null;if(d.parentIndex===s)return d.startLineNumber}else return null}}else if(c.regions.length>0)for(d=c.regions.toRegion(c.regions.length-1);d!==null;){if(d.startLineNumber<m)return d.startLineNumber;d.regionIndex>0?d=c.regions.toRegion(d.regionIndex-1):d=null}return null}e.getPreviousFoldLine=o;function g(m,c){let d=c.getRegionAtLine(m);if(d!==null&&d.startLineNumber===m){const s=d.parentIndex;let l=0;if(s!==-1)l=c.regions.getEndLineNumber(d.parentIndex);else{if(c.regions.length===0)return null;l=c.regions.getEndLineNumber(c.regions.length-1)}for(;d!==null;)if(d.regionIndex<c.regions.length){if(d=c.regions.toRegion(d.regionIndex+1),d.startLineNumber>=l)return null;if(d.parentIndex===s)return d.startLineNumber}else return null}else if(c.regions.length>0)for(d=c.regions.toRegion(0);d!==null;){if(d.startLineNumber>m)return d.startLineNumber;d.regionIndex<c.regions.length?d=c.regions.toRegion(d.regionIndex+1):d=null}return null}e.getNextFoldLine=g}),define(ne[567],se([1,0,62,7,5,133]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class S{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(b){this._updateEventEmitter=new k.Emitter,this._hasLineChanges=!1,this._foldingModel=b,this._foldingModelListener=b.onDidChange(a=>this.updateHiddenRanges()),this._hiddenRanges=[],b.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(b){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=b.changes.some(a=>a.range.endLineNumber!==a.range.startLineNumber||(0,D.countEOL)(a.text)[0]!==0))}updateHiddenRanges(){let b=!1;const a=[];let n=0,i=0,t=Number.MAX_VALUE,o=-1;const g=this._foldingModel.regions;for(;n<g.length;n++){if(!g.isCollapsed(n))continue;const m=g.getStartLineNumber(n)+1,c=g.getEndLineNumber(n);t<=m&&c<=o||(!b&&i<this._hiddenRanges.length&&this._hiddenRanges[i].startLineNumber===m&&this._hiddenRanges[i].endLineNumber===c?(a.push(this._hiddenRanges[i]),i++):(b=!0,a.push(new y.Range(m,1,c,1))),t=m,o=c)}(this._hasLineChanges||b||i<this._hiddenRanges.length)&&this.applyHiddenRanges(a)}applyHiddenRanges(b){this._hiddenRanges=b,this._hasLineChanges=!1,this._updateEventEmitter.fire(b)}hasRanges(){return this._hiddenRanges.length>0}isHidden(b){return w(this._hiddenRanges,b)!==null}adjustSelections(b){let a=!1;const n=this._foldingModel.textModel;let i=null;const t=o=>((!i||!p(o,i))&&(i=w(this._hiddenRanges,o)),i?i.startLineNumber-1:null);for(let o=0,g=b.length;o<g;o++){let m=b[o];const c=t(m.startLineNumber);c&&(m=m.setStartPosition(c,n.getLineMaxColumn(c)),a=!0);const d=t(m.endLineNumber);d&&(m=m.setEndPosition(d,n.getLineMaxColumn(d)),a=!0),b[o]=m}return a}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=S;function p(v,b){return v>=b.startLineNumber&&v<=b.endLineNumber}function w(v,b){const a=(0,L.findFirstIdxMonotonousOrArrLen)(v,n=>b<n.startLineNumber)-1;return a>=0&&v[a].endLineNumber>=b?v[a]:null}}),define(ne[311],se([1,0,216,188]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=void 0;const y=5e3,D="indent";class S{constructor(a,n,i){this.editorModel=a,this.languageConfigurationService=n,this.foldingRangesLimit=i,this.id=D}dispose(){}compute(a){const n=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=n&&!!n.offSide,t=n&&n.markers;return Promise.resolve(v(this.editorModel,i,t,this.foldingRangesLimit))}}e.IndentRangeProvider=S;class p{constructor(a){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=a}insertFirst(a,n,i){if(a>k.MAX_LINE_NUMBER||n>k.MAX_LINE_NUMBER)return;const t=this._length;this._startIndexes[t]=a,this._endIndexes[t]=n,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(a){const n=this._foldingRangesLimit.limit;if(this._length<=n){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let o=this._length-1,g=0;o>=0;o--,g++)i[g]=this._startIndexes[o],t[g]=this._endIndexes[o];return new k.FoldingRegions(i,t)}else{this._foldingRangesLimit.update(this._length,n);let i=0,t=this._indentOccurrences.length;for(let c=0;c<this._indentOccurrences.length;c++){const d=this._indentOccurrences[c];if(d){if(d+i>n){t=c;break}i+=d}}const o=a.getOptions().tabSize,g=new Uint32Array(n),m=new Uint32Array(n);for(let c=this._length-1,d=0;c>=0;c--){const s=this._startIndexes[c],l=a.getLineContent(s),r=(0,L.computeIndentLevel)(l,o);(r<t||r===t&&i++<n)&&(g[d]=s,m[d]=this._endIndexes[c],d++)}return new k.FoldingRegions(g,m)}}}e.RangesCollector=p;const w={limit:y,update:()=>{}};function v(b,a,n,i=w){const t=b.getOptions().tabSize,o=new p(i);let g;n&&(g=new RegExp(`(${n.start.source})|(?:${n.end.source})`));const m=[],c=b.getLineCount()+1;m.push({indent:-1,endAbove:c,line:c});for(let d=b.getLineCount();d>0;d--){const s=b.getLineContent(d),l=(0,L.computeIndentLevel)(s,t);let r=m[m.length-1];if(l===-1){a&&(r.endAbove=d);continue}let h;if(g&&(h=s.match(g)))if(h[1]){let u=m.length-1;for(;u>0&&m[u].indent!==-2;)u--;if(u>0){m.length=u+1,r=m[u],o.insertFirst(d,r.line,l),r.line=d,r.indent=l,r.endAbove=d;continue}}else{m.push({indent:-2,endAbove:d,line:d});continue}if(r.indent>l){do m.pop(),r=m[m.length-1];while(r.indent>l);const u=r.endAbove-1;u-d>=1&&o.insertFirst(d,u,l)}r.indent===l?r.endAbove=d:m.push({indent:l,endAbove:d,line:d})}return o.toIndentRanges(b)}e.computeRanges=v}),define(ne[312],se([1,0,12,2,188]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.SyntaxRangeProvider=void 0;const D={},S="syntax";class p{constructor(n,i,t,o,g){this.editorModel=n,this.providers=i,this.handleFoldingRangesChange=t,this.foldingRangesLimit=o,this.fallbackRangeProvider=g,this.id=S,this.disposables=new k.DisposableStore,g&&this.disposables.add(g);for(const m of i)typeof m.onDidChange=="function"&&this.disposables.add(m.onDidChange(t))}compute(n){return w(this.providers,this.editorModel,n).then(i=>{var t,o;return i?b(i,this.foldingRangesLimit):(o=(t=this.fallbackRangeProvider)===null||t===void 0?void 0:t.compute(n))!==null&&o!==void 0?o:null})}dispose(){this.disposables.dispose()}}e.SyntaxRangeProvider=p;function w(a,n,i){let t=null;const o=a.map((g,m)=>Promise.resolve(g.provideFoldingRanges(n,D,i)).then(c=>{if(!i.isCancellationRequested&&Array.isArray(c)){Array.isArray(t)||(t=[]);const d=n.getLineCount();for(const s of c)s.start>0&&s.end>s.start&&s.end<=d&&t.push({start:s.start,end:s.end,rank:m,kind:s.kind})}},L.onUnexpectedExternalError));return Promise.all(o).then(g=>t)}class v{constructor(n){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=n}add(n,i,t,o){if(n>y.MAX_LINE_NUMBER||i>y.MAX_LINE_NUMBER)return;const g=this._length;this._startIndexes[g]=n,this._endIndexes[g]=i,this._nestingLevels[g]=o,this._types[g]=t,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}toIndentRanges(){const n=this._foldingRangesLimit.limit;if(this._length<=n){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let o=0;o<this._length;o++)i[o]=this._startIndexes[o],t[o]=this._endIndexes[o];return new y.FoldingRegions(i,t,this._types)}else{this._foldingRangesLimit.update(this._length,n);let i=0,t=this._nestingLevelCounts.length;for(let c=0;c<this._nestingLevelCounts.length;c++){const d=this._nestingLevelCounts[c];if(d){if(d+i>n){t=c;break}i+=d}}const o=new Uint32Array(n),g=new Uint32Array(n),m=[];for(let c=0,d=0;c<this._length;c++){const s=this._nestingLevels[c];(s<t||s===t&&i++<n)&&(o[d]=this._startIndexes[c],g[d]=this._endIndexes[c],m[d]=this._types[c],d++)}return new y.FoldingRegions(o,g,m)}}}function b(a,n){const i=a.sort((m,c)=>{let d=m.start-c.start;return d===0&&(d=m.rank-c.rank),d}),t=new v(n);let o;const g=[];for(const m of i)if(!o)o=m,t.add(m.start,m.end,m.kind&&m.kind.value,g.length);else if(m.start>o.start)if(m.end<=o.end)g.push(o),o=m,t.add(m.start,m.end,m.kind&&m.kind.value,g.length);else{if(m.start>o.end){do o=g.pop();while(o&&m.start>o.end);o&&g.push(o),o=m}t.add(m.start,m.end,m.kind&&m.kind.value,g.length)}return t.toIndentRanges()}e.sanitizeRanges=b}),define(ne[313],se([1,0,68,5,131]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class D{static _handleEolEdits(p,w){let v;const b=[];for(const a of w)typeof a.eol=="number"&&(v=a.eol),a.range&&typeof a.text=="string"&&b.push(a);return typeof v=="number"&&p.hasModel()&&p.getModel().pushEOL(v),b}static _isFullModelReplaceEdit(p,w){if(!p.hasModel())return!1;const v=p.getModel(),b=v.validateRange(w.range);return v.getFullModelRange().equalsRange(b)}static execute(p,w,v){v&&p.pushUndoStop();const b=y.StableEditorScrollState.capture(p),a=D._handleEolEdits(p,w);a.length===1&&D._isFullModelReplaceEdit(p,a[0])?p.executeEdits("formatEditsCommand",a.map(n=>L.EditOperation.replace(k.Range.lift(n.range),n.text))):p.executeEdits("formatEditsCommand",a.map(n=>L.EditOperation.replaceMove(k.Range.lift(n.range),n.text))),v&&p.pushUndoStop(),b.restoreRelativeVerticalPositionOfCursor(p)}}e.FormattingEdit=D}),define(ne[93],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class L{constructor(D,S,p,w){this.priority=D,this.range=S,this.initialMousePosX=p,this.initialMousePosY=w,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,S){return D.type===1&&S.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=L;class k{constructor(D,S,p,w,v,b){this.priority=D,this.owner=S,this.range=p,this.initialMousePosX=w,this.initialMousePosY=v,this.supportsMarkerHover=b,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,S){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=k,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(D){this._participants.push(D)}getAll(){return this._participants}}}),define(ne[568],se([1,0,23]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(D,S,p){this._editRange=D,this._originalSelection=S,this._text=p}getEditOperations(D,S){S.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,S){const w=S.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new L.Selection(w.endLineNumber,Math.min(this._originalSelection.positionColumn,w.endColumn),w.endLineNumber,Math.min(this._originalSelection.positionColumn,w.endColumn)):new L.Selection(w.endLineNumber,w.endColumn-this._text.length,w.endLineNumber,w.endColumn)}}e.InPlaceReplaceCommand=k}),define(ne[314],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function L(y,D){let S=0;for(let p=0;p<y.length;p++)y.charAt(p)==="	"?S+=D:S++;return S}e.getSpaceCnt=L;function k(y,D,S){y=y<0?0:y;let p="";if(!S){const w=Math.floor(y/D);y=y%D;for(let v=0;v<w;v++)p+="	"}for(let w=0;w<y;w++)p+=" ";return p}e.generateIndent=k}),define(ne[222],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showNextInlineSuggestionActionId=e.showPreviousInlineSuggestionActionId=e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit",e.showPreviousInlineSuggestionActionId="editor.action.inlineSuggest.showPrevious",e.showNextInlineSuggestionActionId="editor.action.inlineSuggest.showNext"}),define(ne[140],se([1,0,12,2,32,9,5]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Permutation=e.getNewRanges=e.lengthOfText=e.subtractPositions=e.addPositions=e.applyObservableDecorations=e.ColumnRange=e.getReadonlyEmptyArray=e.applyEdits=void 0;function p(c,d){const s=new w(c),l=d.map(r=>{const h=S.Range.lift(r.range);return{startOffset:s.getOffset(h.getStartPosition()),endOffset:s.getOffset(h.getEndPosition()),text:r.text}});l.sort((r,h)=>h.startOffset-r.startOffset);for(const r of l)c=c.substring(0,r.startOffset)+r.text+c.substring(r.endOffset);return c}e.applyEdits=p;class w{constructor(d){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let s=0;s<d.length;s++)d.charAt(s)===`
`&&this.lineStartOffsetByLineIdx.push(s+1)}getOffset(d){return this.lineStartOffsetByLineIdx[d.lineNumber-1]+d.column-1}}const v=[];function b(){return v}e.getReadonlyEmptyArray=b;class a{constructor(d,s){if(this.startColumn=d,this.endColumnExclusive=s,d>s)throw new L.BugIndicatingError(`startColumn ${d} cannot be after endColumnExclusive ${s}`)}toRange(d){return new S.Range(d,this.startColumn,d,this.endColumnExclusive)}equals(d){return this.startColumn===d.startColumn&&this.endColumnExclusive===d.endColumnExclusive}}e.ColumnRange=a;function n(c,d){const s=new k.DisposableStore,l=c.createDecorationsCollection();return s.add((0,y.autorunOpts)({debugName:()=>`Apply decorations from ${d.debugName}`},r=>{const h=d.read(r);l.set(h)})),s.add({dispose:()=>{l.clear()}}),s}e.applyObservableDecorations=n;function i(c,d){return new D.Position(c.lineNumber+d.lineNumber-1,d.lineNumber===1?c.column+d.column-1:d.column)}e.addPositions=i;function t(c,d){return new D.Position(c.lineNumber-d.lineNumber+1,c.lineNumber-d.lineNumber===0?c.column-d.column+1:c.column)}e.subtractPositions=t;function o(c){let d=1,s=1;for(const l of c)l===`
`?(d++,s=1):s++;return new D.Position(d,s)}e.lengthOfText=o;function g(c){var d;const s=[];let l=0,r=0,h=0;for(const u of c){const f=(d=u.text)!==null&&d!==void 0?d:"",C=o(f),_=D.Position.lift({lineNumber:u.range.startLineNumber+r,column:u.range.startColumn+(u.range.startLineNumber===l?h:0)}),E=i(_,C);s.push(S.Range.fromPositions(_,E)),r+=C.lineNumber-u.range.endLineNumber+u.range.startLineNumber-1,h=E.column-u.range.endColumn,l=u.range.endLineNumber}return s}e.getNewRanges=g;class m{constructor(d){this._indexMap=d}static createSortPermutation(d,s){const l=Array.from(d.keys()).sort((r,h)=>s(d[r],d[h]));return new m(l)}apply(d){return d.map((s,l)=>d[this._indexMap[l]])}inverse(){const d=this._indexMap.slice();for(let s=0;s<this._indexMap.length;s++)d[this._indexMap[s]]=s;return new m(d)}}e.Permutation=m}),define(ne[189],se([1,0,13,11,140]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ghostTextOrReplacementEquals=e.ghostTextsOrReplacementsEqual=e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0;class D{constructor(a,n){this.lineNumber=a,this.parts=n}equals(a){return this.lineNumber===a.lineNumber&&this.parts.length===a.parts.length&&this.parts.every((n,i)=>n.equals(a.parts[i]))}renderForScreenReader(a){if(this.parts.length===0)return"";const n=this.parts[this.parts.length-1],i=a.substr(0,n.column-1);return(0,y.applyEdits)(i,this.parts.map(o=>({range:{startLineNumber:1,endLineNumber:1,startColumn:o.column,endColumn:o.column},text:o.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(a=>a.lines.length===0)}get lineCount(){return 1+this.parts.reduce((a,n)=>a+n.lines.length-1,0)}}e.GhostText=D;class S{constructor(a,n,i){this.column=a,this.text=n,this.preview=i,this.lines=(0,k.splitLines)(this.text)}equals(a){return this.column===a.column&&this.lines.length===a.lines.length&&this.lines.every((n,i)=>n===a.lines[i])}}e.GhostTextPart=S;class p{constructor(a,n,i,t=0){this.lineNumber=a,this.columnRange=n,this.text=i,this.additionalReservedLineCount=t,this.parts=[new S(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=(0,k.splitLines)(this.text)}renderForScreenReader(a){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(a=>a.lines.length===0)}equals(a){return this.lineNumber===a.lineNumber&&this.columnRange.equals(a.columnRange)&&this.newLines.length===a.newLines.length&&this.newLines.every((n,i)=>n===a.newLines[i])&&this.additionalReservedLineCount===a.additionalReservedLineCount}}e.GhostTextReplacement=p;function w(b,a){return(0,L.equals)(b,a,v)}e.ghostTextsOrReplacementsEqual=w;function v(b,a){return b===a?!0:!b||!a?!1:b instanceof D&&a instanceof D||b instanceof p&&a instanceof p?b.equals(a):!1}e.ghostTextOrReplacementEquals=v}),define(ne[223],se([1,0,176,11,5,189,140]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SingleTextEdit=void 0;class p{constructor(t,o){this.range=t,this.text=o}removeCommonPrefix(t,o){const g=o?this.range.intersectRanges(o):this.range;if(!g)return this;const m=t.getValueInRange(g,1),c=(0,k.commonPrefixLength)(m,this.text),d=(0,S.addPositions)(this.range.getStartPosition(),(0,S.lengthOfText)(m.substring(0,c))),s=this.text.substring(c),l=y.Range.fromPositions(d,this.range.getEndPosition());return new p(l,s)}augments(t){return this.text.startsWith(t.text)&&w(this.range,t.range)}computeGhostText(t,o,g,m=0){let c=this.removeCommonPrefix(t);if(c.range.endLineNumber!==c.range.startLineNumber)return;const d=t.getLineContent(c.range.startLineNumber),s=(0,k.getLeadingWhitespace)(d).length;if(c.range.startColumn-1<=s){const _=(0,k.getLeadingWhitespace)(c.text).length,E=d.substring(c.range.startColumn-1,s),[I,T]=[c.range.getStartPosition(),c.range.getEndPosition()],A=I.column+E.length<=T.column?I.delta(0,E.length):T,R=y.Range.fromPositions(A,T),M=c.text.startsWith(E)?c.text.substring(E.length):c.text.substring(_);c=new p(R,M)}const r=t.getValueInRange(c.range),h=b(r,c.text);if(!h)return;const u=c.range.startLineNumber,f=new Array;if(o==="prefix"){const _=h.filter(E=>E.originalLength===0);if(_.length>1||_.length===1&&_[0].originalStart!==r.length)return}const C=c.text.length-m;for(const _ of h){const E=c.range.startColumn+_.originalStart+_.originalLength;if(o==="subwordSmart"&&g&&g.lineNumber===c.range.startLineNumber&&E<g.column||_.originalLength>0)return;if(_.modifiedLength===0)continue;const I=_.modifiedStart+_.modifiedLength,T=Math.max(_.modifiedStart,Math.min(I,C)),A=c.text.substring(_.modifiedStart,T),R=c.text.substring(T,Math.max(_.modifiedStart,I));A.length>0&&f.push(new D.GhostTextPart(E,A,!1)),R.length>0&&f.push(new D.GhostTextPart(E,R,!0))}return new D.GhostText(u,f)}}e.SingleTextEdit=p;function w(i,t){return t.getStartPosition().equals(i.getStartPosition())&&t.getEndPosition().isBeforeOrEqual(i.getEndPosition())}let v;function b(i,t){if(v?.originalValue===i&&v?.newValue===t)return v?.changes;{let o=n(i,t,!0);if(o){const g=a(o);if(g>0){const m=n(i,t,!1);m&&a(m)<g&&(o=m)}}return v={originalValue:i,newValue:t,changes:o},o}}function a(i){let t=0;for(const o of i)t+=o.originalLength;return t}function n(i,t,o){if(i.length>5e3||t.length>5e3)return;function g(r){let h=0;for(let u=0,f=r.length;u<f;u++){const C=r.charCodeAt(u);C>h&&(h=C)}return h}const m=Math.max(g(i),g(t));function c(r){if(r<0)throw new Error("unexpected");return m+r+1}function d(r){let h=0,u=0;const f=new Int32Array(r.length);for(let C=0,_=r.length;C<_;C++)if(o&&r[C]==="("){const E=u*100+h;f[C]=c(2*E),h++}else if(o&&r[C]===")"){h=Math.max(h-1,0);const E=u*100+h;f[C]=c(2*E+1),h===0&&u++}else f[C]=r.charCodeAt(C);return f}const s=d(i),l=d(t);return new L.LcsDiff({getElements:()=>s},{getElements:()=>l}).ComputeDiff(!1).changes}}),define(ne[569],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineEditJumpBackId=e.inlineEditJumpToId=e.inlineEditRejectId=e.inlineEditAcceptId=void 0,e.inlineEditAcceptId="editor.action.inlineEdit.accept",e.inlineEditRejectId="editor.action.inlineEdit.reject",e.inlineEditJumpToId="editor.action.inlineEdit.jumpTo",e.inlineEditJumpBackId="editor.action.inlineEdit.jumpBack"}),define(ne[570],se([1,0,5,23]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class y{constructor(S,p,w){this._selection=S,this._isCopyingDown=p,this._noop=w||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(S,p){let w=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,w.startLineNumber<w.endLineNumber&&w.endColumn===1&&(this._endLineNumberDelta=1,w=w.setEndPosition(w.endLineNumber-1,S.getLineMaxColumn(w.endLineNumber-1)));const v=[];for(let a=w.startLineNumber;a<=w.endLineNumber;a++)v.push(S.getLineContent(a));const b=v.join(`
`);b===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?p.addEditOperation(new L.Range(w.endLineNumber,S.getLineMaxColumn(w.endLineNumber),w.endLineNumber+1,1),w.endLineNumber===S.getLineCount()?"":`
`):this._isCopyingDown?p.addEditOperation(new L.Range(w.startLineNumber,1,w.startLineNumber,1),b+`
`):p.addEditOperation(new L.Range(w.endLineNumber,S.getLineMaxColumn(w.endLineNumber),w.endLineNumber,S.getLineMaxColumn(w.endLineNumber)),`
`+b),this._selectionId=p.trackSelection(w),this._selectionDirection=this._selection.getDirection()}computeCursorState(S,p){let w=p.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let v=w.startLineNumber,b=w.startColumn,a=w.endLineNumber,n=w.endColumn;this._startLineNumberDelta!==0&&(v=v+this._startLineNumberDelta,b=1),this._endLineNumberDelta!==0&&(a=a+this._endLineNumberDelta,n=1),w=k.Selection.createWithDirection(v,b,a,n,this._selectionDirection)}return w}}e.CopyLinesCommand=y}),define(ne[571],se([1,0,68,5]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class y{static getCollator(){return y._COLLATOR||(y._COLLATOR=new Intl.Collator),y._COLLATOR}constructor(w,v){this.selection=w,this.descending=v,this.selectionId=null}getEditOperations(w,v){const b=S(w,this.selection,this.descending);b&&v.addEditOperation(b.range,b.text),this.selectionId=v.trackSelection(this.selection)}computeCursorState(w,v){return v.getTrackedSelection(this.selectionId)}static canRun(w,v,b){if(w===null)return!1;const a=D(w,v,b);if(!a)return!1;for(let n=0,i=a.before.length;n<i;n++)if(a.before[n]!==a.after[n])return!0;return!1}}e.SortLinesCommand=y,y._COLLATOR=null;function D(p,w,v){const b=w.startLineNumber;let a=w.endLineNumber;if(w.endColumn===1&&a--,b>=a)return null;const n=[];for(let t=b;t<=a;t++)n.push(p.getLineContent(t));let i=n.slice(0);return i.sort(y.getCollator().compare),v===!0&&(i=i.reverse()),{startLineNumber:b,endLineNumber:a,before:n,after:i}}function S(p,w,v){const b=D(p,w,v);return b?L.EditOperation.replace(new k.Range(b.startLineNumber,1,b.endLineNumber,p.getLineMaxColumn(b.endLineNumber)),b.after.join(`
`)):null}}),define(ne[315],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=void 0,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function L(k,y,D){var S;const p=(S=D.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:k.getLanguageId(),resource:k.uri}))===null||S===void 0?void 0:S.enabled;return typeof p=="boolean"?p:y.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=L}),define(ne[316],se([1,0,67,9,5]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{async provideSelectionRanges(p,w){const v=[];for(const b of w){const a=[];v.push(a);const n=new Map;await new Promise(i=>D._bracketsRightYield(i,0,p,b,n)),await new Promise(i=>D._bracketsLeftYield(i,0,p,b,n,a))}return v}static _bracketsRightYield(p,w,v,b,a){const n=new Map,i=Date.now();for(;;){if(w>=D._maxRounds){p();break}if(!b){p();break}const t=v.bracketPairs.findNextBracket(b);if(!t){p();break}if(Date.now()-i>D._maxDuration){setTimeout(()=>D._bracketsRightYield(p,w+1,v,b,a));break}if(t.bracketInfo.isOpeningBracket){const g=t.bracketInfo.bracketText,m=n.has(g)?n.get(g):0;n.set(g,m+1)}else{const g=t.bracketInfo.getOpeningBrackets()[0].bracketText;let m=n.has(g)?n.get(g):0;if(m-=1,n.set(g,Math.max(0,m)),m<0){let c=a.get(g);c||(c=new L.LinkedList,a.set(g,c)),c.push(t.range)}}b=t.range.getEndPosition()}}static _bracketsLeftYield(p,w,v,b,a,n){const i=new Map,t=Date.now();for(;;){if(w>=D._maxRounds&&a.size===0){p();break}if(!b){p();break}const o=v.bracketPairs.findPrevBracket(b);if(!o){p();break}if(Date.now()-t>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(p,w+1,v,b,a,n));break}if(o.bracketInfo.isOpeningBracket){const m=o.bracketInfo.bracketText;let c=i.has(m)?i.get(m):0;if(c-=1,i.set(m,Math.max(0,c)),c<0){const d=a.get(m);if(d){const s=d.shift();d.size===0&&a.delete(m);const l=y.Range.fromPositions(o.range.getEndPosition(),s.getStartPosition()),r=y.Range.fromPositions(o.range.getStartPosition(),s.getEndPosition());n.push({range:l}),n.push({range:r}),D._addBracketLeading(v,r,n)}}}else{const m=o.bracketInfo.getOpeningBrackets()[0].bracketText,c=i.has(m)?i.get(m):0;i.set(m,c+1)}b=o.range.getStartPosition()}}static _addBracketLeading(p,w,v){if(w.startLineNumber===w.endLineNumber)return;const b=w.startLineNumber,a=p.getLineFirstNonWhitespaceColumn(b);a!==0&&a!==w.startColumn&&(v.push({range:y.Range.fromPositions(new k.Position(b,a),w.getEndPosition())}),v.push({range:y.Range.fromPositions(new k.Position(b,1),w.getEndPosition())}));const n=b-1;if(n>0){const i=p.getLineFirstNonWhitespaceColumn(n);i===w.startColumn&&i!==p.getLineLastNonWhitespaceColumn(n)&&(v.push({range:y.Range.fromPositions(new k.Position(n,i),w.getEndPosition())}),v.push({range:y.Range.fromPositions(new k.Position(n,1),w.getEndPosition())}))}}}e.BracketSelectionRangeProvider=D,D._maxDuration=30,D._maxRounds=2}),define(ne[572],se([1,0,11,5]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class y{constructor(S=!0){this.selectSubwords=S}provideSelectionRanges(S,p){const w=[];for(const v of p){const b=[];w.push(b),this.selectSubwords&&this._addInWordRanges(b,S,v),this._addWordRanges(b,S,v),this._addWhitespaceLine(b,S,v),b.push({range:S.getFullModelRange()})}return w}_addInWordRanges(S,p,w){const v=p.getWordAtPosition(w);if(!v)return;const{word:b,startColumn:a}=v,n=w.column-a;let i=n,t=n,o=0;for(;i>=0;i--){const g=b.charCodeAt(i);if(i!==n&&(g===95||g===45))break;if((0,L.isLowerAsciiLetter)(g)&&(0,L.isUpperAsciiLetter)(o))break;o=g}for(i+=1;t<b.length;t++){const g=b.charCodeAt(t);if((0,L.isUpperAsciiLetter)(g)&&(0,L.isLowerAsciiLetter)(o))break;if(g===95||g===45)break;o=g}i<t&&S.push({range:new k.Range(w.lineNumber,a+i,w.lineNumber,a+t)})}_addWordRanges(S,p,w){const v=p.getWordAtPosition(w);v&&S.push({range:new k.Range(w.lineNumber,v.startColumn,w.lineNumber,v.endColumn)})}_addWhitespaceLine(S,p,w){p.getLineLength(w.lineNumber)>0&&p.getLineFirstNonWhitespaceColumn(w.lineNumber)===0&&p.getLineLastNonWhitespaceColumn(w.lineNumber)===0&&S.push({range:new k.Range(w.lineNumber,1,w.lineNumber,p.getLineMaxColumn(w.lineNumber))})}}e.WordSelectionRangeProvider=y}),define(ne[120],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class L{constructor(){this.value="",this.pos=0}static isDigitCharacter(o){return o>=48&&o<=57}static isVariableCharacter(o){return o===95||o>=97&&o<=122||o>=65&&o<=90}text(o){this.value=o,this.pos=0}tokenText(o){return this.value.substr(o.pos,o.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const o=this.pos;let g=0,m=this.value.charCodeAt(o),c;if(c=L._table[m],typeof c=="number")return this.pos+=1,{type:c,pos:o,len:1};if(L.isDigitCharacter(m)){c=8;do g+=1,m=this.value.charCodeAt(o+g);while(L.isDigitCharacter(m));return this.pos+=g,{type:c,pos:o,len:g}}if(L.isVariableCharacter(m)){c=9;do m=this.value.charCodeAt(o+ ++g);while(L.isVariableCharacter(m)||L.isDigitCharacter(m));return this.pos+=g,{type:c,pos:o,len:g}}c=10;do g+=1,m=this.value.charCodeAt(o+g);while(!isNaN(m)&&typeof L._table[m]>"u"&&!L.isDigitCharacter(m)&&!L.isVariableCharacter(m));return this.pos+=g,{type:c,pos:o,len:g}}}e.Scanner=L,L._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class k{constructor(){this._children=[]}appendChild(o){return o instanceof y&&this._children[this._children.length-1]instanceof y?this._children[this._children.length-1].value+=o.value:(o.parent=this,this._children.push(o)),this}replace(o,g){const{parent:m}=o,c=m.children.indexOf(o),d=m.children.slice(0);d.splice(c,1,...g),m._children=d,function s(l,r){for(const h of l)h.parent=r,s(h.children,h)}(g,m)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let o=this;for(;;){if(!o)return;if(o instanceof n)return o;o=o.parent}}toString(){return this.children.reduce((o,g)=>o+g.toString(),"")}len(){return 0}}e.Marker=k;class y extends k{constructor(o){super(),this.value=o}toString(){return this.value}len(){return this.value.length}clone(){return new y(this.value)}}e.Text=y;class D extends k{}e.TransformableMarker=D;class S extends D{static compareByIndex(o,g){return o.index===g.index?0:o.isFinalTabstop?1:g.isFinalTabstop||o.index<g.index?-1:o.index>g.index?1:0}constructor(o){super(),this.index=o}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof p?this._children[0]:void 0}clone(){const o=new S(this.index);return this.transform&&(o.transform=this.transform.clone()),o._children=this.children.map(g=>g.clone()),o}}e.Placeholder=S;class p extends k{constructor(){super(...arguments),this.options=[]}appendChild(o){return o instanceof y&&(o.parent=this,this.options.push(o)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const o=new p;return this.options.forEach(o.appendChild,o),o}}e.Choice=p;class w extends k{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(o){const g=this;let m=!1,c=o.replace(this.regexp,function(){return m=!0,g._replace(Array.prototype.slice.call(arguments,0,-2))});return!m&&this._children.some(d=>d instanceof v&&!!d.elseValue)&&(c=this._replace([])),c}_replace(o){let g="";for(const m of this._children)if(m instanceof v){let c=o[m.index]||"";c=m.resolve(c),g+=c}else g+=m.toString();return g}toString(){return""}clone(){const o=new w;return o.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),o._children=this.children.map(g=>g.clone()),o}}e.Transform=w;class v extends k{constructor(o,g,m,c){super(),this.index=o,this.shorthandName=g,this.ifValue=m,this.elseValue=c}resolve(o){return this.shorthandName==="upcase"?o?o.toLocaleUpperCase():"":this.shorthandName==="downcase"?o?o.toLocaleLowerCase():"":this.shorthandName==="capitalize"?o?o[0].toLocaleUpperCase()+o.substr(1):"":this.shorthandName==="pascalcase"?o?this._toPascalCase(o):"":this.shorthandName==="camelcase"?o?this._toCamelCase(o):"":o&&typeof this.ifValue=="string"?this.ifValue:!o&&typeof this.elseValue=="string"?this.elseValue:o||""}_toPascalCase(o){const g=o.match(/[a-z0-9]+/gi);return g?g.map(m=>m.charAt(0).toUpperCase()+m.substr(1)).join(""):o}_toCamelCase(o){const g=o.match(/[a-z0-9]+/gi);return g?g.map((m,c)=>c===0?m.charAt(0).toLowerCase()+m.substr(1):m.charAt(0).toUpperCase()+m.substr(1)).join(""):o}clone(){return new v(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=v;class b extends D{constructor(o){super(),this.name=o}resolve(o){let g=o.resolve(this);return this.transform&&(g=this.transform.resolve(g||"")),g!==void 0?(this._children=[new y(g)],!0):!1}clone(){const o=new b(this.name);return this.transform&&(o.transform=this.transform.clone()),o._children=this.children.map(g=>g.clone()),o}}e.Variable=b;function a(t,o){const g=[...t];for(;g.length>0;){const m=g.shift();if(!o(m))break;g.unshift(...m.children)}}class n extends k{get placeholderInfo(){if(!this._placeholders){const o=[];let g;this.walk(function(m){return m instanceof S&&(o.push(m),g=!g||g.index<m.index?m:g),!0}),this._placeholders={all:o,last:g}}return this._placeholders}get placeholders(){const{all:o}=this.placeholderInfo;return o}offset(o){let g=0,m=!1;return this.walk(c=>c===o?(m=!0,!1):(g+=c.len(),!0)),m?g:-1}fullLen(o){let g=0;return a([o],m=>(g+=m.len(),!0)),g}enclosingPlaceholders(o){const g=[];let{parent:m}=o;for(;m;)m instanceof S&&g.push(m),m=m.parent;return g}resolveVariables(o){return this.walk(g=>(g instanceof b&&g.resolve(o)&&(this._placeholders=void 0),!0)),this}appendChild(o){return this._placeholders=void 0,super.appendChild(o)}replace(o,g){return this._placeholders=void 0,super.replace(o,g)}clone(){const o=new n;return this._children=this.children.map(g=>g.clone()),o}walk(o){a(this.children,o)}}e.TextmateSnippet=n;class i{constructor(){this._scanner=new L,this._token={type:14,pos:0,len:0}}static escape(o){return o.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(o){return/\${?CLIPBOARD/.test(o)}parse(o,g,m){const c=new n;return this.parseFragment(o,c),this.ensureFinalTabstop(c,m??!1,g??!1),c}parseFragment(o,g){const m=g.children.length;for(this._scanner.text(o),this._token=this._scanner.next();this._parse(g););const c=new Map,d=[];g.walk(r=>(r instanceof S&&(r.isFinalTabstop?c.set(0,void 0):!c.has(r.index)&&r.children.length>0?c.set(r.index,r.children):d.push(r)),!0));const s=(r,h)=>{const u=c.get(r.index);if(!u)return;const f=new S(r.index);f.transform=r.transform;for(const C of u){const _=C.clone();f.appendChild(_),_ instanceof S&&c.has(_.index)&&!h.has(_.index)&&(h.add(_.index),s(_,h),h.delete(_.index))}g.replace(r,[f])},l=new Set;for(const r of d)s(r,l);return g.children.slice(m)}ensureFinalTabstop(o,g,m){(g||m&&o.placeholders.length>0)&&(o.placeholders.find(d=>d.index===0)||o.appendChild(new S(0)))}_accept(o,g){if(o===void 0||this._token.type===o){const m=g?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),m}return!1}_backTo(o){return this._scanner.pos=o.pos+o.len,this._token=o,!1}_until(o){const g=this._token;for(;this._token.type!==o;){if(this._token.type===14)return!1;if(this._token.type===5){const c=this._scanner.next();if(c.type!==0&&c.type!==4&&c.type!==5)return!1}this._token=this._scanner.next()}const m=this._scanner.value.substring(g.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),m}_parse(o){return this._parseEscaped(o)||this._parseTabstopOrVariableName(o)||this._parseComplexPlaceholder(o)||this._parseComplexVariable(o)||this._parseAnything(o)}_parseEscaped(o){let g;return(g=this._accept(5,!0))?(g=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||g,o.appendChild(new y(g)),!0):!1}_parseTabstopOrVariableName(o){let g;const m=this._token;return this._accept(0)&&(g=this._accept(9,!0)||this._accept(8,!0))?(o.appendChild(/^\d+$/.test(g)?new S(Number(g)):new b(g)),!0):this._backTo(m)}_parseComplexPlaceholder(o){let g;const m=this._token;if(!(this._accept(0)&&this._accept(3)&&(g=this._accept(8,!0))))return this._backTo(m);const d=new S(Number(g));if(this._accept(1))for(;;){if(this._accept(4))return o.appendChild(d),!0;if(!this._parse(d))return o.appendChild(new y("${"+g+":")),d.children.forEach(o.appendChild,o),!0}else if(d.index>0&&this._accept(7)){const s=new p;for(;;){if(this._parseChoiceElement(s)){if(this._accept(2))continue;if(this._accept(7)&&(d.appendChild(s),this._accept(4)))return o.appendChild(d),!0}return this._backTo(m),!1}}else return this._accept(6)?this._parseTransform(d)?(o.appendChild(d),!0):(this._backTo(m),!1):this._accept(4)?(o.appendChild(d),!0):this._backTo(m)}_parseChoiceElement(o){const g=this._token,m=[];for(;!(this._token.type===2||this._token.type===7);){let c;if((c=this._accept(5,!0))?c=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||c:c=this._accept(void 0,!0),!c)return this._backTo(g),!1;m.push(c)}return m.length===0?(this._backTo(g),!1):(o.appendChild(new y(m.join(""))),!0)}_parseComplexVariable(o){let g;const m=this._token;if(!(this._accept(0)&&this._accept(3)&&(g=this._accept(9,!0))))return this._backTo(m);const d=new b(g);if(this._accept(1))for(;;){if(this._accept(4))return o.appendChild(d),!0;if(!this._parse(d))return o.appendChild(new y("${"+g+":")),d.children.forEach(o.appendChild,o),!0}else return this._accept(6)?this._parseTransform(d)?(o.appendChild(d),!0):(this._backTo(m),!1):this._accept(4)?(o.appendChild(d),!0):this._backTo(m)}_parseTransform(o){const g=new w;let m="",c="";for(;!this._accept(6);){let d;if(d=this._accept(5,!0)){d=this._accept(6,!0)||d,m+=d;continue}if(this._token.type!==14){m+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let d;if(d=this._accept(5,!0)){d=this._accept(5,!0)||this._accept(6,!0)||d,g.appendChild(new y(d));continue}if(!(this._parseFormatString(g)||this._parseAnything(g)))return!1}for(;!this._accept(4);){if(this._token.type!==14){c+=this._accept(void 0,!0);continue}return!1}try{g.regexp=new RegExp(m,c)}catch{return!1}return o.transform=g,!0}_parseFormatString(o){const g=this._token;if(!this._accept(0))return!1;let m=!1;this._accept(3)&&(m=!0);const c=this._accept(8,!0);if(c)if(m){if(this._accept(4))return o.appendChild(new v(Number(c))),!0;if(!this._accept(1))return this._backTo(g),!1}else return o.appendChild(new v(Number(c))),!0;else return this._backTo(g),!1;if(this._accept(6)){const d=this._accept(9,!0);return!d||!this._accept(4)?(this._backTo(g),!1):(o.appendChild(new v(Number(c),d)),!0)}else if(this._accept(11)){const d=this._until(4);if(d)return o.appendChild(new v(Number(c),void 0,d,void 0)),!0}else if(this._accept(12)){const d=this._until(4);if(d)return o.appendChild(new v(Number(c),void 0,void 0,d)),!0}else if(this._accept(13)){const d=this._until(1);if(d){const s=this._until(4);if(s)return o.appendChild(new v(Number(c),void 0,d,s)),!0}}else{const d=this._until(4);if(d)return o.appendChild(new v(Number(c),void 0,void 0,d)),!0}return this._backTo(g),!1}_parseAnything(o){return this._token.type!==14?(o.appendChild(new y(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=i}),define(ne[317],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModel=e.StickyElement=e.StickyRange=void 0;class L{constructor(S,p){this.startLineNumber=S,this.endLineNumber=p}}e.StickyRange=L;class k{constructor(S,p,w){this.range=S,this.children=p,this.parent=w}}e.StickyElement=k;class y{constructor(S,p,w,v){this.uri=S,this.version=p,this.element=w,this.outlineProviderId=v}}e.StickyModel=y}),define(ne[318],se([1,0,13,73,11]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(w,v){this.leadingLineContent=w,this.characterCountDelta=v}}e.LineContext=D;class S{constructor(w,v,b,a,n,i,t=k.FuzzyScoreOptions.default,o=void 0){this.clipboardText=o,this._snippetCompareFn=S._compareCompletionItems,this._items=w,this._column=v,this._wordDistance=a,this._options=n,this._refilterKind=1,this._lineContext=b,this._fuzzyScoreOptions=t,i==="top"?this._snippetCompareFn=S._compareCompletionItemsSnippetsUp:i==="bottom"&&(this._snippetCompareFn=S._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(w){(this._lineContext.leadingLineContent!==w.leadingLineContent||this._lineContext.characterCountDelta!==w.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<w.characterCountDelta&&this._filteredItems?2:1,this._lineContext=w)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const w=new Set;for(const[v,b]of this.getItemsByProvider())b.length>0&&b[0].container.incomplete&&w.add(v);return w}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const w=[],{leadingLineContent:v,characterCountDelta:b}=this._lineContext;let a="",n="";const i=this._refilterKind===1?this._items:this._filteredItems,t=[],o=!this._options.filterGraceful||i.length>2e3?k.fuzzyScore:k.fuzzyScoreGracefulAggressive;for(let g=0;g<i.length;g++){const m=i[g];if(m.isInvalid)continue;const c=this._itemsByProvider.get(m.provider);c?c.push(m):this._itemsByProvider.set(m.provider,[m]);const d=m.position.column-m.editStart.column,s=d+b-(m.position.column-this._column);if(a.length!==s&&(a=s===0?"":v.slice(-s),n=a.toLowerCase()),m.word=a,s===0)m.score=k.FuzzyScore.Default;else{let l=0;for(;l<d;){const r=a.charCodeAt(l);if(r===32||r===9)l+=1;else break}if(l>=s)m.score=k.FuzzyScore.Default;else if(typeof m.completion.filterText=="string"){const r=o(a,n,l,m.completion.filterText,m.filterTextLow,0,this._fuzzyScoreOptions);if(!r)continue;(0,y.compareIgnoreCase)(m.completion.filterText,m.textLabel)===0?m.score=r:(m.score=(0,k.anyScore)(a,n,l,m.textLabel,m.labelLow,0),m.score[0]=r[0])}else{const r=o(a,n,l,m.textLabel,m.labelLow,0,this._fuzzyScoreOptions);if(!r)continue;m.score=r}}m.idx=g,m.distance=this._wordDistance.distance(m.position,m.completion),t.push(m),w.push(m.textLabel.length)}this._filteredItems=t.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:w.length?(0,L.quickSelect)(w.length-.85,w,(g,m)=>g-m):0}}static _compareCompletionItems(w,v){return w.score[0]>v.score[0]?-1:w.score[0]<v.score[0]?1:w.distance<v.distance?-1:w.distance>v.distance?1:w.idx<v.idx?-1:w.idx>v.idx?1:0}static _compareCompletionItemsSnippetsDown(w,v){if(w.completion.kind!==v.completion.kind){if(w.completion.kind===27)return 1;if(v.completion.kind===27)return-1}return S._compareCompletionItems(w,v)}static _compareCompletionItemsSnippetsUp(w,v){if(w.completion.kind!==v.completion.kind){if(w.completion.kind===27)return-1;if(v.completion.kind===27)return 1}return S._compareCompletionItems(w,v)}}e.CompletionModel=S}),define(ne[573],se([1,0,13,2,132]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(p,w,v,b){this._disposables=new k.DisposableStore,this._disposables.add(v.onDidSuggest(a=>{a.completionModel.items.length===0&&this.reset()})),this._disposables.add(v.onDidCancel(a=>{this.reset()})),this._disposables.add(w.onDidShow(()=>this._onItem(w.getFocusedItem()))),this._disposables.add(w.onDidFocus(this._onItem,this)),this._disposables.add(w.onDidHide(this.reset,this)),this._disposables.add(p.onWillType(a=>{if(this._active&&!w.isFrozen()&&v.state!==0){const n=a.charCodeAt(a.length-1);this._active.acceptCharacters.has(n)&&p.getOption(0)&&b(this._active.item)}}))}_onItem(p){if(!p||!(0,L.isNonEmptyArray)(p.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===p.item)return;const w=new y.CharacterSet;for(const v of p.item.completion.commitCharacters)v.length>0&&w.add(v.charCodeAt(0));this._active={acceptCharacters:w,item:p}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=D}),define(ne[574],se([1,0,2]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(D,S){this._disposables=new L.DisposableStore,this._lastOvertyped=[],this._locked=!1,this._disposables.add(D.onWillType(()=>{if(this._locked||!D.hasModel())return;const p=D.getSelections(),w=p.length;let v=!1;for(let a=0;a<w;a++)if(!p[a].isEmpty()){v=!0;break}if(!v){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const b=D.getModel();for(let a=0;a<w;a++){const n=p[a];if(b.getValueLengthInRange(n)>k._maxSelectionLength)return;this._lastOvertyped[a]={value:b.getValueInRange(n),multiline:n.startLineNumber!==n.endLineNumber}}})),this._disposables.add(S.onDidTrigger(p=>{this._locked=!0})),this._disposables.add(S.onDidCancel(p=>{this._locked=!1}))}getLastOvertypedInfo(D){if(D>=0&&D<this._lastOvertyped.length)return this._lastOvertyped[D]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(ne[319],se([1,0,13,5,316]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static async create(p,w){if(!w.getOption(118).localityBonus||!w.hasModel())return D.None;const v=w.getModel(),b=w.getPosition();if(!p.canComputeWordRanges(v.uri))return D.None;const[a]=await new y.BracketSelectionRangeProvider().provideSelectionRanges(v,[b]);if(a.length===0)return D.None;const n=await p.computeWordRanges(v.uri,a[0].range);if(!n)return D.None;const i=v.getWordUntilPosition(b);return delete n[i.word],new class extends D{distance(t,o){if(!b.equals(w.getPosition()))return 0;if(o.kind===17)return 2<<20;const g=typeof o.label=="string"?o.label:o.label.label,m=n[g];if((0,L.isFalsyOrEmpty)(m))return 2<<20;const c=(0,L.binarySearch)(m,k.Range.fromPositions(t),k.Range.compareRangesUsingStarts),d=c>=0?m[c]:m[Math.max(0,~c-1)];let s=a.length;for(const l of a){if(!k.Range.containsRange(l.range,d))break;s-=1}return s}}}}e.WordDistance=D,D.None=new class extends D{distance(){return 0}}}),define(ne[320],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function L(t){return Array.isArray(t)}e.isFuzzyActionArr=L;function k(t){return!L(t)}e.isFuzzyAction=k;function y(t){return typeof t=="string"}e.isString=y;function D(t){return!y(t)}e.isIAction=D;function S(t){return!t}e.empty=S;function p(t,o){return t.ignoreCase&&o?o.toLowerCase():o}e.fixCase=p;function w(t){return t.replace(/[&<>'"_]/g,"-")}e.sanitize=w;function v(t,o){console.log(`${t.languageId}: ${o}`)}e.log=v;function b(t,o){return new Error(`${t.languageId}: ${o}`)}e.createError=b;function a(t,o,g,m,c){const d=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let s=null;return o.replace(d,function(l,r,h,u,f,C,_,E,I){return S(h)?S(u)?!S(f)&&f<m.length?p(t,m[f]):!S(_)&&t&&typeof t[_]=="string"?t[_]:(s===null&&(s=c.split("."),s.unshift(c)),!S(C)&&C<s.length?p(t,s[C]):""):p(t,g):"$"})}e.substituteMatches=a;function n(t,o){let g=o;for(;g&&g.length>0;){const m=t.tokenizer[g];if(m)return m;const c=g.lastIndexOf(".");c<0?g=null:g=g.substr(0,c)}return null}e.findRules=n;function i(t,o){let g=o;for(;g&&g.length>0;){if(t.stateNames[g])return!0;const c=g.lastIndexOf(".");c<0?g=null:g=g.substr(0,c)}return!1}e.stateExists=i}),define(ne[575],se([1,0,320]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function k(t,o){if(!o||!Array.isArray(o))return!1;for(const g of o)if(!t(g))return!1;return!0}function y(t,o){return typeof t=="boolean"?t:o}function D(t,o){return typeof t=="string"?t:o}function S(t){const o={};for(const g of t)o[g]=!0;return o}function p(t,o=!1){o&&(t=t.map(function(m){return m.toLowerCase()}));const g=S(t);return o?function(m){return g[m.toLowerCase()]!==void 0&&g.hasOwnProperty(m.toLowerCase())}:function(m){return g[m]!==void 0&&g.hasOwnProperty(m)}}function w(t,o){o=o.replace(/@@/g,"");let g=0,m;do m=!1,o=o.replace(/@(\w+)/g,function(d,s){m=!0;let l="";if(typeof t[s]=="string")l=t[s];else if(t[s]&&t[s]instanceof RegExp)l=t[s].source;else throw t[s]===void 0?L.createError(t,"language definition does not contain attribute '"+s+"', used at: "+o):L.createError(t,"attribute reference '"+s+"' must be a string, used at: "+o);return L.empty(l)?"":"(?:"+l+")"}),g++;while(m&&g<5);o=o.replace(/\x01/g,"@");const c=(t.ignoreCase?"i":"")+(t.unicode?"u":"");return new RegExp(o,c)}function v(t,o,g,m){if(m<0)return t;if(m<o.length)return o[m];if(m>=100){m=m-100;const c=g.split(".");if(c.unshift(g),m<c.length)return c[m]}return null}function b(t,o,g,m){let c=-1,d=g,s=g.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(c=parseInt(s[3]),s[2]&&(c=c+100)),d=s[4]);let l="~",r=d;!d||d.length===0?(l="!=",r=""):/^\w*$/.test(r)?l="==":(s=d.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(l=s[1],r=s[2]));let h;if((l==="~"||l==="!~")&&/^(\w|\|)*$/.test(r)){const u=p(r.split("|"),t.ignoreCase);h=function(f){return l==="~"?u(f):!u(f)}}else if(l==="@"||l==="!@"){const u=t[r];if(!u)throw L.createError(t,"the @ match target '"+r+"' is not defined, in rule: "+o);if(!k(function(C){return typeof C=="string"},u))throw L.createError(t,"the @ match target '"+r+"' must be an array of strings, in rule: "+o);const f=p(u,t.ignoreCase);h=function(C){return l==="@"?f(C):!f(C)}}else if(l==="~"||l==="!~")if(r.indexOf("$")<0){const u=w(t,"^"+r+"$");h=function(f){return l==="~"?u.test(f):!u.test(f)}}else h=function(u,f,C,_){return w(t,"^"+L.substituteMatches(t,r,f,C,_)+"$").test(u)};else if(r.indexOf("$")<0){const u=L.fixCase(t,r);h=function(f){return l==="=="?f===u:f!==u}}else{const u=L.fixCase(t,r);h=function(f,C,_,E,I){const T=L.substituteMatches(t,u,C,_,E);return l==="=="?f===T:f!==T}}return c===-1?{name:g,value:m,test:function(u,f,C,_){return h(u,u,f,C,_)}}:{name:g,value:m,test:function(u,f,C,_){const E=v(u,f,C,c);return h(E||"",u,f,C,_)}}}function a(t,o,g){if(g){if(typeof g=="string")return g;if(g.token||g.token===""){if(typeof g.token!="string")throw L.createError(t,"a 'token' attribute must be of type string, in rule: "+o);{const m={token:g.token};if(g.token.indexOf("$")>=0&&(m.tokenSubst=!0),typeof g.bracket=="string")if(g.bracket==="@open")m.bracket=1;else if(g.bracket==="@close")m.bracket=-1;else throw L.createError(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+o);if(g.next){if(typeof g.next!="string")throw L.createError(t,"the next state must be a string value in rule: "+o);{let c=g.next;if(!/^(@pop|@push|@popall)$/.test(c)&&(c[0]==="@"&&(c=c.substr(1)),c.indexOf("$")<0&&!L.stateExists(t,L.substituteMatches(t,c,"",[],""))))throw L.createError(t,"the next state '"+g.next+"' is not defined in rule: "+o);m.next=c}}return typeof g.goBack=="number"&&(m.goBack=g.goBack),typeof g.switchTo=="string"&&(m.switchTo=g.switchTo),typeof g.log=="string"&&(m.log=g.log),typeof g.nextEmbedded=="string"&&(m.nextEmbedded=g.nextEmbedded,t.usesEmbedded=!0),m}}else if(Array.isArray(g)){const m=[];for(let c=0,d=g.length;c<d;c++)m[c]=a(t,o,g[c]);return{group:m}}else if(g.cases){const m=[];for(const d in g.cases)if(g.cases.hasOwnProperty(d)){const s=a(t,o,g.cases[d]);d==="@default"||d==="@"||d===""?m.push({test:void 0,value:s,name:d}):d==="@eos"?m.push({test:function(l,r,h,u){return u},value:s,name:d}):m.push(b(t,o,d,s))}const c=t.defaultToken;return{test:function(d,s,l,r){for(const h of m)if(!h.test||h.test(d,s,l,r))return h.value;return c}}}else throw L.createError(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+o)}else return{token:""}}class n{constructor(o){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=o}setRegex(o,g){let m;if(typeof g=="string")m=g;else if(g instanceof RegExp)m=g.source;else throw L.createError(o,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=m.length>0&&m[0]==="^",this.name=this.name+": "+m,this.regex=w(o,"^(?:"+(this.matchOnlyAtLineStart?m.substr(1):m)+")")}setAction(o,g){this.action=a(o,this.name,g)}}function i(t,o){if(!o||typeof o!="object")throw new Error("Monarch: expecting a language definition object");const g={};g.languageId=t,g.includeLF=y(o.includeLF,!1),g.noThrow=!1,g.maxStack=100,g.start=typeof o.start=="string"?o.start:null,g.ignoreCase=y(o.ignoreCase,!1),g.unicode=y(o.unicode,!1),g.tokenPostfix=D(o.tokenPostfix,"."+g.languageId),g.defaultToken=D(o.defaultToken,"source"),g.usesEmbedded=!1;const m=o;m.languageId=t,m.includeLF=g.includeLF,m.ignoreCase=g.ignoreCase,m.unicode=g.unicode,m.noThrow=g.noThrow,m.usesEmbedded=g.usesEmbedded,m.stateNames=o.tokenizer,m.defaultToken=g.defaultToken;function c(s,l,r){for(const h of r){let u=h.include;if(u){if(typeof u!="string")throw L.createError(g,"an 'include' attribute must be a string at: "+s);if(u[0]==="@"&&(u=u.substr(1)),!o.tokenizer[u])throw L.createError(g,"include target '"+u+"' is not defined at: "+s);c(s+"."+u,l,o.tokenizer[u])}else{const f=new n(s);if(Array.isArray(h)&&h.length>=1&&h.length<=3)if(f.setRegex(m,h[0]),h.length>=3)if(typeof h[1]=="string")f.setAction(m,{token:h[1],next:h[2]});else if(typeof h[1]=="object"){const C=h[1];C.next=h[2],f.setAction(m,C)}else throw L.createError(g,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+s);else f.setAction(m,h[1]);else{if(!h.regex)throw L.createError(g,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+s);h.name&&typeof h.name=="string"&&(f.name=h.name),h.matchOnlyAtStart&&(f.matchOnlyAtLineStart=y(h.matchOnlyAtLineStart,!1)),f.setRegex(m,h.regex),f.setAction(m,h.action)}l.push(f)}}}if(!o.tokenizer||typeof o.tokenizer!="object")throw L.createError(g,"a language definition must define the 'tokenizer' attribute as an object");g.tokenizer=[];for(const s in o.tokenizer)if(o.tokenizer.hasOwnProperty(s)){g.start||(g.start=s);const l=o.tokenizer[s];g.tokenizer[s]=new Array,c("tokenizer."+s,g.tokenizer[s],l)}if(g.usesEmbedded=m.usesEmbedded,o.brackets){if(!Array.isArray(o.brackets))throw L.createError(g,"the 'brackets' attribute must be defined as an array")}else o.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const d=[];for(const s of o.brackets){let l=s;if(l&&Array.isArray(l)&&l.length===3&&(l={token:l[2],open:l[0],close:l[1]}),l.open===l.close)throw L.createError(g,"open and close brackets in a 'brackets' attribute must be different: "+l.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof l.open=="string"&&typeof l.token=="string"&&typeof l.close=="string")d.push({token:l.token+g.tokenPostfix,open:L.fixCase(g,l.open),close:L.fixCase(g,l.close)});else throw L.createError(g,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return g.brackets=d,g.noThrow=!0,g}e.compile=i}),define(ne[576],se([3,4]),function(ee,e){return ee.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ne[577],se([3,4]),function(ee,e){return ee.create("vs/base/browser/ui/findinput/findInput",e)}),define(ne[578],se([3,4]),function(ee,e){return ee.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(ne[579],se([3,4]),function(ee,e){return ee.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ne[580],se([3,4]),function(ee,e){return ee.create("vs/base/browser/ui/hover/hoverWidget",e)}),define(ne[581],se([3,4]),function(ee,e){return ee.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(ne[582],se([3,4]),function(ee,e){return ee.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ne[583],se([3,4]),function(ee,e){return ee.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ne[584],se([3,4]),function(ee,e){return ee.create("vs/base/browser/ui/selectBox/selectBoxCustom",e)}),define(ne[585],se([3,4]),function(ee,e){return ee.create("vs/base/browser/ui/toolbar/toolbar",e)}),define(ne[586],se([3,4]),function(ee,e){return ee.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ne[587],se([3,4]),function(ee,e){return ee.create("vs/base/common/actions",e)}),define(ne[42],se([1,0,7,2,587]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toAction=e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class D extends k.Disposable{constructor(n,i="",t="",o=!0,g){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=n,this._label=i,this._cssClass=t,this._enabled=o,this._actionCallback=g}get id(){return this._id}get label(){return this._label}set label(n){this._setLabel(n)}_setLabel(n){this._label!==n&&(this._label=n,this._onDidChange.fire({label:n}))}get tooltip(){return this._tooltip||""}set tooltip(n){this._setTooltip(n)}_setTooltip(n){this._tooltip!==n&&(this._tooltip=n,this._onDidChange.fire({tooltip:n}))}get class(){return this._cssClass}set class(n){this._setClass(n)}_setClass(n){this._cssClass!==n&&(this._cssClass=n,this._onDidChange.fire({class:n}))}get enabled(){return this._enabled}set enabled(n){this._setEnabled(n)}_setEnabled(n){this._enabled!==n&&(this._enabled=n,this._onDidChange.fire({enabled:n}))}get checked(){return this._checked}set checked(n){this._setChecked(n)}_setChecked(n){this._checked!==n&&(this._checked=n,this._onDidChange.fire({checked:n}))}async run(n,i){this._actionCallback&&await this._actionCallback(n)}}e.Action=D;class S extends k.Disposable{constructor(){super(...arguments),this._onWillRun=this._register(new L.Emitter),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new L.Emitter),this.onDidRun=this._onDidRun.event}async run(n,i){if(!n.enabled)return;this._onWillRun.fire({action:n});let t;try{await this.runAction(n,i)}catch(o){t=o}this._onDidRun.fire({action:n,error:t})}async runAction(n,i){await n.run(i)}}e.ActionRunner=S;class p{constructor(){this.id=p.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...n){let i=[];for(const t of n)t.length&&(i.length?i=[...i,new p,...t]:i=t);return i}async run(){}}e.Separator=p,p.ID="vs.actions.separator";class w{get actions(){return this._actions}constructor(n,i,t,o){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=n,this.label=i,this.class=o,this._actions=t}async run(){}}e.SubmenuAction=w;class v extends D{constructor(){super(v.ID,y.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=v,v.ID="vs.actions.empty";function b(a){var n;return{id:a.id,label:a.label,class:a.class,enabled:(n=a.enabled)!==null&&n!==void 0?n:!0,checked:a.checked,run:async(...i)=>a.run(...i),tooltip:a.label}}e.toAction=b}),define(ne[588],se([1,0,42]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionRunnerWithContext=void 0;class k extends L.ActionRunner{constructor(D){super(),this._getContext=D}runAction(D,S){return super.runAction(D,this._getContext())}}e.ActionRunnerWithContext=k}),define(ne[589],se([3,4]),function(ee,e){return ee.create("vs/base/common/errorMessage",e)}),define(ne[590],se([1,0,13,20,589]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function D(v,b){return b&&(v.stack||v.stacktrace)?y.localize(0,null,p(v),S(v.stack)||S(v.stacktrace)):p(v)}function S(v){return Array.isArray(v)?v.join(`
`):v}function p(v){return v.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${v.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof v.code=="string"&&typeof v.errno=="number"&&typeof v.syscall=="string"?y.localize(1,null,v.message):v.message||y.localize(2,null)}function w(v=null,b=!1){if(!v)return y.localize(3,null);if(Array.isArray(v)){const a=L.coalesce(v),n=w(a[0],b);return a.length>1?y.localize(4,null,n,a.length):n}if(k.isString(v))return v;if(v.detail){const a=v.detail;if(a.error)return D(a.error,b);if(a.exception)return D(a.exception,b)}return v.stack?D(v,b):v.message?v.message:y.localize(5,null)}e.toErrorMessage=w}),define(ne[591],se([3,4]),function(ee,e){return ee.create("vs/base/common/keybindingLabels",e)}),define(ne[224],se([1,0,591]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(S,p,w=p){this.modifierLabels=[null],this.modifierLabels[2]=S,this.modifierLabels[1]=p,this.modifierLabels[3]=w}toLabel(S,p,w){if(p.length===0)return null;const v=[];for(let b=0,a=p.length;b<a;b++){const n=p[b],i=w(n);if(i===null)return null;v[b]=y(n,i,this.modifierLabels[S])}return v.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:L.localize(0,null),shiftKey:L.localize(1,null),altKey:L.localize(2,null),metaKey:L.localize(3,null),separator:"+"},{ctrlKey:L.localize(4,null),shiftKey:L.localize(5,null),altKey:L.localize(6,null),metaKey:L.localize(7,null),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:L.localize(8,null),shiftKey:L.localize(9,null),altKey:L.localize(10,null),metaKey:L.localize(11,null),separator:"+"},{ctrlKey:L.localize(12,null),shiftKey:L.localize(13,null),altKey:L.localize(14,null),metaKey:L.localize(15,null),separator:"+"},{ctrlKey:L.localize(16,null),shiftKey:L.localize(17,null),altKey:L.localize(18,null),metaKey:L.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new k({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new k({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function y(D,S,p){if(S===null)return"";const w=[];return D.ctrlKey&&w.push(p.ctrlKey),D.shiftKey&&w.push(p.shiftKey),D.altKey&&w.push(p.altKey),D.metaKey&&w.push(p.metaKey),S!==""&&w.push(S),w.join(p.separator)}}),define(ne[592],se([3,4]),function(ee,e){return ee.create("vs/base/common/platform",e)}),define(ne[17],se([1,0,592]),function(ee,e,L){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isMobile=e.isIOS=e.webWorkerOrigin=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.LANGUAGE_DEFAULT=void 0,e.LANGUAGE_DEFAULT="en";let y=!1,D=!1,S=!1,p=!1,w=!1,v=!1,b=!1,a=!1,n=!1,i=!1,t,o=e.LANGUAGE_DEFAULT,g=e.LANGUAGE_DEFAULT,m,c;const d=globalThis;let s;typeof d.vscode<"u"&&typeof d.vscode.process<"u"?s=d.vscode.process:typeof process<"u"&&(s=process);const l=typeof((k=s?.versions)===null||k===void 0?void 0:k.electron)=="string",r=l&&s?.type==="renderer";if(typeof s=="object"){y=s.platform==="win32",D=s.platform==="darwin",S=s.platform==="linux",p=S&&!!s.env.SNAP&&!!s.env.SNAP_REVISION,b=l,n=!!s.env.CI||!!s.env.BUILD_ARTIFACTSTAGINGDIRECTORY,t=e.LANGUAGE_DEFAULT,o=e.LANGUAGE_DEFAULT;const _=s.env.VSCODE_NLS_CONFIG;if(_)try{const E=JSON.parse(_),I=E.availableLanguages["*"];t=E.locale,g=E.osLocale,o=I||e.LANGUAGE_DEFAULT,m=E._translationsConfigFile}catch{}w=!0}else typeof navigator=="object"&&!r?(c=navigator.userAgent,y=c.indexOf("Windows")>=0,D=c.indexOf("Macintosh")>=0,a=(c.indexOf("Macintosh")>=0||c.indexOf("iPad")>=0||c.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=c.indexOf("Linux")>=0,i=c?.indexOf("Mobi")>=0,v=!0,t=L.getConfiguredDefaultLocale(L.localize(0,null))||e.LANGUAGE_DEFAULT,o=t,g=navigator.language):console.error("Unable to resolve platform.");let h=0;D?h=1:y?h=3:S&&(h=2),e.isWindows=y,e.isMacintosh=D,e.isLinux=S,e.isNative=w,e.isWeb=v,e.isWebWorker=v&&typeof d.importScripts=="function",e.webWorkerOrigin=e.isWebWorker?d.origin:void 0,e.isIOS=a,e.isMobile=i,e.userAgent=c,e.language=o,e.setTimeout0IsFaster=typeof d.postMessage=="function"&&!d.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const _=[];d.addEventListener("message",I=>{if(I.data&&I.data.vscodeScheduleAsyncWork)for(let T=0,A=_.length;T<A;T++){const R=_[T];if(R.id===I.data.vscodeScheduleAsyncWork){_.splice(T,1),R.callback();return}}});let E=0;return I=>{const T=++E;_.push({id:T,callback:I}),d.postMessage({vscodeScheduleAsyncWork:T},"*")}}return _=>setTimeout(_)})(),e.OS=D||a?2:y?1:3;let u=!0,f=!1;function C(){if(!f){f=!0;const _=new Uint8Array(2);_[0]=1,_[1]=2,u=new Uint16Array(_.buffer)[0]===513}return u}e.isLittleEndian=C,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(ne[225],se([1,0,59,50,17]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:y.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:y.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:y.isNative||L.isStandalone()?0:navigator.keyboard||L.isSafari?1:2,touch:"ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0,pointerEvents:k.mainWindow.PointerEvent&&("ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0)}}),define(ne[46],se([1,0,59,66,127,17]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function S(n){if(n.charCode){const t=String.fromCharCode(n.charCode).toUpperCase();return k.KeyCodeUtils.fromString(t)}const i=n.keyCode;if(i===3)return 7;if(L.isFirefox)switch(i){case 59:return 85;case 60:if(D.isLinux)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(D.isMacintosh)return 57;break}else if(L.isWebKit){if(D.isMacintosh&&i===93)return 57;if(!D.isMacintosh&&i===92)return 57}return k.EVENT_KEY_CODE_MAP[i]||0}const p=D.isMacintosh?256:2048,w=512,v=1024,b=D.isMacintosh?2048:256;class a{constructor(i){this._standardKeyboardEventBrand=!0;const t=i;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState("AltGraph"),this.keyCode=S(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(i){return this._asKeybinding===i}_computeKeybinding(){let i=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode);let t=0;return this.ctrlKey&&(t|=p),this.altKey&&(t|=w),this.shiftKey&&(t|=v),this.metaKey&&(t|=b),t|=i,t}_computeKeyCodeChord(){let i=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode),new y.KeyCodeChord(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,i)}}e.StandardKeyboardEvent=a}),define(ne[69],se([1,0,59,401,17]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(w,v){this.timestamp=Date.now(),this.browserEvent=v,this.leftButton=v.button===0,this.middleButton=v.button===1,this.rightButton=v.button===2,this.buttons=v.buttons,this.target=v.target,this.detail=v.detail||1,v.type==="dblclick"&&(this.detail=2),this.ctrlKey=v.ctrlKey,this.shiftKey=v.shiftKey,this.altKey=v.altKey,this.metaKey=v.metaKey,typeof v.pageX=="number"?(this.posx=v.pageX,this.posy=v.pageY):(this.posx=v.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=v.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const b=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(w,v.view);this.posx-=b.left,this.posy-=b.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class S{constructor(w,v=0,b=0){var a;this.browserEvent=w||null,this.target=w?w.target||w.targetNode||w.srcElement:null,this.deltaY=b,this.deltaX=v;let n=!1;if(L.isChrome){const i=navigator.userAgent.match(/Chrome\/(\d+)/);n=(i?parseInt(i[1]):123)<=122}if(w){const i=w,t=w,o=((a=w.view)===null||a===void 0?void 0:a.devicePixelRatio)||1;if(typeof i.wheelDeltaY<"u")n?this.deltaY=i.wheelDeltaY/(120*o):this.deltaY=i.wheelDeltaY/120;else if(typeof t.VERTICAL_AXIS<"u"&&t.axis===t.VERTICAL_AXIS)this.deltaY=-t.detail/3;else if(w.type==="wheel"){const g=w;g.deltaMode===g.DOM_DELTA_LINE?L.isFirefox&&!y.isMacintosh?this.deltaY=-w.deltaY/3:this.deltaY=-w.deltaY:this.deltaY=-w.deltaY/40}if(typeof i.wheelDeltaX<"u")L.isSafari&&y.isWindows?this.deltaX=-(i.wheelDeltaX/120):n?this.deltaX=i.wheelDeltaX/(120*o):this.deltaX=i.wheelDeltaX/120;else if(typeof t.HORIZONTAL_AXIS<"u"&&t.axis===t.HORIZONTAL_AXIS)this.deltaX=-w.detail/3;else if(w.type==="wheel"){const g=w;g.deltaMode===g.DOM_DELTA_LINE?L.isFirefox&&!y.isMacintosh?this.deltaX=-w.deltaX/3:this.deltaX=-w.deltaX:this.deltaX=-w.deltaX/40}this.deltaY===0&&this.deltaX===0&&w.wheelDelta&&(n?this.deltaY=w.wheelDelta/(120*o):this.deltaY=w.wheelDelta/120)}}preventDefault(){var w;(w=this.browserEvent)===null||w===void 0||w.preventDefault()}stopPropagation(){var w;(w=this.browserEvent)===null||w===void 0||w.stopPropagation()}}e.StandardWheelEvent=S}),define(ne[15],se([1,0,19,12,7,2,17,279]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.GlobalIdleValue=e.AbstractIdleValue=e._runWhenIdle=e.runWhenGlobalIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function w(I){return!!I&&typeof I.then=="function"}e.isThenable=w;function v(I){const T=new L.CancellationTokenSource,A=I(T.token),R=new Promise((M,N)=>{const P=T.token.onCancellationRequested(()=>{P.dispose(),N(new k.CancellationError)});Promise.resolve(A).then(F=>{P.dispose(),T.dispose(),M(F)},F=>{P.dispose(),T.dispose(),N(F)})});return new class{cancel(){T.cancel(),T.dispose()}then(M,N){return R.then(M,N)}catch(M){return this.then(void 0,M)}finally(M){return R.finally(M)}}}e.createCancelablePromise=v;function b(I,T,A){return new Promise((R,M)=>{const N=T.onCancellationRequested(()=>{N.dispose(),R(A)});I.then(R,M).finally(()=>N.dispose())})}e.raceCancellation=b;class a{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(T){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=T,!this.queuedPromise){const A=()=>{if(this.queuedPromise=null,this.isDisposed)return;const R=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,R};this.queuedPromise=new Promise(R=>{this.activePromise.then(A,A).then(R)})}return new Promise((A,R)=>{this.queuedPromise.then(A,R)})}return this.activePromise=T(),new Promise((A,R)=>{this.activePromise.then(M=>{this.activePromise=null,A(M)},M=>{this.activePromise=null,R(M)})})}dispose(){this.isDisposed=!0}}e.Throttler=a;const n=(I,T)=>{let A=!0;const R=setTimeout(()=>{A=!1,T()},I);return{isTriggered:()=>A,dispose:()=>{clearTimeout(R),A=!1}}},i=I=>{let T=!0;return queueMicrotask(()=>{T&&(T=!1,I())}),{isTriggered:()=>T,dispose:()=>{T=!1}}};class t{constructor(T){this.defaultDelay=T,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(T,A=this.defaultDelay){this.task=T,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((M,N)=>{this.doResolve=M,this.doReject=N}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const M=this.task;return this.task=null,M()}}));const R=()=>{var M;this.deferred=null,(M=this.doResolve)===null||M===void 0||M.call(this,null)};return this.deferred=A===p.MicrotaskDelay?i(R):n(A,R),this.completionPromise}isTriggered(){var T;return!!(!((T=this.deferred)===null||T===void 0)&&T.isTriggered())}cancel(){var T;this.cancelTimeout(),this.completionPromise&&((T=this.doReject)===null||T===void 0||T.call(this,new k.CancellationError),this.completionPromise=null)}cancelTimeout(){var T;(T=this.deferred)===null||T===void 0||T.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=t;class o{constructor(T){this.delayer=new t(T),this.throttler=new a}trigger(T,A){return this.delayer.trigger(()=>this.throttler.queue(T),A)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}e.ThrottledDelayer=o;function g(I,T){return T?new Promise((A,R)=>{const M=setTimeout(()=>{N.dispose(),A()},I),N=T.onCancellationRequested(()=>{clearTimeout(M),N.dispose(),R(new k.CancellationError)})}):v(A=>g(I,A))}e.timeout=g;function m(I,T=0,A){const R=setTimeout(()=>{I(),A&&M.dispose()},T),M=(0,D.toDisposable)(()=>{clearTimeout(R),A?.deleteAndLeak(M)});return A?.add(M),M}e.disposableTimeout=m;function c(I,T=R=>!!R,A=null){let R=0;const M=I.length,N=()=>{if(R>=M)return Promise.resolve(A);const P=I[R++];return Promise.resolve(P()).then(O=>T(O)?Promise.resolve(O):N())};return N()}e.first=c;class d{constructor(T,A){this._token=-1,typeof T=="function"&&typeof A=="number"&&this.setIfNotSet(T,A)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(T,A){this.cancel(),this._token=setTimeout(()=>{this._token=-1,T()},A)}setIfNotSet(T,A){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,T()},A))}}e.TimeoutTimer=d;class s{constructor(){this.disposable=void 0}cancel(){var T;(T=this.disposable)===null||T===void 0||T.dispose(),this.disposable=void 0}cancelAndSet(T,A,R=globalThis){this.cancel();const M=R.setInterval(()=>{T()},A);this.disposable=(0,D.toDisposable)(()=>{R.clearInterval(M),this.disposable=void 0})}dispose(){this.cancel()}}e.IntervalTimer=s;class l{constructor(T,A){this.timeoutToken=-1,this.runner=T,this.timeout=A,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(T=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,T)}get delay(){return this.timeout}set delay(T){this.timeout=T}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var T;(T=this.runner)===null||T===void 0||T.call(this)}}e.RunOnceScheduler=l,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e._runWhenIdle=(I,T)=>{(0,S.setTimeout0)(()=>{if(A)return;const R=Date.now()+15;T(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,R-Date.now())}}))});let A=!1;return{dispose(){A||(A=!0)}}}:e._runWhenIdle=(I,T,A)=>{const R=I.requestIdleCallback(T,typeof A=="number"?{timeout:A}:void 0);let M=!1;return{dispose(){M||(M=!0,I.cancelIdleCallback(R))}}},e.runWhenGlobalIdle=I=>(0,e._runWhenIdle)(globalThis,I)}();class r{constructor(T,A){this._didRun=!1,this._executor=()=>{try{this._value=A()}catch(R){this._error=R}finally{this._didRun=!0}},this._handle=(0,e._runWhenIdle)(T,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.AbstractIdleValue=r;class h extends r{constructor(T){super(globalThis,T)}}e.GlobalIdleValue=h;class u{get isRejected(){var T;return((T=this.outcome)===null||T===void 0?void 0:T.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((T,A)=>{this.completeCallback=T,this.errorCallback=A})}complete(T){return new Promise(A=>{this.completeCallback(T),this.outcome={outcome:0,value:T},A()})}error(T){return new Promise(A=>{this.errorCallback(T),this.outcome={outcome:1,value:T},A()})}cancel(){return this.error(new k.CancellationError)}}e.DeferredPromise=u;var f;(function(I){async function T(R){let M;const N=await Promise.all(R.map(P=>P.then(F=>F,F=>{M||(M=F)})));if(typeof M<"u")throw M;return N}I.settled=T;function A(R){return new Promise(async(M,N)=>{try{await R(M,N)}catch(P){N(P)}})}I.withAsyncBody=A})(f||(e.Promises=f={}));class C{static fromArray(T){return new C(A=>{A.emitMany(T)})}static fromPromise(T){return new C(async A=>{A.emitMany(await T)})}static fromPromises(T){return new C(async A=>{await Promise.all(T.map(async R=>A.emitOne(await R)))})}static merge(T){return new C(async A=>{await Promise.all(T.map(async R=>{for await(const M of R)A.emitOne(M)}))})}constructor(T){this._state=0,this._results=[],this._error=null,this._onStateChanged=new y.Emitter,queueMicrotask(async()=>{const A={emitOne:R=>this.emitOne(R),emitMany:R=>this.emitMany(R),reject:R=>this.reject(R)};try{await Promise.resolve(T(A)),this.resolve()}catch(R){this.reject(R)}finally{A.emitOne=void 0,A.emitMany=void 0,A.reject=void 0}})}[Symbol.asyncIterator](){let T=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(T<this._results.length)return{done:!1,value:this._results[T++]};if(this._state===1)return{done:!0,value:void 0};await y.Event.toPromise(this._onStateChanged.event)}while(!0)}}}static map(T,A){return new C(async R=>{for await(const M of T)R.emitOne(A(M))})}map(T){return C.map(this,T)}static filter(T,A){return new C(async R=>{for await(const M of T)A(M)&&R.emitOne(M)})}filter(T){return C.filter(this,T)}static coalesce(T){return C.filter(T,A=>!!A)}coalesce(){return C.coalesce(this)}static async toPromise(T){const A=[];for await(const R of T)A.push(R);return A}toPromise(){return C.toPromise(this)}emitOne(T){this._state===0&&(this._results.push(T),this._onStateChanged.fire())}emitMany(T){this._state===0&&(this._results=this._results.concat(T),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(T){this._state===0&&(this._state=2,this._error=T,this._onStateChanged.fire())}}e.AsyncIterableObject=C,C.EMPTY=C.fromArray([]);class _ extends C{constructor(T,A){super(A),this._source=T}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=_;function E(I){const T=new L.CancellationTokenSource,A=I(T.token);return new _(T,async R=>{const M=T.token.onCancellationRequested(()=>{M.dispose(),T.dispose(),R.reject(new k.CancellationError)});try{for await(const N of A){if(T.token.isCancellationRequested)return;R.emitOne(N)}M.dispose(),T.dispose()}catch(N){M.dispose(),T.dispose(),R.reject(N)}})}e.createCancelableAsyncIterable=E}),define(ne[593],se([1,0,15,2]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class y extends k.Disposable{constructor(S,p,w){super(),this._visibility=S,this._visibleClassName=p,this._invisibleClassName=w,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new L.TimeoutTimer)}setVisibility(S){this._visibility!==S&&(this._visibility=S,this._updateShouldBeVisible())}setShouldBeVisible(S){this._rawShouldBeVisible=S,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const S=this._applyVisibilitySetting();this._shouldBeVisible!==S&&(this._shouldBeVisible=S,this.ensureVisibility())}setIsNeeded(S){this._isNeeded!==S&&(this._isNeeded=S,this.ensureVisibility())}setDomNode(S){this._domNode=S,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var S;(S=this._domNode)===null||S===void 0||S.setClassName(this._visibleClassName)},0))}_hide(S){var p;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(p=this._domNode)===null||p===void 0||p.setClassName(this._invisibleClassName+(S?" fade":"")))}}e.ScrollbarVisibilityController=y}),define(ne[226],se([1,0,148,13,15,279,176,7,52]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function v(i){return typeof i=="object"&&"visibility"in i&&"data"in i}e.isFilterResult=v;function b(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}e.getVisibleState=b;function a(i){return typeof i.collapsible=="boolean"}class n{constructor(t,o,g,m={}){this.user=t,this.list=o,this.rootRef=[],this.eventBufferer=new p.EventBufferer,this._onDidChangeCollapseState=new p.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new p.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new p.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new y.Delayer(D.MicrotaskDelay),this.collapseByDefault=typeof m.collapseByDefault>"u"?!1:m.collapseByDefault,this.filter=m.filter,this.autoExpandSingleChildren=typeof m.autoExpandSingleChildren>"u"?!1:m.autoExpandSingleChildren,this.root={parent:void 0,element:g,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,o,g=w.Iterable.empty(),m={}){if(t.length===0)throw new L.TreeError(this.user,"Invalid tree location");m.diffIdentityProvider?this.spliceSmart(m.diffIdentityProvider,t,o,g,m):this.spliceSimple(t,o,g,m)}spliceSmart(t,o,g,m,c,d){var s;m===void 0&&(m=w.Iterable.empty()),d===void 0&&(d=(s=c.diffDepth)!==null&&s!==void 0?s:0);const{parentNode:l}=this.getParentNodeWithListIndex(o);if(!l.lastDiffIds)return this.spliceSimple(o,g,m,c);const r=[...m],h=o[o.length-1],u=new S.LcsDiff({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,h),...r,...l.children.slice(h+g)].map(I=>t.getId(I.element).toString())}).ComputeDiff(!1);if(u.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(o,g,r,c);const f=o.slice(0,-1),C=(I,T,A)=>{if(d>0)for(let R=0;R<A;R++)I--,T--,this.spliceSmart(t,[...f,I,0],Number.MAX_SAFE_INTEGER,r[T].children,c,d-1)};let _=Math.min(l.children.length,h+g),E=r.length;for(const I of u.changes.sort((T,A)=>A.originalStart-T.originalStart))C(_,E,_-(I.originalStart+I.originalLength)),_=I.originalStart,E=I.modifiedStart-h,this.spliceSimple([...f,_],I.originalLength,w.Iterable.slice(r,E,E+I.modifiedLength),c);C(_,E,_)}spliceSimple(t,o,g=w.Iterable.empty(),{onDidCreateNode:m,onDidDeleteNode:c,diffIdentityProvider:d}){const{parentNode:s,listIndex:l,revealed:r,visible:h}=this.getParentNodeWithListIndex(t),u=[],f=w.Iterable.map(g,N=>this.createTreeNode(N,s,s.visible?1:0,r,u,m)),C=t[t.length-1];let _=0;for(let N=C;N>=0&&N<s.children.length;N--){const P=s.children[N];if(P.visible){_=P.visibleChildIndex;break}}const E=[];let I=0,T=0;for(const N of f)E.push(N),T+=N.renderNodeCount,N.visible&&(N.visibleChildIndex=_+I++);const A=(0,k.splice)(s.children,C,o,E);d?s.lastDiffIds?(0,k.splice)(s.lastDiffIds,C,o,E.map(N=>d.getId(N.element).toString())):s.lastDiffIds=s.children.map(N=>d.getId(N.element).toString()):s.lastDiffIds=void 0;let R=0;for(const N of A)N.visible&&R++;if(R!==0)for(let N=C+E.length;N<s.children.length;N++){const P=s.children[N];P.visible&&(P.visibleChildIndex-=R)}if(s.visibleChildrenCount+=I-R,r&&h){const N=A.reduce((P,F)=>P+(F.visible?F.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(s,T-N),this.list.splice(l,N,u)}if(A.length>0&&c){const N=P=>{c(P),P.children.forEach(N)};A.forEach(N)}this._onDidSplice.fire({insertedNodes:E,deletedNodes:A});let M=s;for(;M;){if(M.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}M=M.parent}}rerender(t){if(t.length===0)throw new L.TreeError(this.user,"Invalid tree location");const{node:o,listIndex:g,revealed:m}=this.getTreeNodeWithListIndex(t);o.visible&&m&&this.list.splice(g,1,[o])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:o,visible:g,revealed:m}=this.getTreeNodeWithListIndex(t);return g&&m?o:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,o){const g=this.getTreeNode(t);typeof o>"u"&&(o=!g.collapsible);const m={collapsible:o};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,m))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,o,g){const m=this.getTreeNode(t);typeof o>"u"&&(o=!m.collapsed);const c={collapsed:o,recursive:g||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,c))}_setCollapseState(t,o){const{node:g,listIndex:m,revealed:c}=this.getTreeNodeWithListIndex(t),d=this._setListNodeCollapseState(g,m,c,o);if(g!==this.root&&this.autoExpandSingleChildren&&d&&!a(o)&&g.collapsible&&!g.collapsed&&!o.recursive){let s=-1;for(let l=0;l<g.children.length;l++)if(g.children[l].visible)if(s>-1){s=-1;break}else s=l;s>-1&&this._setCollapseState([...t,s],o)}return d}_setListNodeCollapseState(t,o,g,m){const c=this._setNodeCollapseState(t,m,!1);if(!g||!t.visible||!c)return c;const d=t.renderNodeCount,s=this.updateNodeAfterCollapseChange(t),l=d-(o===-1?0:1);return this.list.splice(o+1,l,s.slice(1)),c}_setNodeCollapseState(t,o,g){let m;if(t===this.root?m=!1:(a(o)?(m=t.collapsible!==o.collapsible,t.collapsible=o.collapsible):t.collapsible?(m=t.collapsed!==o.collapsed,t.collapsed=o.collapsed):m=!1,m&&this._onDidChangeCollapseState.fire({node:t,deep:g})),!a(o)&&o.recursive)for(const c of t.children)m=this._setNodeCollapseState(c,o,!0)||m;return m}expandTo(t){this.eventBufferer.bufferEvents(()=>{let o=this.getTreeNode(t);for(;o.parent;)o=o.parent,t=t.slice(0,t.length-1),o.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,o=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,o),this.refilterDelayer.cancel()}createTreeNode(t,o,g,m,c,d){const s={parent:o,element:t.element,children:[],depth:o.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed<"u",collapsed:typeof t.collapsed>"u"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(s,g);s.visibility=l,m&&c.push(s);const r=t.children||w.Iterable.empty(),h=m&&l!==0&&!s.collapsed;let u=0,f=1;for(const C of r){const _=this.createTreeNode(C,s,l,h,c,d);s.children.push(_),f+=_.renderNodeCount,_.visible&&(_.visibleChildIndex=u++)}return s.collapsible=s.collapsible||s.children.length>0,s.visibleChildrenCount=u,s.visible=l===2?u>0:l===1,s.visible?s.collapsed||(s.renderNodeCount=f):(s.renderNodeCount=0,m&&c.pop()),d?.(s),s}updateNodeAfterCollapseChange(t){const o=t.renderNodeCount,g=[];return this._updateNodeAfterCollapseChange(t,g),this._updateAncestorsRenderNodeCount(t.parent,g.length-o),g}_updateNodeAfterCollapseChange(t,o){if(t.visible===!1)return 0;if(o.push(t),t.renderNodeCount=1,!t.collapsed)for(const g of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(g,o);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const o=t.renderNodeCount,g=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,g),this._updateAncestorsRenderNodeCount(t.parent,g.length-o),g}_updateNodeAfterFilterChange(t,o,g,m=!0){let c;if(t!==this.root){if(c=this._filterNode(t,o),c===0)return t.visible=!1,t.renderNodeCount=0,!1;m&&g.push(t)}const d=g.length;t.renderNodeCount=t===this.root?0:1;let s=!1;if(!t.collapsed||c!==0){let l=0;for(const r of t.children)s=this._updateNodeAfterFilterChange(r,c,g,m&&!t.collapsed)||s,r.visible&&(r.visibleChildIndex=l++);t.visibleChildrenCount=l}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=c===2?s:c===1,t.visibility=c),t.visible?t.collapsed||(t.renderNodeCount+=g.length-d):(t.renderNodeCount=0,m&&g.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,o){if(o!==0)for(;t;)t.renderNodeCount+=o,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,o){const g=this.filter?this.filter.filter(t.element,o):1;return typeof g=="boolean"?(t.filterData=void 0,g?1:0):v(g)?(t.filterData=g.data,b(g.visibility)):(t.filterData=void 0,b(g))}hasTreeNode(t,o=this.root){if(!t||t.length===0)return!0;const[g,...m]=t;return g<0||g>o.children.length?!1:this.hasTreeNode(m,o.children[g])}getTreeNode(t,o=this.root){if(!t||t.length===0)return o;const[g,...m]=t;if(g<0||g>o.children.length)throw new L.TreeError(this.user,"Invalid tree location");return this.getTreeNode(m,o.children[g])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:o,listIndex:g,revealed:m,visible:c}=this.getParentNodeWithListIndex(t),d=t[t.length-1];if(d<0||d>o.children.length)throw new L.TreeError(this.user,"Invalid tree location");const s=o.children[d];return{node:s,listIndex:g,revealed:m,visible:c&&s.visible}}getParentNodeWithListIndex(t,o=this.root,g=0,m=!0,c=!0){const[d,...s]=t;if(d<0||d>o.children.length)throw new L.TreeError(this.user,"Invalid tree location");for(let l=0;l<d;l++)g+=o.children[l].renderNodeCount;return m=m&&!o.collapsed,c=c&&o.visible,s.length===0?{parentNode:o,listIndex:g,revealed:m,visible:c}:this.getParentNodeWithListIndex(s,o.children[d],g+1,m,c)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const o=[];let g=t;for(;g.parent;)o.push(g.parent.children.indexOf(g)),g=g.parent;return o.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,k.tail2)(t)[0]}getFirstElementChild(t){const o=this.getTreeNode(t);if(o.children.length!==0)return o.children[0].element}}e.IndexTreeModel=n}),define(ne[227],se([1,0,226,148,52]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(p,w,v={}){this.user=p,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new L.IndexTreeModel(p,w,null,v),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,v.sorter&&(this.sorter={compare(b,a){return v.sorter.compare(b.element,a.element)}}),this.identityProvider=v.identityProvider}setChildren(p,w=y.Iterable.empty(),v={}){const b=this.getElementLocation(p);this._setChildren(b,this.preserveCollapseState(w),v)}_setChildren(p,w=y.Iterable.empty(),v){const b=new Set,a=new Set,n=t=>{var o;if(t.element===null)return;const g=t;if(b.add(g.element),this.nodes.set(g.element,g),this.identityProvider){const m=this.identityProvider.getId(g.element).toString();a.add(m),this.nodesByIdentity.set(m,g)}(o=v.onDidCreateNode)===null||o===void 0||o.call(v,g)},i=t=>{var o;if(t.element===null)return;const g=t;if(b.has(g.element)||this.nodes.delete(g.element),this.identityProvider){const m=this.identityProvider.getId(g.element).toString();a.has(m)||this.nodesByIdentity.delete(m)}(o=v.onDidDeleteNode)===null||o===void 0||o.call(v,g)};this.model.splice([...p,0],Number.MAX_VALUE,w,{...v,onDidCreateNode:n,onDidDeleteNode:i})}preserveCollapseState(p=y.Iterable.empty()){return this.sorter&&(p=[...p].sort(this.sorter.compare.bind(this.sorter))),y.Iterable.map(p,w=>{let v=this.nodes.get(w.element);if(!v&&this.identityProvider){const n=this.identityProvider.getId(w.element).toString();v=this.nodesByIdentity.get(n)}if(!v){let n;return typeof w.collapsed>"u"?n=void 0:w.collapsed===k.ObjectTreeElementCollapseState.Collapsed||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed?n=!0:w.collapsed===k.ObjectTreeElementCollapseState.Expanded||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?n=!1:n=!!w.collapsed,{...w,children:this.preserveCollapseState(w.children),collapsed:n}}const b=typeof w.collapsible=="boolean"?w.collapsible:v.collapsible;let a;return typeof w.collapsed>"u"||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?a=v.collapsed:w.collapsed===k.ObjectTreeElementCollapseState.Collapsed?a=!0:w.collapsed===k.ObjectTreeElementCollapseState.Expanded?a=!1:a=!!w.collapsed,{...w,collapsible:b,collapsed:a,children:this.preserveCollapseState(w.children)}})}rerender(p){const w=this.getElementLocation(p);this.model.rerender(w)}getFirstElementChild(p=null){const w=this.getElementLocation(p);return this.model.getFirstElementChild(w)}has(p){return this.nodes.has(p)}getListIndex(p){const w=this.getElementLocation(p);return this.model.getListIndex(w)}getListRenderCount(p){const w=this.getElementLocation(p);return this.model.getListRenderCount(w)}isCollapsible(p){const w=this.getElementLocation(p);return this.model.isCollapsible(w)}setCollapsible(p,w){const v=this.getElementLocation(p);return this.model.setCollapsible(v,w)}isCollapsed(p){const w=this.getElementLocation(p);return this.model.isCollapsed(w)}setCollapsed(p,w,v){const b=this.getElementLocation(p);return this.model.setCollapsed(b,w,v)}expandTo(p){const w=this.getElementLocation(p);this.model.expandTo(w)}refilter(){this.model.refilter()}getNode(p=null){if(p===null)return this.model.getNode(this.model.rootRef);const w=this.nodes.get(p);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${p}`);return w}getNodeLocation(p){return p.element}getParentNodeLocation(p){if(p===null)throw new k.TreeError(this.user,"Invalid getParentNodeLocation call");const w=this.nodes.get(p);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${p}`);const v=this.model.getNodeLocation(w),b=this.model.getParentNodeLocation(v);return this.model.getNode(b).element}getElementLocation(p){if(p===null)return[];const w=this.nodes.get(p);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${p}`);return this.model.getNodeLocation(w)}}e.ObjectTreeModel=D}),define(ne[594],se([1,0,227,148,13,7,52]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function p(d){const s=[d.element],l=d.incompressible||!1;return{element:{elements:s,incompressible:l},children:S.Iterable.map(S.Iterable.from(d.children),p),collapsible:d.collapsible,collapsed:d.collapsed}}function w(d){const s=[d.element],l=d.incompressible||!1;let r,h;for(;[h,r]=S.Iterable.consume(S.Iterable.from(d.children),2),!(h.length!==1||h[0].incompressible);)d=h[0],s.push(d.element);return{element:{elements:s,incompressible:l},children:S.Iterable.map(S.Iterable.concat(h,r),w),collapsible:d.collapsible,collapsed:d.collapsed}}e.compress=w;function v(d,s=0){let l;return s<d.element.elements.length-1?l=[v(d,s+1)]:l=S.Iterable.map(S.Iterable.from(d.children),r=>v(r,0)),s===0&&d.element.incompressible?{element:d.element.elements[s],children:l,incompressible:!0,collapsible:d.collapsible,collapsed:d.collapsed}:{element:d.element.elements[s],children:l,collapsible:d.collapsible,collapsed:d.collapsed}}function b(d){return v(d,0)}e.decompress=b;function a(d,s,l){return d.element===s?{...d,children:l}:{...d,children:S.Iterable.map(S.Iterable.from(d.children),r=>a(r,s,l))}}const n=d=>({getId(s){return s.elements.map(l=>d.getId(l).toString()).join("\0")}});class i{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(s,l,r={}){this.user=s,this.rootRef=null,this.nodes=new Map,this.model=new L.ObjectTreeModel(s,l,r),this.enabled=typeof r.compressionEnabled>"u"?!0:r.compressionEnabled,this.identityProvider=r.identityProvider}setChildren(s,l=S.Iterable.empty(),r){const h=r.diffIdentityProvider&&n(r.diffIdentityProvider);if(s===null){const M=S.Iterable.map(l,this.enabled?w:p);this._setChildren(null,M,{diffIdentityProvider:h,diffDepth:1/0});return}const u=this.nodes.get(s);if(!u)throw new k.TreeError(this.user,"Unknown compressed tree node");const f=this.model.getNode(u),C=this.model.getParentNodeLocation(u),_=this.model.getNode(C),E=b(f),I=a(E,s,l),T=(this.enabled?w:p)(I),A=r.diffIdentityProvider?(M,N)=>r.diffIdentityProvider.getId(M)===r.diffIdentityProvider.getId(N):void 0;if((0,y.equals)(T.element.elements,f.element.elements,A)){this._setChildren(u,T.children||S.Iterable.empty(),{diffIdentityProvider:h,diffDepth:1});return}const R=_.children.map(M=>M===f?T:M);this._setChildren(_.element,R,{diffIdentityProvider:h,diffDepth:f.depth-_.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(s){if(s===this.enabled)return;this.enabled=s;const r=this.model.getNode().children,h=S.Iterable.map(r,b),u=S.Iterable.map(h,s?w:p);this._setChildren(null,u,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(s,l,r){const h=new Set,u=C=>{for(const _ of C.element.elements)h.add(_),this.nodes.set(_,C.element)},f=C=>{for(const _ of C.element.elements)h.has(_)||this.nodes.delete(_)};this.model.setChildren(s,l,{...r,onDidCreateNode:u,onDidDeleteNode:f})}has(s){return this.nodes.has(s)}getListIndex(s){const l=this.getCompressedNode(s);return this.model.getListIndex(l)}getListRenderCount(s){const l=this.getCompressedNode(s);return this.model.getListRenderCount(l)}getNode(s){if(typeof s>"u")return this.model.getNode();const l=this.getCompressedNode(s);return this.model.getNode(l)}getNodeLocation(s){const l=this.model.getNodeLocation(s);return l===null?null:l.elements[l.elements.length-1]}getParentNodeLocation(s){const l=this.getCompressedNode(s),r=this.model.getParentNodeLocation(l);return r===null?null:r.elements[r.elements.length-1]}getFirstElementChild(s){const l=this.getCompressedNode(s);return this.model.getFirstElementChild(l)}isCollapsible(s){const l=this.getCompressedNode(s);return this.model.isCollapsible(l)}setCollapsible(s,l){const r=this.getCompressedNode(s);return this.model.setCollapsible(r,l)}isCollapsed(s){const l=this.getCompressedNode(s);return this.model.isCollapsed(l)}setCollapsed(s,l,r){const h=this.getCompressedNode(s);return this.model.setCollapsed(h,l,r)}expandTo(s){const l=this.getCompressedNode(s);this.model.expandTo(l)}rerender(s){const l=this.getCompressedNode(s);this.model.rerender(l)}refilter(){this.model.refilter()}getCompressedNode(s){if(s===null)return null;const l=this.nodes.get(s);if(!l)throw new k.TreeError(this.user,`Tree element not found: ${s}`);return l}}e.CompressedObjectTreeModel=i;const t=d=>d[d.length-1];e.DefaultElementMapper=t;class o{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(s=>new o(this.unwrapper,s))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(s,l){this.unwrapper=s,this.node=l}}function g(d,s){return{splice(l,r,h){s.splice(l,r,h.map(u=>d.map(u)))},updateElementHeight(l,r){s.updateElementHeight(l,r)}}}function m(d,s){return{...s,identityProvider:s.identityProvider&&{getId(l){return s.identityProvider.getId(d(l))}},sorter:s.sorter&&{compare(l,r){return s.sorter.compare(l.elements[0],r.elements[0])}},filter:s.filter&&{filter(l,r){return s.filter.filter(d(l),r)}}}}class c{get onDidSplice(){return D.Event.map(this.model.onDidSplice,({insertedNodes:s,deletedNodes:l})=>({insertedNodes:s.map(r=>this.nodeMapper.map(r)),deletedNodes:l.map(r=>this.nodeMapper.map(r))}))}get onDidChangeCollapseState(){return D.Event.map(this.model.onDidChangeCollapseState,({node:s,deep:l})=>({node:this.nodeMapper.map(s),deep:l}))}get onDidChangeRenderNodeCount(){return D.Event.map(this.model.onDidChangeRenderNodeCount,s=>this.nodeMapper.map(s))}constructor(s,l,r={}){this.rootRef=null,this.elementMapper=r.elementMapper||e.DefaultElementMapper;const h=u=>this.elementMapper(u.elements);this.nodeMapper=new k.WeakMapper(u=>new o(h,u)),this.model=new i(s,g(this.nodeMapper,l),m(h,r))}setChildren(s,l=S.Iterable.empty(),r={}){this.model.setChildren(s,l,r)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(s){this.model.setCompressionEnabled(s)}has(s){return this.model.has(s)}getListIndex(s){return this.model.getListIndex(s)}getListRenderCount(s){return this.model.getListRenderCount(s)}getNode(s){return this.nodeMapper.map(this.model.getNode(s))}getNodeLocation(s){return s.element}getParentNodeLocation(s){return this.model.getParentNodeLocation(s)}getFirstElementChild(s){const l=this.model.getFirstElementChild(s);return l===null||typeof l>"u"?l:this.elementMapper(l.elements)}isCollapsible(s){return this.model.isCollapsible(s)}setCollapsible(s,l){return this.model.setCollapsible(s,l)}isCollapsed(s){return this.model.isCollapsed(s)}setCollapsed(s,l,r){return this.model.setCollapsed(s,l,r)}expandTo(s){return this.model.expandTo(s)}rerender(s){return this.model.rerender(s)}refilter(){return this.model.refilter()}getCompressedTreeNode(s=null){return this.model.getNode(s)}}e.CompressibleObjectTreeModel=c}),define(ne[321],se([1,0,17]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;const y=globalThis.vscode;if(typeof y<"u"&&typeof y.process<"u"){const D=y.process;k={get platform(){return D.platform},get arch(){return D.arch},get env(){return D.env},cwd(){return D.cwd()}}}else typeof process<"u"?k={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:k={get platform(){return L.isWindows?"win32":L.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(ne[595],se([1,0,321]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerHotReloadHandler=e.isHotReloadEnabled=void 0;function k(){return L.env&&!!L.env.VSCODE_DEV}e.isHotReloadEnabled=k;function y(p){if(k()){const w=D();return w.add(p),{dispose(){w.delete(p)}}}else return{dispose(){}}}e.registerHotReloadHandler=y;function D(){S||(S=new Set);const p=globalThis;return p.$hotReload_applyNewExports||(p.$hotReload_applyNewExports=w=>{const v={config:{mode:void 0},...w};for(const b of S){const a=b(v);if(a)return a}}),S}let S;k()&&y(({oldExports:p,newSrc:w,config:v})=>{if(v.mode==="patch-prototype")return b=>{var a,n;for(const i in b){const t=b[i];if(console.log(`[hot-reload] Patching prototype methods of '${i}'`,{exportedItem:t}),typeof t=="function"&&t.prototype){const o=p[i];if(o){for(const g of Object.getOwnPropertyNames(t.prototype)){const m=Object.getOwnPropertyDescriptor(t.prototype,g),c=Object.getOwnPropertyDescriptor(o.prototype,g);((a=m?.value)===null||a===void 0?void 0:a.toString())!==((n=c?.value)===null||n===void 0?void 0:n.toString())&&console.log(`[hot-reload] Patching prototype method '${i}.${g}'`),Object.defineProperty(o.prototype,g,m)}b[i]=o}}}return!0}})}),define(ne[98],se([1,0,321]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,y=97,D=90,S=122,p=46,w=47,v=92,b=58,a=63;class n extends Error{constructor(h,u,f){let C;typeof u=="string"&&u.indexOf("not ")===0?(C="must not be",u=u.replace(/^not /,"")):C="must be";const _=h.indexOf(".")!==-1?"property":"argument";let E=`The "${h}" ${_} ${C} of type ${u}`;E+=`. Received type ${typeof f}`,super(E),this.code="ERR_INVALID_ARG_TYPE"}}function i(r,h){if(r===null||typeof r!="object")throw new n(h,"Object",r)}function t(r,h){if(typeof r!="string")throw new n(h,"string",r)}const o=L.platform==="win32";function g(r){return r===w||r===v}function m(r){return r===w}function c(r){return r>=k&&r<=D||r>=y&&r<=S}function d(r,h,u,f){let C="",_=0,E=-1,I=0,T=0;for(let A=0;A<=r.length;++A){if(A<r.length)T=r.charCodeAt(A);else{if(f(T))break;T=w}if(f(T)){if(!(E===A-1||I===1))if(I===2){if(C.length<2||_!==2||C.charCodeAt(C.length-1)!==p||C.charCodeAt(C.length-2)!==p){if(C.length>2){const R=C.lastIndexOf(u);R===-1?(C="",_=0):(C=C.slice(0,R),_=C.length-1-C.lastIndexOf(u)),E=A,I=0;continue}else if(C.length!==0){C="",_=0,E=A,I=0;continue}}h&&(C+=C.length>0?`${u}..`:"..",_=2)}else C.length>0?C+=`${u}${r.slice(E+1,A)}`:C=r.slice(E+1,A),_=A-E-1;E=A,I=0}else T===p&&I!==-1?++I:I=-1}return C}function s(r,h){i(h,"pathObject");const u=h.dir||h.root,f=h.base||`${h.name||""}${h.ext||""}`;return u?u===h.root?`${u}${f}`:`${u}${r}${f}`:f}e.win32={resolve(...r){let h="",u="",f=!1;for(let C=r.length-1;C>=-1;C--){let _;if(C>=0){if(_=r[C],t(_,"path"),_.length===0)continue}else h.length===0?_=L.cwd():(_=L.env[`=${h}`]||L.cwd(),(_===void 0||_.slice(0,2).toLowerCase()!==h.toLowerCase()&&_.charCodeAt(2)===v)&&(_=`${h}\\`));const E=_.length;let I=0,T="",A=!1;const R=_.charCodeAt(0);if(E===1)g(R)&&(I=1,A=!0);else if(g(R))if(A=!0,g(_.charCodeAt(1))){let M=2,N=M;for(;M<E&&!g(_.charCodeAt(M));)M++;if(M<E&&M!==N){const P=_.slice(N,M);for(N=M;M<E&&g(_.charCodeAt(M));)M++;if(M<E&&M!==N){for(N=M;M<E&&!g(_.charCodeAt(M));)M++;(M===E||M!==N)&&(T=`\\\\${P}\\${_.slice(N,M)}`,I=M)}}}else I=1;else c(R)&&_.charCodeAt(1)===b&&(T=_.slice(0,2),I=2,E>2&&g(_.charCodeAt(2))&&(A=!0,I=3));if(T.length>0)if(h.length>0){if(T.toLowerCase()!==h.toLowerCase())continue}else h=T;if(f){if(h.length>0)break}else if(u=`${_.slice(I)}\\${u}`,f=A,A&&h.length>0)break}return u=d(u,!f,"\\",g),f?`${h}\\${u}`:`${h}${u}`||"."},normalize(r){t(r,"path");const h=r.length;if(h===0)return".";let u=0,f,C=!1;const _=r.charCodeAt(0);if(h===1)return m(_)?"\\":r;if(g(_))if(C=!0,g(r.charCodeAt(1))){let I=2,T=I;for(;I<h&&!g(r.charCodeAt(I));)I++;if(I<h&&I!==T){const A=r.slice(T,I);for(T=I;I<h&&g(r.charCodeAt(I));)I++;if(I<h&&I!==T){for(T=I;I<h&&!g(r.charCodeAt(I));)I++;if(I===h)return`\\\\${A}\\${r.slice(T)}\\`;I!==T&&(f=`\\\\${A}\\${r.slice(T,I)}`,u=I)}}}else u=1;else c(_)&&r.charCodeAt(1)===b&&(f=r.slice(0,2),u=2,h>2&&g(r.charCodeAt(2))&&(C=!0,u=3));let E=u<h?d(r.slice(u),!C,"\\",g):"";return E.length===0&&!C&&(E="."),E.length>0&&g(r.charCodeAt(h-1))&&(E+="\\"),f===void 0?C?`\\${E}`:E:C?`${f}\\${E}`:`${f}${E}`},isAbsolute(r){t(r,"path");const h=r.length;if(h===0)return!1;const u=r.charCodeAt(0);return g(u)||h>2&&c(u)&&r.charCodeAt(1)===b&&g(r.charCodeAt(2))},join(...r){if(r.length===0)return".";let h,u;for(let _=0;_<r.length;++_){const E=r[_];t(E,"path"),E.length>0&&(h===void 0?h=u=E:h+=`\\${E}`)}if(h===void 0)return".";let f=!0,C=0;if(typeof u=="string"&&g(u.charCodeAt(0))){++C;const _=u.length;_>1&&g(u.charCodeAt(1))&&(++C,_>2&&(g(u.charCodeAt(2))?++C:f=!1))}if(f){for(;C<h.length&&g(h.charCodeAt(C));)C++;C>=2&&(h=`\\${h.slice(C)}`)}return e.win32.normalize(h)},relative(r,h){if(t(r,"from"),t(h,"to"),r===h)return"";const u=e.win32.resolve(r),f=e.win32.resolve(h);if(u===f||(r=u.toLowerCase(),h=f.toLowerCase(),r===h))return"";let C=0;for(;C<r.length&&r.charCodeAt(C)===v;)C++;let _=r.length;for(;_-1>C&&r.charCodeAt(_-1)===v;)_--;const E=_-C;let I=0;for(;I<h.length&&h.charCodeAt(I)===v;)I++;let T=h.length;for(;T-1>I&&h.charCodeAt(T-1)===v;)T--;const A=T-I,R=E<A?E:A;let M=-1,N=0;for(;N<R;N++){const F=r.charCodeAt(C+N);if(F!==h.charCodeAt(I+N))break;F===v&&(M=N)}if(N!==R){if(M===-1)return f}else{if(A>R){if(h.charCodeAt(I+N)===v)return f.slice(I+N+1);if(N===2)return f.slice(I+N)}E>R&&(r.charCodeAt(C+N)===v?M=N:N===2&&(M=3)),M===-1&&(M=0)}let P="";for(N=C+M+1;N<=_;++N)(N===_||r.charCodeAt(N)===v)&&(P+=P.length===0?"..":"\\..");return I+=M,P.length>0?`${P}${f.slice(I,T)}`:(f.charCodeAt(I)===v&&++I,f.slice(I,T))},toNamespacedPath(r){if(typeof r!="string"||r.length===0)return r;const h=e.win32.resolve(r);if(h.length<=2)return r;if(h.charCodeAt(0)===v){if(h.charCodeAt(1)===v){const u=h.charCodeAt(2);if(u!==a&&u!==p)return`\\\\?\\UNC\\${h.slice(2)}`}}else if(c(h.charCodeAt(0))&&h.charCodeAt(1)===b&&h.charCodeAt(2)===v)return`\\\\?\\${h}`;return r},dirname(r){t(r,"path");const h=r.length;if(h===0)return".";let u=-1,f=0;const C=r.charCodeAt(0);if(h===1)return g(C)?r:".";if(g(C)){if(u=f=1,g(r.charCodeAt(1))){let I=2,T=I;for(;I<h&&!g(r.charCodeAt(I));)I++;if(I<h&&I!==T){for(T=I;I<h&&g(r.charCodeAt(I));)I++;if(I<h&&I!==T){for(T=I;I<h&&!g(r.charCodeAt(I));)I++;if(I===h)return r;I!==T&&(u=f=I+1)}}}}else c(C)&&r.charCodeAt(1)===b&&(u=h>2&&g(r.charCodeAt(2))?3:2,f=u);let _=-1,E=!0;for(let I=h-1;I>=f;--I)if(g(r.charCodeAt(I))){if(!E){_=I;break}}else E=!1;if(_===-1){if(u===-1)return".";_=u}return r.slice(0,_)},basename(r,h){h!==void 0&&t(h,"ext"),t(r,"path");let u=0,f=-1,C=!0,_;if(r.length>=2&&c(r.charCodeAt(0))&&r.charCodeAt(1)===b&&(u=2),h!==void 0&&h.length>0&&h.length<=r.length){if(h===r)return"";let E=h.length-1,I=-1;for(_=r.length-1;_>=u;--_){const T=r.charCodeAt(_);if(g(T)){if(!C){u=_+1;break}}else I===-1&&(C=!1,I=_+1),E>=0&&(T===h.charCodeAt(E)?--E===-1&&(f=_):(E=-1,f=I))}return u===f?f=I:f===-1&&(f=r.length),r.slice(u,f)}for(_=r.length-1;_>=u;--_)if(g(r.charCodeAt(_))){if(!C){u=_+1;break}}else f===-1&&(C=!1,f=_+1);return f===-1?"":r.slice(u,f)},extname(r){t(r,"path");let h=0,u=-1,f=0,C=-1,_=!0,E=0;r.length>=2&&r.charCodeAt(1)===b&&c(r.charCodeAt(0))&&(h=f=2);for(let I=r.length-1;I>=h;--I){const T=r.charCodeAt(I);if(g(T)){if(!_){f=I+1;break}continue}C===-1&&(_=!1,C=I+1),T===p?u===-1?u=I:E!==1&&(E=1):u!==-1&&(E=-1)}return u===-1||C===-1||E===0||E===1&&u===C-1&&u===f+1?"":r.slice(u,C)},format:s.bind(null,"\\"),parse(r){t(r,"path");const h={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return h;const u=r.length;let f=0,C=r.charCodeAt(0);if(u===1)return g(C)?(h.root=h.dir=r,h):(h.base=h.name=r,h);if(g(C)){if(f=1,g(r.charCodeAt(1))){let M=2,N=M;for(;M<u&&!g(r.charCodeAt(M));)M++;if(M<u&&M!==N){for(N=M;M<u&&g(r.charCodeAt(M));)M++;if(M<u&&M!==N){for(N=M;M<u&&!g(r.charCodeAt(M));)M++;M===u?f=M:M!==N&&(f=M+1)}}}}else if(c(C)&&r.charCodeAt(1)===b){if(u<=2)return h.root=h.dir=r,h;if(f=2,g(r.charCodeAt(2))){if(u===3)return h.root=h.dir=r,h;f=3}}f>0&&(h.root=r.slice(0,f));let _=-1,E=f,I=-1,T=!0,A=r.length-1,R=0;for(;A>=f;--A){if(C=r.charCodeAt(A),g(C)){if(!T){E=A+1;break}continue}I===-1&&(T=!1,I=A+1),C===p?_===-1?_=A:R!==1&&(R=1):_!==-1&&(R=-1)}return I!==-1&&(_===-1||R===0||R===1&&_===I-1&&_===E+1?h.base=h.name=r.slice(E,I):(h.name=r.slice(E,_),h.base=r.slice(E,I),h.ext=r.slice(_,I))),E>0&&E!==f?h.dir=r.slice(0,E-1):h.dir=h.root,h},sep:"\\",delimiter:";",win32:null,posix:null};const l=(()=>{if(o){const r=/\\/g;return()=>{const h=L.cwd().replace(r,"/");return h.slice(h.indexOf("/"))}}return()=>L.cwd()})();e.posix={resolve(...r){let h="",u=!1;for(let f=r.length-1;f>=-1&&!u;f--){const C=f>=0?r[f]:l();t(C,"path"),C.length!==0&&(h=`${C}/${h}`,u=C.charCodeAt(0)===w)}return h=d(h,!u,"/",m),u?`/${h}`:h.length>0?h:"."},normalize(r){if(t(r,"path"),r.length===0)return".";const h=r.charCodeAt(0)===w,u=r.charCodeAt(r.length-1)===w;return r=d(r,!h,"/",m),r.length===0?h?"/":u?"./":".":(u&&(r+="/"),h?`/${r}`:r)},isAbsolute(r){return t(r,"path"),r.length>0&&r.charCodeAt(0)===w},join(...r){if(r.length===0)return".";let h;for(let u=0;u<r.length;++u){const f=r[u];t(f,"path"),f.length>0&&(h===void 0?h=f:h+=`/${f}`)}return h===void 0?".":e.posix.normalize(h)},relative(r,h){if(t(r,"from"),t(h,"to"),r===h||(r=e.posix.resolve(r),h=e.posix.resolve(h),r===h))return"";const u=1,f=r.length,C=f-u,_=1,E=h.length-_,I=C<E?C:E;let T=-1,A=0;for(;A<I;A++){const M=r.charCodeAt(u+A);if(M!==h.charCodeAt(_+A))break;M===w&&(T=A)}if(A===I)if(E>I){if(h.charCodeAt(_+A)===w)return h.slice(_+A+1);if(A===0)return h.slice(_+A)}else C>I&&(r.charCodeAt(u+A)===w?T=A:A===0&&(T=0));let R="";for(A=u+T+1;A<=f;++A)(A===f||r.charCodeAt(A)===w)&&(R+=R.length===0?"..":"/..");return`${R}${h.slice(_+T)}`},toNamespacedPath(r){return r},dirname(r){if(t(r,"path"),r.length===0)return".";const h=r.charCodeAt(0)===w;let u=-1,f=!0;for(let C=r.length-1;C>=1;--C)if(r.charCodeAt(C)===w){if(!f){u=C;break}}else f=!1;return u===-1?h?"/":".":h&&u===1?"//":r.slice(0,u)},basename(r,h){h!==void 0&&t(h,"ext"),t(r,"path");let u=0,f=-1,C=!0,_;if(h!==void 0&&h.length>0&&h.length<=r.length){if(h===r)return"";let E=h.length-1,I=-1;for(_=r.length-1;_>=0;--_){const T=r.charCodeAt(_);if(T===w){if(!C){u=_+1;break}}else I===-1&&(C=!1,I=_+1),E>=0&&(T===h.charCodeAt(E)?--E===-1&&(f=_):(E=-1,f=I))}return u===f?f=I:f===-1&&(f=r.length),r.slice(u,f)}for(_=r.length-1;_>=0;--_)if(r.charCodeAt(_)===w){if(!C){u=_+1;break}}else f===-1&&(C=!1,f=_+1);return f===-1?"":r.slice(u,f)},extname(r){t(r,"path");let h=-1,u=0,f=-1,C=!0,_=0;for(let E=r.length-1;E>=0;--E){const I=r.charCodeAt(E);if(I===w){if(!C){u=E+1;break}continue}f===-1&&(C=!1,f=E+1),I===p?h===-1?h=E:_!==1&&(_=1):h!==-1&&(_=-1)}return h===-1||f===-1||_===0||_===1&&h===f-1&&h===u+1?"":r.slice(h,f)},format:s.bind(null,"/"),parse(r){t(r,"path");const h={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return h;const u=r.charCodeAt(0)===w;let f;u?(h.root="/",f=1):f=0;let C=-1,_=0,E=-1,I=!0,T=r.length-1,A=0;for(;T>=f;--T){const R=r.charCodeAt(T);if(R===w){if(!I){_=T+1;break}continue}E===-1&&(I=!1,E=T+1),R===p?C===-1?C=T:A!==1&&(A=1):C!==-1&&(A=-1)}if(E!==-1){const R=_===0&&u?1:_;C===-1||A===0||A===1&&C===E-1&&C===_+1?h.base=h.name=r.slice(R,E):(h.name=r.slice(R,C),h.base=r.slice(R,E),h.ext=r.slice(C,E))}return _>0?h.dir=r.slice(0,_-1):u&&(h.dir="/"),h},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=o?e.win32.normalize:e.posix.normalize,e.resolve=o?e.win32.resolve:e.posix.resolve,e.relative=o?e.win32.relative:e.posix.relative,e.dirname=o?e.win32.dirname:e.posix.dirname,e.basename=o?e.win32.basename:e.posix.basename,e.extname=o?e.win32.extname:e.posix.extname,e.sep=o?e.win32.sep:e.posix.sep}),define(ne[228],se([1,0,98,17,11]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function D(n){return n===47||n===92}e.isPathSeparator=D;function S(n){return n.replace(/[\\/]/g,L.posix.sep)}e.toSlashes=S;function p(n){return n.indexOf("/")===-1&&(n=S(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}e.toPosixPath=p;function w(n,i=L.posix.sep){if(!n)return"";const t=n.length,o=n.charCodeAt(0);if(D(o)){if(D(n.charCodeAt(1))&&!D(n.charCodeAt(2))){let m=3;const c=m;for(;m<t&&!D(n.charCodeAt(m));m++);if(c!==m&&!D(n.charCodeAt(m+1))){for(m+=1;m<t;m++)if(D(n.charCodeAt(m)))return n.slice(0,m+1).replace(/[\\/]/g,i)}}return i}else if(b(o)&&n.charCodeAt(1)===58)return D(n.charCodeAt(2))?n.slice(0,2)+i:n.slice(0,2);let g=n.indexOf("://");if(g!==-1){for(g+=3;g<t;g++)if(D(n.charCodeAt(g)))return n.slice(0,g+1)}return""}e.getRoot=w;function v(n,i,t,o=L.sep){if(n===i)return!0;if(!n||!i||i.length>n.length)return!1;if(t){if(!(0,y.startsWithIgnoreCase)(n,i))return!1;if(i.length===n.length)return!0;let m=i.length;return i.charAt(i.length-1)===o&&m--,n.charAt(m)===o}return i.charAt(i.length-1)!==o&&(i+=o),n.indexOf(i)===0}e.isEqualOrParent=v;function b(n){return n>=65&&n<=90||n>=97&&n<=122}e.isWindowsDriveLetter=b;function a(n,i=k.isWindows){return i?b(n.charCodeAt(0))&&n.charCodeAt(1)===58:!1}e.hasDriveLetter=a}),define(ne[596],se([1,0,73,98,17,11]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const S=[void 0,[]];function p(c,d,s=0,l=0){const r=d;return r.values&&r.values.length>1?w(c,r.values,s,l):v(c,d,s,l)}e.scoreFuzzy2=p;function w(c,d,s,l){let r=0;const h=[];for(const u of d){const[f,C]=v(c,u,s,l);if(typeof f!="number")return S;r+=f,h.push(...C)}return[r,a(h)]}function v(c,d,s,l){const r=(0,L.fuzzyScore)(d.original,d.originalLowercase,s,c,c.toLowerCase(),l,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return r?[r[0],(0,L.createMatches)(r)]:S}const b=Object.freeze({score:0});function a(c){const d=c.sort((r,h)=>r.start-h.start),s=[];let l;for(const r of d)!l||!n(l,r)?(l=r,s.push(r)):(l.start=Math.min(l.start,r.start),l.end=Math.max(l.end,r.end));return s}function n(c,d){return!(c.end<d.start||d.end<c.start)}function i(c){return c.startsWith('"')&&c.endsWith('"')}const t=" ";function o(c){typeof c!="string"&&(c="");const d=c.toLowerCase(),{pathNormalized:s,normalized:l,normalizedLowercase:r}=g(c),h=s.indexOf(k.sep)>=0,u=i(c);let f;const C=c.split(t);if(C.length>1)for(const _ of C){const E=i(_),{pathNormalized:I,normalized:T,normalizedLowercase:A}=g(_);T&&(f||(f=[]),f.push({original:_,originalLowercase:_.toLowerCase(),pathNormalized:I,normalized:T,normalizedLowercase:A,expectContiguousMatch:E}))}return{original:c,originalLowercase:d,pathNormalized:s,normalized:l,normalizedLowercase:r,values:f,containsPathSeparator:h,expectContiguousMatch:u}}e.prepareQuery=o;function g(c){let d;y.isWindows?d=c.replace(/\//g,k.sep):d=c.replace(/\\/g,k.sep);const s=(0,D.stripWildcards)(d).replace(/\s|"/g,"");return{pathNormalized:d,normalized:s,normalizedLowercase:s.toLowerCase()}}function m(c){return Array.isArray(c)?o(c.map(d=>d.original).join(t)):o(c.original)}e.pieceToQuery=m}),define(ne[322],se([1,0,15,228,53,98,17,11]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const w="[/\\\\]",v="[^/\\\\]",b=/\//g;function a(O,B){switch(O){case 0:return"";case 1:return`${v}*?`;default:return`(?:${w}|${v}+${w}${B?`|${w}${v}+`:""})*?`}}function n(O,B){if(!O)return[];const W=[];let V=!1,z=!1,K="";for(const j of O){switch(j){case B:if(!V&&!z){W.push(K),K="";continue}break;case"{":V=!0;break;case"}":V=!1;break;case"[":z=!0;break;case"]":z=!1;break}K+=j}return K&&W.push(K),W}e.splitGlobAware=n;function i(O){if(!O)return"";let B="";const W=n(O,e.GLOB_SPLIT);if(W.every(V=>V===e.GLOBSTAR))B=".*";else{let V=!1;W.forEach((z,K)=>{if(z===e.GLOBSTAR){if(V)return;B+=a(2,K===W.length-1)}else{let j=!1,x="",re=!1,ie="";for(const J of z){if(J!=="}"&&j){x+=J;continue}if(re&&(J!=="]"||!ie)){let X;J==="-"?X=J:(J==="^"||J==="!")&&!ie?X="^":J===e.GLOB_SPLIT?X="":X=(0,p.escapeRegExpCharacters)(J),ie+=X;continue}switch(J){case"{":j=!0;continue;case"[":re=!0;continue;case"}":{const Y=`(?:${n(x,",").map(le=>i(le)).join("|")})`;B+=Y,j=!1,x="";break}case"]":{B+="["+ie+"]",re=!1,ie="";break}case"?":B+=v;continue;case"*":B+=a(1);continue;default:B+=(0,p.escapeRegExpCharacters)(J)}}K<W.length-1&&(W[K+1]!==e.GLOBSTAR||K+2<W.length)&&(B+=w)}V=z===e.GLOBSTAR})}return B}const t=/^\*\*\/\*\.[\w\.-]+$/,o=/^\*\*\/([\w\.-]+)\/?$/,g=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,m=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,c=/^\*\*((\/[\w\.-]+)+)\/?$/,d=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,s=new y.LRUCache(1e4),l=function(){return!1},r=function(){return null};function h(O,B){if(!O)return r;let W;typeof O!="string"?W=O.pattern:W=O,W=W.trim();const V=`${W}_${!!B.trimForExclusions}`;let z=s.get(V);if(z)return u(z,O);let K;return t.test(W)?z=C(W.substr(4),W):(K=o.exec(f(W,B)))?z=_(K[1],W):(B.trimForExclusions?m:g).test(W)?z=E(W,B):(K=c.exec(f(W,B)))?z=I(K[1].substr(1),W,!0):(K=d.exec(f(W,B)))?z=I(K[1],W,!1):z=T(W),s.set(V,z),u(z,O)}function u(O,B){if(typeof B=="string")return O;const W=function(V,z){return(0,k.isEqualOrParent)(V,B.base,!S.isLinux)?O((0,p.ltrim)(V.substr(B.base.length),D.sep),z):null};return W.allBasenames=O.allBasenames,W.allPaths=O.allPaths,W.basenames=O.basenames,W.patterns=O.patterns,W}function f(O,B){return B.trimForExclusions&&O.endsWith("/**")?O.substr(0,O.length-2):O}function C(O,B){return function(W,V){return typeof W=="string"&&W.endsWith(O)?B:null}}function _(O,B){const W=`/${O}`,V=`\\${O}`,z=function(j,x){return typeof j!="string"?null:x?x===O?B:null:j===O||j.endsWith(W)||j.endsWith(V)?B:null},K=[O];return z.basenames=K,z.patterns=[B],z.allBasenames=K,z}function E(O,B){const W=F(O.slice(1,-1).split(",").map(x=>h(x,B)).filter(x=>x!==r),O),V=W.length;if(!V)return r;if(V===1)return W[0];const z=function(x,re){for(let ie=0,J=W.length;ie<J;ie++)if(W[ie](x,re))return O;return null},K=W.find(x=>!!x.allBasenames);K&&(z.allBasenames=K.allBasenames);const j=W.reduce((x,re)=>re.allPaths?x.concat(re.allPaths):x,[]);return j.length&&(z.allPaths=j),z}function I(O,B,W){const V=D.sep===D.posix.sep,z=V?O:O.replace(b,D.sep),K=D.sep+z,j=D.posix.sep+O;let x;return W?x=function(re,ie){return typeof re=="string"&&(re===z||re.endsWith(K)||!V&&(re===O||re.endsWith(j)))?B:null}:x=function(re,ie){return typeof re=="string"&&(re===z||!V&&re===O)?B:null},x.allPaths=[(W?"*/":"./")+O],x}function T(O){try{const B=new RegExp(`^${i(O)}$`);return function(W){return B.lastIndex=0,typeof W=="string"&&B.test(W)?O:null}}catch{return r}}function A(O,B,W){return!O||typeof B!="string"?!1:R(O)(B,void 0,W)}e.match=A;function R(O,B={}){if(!O)return l;if(typeof O=="string"||M(O)){const W=h(O,B);if(W===r)return l;const V=function(z,K){return!!W(z,K)};return W.allBasenames&&(V.allBasenames=W.allBasenames),W.allPaths&&(V.allPaths=W.allPaths),V}return N(O,B)}e.parse=R;function M(O){const B=O;return B?typeof B.base=="string"&&typeof B.pattern=="string":!1}e.isRelativePattern=M;function N(O,B){const W=F(Object.getOwnPropertyNames(O).map(x=>P(x,O[x],B)).filter(x=>x!==r)),V=W.length;if(!V)return r;if(!W.some(x=>!!x.requiresSiblings)){if(V===1)return W[0];const x=function(J,X){let Y;for(let le=0,de=W.length;le<de;le++){const ge=W[le](J,X);if(typeof ge=="string")return ge;(0,L.isThenable)(ge)&&(Y||(Y=[]),Y.push(ge))}return Y?(async()=>{for(const le of Y){const de=await le;if(typeof de=="string")return de}return null})():null},re=W.find(J=>!!J.allBasenames);re&&(x.allBasenames=re.allBasenames);const ie=W.reduce((J,X)=>X.allPaths?J.concat(X.allPaths):J,[]);return ie.length&&(x.allPaths=ie),x}const z=function(x,re,ie){let J,X;for(let Y=0,le=W.length;Y<le;Y++){const de=W[Y];de.requiresSiblings&&ie&&(re||(re=(0,D.basename)(x)),J||(J=re.substr(0,re.length-(0,D.extname)(x).length)));const ge=de(x,re,J,ie);if(typeof ge=="string")return ge;(0,L.isThenable)(ge)&&(X||(X=[]),X.push(ge))}return X?(async()=>{for(const Y of X){const le=await Y;if(typeof le=="string")return le}return null})():null},K=W.find(x=>!!x.allBasenames);K&&(z.allBasenames=K.allBasenames);const j=W.reduce((x,re)=>re.allPaths?x.concat(re.allPaths):x,[]);return j.length&&(z.allPaths=j),z}function P(O,B,W){if(B===!1)return r;const V=h(O,W);if(V===r)return r;if(typeof B=="boolean")return V;if(B){const z=B.when;if(typeof z=="string"){const K=(j,x,re,ie)=>{if(!ie||!V(j,x))return null;const J=z.replace("$(basename)",()=>re),X=ie(J);return(0,L.isThenable)(X)?X.then(Y=>Y?O:null):X?O:null};return K.requiresSiblings=!0,K}}return V}function F(O,B){const W=O.filter(x=>!!x.basenames);if(W.length<2)return O;const V=W.reduce((x,re)=>{const ie=re.basenames;return ie?x.concat(ie):x},[]);let z;if(B){z=[];for(let x=0,re=V.length;x<re;x++)z.push(B)}else z=W.reduce((x,re)=>{const ie=re.patterns;return ie?x.concat(ie):x},[]);const K=function(x,re){if(typeof x!="string")return null;if(!re){let J;for(J=x.length;J>0;J--){const X=x.charCodeAt(J-1);if(X===47||X===92)break}re=x.substr(J)}const ie=V.indexOf(re);return ie!==-1?z[ie]:null};K.basenames=V,K.patterns=z,K.allBasenames=V;const j=O.filter(x=>!x.basenames);return j.push(K),j}}),define(ne[597],se([1,0,228,17]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=void 0;function y(S,p=k.isWindows){return(0,L.hasDriveLetter)(S,p)?S.charAt(0).toUpperCase()+S.slice(1):S}e.normalizeDriveLetter=y;let D=Object.create(null)}),define(ne[22],se([1,0,98,17]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const y=/^\w[\w\d+.-]*$/,D=/^\//,S=/^\/\//;function p(u,f){if(!u.scheme&&f)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${u.authority}", path: "${u.path}", query: "${u.query}", fragment: "${u.fragment}"}`);if(u.scheme&&!y.test(u.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(u.path){if(u.authority){if(!D.test(u.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(S.test(u.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function w(u,f){return!u&&!f?"file":u}function v(u,f){switch(u){case"https":case"http":case"file":f?f[0]!==a&&(f=a+f):f=a;break}return f}const b="",a="/",n=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class i{static isUri(f){return f instanceof i?!0:f?typeof f.authority=="string"&&typeof f.fragment=="string"&&typeof f.path=="string"&&typeof f.query=="string"&&typeof f.scheme=="string"&&typeof f.fsPath=="string"&&typeof f.with=="function"&&typeof f.toString=="function":!1}constructor(f,C,_,E,I,T=!1){typeof f=="object"?(this.scheme=f.scheme||b,this.authority=f.authority||b,this.path=f.path||b,this.query=f.query||b,this.fragment=f.fragment||b):(this.scheme=w(f,T),this.authority=C||b,this.path=v(this.scheme,_||b),this.query=E||b,this.fragment=I||b,p(this,T))}get fsPath(){return d(this,!1)}with(f){if(!f)return this;let{scheme:C,authority:_,path:E,query:I,fragment:T}=f;return C===void 0?C=this.scheme:C===null&&(C=b),_===void 0?_=this.authority:_===null&&(_=b),E===void 0?E=this.path:E===null&&(E=b),I===void 0?I=this.query:I===null&&(I=b),T===void 0?T=this.fragment:T===null&&(T=b),C===this.scheme&&_===this.authority&&E===this.path&&I===this.query&&T===this.fragment?this:new o(C,_,E,I,T)}static parse(f,C=!1){const _=n.exec(f);return _?new o(_[2]||b,h(_[4]||b),h(_[5]||b),h(_[7]||b),h(_[9]||b),C):new o(b,b,b,b,b)}static file(f){let C=b;if(k.isWindows&&(f=f.replace(/\\/g,a)),f[0]===a&&f[1]===a){const _=f.indexOf(a,2);_===-1?(C=f.substring(2),f=a):(C=f.substring(2,_),f=f.substring(_)||a)}return new o("file",C,f,b,b)}static from(f,C){return new o(f.scheme,f.authority,f.path,f.query,f.fragment,C)}static joinPath(f,...C){if(!f.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let _;return k.isWindows&&f.scheme==="file"?_=i.file(L.win32.join(d(f,!0),...C)).path:_=L.posix.join(f.path,...C),f.with({path:_})}toString(f=!1){return s(this,f)}toJSON(){return this}static revive(f){var C,_;if(f){if(f instanceof i)return f;{const E=new o(f);return E._formatted=(C=f.external)!==null&&C!==void 0?C:null,E._fsPath=f._sep===t&&(_=f.fsPath)!==null&&_!==void 0?_:null,E}}else return f}}e.URI=i;const t=k.isWindows?1:void 0;class o extends i{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=d(this,!1)),this._fsPath}toString(f=!1){return f?s(this,!0):(this._formatted||(this._formatted=s(this,!1)),this._formatted)}toJSON(){const f={$mid:1};return this._fsPath&&(f.fsPath=this._fsPath,f._sep=t),this._formatted&&(f.external=this._formatted),this.path&&(f.path=this.path),this.scheme&&(f.scheme=this.scheme),this.authority&&(f.authority=this.authority),this.query&&(f.query=this.query),this.fragment&&(f.fragment=this.fragment),f}}const g={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(u,f,C){let _,E=-1;for(let I=0;I<u.length;I++){const T=u.charCodeAt(I);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||f&&T===47||C&&T===91||C&&T===93||C&&T===58)E!==-1&&(_+=encodeURIComponent(u.substring(E,I)),E=-1),_!==void 0&&(_+=u.charAt(I));else{_===void 0&&(_=u.substr(0,I));const A=g[T];A!==void 0?(E!==-1&&(_+=encodeURIComponent(u.substring(E,I)),E=-1),_+=A):E===-1&&(E=I)}}return E!==-1&&(_+=encodeURIComponent(u.substring(E))),_!==void 0?_:u}function c(u){let f;for(let C=0;C<u.length;C++){const _=u.charCodeAt(C);_===35||_===63?(f===void 0&&(f=u.substr(0,C)),f+=g[_]):f!==void 0&&(f+=u[C])}return f!==void 0?f:u}function d(u,f){let C;return u.authority&&u.path.length>1&&u.scheme==="file"?C=`//${u.authority}${u.path}`:u.path.charCodeAt(0)===47&&(u.path.charCodeAt(1)>=65&&u.path.charCodeAt(1)<=90||u.path.charCodeAt(1)>=97&&u.path.charCodeAt(1)<=122)&&u.path.charCodeAt(2)===58?f?C=u.path.substr(1):C=u.path[1].toLowerCase()+u.path.substr(2):C=u.path,k.isWindows&&(C=C.replace(/\//g,"\\")),C}e.uriToFsPath=d;function s(u,f){const C=f?c:m;let _="",{scheme:E,authority:I,path:T,query:A,fragment:R}=u;if(E&&(_+=E,_+=":"),(I||E==="file")&&(_+=a,_+=a),I){let M=I.indexOf("@");if(M!==-1){const N=I.substr(0,M);I=I.substr(M+1),M=N.lastIndexOf(":"),M===-1?_+=C(N,!1,!1):(_+=C(N.substr(0,M),!1,!1),_+=":",_+=C(N.substr(M+1),!1,!0)),_+="@"}I=I.toLowerCase(),M=I.lastIndexOf(":"),M===-1?_+=C(I,!1,!0):(_+=C(I.substr(0,M),!1,!0),_+=I.substr(M))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){const M=T.charCodeAt(1);M>=65&&M<=90&&(T=`/${String.fromCharCode(M+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){const M=T.charCodeAt(0);M>=65&&M<=90&&(T=`${String.fromCharCode(M+32)}:${T.substr(2)}`)}_+=C(T,!0,!1)}return A&&(_+="?",_+=C(A,!1,!1)),R&&(_+="#",_+=f?R:m(R,!1,!1)),_}function l(u){try{return decodeURIComponent(u)}catch{return u.length>3?u.substr(0,3)+l(u.substr(3)):u}}const r=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function h(u){return u.match(r)?u.replace(r,f=>l(f)):u}}),define(ne[229],se([1,0,149,22]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=e.stringify=void 0;function y(w){return JSON.stringify(w,S)}e.stringify=y;function D(w){let v=JSON.parse(w);return v=p(v),v}e.parse=D;function S(w,v){return v instanceof RegExp?{$mid:2,source:v.source,flags:v.flags}:v}function p(w,v=0){if(!w||v>200)return w;if(typeof w=="object"){switch(w.$mid){case 1:return k.URI.revive(w);case 2:return new RegExp(w.source,w.flags);case 17:return new Date(w.source)}if(w instanceof L.VSBuffer||w instanceof Uint8Array)return w;if(Array.isArray(w))for(let b=0;b<w.length;++b)w[b]=p(w[b],v+1);else for(const b in w)Object.hasOwnProperty.call(w,b)&&(w[b]=p(w[b],v+1))}return w}e.revive=p}),define(ne[47],se([1,0,12,17,11,22]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.VSCODE_AUTHORITY=e.RemoteAuthorities=e.connectionTokenQueryName=e.matchesSomeScheme=e.matchesScheme=e.Schemas=void 0;var S;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeManagedRemoteResource="vscode-managed-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.vscodeChatCodeBlock="vscode-chat-code-block",n.vscodeChatSesssion="vscode-chat-editor",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls",n.vscodeSourceControl="vscode-scm",n.codeSetting="code-setting",n.codeFeature="code-feature"})(S||(e.Schemas=S={}));function p(n,i){return D.URI.isUri(n)?(0,y.equalsIgnoreCase)(n.scheme,i):(0,y.startsWithIgnoreCase)(n,i+":")}e.matchesScheme=p;function w(n,...i){return i.some(t=>p(n,t))}e.matchesSomeScheme=w,e.connectionTokenQueryName="tkn";class v{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${S.vscodeRemoteResource}`}setPreferredWebSchema(i){this._preferredWebSchema=i}rewrite(i){if(this._delegate)try{return this._delegate(i)}catch(d){return L.onUnexpectedError(d),i}const t=i.authority;let o=this._hosts[t];o&&o.indexOf(":")!==-1&&o.indexOf("[")===-1&&(o=`[${o}]`);const g=this._ports[t],m=this._connectionTokens[t];let c=`path=${encodeURIComponent(i.path)}`;return typeof m=="string"&&(c+=`&${e.connectionTokenQueryName}=${encodeURIComponent(m)}`),D.URI.from({scheme:k.isWeb?this._preferredWebSchema:S.vscodeRemoteResource,authority:`${o}:${g}`,path:this._remoteResourcesPath,query:c})}}e.RemoteAuthorities=new v,e.VSCODE_AUTHORITY="vscode-app";class b{uriToBrowserUri(i){return i.scheme===S.vscodeRemote?e.RemoteAuthorities.rewrite(i):i.scheme===S.file&&(k.isNative||k.webWorkerOrigin===`${S.vscodeFileResource}://${b.FALLBACK_AUTHORITY}`)?i.with({scheme:S.vscodeFileResource,authority:i.authority||b.FALLBACK_AUTHORITY,query:null,fragment:null}):i}}b.FALLBACK_AUTHORITY=e.VSCODE_AUTHORITY,e.FileAccess=new b;var a;(function(n){const i=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);n.CoopAndCoep=Object.freeze(i.get("3"));const t="vscode-coi";function o(m){let c;typeof m=="string"?c=new URL(m).searchParams:m instanceof URL?c=m.searchParams:D.URI.isUri(m)&&(c=new URL(m.toString(!0)).searchParams);const d=c?.get(t);if(d)return i.get(d)}n.getHeadersFromQuery=o;function g(m,c,d){if(!globalThis.crossOriginIsolated)return;const s=c&&d?"3":d?"2":"1";m instanceof URLSearchParams?m.set(t,s):m[t]=s}n.addSearchParam=g})(a||(e.COI=a={}))}),define(ne[6],se([1,0,59,225,46,69,15,12,7,323,2,47,17,114,50]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.h=e.DragAndDropObserver=e.ModifierKeyEmitter=e.basicMarkupHtmlTags=e.hookDomPurifyHrefAndSrcSanitizer=e.asCssValueWithDefault=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.hide=e.show=e.setVisibility=e.$=e.Namespace=e.reset=e.prepend=e.append=e.after=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.isEventLike=e.EventType=e.isKeyboardEvent=e.isMouseEvent=e.removeCSSRulesContainingSelector=e.createCSSRule=e.sharedMutationObserver=e.createStyleSheet=e.createStyleSheet2=e.getActiveWindow=e.getActiveDocument=e.isAncestorOfActiveElement=e.isActiveElement=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.getDomNodeZoomLevel=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.WindowIntervalTimer=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.WindowIdleValue=e.runWhenWindowIdle=e.addDisposableGenericMouseUpListener=e.addDisposableGenericMouseDownListener=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.addDisposableListener=e.clearNode=e.onDidUnregisterWindow=e.onWillUnregisterWindow=e.onDidRegisterWindow=e.hasWindow=e.getWindowById=e.getWindowId=e.getWindowsCount=e.getWindows=e.getDocument=e.getWindow=e.registerWindow=void 0,o=function(){const Le=new Map;(0,t.ensureCodeWindow)(t.mainWindow,1);const we={window:t.mainWindow,disposables:new b.DisposableStore};Le.set(t.mainWindow.vscodeWindowId,we);const Te=new w.Emitter,ke=new w.Emitter,Ee=new w.Emitter;function Re(Pe,He){const Ue=typeof Pe=="number"?Le.get(Pe):void 0;return Ue??(He?we:void 0)}return{onDidRegisterWindow:Te.event,onWillUnregisterWindow:Ee.event,onDidUnregisterWindow:ke.event,registerWindow(Pe){if(Le.has(Pe.vscodeWindowId))return b.Disposable.None;const He=new b.DisposableStore,Ue={window:Pe,disposables:He.add(new b.DisposableStore)};return Le.set(Pe.vscodeWindowId,Ue),He.add((0,b.toDisposable)(()=>{Le.delete(Pe.vscodeWindowId),ke.fire(Pe)})),He.add(c(Pe,e.EventType.BEFORE_UNLOAD,()=>{Ee.fire(Pe)})),Te.fire(Ue),He},getWindows(){return Le.values()},getWindowsCount(){return Le.size},getWindowId(Pe){return Pe.vscodeWindowId},hasWindow(Pe){return Le.has(Pe)},getWindowById:Re,getWindow(Pe){var He;const Ue=Pe;if(!((He=Ue?.ownerDocument)===null||He===void 0)&&He.defaultView)return Ue.ownerDocument.defaultView.window;const Ze=Pe;return Ze?.view?Ze.view.window:t.mainWindow},getDocument(Pe){const He=Pe;return(0,e.getWindow)(He).document}}}(),e.registerWindow=o.registerWindow,e.getWindow=o.getWindow,e.getDocument=o.getDocument,e.getWindows=o.getWindows,e.getWindowsCount=o.getWindowsCount,e.getWindowId=o.getWindowId,e.getWindowById=o.getWindowById,e.hasWindow=o.hasWindow,e.onDidRegisterWindow=o.onDidRegisterWindow,e.onWillUnregisterWindow=o.onWillUnregisterWindow,e.onDidUnregisterWindow=o.onDidUnregisterWindow;function g(Le){for(;Le.firstChild;)Le.firstChild.remove()}e.clearNode=g;class m{constructor(we,Te,ke,Ee){this._node=we,this._type=Te,this._handler=ke,this._options=Ee||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function c(Le,we,Te,ke){return new m(Le,we,Te,ke)}e.addDisposableListener=c;function d(Le,we){return function(Te){return we(new D.StandardMouseEvent(Le,Te))}}function s(Le){return function(we){return Le(new y.StandardKeyboardEvent(we))}}const l=function(we,Te,ke,Ee){let Re=ke;return Te==="click"||Te==="mousedown"?Re=d((0,e.getWindow)(we),ke):(Te==="keydown"||Te==="keypress"||Te==="keyup")&&(Re=s(ke)),c(we,Te,Re,Ee)};e.addStandardDisposableListener=l;const r=function(we,Te,ke){const Ee=d((0,e.getWindow)(we),Te);return u(we,Ee,ke)};e.addStandardDisposableGenericMouseDownListener=r;const h=function(we,Te,ke){const Ee=d((0,e.getWindow)(we),Te);return f(we,Ee,ke)};e.addStandardDisposableGenericMouseUpListener=h;function u(Le,we,Te){return c(Le,n.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,we,Te)}e.addDisposableGenericMouseDownListener=u;function f(Le,we,Te){return c(Le,n.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,we,Te)}e.addDisposableGenericMouseUpListener=f;function C(Le,we,Te){return(0,S._runWhenIdle)(Le,we,Te)}e.runWhenWindowIdle=C;class _ extends S.AbstractIdleValue{constructor(we,Te){super(we,Te)}}e.WindowIdleValue=_;class E extends S.IntervalTimer{constructor(we){super(),this.defaultTarget=we&&(0,e.getWindow)(we)}cancelAndSet(we,Te,ke){return super.cancelAndSet(we,Te,ke??this.defaultTarget)}}e.WindowIntervalTimer=E;class I{constructor(we,Te=0){this._runner=we,this.priority=Te,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(we){(0,p.onUnexpectedError)(we)}}static sort(we,Te){return Te.priority-we.priority}}(function(){const Le=new Map,we=new Map,Te=new Map,ke=new Map,Ee=Re=>{var Pe;Te.set(Re,!1);const He=(Pe=Le.get(Re))!==null&&Pe!==void 0?Pe:[];for(we.set(Re,He),Le.set(Re,[]),ke.set(Re,!0);He.length>0;)He.sort(I.sort),He.shift().execute();ke.set(Re,!1)};e.scheduleAtNextAnimationFrame=(Re,Pe,He=0)=>{const Ue=(0,e.getWindowId)(Re),Ze=new I(Pe,He);let Ye=Le.get(Ue);return Ye||(Ye=[],Le.set(Ue,Ye)),Ye.push(Ze),Te.get(Ue)||(Te.set(Ue,!0),Re.requestAnimationFrame(()=>Ee(Ue))),Ze},e.runAtThisOrScheduleAtNextAnimationFrame=(Re,Pe,He)=>{const Ue=(0,e.getWindowId)(Re);if(ke.get(Ue)){const Ze=new I(Pe,He);let Ye=we.get(Ue);return Ye||(Ye=[],we.set(Ue,Ye)),Ye.push(Ze),Ze}else return(0,e.scheduleAtNextAnimationFrame)(Re,Pe,He)}})();function T(Le){return(0,e.getWindow)(Le).getComputedStyle(Le,null)}e.getComputedStyle=T;function A(Le,we){const Te=(0,e.getWindow)(Le),ke=Te.document;if(Le!==ke.body)return new M(Le.clientWidth,Le.clientHeight);if(n.isIOS&&Te?.visualViewport)return new M(Te.visualViewport.width,Te.visualViewport.height);if(Te?.innerWidth&&Te.innerHeight)return new M(Te.innerWidth,Te.innerHeight);if(ke.body&&ke.body.clientWidth&&ke.body.clientHeight)return new M(ke.body.clientWidth,ke.body.clientHeight);if(ke.documentElement&&ke.documentElement.clientWidth&&ke.documentElement.clientHeight)return new M(ke.documentElement.clientWidth,ke.documentElement.clientHeight);if(we)return A(we);throw new Error("Unable to figure out browser width and height")}e.getClientArea=A;class R{static convertToPixels(we,Te){return parseFloat(Te)||0}static getDimension(we,Te,ke){const Ee=T(we),Re=Ee?Ee.getPropertyValue(Te):"0";return R.convertToPixels(we,Re)}static getBorderLeftWidth(we){return R.getDimension(we,"border-left-width","borderLeftWidth")}static getBorderRightWidth(we){return R.getDimension(we,"border-right-width","borderRightWidth")}static getBorderTopWidth(we){return R.getDimension(we,"border-top-width","borderTopWidth")}static getBorderBottomWidth(we){return R.getDimension(we,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(we){return R.getDimension(we,"padding-left","paddingLeft")}static getPaddingRight(we){return R.getDimension(we,"padding-right","paddingRight")}static getPaddingTop(we){return R.getDimension(we,"padding-top","paddingTop")}static getPaddingBottom(we){return R.getDimension(we,"padding-bottom","paddingBottom")}static getMarginLeft(we){return R.getDimension(we,"margin-left","marginLeft")}static getMarginTop(we){return R.getDimension(we,"margin-top","marginTop")}static getMarginRight(we){return R.getDimension(we,"margin-right","marginRight")}static getMarginBottom(we){return R.getDimension(we,"margin-bottom","marginBottom")}}class M{constructor(we,Te){this.width=we,this.height=Te}with(we=this.width,Te=this.height){return we!==this.width||Te!==this.height?new M(we,Te):this}static is(we){return typeof we=="object"&&typeof we.height=="number"&&typeof we.width=="number"}static lift(we){return we instanceof M?we:new M(we.width,we.height)}static equals(we,Te){return we===Te?!0:!we||!Te?!1:we.width===Te.width&&we.height===Te.height}}e.Dimension=M,M.None=new M(0,0);function N(Le){let we=Le.offsetParent,Te=Le.offsetTop,ke=Le.offsetLeft;for(;(Le=Le.parentNode)!==null&&Le!==Le.ownerDocument.body&&Le!==Le.ownerDocument.documentElement;){Te-=Le.scrollTop;const Ee=re(Le)?null:T(Le);Ee&&(ke-=Ee.direction!=="rtl"?Le.scrollLeft:-Le.scrollLeft),Le===we&&(ke+=R.getBorderLeftWidth(Le),Te+=R.getBorderTopWidth(Le),Te+=Le.offsetTop,ke+=Le.offsetLeft,we=Le.offsetParent)}return{left:ke,top:Te}}e.getTopLeftOffset=N;function P(Le,we,Te){typeof we=="number"&&(Le.style.width=`${we}px`),typeof Te=="number"&&(Le.style.height=`${Te}px`)}e.size=P;function F(Le){const we=Le.getBoundingClientRect(),Te=(0,e.getWindow)(Le);return{left:we.left+Te.scrollX,top:we.top+Te.scrollY,width:we.width,height:we.height}}e.getDomNodePagePosition=F;function O(Le){let we=Le,Te=1;do{const ke=T(we).zoom;ke!=null&&ke!=="1"&&(Te*=ke),we=we.parentElement}while(we!==null&&we!==we.ownerDocument.documentElement);return Te}e.getDomNodeZoomLevel=O;function B(Le){const we=R.getMarginLeft(Le)+R.getMarginRight(Le);return Le.offsetWidth+we}e.getTotalWidth=B;function W(Le){const we=R.getBorderLeftWidth(Le)+R.getBorderRightWidth(Le),Te=R.getPaddingLeft(Le)+R.getPaddingRight(Le);return Le.offsetWidth-we-Te}e.getContentWidth=W;function V(Le){const we=R.getBorderTopWidth(Le)+R.getBorderBottomWidth(Le),Te=R.getPaddingTop(Le)+R.getPaddingBottom(Le);return Le.offsetHeight-we-Te}e.getContentHeight=V;function z(Le){const we=R.getMarginTop(Le)+R.getMarginBottom(Le);return Le.offsetHeight+we}e.getTotalHeight=z;function K(Le,we){return!!we?.contains(Le)}e.isAncestor=K;function j(Le,we,Te){for(;Le&&Le.nodeType===Le.ELEMENT_NODE;){if(Le.classList.contains(we))return Le;if(Te){if(typeof Te=="string"){if(Le.classList.contains(Te))return null}else if(Le===Te)return null}Le=Le.parentNode}return null}e.findParentWithClass=j;function x(Le,we,Te){return!!j(Le,we,Te)}e.hasParentWithClass=x;function re(Le){return Le&&!!Le.host&&!!Le.mode}e.isShadowRoot=re;function ie(Le){return!!J(Le)}e.isInShadowDOM=ie;function J(Le){for(var we;Le.parentNode;){if(Le===((we=Le.ownerDocument)===null||we===void 0?void 0:we.body))return null;Le=Le.parentNode}return re(Le)?Le:null}e.getShadowRoot=J;function X(){let Le=de().activeElement;for(;Le?.shadowRoot;)Le=Le.shadowRoot.activeElement;return Le}e.getActiveElement=X;function Y(Le){return X()===Le}e.isActiveElement=Y;function le(Le){return K(X(),Le)}e.isAncestorOfActiveElement=le;function de(){var Le;return(0,e.getWindowsCount)()<=1?t.mainWindow.document:(Le=Array.from((0,e.getWindows)()).map(({window:Te})=>Te.document).find(Te=>Te.hasFocus()))!==null&&Le!==void 0?Le:t.mainWindow.document}e.getActiveDocument=de;function ge(){var Le,we;return(we=(Le=de().defaultView)===null||Le===void 0?void 0:Le.window)!==null&&we!==void 0?we:t.mainWindow}e.getActiveWindow=ge;const pe=new Map;function Q(){return new U}e.createStyleSheet2=Q;class U{constructor(){this._currentCssStyle="",this._styleSheet=void 0}setStyle(we){we!==this._currentCssStyle&&(this._currentCssStyle=we,this._styleSheet?this._styleSheet.innerText=we:this._styleSheet=Z(t.mainWindow.document.head,Te=>Te.innerText=we))}dispose(){this._styleSheet&&(this._styleSheet.remove(),this._styleSheet=void 0)}}function Z(Le=t.mainWindow.document.head,we,Te){const ke=document.createElement("style");if(ke.type="text/css",ke.media="screen",we?.(ke),Le.appendChild(ke),Te&&Te.add((0,b.toDisposable)(()=>Le.removeChild(ke))),Le===t.mainWindow.document.head){const Ee=new Set;pe.set(ke,Ee);for(const{window:Re,disposables:Pe}of(0,e.getWindows)()){if(Re===t.mainWindow)continue;const He=Pe.add(H(ke,Ee,Re));Te?.add(He)}}return ke}e.createStyleSheet=Z;function H(Le,we,Te){var ke,Ee;const Re=new b.DisposableStore,Pe=Le.cloneNode(!0);Te.document.head.appendChild(Pe),Re.add((0,b.toDisposable)(()=>Te.document.head.removeChild(Pe)));for(const He of G(Le))(ke=Pe.sheet)===null||ke===void 0||ke.insertRule(He.cssText,(Ee=Pe.sheet)===null||Ee===void 0?void 0:Ee.cssRules.length);return Re.add(e.sharedMutationObserver.observe(Le,Re,{childList:!0})(()=>{Pe.textContent=Le.textContent})),we.add(Pe),Re.add((0,b.toDisposable)(()=>we.delete(Pe))),Re}e.sharedMutationObserver=new class{constructor(){this.mutationObservers=new Map}observe(Le,we,Te){let ke=this.mutationObservers.get(Le);ke||(ke=new Map,this.mutationObservers.set(Le,ke));const Ee=(0,i.hash)(Te);let Re=ke.get(Ee);if(Re)Re.users+=1;else{const Pe=new w.Emitter,He=new MutationObserver(Ze=>Pe.fire(Ze));He.observe(Le,Te);const Ue=Re={users:1,observer:He,onDidMutate:Pe.event};we.add((0,b.toDisposable)(()=>{Ue.users-=1,Ue.users===0&&(Pe.dispose(),He.disconnect(),ke?.delete(Ee),ke?.size===0&&this.mutationObservers.delete(Le))})),ke.set(Ee,Re)}return Re.onDidMutate}};let q=null;function te(){return q||(q=Z()),q}function G(Le){var we,Te;return!((we=Le?.sheet)===null||we===void 0)&&we.rules?Le.sheet.rules:!((Te=Le?.sheet)===null||Te===void 0)&&Te.cssRules?Le.sheet.cssRules:[]}function $(Le,we,Te=te()){var ke,Ee;if(!(!Te||!we)){(ke=Te.sheet)===null||ke===void 0||ke.insertRule(`${Le} {${we}}`,0);for(const Re of(Ee=pe.get(Te))!==null&&Ee!==void 0?Ee:[])$(Le,we,Re)}}e.createCSSRule=$;function oe(Le,we=te()){var Te,ke;if(!we)return;const Ee=G(we),Re=[];for(let Pe=0;Pe<Ee.length;Pe++){const He=Ee[Pe];ae(He)&&He.selectorText.indexOf(Le)!==-1&&Re.push(Pe)}for(let Pe=Re.length-1;Pe>=0;Pe--)(Te=we.sheet)===null||Te===void 0||Te.deleteRule(Re[Pe]);for(const Pe of(ke=pe.get(we))!==null&&ke!==void 0?ke:[])oe(Le,Pe)}e.removeCSSRulesContainingSelector=oe;function ae(Le){return typeof Le.selectorText=="string"}function ue(Le){return Le instanceof MouseEvent||Le instanceof(0,e.getWindow)(Le).MouseEvent}e.isMouseEvent=ue;function ce(Le){return Le instanceof KeyboardEvent||Le instanceof(0,e.getWindow)(Le).KeyboardEvent}e.isKeyboardEvent=ce,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:L.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:L.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:L.isWebKit?"webkitAnimationIteration":"animationiteration"};function fe(Le){const we=Le;return!!(we&&typeof we.preventDefault=="function"&&typeof we.stopPropagation=="function")}e.isEventLike=fe,e.EventHelper={stop:(Le,we)=>(Le.preventDefault(),we&&Le.stopPropagation(),Le)};function ve(Le){const we=[];for(let Te=0;Le&&Le.nodeType===Le.ELEMENT_NODE;Te++)we[Te]=Le.scrollTop,Le=Le.parentNode;return we}e.saveParentsScrollTop=ve;function Ce(Le,we){for(let Te=0;Le&&Le.nodeType===Le.ELEMENT_NODE;Te++)Le.scrollTop!==we[Te]&&(Le.scrollTop=we[Te]),Le=Le.parentNode}e.restoreParentsScrollTop=Ce;class Se extends b.Disposable{static hasFocusWithin(we){if(we instanceof HTMLElement){const Te=J(we),ke=Te?Te.activeElement:we.ownerDocument.activeElement;return K(ke,we)}else{const Te=we;return K(Te.document.activeElement,Te.document)}}constructor(we){super(),this._onDidFocus=this._register(new w.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new w.Emitter),this.onDidBlur=this._onDidBlur.event;let Te=Se.hasFocusWithin(we),ke=!1;const Ee=()=>{ke=!1,Te||(Te=!0,this._onDidFocus.fire())},Re=()=>{Te&&(ke=!0,(we instanceof HTMLElement?(0,e.getWindow)(we):we).setTimeout(()=>{ke&&(ke=!1,Te=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Se.hasFocusWithin(we)!==Te&&(Te?Re():Ee())},this._register(c(we,e.EventType.FOCUS,Ee,!0)),this._register(c(we,e.EventType.BLUR,Re,!0)),we instanceof HTMLElement&&(this._register(c(we,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(c(we,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler())))}}function _e(Le){return new Se(Le)}e.trackFocus=_e;function Ie(Le,we){return Le.after(we),we}e.after=Ie;function Ne(Le,...we){if(Le.append(...we),we.length===1&&typeof we[0]!="string")return we[0]}e.append=Ne;function Oe(Le,we){return Le.insertBefore(we,Le.firstChild),we}e.prepend=Oe;function xe(Le,...we){Le.innerText="",Ne(Le,...we)}e.reset=xe;const We=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var ye;(function(Le){Le.HTML="http://www.w3.org/1999/xhtml",Le.SVG="http://www.w3.org/2000/svg"})(ye||(e.Namespace=ye={}));function Me(Le,we,Te,...ke){const Ee=We.exec(we);if(!Ee)throw new Error("Bad use of emmet");const Re=Ee[1]||"div";let Pe;return Le!==ye.HTML?Pe=document.createElementNS(Le,Re):Pe=document.createElement(Re),Ee[3]&&(Pe.id=Ee[3]),Ee[4]&&(Pe.className=Ee[4].replace(/\./g," ").trim()),Te&&Object.entries(Te).forEach(([He,Ue])=>{typeof Ue>"u"||(/^on\w+$/.test(He)?Pe[He]=Ue:He==="selected"?Ue&&Pe.setAttribute(He,"true"):Pe.setAttribute(He,Ue))}),Pe.append(...ke),Pe}function me(Le,we,...Te){return Me(ye.HTML,Le,we,...Te)}e.$=me,me.SVG=function(Le,we,...Te){return Me(ye.SVG,Le,we,...Te)};function be(Le,...we){Le?Ae(...we):Be(...we)}e.setVisibility=be;function Ae(...Le){for(const we of Le)we.style.display="",we.removeAttribute("aria-hidden")}e.show=Ae;function Be(...Le){for(const we of Le)we.style.display="none",we.setAttribute("aria-hidden","true")}e.hide=Be;function Ke(Le,we){const Te=Le.devicePixelRatio*we;return Math.max(1,Math.floor(Te))/Le.devicePixelRatio}e.computeScreenAwareSize=Ke;function qe(Le){t.mainWindow.open(Le,"_blank","noopener")}e.windowOpenNoOpener=qe;function Ge(Le,we){const Te=()=>{we(),ke=(0,e.scheduleAtNextAnimationFrame)(Le,Te)};let ke=(0,e.scheduleAtNextAnimationFrame)(Le,Te);return(0,b.toDisposable)(()=>ke.dispose())}e.animate=Ge,a.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(t.mainWindow.location.href)?"https":"http");function st(Le){return Le?`url('${a.FileAccess.uriToBrowserUri(Le).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=st;function Xe(Le){return`'${Le.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=Xe;function ot(Le,we){if(Le!==void 0){const Te=Le.match(/^\s*var\((.+)\)$/);if(Te){const ke=Te[1].split(",",2);return ke.length===2&&(we=ot(ke[1].trim(),we)),`var(${ke[0]}, ${we})`}return Le}return we}e.asCssValueWithDefault=ot;function nt(Le,we=!1){const Te=document.createElement("a");return v.addHook("afterSanitizeAttributes",ke=>{for(const Ee of["href","src"])if(ke.hasAttribute(Ee)){const Re=ke.getAttribute(Ee);if(Ee==="href"&&Re.startsWith("#"))continue;if(Te.href=Re,!Le.includes(Te.protocol.replace(/:$/,""))){if(we&&Ee==="src"&&Te.href.startsWith("data:"))continue;ke.removeAttribute(Ee)}}}),(0,b.toDisposable)(()=>{v.removeHook("afterSanitizeAttributes")})}e.hookDomPurifyHrefAndSrcSanitizer=nt,e.basicMarkupHtmlTags=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);const rt=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class at extends w.Emitter{constructor(){super(),this._subscriptions=new b.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(w.Event.runAndSubscribe(e.onDidRegisterWindow,({window:we,disposables:Te})=>this.registerListeners(we,Te),{window:t.mainWindow,disposables:this._subscriptions}))}registerListeners(we,Te){Te.add(c(we,"keydown",ke=>{if(ke.defaultPrevented)return;const Ee=new y.StandardKeyboardEvent(ke);if(!(Ee.keyCode===6&&ke.repeat)){if(ke.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(ke.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(ke.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(ke.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Ee.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=ke.altKey,this._keyStatus.ctrlKey=ke.ctrlKey,this._keyStatus.metaKey=ke.metaKey,this._keyStatus.shiftKey=ke.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=ke,this.fire(this._keyStatus))}},!0)),Te.add(c(we,"keyup",ke=>{ke.defaultPrevented||(!ke.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!ke.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!ke.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!ke.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=ke.altKey,this._keyStatus.ctrlKey=ke.ctrlKey,this._keyStatus.metaKey=ke.metaKey,this._keyStatus.shiftKey=ke.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=ke,this.fire(this._keyStatus)))},!0)),Te.add(c(we.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Te.add(c(we.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Te.add(c(we.document.body,"mousemove",ke=>{ke.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),Te.add(c(we,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return at.instance||(at.instance=new at),at.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=at;class ut extends b.Disposable{constructor(we,Te){super(),this.element=we,this.callbacks=Te,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(c(this.element,e.EventType.DRAG_START,we=>{var Te,ke;(ke=(Te=this.callbacks).onDragStart)===null||ke===void 0||ke.call(Te,we)})),this.callbacks.onDrag&&this._register(c(this.element,e.EventType.DRAG,we=>{var Te,ke;(ke=(Te=this.callbacks).onDrag)===null||ke===void 0||ke.call(Te,we)})),this._register(c(this.element,e.EventType.DRAG_ENTER,we=>{var Te,ke;this.counter++,this.dragStartTime=we.timeStamp,(ke=(Te=this.callbacks).onDragEnter)===null||ke===void 0||ke.call(Te,we)})),this._register(c(this.element,e.EventType.DRAG_OVER,we=>{var Te,ke;we.preventDefault(),(ke=(Te=this.callbacks).onDragOver)===null||ke===void 0||ke.call(Te,we,we.timeStamp-this.dragStartTime)})),this._register(c(this.element,e.EventType.DRAG_LEAVE,we=>{var Te,ke;this.counter--,this.counter===0&&(this.dragStartTime=0,(ke=(Te=this.callbacks).onDragLeave)===null||ke===void 0||ke.call(Te,we))})),this._register(c(this.element,e.EventType.DRAG_END,we=>{var Te,ke;this.counter=0,this.dragStartTime=0,(ke=(Te=this.callbacks).onDragEnd)===null||ke===void 0||ke.call(Te,we)})),this._register(c(this.element,e.EventType.DROP,we=>{var Te,ke;this.counter=0,this.dragStartTime=0,(ke=(Te=this.callbacks).onDrop)===null||ke===void 0||ke.call(Te,we)}))}}e.DragAndDropObserver=ut;const dt=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function vt(Le,...we){let Te,ke;Array.isArray(we[0])?(Te={},ke=we[0]):(Te=we[0]||{},ke=we[1]);const Ee=dt.exec(Le);if(!Ee||!Ee.groups)throw new Error("Bad use of h");const Re=Ee.groups.tag||"div",Pe=document.createElement(Re);Ee.groups.id&&(Pe.id=Ee.groups.id);const He=[];if(Ee.groups.class)for(const Ze of Ee.groups.class.split("."))Ze!==""&&He.push(Ze);if(Te.className!==void 0)for(const Ze of Te.className.split("."))Ze!==""&&He.push(Ze);He.length>0&&(Pe.className=He.join(" "));const Ue={};if(Ee.groups.name&&(Ue[Ee.groups.name]=Pe),ke)for(const Ze of ke)Ze instanceof HTMLElement?Pe.appendChild(Ze):typeof Ze=="string"?Pe.append(Ze):"root"in Ze&&(Object.assign(Ue,Ze),Pe.appendChild(Ze.root));for(const[Ze,Ye]of Object.entries(Te))if(Ze!=="className")if(Ze==="style")for(const[$e,Fe]of Object.entries(Ye))Pe.style.setProperty(mt($e),typeof Fe=="number"?Fe+"px":""+Fe);else Ze==="tabIndex"?Pe.tabIndex=Ye:Pe.setAttribute(mt(Ze),Ye.toString());return Ue.root=Pe,Ue}e.h=vt;function mt(Le){return Le.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(ne[324],se([1,0,6]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function k(a,n={}){const i=D(n);return i.textContent=a,i}e.renderText=k;function y(a,n={}){const i=D(n);return p(i,w(a,!!n.renderCodeSegments),n.actionHandler,n.renderCodeSegments),i}e.renderFormattedText=y;function D(a){const n=a.inline?"span":"div",i=document.createElement(n);return a.className&&(i.className=a.className),i}e.createElement=D;class S{constructor(n){this.source=n,this.index=0}eos(){return this.index>=this.source.length}next(){const n=this.peek();return this.advance(),n}peek(){return this.source[this.index]}advance(){this.index++}}function p(a,n,i,t){let o;if(n.type===2)o=document.createTextNode(n.content||"");else if(n.type===3)o=document.createElement("b");else if(n.type===4)o=document.createElement("i");else if(n.type===7&&t)o=document.createElement("code");else if(n.type===5&&i){const g=document.createElement("a");i.disposables.add(L.addStandardDisposableListener(g,"click",m=>{i.callback(String(n.index),m)})),o=g}else n.type===8?o=document.createElement("br"):n.type===1&&(o=a);o&&a!==o&&a.appendChild(o),o&&Array.isArray(n.children)&&n.children.forEach(g=>{p(o,g,i,t)})}function w(a,n){const i={type:1,children:[]};let t=0,o=i;const g=[],m=new S(a);for(;!m.eos();){let c=m.next();const d=c==="\\"&&b(m.peek(),n)!==0;if(d&&(c=m.next()),!d&&v(c,n)&&c===m.peek()){m.advance(),o.type===2&&(o=g.pop());const s=b(c,n);if(o.type===s||o.type===5&&s===6)o=g.pop();else{const l={type:s,children:[]};s===5&&(l.index=t,t++),o.children.push(l),g.push(o),o=l}}else if(c===`
`)o.type===2&&(o=g.pop()),o.children.push({type:8});else if(o.type!==2){const s={type:2,content:c};o.children.push(s),g.push(o),o=s}else o.content+=c}return o.type===2&&(o=g.pop()),g.length,i}function v(a,n){return b(a,n)!==0}function b(a,n){switch(a){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return n?7:0;default:return 0}}}),define(ne[159],se([1,0,6,2]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class y{constructor(){this._hooks=new k.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(S,p){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const w=this._onStopCallback;this._onStopCallback=null,S&&w&&w(p)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(S,p,w,v,b){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=v,this._onStopCallback=b;let a=S;try{S.setPointerCapture(p),this._hooks.add((0,k.toDisposable)(()=>{try{S.releasePointerCapture(p)}catch{}}))}catch{a=L.getWindow(S)}this._hooks.add(L.addDisposableListener(a,L.EventType.POINTER_MOVE,n=>{if(n.buttons!==w){this.stopMonitoring(!0);return}n.preventDefault(),this._pointerMoveCallback(n)})),this._hooks.add(L.addDisposableListener(a,L.EventType.POINTER_UP,n=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=y}),define(ne[230],se([1,0,6,7,2]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PixelRatio=void 0;class D extends y.Disposable{constructor(v){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(v,!0),this._mediaQueryList=null,this._handleChange(v,!1)}_handleChange(v,b){var a;(a=this._mediaQueryList)===null||a===void 0||a.removeEventListener("change",this._listener),this._mediaQueryList=v.matchMedia(`(resolution: ${v.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),b&&this._onDidChange.fire()}}class S extends y.Disposable{get value(){return this._value}constructor(v){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(v);const b=this._register(new D(v));this._register(b.onDidChange(()=>{this._value=this._getPixelRatio(v),this._onDidChange.fire(this._value)}))}_getPixelRatio(v){const b=document.createElement("canvas").getContext("2d"),a=v.devicePixelRatio||1,n=b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1;return a/n}}class p{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(v){const b=(0,L.getWindowId)(v);let a=this.mapWindowIdToPixelRatioMonitor.get(b);return a||(a=(0,y.markAsSingleton)(new S(v)),this.mapWindowIdToPixelRatioMonitor.set(b,a),(0,y.markAsSingleton)(k.Event.once(L.onDidUnregisterWindow)(({vscodeWindowId:n})=>{n===b&&(a?.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(b))}))),a}getInstance(v){return this._getOrCreatePixelRatioMonitor(v)}}e.PixelRatio=new p}),define(ne[65],se([1,0,6,50,13,111,7,2,67]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var v;(function(a){a.Tap="-monaco-gesturetap",a.Change="-monaco-gesturechange",a.Start="-monaco-gesturestart",a.End="-monaco-gesturesend",a.Contextmenu="-monaco-gesturecontextmenu"})(v||(e.EventType=v={}));class b extends p.Disposable{constructor(){super(),this.dispatched=!1,this.targets=new w.LinkedList,this.ignoreTargets=new w.LinkedList,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(S.Event.runAndSubscribe(L.onDidRegisterWindow,({window:n,disposables:i})=>{i.add(L.addDisposableListener(n.document,"touchstart",t=>this.onTouchStart(t),{passive:!1})),i.add(L.addDisposableListener(n.document,"touchend",t=>this.onTouchEnd(n,t))),i.add(L.addDisposableListener(n.document,"touchmove",t=>this.onTouchMove(t),{passive:!1}))},{window:k.mainWindow,disposables:this._store}))}static addTarget(n){if(!b.isTouchDevice())return p.Disposable.None;b.INSTANCE||(b.INSTANCE=(0,p.markAsSingleton)(new b));const i=b.INSTANCE.targets.push(n);return(0,p.toDisposable)(i)}static ignoreTarget(n){if(!b.isTouchDevice())return p.Disposable.None;b.INSTANCE||(b.INSTANCE=(0,p.markAsSingleton)(new b));const i=b.INSTANCE.ignoreTargets.push(n);return(0,p.toDisposable)(i)}static isTouchDevice(){return"ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(n){const i=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let t=0,o=n.targetTouches.length;t<o;t++){const g=n.targetTouches.item(t);this.activeTouches[g.identifier]={id:g.identifier,initialTarget:g.target,initialTimeStamp:i,initialPageX:g.pageX,initialPageY:g.pageY,rollingTimestamps:[i],rollingPageX:[g.pageX],rollingPageY:[g.pageY]};const m=this.newGestureEvent(v.Start,g.target);m.pageX=g.pageX,m.pageY=g.pageY,this.dispatchEvent(m)}this.dispatched&&(n.preventDefault(),n.stopPropagation(),this.dispatched=!1)}onTouchEnd(n,i){const t=Date.now(),o=Object.keys(this.activeTouches).length;for(let g=0,m=i.changedTouches.length;g<m;g++){const c=i.changedTouches.item(g);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("move of an UNKNOWN touch",c);continue}const d=this.activeTouches[c.identifier],s=Date.now()-d.initialTimeStamp;if(s<b.HOLD_DELAY&&Math.abs(d.initialPageX-y.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-y.tail(d.rollingPageY))<30){const l=this.newGestureEvent(v.Tap,d.initialTarget);l.pageX=y.tail(d.rollingPageX),l.pageY=y.tail(d.rollingPageY),this.dispatchEvent(l)}else if(s>=b.HOLD_DELAY&&Math.abs(d.initialPageX-y.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-y.tail(d.rollingPageY))<30){const l=this.newGestureEvent(v.Contextmenu,d.initialTarget);l.pageX=y.tail(d.rollingPageX),l.pageY=y.tail(d.rollingPageY),this.dispatchEvent(l)}else if(o===1){const l=y.tail(d.rollingPageX),r=y.tail(d.rollingPageY),h=y.tail(d.rollingTimestamps)-d.rollingTimestamps[0],u=l-d.rollingPageX[0],f=r-d.rollingPageY[0],C=[...this.targets].filter(_=>d.initialTarget instanceof Node&&_.contains(d.initialTarget));this.inertia(n,C,t,Math.abs(u)/h,u>0?1:-1,l,Math.abs(f)/h,f>0?1:-1,r)}this.dispatchEvent(this.newGestureEvent(v.End,d.initialTarget)),delete this.activeTouches[c.identifier]}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}newGestureEvent(n,i){const t=document.createEvent("CustomEvent");return t.initEvent(n,!1,!0),t.initialTarget=i,t.tapCount=0,t}dispatchEvent(n){if(n.type===v.Tap){const i=new Date().getTime();let t=0;i-this._lastSetTapCountTime>b.CLEAR_TAP_COUNT_TIME?t=1:t=2,this._lastSetTapCountTime=i,n.tapCount=t}else(n.type===v.Change||n.type===v.Contextmenu)&&(this._lastSetTapCountTime=0);if(n.initialTarget instanceof Node){for(const i of this.ignoreTargets)if(i.contains(n.initialTarget))return;for(const i of this.targets)i.contains(n.initialTarget)&&(i.dispatchEvent(n),this.dispatched=!0)}}inertia(n,i,t,o,g,m,c,d,s){this.handle=L.scheduleAtNextAnimationFrame(n,()=>{const l=Date.now(),r=l-t;let h=0,u=0,f=!0;o+=b.SCROLL_FRICTION*r,c+=b.SCROLL_FRICTION*r,o>0&&(f=!1,h=g*o*r),c>0&&(f=!1,u=d*c*r);const C=this.newGestureEvent(v.Change);C.translationX=h,C.translationY=u,i.forEach(_=>_.dispatchEvent(C)),f||this.inertia(n,i,l,o,g,m+h,c,d,s+u)})}onTouchMove(n){const i=Date.now();for(let t=0,o=n.changedTouches.length;t<o;t++){const g=n.changedTouches.item(t);if(!this.activeTouches.hasOwnProperty(String(g.identifier))){console.warn("end of an UNKNOWN touch",g);continue}const m=this.activeTouches[g.identifier],c=this.newGestureEvent(v.Change,m.initialTarget);c.translationX=g.pageX-y.tail(m.rollingPageX),c.translationY=g.pageY-y.tail(m.rollingPageY),c.pageX=g.pageX,c.pageY=g.pageY,this.dispatchEvent(c),m.rollingPageX.length>3&&(m.rollingPageX.shift(),m.rollingPageY.shift(),m.rollingTimestamps.shift()),m.rollingPageX.push(g.pageX),m.rollingPageY.push(g.pageY),m.rollingTimestamps.push(i)}this.dispatched&&(n.preventDefault(),n.stopPropagation(),this.dispatched=!1)}}e.Gesture=b,b.SCROLL_FRICTION=-.005,b.HOLD_DELAY=700,b.CLEAR_TAP_COUNT_TIME=400,De([D.memoize],b,"isTouchDevice",null)}),define(ne[44],se([1,0,6,415]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const k=2e4;let y,D,S,p,w;function v(i){y=document.createElement("div"),y.className="monaco-aria-container";const t=()=>{const g=document.createElement("div");return g.className="monaco-alert",g.setAttribute("role","alert"),g.setAttribute("aria-atomic","true"),y.appendChild(g),g};D=t(),S=t();const o=()=>{const g=document.createElement("div");return g.className="monaco-status",g.setAttribute("aria-live","polite"),g.setAttribute("aria-atomic","true"),y.appendChild(g),g};p=o(),w=o(),i.appendChild(y)}e.setARIAContainer=v;function b(i){y&&(D.textContent!==i?(L.clearNode(S),n(D,i)):(L.clearNode(D),n(S,i)))}e.alert=b;function a(i){y&&(p.textContent!==i?(L.clearNode(w),n(p,i)):(L.clearNode(p),n(w,i)))}e.status=a;function n(i,t){L.clearNode(i),t.length>k&&(t=t.substr(0,k)),i.textContent=t,i.style.visibility="hidden",i.style.visibility="visible"}}),define(ne[325],se([1,0,225,6,2,17,175,419]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=e.isAnchor=void 0;function p(n){const i=n;return!!i&&typeof i.x=="number"&&typeof i.y=="number"}e.isAnchor=p;var w;(function(n){n[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN"})(w||(e.LayoutAnchorMode=w={}));function v(n,i,t){const o=t.mode===w.ALIGN?t.offset:t.offset+t.size,g=t.mode===w.ALIGN?t.offset+t.size:t.offset;return t.position===0?i<=n-o?o:i<=g?g-i:Math.max(n-i,0):i<=g?g-i:i<=n-o?o:0}e.layout=v;class b extends y.Disposable{constructor(i,t){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=y.Disposable.None,this.toDisposeOnSetContainer=y.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=k.$(".context-view"),k.hide(this.view),this.setContainer(i,t),this._register((0,y.toDisposable)(()=>this.setContainer(null,1)))}setContainer(i,t){var o;this.useFixedPosition=t!==1;const g=this.useShadowDOM;if(this.useShadowDOM=t===3,!(i===this.container&&g===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(o=this.shadowRootHostElement)===null||o===void 0||o.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),i)){if(this.container=i,this.useShadowDOM){this.shadowRootHostElement=k.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const c=document.createElement("style");c.textContent=a,this.shadowRoot.appendChild(c),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(k.$("slot"))}else this.container.appendChild(this.view);const m=new y.DisposableStore;b.BUBBLE_UP_EVENTS.forEach(c=>{m.add(k.addStandardDisposableListener(this.container,c,d=>{this.onDOMEvent(d,!1)}))}),b.BUBBLE_DOWN_EVENTS.forEach(c=>{m.add(k.addStandardDisposableListener(this.container,c,d=>{this.onDOMEvent(d,!0)},!0))}),this.toDisposeOnSetContainer=m}}show(i){var t,o;this.isVisible()&&this.hide(),k.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",k.show(this.view),this.toDisposeOnClean=i.render(this.view)||y.Disposable.None,this.delegate=i,this.doLayout(),(o=(t=this.delegate).focus)===null||o===void 0||o.call(t)}getViewElement(){return this.view}layout(){var i,t;if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(D.isIOS&&L.BrowserFeatures.pointerEvents)){this.hide();return}(t=(i=this.delegate)===null||i===void 0?void 0:i.layout)===null||t===void 0||t.call(i),this.doLayout()}}doLayout(){if(!this.isVisible())return;const i=this.delegate.getAnchor();let t;if(i instanceof HTMLElement){const u=k.getDomNodePagePosition(i),f=k.getDomNodeZoomLevel(i);t={top:u.top*f,left:u.left*f,width:u.width*f,height:u.height*f}}else p(i)?t={top:i.y,left:i.x,width:i.width||1,height:i.height||2}:t={top:i.posy,left:i.posx,width:2,height:2};const o=k.getTotalWidth(this.view),g=k.getTotalHeight(this.view),m=this.delegate.anchorPosition||0,c=this.delegate.anchorAlignment||0,d=this.delegate.anchorAxisAlignment||0;let s,l;const r=k.getActiveWindow();if(d===0){const u={offset:t.top-r.pageYOffset,size:t.height,position:m===0?0:1},f={offset:t.left,size:t.width,position:c===0?0:1,mode:w.ALIGN};s=v(r.innerHeight,g,u)+r.pageYOffset,S.Range.intersects({start:s,end:s+g},{start:u.offset,end:u.offset+u.size})&&(f.mode=w.AVOID),l=v(r.innerWidth,o,f)}else{const u={offset:t.left,size:t.width,position:c===0?0:1},f={offset:t.top,size:t.height,position:m===0?0:1,mode:w.ALIGN};l=v(r.innerWidth,o,u),S.Range.intersects({start:l,end:l+o},{start:u.offset,end:u.offset+u.size})&&(f.mode=w.AVOID),s=v(r.innerHeight,g,f)+r.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(m===0?"bottom":"top"),this.view.classList.add(c===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const h=k.getDomNodePagePosition(this.container);this.view.style.top=`${s-(this.useFixedPosition?k.getDomNodePagePosition(this.view).top:h.top)}px`,this.view.style.left=`${l-(this.useFixedPosition?k.getDomNodePagePosition(this.view).left:h.left)}px`,this.view.style.width="initial"}hide(i){const t=this.delegate;this.delegate=null,t?.onHide&&t.onHide(i),this.toDisposeOnClean.dispose(),k.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(i,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(i,k.getWindow(i).document.activeElement):t&&!k.isAncestor(i.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=b,b.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],b.BUBBLE_DOWN_EVENTS=["click"];const a=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ne[326],se([1,0,6,11,420]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;class y{constructor(S,p,w){this.options=p,this.styles=w,this.count=0,this.element=(0,L.append)(S,(0,L.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(S){this.count=S,this.render()}setTitleFormat(S){this.titleFormat=S,this.render()}render(){var S,p;this.element.textContent=(0,k.format)(this.countFormat,this.count),this.element.title=(0,k.format)(this.titleFormat,this.count),this.element.style.backgroundColor=(S=this.styles.badgeBackground)!==null&&S!==void 0?S:"",this.element.style.color=(p=this.styles.badgeForeground)!==null&&p!==void 0?p:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}e.CountBadge=y}),define(ne[598],se([1,0,6,46,65,42,7,281]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=void 0;class p extends D.ActionRunner{constructor(b,a){super(),this._onDidChangeVisibility=this._register(new S.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,L.append)(b,(0,L.$)(".monaco-dropdown")),this._label=(0,L.append)(this._element,(0,L.$)(".dropdown-label"));let n=a.labelRenderer;n||(n=t=>(t.textContent=a.label||"",null));for(const t of[L.EventType.CLICK,L.EventType.MOUSE_DOWN,y.EventType.Tap])this._register((0,L.addDisposableListener)(this.element,t,o=>L.EventHelper.stop(o,!0)));for(const t of[L.EventType.MOUSE_DOWN,y.EventType.Tap])this._register((0,L.addDisposableListener)(this._label,t,o=>{(0,L.isMouseEvent)(o)&&(o.detail>1||o.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,L.addDisposableListener)(this._label,L.EventType.KEY_UP,t=>{const o=new k.StandardKeyboardEvent(t);(o.equals(3)||o.equals(10))&&(L.EventHelper.stop(t,!0),this.visible?this.hide():this.show())}));const i=n(this._label);i&&this._register(i),this._register(y.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class w extends p{constructor(b,a){super(b,a),this._options=a,this._actions=[],this.actions=a.actions||[]}set menuOptions(b){this._menuOptions=b}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(b){this._actions=b}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(b,a)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(b,a):void 0,getKeyBinding:b=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(b):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=w}),define(ne[104],se([1,0,6,29]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const y=new RegExp(`(\\\\)?\\$\\((${k.ThemeIcon.iconNameExpression}(?:${k.ThemeIcon.iconModifierExpression})?)\\)`,"g");function D(p){const w=new Array;let v,b=0,a=0;for(;(v=y.exec(p))!==null;){a=v.index||0,b<a&&w.push(p.substring(b,a)),b=(v.index||0)+v[0].length;const[,n,i]=v;w.push(n?`$(${i})`:S({id:i}))}return b<p.length&&w.push(p.substring(b)),w}e.renderLabelWithIcons=D;function S(p){const w=L.$("span");return w.classList.add(...k.ThemeIcon.asClassNameArray(p)),w}e.renderIcon=S}),define(ne[327],se([1,0,6,104,54]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class D{constructor(p,w){var v;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(v=w?.supportIcons)!==null&&v!==void 0?v:!1,this.domNode=L.append(p,L.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(p,w=[],v="",b){p||(p=""),b&&(p=D.escapeNewLines(p,w)),!(this.didEverRender&&this.text===p&&this.title===v&&y.equals(this.highlights,w))&&(this.text=p,this.title=v,this.highlights=w,this.render())}render(){const p=[];let w=0;for(const v of this.highlights){if(v.end===v.start)continue;if(w<v.start){const n=this.text.substring(w,v.start);this.supportIcons?p.push(...(0,k.renderLabelWithIcons)(n)):p.push(n),w=v.start}const b=this.text.substring(w,v.end),a=L.$("span.highlight",void 0,...this.supportIcons?(0,k.renderLabelWithIcons)(b):[b]);v.extraClasses&&a.classList.add(...v.extraClasses),p.push(a),w=v.end}if(w<this.text.length){const v=this.text.substring(w);this.supportIcons?p.push(...(0,k.renderLabelWithIcons)(v)):p.push(v)}L.reset(this.domNode,...p),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(p,w){let v=0,b=0;return p.replace(/\r\n|\r|\n/g,(a,n)=>{b=a===`\r
`?-1:0,n+=v;for(const i of w)i.end<=n||(i.start>=n&&(i.start+=b),i.end>=n&&(i.end+=b));return v+=b,"\u23CE"})}}e.HighlightedLabel=D}),define(ne[190],se([1,0,6,224,54,583,424]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=e.unthemedKeybindingLabelOptions=void 0;const S=L.$;e.unthemedKeybindingLabelOptions={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class p{constructor(v,b,a){this.os=b,this.keyElements=new Set,this.options=a||Object.create(null);const n=this.options.keybindingLabelForeground;this.domNode=L.append(v,S(".monaco-keybinding")),n&&(this.domNode.style.color=n),this.didEverRender=!1,v.appendChild(this.domNode)}get element(){return this.domNode}set(v,b){this.didEverRender&&this.keybinding===v&&p.areSame(this.matches,b)||(this.keybinding=v,this.matches=b,this.render())}render(){var v;if(this.clear(),this.keybinding){const b=this.keybinding.getChords();b[0]&&this.renderChord(this.domNode,b[0],this.matches?this.matches.firstPart:null);for(let n=1;n<b.length;n++)L.append(this.domNode,S("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,b[n],this.matches?this.matches.chordPart:null);const a=(v=this.options.disableTitle)!==null&&v!==void 0&&v?void 0:this.keybinding.getAriaLabel()||void 0;a!==void 0?this.domNode.title=a:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){L.clearNode(this.domNode),this.keyElements.clear()}renderChord(v,b,a){const n=k.UILabelProvider.modifierLabels[this.os];b.ctrlKey&&this.renderKey(v,n.ctrlKey,!!a?.ctrlKey,n.separator),b.shiftKey&&this.renderKey(v,n.shiftKey,!!a?.shiftKey,n.separator),b.altKey&&this.renderKey(v,n.altKey,!!a?.altKey,n.separator),b.metaKey&&this.renderKey(v,n.metaKey,!!a?.metaKey,n.separator);const i=b.keyLabel;i&&this.renderKey(v,i,!!a?.keyCode,"")}renderKey(v,b,a,n){L.append(v,this.createKeyElement(b,a?".highlight":"")),n&&L.append(v,S("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(v){L.append(v,this.createKeyElement((0,D.localize)(0,null)))}createKeyElement(v,b=""){const a=S("span.monaco-keybinding-key"+b,void 0,v);return this.keyElements.add(a),this.options.keybindingLabelBackground&&(a.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(a.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(a.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(a.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),a}static areSame(v,b){return v===b||!v&&!b?!0:!!v&&!!b&&(0,y.equals)(v.firstPart,b.firstPart)&&(0,y.equals)(v.chordPart,b.chordPart)}}e.KeybindingLabel=p}),define(ne[599],se([1,0,6]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function k(D){var S;try{(S=D.parentElement)===null||S===void 0||S.removeChild(D)}catch{}}class y{constructor(S){this.renderers=S,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(S){let p=this.getTemplateCache(S).pop(),w=!1;if(p)w=this.transactionNodesPendingRemoval.has(p.domNode),w&&this.transactionNodesPendingRemoval.delete(p.domNode);else{const v=(0,L.$)(".monaco-list-row"),a=this.getRenderer(S).renderTemplate(v);p={domNode:v,templateId:S,templateData:a}}return{row:p,isReusingConnectedDomNode:w}}release(S){S&&this.releaseRow(S)}transact(S){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{S()}finally{for(const p of this.transactionNodesPendingRemoval)this.doRemoveNode(p);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(S){const{domNode:p,templateId:w}=S;p&&(this.inTransaction?this.transactionNodesPendingRemoval.add(p):this.doRemoveNode(p)),this.getTemplateCache(w).push(S)}doRemoveNode(S){S.classList.remove("scrolling"),k(S)}getTemplateCache(S){let p=this.cache.get(S);return p||(p=[],this.cache.set(S,p)),p}dispose(){this.cache.forEach((S,p)=>{for(const w of S)this.getRenderer(p).disposeTemplate(w.templateData),w.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(S){const p=this.renderers.get(S);if(!p)throw new Error(`No renderer found for ${S}`);return p}}e.RowCache=y}),define(ne[600],se([1,0,6,15,2,426]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const D="done",S="active",p="infinite",w="infinite-long-running",v="discrete";class b extends y.Disposable{constructor(n,i){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new k.RunOnceScheduler(()=>(0,L.show)(this.element),0)),this.longRunningScheduler=this._register(new k.RunOnceScheduler(()=>this.infiniteLongRunning(),b.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(n,i)}create(n,i){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),n.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=i?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(S,p,w,v),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(n){return this.element.classList.add(D),this.element.classList.contains(p)?(this.bit.style.opacity="0",n?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",n?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(v,D,w),this.element.classList.add(S,p),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(w)}getContainer(){return this.element}}e.ProgressBar=b,b.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(ne[160],se([1,0,6,84,65,15,111,7,2,17,427]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const b=!1;var a;(function(l){l.North="north",l.South="south",l.East="east",l.West="west"})(a||(e.OrthogonalEdge=a={}));let n=4;const i=new p.Emitter;let t=300;const o=new p.Emitter;class g{constructor(r){this.el=r,this.disposables=new w.DisposableStore}get onPointerMove(){return this.disposables.add(new k.DomEmitter((0,L.getWindow)(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter((0,L.getWindow)(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}De([S.memoize],g.prototype,"onPointerMove",null),De([S.memoize],g.prototype,"onPointerUp",null);class m{get onPointerMove(){return this.disposables.add(new k.DomEmitter(this.el,y.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(this.el,y.EventType.End)).event}constructor(r){this.el=r,this.disposables=new w.DisposableStore}dispose(){this.disposables.dispose()}}De([S.memoize],m.prototype,"onPointerMove",null),De([S.memoize],m.prototype,"onPointerUp",null);class c{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(r){this.factory=r}dispose(){}}De([S.memoize],c.prototype,"onPointerMove",null),De([S.memoize],c.prototype,"onPointerUp",null);const d="pointer-events-disabled";class s extends w.Disposable{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(r){this._state!==r&&(this.el.classList.toggle("disabled",r===0),this.el.classList.toggle("minimum",r===1),this.el.classList.toggle("maximum",r===2),this._state=r,this.onDidEnablementChange.fire(r))}set orthogonalStartSash(r){if(this._orthogonalStartSash!==r){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),r){const h=u=>{this.orthogonalStartDragHandleDisposables.clear(),u!==0&&(this._orthogonalStartDragHandle=(0,L.append)(this.el,(0,L.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,w.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>s.onMouseEnter(r),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>s.onMouseLeave(r),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(r.onDidEnablementChange.event(h,this)),h(r.state)}this._orthogonalStartSash=r}}set orthogonalEndSash(r){if(this._orthogonalEndSash!==r){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),r){const h=u=>{this.orthogonalEndDragHandleDisposables.clear(),u!==0&&(this._orthogonalEndDragHandle=(0,L.append)(this.el,(0,L.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,w.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>s.onMouseEnter(r),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>s.onMouseLeave(r),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(r.onDidEnablementChange.event(h,this)),h(r.state)}this._orthogonalEndSash=r}}constructor(r,h,u){super(),this.hoverDelay=t,this.hoverDelayer=this._register(new D.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new p.Emitter),this._onDidStart=this._register(new p.Emitter),this._onDidChange=this._register(new p.Emitter),this._onDidReset=this._register(new p.Emitter),this._onDidEnd=this._register(new p.Emitter),this.orthogonalStartSashDisposables=this._register(new w.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new w.DisposableStore),this.orthogonalEndSashDisposables=this._register(new w.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new w.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,L.append)(r,(0,L.$)(".monaco-sash")),u.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${u.orthogonalEdge}`),v.isMacintosh&&this.el.classList.add("mac");const f=this._register(new k.DomEmitter(this.el,"mousedown")).event;this._register(f(R=>this.onPointerStart(R,new g(r)),this));const C=this._register(new k.DomEmitter(this.el,"dblclick")).event;this._register(C(this.onPointerDoublePress,this));const _=this._register(new k.DomEmitter(this.el,"mouseenter")).event;this._register(_(()=>s.onMouseEnter(this)));const E=this._register(new k.DomEmitter(this.el,"mouseleave")).event;this._register(E(()=>s.onMouseLeave(this))),this._register(y.Gesture.addTarget(this.el));const I=this._register(new k.DomEmitter(this.el,y.EventType.Start)).event;this._register(I(R=>this.onPointerStart(R,new m(this.el)),this));const T=this._register(new k.DomEmitter(this.el,y.EventType.Tap)).event;let A;this._register(T(R=>{if(A){clearTimeout(A),A=void 0,this.onPointerDoublePress(R);return}clearTimeout(A),A=setTimeout(()=>A=void 0,250)},this)),typeof u.size=="number"?(this.size=u.size,u.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=n,this._register(i.event(R=>{this.size=R,this.layout()}))),this._register(o.event(R=>this.hoverDelay=R)),this.layoutProvider=h,this.orthogonalStartSash=u.orthogonalStartSash,this.orthogonalEndSash=u.orthogonalEndSash,this.orientation=u.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",b),this.layout()}onPointerStart(r,h){L.EventHelper.stop(r);let u=!1;if(!r.__orthogonalSashEvent){const P=this.getOrthogonalSash(r);P&&(u=!0,r.__orthogonalSashEvent=!0,P.onPointerStart(r,new c(h)))}if(this.linkedSash&&!r.__linkedSashEvent&&(r.__linkedSashEvent=!0,this.linkedSash.onPointerStart(r,new c(h))),!this.state)return;const f=this.el.ownerDocument.getElementsByTagName("iframe");for(const P of f)P.classList.add(d);const C=r.pageX,_=r.pageY,E=r.altKey,I={startX:C,currentX:C,startY:_,currentY:_,altKey:E};this.el.classList.add("active"),this._onDidStart.fire(I);const T=(0,L.createStyleSheet)(this.el),A=()=>{let P="";u?P="all-scroll":this.orientation===1?this.state===1?P="s-resize":this.state===2?P="n-resize":P=v.isMacintosh?"row-resize":"ns-resize":this.state===1?P="e-resize":this.state===2?P="w-resize":P=v.isMacintosh?"col-resize":"ew-resize",T.textContent=`* { cursor: ${P} !important; }`},R=new w.DisposableStore;A(),u||this.onDidEnablementChange.event(A,null,R);const M=P=>{L.EventHelper.stop(P,!1);const F={startX:C,currentX:P.pageX,startY:_,currentY:P.pageY,altKey:E};this._onDidChange.fire(F)},N=P=>{L.EventHelper.stop(P,!1),this.el.removeChild(T),this.el.classList.remove("active"),this._onDidEnd.fire(),R.dispose();for(const F of f)F.classList.remove(d)};h.onPointerMove(M,null,R),h.onPointerUp(N,null,R),R.add(h)}onPointerDoublePress(r){const h=this.getOrthogonalSash(r);h&&h._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(r,h=!1){r.el.classList.contains("active")?(r.hoverDelayer.cancel(),r.el.classList.add("hover")):r.hoverDelayer.trigger(()=>r.el.classList.add("hover"),r.hoverDelay).then(void 0,()=>{}),!h&&r.linkedSash&&s.onMouseEnter(r.linkedSash,!0)}static onMouseLeave(r,h=!1){r.hoverDelayer.cancel(),r.el.classList.remove("hover"),!h&&r.linkedSash&&s.onMouseLeave(r.linkedSash,!0)}clearSashHoverState(){s.onMouseLeave(this)}layout(){if(this.orientation===0){const r=this.layoutProvider;this.el.style.left=r.getVerticalSashLeft(this)-this.size/2+"px",r.getVerticalSashTop&&(this.el.style.top=r.getVerticalSashTop(this)+"px"),r.getVerticalSashHeight&&(this.el.style.height=r.getVerticalSashHeight(this)+"px")}else{const r=this.layoutProvider;this.el.style.top=r.getHorizontalSashTop(this)-this.size/2+"px",r.getHorizontalSashLeft&&(this.el.style.left=r.getHorizontalSashLeft(this)+"px"),r.getHorizontalSashWidth&&(this.el.style.width=r.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(r){var h;const u=(h=r.initialTarget)!==null&&h!==void 0?h:r.target;if(!(!u||!(u instanceof HTMLElement))&&u.classList.contains("orthogonal-drag-handle"))return u.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=s}),define(ne[231],se([1,0,6,160,7,2]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class S{constructor(){this._onDidWillResize=new y.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new y.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new D.DisposableStore,this._size=new L.Dimension(0,0),this._minSize=new L.Dimension(0,0),this._maxSize=new L.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:k.OrthogonalEdge.North}),this._southSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:k.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let w,v=0,b=0;this._sashListener.add(y.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{w===void 0&&(this._onDidWillResize.fire(),w=this._size,v=0,b=0)})),this._sashListener.add(y.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{w!==void 0&&(w=void 0,v=0,b=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(a=>{w&&(b=a.currentX-a.startX,this.layout(w.height+v,w.width+b),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(a=>{w&&(b=-(a.currentX-a.startX),this.layout(w.height+v,w.width+b),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(a=>{w&&(v=-(a.currentY-a.startY),this.layout(w.height+v,w.width+b),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(a=>{w&&(v=a.currentY-a.startY,this.layout(w.height+v,w.width+b),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(y.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(a=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(y.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(a=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(w,v,b,a){this._northSash.state=w?3:0,this._eastSash.state=v?3:0,this._southSash.state=b?3:0,this._westSash.state=a?3:0}layout(w=this.size.height,v=this.size.width){const{height:b,width:a}=this._minSize,{height:n,width:i}=this._maxSize;w=Math.max(b,Math.min(n,w)),v=Math.max(a,Math.min(i,v));const t=new L.Dimension(v,w);L.Dimension.equals(t,this._size)||(this.domNode.style.height=w+"px",this.domNode.style.width=v+"px",this._size=t,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(w){this._maxSize=w}get maxSize(){return this._maxSize}set minSize(w){this._minSize=w}get minSize(){return this._minSize}set preferredSize(w){this._preferredSize=w}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=S}),define(ne[601],se([1,0,6,65,13,7,2,17]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class w extends S.Disposable{constructor(b,a,n,i){super(),this.selected=0,this.selectBoxOptions=i||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new D.Emitter),this.styles=n,this.registerListeners(),this.setOptions(b,a)}registerListeners(){this._register(k.Gesture.addTarget(this.selectElement)),[k.EventType.Tap].forEach(b=>{this._register(L.addDisposableListener(this.selectElement,b,a=>{this.selectElement.focus()}))}),this._register(L.addStandardDisposableListener(this.selectElement,"click",b=>{L.EventHelper.stop(b,!0)})),this._register(L.addStandardDisposableListener(this.selectElement,"change",b=>{this.selectElement.title=b.target.value,this._onDidSelect.fire({index:b.target.selectedIndex,selected:b.target.value})})),this._register(L.addStandardDisposableListener(this.selectElement,"keydown",b=>{let a=!1;p.isMacintosh?(b.keyCode===18||b.keyCode===16||b.keyCode===10)&&(a=!0):(b.keyCode===18&&b.altKey||b.keyCode===10||b.keyCode===3)&&(a=!0),a&&b.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(b,a){(!this.options||!y.equals(this.options,b))&&(this.options=b,this.selectElement.options.length=0,this.options.forEach((n,i)=>{this.selectElement.add(this.createOption(n.text,i,n.isDisabled))})),a!==void 0&&this.select(a)}select(b){this.options.length===0?this.selected=0:b>=0&&b<this.options.length?this.selected=b:b>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(b){this.selectElement.tabIndex=b?0:-1}render(b){b.classList.add("select-container"),b.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var b,a,n;this.selectElement&&(this.selectElement.style.backgroundColor=(b=this.styles.selectBackground)!==null&&b!==void 0?b:"",this.selectElement.style.color=(a=this.styles.selectForeground)!==null&&a!==void 0?a:"",this.selectElement.style.borderColor=(n=this.styles.selectBorder)!==null&&n!==void 0?n:"")}createOption(b,a,n){const i=document.createElement("option");return i.value=b,i.text=b,i.disabled=!!n,i}}e.SelectBoxNative=w}),define(ne[77],se([1,0,6,46,69,65,2]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class p extends S.Disposable{onclick(v,b){this._register(L.addDisposableListener(v,L.EventType.CLICK,a=>b(new y.StandardMouseEvent(L.getWindow(v),a))))}onmousedown(v,b){this._register(L.addDisposableListener(v,L.EventType.MOUSE_DOWN,a=>b(new y.StandardMouseEvent(L.getWindow(v),a))))}onmouseover(v,b){this._register(L.addDisposableListener(v,L.EventType.MOUSE_OVER,a=>b(new y.StandardMouseEvent(L.getWindow(v),a))))}onmouseleave(v,b){this._register(L.addDisposableListener(v,L.EventType.MOUSE_LEAVE,a=>b(new y.StandardMouseEvent(L.getWindow(v),a))))}onkeydown(v,b){this._register(L.addDisposableListener(v,L.EventType.KEY_DOWN,a=>b(new k.StandardKeyboardEvent(a))))}onkeyup(v,b){this._register(L.addDisposableListener(v,L.EventType.KEY_UP,a=>b(new k.StandardKeyboardEvent(a))))}oninput(v,b){this._register(L.addDisposableListener(v,L.EventType.INPUT,b))}onblur(v,b){this._register(L.addDisposableListener(v,L.EventType.BLUR,b))}onfocus(v,b){this._register(L.addDisposableListener(v,L.EventType.FOCUS,b))}ignoreGesture(v){return D.Gesture.ignoreTarget(v)}}e.Widget=p}),define(ne[232],se([1,0,159,77,15,29,6]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class p extends k.Widget{constructor(v){super(),this._onActivate=v.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=v.bgWidth+"px",this.bgDomNode.style.height=v.bgHeight+"px",typeof v.top<"u"&&(this.bgDomNode.style.top="0px"),typeof v.left<"u"&&(this.bgDomNode.style.left="0px"),typeof v.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof v.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=v.className,this.domNode.classList.add(...D.ThemeIcon.asClassNameArray(v.icon)),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof v.top<"u"&&(this.domNode.style.top=v.top+"px"),typeof v.left<"u"&&(this.domNode.style.left=v.left+"px"),typeof v.bottom<"u"&&(this.domNode.style.bottom=v.bottom+"px"),typeof v.right<"u"&&(this.domNode.style.right=v.right+"px"),this._pointerMoveMonitor=this._register(new L.GlobalPointerMoveMonitor),this._register(S.addStandardDisposableListener(this.bgDomNode,S.EventType.POINTER_DOWN,b=>this._arrowPointerDown(b))),this._register(S.addStandardDisposableListener(this.domNode,S.EventType.POINTER_DOWN,b=>this._arrowPointerDown(b))),this._pointerdownRepeatTimer=this._register(new S.WindowIntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new y.TimeoutTimer)}_arrowPointerDown(v){if(!v.target||!(v.target instanceof Element))return;const b=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,S.getWindow(v))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(b,200),this._pointerMoveMonitor.startMonitoring(v.target,v.pointerId,v.buttons,a=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),v.preventDefault()}}e.ScrollbarArrow=p}),define(ne[328],se([1,0,6,41,159,232,593,77,17]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const v=140;class b extends p.Widget{constructor(n){super(),this._lazyRender=n.lazyRender,this._host=n.host,this._scrollable=n.scrollable,this._scrollByPage=n.scrollByPage,this._scrollbarState=n.scrollbarState,this._visibilityController=this._register(new S.ScrollbarVisibilityController(n.visibility,"visible scrollbar "+n.extraScrollbarClassName,"invisible scrollbar "+n.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new y.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(L.addDisposableListener(this.domNode.domNode,L.EventType.POINTER_DOWN,i=>this._domNodePointerDown(i)))}_createArrow(n){const i=this._register(new D.ScrollbarArrow(n));this.domNode.domNode.appendChild(i.bgDomNode),this.domNode.domNode.appendChild(i.domNode)}_createSlider(n,i,t,o){this.slider=(0,k.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(n),this.slider.setLeft(i),typeof t=="number"&&this.slider.setWidth(t),typeof o=="number"&&this.slider.setHeight(o),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(L.addDisposableListener(this.slider.domNode,L.EventType.POINTER_DOWN,g=>{g.button===0&&(g.preventDefault(),this._sliderPointerDown(g))})),this.onclick(this.slider.domNode,g=>{g.leftButton&&g.stopPropagation()})}_onElementSize(n){return this._scrollbarState.setVisibleSize(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(n){return this._scrollbarState.setScrollSize(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(n){return this._scrollbarState.setScrollPosition(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(n){n.target===this.domNode.domNode&&this._onPointerDown(n)}delegatePointerDown(n){const i=this.domNode.domNode.getClientRects()[0].top,t=i+this._scrollbarState.getSliderPosition(),o=i+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),g=this._sliderPointerPosition(n);t<=g&&g<=o?n.button===0&&(n.preventDefault(),this._sliderPointerDown(n)):this._onPointerDown(n)}_onPointerDown(n){let i,t;if(n.target===this.domNode.domNode&&typeof n.offsetX=="number"&&typeof n.offsetY=="number")i=n.offsetX,t=n.offsetY;else{const g=L.getDomNodePagePosition(this.domNode.domNode);i=n.pageX-g.left,t=n.pageY-g.top}const o=this._pointerDownRelativePosition(i,t);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(o):this._scrollbarState.getDesiredScrollPositionFromOffset(o)),n.button===0&&(n.preventDefault(),this._sliderPointerDown(n))}_sliderPointerDown(n){if(!n.target||!(n.target instanceof Element))return;const i=this._sliderPointerPosition(n),t=this._sliderOrthogonalPointerPosition(n),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(n.target,n.pointerId,n.buttons,g=>{const m=this._sliderOrthogonalPointerPosition(g),c=Math.abs(m-t);if(w.isWindows&&c>v){this._setDesiredScrollPositionNow(o.getScrollPosition());return}const s=this._sliderPointerPosition(g)-i;this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(s))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(n){const i={};this.writeScrollPosition(i,n),this._scrollable.setScrollPositionNow(i)}updateScrollbarSize(n){this._updateScrollbarSize(n),this._scrollbarState.setScrollbarSize(n),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=b}),define(ne[602],se([1,0,69,328,232,203,27]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class p extends k.AbstractScrollbar{constructor(v,b,a){const n=v.getScrollDimensions(),i=v.getCurrentScrollPosition();if(super({lazyRender:b.lazyRender,host:a,scrollbarState:new D.ScrollbarState(b.horizontalHasArrows?b.arrowSize:0,b.horizontal===2?0:b.horizontalScrollbarSize,b.vertical===2?0:b.verticalScrollbarSize,n.width,n.scrollWidth,i.scrollLeft),visibility:b.horizontal,extraScrollbarClassName:"horizontal",scrollable:v,scrollByPage:b.scrollByPage}),b.horizontalHasArrows){const t=(b.arrowSize-y.ARROW_IMG_SIZE)/2,o=(b.horizontalScrollbarSize-y.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonLeft,top:o,left:t,bottom:void 0,right:void 0,bgWidth:b.arrowSize,bgHeight:b.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonRight,top:o,left:void 0,bottom:void 0,right:t,bgWidth:b.arrowSize,bgHeight:b.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((b.horizontalScrollbarSize-b.horizontalSliderSize)/2),0,void 0,b.horizontalSliderSize)}_updateSlider(v,b){this.slider.setWidth(v),this.slider.setLeft(b)}_renderDomNode(v,b){this.domNode.setWidth(v),this.domNode.setHeight(b),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(v){return this._shouldRender=this._onElementScrollSize(v.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(v.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(v.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(v,b){return v}_sliderPointerPosition(v){return v.pageX}_sliderOrthogonalPointerPosition(v){return v.pageY}_updateScrollbarSize(v){this.slider.setHeight(v)}writeScrollPosition(v,b){v.scrollLeft=b}updateOptions(v){this.updateScrollbarSize(v.horizontal===2?0:v.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(v.vertical===2?0:v.verticalScrollbarSize),this._visibilityController.setVisibility(v.horizontal),this._scrollByPage=v.scrollByPage}}e.HorizontalScrollbar=p}),define(ne[603],se([1,0,69,328,232,203,27]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class p extends k.AbstractScrollbar{constructor(v,b,a){const n=v.getScrollDimensions(),i=v.getCurrentScrollPosition();if(super({lazyRender:b.lazyRender,host:a,scrollbarState:new D.ScrollbarState(b.verticalHasArrows?b.arrowSize:0,b.vertical===2?0:b.verticalScrollbarSize,0,n.height,n.scrollHeight,i.scrollTop),visibility:b.vertical,extraScrollbarClassName:"vertical",scrollable:v,scrollByPage:b.scrollByPage}),b.verticalHasArrows){const t=(b.arrowSize-y.ARROW_IMG_SIZE)/2,o=(b.verticalScrollbarSize-y.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonUp,top:t,left:o,bottom:void 0,right:void 0,bgWidth:b.verticalScrollbarSize,bgHeight:b.arrowSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:S.Codicon.scrollbarButtonDown,top:void 0,left:o,bottom:t,right:void 0,bgWidth:b.verticalScrollbarSize,bgHeight:b.arrowSize,onActivate:()=>this._host.onMouseWheel(new L.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((b.verticalScrollbarSize-b.verticalSliderSize)/2),b.verticalSliderSize,void 0)}_updateSlider(v,b){this.slider.setHeight(v),this.slider.setTop(b)}_renderDomNode(v,b){this.domNode.setWidth(b),this.domNode.setHeight(v),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(v){return this._shouldRender=this._onElementScrollSize(v.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(v.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(v.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(v,b){return b}_sliderPointerPosition(v){return v.pageY}_sliderOrthogonalPointerPosition(v){return v.pageX}_updateScrollbarSize(v){this.slider.setWidth(v)}writeScrollPosition(v,b){v.scrollTop=b}updateOptions(v){this.updateScrollbarSize(v.vertical===2?0:v.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(v.vertical),this._scrollByPage=v.scrollByPage}}e.VerticalScrollbar=p}),define(ne[78],se([1,0,59,6,41,69,602,603,77,15,7,2,17,151,428]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const t=500,o=50,g=!0;class m{constructor(f,C,_){this.timestamp=f,this.deltaX=C,this.deltaY=_,this.score=0}}class c{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let f=1,C=0,_=1,E=this._rear;do{const I=E===this._front?f:Math.pow(2,-_);if(f-=I,C+=this._memory[E].score*I,E===this._front)break;E=(this._capacity+E-1)%this._capacity,_++}while(!0);return C<=.5}acceptStandardWheelEvent(f){if(L.isChrome){const C=k.getWindow(f.browserEvent),_=(0,L.getZoomFactor)(C);this.accept(Date.now(),f.deltaX*_,f.deltaY*_)}else this.accept(Date.now(),f.deltaX,f.deltaY)}accept(f,C,_){const E=new m(f,C,_);E.score=this._computeScore(E),this._front===-1&&this._rear===-1?(this._memory[0]=E,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=E)}_computeScore(f){if(Math.abs(f.deltaX)>0&&Math.abs(f.deltaY)>0)return 1;let C=.5;const _=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(f.deltaX)||!this._isAlmostInt(f.deltaY))&&(C+=.25),Math.min(Math.max(C,0),1)}_isAlmostInt(f){return Math.abs(Math.round(f)-f)<.01}}e.MouseWheelClassifier=c,c.INSTANCE=new c;class d extends w.Widget{get options(){return this._options}constructor(f,C,_){super(),this._onScroll=this._register(new b.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new b.Emitter),f.style.overflow="hidden",this._options=h(C),this._scrollable=_,this._register(this._scrollable.onScroll(I=>{this._onWillScroll.fire(I),this._onDidScroll(I),this._onScroll.fire(I)}));const E={onMouseWheel:I=>this._onMouseWheel(I),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new p.VerticalScrollbar(this._scrollable,this._options,E)),this._horizontalScrollbar=this._register(new S.HorizontalScrollbar(this._scrollable,this._options,E)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(f),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,y.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,I=>this._onMouseOver(I)),this.onmouseleave(this._listenOnDomNode,I=>this._onMouseLeave(I)),this._hideTimeout=this._register(new v.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,a.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(f){this._verticalScrollbar.delegatePointerDown(f)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(f){this._scrollable.setScrollDimensions(f,!1)}updateClassName(f){this._options.className=f,n.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(f){typeof f.handleMouseWheel<"u"&&(this._options.handleMouseWheel=f.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof f.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=f.mouseWheelScrollSensitivity),typeof f.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=f.fastScrollSensitivity),typeof f.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=f.scrollPredominantAxis),typeof f.horizontal<"u"&&(this._options.horizontal=f.horizontal),typeof f.vertical<"u"&&(this._options.vertical=f.vertical),typeof f.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=f.horizontalScrollbarSize),typeof f.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=f.verticalScrollbarSize),typeof f.scrollByPage<"u"&&(this._options.scrollByPage=f.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(f){this._onMouseWheel(new D.StandardWheelEvent(f))}_setListeningToMouseWheel(f){if(this._mouseWheelToDispose.length>0!==f&&(this._mouseWheelToDispose=(0,a.dispose)(this._mouseWheelToDispose),f)){const _=E=>{this._onMouseWheel(new D.StandardWheelEvent(E))};this._mouseWheelToDispose.push(k.addDisposableListener(this._listenOnDomNode,k.EventType.MOUSE_WHEEL,_,{passive:!1}))}}_onMouseWheel(f){var C;if(!((C=f.browserEvent)===null||C===void 0)&&C.defaultPrevented)return;const _=c.INSTANCE;g&&_.acceptStandardWheelEvent(f);let E=!1;if(f.deltaY||f.deltaX){let T=f.deltaY*this._options.mouseWheelScrollSensitivity,A=f.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&A+T===0?A=T=0:Math.abs(T)>=Math.abs(A)?A=0:T=0),this._options.flipAxes&&([T,A]=[A,T]);const R=!n.isMacintosh&&f.browserEvent&&f.browserEvent.shiftKey;(this._options.scrollYToX||R)&&!A&&(A=T,T=0),f.browserEvent&&f.browserEvent.altKey&&(A=A*this._options.fastScrollSensitivity,T=T*this._options.fastScrollSensitivity);const M=this._scrollable.getFutureScrollPosition();let N={};if(T){const P=o*T,F=M.scrollTop-(P<0?Math.floor(P):Math.ceil(P));this._verticalScrollbar.writeScrollPosition(N,F)}if(A){const P=o*A,F=M.scrollLeft-(P<0?Math.floor(P):Math.ceil(P));this._horizontalScrollbar.writeScrollPosition(N,F)}N=this._scrollable.validateScrollPosition(N),(M.scrollLeft!==N.scrollLeft||M.scrollTop!==N.scrollTop)&&(g&&this._options.mouseWheelSmoothScroll&&_.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(N):this._scrollable.setScrollPositionNow(N),E=!0)}let I=E;!I&&this._options.alwaysConsumeMouseWheel&&(I=!0),!I&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(I=!0),I&&(f.preventDefault(),f.stopPropagation())}_onDidScroll(f){this._shouldRender=this._horizontalScrollbar.onDidScroll(f)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(f)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const f=this._scrollable.getCurrentScrollPosition(),C=f.scrollTop>0,_=f.scrollLeft>0,E=_?" left":"",I=C?" top":"",T=_||C?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${E}`),this._topShadowDomNode.setClassName(`shadow${I}`),this._topLeftShadowDomNode.setClassName(`shadow${T}${I}${E}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(f){this._mouseIsOver=!1,this._hide()}_onMouseOver(f){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),t)}}e.AbstractScrollableElement=d;class s extends d{constructor(f,C){C=C||{},C.mouseWheelSmoothScroll=!1;const _=new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>k.scheduleAtNextAnimationFrame(k.getWindow(f),E)});super(f,C,_),this._register(_)}setScrollPosition(f){this._scrollable.setScrollPositionNow(f)}}e.ScrollableElement=s;class l extends d{constructor(f,C,_){super(f,C,_)}setScrollPosition(f){f.reuseAnimation?this._scrollable.setScrollPositionSmooth(f,f.reuseAnimation):this._scrollable.setScrollPositionNow(f)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=l;class r extends d{constructor(f,C){C=C||{},C.mouseWheelSmoothScroll=!1;const _=new i.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:E=>k.scheduleAtNextAnimationFrame(k.getWindow(f),E)});super(f,C,_),this._register(_),this._element=f,this._register(this.onScroll(E=>{E.scrollTopChanged&&(this._element.scrollTop=E.scrollTop),E.scrollLeftChanged&&(this._element.scrollLeft=E.scrollLeft)})),this.scanDomNode()}setScrollPosition(f){this._scrollable.setScrollPositionNow(f)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=r;function h(u){const f={lazyRender:typeof u.lazyRender<"u"?u.lazyRender:!1,className:typeof u.className<"u"?u.className:"",useShadows:typeof u.useShadows<"u"?u.useShadows:!0,handleMouseWheel:typeof u.handleMouseWheel<"u"?u.handleMouseWheel:!0,flipAxes:typeof u.flipAxes<"u"?u.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof u.consumeMouseWheelIfScrollbarIsNeeded<"u"?u.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof u.alwaysConsumeMouseWheel<"u"?u.alwaysConsumeMouseWheel:!1,scrollYToX:typeof u.scrollYToX<"u"?u.scrollYToX:!1,mouseWheelScrollSensitivity:typeof u.mouseWheelScrollSensitivity<"u"?u.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof u.fastScrollSensitivity<"u"?u.fastScrollSensitivity:5,scrollPredominantAxis:typeof u.scrollPredominantAxis<"u"?u.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof u.mouseWheelSmoothScroll<"u"?u.mouseWheelSmoothScroll:!0,arrowSize:typeof u.arrowSize<"u"?u.arrowSize:11,listenOnDomNode:typeof u.listenOnDomNode<"u"?u.listenOnDomNode:null,horizontal:typeof u.horizontal<"u"?u.horizontal:1,horizontalScrollbarSize:typeof u.horizontalScrollbarSize<"u"?u.horizontalScrollbarSize:10,horizontalSliderSize:typeof u.horizontalSliderSize<"u"?u.horizontalSliderSize:0,horizontalHasArrows:typeof u.horizontalHasArrows<"u"?u.horizontalHasArrows:!1,vertical:typeof u.vertical<"u"?u.vertical:1,verticalScrollbarSize:typeof u.verticalScrollbarSize<"u"?u.verticalScrollbarSize:10,verticalHasArrows:typeof u.verticalHasArrows<"u"?u.verticalHasArrows:!1,verticalSliderSize:typeof u.verticalSliderSize<"u"?u.verticalSliderSize:0,scrollByPage:typeof u.scrollByPage<"u"?u.scrollByPage:!1};return f.horizontalSliderSize=typeof u.horizontalSliderSize<"u"?u.horizontalSliderSize:f.horizontalScrollbarSize,f.verticalSliderSize=typeof u.verticalSliderSize<"u"?u.verticalSliderSize:f.verticalScrollbarSize,n.isMacintosh&&(f.className+=" mac"),f}}),define(ne[233],se([1,0,6,46,78,2,580,421]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverAccessibleViewHint=e.HoverAction=e.HoverWidget=void 0;const p=L.$;class w extends D.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new y.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=w;class v extends D.Disposable{static render(n,i,t){return new v(n,i,t)}constructor(n,i,t){super(),this.actionContainer=L.append(n,p("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=L.append(this.actionContainer,p("a.action")),this.action.setAttribute("role","button"),i.iconClass&&L.append(this.action,p(`span.icon.${i.iconClass}`));const o=L.append(this.action,p("span"));o.textContent=t?`${i.label} (${t})`:i.label,this._register(L.addDisposableListener(this.actionContainer,L.EventType.CLICK,g=>{g.stopPropagation(),g.preventDefault(),i.run(this.actionContainer)})),this._register(L.addDisposableListener(this.actionContainer,L.EventType.KEY_DOWN,g=>{const m=new k.StandardKeyboardEvent(g);(m.equals(3)||m.equals(10))&&(g.stopPropagation(),g.preventDefault(),i.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(n){n?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=v;function b(a,n){return a&&n?(0,S.localize)(0,null,n):a?(0,S.localize)(1,null):""}e.getHoverAccessibleViewHint=b}),define(ne[234],se([1,0,204,6,84,65,78,13,15,111,7,2,175,151,412,599,12,128]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const c={CurrentDragAndDropData:void 0},d={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(C){return[C]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class s{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=s;class l{constructor(_){this.elements=_}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=l;class r{constructor(){this.types=[],this.files=[]}update(_){if(_.types&&this.types.splice(0,this.types.length,..._.types),_.files){this.files.splice(0,this.files.length);for(let E=0;E<_.files.length;E++){const I=_.files.item(E);I&&(I.size||I.type)&&this.files.push(I)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=r;function h(C,_){return Array.isArray(C)&&Array.isArray(_)?(0,p.equals)(C,_):C===_}class u{constructor(_){_?.getSetSize?this.getSetSize=_.getSetSize.bind(_):this.getSetSize=(E,I,T)=>T,_?.getPosInSet?this.getPosInSet=_.getPosInSet.bind(_):this.getPosInSet=(E,I)=>I+1,_?.getRole?this.getRole=_.getRole.bind(_):this.getRole=E=>"listitem",_?.isChecked?this.isChecked=_.isChecked.bind(_):this.isChecked=E=>{}}}class f{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(_){if(_!==this._horizontalScrolling){if(_&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=_,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const E of this.items)this.measureItemWidth(E);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(_,E,I,T=d){var A,R,M,N,P,F,O,B,W,V,z,K,j;if(this.virtualDelegate=E,this.domId=`list_id_${++f.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new w.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=a.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=a.Disposable.None,this.onDragLeaveTimeout=a.Disposable.None,this.disposables=new a.DisposableStore,this._onDidChangeContentHeight=new b.Emitter,this._onDidChangeContentWidth=new b.Emitter,this.onDidChangeContentHeight=b.Event.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,T.horizontalScrolling&&T.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap((A=T.paddingTop)!==null&&A!==void 0?A:0);for(const re of I)this.renderers.set(re.templateId,re);this.cache=this.disposables.add(new o.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof T.mouseSupport=="boolean"?T.mouseSupport:!0),this._horizontalScrolling=(R=T.horizontalScrolling)!==null&&R!==void 0?R:d.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof T.paddingBottom>"u"?0:T.paddingBottom,this.accessibilityProvider=new u(T.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((M=T.transformOptimization)!==null&&M!==void 0?M:d.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(D.Gesture.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(N=T.smoothScrolling)!==null&&N!==void 0&&N?125:0,scheduleAtNextAnimationFrame:re=>(0,k.scheduleAtNextAnimationFrame)((0,k.getWindow)(this.domNode),re)})),this.scrollableElement=this.disposables.add(new S.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(P=T.alwaysConsumeMouseWheel)!==null&&P!==void 0?P:d.alwaysConsumeMouseWheel,horizontal:1,vertical:(F=T.verticalScrollMode)!==null&&F!==void 0?F:d.verticalScrollMode,useShadows:(O=T.useShadows)!==null&&O!==void 0?O:d.useShadows,mouseWheelScrollSensitivity:T.mouseWheelScrollSensitivity,fastScrollSensitivity:T.fastScrollSensitivity,scrollByPage:T.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),_.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.addDisposableListener)(this.rowsContainer,D.EventType.Change,re=>this.onTouchChange(re))),this.disposables.add((0,k.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",re=>re.target.scrollTop=0)),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragover",re=>this.onDragOver(this.toDragEvent(re)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"drop",re=>this.onDrop(this.toDragEvent(re)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragleave",re=>this.onDragLeave(this.toDragEvent(re)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragend",re=>this.onDragEnd(re))),this.setRowLineHeight=(B=T.setRowLineHeight)!==null&&B!==void 0?B:d.setRowLineHeight,this.setRowHeight=(W=T.setRowHeight)!==null&&W!==void 0?W:d.setRowHeight,this.supportDynamicHeights=(V=T.supportDynamicHeights)!==null&&V!==void 0?V:d.supportDynamicHeights,this.dnd=(z=T.dnd)!==null&&z!==void 0?z:this.disposables.add(d.dnd),this.layout((K=T.initialSize)===null||K===void 0?void 0:K.height,(j=T.initialSize)===null||j===void 0?void 0:j.width)}updateOptions(_){_.paddingBottom!==void 0&&(this.paddingBottom=_.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),_.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(_.smoothScrolling?125:0),_.horizontalScrolling!==void 0&&(this.horizontalScrolling=_.horizontalScrolling);let E;if(_.scrollByPage!==void 0&&(E={...E??{},scrollByPage:_.scrollByPage}),_.mouseWheelScrollSensitivity!==void 0&&(E={...E??{},mouseWheelScrollSensitivity:_.mouseWheelScrollSensitivity}),_.fastScrollSensitivity!==void 0&&(E={...E??{},fastScrollSensitivity:_.fastScrollSensitivity}),E&&this.scrollableElement.updateOptions(E),_.paddingTop!==void 0&&_.paddingTop!==this.rangeMap.paddingTop){const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),T=_.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=_.paddingTop,this.render(I,Math.max(0,this.lastRenderTop+T),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(_){return new t.RangeMap(_)}splice(_,E,I=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(_,E,I)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(_,E,I=[]){const T=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),A={start:_,end:_+E},R=n.Range.intersect(T,A),M=new Map;for(let J=R.end-1;J>=R.start;J--){const X=this.items[J];if(X.dragStartDisposable.dispose(),X.checkedDisposable.dispose(),X.row){let Y=M.get(X.templateId);Y||(Y=[],M.set(X.templateId,Y));const le=this.renderers.get(X.templateId);le&&le.disposeElement&&le.disposeElement(X.element,J,X.row.templateData,X.size),Y.push(X.row)}X.row=null,X.stale=!0}const N={start:_+E,end:this.items.length},P=n.Range.intersect(N,T),F=n.Range.relativeComplement(N,T),O=I.map(J=>({id:String(this.itemId++),element:J,templateId:this.virtualDelegate.getTemplateId(J),size:this.virtualDelegate.getHeight(J),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(J),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:a.Disposable.None,checkedDisposable:a.Disposable.None,stale:!1}));let B;_===0&&E>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,O),B=this.items,this.items=O):(this.rangeMap.splice(_,E,O),B=this.items.splice(_,E,...O));const W=I.length-E,V=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),z=(0,t.shift)(P,W),K=n.Range.intersect(V,z);for(let J=K.start;J<K.end;J++)this.updateItemInDOM(this.items[J],J);const j=n.Range.relativeComplement(z,V);for(const J of j)for(let X=J.start;X<J.end;X++)this.removeItemFromDOM(X);const x=F.map(J=>(0,t.shift)(J,W)),ie=[{start:_,end:_+I.length},...x].map(J=>n.Range.intersect(V,J)).reverse();for(const J of ie)for(let X=J.end-1;X>=J.start;X--){const Y=this.items[X],le=M.get(Y.templateId),de=le?.pop();this.insertItemInDOM(X,de)}for(const J of M.values())for(const X of J)this.cache.release(X);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),B.map(J=>J.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.scheduleAtNextAnimationFrame)((0,k.getWindow)(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let _=0;for(const E of this.items)typeof E.width<"u"&&(_=Math.max(_,E.width));this.scrollWidth=_,this.scrollableElement.setScrollDimensions({scrollWidth:_===0?0:_+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const _ of this.items)_.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(_){return this.items[_].element}indexOf(_){return this.items.findIndex(E=>E.element===_)}domElement(_){const E=this.items[_].row;return E&&E.domNode}elementHeight(_){return this.items[_].size}elementTop(_){return this.rangeMap.positionAt(_)}indexAt(_){return this.rangeMap.indexAt(_)}indexAfter(_){return this.rangeMap.indexAfter(_)}layout(_,E){const I={height:typeof _=="number"?_:(0,k.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,I.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(I),typeof E<"u"&&(this.renderWidth=E,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof E=="number"?E:(0,k.getContentWidth)(this.domNode)})}render(_,E,I,T,A,R=!1){const M=this.getRenderRange(E,I),N=n.Range.relativeComplement(M,_).reverse(),P=n.Range.relativeComplement(_,M);if(R){const F=n.Range.intersect(_,M);for(let O=F.start;O<F.end;O++)this.updateItemInDOM(this.items[O],O)}this.cache.transact(()=>{for(const F of P)for(let O=F.start;O<F.end;O++)this.removeItemFromDOM(O);for(const F of N)for(let O=F.end-1;O>=F.start;O--)this.insertItemInDOM(O)}),T!==void 0&&(this.rowsContainer.style.left=`-${T}px`),this.rowsContainer.style.top=`-${E}px`,this.horizontalScrolling&&A!==void 0&&(this.rowsContainer.style.width=`${Math.max(A,this.renderWidth)}px`),this.lastRenderTop=E,this.lastRenderHeight=I}insertItemInDOM(_,E){var I,T,A;const R=this.items[_];if(!R.row)if(E)R.row=E,R.stale=!0;else{const O=this.cache.alloc(R.templateId);R.row=O.row,R.stale||(R.stale=O.isReusingConnectedDomNode)}const M=this.accessibilityProvider.getRole(R.element)||"listitem";R.row.domNode.setAttribute("role",M);const N=this.accessibilityProvider.isChecked(R.element);if(typeof N=="boolean")R.row.domNode.setAttribute("aria-checked",String(!!N));else if(N){const O=B=>R.row.domNode.setAttribute("aria-checked",String(!!B));O(N.value),R.checkedDisposable=N.onDidChange(O)}if(R.stale||!R.row.domNode.parentElement){const O=(A=(T=(I=this.items.at(_+1))===null||I===void 0?void 0:I.row)===null||T===void 0?void 0:T.domNode)!==null&&A!==void 0?A:null;this.rowsContainer.insertBefore(R.row.domNode,O),R.stale=!1}this.updateItemInDOM(R,_);const P=this.renderers.get(R.templateId);if(!P)throw new Error(`No renderer found for template id ${R.templateId}`);P?.renderElement(R.element,_,R.row.templateData,R.size);const F=this.dnd.getDragURI(R.element);R.dragStartDisposable.dispose(),R.row.domNode.draggable=!!F,F&&(R.dragStartDisposable=(0,k.addDisposableListener)(R.row.domNode,"dragstart",O=>this.onDragStart(R.element,F,O))),this.horizontalScrolling&&(this.measureItemWidth(R),this.eventuallyUpdateScrollWidth())}measureItemWidth(_){if(!_.row||!_.row.domNode)return;_.row.domNode.style.width="fit-content",_.width=(0,k.getContentWidth)(_.row.domNode);const E=(0,k.getWindow)(_.row.domNode).getComputedStyle(_.row.domNode);E.paddingLeft&&(_.width+=parseFloat(E.paddingLeft)),E.paddingRight&&(_.width+=parseFloat(E.paddingRight)),_.row.domNode.style.width=""}updateItemInDOM(_,E){_.row.domNode.style.top=`${this.elementTop(E)}px`,this.setRowHeight&&(_.row.domNode.style.height=`${_.size}px`),this.setRowLineHeight&&(_.row.domNode.style.lineHeight=`${_.size}px`),_.row.domNode.setAttribute("data-index",`${E}`),_.row.domNode.setAttribute("data-last-element",E===this.length-1?"true":"false"),_.row.domNode.setAttribute("data-parity",E%2===0?"even":"odd"),_.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(_.element,E,this.length))),_.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(_.element,E))),_.row.domNode.setAttribute("id",this.getElementDomId(E)),_.row.domNode.classList.toggle("drop-target",_.dropTarget)}removeItemFromDOM(_){const E=this.items[_];if(E.dragStartDisposable.dispose(),E.checkedDisposable.dispose(),E.row){const I=this.renderers.get(E.templateId);I&&I.disposeElement&&I.disposeElement(E.element,_,E.row.templateData,E.size),this.cache.release(E.row),E.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(_,E){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:_,reuseAnimation:E})}get scrollTop(){return this.getScrollTop()}set scrollTop(_){this.setScrollTop(_)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return b.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"click")).event,_=>this.toMouseEvent(_),this.disposables)}get onMouseDblClick(){return b.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"dblclick")).event,_=>this.toMouseEvent(_),this.disposables)}get onMouseMiddleClick(){return b.Event.filter(b.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"auxclick")).event,_=>this.toMouseEvent(_),this.disposables),_=>_.browserEvent.button===1,this.disposables)}get onMouseDown(){return b.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mousedown")).event,_=>this.toMouseEvent(_),this.disposables)}get onMouseOver(){return b.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mouseover")).event,_=>this.toMouseEvent(_),this.disposables)}get onMouseOut(){return b.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"mouseout")).event,_=>this.toMouseEvent(_),this.disposables)}get onContextMenu(){return b.Event.any(b.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"contextmenu")).event,_=>this.toMouseEvent(_),this.disposables),b.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,D.EventType.Contextmenu)).event,_=>this.toGestureEvent(_),this.disposables))}get onTouchStart(){return b.Event.map(this.disposables.add(new y.DomEmitter(this.domNode,"touchstart")).event,_=>this.toTouchEvent(_),this.disposables)}get onTap(){return b.Event.map(this.disposables.add(new y.DomEmitter(this.rowsContainer,D.EventType.Tap)).event,_=>this.toGestureEvent(_),this.disposables)}toMouseEvent(_){const E=this.getItemIndexFromEventTarget(_.target||null),I=typeof E>"u"?void 0:this.items[E],T=I&&I.element;return{browserEvent:_,index:E,element:T}}toTouchEvent(_){const E=this.getItemIndexFromEventTarget(_.target||null),I=typeof E>"u"?void 0:this.items[E],T=I&&I.element;return{browserEvent:_,index:E,element:T}}toGestureEvent(_){const E=this.getItemIndexFromEventTarget(_.initialTarget||null),I=typeof E>"u"?void 0:this.items[E],T=I&&I.element;return{browserEvent:_,index:E,element:T}}toDragEvent(_){const E=this.getItemIndexFromEventTarget(_.target||null),I=typeof E>"u"?void 0:this.items[E],T=I&&I.element,A=this.getTargetSector(_,E);return{browserEvent:_,index:E,element:T,sector:A}}onScroll(_){try{const E=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(E,_.scrollTop,_.height,_.scrollLeft,_.scrollWidth),this.supportDynamicHeights&&this._rerender(_.scrollTop,_.height,_.inSmoothScrolling)}catch(E){throw console.error("Got bad scroll event:",_),E}}onTouchChange(_){_.preventDefault(),_.stopPropagation(),this.scrollTop-=_.translationY}onDragStart(_,E,I){var T,A;if(!I.dataTransfer)return;const R=this.dnd.getDragElements(_);if(I.dataTransfer.effectAllowed="copyMove",I.dataTransfer.setData(L.DataTransfers.TEXT,E),I.dataTransfer.setDragImage){let M;this.dnd.getDragLabel&&(M=this.dnd.getDragLabel(R,I)),typeof M>"u"&&(M=String(R.length));const N=(0,k.$)(".monaco-drag-image");N.textContent=M;const F=(O=>{for(;O&&!O.classList.contains("monaco-workbench");)O=O.parentElement;return O||this.domNode.ownerDocument})(this.domNode);F.appendChild(N),I.dataTransfer.setDragImage(N,-10,-10),setTimeout(()=>F.removeChild(N),0)}this.domNode.classList.add("dragging"),this.currentDragData=new s(R),c.CurrentDragAndDropData=new l(R),(A=(T=this.dnd).onDragStart)===null||A===void 0||A.call(T,this.currentDragData,I)}onDragOver(_){var E,I;if(_.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),c.CurrentDragAndDropData&&c.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(_.browserEvent),!_.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(c.CurrentDragAndDropData)this.currentDragData=c.CurrentDragAndDropData;else{if(!_.browserEvent.dataTransfer.types)return!1;this.currentDragData=new r}const T=this.dnd.onDragOver(this.currentDragData,_.element,_.index,_.sector,_.browserEvent);if(this.canDrop=typeof T=="boolean"?T:T.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;_.browserEvent.dataTransfer.dropEffect=typeof T!="boolean"&&((E=T.effect)===null||E===void 0?void 0:E.type)===0?"copy":"move";let A;typeof T!="boolean"&&T.feedback?A=T.feedback:typeof _.index>"u"?A=[-1]:A=[_.index],A=(0,p.distinct)(A).filter(M=>M>=-1&&M<this.length).sort((M,N)=>M-N),A=A[0]===-1?[-1]:A;let R=typeof T!="boolean"&&T.effect&&T.effect.position?T.effect.position:"drop-target";if(h(this.currentDragFeedback,A)&&this.currentDragFeedbackPosition===R)return!0;if(this.currentDragFeedback=A,this.currentDragFeedbackPosition=R,this.currentDragFeedbackDisposable.dispose(),A[0]===-1)this.domNode.classList.add(R),this.rowsContainer.classList.add(R),this.currentDragFeedbackDisposable=(0,a.toDisposable)(()=>{this.domNode.classList.remove(R),this.rowsContainer.classList.remove(R)});else{if(A.length>1&&R!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");R==="drop-target-after"&&A[0]<this.length-1&&(A[0]+=1,R="drop-target-before");for(const M of A){const N=this.items[M];N.dropTarget=!0,(I=N.row)===null||I===void 0||I.domNode.classList.add(R)}this.currentDragFeedbackDisposable=(0,a.toDisposable)(()=>{var M;for(const N of A){const P=this.items[N];P.dropTarget=!1,(M=P.row)===null||M===void 0||M.domNode.classList.remove(R)}})}return!0}onDragLeave(_){var E,I;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,w.disposableTimeout)(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((I=(E=this.dnd).onDragLeave)===null||I===void 0||I.call(E,this.currentDragData,_.element,_.index,_.browserEvent))}onDrop(_){if(!this.canDrop)return;const E=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,c.CurrentDragAndDropData=void 0,!(!E||!_.browserEvent.dataTransfer)&&(_.browserEvent.preventDefault(),E.update(_.browserEvent.dataTransfer),this.dnd.drop(E,_.element,_.index,_.sector,_.browserEvent))}onDragEnd(_){var E,I;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,c.CurrentDragAndDropData=void 0,(I=(E=this.dnd).onDragEnd)===null||I===void 0||I.call(E,_)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=a.Disposable.None}setupDragAndDropScrollTopAnimation(_){if(!this.dragOverAnimationDisposable){const E=(0,k.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.animate)((0,k.getWindow)(this.domNode),this.animateDragAndDropScrollTop.bind(this,E))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,w.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=_.pageY}animateDragAndDropScrollTop(_){if(this.dragOverMouseY===void 0)return;const E=this.dragOverMouseY-_,I=this.renderHeight-35;E<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(E-35))):E>I&&(this.scrollTop+=Math.min(14,Math.floor(.3*(E-I))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(_,E){if(E===void 0)return;const I=_.offsetY/this.items[E].size,T=Math.floor(I/.25);return(0,m.clamp)(T,0,3)}getItemIndexFromEventTarget(_){const E=this.scrollableElement.getDomNode();let I=_;for(;I instanceof HTMLElement&&I!==this.rowsContainer&&E.contains(I);){const T=I.getAttribute("data-index");if(T){const A=Number(T);if(!isNaN(A))return A}I=I.parentElement}}getRenderRange(_,E){return{start:this.rangeMap.indexAt(_),end:this.rangeMap.indexAfter(_+E-1)}}_rerender(_,E,I){const T=this.getRenderRange(_,E);let A,R;_===this.elementTop(T.start)?(A=T.start,R=0):T.end-T.start>1&&(A=T.start+1,R=this.elementTop(A)-_);let M=0;for(;;){const N=this.getRenderRange(_,E);let P=!1;for(let F=N.start;F<N.end;F++){const O=this.probeDynamicHeight(F);O!==0&&this.rangeMap.splice(F,1,[this.items[F]]),M+=O,P=P||O!==0}if(!P){M!==0&&this.eventuallyUpdateScrollDimensions();const F=n.Range.relativeComplement(T,N);for(const B of F)for(let W=B.start;W<B.end;W++)this.items[W].row&&this.removeItemFromDOM(W);const O=n.Range.relativeComplement(N,T).reverse();for(const B of O)for(let W=B.end-1;W>=B.start;W--)this.insertItemInDOM(W);for(let B=N.start;B<N.end;B++)this.items[B].row&&this.updateItemInDOM(this.items[B],B);if(typeof A=="number"){const B=this.scrollable.getFutureScrollPosition().scrollTop-_,W=this.elementTop(A)-R+B;this.setScrollTop(W,I)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(_){var E,I,T;const A=this.items[_];if(this.virtualDelegate.getDynamicHeight){const P=this.virtualDelegate.getDynamicHeight(A.element);if(P!==null){const F=A.size;return A.size=P,A.lastDynamicHeightWidth=this.renderWidth,P-F}}if(!A.hasDynamicHeight||A.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(A.element))return 0;const R=A.size;if(A.row)return A.row.domNode.style.height="",A.size=A.row.domNode.offsetHeight,A.lastDynamicHeightWidth=this.renderWidth,A.size-R;const{row:M}=this.cache.alloc(A.templateId);M.domNode.style.height="",this.rowsContainer.appendChild(M.domNode);const N=this.renderers.get(A.templateId);if(!N)throw new g.BugIndicatingError("Missing renderer for templateId: "+A.templateId);return N.renderElement(A.element,_,M.templateData,void 0),A.size=M.domNode.offsetHeight,(E=N.disposeElement)===null||E===void 0||E.call(N,A.element,_,M.templateData,void 0),(T=(I=this.virtualDelegate).setDynamicHeight)===null||T===void 0||T.call(I,A.element,A.size),A.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(M.domNode),this.cache.release(M),A.size-R}getElementDomId(_){return`${this.domId}_${_}`}dispose(){var _,E;for(const I of this.items)if(I.dragStartDisposable.dispose(),I.checkedDisposable.dispose(),I.row){const T=this.renderers.get(I.row.templateId);T&&((_=T.disposeElement)===null||_===void 0||_.call(T,I.element,-1,I.row.templateData,void 0),T.disposeTemplate(I.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(E=this.dragOverAnimationDisposable)===null||E===void 0||E.dispose(),this.disposables.dispose()}}e.ListView=f,f.InstanceCount=0,De([v.memoize],f.prototype,"onMouseClick",null),De([v.memoize],f.prototype,"onMouseDblClick",null),De([v.memoize],f.prototype,"onMouseMiddleClick",null),De([v.memoize],f.prototype,"onMouseDown",null),De([v.memoize],f.prototype,"onMouseOver",null),De([v.memoize],f.prototype,"onMouseOut",null),De([v.memoize],f.prototype,"onContextMenu",null),De([v.memoize],f.prototype,"onTouchStart",null),De([v.memoize],f.prototype,"onTap",null)}),define(ne[105],se([1,0,6,84,46,65,44,403,13,15,39,111,7,73,2,128,17,20,402,234,69,283]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.unthemedListStyles=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=e.isButton=e.isStickyScrollContainer=e.isStickyScrollElement=e.isActionItem=e.isMonacoCustomToggle=e.isMonacoEditor=e.isInputElement=void 0;class l{constructor(Q){this.trait=Q,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(Q){return Q}renderElement(Q,U,Z){const H=this.renderedElements.findIndex(q=>q.templateData===Z);if(H>=0){const q=this.renderedElements[H];this.trait.unrender(Z),q.index=U}else{const q={index:U,templateData:Z};this.renderedElements.push(q)}this.trait.renderIndex(U,Z)}splice(Q,U,Z){const H=[];for(const q of this.renderedElements)q.index<Q?H.push(q):q.index>=Q+U&&H.push({index:q.index+Z-U,templateData:q.templateData});this.renderedElements=H}renderIndexes(Q){for(const{index:U,templateData:Z}of this.renderedElements)Q.indexOf(U)>-1&&this.trait.renderIndex(U,Z)}disposeTemplate(Q){const U=this.renderedElements.findIndex(Z=>Z.templateData===Q);U<0||this.renderedElements.splice(U,1)}}class r{get name(){return this._trait}get renderer(){return new l(this)}constructor(Q){this._trait=Q,this.indexes=[],this.sortedIndexes=[],this._onChange=new n.Emitter,this.onChange=this._onChange.event}splice(Q,U,Z){const H=Z.length-U,q=Q+U,te=[];let G=0;for(;G<this.sortedIndexes.length&&this.sortedIndexes[G]<Q;)te.push(this.sortedIndexes[G++]);for(let $=0;$<Z.length;$++)Z[$]&&te.push($+Q);for(;G<this.sortedIndexes.length&&this.sortedIndexes[G]>=q;)te.push(this.sortedIndexes[G++]+H);this.renderer.splice(Q,U,Z.length),this._set(te,te)}renderIndex(Q,U){U.classList.toggle(this._trait,this.contains(Q))}unrender(Q){Q.classList.remove(this._trait)}set(Q,U){return this._set(Q,[...Q].sort(X),U)}_set(Q,U,Z){const H=this.indexes,q=this.sortedIndexes;this.indexes=Q,this.sortedIndexes=U;const te=ie(q,Q);return this.renderer.renderIndexes(te),this._onChange.fire({indexes:Q,browserEvent:Z}),H}get(){return this.indexes}contains(Q){return(0,w.binarySearch)(this.sortedIndexes,Q,X)>=0}dispose(){(0,t.dispose)(this._onChange)}}De([a.memoize],r.prototype,"renderer",null);class h extends r{constructor(Q){super("selected"),this.setAriaSelected=Q}renderIndex(Q,U){super.renderIndex(Q,U),this.setAriaSelected&&(this.contains(Q)?U.setAttribute("aria-selected","true"):U.setAttribute("aria-selected","false"))}}class u{constructor(Q,U,Z){this.trait=Q,this.view=U,this.identityProvider=Z}splice(Q,U,Z){if(!this.identityProvider)return this.trait.splice(Q,U,new Array(Z.length).fill(!1));const H=this.trait.get().map(G=>this.identityProvider.getId(this.view.element(G)).toString());if(H.length===0)return this.trait.splice(Q,U,new Array(Z.length).fill(!1));const q=new Set(H),te=Z.map(G=>q.has(this.identityProvider.getId(G).toString()));this.trait.splice(Q,U,te)}}function f(pe){return pe.tagName==="INPUT"||pe.tagName==="TEXTAREA"}e.isInputElement=f;function C(pe,Q){return pe.classList.contains(Q)?!0:pe.classList.contains("monaco-list")||!pe.parentElement?!1:C(pe.parentElement,Q)}function _(pe){return C(pe,"monaco-editor")}e.isMonacoEditor=_;function E(pe){return C(pe,"monaco-custom-toggle")}e.isMonacoCustomToggle=E;function I(pe){return C(pe,"action-item")}e.isActionItem=I;function T(pe){return C(pe,"monaco-tree-sticky-row")}e.isStickyScrollElement=T;function A(pe){return pe.classList.contains("monaco-tree-sticky-container")}e.isStickyScrollContainer=A;function R(pe){return pe.tagName==="A"&&pe.classList.contains("monaco-button")||pe.tagName==="DIV"&&pe.classList.contains("monaco-button-dropdown")?!0:pe.classList.contains("monaco-list")||!pe.parentElement?!1:R(pe.parentElement)}e.isButton=R;class M{get onKeyDown(){return n.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,Q=>Q.filter(U=>!f(U.target)).map(U=>new y.StandardKeyboardEvent(U)))}constructor(Q,U,Z){this.list=Q,this.view=U,this.disposables=new t.DisposableStore,this.multipleSelectionDisposables=new t.DisposableStore,this.multipleSelectionSupport=Z.multipleSelectionSupport,this.disposables.add(this.onKeyDown(H=>{switch(H.keyCode){case 3:return this.onEnter(H);case 16:return this.onUpArrow(H);case 18:return this.onDownArrow(H);case 11:return this.onPageUpArrow(H);case 12:return this.onPageDownArrow(H);case 9:return this.onEscape(H);case 31:this.multipleSelectionSupport&&(g.isMacintosh?H.metaKey:H.ctrlKey)&&this.onCtrlA(H)}}))}updateOptions(Q){Q.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=Q.multipleSelectionSupport)}onEnter(Q){Q.preventDefault(),Q.stopPropagation(),this.list.setSelection(this.list.getFocus(),Q.browserEvent)}onUpArrow(Q){Q.preventDefault(),Q.stopPropagation(),this.list.focusPrevious(1,!1,Q.browserEvent);const U=this.list.getFocus()[0];this.list.setAnchor(U),this.list.reveal(U),this.view.domNode.focus()}onDownArrow(Q){Q.preventDefault(),Q.stopPropagation(),this.list.focusNext(1,!1,Q.browserEvent);const U=this.list.getFocus()[0];this.list.setAnchor(U),this.list.reveal(U),this.view.domNode.focus()}onPageUpArrow(Q){Q.preventDefault(),Q.stopPropagation(),this.list.focusPreviousPage(Q.browserEvent);const U=this.list.getFocus()[0];this.list.setAnchor(U),this.list.reveal(U),this.view.domNode.focus()}onPageDownArrow(Q){Q.preventDefault(),Q.stopPropagation(),this.list.focusNextPage(Q.browserEvent);const U=this.list.getFocus()[0];this.list.setAnchor(U),this.list.reveal(U),this.view.domNode.focus()}onCtrlA(Q){Q.preventDefault(),Q.stopPropagation(),this.list.setSelection((0,w.range)(this.list.length),Q.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(Q){this.list.getSelection().length&&(Q.preventDefault(),Q.stopPropagation(),this.list.setSelection([],Q.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}De([a.memoize],M.prototype,"onKeyDown",null);var N;(function(pe){pe[pe.Automatic=0]="Automatic",pe[pe.Trigger=1]="Trigger"})(N||(e.TypeNavigationMode=N={}));var P;(function(pe){pe[pe.Idle=0]="Idle",pe[pe.Typing=1]="Typing"})(P||(P={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(pe){return pe.ctrlKey||pe.metaKey||pe.altKey?!1:pe.keyCode>=31&&pe.keyCode<=56||pe.keyCode>=21&&pe.keyCode<=30||pe.keyCode>=98&&pe.keyCode<=107||pe.keyCode>=85&&pe.keyCode<=95}};class F{constructor(Q,U,Z,H,q){this.list=Q,this.view=U,this.keyboardNavigationLabelProvider=Z,this.keyboardNavigationEventFilter=H,this.delegate=q,this.enabled=!1,this.state=P.Idle,this.mode=N.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new t.DisposableStore,this.disposables=new t.DisposableStore,this.updateOptions(Q.options)}updateOptions(Q){var U,Z;!((U=Q.typeNavigationEnabled)!==null&&U!==void 0)||U?this.enable():this.disable(),this.mode=(Z=Q.typeNavigationMode)!==null&&Z!==void 0?Z:N.Automatic}enable(){if(this.enabled)return;let Q=!1;const U=n.Event.chain(this.enabledDisposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,q=>q.filter(te=>!f(te.target)).filter(()=>this.mode===N.Automatic||this.triggered).map(te=>new y.StandardKeyboardEvent(te)).filter(te=>Q||this.keyboardNavigationEventFilter(te)).filter(te=>this.delegate.mightProducePrintableCharacter(te)).forEach(te=>L.EventHelper.stop(te,!0)).map(te=>te.browserEvent.key)),Z=n.Event.debounce(U,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);n.Event.reduce(n.Event.any(U,Z),(q,te)=>te===null?null:(q||"")+te,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),Z(this.onClear,this,this.enabledDisposables),U(()=>Q=!0,void 0,this.enabledDisposables),Z(()=>Q=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var Q;const U=this.list.getFocus();if(U.length>0&&U[0]===this.previouslyFocused){const Z=(Q=this.list.options.accessibilityProvider)===null||Q===void 0?void 0:Q.getAriaLabel(this.list.element(U[0]));Z&&(0,S.alert)(Z)}this.previouslyFocused=-1}onInput(Q){if(!Q){this.state=P.Idle,this.triggered=!1;return}const U=this.list.getFocus(),Z=U.length>0?U[0]:0,H=this.state===P.Idle?1:0;this.state=P.Typing;for(let q=0;q<this.list.length;q++){const te=(Z+q+H)%this.list.length,G=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(te)),$=G&&G.toString();if(this.list.options.typeNavigationEnabled){if(typeof $<"u"){if((0,i.matchesPrefix)(Q,$)){this.previouslyFocused=Z,this.list.setFocus([te]),this.list.reveal(te);return}const oe=(0,i.matchesFuzzy2)(Q,$);if(oe&&oe[0].end-oe[0].start>1&&oe.length===1){this.previouslyFocused=Z,this.list.setFocus([te]),this.list.reveal(te);return}}}else if(typeof $>"u"||(0,i.matchesPrefix)(Q,$)){this.previouslyFocused=Z,this.list.setFocus([te]),this.list.reveal(te);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class O{constructor(Q,U){this.list=Q,this.view=U,this.disposables=new t.DisposableStore;const Z=n.Event.chain(this.disposables.add(new k.DomEmitter(U.domNode,"keydown")).event,q=>q.filter(te=>!f(te.target)).map(te=>new y.StandardKeyboardEvent(te)));n.Event.chain(Z,q=>q.filter(te=>te.keyCode===2&&!te.ctrlKey&&!te.metaKey&&!te.shiftKey&&!te.altKey))(this.onTab,this,this.disposables)}onTab(Q){if(Q.target!==this.view.domNode)return;const U=this.list.getFocus();if(U.length===0)return;const Z=this.view.domElement(U[0]);if(!Z)return;const H=Z.querySelector("[tabIndex]");if(!H||!(H instanceof HTMLElement)||H.tabIndex===-1)return;const q=(0,L.getWindow)(H).getComputedStyle(H);q.visibility==="hidden"||q.display==="none"||(Q.preventDefault(),Q.stopPropagation(),H.focus())}dispose(){this.disposables.dispose()}}function B(pe){return g.isMacintosh?pe.browserEvent.metaKey:pe.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=B;function W(pe){return pe.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=W;function V(pe){return(0,L.isMouseEvent)(pe)&&pe.button===2}const z={isSelectionSingleChangeEvent:B,isSelectionRangeChangeEvent:W};class K{constructor(Q){this.list=Q,this.disposables=new t.DisposableStore,this._onPointer=new n.Emitter,this.onPointer=this._onPointer.event,Q.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||z),this.mouseSupport=typeof Q.options.mouseSupport>"u"||!!Q.options.mouseSupport,this.mouseSupport&&(Q.onMouseDown(this.onMouseDown,this,this.disposables),Q.onContextMenu(this.onContextMenu,this,this.disposables),Q.onMouseDblClick(this.onDoubleClick,this,this.disposables),Q.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(D.Gesture.addTarget(Q.getHTMLElement()))),n.Event.any(Q.onMouseClick,Q.onMouseMiddleClick,Q.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(Q){Q.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,Q.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||z))}isSelectionSingleChangeEvent(Q){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(Q):!1}isSelectionRangeChangeEvent(Q){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(Q):!1}isSelectionChangeEvent(Q){return this.isSelectionSingleChangeEvent(Q)||this.isSelectionRangeChangeEvent(Q)}onMouseDown(Q){_(Q.browserEvent.target)||(0,L.getActiveElement)()!==Q.browserEvent.target&&this.list.domFocus()}onContextMenu(Q){if(f(Q.browserEvent.target)||_(Q.browserEvent.target))return;const U=typeof Q.index>"u"?[]:[Q.index];this.list.setFocus(U,Q.browserEvent)}onViewPointer(Q){if(!this.mouseSupport||f(Q.browserEvent.target)||_(Q.browserEvent.target)||Q.browserEvent.isHandledByList)return;Q.browserEvent.isHandledByList=!0;const U=Q.index;if(typeof U>"u"){this.list.setFocus([],Q.browserEvent),this.list.setSelection([],Q.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(Q))return this.changeSelection(Q);this.list.setFocus([U],Q.browserEvent),this.list.setAnchor(U),V(Q.browserEvent)||this.list.setSelection([U],Q.browserEvent),this._onPointer.fire(Q)}onDoubleClick(Q){if(f(Q.browserEvent.target)||_(Q.browserEvent.target)||this.isSelectionChangeEvent(Q)||Q.browserEvent.isHandledByList)return;Q.browserEvent.isHandledByList=!0;const U=this.list.getFocus();this.list.setSelection(U,Q.browserEvent)}changeSelection(Q){const U=Q.index;let Z=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(Q)){if(typeof Z>"u"){const ae=this.list.getFocus()[0];Z=ae??U,this.list.setAnchor(Z)}const H=Math.min(Z,U),q=Math.max(Z,U),te=(0,w.range)(H,q+1),G=this.list.getSelection(),$=re(ie(G,[Z]),Z);if($.length===0)return;const oe=ie(te,J(G,$));this.list.setSelection(oe,Q.browserEvent),this.list.setFocus([U],Q.browserEvent)}else if(this.isSelectionSingleChangeEvent(Q)){const H=this.list.getSelection(),q=H.filter(te=>te!==U);this.list.setFocus([U]),this.list.setAnchor(U),H.length===q.length?this.list.setSelection([...q,U],Q.browserEvent):this.list.setSelection(q,Q.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=K;class j{constructor(Q,U){this.styleElement=Q,this.selectorSuffix=U}style(Q){var U,Z;const H=this.selectorSuffix&&`.${this.selectorSuffix}`,q=[];Q.listBackground&&q.push(`.monaco-list${H} .monaco-list-rows { background: ${Q.listBackground}; }`),Q.listFocusBackground&&(q.push(`.monaco-list${H}:focus .monaco-list-row.focused { background-color: ${Q.listFocusBackground}; }`),q.push(`.monaco-list${H}:focus .monaco-list-row.focused:hover { background-color: ${Q.listFocusBackground}; }`)),Q.listFocusForeground&&q.push(`.monaco-list${H}:focus .monaco-list-row.focused { color: ${Q.listFocusForeground}; }`),Q.listActiveSelectionBackground&&(q.push(`.monaco-list${H}:focus .monaco-list-row.selected { background-color: ${Q.listActiveSelectionBackground}; }`),q.push(`.monaco-list${H}:focus .monaco-list-row.selected:hover { background-color: ${Q.listActiveSelectionBackground}; }`)),Q.listActiveSelectionForeground&&q.push(`.monaco-list${H}:focus .monaco-list-row.selected { color: ${Q.listActiveSelectionForeground}; }`),Q.listActiveSelectionIconForeground&&q.push(`.monaco-list${H}:focus .monaco-list-row.selected .codicon { color: ${Q.listActiveSelectionIconForeground}; }`),Q.listFocusAndSelectionBackground&&q.push(`
				.monaco-drag-image,
				.monaco-list${H}:focus .monaco-list-row.selected.focused { background-color: ${Q.listFocusAndSelectionBackground}; }
			`),Q.listFocusAndSelectionForeground&&q.push(`
				.monaco-drag-image,
				.monaco-list${H}:focus .monaco-list-row.selected.focused { color: ${Q.listFocusAndSelectionForeground}; }
			`),Q.listInactiveFocusForeground&&(q.push(`.monaco-list${H} .monaco-list-row.focused { color:  ${Q.listInactiveFocusForeground}; }`),q.push(`.monaco-list${H} .monaco-list-row.focused:hover { color:  ${Q.listInactiveFocusForeground}; }`)),Q.listInactiveSelectionIconForeground&&q.push(`.monaco-list${H} .monaco-list-row.focused .codicon { color:  ${Q.listInactiveSelectionIconForeground}; }`),Q.listInactiveFocusBackground&&(q.push(`.monaco-list${H} .monaco-list-row.focused { background-color:  ${Q.listInactiveFocusBackground}; }`),q.push(`.monaco-list${H} .monaco-list-row.focused:hover { background-color:  ${Q.listInactiveFocusBackground}; }`)),Q.listInactiveSelectionBackground&&(q.push(`.monaco-list${H} .monaco-list-row.selected { background-color:  ${Q.listInactiveSelectionBackground}; }`),q.push(`.monaco-list${H} .monaco-list-row.selected:hover { background-color:  ${Q.listInactiveSelectionBackground}; }`)),Q.listInactiveSelectionForeground&&q.push(`.monaco-list${H} .monaco-list-row.selected { color: ${Q.listInactiveSelectionForeground}; }`),Q.listHoverBackground&&q.push(`.monaco-list${H}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${Q.listHoverBackground}; }`),Q.listHoverForeground&&q.push(`.monaco-list${H}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${Q.listHoverForeground}; }`);const te=(0,L.asCssValueWithDefault)(Q.listFocusAndSelectionOutline,(0,L.asCssValueWithDefault)(Q.listSelectionOutline,(U=Q.listFocusOutline)!==null&&U!==void 0?U:""));te&&q.push(`.monaco-list${H}:focus .monaco-list-row.focused.selected { outline: 1px solid ${te}; outline-offset: -1px;}`),Q.listFocusOutline&&q.push(`
				.monaco-drag-image,
				.monaco-list${H}:focus .monaco-list-row.focused { outline: 1px solid ${Q.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${H}.last-focused .monaco-list-row.focused { outline: 1px solid ${Q.listFocusOutline}; outline-offset: -1px; }
			`);const G=(0,L.asCssValueWithDefault)(Q.listSelectionOutline,(Z=Q.listInactiveFocusOutline)!==null&&Z!==void 0?Z:"");G&&q.push(`.monaco-list${H} .monaco-list-row.focused.selected { outline: 1px dotted ${G}; outline-offset: -1px; }`),Q.listSelectionOutline&&q.push(`.monaco-list${H} .monaco-list-row.selected { outline: 1px dotted ${Q.listSelectionOutline}; outline-offset: -1px; }`),Q.listInactiveFocusOutline&&q.push(`.monaco-list${H} .monaco-list-row.focused { outline: 1px dotted ${Q.listInactiveFocusOutline}; outline-offset: -1px; }`),Q.listHoverOutline&&q.push(`.monaco-list${H} .monaco-list-row:hover { outline: 1px dashed ${Q.listHoverOutline}; outline-offset: -1px; }`),Q.listDropOverBackground&&q.push(`
				.monaco-list${H}.drop-target,
				.monaco-list${H} .monaco-list-rows.drop-target,
				.monaco-list${H} .monaco-list-row.drop-target { background-color: ${Q.listDropOverBackground} !important; color: inherit !important; }
			`),Q.listDropBetweenBackground&&(q.push(`
			.monaco-list${H} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${H} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${Q.listDropBetweenBackground};
			}`),q.push(`
			.monaco-list${H} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${H} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${Q.listDropBetweenBackground};
			}`)),Q.tableColumnsBorder&&q.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${Q.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),Q.tableOddRowsBackgroundColor&&q.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${Q.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=q.join(`
`)}}e.DefaultStyleController=j,e.unthemedListStyles={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:b.Color.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:b.Color.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:b.Color.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0};const x={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function re(pe,Q){const U=pe.indexOf(Q);if(U===-1)return[];const Z=[];let H=U-1;for(;H>=0&&pe[H]===Q-(U-H);)Z.push(pe[H--]);for(Z.reverse(),H=U;H<pe.length&&pe[H]===Q+(H-U);)Z.push(pe[H++]);return Z}function ie(pe,Q){const U=[];let Z=0,H=0;for(;Z<pe.length||H<Q.length;)if(Z>=pe.length)U.push(Q[H++]);else if(H>=Q.length)U.push(pe[Z++]);else if(pe[Z]===Q[H]){U.push(pe[Z]),Z++,H++;continue}else pe[Z]<Q[H]?U.push(pe[Z++]):U.push(Q[H++]);return U}function J(pe,Q){const U=[];let Z=0,H=0;for(;Z<pe.length||H<Q.length;)if(Z>=pe.length)U.push(Q[H++]);else if(H>=Q.length)U.push(pe[Z++]);else if(pe[Z]===Q[H]){Z++,H++;continue}else pe[Z]<Q[H]?U.push(pe[Z++]):H++;return U}const X=(pe,Q)=>pe-Q;class Y{constructor(Q,U){this._templateId=Q,this.renderers=U}get templateId(){return this._templateId}renderTemplate(Q){return this.renderers.map(U=>U.renderTemplate(Q))}renderElement(Q,U,Z,H){let q=0;for(const te of this.renderers)te.renderElement(Q,U,Z[q++],H)}disposeElement(Q,U,Z,H){var q;let te=0;for(const G of this.renderers)(q=G.disposeElement)===null||q===void 0||q.call(G,Q,U,Z[te],H),te+=1}disposeTemplate(Q){let U=0;for(const Z of this.renderers)Z.disposeTemplate(Q[U++])}}class le{constructor(Q){this.accessibilityProvider=Q,this.templateId="a18n"}renderTemplate(Q){return Q}renderElement(Q,U,Z){const H=this.accessibilityProvider.getAriaLabel(Q);H?Z.setAttribute("aria-label",H):Z.removeAttribute("aria-label");const q=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(Q);typeof q=="number"?Z.setAttribute("aria-level",`${q}`):Z.removeAttribute("aria-level")}disposeTemplate(Q){}}class de{constructor(Q,U){this.list=Q,this.dnd=U}getDragElements(Q){const U=this.list.getSelectedElements();return U.indexOf(Q)>-1?U:[Q]}getDragURI(Q){return this.dnd.getDragURI(Q)}getDragLabel(Q,U){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(Q,U)}onDragStart(Q,U){var Z,H;(H=(Z=this.dnd).onDragStart)===null||H===void 0||H.call(Z,Q,U)}onDragOver(Q,U,Z,H,q){return this.dnd.onDragOver(Q,U,Z,H,q)}onDragLeave(Q,U,Z,H){var q,te;(te=(q=this.dnd).onDragLeave)===null||te===void 0||te.call(q,Q,U,Z,H)}onDragEnd(Q){var U,Z;(Z=(U=this.dnd).onDragEnd)===null||Z===void 0||Z.call(U,Q)}drop(Q,U,Z,H,q){this.dnd.drop(Q,U,Z,H,q)}dispose(){this.dnd.dispose()}}class ge{get onDidChangeFocus(){return n.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),Q=>this.toListEvent(Q),this.disposables)}get onDidChangeSelection(){return n.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),Q=>this.toListEvent(Q),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let Q=!1;const U=n.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,q=>q.map(te=>new y.StandardKeyboardEvent(te)).filter(te=>Q=te.keyCode===58||te.shiftKey&&te.keyCode===68).map(te=>L.EventHelper.stop(te,!0)).filter(()=>!1)),Z=n.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keyup")).event,q=>q.forEach(()=>Q=!1).map(te=>new y.StandardKeyboardEvent(te)).filter(te=>te.keyCode===58||te.shiftKey&&te.keyCode===68).map(te=>L.EventHelper.stop(te,!0)).map(({browserEvent:te})=>{const G=this.getFocus(),$=G.length?G[0]:void 0,oe=typeof $<"u"?this.view.element($):void 0,ae=typeof $<"u"?this.view.domElement($):this.view.domNode;return{index:$,element:oe,anchor:ae,browserEvent:te}})),H=n.Event.chain(this.view.onContextMenu,q=>q.filter(te=>!Q).map(({element:te,index:G,browserEvent:$})=>({element:te,index:G,anchor:new s.StandardMouseEvent((0,L.getWindow)(this.view.domNode),$),browserEvent:$})));return n.Event.any(U,Z,H)}get onKeyDown(){return this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return n.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return n.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"blur",!0)).event)}constructor(Q,U,Z,H,q=x){var te,G,$,oe;this.user=Q,this._options=q,this.focus=new r("focused"),this.anchor=new r("anchor"),this.eventBufferer=new n.EventBufferer,this._ariaLabel="",this.disposables=new t.DisposableStore,this._onDidDispose=new n.Emitter,this.onDidDispose=this._onDidDispose.event;const ae=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(te=this._options.accessibilityProvider)===null||te===void 0?void 0:te.getWidgetRole():"list";this.selection=new h(ae!=="listbox");const ue=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=q.accessibilityProvider,this.accessibilityProvider&&(ue.push(new le(this.accessibilityProvider)),($=(G=this.accessibilityProvider).onDidChangeActiveDescendant)===null||$===void 0||$.call(G,this.onDidChangeActiveDescendant,this,this.disposables)),H=H.map(fe=>new Y(fe.templateId,[...ue,fe]));const ce={...q,dnd:q.dnd&&new de(this,q.dnd)};if(this.view=this.createListView(U,Z,H,ce),this.view.domNode.setAttribute("role",ae),q.styleController)this.styleController=q.styleController(this.view.domId);else{const fe=(0,L.createStyleSheet)(this.view.domNode);this.styleController=new j(fe,this.view.domId)}if(this.spliceable=new p.CombinedSpliceable([new u(this.focus,this.view,q.identityProvider),new u(this.selection,this.view,q.identityProvider),new u(this.anchor,this.view,q.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new O(this,this.view)),(typeof q.keyboardSupport!="boolean"||q.keyboardSupport)&&(this.keyboardController=new M(this,this.view,q),this.disposables.add(this.keyboardController)),q.keyboardNavigationLabelProvider){const fe=q.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new F(this,this.view,q.keyboardNavigationLabelProvider,(oe=q.keyboardNavigationEventFilter)!==null&&oe!==void 0?oe:()=>!0,fe),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(q),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(Q,U,Z,H){return new d.ListView(Q,U,Z,H)}createMouseController(Q){return new K(this)}updateOptions(Q={}){var U,Z;this._options={...this._options,...Q},(U=this.typeNavigationController)===null||U===void 0||U.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(Q),(Z=this.keyboardController)===null||Z===void 0||Z.updateOptions(Q),this.view.updateOptions(Q)}get options(){return this._options}splice(Q,U,Z=[]){if(Q<0||Q>this.view.length)throw new c.ListError(this.user,`Invalid start index: ${Q}`);if(U<0)throw new c.ListError(this.user,`Invalid delete count: ${U}`);U===0&&Z.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(Q,U,Z))}rerender(){this.view.rerender()}element(Q){return this.view.element(Q)}indexOf(Q){return this.view.indexOf(Q)}indexAt(Q){return this.view.indexAt(Q)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(Q){this.view.setScrollTop(Q)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(Q){this._ariaLabel=Q,this.view.domNode.setAttribute("aria-label",Q)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(Q,U){this.view.layout(Q,U)}setSelection(Q,U){for(const Z of Q)if(Z<0||Z>=this.length)throw new c.ListError(this.user,`Invalid index ${Z}`);this.selection.set(Q,U)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(Q=>this.view.element(Q))}setAnchor(Q){if(typeof Q>"u"){this.anchor.set([]);return}if(Q<0||Q>=this.length)throw new c.ListError(this.user,`Invalid index ${Q}`);this.anchor.set([Q])}getAnchor(){return(0,w.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const Q=this.getAnchor();return typeof Q>"u"?void 0:this.element(Q)}setFocus(Q,U){for(const Z of Q)if(Z<0||Z>=this.length)throw new c.ListError(this.user,`Invalid index ${Z}`);this.focus.set(Q,U)}focusNext(Q=1,U=!1,Z,H){if(this.length===0)return;const q=this.focus.get(),te=this.findNextIndex(q.length>0?q[0]+Q:0,U,H);te>-1&&this.setFocus([te],Z)}focusPrevious(Q=1,U=!1,Z,H){if(this.length===0)return;const q=this.focus.get(),te=this.findPreviousIndex(q.length>0?q[0]-Q:0,U,H);te>-1&&this.setFocus([te],Z)}async focusNextPage(Q,U){let Z=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Z=Z===0?0:Z-1;const H=this.getFocus()[0];if(H!==Z&&(H===void 0||Z>H)){const q=this.findPreviousIndex(Z,!1,U);q>-1&&H!==q?this.setFocus([q],Q):this.setFocus([Z],Q)}else{const q=this.view.getScrollTop();let te=q+this.view.renderHeight;Z>H&&(te-=this.view.elementHeight(Z)),this.view.setScrollTop(te),this.view.getScrollTop()!==q&&(this.setFocus([]),await(0,v.timeout)(0),await this.focusNextPage(Q,U))}}async focusPreviousPage(Q,U,Z=()=>0){let H;const q=Z(),te=this.view.getScrollTop()+q;te===0?H=this.view.indexAt(te):H=this.view.indexAfter(te-1);const G=this.getFocus()[0];if(G!==H&&(G===void 0||G>=H)){const $=this.findNextIndex(H,!1,U);$>-1&&G!==$?this.setFocus([$],Q):this.setFocus([H],Q)}else{const $=te;this.view.setScrollTop(te-this.view.renderHeight-q),this.view.getScrollTop()+Z()!==$&&(this.setFocus([]),await(0,v.timeout)(0),await this.focusPreviousPage(Q,U,Z))}}focusLast(Q,U){if(this.length===0)return;const Z=this.findPreviousIndex(this.length-1,!1,U);Z>-1&&this.setFocus([Z],Q)}focusFirst(Q,U){this.focusNth(0,Q,U)}focusNth(Q,U,Z){if(this.length===0)return;const H=this.findNextIndex(Q,!1,Z);H>-1&&this.setFocus([H],U)}findNextIndex(Q,U=!1,Z){for(let H=0;H<this.length;H++){if(Q>=this.length&&!U)return-1;if(Q=Q%this.length,!Z||Z(this.element(Q)))return Q;Q++}return-1}findPreviousIndex(Q,U=!1,Z){for(let H=0;H<this.length;H++){if(Q<0&&!U)return-1;if(Q=(this.length+Q%this.length)%this.length,!Z||Z(this.element(Q)))return Q;Q--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(Q=>this.view.element(Q))}reveal(Q,U,Z=0){if(Q<0||Q>=this.length)throw new c.ListError(this.user,`Invalid index ${Q}`);const H=this.view.getScrollTop(),q=this.view.elementTop(Q),te=this.view.elementHeight(Q);if((0,m.isNumber)(U)){const G=te-this.view.renderHeight+Z;this.view.setScrollTop(G*(0,o.clamp)(U,0,1)+q-Z)}else{const G=q+te,$=H+this.view.renderHeight;q<H+Z&&G>=$||(q<H+Z||G>=$&&te>=this.view.renderHeight?this.view.setScrollTop(q-Z):G>=$&&this.view.setScrollTop(G-this.view.renderHeight))}}getRelativeTop(Q,U=0){if(Q<0||Q>=this.length)throw new c.ListError(this.user,`Invalid index ${Q}`);const Z=this.view.getScrollTop(),H=this.view.elementTop(Q),q=this.view.elementHeight(Q);if(H<Z+U||H+q>Z+this.view.renderHeight)return null;const te=q-this.view.renderHeight+U;return Math.abs((Z+U-H)/te)}isDOMFocused(){return(0,L.isActiveElement)(this.view.domNode)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(Q){return this.view.getElementDomId(Q)}getElementTop(Q){return this.view.elementTop(Q)}style(Q){this.styleController.style(Q)}toListEvent({indexes:Q,browserEvent:U}){return{indexes:Q,elements:Q.map(Z=>this.view.element(Z)),browserEvent:U}}_onFocusChange(){const Q=this.focus.get();this.view.domNode.classList.toggle("element-focused",Q.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var Q;const U=this.focus.get();if(U.length>0){let Z;!((Q=this.accessibilityProvider)===null||Q===void 0)&&Q.getActiveDescendantId&&(Z=this.accessibilityProvider.getActiveDescendantId(this.view.element(U[0]))),this.view.domNode.setAttribute("aria-activedescendant",Z||this.view.getElementDomId(U[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const Q=this.selection.get();this.view.domNode.classList.toggle("selection-none",Q.length===0),this.view.domNode.classList.toggle("selection-single",Q.length===1),this.view.domNode.classList.toggle("selection-multiple",Q.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}e.List=ge,De([a.memoize],ge.prototype,"onDidChangeFocus",null),De([a.memoize],ge.prototype,"onDidChangeSelection",null),De([a.memoize],ge.prototype,"onContextMenu",null),De([a.memoize],ge.prototype,"onKeyDown",null),De([a.memoize],ge.prototype,"onDidFocus",null),De([a.memoize],ge.prototype,"onDidBlur",null)}),define(ne[604],se([1,0,13,19,7,2,105,283]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class p{get templateId(){return this.renderer.templateId}constructor(n,i){this.renderer=n,this.modelProvider=i}renderTemplate(n){return{data:this.renderer.renderTemplate(n),disposable:D.Disposable.None}}renderElement(n,i,t,o){var g;if((g=t.disposable)===null||g===void 0||g.dispose(),!t.data)return;const m=this.modelProvider();if(m.isResolved(n))return this.renderer.renderElement(m.get(n),n,t.data,o);const c=new k.CancellationTokenSource,d=m.resolve(n,c.token);t.disposable={dispose:()=>c.cancel()},this.renderer.renderPlaceholder(n,t.data),d.then(s=>this.renderer.renderElement(s,n,t.data,o))}disposeTemplate(n){n.disposable&&(n.disposable.dispose(),n.disposable=void 0),n.data&&(this.renderer.disposeTemplate(n.data),n.data=void 0)}}class w{constructor(n,i){this.modelProvider=n,this.accessibilityProvider=i}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(n){const i=this.modelProvider();return i.isResolved(n)?this.accessibilityProvider.getAriaLabel(i.get(n)):null}}function v(a,n){return{...n,accessibilityProvider:n.accessibilityProvider&&new w(a,n.accessibilityProvider)}}class b{constructor(n,i,t,o,g={}){const m=()=>this.model,c=o.map(d=>new p(d,m));this.list=new S.List(n,i,t,c,v(m,g))}updateOptions(n){this.list.updateOptions(n)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return y.Event.map(this.list.onMouseDblClick,({element:n,index:i,browserEvent:t})=>({element:n===void 0?void 0:this._model.get(n),index:i,browserEvent:t}))}get onPointer(){return y.Event.map(this.list.onPointer,({element:n,index:i,browserEvent:t})=>({element:n===void 0?void 0:this._model.get(n),index:i,browserEvent:t}))}get onDidChangeSelection(){return y.Event.map(this.list.onDidChangeSelection,({elements:n,indexes:i,browserEvent:t})=>({elements:n.map(o=>this._model.get(o)),indexes:i,browserEvent:t}))}get model(){return this._model}set model(n){this._model=n,this.list.splice(0,this.list.length,(0,L.range)(n.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(n=>this.model.get(n))}style(n){this.list.style(n)}dispose(){this.list.dispose()}}e.PagedList=b}),define(ne[329],se([1,0,6,84,160,78,13,39,7,2,128,151,20,431]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const i={separatorBorder:p.Color.transparent};class t{set size(l){this._size=l}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(l,r){var h,u;if(l!==this.visible){l?(this.size=(0,b.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof r=="number"?r:this.size,this.size=0),this.container.classList.toggle("visible",l);try{(u=(h=this.view).setVisible)===null||u===void 0||u.call(h,l)}catch(f){console.error("Splitview: Failed to set visible view"),console.error(f)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var l;return(l=this.view.proportionalLayout)!==null&&l!==void 0?l:!0}get snap(){return!!this.view.snap}set enabled(l){this.container.style.pointerEvents=l?"":"none"}constructor(l,r,h,u){this.container=l,this.view=r,this.disposable=u,this._cachedVisibleSize=void 0,typeof h=="number"?(this._size=h,this._cachedVisibleSize=void 0,l.classList.add("visible")):(this._size=0,this._cachedVisibleSize=h.cachedVisibleSize)}layout(l,r){this.layoutContainer(l);try{this.view.layout(this.size,l,r)}catch(h){console.error("Splitview: Failed to layout view"),console.error(h)}}dispose(){this.disposable.dispose()}}class o extends t{layoutContainer(l){this.container.style.top=`${l}px`,this.container.style.height=`${this.size}px`}}class g extends t{layoutContainer(l){this.container.style.left=`${l}px`,this.container.style.width=`${this.size}px`}}var m;(function(s){s[s.Idle=0]="Idle",s[s.Busy=1]="Busy"})(m||(m={}));var c;(function(s){s.Distribute={type:"distribute"};function l(u){return{type:"split",index:u}}s.Split=l;function r(u){return{type:"auto",index:u}}s.Auto=r;function h(u){return{type:"invisible",cachedVisibleSize:u}}s.Invisible=h})(c||(e.Sizing=c={}));class d extends v.Disposable{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(l){for(const r of this.sashItems)r.sash.orthogonalStartSash=l;this._orthogonalStartSash=l}set orthogonalEndSash(l){for(const r of this.sashItems)r.sash.orthogonalEndSash=l;this._orthogonalEndSash=l}set startSnappingEnabled(l){this._startSnappingEnabled!==l&&(this._startSnappingEnabled=l,this.updateSashEnablement())}set endSnappingEnabled(l){this._endSnappingEnabled!==l&&(this._endSnappingEnabled=l,this.updateSashEnablement())}constructor(l,r={}){var h,u,f,C,_;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=m.Idle,this._onDidSashChange=this._register(new w.Emitter),this._onDidSashReset=this._register(new w.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(h=r.orientation)!==null&&h!==void 0?h:0,this.inverseAltBehavior=(u=r.inverseAltBehavior)!==null&&u!==void 0?u:!1,this.proportionalLayout=(f=r.proportionalLayout)!==null&&f!==void 0?f:!0,this.getSashOrthogonalSize=r.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),l.appendChild(this.el),this.sashContainer=(0,L.append)(this.el,(0,L.$)(".sash-container")),this.viewContainer=(0,L.$)(".split-view-container"),this.scrollable=this._register(new a.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:I=>(0,L.scheduleAtNextAnimationFrame)((0,L.getWindow)(this.el),I)})),this.scrollableElement=this._register(new D.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(C=r.scrollbarVisibility)!==null&&C!==void 0?C:1:2,horizontal:this.orientation===1?(_=r.scrollbarVisibility)!==null&&_!==void 0?_:1:2},this.scrollable));const E=this._register(new k.DomEmitter(this.viewContainer,"scroll")).event;this._register(E(I=>{const T=this.scrollableElement.getScrollPosition(),A=Math.abs(this.viewContainer.scrollLeft-T.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,R=Math.abs(this.viewContainer.scrollTop-T.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(A!==void 0||R!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:A,scrollTop:R})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(I=>{I.scrollTopChanged&&(this.viewContainer.scrollTop=I.scrollTop),I.scrollLeftChanged&&(this.viewContainer.scrollLeft=I.scrollLeft)})),(0,L.append)(this.el,this.scrollableElement.getDomNode()),this.style(r.styles||i),r.descriptor&&(this.size=r.descriptor.size,r.descriptor.views.forEach((I,T)=>{const A=n.isUndefined(I.visible)||I.visible?I.size:{type:"invisible",cachedVisibleSize:I.size},R=I.view;this.doAddView(R,A,T,!0)}),this._contentSize=this.viewItems.reduce((I,T)=>I+T.size,0),this.saveProportions())}style(l){l.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",l.separatorBorder.toString()))}addView(l,r,h=this.viewItems.length,u){this.doAddView(l,r,h,u)}layout(l,r){const h=Math.max(this.size,this._contentSize);if(this.size=l,this.layoutContext=r,this.proportions){let u=0;for(let f=0;f<this.viewItems.length;f++){const C=this.viewItems[f],_=this.proportions[f];typeof _=="number"?u+=_:l-=C.size}for(let f=0;f<this.viewItems.length;f++){const C=this.viewItems[f],_=this.proportions[f];typeof _=="number"&&u>0&&(C.size=(0,b.clamp)(Math.round(_*l/u),C.minimumSize,C.maximumSize))}}else{const u=(0,S.range)(this.viewItems.length),f=u.filter(_=>this.viewItems[_].priority===1),C=u.filter(_=>this.viewItems[_].priority===2);this.resize(this.viewItems.length-1,l-h,void 0,f,C)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(l=>l.proportionalLayout&&l.visible?l.size/this._contentSize:void 0))}onSashStart({sash:l,start:r,alt:h}){for(const _ of this.viewItems)_.enabled=!1;const u=this.sashItems.findIndex(_=>_.sash===l),f=(0,v.combinedDisposable)((0,L.addDisposableListener)(this.el.ownerDocument.body,"keydown",_=>C(this.sashDragState.current,_.altKey)),(0,L.addDisposableListener)(this.el.ownerDocument.body,"keyup",()=>C(this.sashDragState.current,!1))),C=(_,E)=>{const I=this.viewItems.map(N=>N.size);let T=Number.NEGATIVE_INFINITY,A=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(E=!E),E)if(u===this.sashItems.length-1){const P=this.viewItems[u];T=(P.minimumSize-P.size)/2,A=(P.maximumSize-P.size)/2}else{const P=this.viewItems[u+1];T=(P.size-P.maximumSize)/2,A=(P.size-P.minimumSize)/2}let R,M;if(!E){const N=(0,S.range)(u,-1),P=(0,S.range)(u+1,this.viewItems.length),F=N.reduce((x,re)=>x+(this.viewItems[re].minimumSize-I[re]),0),O=N.reduce((x,re)=>x+(this.viewItems[re].viewMaximumSize-I[re]),0),B=P.length===0?Number.POSITIVE_INFINITY:P.reduce((x,re)=>x+(I[re]-this.viewItems[re].minimumSize),0),W=P.length===0?Number.NEGATIVE_INFINITY:P.reduce((x,re)=>x+(I[re]-this.viewItems[re].viewMaximumSize),0),V=Math.max(F,W),z=Math.min(B,O),K=this.findFirstSnapIndex(N),j=this.findFirstSnapIndex(P);if(typeof K=="number"){const x=this.viewItems[K],re=Math.floor(x.viewMinimumSize/2);R={index:K,limitDelta:x.visible?V-re:V+re,size:x.size}}if(typeof j=="number"){const x=this.viewItems[j],re=Math.floor(x.viewMinimumSize/2);M={index:j,limitDelta:x.visible?z+re:z-re,size:x.size}}}this.sashDragState={start:_,current:_,index:u,sizes:I,minDelta:T,maxDelta:A,alt:E,snapBefore:R,snapAfter:M,disposable:f}};C(r,h)}onSashChange({current:l}){const{index:r,start:h,sizes:u,alt:f,minDelta:C,maxDelta:_,snapBefore:E,snapAfter:I}=this.sashDragState;this.sashDragState.current=l;const T=l-h,A=this.resize(r,T,u,void 0,void 0,C,_,E,I);if(f){const R=r===this.sashItems.length-1,M=this.viewItems.map(W=>W.size),N=R?r:r+1,P=this.viewItems[N],F=P.size-P.maximumSize,O=P.size-P.minimumSize,B=R?r-1:r+1;this.resize(B,-A,M,void 0,void 0,F,O)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(l){this._onDidSashChange.fire(l),this.sashDragState.disposable.dispose(),this.saveProportions();for(const r of this.viewItems)r.enabled=!0}onViewChange(l,r){const h=this.viewItems.indexOf(l);h<0||h>=this.viewItems.length||(r=typeof r=="number"?r:l.size,r=(0,b.clamp)(r,l.minimumSize,l.maximumSize),this.inverseAltBehavior&&h>0?(this.resize(h-1,Math.floor((l.size-r)/2)),this.distributeEmptySpace(),this.layoutViews()):(l.size=r,this.relayout([h],void 0)))}resizeView(l,r){if(!(l<0||l>=this.viewItems.length)){if(this.state!==m.Idle)throw new Error("Cant modify splitview");this.state=m.Busy;try{const h=(0,S.range)(this.viewItems.length).filter(_=>_!==l),u=[...h.filter(_=>this.viewItems[_].priority===1),l],f=h.filter(_=>this.viewItems[_].priority===2),C=this.viewItems[l];r=Math.round(r),r=(0,b.clamp)(r,C.minimumSize,Math.min(C.maximumSize,this.size)),C.size=r,this.relayout(u,f)}finally{this.state=m.Idle}}}distributeViewSizes(){const l=[];let r=0;for(const _ of this.viewItems)_.maximumSize-_.minimumSize>0&&(l.push(_),r+=_.size);const h=Math.floor(r/l.length);for(const _ of l)_.size=(0,b.clamp)(h,_.minimumSize,_.maximumSize);const u=(0,S.range)(this.viewItems.length),f=u.filter(_=>this.viewItems[_].priority===1),C=u.filter(_=>this.viewItems[_].priority===2);this.relayout(f,C)}getViewSize(l){return l<0||l>=this.viewItems.length?-1:this.viewItems[l].size}doAddView(l,r,h=this.viewItems.length,u){if(this.state!==m.Idle)throw new Error("Cant modify splitview");this.state=m.Busy;try{const f=(0,L.$)(".split-view-view");h===this.viewItems.length?this.viewContainer.appendChild(f):this.viewContainer.insertBefore(f,this.viewContainer.children.item(h));const C=l.onDidChange(R=>this.onViewChange(T,R)),_=(0,v.toDisposable)(()=>this.viewContainer.removeChild(f)),E=(0,v.combinedDisposable)(C,_);let I;typeof r=="number"?I=r:(r.type==="auto"&&(this.areViewsDistributed()?r={type:"distribute"}:r={type:"split",index:r.index}),r.type==="split"?I=this.getViewSize(r.index)/2:r.type==="invisible"?I={cachedVisibleSize:r.cachedVisibleSize}:I=l.minimumSize);const T=this.orientation===0?new o(f,l,I,E):new g(f,l,I,E);if(this.viewItems.splice(h,0,T),this.viewItems.length>1){const R={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},M=this.orientation===0?new y.Sash(this.sashContainer,{getHorizontalSashTop:x=>this.getSashPosition(x),getHorizontalSashWidth:this.getSashOrthogonalSize},{...R,orientation:1}):new y.Sash(this.sashContainer,{getVerticalSashLeft:x=>this.getSashPosition(x),getVerticalSashHeight:this.getSashOrthogonalSize},{...R,orientation:0}),N=this.orientation===0?x=>({sash:M,start:x.startY,current:x.currentY,alt:x.altKey}):x=>({sash:M,start:x.startX,current:x.currentX,alt:x.altKey}),F=w.Event.map(M.onDidStart,N)(this.onSashStart,this),B=w.Event.map(M.onDidChange,N)(this.onSashChange,this),V=w.Event.map(M.onDidEnd,()=>this.sashItems.findIndex(x=>x.sash===M))(this.onSashEnd,this),z=M.onDidReset(()=>{const x=this.sashItems.findIndex(Y=>Y.sash===M),re=(0,S.range)(x,-1),ie=(0,S.range)(x+1,this.viewItems.length),J=this.findFirstSnapIndex(re),X=this.findFirstSnapIndex(ie);typeof J=="number"&&!this.viewItems[J].visible||typeof X=="number"&&!this.viewItems[X].visible||this._onDidSashReset.fire(x)}),K=(0,v.combinedDisposable)(F,B,V,z,M),j={sash:M,disposable:K};this.sashItems.splice(h-1,0,j)}f.appendChild(l.element);let A;typeof r!="number"&&r.type==="split"&&(A=[r.index]),u||this.relayout([h],A),!u&&typeof r!="number"&&r.type==="distribute"&&this.distributeViewSizes()}finally{this.state=m.Idle}}relayout(l,r){const h=this.viewItems.reduce((u,f)=>u+f.size,0);this.resize(this.viewItems.length-1,this.size-h,void 0,l,r),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(l,r,h=this.viewItems.map(T=>T.size),u,f,C=Number.NEGATIVE_INFINITY,_=Number.POSITIVE_INFINITY,E,I){if(l<0||l>=this.viewItems.length)return 0;const T=(0,S.range)(l,-1),A=(0,S.range)(l+1,this.viewItems.length);if(f)for(const j of f)(0,S.pushToStart)(T,j),(0,S.pushToStart)(A,j);if(u)for(const j of u)(0,S.pushToEnd)(T,j),(0,S.pushToEnd)(A,j);const R=T.map(j=>this.viewItems[j]),M=T.map(j=>h[j]),N=A.map(j=>this.viewItems[j]),P=A.map(j=>h[j]),F=T.reduce((j,x)=>j+(this.viewItems[x].minimumSize-h[x]),0),O=T.reduce((j,x)=>j+(this.viewItems[x].maximumSize-h[x]),0),B=A.length===0?Number.POSITIVE_INFINITY:A.reduce((j,x)=>j+(h[x]-this.viewItems[x].minimumSize),0),W=A.length===0?Number.NEGATIVE_INFINITY:A.reduce((j,x)=>j+(h[x]-this.viewItems[x].maximumSize),0),V=Math.max(F,W,C),z=Math.min(B,O,_);let K=!1;if(E){const j=this.viewItems[E.index],x=r>=E.limitDelta;K=x!==j.visible,j.setVisible(x,E.size)}if(!K&&I){const j=this.viewItems[I.index],x=r<I.limitDelta;K=x!==j.visible,j.setVisible(x,I.size)}if(K)return this.resize(l,r,h,u,f,C,_);r=(0,b.clamp)(r,V,z);for(let j=0,x=r;j<R.length;j++){const re=R[j],ie=(0,b.clamp)(M[j]+x,re.minimumSize,re.maximumSize),J=ie-M[j];x-=J,re.size=ie}for(let j=0,x=r;j<N.length;j++){const re=N[j],ie=(0,b.clamp)(P[j]-x,re.minimumSize,re.maximumSize),J=ie-P[j];x+=J,re.size=ie}return r}distributeEmptySpace(l){const r=this.viewItems.reduce((_,E)=>_+E.size,0);let h=this.size-r;const u=(0,S.range)(this.viewItems.length-1,-1),f=u.filter(_=>this.viewItems[_].priority===1),C=u.filter(_=>this.viewItems[_].priority===2);for(const _ of C)(0,S.pushToStart)(u,_);for(const _ of f)(0,S.pushToEnd)(u,_);typeof l=="number"&&(0,S.pushToEnd)(u,l);for(let _=0;h!==0&&_<u.length;_++){const E=this.viewItems[u[_]],I=(0,b.clamp)(E.size+h,E.minimumSize,E.maximumSize),T=I-E.size;h-=T,E.size=I}}layoutViews(){this._contentSize=this.viewItems.reduce((r,h)=>r+h.size,0);let l=0;for(const r of this.viewItems)r.layout(l,this.layoutContext),l+=r.size;this.sashItems.forEach(r=>r.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let l=!1;const r=this.viewItems.map(E=>l=E.size-E.minimumSize>0||l);l=!1;const h=this.viewItems.map(E=>l=E.maximumSize-E.size>0||l),u=[...this.viewItems].reverse();l=!1;const f=u.map(E=>l=E.size-E.minimumSize>0||l).reverse();l=!1;const C=u.map(E=>l=E.maximumSize-E.size>0||l).reverse();let _=0;for(let E=0;E<this.sashItems.length;E++){const{sash:I}=this.sashItems[E],T=this.viewItems[E];_+=T.size;const A=!(r[E]&&C[E+1]),R=!(h[E]&&f[E+1]);if(A&&R){const M=(0,S.range)(E,-1),N=(0,S.range)(E+1,this.viewItems.length),P=this.findFirstSnapIndex(M),F=this.findFirstSnapIndex(N),O=typeof P=="number"&&!this.viewItems[P].visible,B=typeof F=="number"&&!this.viewItems[F].visible;O&&f[E]&&(_>0||this.startSnappingEnabled)?I.state=1:B&&r[E]&&(_<this._contentSize||this.endSnappingEnabled)?I.state=2:I.state=0}else A&&!R?I.state=1:!A&&R?I.state=2:I.state=3}}getSashPosition(l){let r=0;for(let h=0;h<this.sashItems.length;h++)if(r+=this.viewItems[h].size,this.sashItems[h].sash===l)return r;return 0}findFirstSnapIndex(l){for(const r of l){const h=this.viewItems[r];if(h.visible&&h.snap)return r}for(const r of l){const h=this.viewItems[r];if(h.visible&&h.maximumSize-h.minimumSize>0)return;if(!h.visible&&h.snap)return r}}areViewsDistributed(){let l,r;for(const h of this.viewItems)if(l=l===void 0?h.size:Math.min(l,h.size),r=r===void 0?h.size:Math.max(r,h.size),r-l>2)return!1;return!0}dispose(){var l;(l=this.sashDragState)===null||l===void 0||l.disposable.dispose(),(0,v.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(r=>r.disposable.dispose()),this.sashItems=[],super.dispose()}}e.SplitView=d}),define(ne[48],se([1,0,228,47,98,17,11,22]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function w(a){return(0,p.uriToFsPath)(a,!0)}e.originalFSPath=w;class v{constructor(n){this._ignorePathCasing=n}compare(n,i,t=!1){return n===i?0:(0,S.compare)(this.getComparisonKey(n,t),this.getComparisonKey(i,t))}isEqual(n,i,t=!1){return n===i?!0:!n||!i?!1:this.getComparisonKey(n,t)===this.getComparisonKey(i,t)}getComparisonKey(n,i=!1){return n.with({path:this._ignorePathCasing(n)?n.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()}isEqualOrParent(n,i,t=!1){if(n.scheme===i.scheme){if(n.scheme===k.Schemas.file)return L.isEqualOrParent(w(n),w(i),this._ignorePathCasing(n))&&n.query===i.query&&(t||n.fragment===i.fragment);if((0,e.isEqualAuthority)(n.authority,i.authority))return L.isEqualOrParent(n.path,i.path,this._ignorePathCasing(n),"/")&&n.query===i.query&&(t||n.fragment===i.fragment)}return!1}joinPath(n,...i){return p.URI.joinPath(n,...i)}basenameOrAuthority(n){return(0,e.basename)(n)||n.authority}basename(n){return y.posix.basename(n.path)}extname(n){return y.posix.extname(n.path)}dirname(n){if(n.path.length===0)return n;let i;return n.scheme===k.Schemas.file?i=p.URI.file(y.dirname(w(n))).path:(i=y.posix.dirname(n.path),n.authority&&i.length&&i.charCodeAt(0)!==47&&(console.error(`dirname("${n.toString})) resulted in a relative path`),i="/")),n.with({path:i})}normalizePath(n){if(!n.path.length)return n;let i;return n.scheme===k.Schemas.file?i=p.URI.file(y.normalize(w(n))).path:i=y.posix.normalize(n.path),n.with({path:i})}relativePath(n,i){if(n.scheme!==i.scheme||!(0,e.isEqualAuthority)(n.authority,i.authority))return;if(n.scheme===k.Schemas.file){const g=y.relative(w(n),w(i));return D.isWindows?L.toSlashes(g):g}let t=n.path||"/";const o=i.path||"/";if(this._ignorePathCasing(n)){let g=0;for(const m=Math.min(t.length,o.length);g<m&&!(t.charCodeAt(g)!==o.charCodeAt(g)&&t.charAt(g).toLowerCase()!==o.charAt(g).toLowerCase());g++);t=o.substr(0,g)+t.substr(g)}return y.posix.relative(t,o)}resolvePath(n,i){if(n.scheme===k.Schemas.file){const t=p.URI.file(y.resolve(w(n),i));return n.with({authority:t.authority,path:t.path})}return i=L.toPosixPath(i),n.with({path:y.posix.resolve(n.path,i)})}isAbsolutePath(n){return!!n.path&&n.path[0]==="/"}isEqualAuthority(n,i){return n===i||n!==void 0&&i!==void 0&&(0,S.equalsIgnoreCase)(n,i)}hasTrailingPathSeparator(n,i=y.sep){if(n.scheme===k.Schemas.file){const t=w(n);return t.length>L.getRoot(t).length&&t[t.length-1]===i}else{const t=n.path;return t.length>1&&t.charCodeAt(t.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(n.fsPath)}}removeTrailingPathSeparator(n,i=y.sep){return(0,e.hasTrailingPathSeparator)(n,i)?n.with({path:n.path.substr(0,n.path.length-1)}):n}addTrailingPathSeparator(n,i=y.sep){let t=!1;if(n.scheme===k.Schemas.file){const o=w(n);t=o!==void 0&&o.length===L.getRoot(o).length&&o[o.length-1]===i}else{i="/";const o=n.path;t=o.length===1&&o.charCodeAt(o.length-1)===47}return!t&&!(0,e.hasTrailingPathSeparator)(n,i)?n.with({path:n.path+"/"}):n}}e.ExtUri=v,e.extUri=new v(()=>!1),e.extUriBiasedIgnorePathCase=new v(a=>a.scheme===k.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new v(a=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var b;(function(a){a.META_DATA_LABEL="label",a.META_DATA_DESCRIPTION="description",a.META_DATA_SIZE="size",a.META_DATA_MIME="mime";function n(i){const t=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach(m=>{const[c,d]=m.split(":");c&&d&&t.set(c,d)});const g=i.path.substring(0,i.path.indexOf(";"));return g&&t.set(a.META_DATA_MIME,g),t}a.parseMetaData=n})(b||(e.DataUri=b={}))}),define(ne[58],se([1,0,12,130,48,11,22]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeDoubleQuotes=e.appendEscapedMarkdownCodeBlockFence=e.escapeMarkdownSyntaxTokens=e.markdownStringEqual=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class p{constructor(m="",c=!1){var d,s,l;if(this.value=m,typeof this.value!="string")throw(0,L.illegalArgument)("value");typeof c=="boolean"?(this.isTrusted=c,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(d=c.isTrusted)!==null&&d!==void 0?d:void 0,this.supportThemeIcons=(s=c.supportThemeIcons)!==null&&s!==void 0?s:!1,this.supportHtml=(l=c.supportHtml)!==null&&l!==void 0?l:!1)}appendText(m,c=0){return this.value+=a(this.supportThemeIcons?(0,k.escapeIcons)(m):m).replace(/([ \t]+)/g,(d,s)=>"&nbsp;".repeat(s.length)).replace(/\>/gm,"\\>").replace(/\n/g,c===1?`\\
`:`

`),this}appendMarkdown(m){return this.value+=m,this}appendCodeblock(m,c){return this.value+=`
${n(c,m)}
`,this}appendLink(m,c,d){return this.value+="[",this.value+=this._escape(c,"]"),this.value+="](",this.value+=this._escape(String(m),")"),d&&(this.value+=` "${this._escape(this._escape(d,'"'),")")}"`),this.value+=")",this}_escape(m,c){const d=new RegExp((0,D.escapeRegExpCharacters)(c),"g");return m.replace(d,(s,l)=>m.charAt(l-1)!=="\\"?`\\${s}`:s)}}e.MarkdownString=p;function w(g){return v(g)?!g.value:Array.isArray(g)?g.every(w):!0}e.isEmptyMarkdownString=w;function v(g){return g instanceof p?!0:g&&typeof g=="object"?typeof g.value=="string"&&(typeof g.isTrusted=="boolean"||typeof g.isTrusted=="object"||g.isTrusted===void 0)&&(typeof g.supportThemeIcons=="boolean"||g.supportThemeIcons===void 0):!1}e.isMarkdownString=v;function b(g,m){return g===m?!0:!g||!m?!1:g.value===m.value&&g.isTrusted===m.isTrusted&&g.supportThemeIcons===m.supportThemeIcons&&g.supportHtml===m.supportHtml&&(g.baseUri===m.baseUri||!!g.baseUri&&!!m.baseUri&&(0,y.isEqual)(S.URI.from(g.baseUri),S.URI.from(m.baseUri)))}e.markdownStringEqual=b;function a(g){return g.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=a;function n(g,m){var c,d;const s=(d=(c=g.match(/^`+/gm))===null||c===void 0?void 0:c.reduce((r,h)=>r.length>h.length?r:h).length)!==null&&d!==void 0?d:0,l=s>=3?s+1:3;return[`${"`".repeat(l)}${m}`,g,`${"`".repeat(l)}`].join(`
`)}e.appendEscapedMarkdownCodeBlockFence=n;function i(g){return g.replace(/"/g,"&quot;")}e.escapeDoubleQuotes=i;function t(g){return g&&g.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}e.removeMarkdownEscapes=t;function o(g){const m=[],c=g.split("|").map(s=>s.trim());g=c[0];const d=c[1];if(d){const s=/height=(\d+)/.exec(d),l=/width=(\d+)/.exec(d),r=s?s[1]:"",h=l?l[1]:"",u=isFinite(parseInt(h)),f=isFinite(parseInt(r));u&&m.push(`width="${h}"`),f&&m.push(`height="${r}"`)}return{href:g,dimensions:m}}e.parseHrefAndDimensions=o}),define(ne[191],se([1,0,6,323,84,324,46,69,104,12,7,58,130,172,96,2,407,229,47,54,48,11,22]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fillInIncompleteTokens=e.renderMarkdownAsPlaintext=e.renderStringAsPlaintext=e.allowedMarkdownAttr=e.renderMarkdown=void 0;const h=Object.freeze({image:(X,Y,le)=>{let de=[],ge=[];return X&&({href:X,dimensions:de}=(0,a.parseHrefAndDimensions)(X),ge.push(`src="${(0,a.escapeDoubleQuotes)(X)}"`)),le&&ge.push(`alt="${(0,a.escapeDoubleQuotes)(le)}"`),Y&&ge.push(`title="${(0,a.escapeDoubleQuotes)(Y)}"`),de.length&&(ge=ge.concat(de)),"<img "+ge.join(" ")+">"},paragraph:X=>`<p>${X}</p>`,link:(X,Y,le)=>typeof X!="string"?"":(X===le&&(le=(0,a.removeMarkdownEscapes)(le)),Y=typeof Y=="string"?(0,a.escapeDoubleQuotes)((0,a.removeMarkdownEscapes)(Y)):"",X=(0,a.removeMarkdownEscapes)(X),X=X.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${X}" title="${Y||X}" draggable="false">${le}</a>`)});function u(X,Y={},le={}){var de,ge;const pe=new o.DisposableStore;let Q=!1;const U=(0,D.createElement)(Y),Z=function(ce){let fe;try{fe=(0,m.parse)(decodeURIComponent(ce))}catch{}return fe?(fe=(0,d.cloneAndChange)(fe,ve=>{if(X.uris&&X.uris[ve])return r.URI.revive(X.uris[ve])}),encodeURIComponent(JSON.stringify(fe))):ce},H=function(ce,fe){const ve=X.uris&&X.uris[ce];let Ce=r.URI.revive(ve);return fe?ce.startsWith(c.Schemas.data+":")?ce:(Ce||(Ce=r.URI.parse(ce)),c.FileAccess.uriToBrowserUri(Ce).toString(!0)):!Ce||r.URI.parse(ce).toString()===Ce.toString()?ce:(Ce.query&&(Ce=Ce.with({query:Z(Ce.query)})),Ce.toString())},q=new g.marked.Renderer;q.image=h.image,q.link=h.link,q.paragraph=h.paragraph;const te=[],G=[];if(Y.codeBlockRendererSync?q.code=(ce,fe)=>{const ve=i.defaultGenerator.nextId(),Ce=Y.codeBlockRendererSync(f(fe),ce);return G.push([ve,Ce]),`<div class="code" data-code="${ve}">${(0,l.escape)(ce)}</div>`}:Y.codeBlockRenderer&&(q.code=(ce,fe)=>{const ve=i.defaultGenerator.nextId(),Ce=Y.codeBlockRenderer(f(fe),ce);return te.push(Ce.then(Se=>[ve,Se])),`<div class="code" data-code="${ve}">${(0,l.escape)(ce)}</div>`}),Y.actionHandler){const ce=function(Ce){let Se=Ce.target;if(!(Se.tagName!=="A"&&(Se=Se.parentElement,!Se||Se.tagName!=="A")))try{let _e=Se.dataset.href;_e&&(X.baseUri&&(_e=C(r.URI.from(X.baseUri),_e)),Y.actionHandler.callback(_e,Ce))}catch(_e){(0,v.onUnexpectedError)(_e)}finally{Ce.preventDefault()}},fe=Y.actionHandler.disposables.add(new y.DomEmitter(U,"click")),ve=Y.actionHandler.disposables.add(new y.DomEmitter(U,"auxclick"));Y.actionHandler.disposables.add(b.Event.any(fe.event,ve.event)(Ce=>{const Se=new p.StandardMouseEvent(L.getWindow(U),Ce);!Se.leftButton&&!Se.middleButton||ce(Se)})),Y.actionHandler.disposables.add(L.addDisposableListener(U,"keydown",Ce=>{const Se=new S.StandardKeyboardEvent(Ce);!Se.equals(10)&&!Se.equals(3)||ce(Se)}))}X.supportHtml||(le.sanitizer=ce=>(X.isTrusted?ce.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?ce:"",le.sanitize=!0,le.silent=!0),le.renderer=q;let $=(de=X.value)!==null&&de!==void 0?de:"";$.length>1e5&&($=`${$.substr(0,1e5)}\u2026`),X.supportThemeIcons&&($=(0,n.markdownEscapeEscapedIcons)($));let oe;if(Y.fillInIncompleteTokens){const ce={...g.marked.defaults,...le},fe=g.marked.lexer($,ce),ve=F(fe);oe=g.marked.parser(ve,ce)}else oe=g.marked.parse($,le);X.supportThemeIcons&&(oe=(0,w.renderLabelWithIcons)(oe).map(fe=>typeof fe=="string"?fe:fe.outerHTML).join(""));const ue=new DOMParser().parseFromString(_(X,oe),"text/html");if(ue.body.querySelectorAll("img").forEach(ce=>{const fe=ce.getAttribute("src");if(fe){let ve=fe;try{X.baseUri&&(ve=C(r.URI.from(X.baseUri),ve))}catch{}ce.src=H(ve,!0)}}),ue.body.querySelectorAll("a").forEach(ce=>{const fe=ce.getAttribute("href");if(ce.setAttribute("href",""),!fe||/^data:|javascript:/i.test(fe)||/^command:/i.test(fe)&&!X.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(fe))ce.replaceWith(...ce.childNodes);else{let ve=H(fe,!1);X.baseUri&&(ve=C(r.URI.from(X.baseUri),fe)),ce.dataset.href=ve}}),U.innerHTML=_(X,ue.body.innerHTML),te.length>0)Promise.all(te).then(ce=>{var fe,ve;if(Q)return;const Ce=new Map(ce),Se=U.querySelectorAll("div[data-code]");for(const _e of Se){const Ie=Ce.get((fe=_e.dataset.code)!==null&&fe!==void 0?fe:"");Ie&&L.reset(_e,Ie)}(ve=Y.asyncRenderCallback)===null||ve===void 0||ve.call(Y)});else if(G.length>0){const ce=new Map(G),fe=U.querySelectorAll("div[data-code]");for(const ve of fe){const Ce=ce.get((ge=ve.dataset.code)!==null&&ge!==void 0?ge:"");Ce&&L.reset(ve,Ce)}}if(Y.asyncRenderCallback)for(const ce of U.getElementsByTagName("img")){const fe=pe.add(L.addDisposableListener(ce,"load",()=>{fe.dispose(),Y.asyncRenderCallback()}))}return{element:U,dispose:()=>{Q=!0,pe.dispose()}}}e.renderMarkdown=u;function f(X){if(!X)return"";const Y=X.split(/[\s+|:|,|\{|\?]/,1);return Y.length?Y[0]:X}function C(X,Y){return/^\w[\w\d+.-]*:/.test(Y)?Y:X.path.endsWith("/")?(0,s.resolvePath)(X,Y).toString():(0,s.resolvePath)((0,s.dirname)(X),Y).toString()}function _(X,Y){const{config:le,allowedSchemes:de}=E(X);k.addHook("uponSanitizeAttribute",(pe,Q)=>{var U;if(Q.attrName==="style"||Q.attrName==="class"){if(pe.tagName==="SPAN"){if(Q.attrName==="style"){Q.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(Q.attrValue);return}else if(Q.attrName==="class"){Q.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(Q.attrValue);return}}Q.keepAttr=!1;return}else if(pe.tagName==="INPUT"&&((U=pe.attributes.getNamedItem("type"))===null||U===void 0?void 0:U.value)==="checkbox"){if(Q.attrName==="type"&&Q.attrValue==="checkbox"||Q.attrName==="disabled"||Q.attrName==="checked"){Q.keepAttr=!0;return}Q.keepAttr=!1}}),k.addHook("uponSanitizeElement",(pe,Q)=>{var U,Z;Q.tagName==="input"&&(((U=pe.attributes.getNamedItem("type"))===null||U===void 0?void 0:U.value)==="checkbox"?pe.setAttribute("disabled",""):(Z=pe.parentElement)===null||Z===void 0||Z.removeChild(pe))});const ge=L.hookDomPurifyHrefAndSrcSanitizer(de);try{return k.sanitize(Y,{...le,RETURN_TRUSTED_TYPE:!0})}finally{k.removeHook("uponSanitizeAttribute"),ge.dispose()}}e.allowedMarkdownAttr=["align","autoplay","alt","checked","class","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","type","width","start"];function E(X){const Y=[c.Schemas.http,c.Schemas.https,c.Schemas.mailto,c.Schemas.data,c.Schemas.file,c.Schemas.vscodeFileResource,c.Schemas.vscodeRemote,c.Schemas.vscodeRemoteResource];return X.isTrusted&&Y.push(c.Schemas.command),{config:{ALLOWED_TAGS:[...L.basicMarkupHtmlTags],ALLOWED_ATTR:e.allowedMarkdownAttr,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:Y}}function I(X){return typeof X=="string"?X:T(X)}e.renderStringAsPlaintext=I;function T(X){var Y;let le=(Y=X.value)!==null&&Y!==void 0?Y:"";le.length>1e5&&(le=`${le.substr(0,1e5)}\u2026`);const de=g.marked.parse(le,{renderer:R.value}).replace(/&(#\d+|[a-zA-Z]+);/g,ge=>{var pe;return(pe=A.get(ge))!==null&&pe!==void 0?pe:ge});return _({isTrusted:!1},de).toString()}e.renderMarkdownAsPlaintext=T;const A=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),R=new t.Lazy(()=>{const X=new g.marked.Renderer;return X.code=Y=>Y,X.blockquote=Y=>Y,X.html=Y=>"",X.heading=(Y,le,de)=>Y+`
`,X.hr=()=>"",X.list=(Y,le)=>Y,X.listitem=Y=>Y+`
`,X.paragraph=Y=>Y+`
`,X.table=(Y,le)=>Y+le+`
`,X.tablerow=Y=>Y,X.tablecell=(Y,le)=>Y+" ",X.strong=Y=>Y,X.em=Y=>Y,X.codespan=Y=>Y,X.br=()=>`
`,X.del=Y=>Y,X.image=(Y,le,de)=>"",X.text=Y=>Y,X.link=(Y,le,de)=>de,X});function M(X){let Y="";return X.forEach(le=>{Y+=le.raw}),Y}function N(X){var Y,le;for(let de=0;de<X.tokens.length;de++){const ge=X.tokens[de];if(ge.type==="text"){const pe=ge.raw.split(`
`),Q=pe[pe.length-1];if(Q.includes("`"))return B(X);if(Q.includes("**"))return x(X);if(Q.match(/\*\w/))return W(X);if(Q.match(/(^|\s)__\w/))return re(X);if(Q.match(/(^|\s)_\w/))return V(X);if(Q.match(/(^|\s)\[.*\]\(\w*/)){const U=X.tokens.slice(de+1);return((Y=U[0])===null||Y===void 0?void 0:Y.type)==="link"&&((le=U[1])===null||le===void 0?void 0:le.type)==="text"&&U[1].raw.match(/^ *"[^"]*$/)?K(X):z(X)}else{if(P(Q))return z(X);if(Q.match(/(^|\s)\[\w/)&&!X.tokens.slice(de+1).some(U=>P(U.raw)))return j(X)}}}}function P(X){return!!X.match(/^[^\[]*\]\([^\)]*$/)}function F(X){let Y,le;for(Y=0;Y<X.length;Y++){const de=X[Y];let ge;if(de.type==="paragraph"&&(ge=de.raw.match(/(\n|^)(````*)/))){const pe=ge[2];le=O(X.slice(Y),pe);break}if(de.type==="paragraph"&&de.raw.match(/(\n|^)\|/)){le=J(X.slice(Y));break}if(Y===X.length-1&&de.type==="paragraph"){const pe=N(de);if(pe){le=[pe];break}}}if(le){const de=[...X.slice(0,Y),...le];return de.links=X.links,de}return X}e.fillInIncompleteTokens=F;function O(X,Y){const le=M(X);return g.marked.lexer(le+`
${Y}`)}function B(X){return ie(X,"`")}function W(X){return ie(X,"*")}function V(X){return ie(X,"_")}function z(X){return ie(X,")")}function K(X){return ie(X,'")')}function j(X){return ie(X,"](about:blank)")}function x(X){return ie(X,"**")}function re(X){return ie(X,"__")}function ie(X,Y){const le=M(Array.isArray(X)?X:[X]);return g.marked.lexer(le+Y)[0]}function J(X){const Y=M(X),le=Y.split(`
`);let de,ge=!1;for(let pe=0;pe<le.length;pe++){const Q=le[pe].trim();if(typeof de>"u"&&Q.match(/^\s*\|/)){const U=Q.match(/(\|[^\|]+)(?=\||$)/g);U&&(de=U.length)}else if(typeof de=="number")if(Q.match(/^\s*\|/)){if(pe!==le.length-1)return;ge=!0}else return}if(typeof de=="number"&&de>0){const pe=ge?le.slice(0,-1).join(`
`):Y,Q=!!pe.match(/\|\s*$/),U=pe+(Q?"":"|")+`
|${" --- |".repeat(de)}`;return g.marked.lexer(U)}}}),define(ne[121],se([1,0,6,15,19,58,130,2,20,581]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function b(i,t){(0,w.isString)(t)?i.title=(0,S.stripIcons)(t):t?.markdownNotSupportedFallback?i.title=t.markdownNotSupportedFallback:i.removeAttribute("title")}e.setupNativeHover=b;class a{constructor(t,o,g){this.hoverDelegate=t,this.target=o,this.fadeInAnimation=g}async update(t,o,g){var m;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let c;if(t===void 0||(0,w.isString)(t)||t instanceof HTMLElement)c=t;else if(!(0,w.isFunction)(t.markdown))c=(m=t.markdown)!==null&&m!==void 0?m:t.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,v.localize)(0,null),o),this._cancellationTokenSource=new y.CancellationTokenSource;const d=this._cancellationTokenSource.token;if(c=await t.markdown(d),c===void 0&&(c=t.markdownNotSupportedFallback),this.isDisposed||d.isCancellationRequested)return}this.show(c,o,g)}show(t,o,g){const m=this._hoverWidget;if(this.hasContent(t)){const c={content:t,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!m},position:{hoverPosition:2},...g};this._hoverWidget=this.hoverDelegate.showHover(c,o)}m?.dispose()}hasContent(t){return t?(0,D.isMarkdownString)(t)?!!t.value:!0:!1}get isDisposed(){var t;return(t=this._hoverWidget)===null||t===void 0?void 0:t.isDisposed}dispose(){var t,o;(t=this._hoverWidget)===null||t===void 0||t.dispose(),(o=this._cancellationTokenSource)===null||o===void 0||o.dispose(!0),this._cancellationTokenSource=void 0}}function n(i,t,o,g){let m,c;const d=(T,A)=>{var R;const M=c!==void 0;T&&(c?.dispose(),c=void 0),A&&(m?.dispose(),m=void 0),M&&((R=i.onDidHideHover)===null||R===void 0||R.call(i),c=void 0)},s=(T,A,R)=>new k.TimeoutTimer(async()=>{(!c||c.isDisposed)&&(c=new a(i,R||t,T>0),await c.update(typeof o=="function"?o():o,A,g))},T);let l=!1;const r=L.addDisposableListener(t,L.EventType.MOUSE_DOWN,()=>{l=!0,d(!0,!0)},!0),h=L.addDisposableListener(t,L.EventType.MOUSE_UP,()=>{l=!1},!0),u=L.addDisposableListener(t,L.EventType.MOUSE_LEAVE,T=>{l=!1,d(!1,T.fromElement===t)},!0),f=()=>{if(m)return;const T=new p.DisposableStore,A={targetElements:[t],dispose:()=>{}};if(i.placement===void 0||i.placement==="mouse"){const R=M=>{A.x=M.x+10,M.target instanceof HTMLElement&&M.target.classList.contains("action-label")&&d(!0,!0)};T.add(L.addDisposableListener(t,L.EventType.MOUSE_MOVE,R,!0))}T.add(s(i.delay,!1,A)),m=T},C=L.addDisposableListener(t,L.EventType.MOUSE_OVER,f,!0),_=()=>{if(l||m)return;const T={targetElements:[t],dispose:()=>{}},A=new p.DisposableStore,R=()=>d(!0,!0);A.add(L.addDisposableListener(t,L.EventType.BLUR,R,!0)),A.add(s(i.delay,!1,T)),m=A},E=L.addDisposableListener(t,L.EventType.FOCUS,_,!0);return{show:T=>{d(!1,!0),s(0,T)},hide:()=>{d(!0,!0)},update:async(T,A)=>{o=T,await c?.update(o,void 0,A)},dispose:()=>{C.dispose(),u.dispose(),r.dispose(),h.dispose(),E.dispose(),d(!0,!0)}}}e.setupCustomHover=n}),define(ne[235],se([1,0,6,323,46,191,65,91,121,104,39,7,58,2,29,416]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.unthemedButtonStyles=void 0,e.unthemedButtonStyles={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:b.Color.white.toString(),buttonForeground:b.Color.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class o extends i.Disposable{get onDidClick(){return this._onDidClick.event}constructor(m,c){super(),this._label="",this._onDidClick=this._register(new a.Emitter),this._onDidEscape=this._register(new a.Emitter),this.options=c,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!c.secondary);const d=c.secondary?c.buttonSecondaryBackground:c.buttonBackground,s=c.secondary?c.buttonSecondaryForeground:c.buttonForeground;this._element.style.color=s||"",this._element.style.backgroundColor=d||"",c.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof c.ariaLabel=="string"&&this._element.setAttribute("aria-label",c.ariaLabel),m.appendChild(this._element),this._register(S.Gesture.addTarget(this._element)),[L.EventType.CLICK,S.EventType.Tap].forEach(l=>{this._register((0,L.addDisposableListener)(this._element,l,r=>{if(!this.enabled){L.EventHelper.stop(r);return}this._onDidClick.fire(r)}))}),this._register((0,L.addDisposableListener)(this._element,L.EventType.KEY_DOWN,l=>{const r=new y.StandardKeyboardEvent(l);let h=!1;this.enabled&&(r.equals(3)||r.equals(10))?(this._onDidClick.fire(l),h=!0):r.equals(9)&&(this._onDidEscape.fire(l),this._element.blur(),h=!0),h&&L.EventHelper.stop(r,!0)})),this._register((0,L.addDisposableListener)(this._element,L.EventType.MOUSE_OVER,l=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,L.addDisposableListener)(this._element,L.EventType.MOUSE_OUT,l=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,L.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(m){const c=[];for(let d of(0,v.renderLabelWithIcons)(m))if(typeof d=="string"){if(d=d.trim(),d==="")continue;const s=document.createElement("span");s.textContent=d,c.push(s)}else c.push(d);return c}updateBackground(m){let c;this.options.secondary?c=m?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:c=m?this.options.buttonHoverBackground:this.options.buttonBackground,c&&(this._element.style.backgroundColor=c)}get element(){return this._element}set label(m){var c;if(this._label===m||(0,n.isMarkdownString)(this._label)&&(0,n.isMarkdownString)(m)&&(0,n.markdownStringEqual)(this._label,m))return;this._element.classList.add("monaco-text-button");const d=this.options.supportShortLabel?this._labelElement:this._element;if((0,n.isMarkdownString)(m)){const l=(0,D.renderMarkdown)(m,{inline:!0});l.dispose();const r=(c=l.element.querySelector("p"))===null||c===void 0?void 0:c.innerHTML;if(r){const h=(0,k.sanitize)(r,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});d.innerHTML=h}else(0,L.reset)(d)}else this.options.supportIcons?(0,L.reset)(d,...this.getContentElements(m)):d.textContent=m;let s="";typeof this.options.title=="string"?s=this.options.title:this.options.title&&(s=(0,D.renderStringAsPlaintext)(m)),this._hover?this._hover.update(s):this._hover=this._register((0,w.setupCustomHover)((0,p.getDefaultHoverDelegate)("mouse"),this._element,s)),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",this._element.title),this._label=m}get label(){return this._label}set icon(m){this._element.classList.add(...t.ThemeIcon.asClassNameArray(m))}set enabled(m){m?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=o}),define(ne[236],se([1,0,6,327,121,2,54,175,91,422]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class v{constructor(o){this._element=o}get element(){return this._element}set textContent(o){this.disposed||o===this._textContent||(this._textContent=o,this._element.textContent=o)}set className(o){this.disposed||o===this._className||(this._className=o,this._element.className=o)}set empty(o){this.disposed||o===this._empty||(this._empty=o,this._element.style.marginLeft=o?"0":"")}dispose(){this.disposed=!0}}class b extends D.Disposable{constructor(o,g){var m;super(),this.customHovers=new Map,this.creationOptions=g,this.domNode=this._register(new v(L.append(o,L.$(".monaco-icon-label")))),this.labelContainer=L.append(this.domNode.element,L.$(".monaco-icon-label-container")),this.nameContainer=L.append(this.labelContainer,L.$("span.monaco-icon-name-container")),g?.supportHighlights||g?.supportIcons?this.nameNode=new i(this.nameContainer,!!g.supportIcons):this.nameNode=new a(this.nameContainer),this.hoverDelegate=(m=g?.hoverDelegate)!==null&&m!==void 0?m:(0,w.getDefaultHoverDelegate)("mouse")}get element(){return this.domNode.element}setLabel(o,g,m){var c;const d=["monaco-icon-label"],s=["monaco-icon-label-container"];let l="";if(m&&(m.extraClasses&&d.push(...m.extraClasses),m.italic&&d.push("italic"),m.strikethrough&&d.push("strikethrough"),m.disabledCommand&&s.push("disabled"),m.title&&(typeof m.title=="string"?l+=m.title:l+=o)),this.domNode.className=d.join(" "),this.domNode.element.setAttribute("aria-label",l),this.labelContainer.className=s.join(" "),this.setupHover(m?.descriptionTitle?this.labelContainer:this.element,m?.title),this.nameNode.setLabel(o,m),g||this.descriptionNode){const r=this.getOrCreateDescriptionNode();r instanceof k.HighlightedLabel?(r.set(g||"",m?m.descriptionMatches:void 0,void 0,m?.labelEscapeNewLines),this.setupHover(r.element,m?.descriptionTitle)):(r.textContent=g&&m?.labelEscapeNewLines?k.HighlightedLabel.escapeNewLines(g,[]):g||"",this.setupHover(r.element,m?.descriptionTitle||""),r.empty=!g)}if(m?.suffix||this.suffixNode){const r=this.getOrCreateSuffixNode();r.textContent=(c=m?.suffix)!==null&&c!==void 0?c:""}}setupHover(o,g){const m=this.customHovers.get(o);if(m&&(m.dispose(),this.customHovers.delete(o)),!g){o.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover)(0,y.setupNativeHover)(o,g);else{const c=(0,y.setupCustomHover)(this.hoverDelegate,o,g);c&&this.customHovers.set(o,c)}}dispose(){super.dispose();for(const o of this.customHovers.values())o.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const o=this._register(new v(L.after(this.nameContainer,L.$("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new v(L.append(o.element,L.$("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var o;if(!this.descriptionNode){const g=this._register(new v(L.append(this.labelContainer,L.$("span.monaco-icon-description-container"))));!((o=this.creationOptions)===null||o===void 0)&&o.supportDescriptionHighlights?this.descriptionNode=new k.HighlightedLabel(L.append(g.element,L.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this.descriptionNode=this._register(new v(L.append(g.element,L.$("span.label-description"))))}return this.descriptionNode}}e.IconLabel=b;class a{constructor(o){this.container=o,this.label=void 0,this.singleLabel=void 0}setLabel(o,g){if(!(this.label===o&&(0,S.equals)(this.options,g)))if(this.label=o,this.options=g,typeof o=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=L.append(this.container,L.$("a.label-name",{id:g?.domId}))),this.singleLabel.textContent=o;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let m=0;m<o.length;m++){const c=o[m],d=g?.domId&&`${g?.domId}_${m}`;L.append(this.container,L.$("a.label-name",{id:d,"data-icon-label-count":o.length,"data-icon-label-index":m,role:"treeitem"},c)),m<o.length-1&&L.append(this.container,L.$("span.label-separator",void 0,g?.separator||"/"))}}}}function n(t,o,g){if(!g)return;let m=0;return t.map(c=>{const d={start:m,end:m+c.length},s=g.map(l=>p.Range.intersect(d,l)).filter(l=>!p.Range.isEmpty(l)).map(({start:l,end:r})=>({start:l-m,end:r-m}));return m=d.end+o.length,s})}class i{constructor(o,g){this.container=o,this.supportIcons=g,this.label=void 0,this.singleLabel=void 0}setLabel(o,g){if(!(this.label===o&&(0,S.equals)(this.options,g)))if(this.label=o,this.options=g,typeof o=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new k.HighlightedLabel(L.append(this.container,L.$("a.label-name",{id:g?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(o,g?.matches,void 0,g?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const m=g?.separator||"/",c=n(o,m,g?.matches);for(let d=0;d<o.length;d++){const s=o[d],l=c?c[d]:void 0,r=g?.domId&&`${g?.domId}_${d}`,h=L.$("a.label-name",{id:r,"data-icon-label-count":o.length,"data-icon-label-index":d,role:"treeitem"});new k.HighlightedLabel(L.append(this.container,h),{supportIcons:this.supportIcons}).set(s,l,void 0,g?.labelEscapeNewLines),d<o.length-1&&L.append(h,L.$("span.label-separator",void 0,m))}}}}}),define(ne[605],se([1,0,6,84,46,191,91,121,105,13,7,66,2,17,584,430]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const o=L.$,g="selectOption.entry.template";class m{get templateId(){return g}renderTemplate(s){const l=Object.create(null);return l.root=s,l.text=L.append(s,o(".option-text")),l.detail=L.append(s,o(".option-detail")),l.decoratorRight=L.append(s,o(".option-decorator-right")),l}renderElement(s,l,r){const h=r,u=s.text,f=s.detail,C=s.decoratorRight,_=s.isDisabled;h.text.textContent=u,h.detail.textContent=f||"",h.decoratorRight.innerText=C||"",_?h.root.classList.add("option-disabled"):h.root.classList.remove("option-disabled")}disposeTemplate(s){}}class c extends n.Disposable{constructor(s,l,r,h,u){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=h,this.selectBoxOptions=u||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=c.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._hover=this._register((0,p.setupCustomHover)((0,S.getDefaultHoverDelegate)("mouse"),this.selectElement,"")),this._onDidSelect=new b.Emitter,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(r),this.selected=l||0,s&&this.setOptions(s,l),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return g}constructSelectDropDown(s){this.contextViewProvider=s,this.selectDropDownContainer=L.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=L.append(this.selectDropDownContainer,o(".select-box-details-pane"));const l=L.append(this.selectDropDownContainer,o(".select-box-dropdown-container-width-control")),r=L.append(l,o(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",L.append(r,this.widthControlElement),this._dropDownPosition=0,this.styleElement=L.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(L.addDisposableListener(this.selectDropDownContainer,L.EventType.DRAG_START,h=>{L.EventHelper.stop(h,!0)}))}registerListeners(){this._register(L.addStandardDisposableListener(this.selectElement,"change",l=>{this.selected=l.target.selectedIndex,this._onDidSelect.fire({index:l.target.selectedIndex,selected:l.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this._hover.update(this.options[this.selected].text)})),this._register(L.addDisposableListener(this.selectElement,L.EventType.CLICK,l=>{L.EventHelper.stop(l),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(L.addDisposableListener(this.selectElement,L.EventType.MOUSE_DOWN,l=>{L.EventHelper.stop(l)}));let s;this._register(L.addDisposableListener(this.selectElement,"touchstart",l=>{s=this._isVisible})),this._register(L.addDisposableListener(this.selectElement,"touchend",l=>{L.EventHelper.stop(l),s?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(L.addDisposableListener(this.selectElement,L.EventType.KEY_DOWN,l=>{const r=new y.StandardKeyboardEvent(l);let h=!1;i.isMacintosh?(r.keyCode===18||r.keyCode===16||r.keyCode===10||r.keyCode===3)&&(h=!0):(r.keyCode===18&&r.altKey||r.keyCode===16&&r.altKey||r.keyCode===10||r.keyCode===3)&&(h=!0),h&&(this.showSelectDropDown(),L.EventHelper.stop(l,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(s,l){v.equals(this.options,s)||(this.options=s,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((r,h)=>{this.selectElement.add(this.createOption(r.text,h,r.isDisabled)),typeof r.description=="string"&&(this._hasDetails=!0)})),l!==void 0&&(this.select(l),this._currentSelection=this.selected)}setOptionsList(){var s;(s=this.selectList)===null||s===void 0||s.splice(0,this.selectList.length,this.options)}select(s){s>=0&&s<this.options.length?this.selected=s:s>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this._hover.update(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(s){this.selectElement.tabIndex=s?0:-1}render(s){this.container=s,s.classList.add("select-container"),s.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const s=[];this.styles.listFocusBackground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(s.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),s.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&s.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),s.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),s.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=s.join(`
`)}styleSelectElement(){var s,l,r;const h=(s=this.styles.selectBackground)!==null&&s!==void 0?s:"",u=(l=this.styles.selectForeground)!==null&&l!==void 0?l:"",f=(r=this.styles.selectBorder)!==null&&r!==void 0?r:"";this.selectElement.style.backgroundColor=h,this.selectElement.style.color=u,this.selectElement.style.borderColor=f}styleList(){var s,l;const r=(s=this.styles.selectBackground)!==null&&s!==void 0?s:"",h=L.asCssValueWithDefault(this.styles.selectListBackground,r);this.selectDropDownListContainer.style.backgroundColor=h,this.selectionDetailsPane.style.backgroundColor=h;const u=(l=this.styles.focusBorder)!==null&&l!==void 0?l:"";this.selectDropDownContainer.style.outlineColor=u,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(s,l,r){const h=document.createElement("option");return h.value=s,h.text=s,h.disabled=!!r,h}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:s=>this.renderSelectDropDown(s,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:s=>this.renderSelectDropDown(s),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(s){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),s&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(s,l){return s.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(l),{dispose:()=>{try{s.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let s=0;return this.options.forEach((l,r)=>{this.updateDetail(r),this.selectionDetailsPane.offsetHeight>s&&(s=this.selectionDetailsPane.offsetHeight)}),s}layoutSelectDropDown(s){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const l=L.getWindow(this.selectElement),r=L.getDomNodePagePosition(this.selectElement),h=L.getWindow(this.selectElement).getComputedStyle(this.selectElement),u=parseFloat(h.getPropertyValue("--dropdown-padding-top"))+parseFloat(h.getPropertyValue("--dropdown-padding-bottom")),f=l.innerHeight-r.top-r.height-(this.selectBoxOptions.minBottomMargin||0),C=r.top-c.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,_=this.selectElement.offsetWidth,E=this.setWidthControlElement(this.widthControlElement),I=Math.max(E,Math.round(_)).toString()+"px";this.selectDropDownContainer.style.width=I,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let T=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const A=this._hasDetails?this._cachedMaxDetailsHeight:0,R=T+u+A,M=Math.floor((f-u-A)/this.getHeight()),N=Math.floor((C-u-A)/this.getHeight());if(s)return r.top+r.height>l.innerHeight-22||r.top<c.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||M<1&&N<1?!1:(M<c.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&N>M&&this.options.length>M?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(r.top+r.height>l.innerHeight-22||r.top<c.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&M<1||this._dropDownPosition===1&&N<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&M+N<1)return this.hideSelectDropDown(!0),!1;R>f&&(T=M*this.getHeight())}else R>C&&(T=N*this.getHeight());return this.selectList.layout(T),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=T+u+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=T+u+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=I,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(s){let l=0;if(s){let r=0,h=0;this.options.forEach((u,f)=>{const C=u.detail?u.detail.length:0,_=u.decoratorRight?u.decoratorRight.length:0,E=u.text.length+C+_;E>h&&(r=f,h=E)}),s.textContent=this.options[r].text+(this.options[r].decoratorRight?this.options[r].decoratorRight+" ":""),l=L.getTotalWidth(s)}return l}createSelectList(s){if(this.selectList)return;this.selectDropDownListContainer=L.append(s,o(".select-box-dropdown-list-container")),this.listRenderer=new m,this.selectList=new w.List("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:h=>{let u=h.text;return h.detail&&(u+=`. ${h.detail}`),h.decoratorRight&&(u+=`. ${h.decoratorRight}`),h.description&&(u+=`. ${h.description}`),u},getWidgetAriaLabel:()=>(0,t.localize)(0,null),getRole:()=>i.isMacintosh?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const l=this._register(new k.DomEmitter(this.selectDropDownListContainer,"keydown")),r=b.Event.chain(l.event,h=>h.filter(()=>this.selectList.length>0).map(u=>new y.StandardKeyboardEvent(u)));this._register(b.Event.chain(r,h=>h.filter(u=>u.keyCode===3))(this.onEnter,this)),this._register(b.Event.chain(r,h=>h.filter(u=>u.keyCode===2))(this.onEnter,this)),this._register(b.Event.chain(r,h=>h.filter(u=>u.keyCode===9))(this.onEscape,this)),this._register(b.Event.chain(r,h=>h.filter(u=>u.keyCode===16))(this.onUpArrow,this)),this._register(b.Event.chain(r,h=>h.filter(u=>u.keyCode===18))(this.onDownArrow,this)),this._register(b.Event.chain(r,h=>h.filter(u=>u.keyCode===12))(this.onPageDown,this)),this._register(b.Event.chain(r,h=>h.filter(u=>u.keyCode===11))(this.onPageUp,this)),this._register(b.Event.chain(r,h=>h.filter(u=>u.keyCode===14))(this.onHome,this)),this._register(b.Event.chain(r,h=>h.filter(u=>u.keyCode===13))(this.onEnd,this)),this._register(b.Event.chain(r,h=>h.filter(u=>u.keyCode>=21&&u.keyCode<=56||u.keyCode>=85&&u.keyCode<=113))(this.onCharacter,this)),this._register(L.addDisposableListener(this.selectList.getHTMLElement(),L.EventType.POINTER_UP,h=>this.onPointerUp(h))),this._register(this.selectList.onMouseOver(h=>typeof h.index<"u"&&this.selectList.setFocus([h.index]))),this._register(this.selectList.onDidChangeFocus(h=>this.onListFocus(h))),this._register(L.addDisposableListener(this.selectDropDownContainer,L.EventType.FOCUS_OUT,h=>{!this._isVisible||L.isAncestor(h.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(s){if(!this.selectList.length)return;L.EventHelper.stop(s);const l=s.target;if(!l||l.classList.contains("slider"))return;const r=l.closest(".monaco-list-row");if(!r)return;const h=Number(r.getAttribute("data-index")),u=r.classList.contains("option-disabled");h>=0&&h<this.options.length&&!u&&(this.selected=h,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this._hover.update(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(s,l){const r=u=>{for(let f=0;f<u.childNodes.length;f++){const C=u.childNodes.item(f);(C.tagName&&C.tagName.toLowerCase())==="img"?u.removeChild(C):r(C)}},h=(0,D.renderMarkdown)({value:s,supportThemeIcons:!0},{actionHandler:l});return h.element.classList.add("select-box-description-markdown"),r(h.element),h.element}onListFocus(s){!this._isVisible||!this._hasDetails||this.updateDetail(s.indexes[0])}updateDetail(s){var l,r;this.selectionDetailsPane.innerText="";const h=this.options[s],u=(l=h?.description)!==null&&l!==void 0?l:"",f=(r=h?.descriptionIsMarkdown)!==null&&r!==void 0?r:!1;if(u){if(f){const C=h.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(u,C))}else this.selectionDetailsPane.innerText=u;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(s){L.EventHelper.stop(s),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(s){L.EventHelper.stop(s),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this._hover.update(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(s){if(this.selected<this.options.length-1){L.EventHelper.stop(s,!0);const l=this.options[this.selected+1].isDisabled;if(l&&this.options.length>this.selected+2)this.selected+=2;else{if(l)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(s){this.selected>0&&(L.EventHelper.stop(s,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(s){L.EventHelper.stop(s),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(s){L.EventHelper.stop(s),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(s){L.EventHelper.stop(s),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(s){L.EventHelper.stop(s),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(s){const l=a.KeyCodeUtils.toString(s.keyCode);let r=-1;for(let h=0;h<this.options.length-1;h++)if(r=(h+this.selected+1)%this.options.length,this.options[r].text.charAt(0).toUpperCase()===l&&!this.options[r].isDisabled){this.select(r),this.selectList.setFocus([r]),this.selectList.reveal(this.selectList.getFocus()[0]),L.EventHelper.stop(s);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}e.SelectBoxList=c,c.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,c.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,c.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}),define(ne[606],se([1,0,605,601,77,17,429]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=void 0;class S extends y.Widget{constructor(w,v,b,a,n){super(),D.isMacintosh&&!n?.useCustomDrawn?this.selectBoxDelegate=new k.SelectBoxNative(w,v,a,n):this.selectBoxDelegate=new L.SelectBoxList(w,v,b,a,n),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(w,v){this.selectBoxDelegate.setOptions(w,v)}select(w){this.selectBoxDelegate.select(w)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(w){this.selectBoxDelegate.setFocusable(w)}render(w){this.selectBoxDelegate.render(w)}}e.SelectBox=S}),define(ne[141],se([1,0,59,204,6,65,91,121,606,42,2,17,20,576,280]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class t extends b.Disposable{get action(){return this._action}constructor(c,d,s={}){super(),this.options=s,this._context=c||this,this._action=d,d instanceof v.Action&&this._register(d.onDidChange(l=>{this.element&&this.handleActionChangeEvent(l)}))}handleActionChangeEvent(c){c.enabled!==void 0&&this.updateEnabled(),c.checked!==void 0&&this.updateChecked(),c.class!==void 0&&this.updateClass(),c.label!==void 0&&(this.updateLabel(),this.updateTooltip()),c.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new v.ActionRunner)),this._actionRunner}set actionRunner(c){this._actionRunner=c}isEnabled(){return this._action.enabled}setActionContext(c){this._context=c}render(c){const d=this.element=c;this._register(D.Gesture.addTarget(c));const s=this.options&&this.options.draggable;s&&(c.draggable=!0,L.isFirefox&&this._register((0,y.addDisposableListener)(c,y.EventType.DRAG_START,l=>{var r;return(r=l.dataTransfer)===null||r===void 0?void 0:r.setData(k.DataTransfers.TEXT,this._action.label)}))),this._register((0,y.addDisposableListener)(d,D.EventType.Tap,l=>this.onClick(l,!0))),this._register((0,y.addDisposableListener)(d,y.EventType.MOUSE_DOWN,l=>{s||y.EventHelper.stop(l,!0),this._action.enabled&&l.button===0&&d.classList.add("active")})),a.isMacintosh&&this._register((0,y.addDisposableListener)(d,y.EventType.CONTEXT_MENU,l=>{l.button===0&&l.ctrlKey===!0&&this.onClick(l)})),this._register((0,y.addDisposableListener)(d,y.EventType.CLICK,l=>{y.EventHelper.stop(l,!0),this.options&&this.options.isMenu||this.onClick(l)})),this._register((0,y.addDisposableListener)(d,y.EventType.DBLCLICK,l=>{y.EventHelper.stop(l,!0)})),[y.EventType.MOUSE_UP,y.EventType.MOUSE_OUT].forEach(l=>{this._register((0,y.addDisposableListener)(d,l,r=>{y.EventHelper.stop(r),d.classList.remove("active")}))})}onClick(c,d=!1){var s;y.EventHelper.stop(c,!0);const l=n.isUndefinedOrNull(this._context)?!((s=this.options)===null||s===void 0)&&s.useEventAsContext?c:{preserveFocus:d}:this._context;this.actionRunner.run(this._action,l)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(c){this.element&&(this.element.tabIndex=c?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var c,d,s;if(!this.element)return;const l=(c=this.getTooltip())!==null&&c!==void 0?c:"";if(this.updateAriaLabel(),!((d=this.options.hoverDelegate)===null||d===void 0)&&d.showNativeHover)this.element.title=l;else if(this.customHover)this.customHover.update(l);else{const r=(s=this.options.hoverDelegate)!==null&&s!==void 0?s:(0,S.getDefaultHoverDelegate)("element");this.customHover=(0,p.setupCustomHover)(r,this.element,l),this._store.add(this.customHover)}}updateAriaLabel(){var c;if(this.element){const d=(c=this.getTooltip())!==null&&c!==void 0?c:"";this.element.setAttribute("aria-label",d)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}e.BaseActionViewItem=t;class o extends t{constructor(c,d,s){super(c,d,s),this.options=s,this.options.icon=s.icon!==void 0?s.icon:!1,this.options.label=s.label!==void 0?s.label:!0,this.cssClass=""}render(c){super.render(c),n.assertType(this.element);const d=document.createElement("a");if(d.classList.add("action-label"),d.setAttribute("role",this.getDefaultAriaRole()),this.label=d,this.element.appendChild(d),this.options.label&&this.options.keybinding){const s=document.createElement("span");s.classList.add("keybinding"),s.textContent=this.options.keybinding,this.element.appendChild(s)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===v.Separator.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(c){this.label&&(this.label.tabIndex=c?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let c=null;return this.action.tooltip?c=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(c=this.action.label,this.options.keybinding&&(c=i.localize(0,null,c,this.options.keybinding))),c??void 0}updateClass(){var c;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(c=this.label)===null||c===void 0||c.classList.remove("codicon")}updateEnabled(){var c,d;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(c=this.element)===null||c===void 0||c.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(d=this.element)===null||d===void 0||d.classList.add("disabled"))}updateAriaLabel(){var c;if(this.label){const d=(c=this.getTooltip())!==null&&c!==void 0?c:"";this.label.setAttribute("aria-label",d)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}e.ActionViewItem=o;class g extends t{constructor(c,d,s,l,r,h,u){super(c,d),this.selectBox=new w.SelectBox(s,l,r,h,u),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(c){this.selectBox.select(c)}registerListeners(){this._register(this.selectBox.onDidSelect(c=>this.runAction(c.selected,c.index)))}runAction(c,d){this.actionRunner.run(this._action,this.getActionContext(c,d))}getActionContext(c,d){return c}setFocusable(c){this.selectBox.setFocusable(c)}focus(){var c;(c=this.selectBox)===null||c===void 0||c.focus()}blur(){var c;(c=this.selectBox)===null||c===void 0||c.blur()}render(c){this.selectBox.render(c)}}e.SelectActionViewItem=g}),define(ne[79],se([1,0,6,46,141,91,42,7,2,20,280]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class b extends w.Disposable{constructor(n,i={}){var t,o,g,m,c,d,s;super(),this._actionRunnerDisposables=this._register(new w.DisposableStore),this.viewItemDisposables=this._register(new w.DisposableMap),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new p.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new p.Emitter({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new p.Emitter),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new p.Emitter),this.onWillRun=this._onWillRun.event,this.options=i,this._context=(t=i.context)!==null&&t!==void 0?t:null,this._orientation=(o=this.options.orientation)!==null&&o!==void 0?o:0,this._triggerKeys={keyDown:(m=(g=this.options.triggerKeys)===null||g===void 0?void 0:g.keyDown)!==null&&m!==void 0?m:!1,keys:(d=(c=this.options.triggerKeys)===null||c===void 0?void 0:c.keys)!==null&&d!==void 0?d:[3,10]},this._hoverDelegate=(s=i.hoverDelegate)!==null&&s!==void 0?s:this._register((0,D.getDefaultHoverDelegate)("element",!0)),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new S.ActionRunner,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(h=>this._onDidRun.fire(h))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(h=>this._onWillRun.fire(h))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let l,r;switch(this._orientation){case 0:l=[15],r=[17];break;case 1:l=[16],r=[18],this.domNode.className+=" vertical";break}this._register(L.addDisposableListener(this.domNode,L.EventType.KEY_DOWN,h=>{const u=new k.StandardKeyboardEvent(h);let f=!0;const C=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;l&&(u.equals(l[0])||u.equals(l[1]))?f=this.focusPrevious():r&&(u.equals(r[0])||u.equals(r[1]))?f=this.focusNext():u.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():u.equals(14)?f=this.focusFirst():u.equals(13)?f=this.focusLast():u.equals(2)&&C instanceof y.BaseActionViewItem&&C.trapsArrowNavigation?f=this.focusNext():this.isTriggerKeyEvent(u)?this._triggerKeys.keyDown?this.doTrigger(u):this.triggerKeyDown=!0:f=!1,f&&(u.preventDefault(),u.stopPropagation())})),this._register(L.addDisposableListener(this.domNode,L.EventType.KEY_UP,h=>{const u=new k.StandardKeyboardEvent(h);this.isTriggerKeyEvent(u)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(u)),u.preventDefault(),u.stopPropagation()):(u.equals(2)||u.equals(1026)||u.equals(16)||u.equals(18)||u.equals(15)||u.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(L.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(L.getActiveElement()===this.domNode||!L.isAncestor(L.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),n.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(n){if(this.focusable=n,this.focusable){const i=this.viewItems.find(t=>t instanceof y.BaseActionViewItem&&t.isEnabled());i instanceof y.BaseActionViewItem&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof y.BaseActionViewItem&&i.setFocusable(!1)})}isTriggerKeyEvent(n){let i=!1;return this._triggerKeys.keys.forEach(t=>{i=i||n.equals(t)}),i}updateFocusedItem(){var n,i;for(let t=0;t<this.actionsList.children.length;t++){const o=this.actionsList.children[t];if(L.isAncestor(L.getActiveElement(),o)){this.focusedItem=t,(i=(n=this.viewItems[this.focusedItem])===null||n===void 0?void 0:n.showHover)===null||i===void 0||i.call(n);break}}}get context(){return this._context}set context(n){this._context=n,this.viewItems.forEach(i=>i.setActionContext(n))}get actionRunner(){return this._actionRunner}set actionRunner(n){this._actionRunner=n,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(i=>this._onDidRun.fire(i))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(i=>this._onWillRun.fire(i))),this.viewItems.forEach(i=>i.actionRunner=n)}getContainer(){return this.domNode}getAction(n){var i;if(typeof n=="number")return(i=this.viewItems[n])===null||i===void 0?void 0:i.action;if(n instanceof HTMLElement){for(;n.parentElement!==this.actionsList;){if(!n.parentElement)return;n=n.parentElement}for(let t=0;t<this.actionsList.childNodes.length;t++)if(this.actionsList.childNodes[t]===n)return this.viewItems[t].action}}push(n,i={}){const t=Array.isArray(n)?n:[n];let o=v.isNumber(i.index)?i.index:null;t.forEach(g=>{const m=document.createElement("li");m.className="action-item",m.setAttribute("role","presentation");let c;const d={hoverDelegate:this._hoverDelegate,...i};this.options.actionViewItemProvider&&(c=this.options.actionViewItemProvider(g,d)),c||(c=new y.ActionViewItem(this.context,g,d)),this.options.allowContextMenu||this.viewItemDisposables.set(c,L.addDisposableListener(m,L.EventType.CONTEXT_MENU,s=>{L.EventHelper.stop(s,!0)})),c.actionRunner=this._actionRunner,c.setActionContext(this.context),c.render(m),this.focusable&&c instanceof y.BaseActionViewItem&&this.viewItems.length===0&&c.setFocusable(!0),o===null||o<0||o>=this.actionsList.children.length?(this.actionsList.appendChild(m),this.viewItems.push(c)):(this.actionsList.insertBefore(m,this.actionsList.children[o]),this.viewItems.splice(o,0,c),o++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,w.dispose)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),L.clearNode(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(n){let i=!1,t;if(n===void 0?i=!0:typeof n=="number"?t=n:typeof n=="boolean"&&(i=n),i&&typeof this.focusedItem>"u"){const o=this.viewItems.findIndex(g=>g.isEnabled());this.focusedItem=o===-1?void 0:o,this.updateFocus(void 0,void 0,!0)}else t!==void 0&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(n){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(!n&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===S.Separator.ID));return this.updateFocus(),!0}focusPrevious(n){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!n&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===S.Separator.ID));return this.updateFocus(!0),!0}updateFocus(n,i,t=!1){var o,g;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((o=this.viewItems[this.previouslyFocusedItem])===null||o===void 0||o.blur());const m=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(m){let c=!0;v.isFunction(m.focus)||(c=!1),this.options.focusOnlyEnabledItems&&v.isFunction(m.isEnabled)&&!m.isEnabled()&&(c=!1),m.action.id===S.Separator.ID&&(c=!1),c?(t||this.previouslyFocusedItem!==this.focusedItem)&&(m.focus(n),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0),c&&((g=m.showHover)===null||g===void 0||g.call(m))}}doTrigger(n){if(typeof this.focusedItem>"u")return;const i=this.viewItems[this.focusedItem];if(i instanceof y.BaseActionViewItem){const t=i._context===null||i._context===void 0?n:i._context;this.run(i._action,t)}}async run(n,i){await this._actionRunner.run(n,i)}dispose(){this._context=void 0,this.viewItems=(0,w.dispose)(this.viewItems),this.getContainer().remove(),super.dispose()}}e.ActionBar=b}),define(ne[330],se([1,0,6,141,598,7,121,91,281]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class w extends k.BaseActionViewItem{constructor(b,a,n,i=Object.create(null)){super(null,b,i),this.actionItem=null,this._onDidChangeVisibility=this._register(new D.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=a,this.contextMenuProvider=n,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(b){this.actionItem=b;const a=t=>{this.element=(0,L.append)(t,(0,L.$)("a.action-label"));let o=[];return typeof this.options.classNames=="string"?o=this.options.classNames.split(/\s+/g).filter(g=>!!g):this.options.classNames&&(o=this.options.classNames),o.find(g=>g==="icon")||o.push("codicon"),this.element.classList.add(...o),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register((0,S.setupCustomHover)((0,p.getDefaultHoverDelegate)("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},n=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:a,menuAsChild:this.options.menuAsChild,actions:n?this.menuActionsOrProvider:void 0,actionProvider:n?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new y.DropdownMenu(b,i)),this._register(this.dropdownMenu.onDidChangeVisibility(t=>{var o;(o=this.element)===null||o===void 0||o.setAttribute("aria-expanded",`${t}`),this._onDidChangeVisibility.fire(t)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const t=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return t.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let b=null;return this.action.tooltip?b=this.action.tooltip:this.action.label&&(b=this.action.label),b??void 0}setActionContext(b){super.setActionContext(b),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=b:this.dropdownMenu.menuOptions={context:b})}show(){var b;(b=this.dropdownMenu)===null||b===void 0||b.show()}updateEnabled(){var b,a;const n=!this.action.enabled;(b=this.actionItem)===null||b===void 0||b.classList.toggle("disabled",n),(a=this.element)===null||a===void 0||a.classList.toggle("disabled",n)}}e.DropdownMenuActionViewItem=w}),define(ne[237],se([1,0,6,84,324,79,44,78,77,7,410,54,582,423]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=e.unthemedInboxStyles=void 0;const i=L.$;e.unthemedInboxStyles={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class t extends w.Widget{constructor(m,c,d){var s;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new v.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new v.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=c,this.options=d,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(s=this.options.tooltip)!==null&&s!==void 0?s:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=L.append(m,i(".monaco-inputbox.idle"));const l=this.options.flexibleHeight?"textarea":"input",r=L.append(this.element,i(".ibwrapper"));if(this.input=L.append(r,i(l+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=L.append(r,i("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new p.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),L.append(m,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(f=>this.input.scrollTop=f.scrollTop));const h=this._register(new k.DomEmitter(m.ownerDocument,"selectionchange")),u=v.Event.filter(h.event,()=>{const f=m.ownerDocument.getSelection();return f?.anchorNode===r});this._register(u(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new D.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(m){this.placeholder=m,this.input.setAttribute("placeholder",m)}setTooltip(m){this.tooltip=m,this.input.title=m}get inputElement(){return this.input}get value(){return this.input.value}set value(m){this.input.value!==m&&(this.input.value=m,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:L.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return L.isActiveElement(this.input)}select(m=null){this.input.select(),m&&(this.input.setSelectionRange(m.start,m.end),m.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(m){this.input.style.width=`calc(100% - ${m}px)`,this.mirror&&(this.mirror.style.paddingRight=m+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const m=this.cachedContentHeight,c=this.cachedHeight,d=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:m,height:c}),this.scrollableElement.setScrollPosition({scrollTop:d})}showMessage(m,c){if(this.state==="open"&&(0,a.equals)(this.message,m))return;this.message=m,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(m.type));const d=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${L.asCssValueWithDefault(d.border,"transparent")}`,this.message.content&&(this.hasFocus()||c)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let m=null;return this.validation&&(m=this.validation(this.value),m?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(m)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),m?.type}stylesForType(m){const c=this.options.inputBoxStyles;switch(m){case 1:return{border:c.inputValidationInfoBorder,background:c.inputValidationInfoBackground,foreground:c.inputValidationInfoForeground};case 2:return{border:c.inputValidationWarningBorder,background:c.inputValidationWarningBackground,foreground:c.inputValidationWarningForeground};default:return{border:c.inputValidationErrorBorder,background:c.inputValidationErrorBackground,foreground:c.inputValidationErrorForeground}}}classForType(m){switch(m){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let m;const c=()=>m.style.width=L.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:s=>{var l,r;if(!this.message)return null;m=L.append(s,i(".monaco-inputbox-container")),c();const h={inline:!0,className:"monaco-inputbox-message"},u=this.message.formatContent?(0,y.renderFormattedText)(this.message.content,h):(0,y.renderText)(this.message.content,h);u.classList.add(this.classForType(this.message.type));const f=this.stylesForType(this.message.type);return u.style.backgroundColor=(l=f.background)!==null&&l!==void 0?l:"",u.style.color=(r=f.foreground)!==null&&r!==void 0?r:"",u.style.border=f.border?`1px solid ${f.border}`:"",L.append(m,u),null},onHide:()=>{this.state="closed"},layout:c});let d;this.message.type===3?d=n.localize(0,null,this.message.content):this.message.type===2?d=n.localize(1,null,this.message.content):d=n.localize(2,null,this.message.content),S.alert(d),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const m=this.value,d=m.charCodeAt(m.length-1)===10?" ":"";(m+d).replace(/\u000c/g,"")?this.mirror.textContent=m+d:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var m,c,d;const s=this.options.inputBoxStyles,l=(m=s.inputBackground)!==null&&m!==void 0?m:"",r=(c=s.inputForeground)!==null&&c!==void 0?c:"",h=(d=s.inputBorder)!==null&&d!==void 0?d:"";this.element.style.backgroundColor=l,this.element.style.color=r,this.input.style.backgroundColor="inherit",this.input.style.color=r,this.element.style.border=`1px solid ${L.asCssValueWithDefault(h,"transparent")}`}layout(){if(!this.mirror)return;const m=this.cachedContentHeight;this.cachedContentHeight=L.getTotalHeight(this.mirror),m!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(m){const c=this.inputElement,d=c.selectionStart,s=c.selectionEnd,l=c.value;d!==null&&s!==null&&(this.value=l.substr(0,d)+m+l.substr(s),c.setSelectionRange(d+1,d+1),this.layout())}dispose(){var m;this._hideMessage(),this.message=null,(m=this.actionbar)===null||m===void 0||m.dispose(),super.dispose()}}e.InputBox=t;class o extends t{constructor(m,c,d){const s=n.localize(3,null,"\u21C5"),l=n.localize(4,null,"\u21C5");super(m,c,d),this._onDidFocus=this._register(new v.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new v.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new b.HistoryNavigator(d.history,100);const r=()=>{if(d.showHistoryHint&&d.showHistoryHint()&&!this.placeholder.endsWith(s)&&!this.placeholder.endsWith(l)&&this.history.getHistory().length){const h=this.placeholder.endsWith(")")?s:l,u=this.placeholder+h;d.showPlaceholderOnFocus&&!L.isActiveElement(this.input)?this.placeholder=u:this.setPlaceHolder(u)}};this.observer=new MutationObserver((h,u)=>{h.forEach(f=>{f.target.textContent||r()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>r()),this.onblur(this.input,()=>{const h=u=>{if(this.placeholder.endsWith(u)){const f=this.placeholder.slice(0,this.placeholder.length-u.length);return d.showPlaceholderOnFocus?this.placeholder=f:this.setPlaceHolder(f),!0}else return!1};h(l)||h(s)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(m){this.value&&(m||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let m=this.getNextValue();m&&(m=m===this.value?this.getNextValue():m),this.value=m??"",S.status(this.value?this.value:n.localize(5,null))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let m=this.getPreviousValue();m&&(m=m===this.value?this.getPreviousValue():m),m&&(this.value=m,S.status(this.value))}setPlaceHolder(m){super.setPlaceHolder(m),this.setTooltip(m)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let m=this.history.current();return m||(m=this.history.last(),this.history.next()),m}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}e.HistoryInputBox=o}),define(ne[607],se([1,0,59,65,6,46,69,79,141,325,78,42,15,27,29,130,2,17,11]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var d;(function(_){_[_.Right=0]="Right",_[_.Left=1]="Left"})(d||(e.Direction=d={}));class s extends p.ActionBar{constructor(E,I,T,A){E.classList.add("monaco-menu-container"),E.setAttribute("role","presentation");const R=document.createElement("div");R.classList.add("monaco-menu"),R.setAttribute("role","presentation"),super(R,{orientation:1,actionViewItemProvider:F=>this.doGetActionViewItem(F,T,M),context:T.context,actionRunner:T.actionRunner,ariaLabel:T.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...m.isMacintosh||m.isLinux?[10]:[]],keyDown:!0}}),this.menuStyles=A,this.menuElement=R,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(E,A),this._register(k.Gesture.addTarget(R)),this._register((0,y.addDisposableListener)(R,y.EventType.KEY_DOWN,F=>{new D.StandardKeyboardEvent(F).equals(2)&&F.preventDefault()})),T.enableMnemonics&&this._register((0,y.addDisposableListener)(R,y.EventType.KEY_DOWN,F=>{const O=F.key.toLocaleLowerCase();if(this.mnemonics.has(O)){y.EventHelper.stop(F,!0);const B=this.mnemonics.get(O);if(B.length===1&&(B[0]instanceof r&&B[0].container&&this.focusItemByElement(B[0].container),B[0].onClick(F)),B.length>1){const W=B.shift();W&&W.container&&(this.focusItemByElement(W.container),B.push(W)),this.mnemonics.set(O,B)}}})),m.isLinux&&this._register((0,y.addDisposableListener)(R,y.EventType.KEY_DOWN,F=>{const O=new D.StandardKeyboardEvent(F);O.equals(14)||O.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),y.EventHelper.stop(F,!0)):(O.equals(13)||O.equals(12))&&(this.focusedItem=0,this.focusPrevious(),y.EventHelper.stop(F,!0))})),this._register((0,y.addDisposableListener)(this.domNode,y.EventType.MOUSE_OUT,F=>{const O=F.relatedTarget;(0,y.isAncestor)(O,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),F.stopPropagation())})),this._register((0,y.addDisposableListener)(this.actionsList,y.EventType.MOUSE_OVER,F=>{let O=F.target;if(!(!O||!(0,y.isAncestor)(O,this.actionsList)||O===this.actionsList)){for(;O.parentElement!==this.actionsList&&O.parentElement!==null;)O=O.parentElement;if(O.classList.contains("action-item")){const B=this.focusedItem;this.setFocusedItem(O),B!==this.focusedItem&&this.updateFocus()}}})),this._register(k.Gesture.addTarget(this.actionsList)),this._register((0,y.addDisposableListener)(this.actionsList,k.EventType.Tap,F=>{let O=F.initialTarget;if(!(!O||!(0,y.isAncestor)(O,this.actionsList)||O===this.actionsList)){for(;O.parentElement!==this.actionsList&&O.parentElement!==null;)O=O.parentElement;if(O.classList.contains("action-item")){const B=this.focusedItem;this.setFocusedItem(O),B!==this.focusedItem&&this.updateFocus()}}}));const M={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new b.DomScrollableElement(R,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const N=this.scrollableElement.getDomNode();N.style.position="",this.styleScrollElement(N,A),this._register((0,y.addDisposableListener)(R,k.EventType.Change,F=>{y.EventHelper.stop(F,!0);const O=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:O-F.translationY})})),this._register((0,y.addDisposableListener)(N,y.EventType.MOUSE_UP,F=>{F.preventDefault()}));const P=(0,y.getWindow)(E);R.style.maxHeight=`${Math.max(10,P.innerHeight-E.getBoundingClientRect().top-35)}px`,I=I.filter((F,O)=>{var B;return!((B=T.submenuIds)===null||B===void 0)&&B.has(F.id)?(console.warn(`Found submenu cycle: ${F.id}`),!1):!(F instanceof a.Separator&&(O===I.length-1||O===0||I[O-1]instanceof a.Separator))}),this.push(I,{icon:!0,label:!0,isMenu:!0}),E.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(F=>!(F instanceof h)).forEach((F,O,B)=>{F.updatePositionInSet(O+1,B.length)})}initializeOrUpdateStyleSheet(E,I){this.styleSheet||((0,y.isInShadowDOM)(E)?this.styleSheet=(0,y.createStyleSheet)(E):(s.globalStyleSheet||(s.globalStyleSheet=(0,y.createStyleSheet)()),this.styleSheet=s.globalStyleSheet)),this.styleSheet.textContent=C(I,(0,y.isInShadowDOM)(E))}styleScrollElement(E,I){var T,A;const R=(T=I.foregroundColor)!==null&&T!==void 0?T:"",M=(A=I.backgroundColor)!==null&&A!==void 0?A:"",N=I.borderColor?`1px solid ${I.borderColor}`:"",P="5px",F=I.shadowColor?`0 2px 8px ${I.shadowColor}`:"";E.style.outline=N,E.style.borderRadius=P,E.style.color=R,E.style.backgroundColor=M,E.style.boxShadow=F}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(E){const I=this.focusedItem;this.setFocusedItem(E),I!==this.focusedItem&&this.updateFocus()}setFocusedItem(E){for(let I=0;I<this.actionsList.children.length;I++){const T=this.actionsList.children[I];if(E===T){this.focusedItem=I;break}}}updateFocus(E){super.updateFocus(E,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(E,I,T){if(E instanceof a.Separator)return new h(I.context,E,{icon:!0},this.menuStyles);if(E instanceof a.SubmenuAction){const A=new r(E,E.actions,T,{...I,submenuIds:new Set([...I.submenuIds||[],E.id])},this.menuStyles);if(I.enableMnemonics){const R=A.getMnemonic();if(R&&A.isEnabled()){let M=[];this.mnemonics.has(R)&&(M=this.mnemonics.get(R)),M.push(A),this.mnemonics.set(R,M)}}return A}else{const A={enableMnemonics:I.enableMnemonics,useEventAsContext:I.useEventAsContext};if(I.getKeyBinding){const M=I.getKeyBinding(E);if(M){const N=M.getLabel();N&&(A.keybinding=N)}}const R=new l(I.context,E,A,this.menuStyles);if(I.enableMnemonics){const M=R.getMnemonic();if(M&&R.isEnabled()){let N=[];this.mnemonics.has(M)&&(N=this.mnemonics.get(M)),N.push(R),this.mnemonics.set(M,N)}}return R}}}e.Menu=s;class l extends w.BaseActionViewItem{constructor(E,I,T,A){if(T.isMenu=!0,super(I,I,T),this.menuStyle=A,this.options=T,this.options.icon=T.icon!==void 0?T.icon:!1,this.options.label=T.label!==void 0?T.label:!0,this.cssClass="",this.options.label&&T.enableMnemonics){const R=this.action.label;if(R){const M=e.MENU_MNEMONIC_REGEX.exec(R);M&&(this.mnemonic=(M[1]?M[1]:M[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new n.RunOnceScheduler(()=>{this.element&&(this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_UP,R=>{if(y.EventHelper.stop(R,!0),L.isFirefox){if(new S.StandardMouseEvent((0,y.getWindow)(this.element),R).rightButton)return;this.onClick(R)}else setTimeout(()=>{this.onClick(R)},0)})),this._register((0,y.addDisposableListener)(this.element,y.EventType.CONTEXT_MENU,R=>{y.EventHelper.stop(R,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(E){super.render(E),this.element&&(this.container=E,this.item=(0,y.append)(this.element,(0,y.$)("a.action-menu-item")),this._action.id===a.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,y.append)(this.item,(0,y.$)("span.menu-item-check"+t.ThemeIcon.asCSSSelector(i.Codicon.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,y.append)(this.item,(0,y.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,y.append)(this.item,(0,y.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var E;super.focus(),(E=this.item)===null||E===void 0||E.focus(),this.applyStyle()}updatePositionInSet(E,I){this.item&&(this.item.setAttribute("aria-posinset",`${E}`),this.item.setAttribute("aria-setsize",`${I}`))}updateLabel(){var E;if(this.label&&this.options.label){(0,y.clearNode)(this.label);let I=(0,o.stripIcons)(this.action.label);if(I){const T=u(I);this.options.enableMnemonics||(I=T),this.label.setAttribute("aria-label",T.replace(/&&/g,"&"));const A=e.MENU_MNEMONIC_REGEX.exec(I);if(A){I=c.escape(I),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let R=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(I);for(;R&&R[1];)R=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(I);const M=N=>N.replace(/&amp;&amp;/g,"&amp;");R?this.label.append(c.ltrim(M(I.substr(0,R.index))," "),(0,y.$)("u",{"aria-hidden":"true"},R[3]),c.rtrim(M(I.substr(R.index+R[0].length))," ")):this.label.innerText=M(I).trim(),(E=this.item)===null||E===void 0||E.setAttribute("aria-keyshortcuts",(A[1]?A[1]:A[3]).toLocaleLowerCase())}else this.label.innerText=I.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const E=this.action.checked;this.item.classList.toggle("checked",!!E),E!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",E?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const E=this.element&&this.element.classList.contains("focused"),I=E&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,T=E&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,A=E&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",R=E&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=I??"",this.item.style.backgroundColor=T??"",this.item.style.outline=A,this.item.style.outlineOffset=R),this.check&&(this.check.style.color=I??"")}}class r extends l{constructor(E,I,T,A,R){super(E,E,A,R),this.submenuActions=I,this.parentData=T,this.submenuOptions=A,this.mysubmenu=null,this.submenuDisposables=this._register(new g.DisposableStore),this.mouseOver=!1,this.expandDirection=A&&A.expandDirection!==void 0?A.expandDirection:d.Right,this.showScheduler=new n.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new n.RunOnceScheduler(()=>{this.element&&!(0,y.isAncestor)((0,y.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(E){super.render(E),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,y.append)(this.item,(0,y.$)("span.submenu-indicator"+t.ThemeIcon.asCSSSelector(i.Codicon.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,y.addDisposableListener)(this.element,y.EventType.KEY_UP,I=>{const T=new D.StandardKeyboardEvent(I);(T.equals(17)||T.equals(3))&&(y.EventHelper.stop(I,!0),this.createSubmenu(!0))})),this._register((0,y.addDisposableListener)(this.element,y.EventType.KEY_DOWN,I=>{const T=new D.StandardKeyboardEvent(I);(0,y.getActiveElement)()===this.item&&(T.equals(17)||T.equals(3))&&y.EventHelper.stop(I,!0)})),this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_OVER,I=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,y.addDisposableListener)(this.element,y.EventType.MOUSE_LEAVE,I=>{this.mouseOver=!1})),this._register((0,y.addDisposableListener)(this.element,y.EventType.FOCUS_OUT,I=>{this.element&&!(0,y.isAncestor)((0,y.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(E){y.EventHelper.stop(E,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(E){if(this.parentData.submenu&&(E||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(E,I,T,A){const R={top:0,left:0};return R.left=(0,v.layout)(E.width,I.width,{position:A===d.Right?0:1,offset:T.left,size:T.width}),R.left>=T.left&&R.left<T.left+T.width&&(T.left+10+I.width<=E.width&&(R.left=T.left+10),T.top+=10,T.height=0),R.top=(0,v.layout)(E.height,I.height,{position:0,offset:T.top,size:0}),R.top+I.height===T.top&&R.top+T.height+I.height<=E.height&&(R.top+=T.height),R}createSubmenu(E=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,y.append)(this.element,(0,y.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const I=(0,y.getWindow)(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),T=parseFloat(I.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new s(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new a.EmptySubmenuAction],this.submenuOptions,this.menuStyle);const A=this.element.getBoundingClientRect(),R={top:A.top-T,left:A.left,height:A.height+2*T,width:A.width},M=this.submenuContainer.getBoundingClientRect(),N=(0,y.getWindow)(this.element),{top:P,left:F}=this.calculateSubmenuMenuLayout(new y.Dimension(N.innerWidth,N.innerHeight),y.Dimension.lift(M),R,this.expandDirection);this.submenuContainer.style.left=`${F-M.left}px`,this.submenuContainer.style.top=`${P-M.top}px`,this.submenuDisposables.add((0,y.addDisposableListener)(this.submenuContainer,y.EventType.KEY_UP,O=>{new D.StandardKeyboardEvent(O).equals(15)&&(y.EventHelper.stop(O,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,y.addDisposableListener)(this.submenuContainer,y.EventType.KEY_DOWN,O=>{new D.StandardKeyboardEvent(O).equals(15)&&y.EventHelper.stop(O,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(E),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(E){var I;this.item&&((I=this.item)===null||I===void 0||I.setAttribute("aria-expanded",E))}applyStyle(){super.applyStyle();const I=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=I??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class h extends w.ActionViewItem{constructor(E,I,T,A){super(E,I,T),this.menuStyles=A}render(E){super.render(E),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function u(_){const E=e.MENU_MNEMONIC_REGEX,I=E.exec(_);if(!I)return _;const T=!I[1];return _.replace(E,T?"$2$3":"").trim()}e.cleanMnemonic=u;function f(_){const E=(0,i.getCodiconFontCharacters)()[_.id];return`.codicon-${_.id}:before { content: '\\${E.toString(16)}'; }`}e.formatRule=f;function C(_,E){let I=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${f(i.Codicon.menuSelection)}
${f(i.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(E){I+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const T=_.scrollbarShadow;T&&(I+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${T} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${T} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${T} 6px 6px 6px -6px inset;
				}
			`);const A=_.scrollbarSliderBackground;A&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${A};
				}
			`);const R=_.scrollbarSliderHoverBackground;R&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${R};
				}
			`);const M=_.scrollbarSliderActiveBackground;M&&(I+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${M};
				}
			`)}return I}}),define(ne[608],se([1,0,6,91,121,105,329,7,2,432]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class v{constructor(t,o,g){this.columns=t,this.getColumnSize=g,this.templateId=v.TemplateId,this.renderedTemplates=new Set;const m=new Map(o.map(c=>[c.templateId,c]));this.renderers=[];for(const c of t){const d=m.get(c.templateId);if(!d)throw new Error(`Table cell renderer for template id ${c.templateId} not found.`);this.renderers.push(d)}}renderTemplate(t){const o=(0,L.append)(t,(0,L.$)(".monaco-table-tr")),g=[],m=[];for(let d=0;d<this.columns.length;d++){const s=this.renderers[d],l=(0,L.append)(o,(0,L.$)(".monaco-table-td",{"data-col-index":d}));l.style.width=`${this.getColumnSize(d)}px`,g.push(l),m.push(s.renderTemplate(l))}const c={container:t,cellContainers:g,cellTemplateData:m};return this.renderedTemplates.add(c),c}renderElement(t,o,g,m){for(let c=0;c<this.columns.length;c++){const s=this.columns[c].project(t);this.renderers[c].renderElement(s,o,g.cellTemplateData[c],m)}}disposeElement(t,o,g,m){for(let c=0;c<this.columns.length;c++){const d=this.renderers[c];if(d.disposeElement){const l=this.columns[c].project(t);d.disposeElement(l,o,g.cellTemplateData[c],m)}}}disposeTemplate(t){for(let o=0;o<this.columns.length;o++)this.renderers[o].disposeTemplate(t.cellTemplateData[o]);(0,L.clearNode)(t.container),this.renderedTemplates.delete(t)}layoutColumn(t,o){for(const{cellContainers:g}of this.renderedTemplates)g[t].style.width=`${o}px`}}v.TemplateId="row";function b(i){return{getHeight(t){return i.getHeight(t)},getTemplateId(){return v.TemplateId}}}class a extends w.Disposable{get minimumSize(){var t;return(t=this.column.minimumWidth)!==null&&t!==void 0?t:120}get maximumSize(){var t;return(t=this.column.maximumWidth)!==null&&t!==void 0?t:Number.POSITIVE_INFINITY}get onDidChange(){var t;return(t=this.column.onDidChangeWidthConstraints)!==null&&t!==void 0?t:p.Event.None}constructor(t,o){super(),this.column=t,this.index=o,this._onDidLayout=new p.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,L.$)(".monaco-table-th",{"data-col-index":o},t.label),this._register((0,y.setupCustomHover)((0,k.getDefaultHoverDelegate)("mouse"),this.element,t.tooltip))}layout(t){this._onDidLayout.fire([this.index,t])}}class n{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(t,o,g,m,c,d){this.virtualDelegate=g,this.domId=`table_id_${++n.InstanceCount}`,this.disposables=new w.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,L.append)(o,(0,L.$)(`.monaco-table.${this.domId}`));const s=m.map((h,u)=>this.disposables.add(new a(h,u))),l={size:s.reduce((h,u)=>h+u.column.weight,0),views:s.map(h=>({size:h.column.weight,view:h}))};this.splitview=this.disposables.add(new S.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l})),this.splitview.el.style.height=`${g.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${g.headerRowHeight}px`;const r=new v(m,c,h=>this.splitview.getViewSize(h));this.list=this.disposables.add(new D.List(t,this.domNode,b(g),[r],d)),p.Event.any(...s.map(h=>h.onDidLayout))(([h,u])=>r.layoutColumn(h,u),null,this.disposables),this.splitview.onDidSashReset(h=>{const u=m.reduce((C,_)=>C+_.weight,0),f=m[h].weight/u*this.cachedWidth;this.splitview.resizeView(h,f)},null,this.disposables),this.styleElement=(0,L.createStyleSheet)(this.domNode),this.style(D.unthemedListStyles)}updateOptions(t){this.list.updateOptions(t)}splice(t,o,g=[]){this.list.splice(t,o,g)}getHTMLElement(){return this.domNode}style(t){const o=[];o.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=o.join(`
`),this.list.style(t)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=n,n.InstanceCount=0}),define(ne[161],se([1,0,77,29,7,121,91,433]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=e.unthemedToggleStyles=void 0,e.unthemedToggleStyles={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class p extends L.Widget{constructor(v){super(),this._onChange=this._register(new y.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=v,this._checked=this._opts.isChecked;const b=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,b.push(...k.ThemeIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&b.push(...this._opts.actionClassName.split(" ")),this._checked&&b.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register((0,D.setupCustomHover)((0,S.getDefaultHoverDelegate)("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...b),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,a=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),a.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,a=>{if(a.keyCode===10||a.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),a.preventDefault(),a.stopPropagation();return}this._onKeyDown.fire(a)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(v){this._checked=v,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=p}),define(ne[331],se([1,0,161,27,578]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const D=y.localize(0,null),S=y.localize(1,null),p=y.localize(2,null);class w extends L.Toggle{constructor(n){super({icon:k.Codicon.caseSensitive,title:D+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.CaseSensitiveToggle=w;class v extends L.Toggle{constructor(n){super({icon:k.Codicon.wholeWord,title:S+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.WholeWordsToggle=v;class b extends L.Toggle{constructor(n){super({icon:k.Codicon.regex,title:p+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.RegexToggle=b}),define(ne[238],se([1,0,6,331,237,77,7,577,2,282]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const v=p.localize(0,null);class b extends D.Widget{constructor(n,i,t){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new w.MutableDisposable),this.additionalToggles=[],this._onDidOptionChange=this._register(new S.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new S.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new S.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new S.Emitter),this._onKeyUp=this._register(new S.Emitter),this._onCaseSensitiveKeyDown=this._register(new S.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new S.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=t.placeholder||"",this.validation=t.validation,this.label=t.label||v,this.showCommonFindToggles=!!t.showCommonFindToggles;const o=t.appendCaseSensitiveLabel||"",g=t.appendWholeWordsLabel||"",m=t.appendRegexLabel||"",c=t.history||[],d=!!t.flexibleHeight,s=!!t.flexibleWidth,l=t.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new y.HistoryInputBox(this.domNode,i,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:c,showHistoryHint:t.showHistoryHint,flexibleHeight:d,flexibleWidth:s,flexibleMaxHeight:l,inputBoxStyles:t.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new k.RegexToggle({appendTitle:m,isChecked:!1,...t.toggleStyles})),this._register(this.regex.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(h=>{this._onRegexKeyDown.fire(h)})),this.wholeWords=this._register(new k.WholeWordsToggle({appendTitle:g,isChecked:!1,...t.toggleStyles})),this._register(this.wholeWords.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new k.CaseSensitiveToggle({appendTitle:o,isChecked:!1,...t.toggleStyles})),this._register(this.caseSensitive.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(h=>{this._onCaseSensitiveKeyDown.fire(h)}));const r=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,h=>{if(h.equals(15)||h.equals(17)||h.equals(9)){const u=r.indexOf(this.domNode.ownerDocument.activeElement);if(u>=0){let f=-1;h.equals(17)?f=(u+1)%r.length:h.equals(15)&&(u===0?f=r.length-1:f=u-1),h.equals(9)?(r[u].blur(),this.inputBox.focus()):f>=0&&r[f].focus(),L.EventHelper.stop(h,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(t?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),n?.appendChild(this.domNode),this._register(L.addDisposableListener(this.inputBox.inputElement,"compositionstart",r=>{this.imeSessionInProgress=!0})),this._register(L.addDisposableListener(this.inputBox.inputElement,"compositionend",r=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,r=>this._onKeyDown.fire(r)),this.onkeyup(this.inputBox.inputElement,r=>this._onKeyUp.fire(r)),this.oninput(this.inputBox.inputElement,r=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,r=>this._onMouseDown.fire(r))}get onDidChange(){return this.inputBox.onDidChange}layout(n){this.inputBox.layout(),this.updateInputBoxPadding(n.collapsedFindWidget)}enable(){var n,i,t;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(n=this.regex)===null||n===void 0||n.enable(),(i=this.wholeWords)===null||i===void 0||i.enable(),(t=this.caseSensitive)===null||t===void 0||t.enable();for(const o of this.additionalToggles)o.enable()}disable(){var n,i,t;this.domNode.classList.add("disabled"),this.inputBox.disable(),(n=this.regex)===null||n===void 0||n.disable(),(i=this.wholeWords)===null||i===void 0||i.disable(),(t=this.caseSensitive)===null||t===void 0||t.disable();for(const o of this.additionalToggles)o.disable()}setFocusInputOnOptionClick(n){this.fixFocusOnOptionClickEnabled=n}setEnabled(n){n?this.enable():this.disable()}setAdditionalToggles(n){for(const i of this.additionalToggles)i.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new w.DisposableStore;for(const i of n??[])this.additionalTogglesDisposables.value.add(i),this.controls.appendChild(i.domNode),this.additionalTogglesDisposables.value.add(i.onChange(t=>{this._onDidOptionChange.fire(t),!t&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(i);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(n=!1){var i,t,o,g,m,c;n?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((t=(i=this.caseSensitive)===null||i===void 0?void 0:i.width())!==null&&t!==void 0?t:0)+((g=(o=this.wholeWords)===null||o===void 0?void 0:o.width())!==null&&g!==void 0?g:0)+((c=(m=this.regex)===null||m===void 0?void 0:m.width())!==null&&c!==void 0?c:0)+this.additionalToggles.reduce((d,s)=>d+s.width(),0)}getValue(){return this.inputBox.value}setValue(n){this.inputBox.value!==n&&(this.inputBox.value=n)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var n,i;return(i=(n=this.caseSensitive)===null||n===void 0?void 0:n.checked)!==null&&i!==void 0?i:!1}setCaseSensitive(n){this.caseSensitive&&(this.caseSensitive.checked=n)}getWholeWords(){var n,i;return(i=(n=this.wholeWords)===null||n===void 0?void 0:n.checked)!==null&&i!==void 0?i:!1}setWholeWords(n){this.wholeWords&&(this.wholeWords.checked=n)}getRegex(){var n,i;return(i=(n=this.regex)===null||n===void 0?void 0:n.checked)!==null&&i!==void 0?i:!1}setRegex(n){this.regex&&(this.regex.checked=n,this.validate())}focusOnCaseSensitive(){var n;(n=this.caseSensitive)===null||n===void 0||n.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(n){this.inputBox.showMessage(n)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=b}),define(ne[609],se([1,0,6,161,237,77,27,7,579,282]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=void 0;const v=w.localize(0,null),b=w.localize(1,null);class a extends k.Toggle{constructor(t){super({icon:S.Codicon.preserveCase,title:b+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionForeground:t.inputActiveOptionForeground,inputActiveOptionBackground:t.inputActiveOptionBackground})}}class n extends D.Widget{constructor(t,o,g,m){super(),this._showOptionButtons=g,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new p.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new p.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new p.Emitter),this._onInput=this._register(new p.Emitter),this._onKeyUp=this._register(new p.Emitter),this._onPreserveCaseKeyDown=this._register(new p.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=o,this.placeholder=m.placeholder||"",this.validation=m.validation,this.label=m.label||v;const c=m.appendPreserveCaseLabel||"",d=m.history||[],s=!!m.flexibleHeight,l=!!m.flexibleWidth,r=m.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new y.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:d,showHistoryHint:m.showHistoryHint,flexibleHeight:s,flexibleWidth:l,flexibleMaxHeight:r,inputBoxStyles:m.inputBoxStyles})),this.preserveCase=this._register(new a({appendTitle:c,isChecked:!1,...m.toggleStyles})),this._register(this.preserveCase.onChange(f=>{this._onDidOptionChange.fire(f),!f&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(f=>{this._onPreserveCaseKeyDown.fire(f)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const h=[this.preserveCase.domNode];this.onkeydown(this.domNode,f=>{if(f.equals(15)||f.equals(17)||f.equals(9)){const C=h.indexOf(this.domNode.ownerDocument.activeElement);if(C>=0){let _=-1;f.equals(17)?_=(C+1)%h.length:f.equals(15)&&(C===0?_=h.length-1:_=C-1),f.equals(9)?(h[C].blur(),this.inputBox.focus()):_>=0&&h[_].focus(),L.EventHelper.stop(f,!0)}}});const u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.preserveCase.domNode),this.domNode.appendChild(u),t?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,f=>this._onKeyDown.fire(f)),this.onkeyup(this.inputBox.inputElement,f=>this._onKeyUp.fire(f)),this.oninput(this.inputBox.inputElement,f=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,f=>this._onMouseDown.fire(f))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(t){t?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(t){this.preserveCase.checked=t}focusOnPreserve(){this.preserveCase.focus()}validate(){var t;(t=this.inputBox)===null||t===void 0||t.validate()}set width(t){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=t+"px"}dispose(){super.dispose()}}e.ReplaceInput=n}),define(ne[610],se([1,0,79,330,42,27,29,7,2,585,91,434]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMenuAction=e.ToolBar=void 0;class a extends w.Disposable{constructor(t,o,g={orientation:0}){var m;super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new p.EventMultiplexer),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new w.DisposableStore),g.hoverDelegate=(m=g.hoverDelegate)!==null&&m!==void 0?m:this._register((0,b.getDefaultHoverDelegate)("element",!0)),this.options=g,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new n(()=>{var c;return(c=this.toggleMenuActionViewItem)===null||c===void 0?void 0:c.show()},g.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",t.appendChild(this.element),this.actionBar=this._register(new L.ActionBar(this.element,{orientation:g.orientation,ariaLabel:g.ariaLabel,actionRunner:g.actionRunner,allowContextMenu:g.allowContextMenu,highlightToggledItems:g.highlightToggledItems,hoverDelegate:g.hoverDelegate,actionViewItemProvider:(c,d)=>{var s;if(c.id===n.ID)return this.toggleMenuActionViewItem=new k.DropdownMenuActionViewItem(c,c.menuActions,o,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:S.ThemeIcon.asClassNameArray((s=g.moreIcon)!==null&&s!==void 0?s:D.Codicon.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(g.actionViewItemProvider){const l=g.actionViewItemProvider(c,d);if(l)return l}if(c instanceof y.SubmenuAction){const l=new k.DropdownMenuActionViewItem(c,c.actions,o,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:c.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return l.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(l),this.disposables.add(this._onDidChangeDropdownVisibility.add(l.onDidChangeVisibility)),l}}}))}set actionRunner(t){this.actionBar.actionRunner=t}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(t){return this.actionBar.getAction(t)}setActions(t,o){this.clear();const g=t?t.slice(0):[];this.hasSecondaryActions=!!(o&&o.length>0),this.hasSecondaryActions&&o&&(this.toggleMenuAction.menuActions=o.slice(0),g.push(this.toggleMenuAction)),g.forEach(m=>{this.actionBar.push(m,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(m)})})}getKeybindingLabel(t){var o,g,m;const c=this.lookupKeybindings?(g=(o=this.options).getKeyBinding)===null||g===void 0?void 0:g.call(o,t):void 0;return(m=c?.getLabel())!==null&&m!==void 0?m:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}e.ToolBar=a;class n extends y.Action{constructor(t,o){o=o||v.localize(0,null),super(n.ID,o,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=t}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(t){this._menuActions=t}}e.ToggleMenuAction=n,n.ID="toolbar.toggle.more"}),define(ne[192],se([1,0,6,84,46,79,238,237,234,105,161,226,148,42,13,15,27,29,53,7,73,2,128,20,586,435]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMatchType=e.TreeFindMode=e.FuzzyToggle=e.ModeToggle=e.TreeRenderer=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class f extends w.ElementsDragAndDropData{constructor(U){super(U.elements.map(Z=>Z.element)),this.data=U}}function C(Q){return Q instanceof w.ElementsDragAndDropData?new f(Q):Q}class _{constructor(U,Z){this.modelProvider=U,this.dnd=Z,this.autoExpandDisposable=l.Disposable.None,this.disposables=new l.DisposableStore}getDragURI(U){return this.dnd.getDragURI(U.element)}getDragLabel(U,Z){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(U.map(H=>H.element),Z)}onDragStart(U,Z){var H,q;(q=(H=this.dnd).onDragStart)===null||q===void 0||q.call(H,C(U),Z)}onDragOver(U,Z,H,q,te,G=!0){const $=this.dnd.onDragOver(C(U),Z&&Z.element,H,q,te),oe=this.autoExpandNode!==Z;if(oe&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=Z),typeof Z>"u")return $;if(oe&&typeof $!="boolean"&&$.autoExpand&&(this.autoExpandDisposable=(0,o.disposableTimeout)(()=>{const ve=this.modelProvider(),Ce=ve.getNodeLocation(Z);ve.isCollapsed(Ce)&&ve.setCollapsed(Ce,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof $=="boolean"||!$.accept||typeof $.bubble>"u"||$.feedback){if(!G){const ve=typeof $=="boolean"?$:$.accept,Ce=typeof $=="boolean"?void 0:$.effect;return{accept:ve,effect:Ce,feedback:[H]}}return $}if($.bubble===1){const ve=this.modelProvider(),Ce=ve.getNodeLocation(Z),Se=ve.getParentNodeLocation(Ce),_e=ve.getNode(Se),Ie=Se&&ve.getListIndex(Se);return this.onDragOver(U,_e,Ie,q,te,!1)}const ae=this.modelProvider(),ue=ae.getNodeLocation(Z),ce=ae.getListIndex(ue),fe=ae.getListRenderCount(ue);return{...$,feedback:(0,t.range)(ce,ce+fe)}}drop(U,Z,H,q,te){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(C(U),Z&&Z.element,H,q,te)}onDragEnd(U){var Z,H;(H=(Z=this.dnd).onDragEnd)===null||H===void 0||H.call(Z,U)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function E(Q,U){return U&&{...U,identityProvider:U.identityProvider&&{getId(Z){return U.identityProvider.getId(Z.element)}},dnd:U.dnd&&new _(Q,U.dnd),multipleSelectionController:U.multipleSelectionController&&{isSelectionSingleChangeEvent(Z){return U.multipleSelectionController.isSelectionSingleChangeEvent({...Z,element:Z.element})},isSelectionRangeChangeEvent(Z){return U.multipleSelectionController.isSelectionRangeChangeEvent({...Z,element:Z.element})}},accessibilityProvider:U.accessibilityProvider&&{...U.accessibilityProvider,getSetSize(Z){const H=Q(),q=H.getNodeLocation(Z),te=H.getParentNodeLocation(q);return H.getNode(te).visibleChildrenCount},getPosInSet(Z){return Z.visibleChildIndex+1},isChecked:U.accessibilityProvider&&U.accessibilityProvider.isChecked?Z=>U.accessibilityProvider.isChecked(Z.element):void 0,getRole:U.accessibilityProvider&&U.accessibilityProvider.getRole?Z=>U.accessibilityProvider.getRole(Z.element):()=>"treeitem",getAriaLabel(Z){return U.accessibilityProvider.getAriaLabel(Z.element)},getWidgetAriaLabel(){return U.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:U.accessibilityProvider&&U.accessibilityProvider.getWidgetRole?()=>U.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:U.accessibilityProvider&&U.accessibilityProvider.getAriaLevel?Z=>U.accessibilityProvider.getAriaLevel(Z.element):Z=>Z.depth,getActiveDescendantId:U.accessibilityProvider.getActiveDescendantId&&(Z=>U.accessibilityProvider.getActiveDescendantId(Z.element))},keyboardNavigationLabelProvider:U.keyboardNavigationLabelProvider&&{...U.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(Z){return U.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(Z.element)}}}}class I{constructor(U){this.delegate=U}getHeight(U){return this.delegate.getHeight(U.element)}getTemplateId(U){return this.delegate.getTemplateId(U.element)}hasDynamicHeight(U){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(U.element)}setDynamicHeight(U,Z){var H,q;(q=(H=this.delegate).setDynamicHeight)===null||q===void 0||q.call(H,U.element,Z)}}e.ComposedTreeDelegate=I;var T;(function(Q){Q.None="none",Q.OnHover="onHover",Q.Always="always"})(T||(e.RenderIndentGuides=T={}));class A{get elements(){return this._elements}constructor(U,Z=[]){this._elements=Z,this.disposables=new l.DisposableStore,this.onDidChange=d.Event.forEach(U,H=>this._elements=H,this.disposables)}dispose(){this.disposables.dispose()}}class R{constructor(U,Z,H,q,te,G={}){var $;this.renderer=U,this.modelProvider=Z,this.activeNodes=q,this.renderedIndentGuides=te,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=R.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=l.Disposable.None,this.disposables=new l.DisposableStore,this.templateId=U.templateId,this.updateOptions(G),d.Event.map(H,oe=>oe.node)(this.onDidChangeNodeTwistieState,this,this.disposables),($=U.onDidChangeTwistieState)===null||$===void 0||$.call(U,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(U={}){if(typeof U.indent<"u"){const Z=(0,r.clamp)(U.indent,0,40);if(Z!==this.indent){this.indent=Z;for(const[H,q]of this.renderedNodes)this.renderTreeElement(H,q)}}if(typeof U.renderIndentGuides<"u"){const Z=U.renderIndentGuides!==T.None;if(Z!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=Z;for(const[H,q]of this.renderedNodes)this._renderIndentGuides(H,q);if(this.indentGuidesDisposable.dispose(),Z){const H=new l.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,H),this.indentGuidesDisposable=H,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof U.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=U.hideTwistiesOfChildlessElements)}renderTemplate(U){const Z=(0,L.append)(U,(0,L.$)(".monaco-tl-row")),H=(0,L.append)(Z,(0,L.$)(".monaco-tl-indent")),q=(0,L.append)(Z,(0,L.$)(".monaco-tl-twistie")),te=(0,L.append)(Z,(0,L.$)(".monaco-tl-contents")),G=this.renderer.renderTemplate(te);return{container:U,indent:H,twistie:q,indentGuidesDisposable:l.Disposable.None,templateData:G}}renderElement(U,Z,H,q){this.renderedNodes.set(U,H),this.renderedElements.set(U.element,U),this.renderTreeElement(U,H),this.renderer.renderElement(U,Z,H.templateData,q)}disposeElement(U,Z,H,q){var te,G;H.indentGuidesDisposable.dispose(),(G=(te=this.renderer).disposeElement)===null||G===void 0||G.call(te,U,Z,H.templateData,q),typeof q=="number"&&(this.renderedNodes.delete(U),this.renderedElements.delete(U.element))}disposeTemplate(U){this.renderer.disposeTemplate(U.templateData)}onDidChangeTwistieState(U){const Z=this.renderedElements.get(U);Z&&this.onDidChangeNodeTwistieState(Z)}onDidChangeNodeTwistieState(U){const Z=this.renderedNodes.get(U);Z&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(U,Z))}renderTreeElement(U,Z){const H=R.DefaultIndent+(U.depth-1)*this.indent;Z.twistie.style.paddingLeft=`${H}px`,Z.indent.style.width=`${H+this.indent-16}px`,U.collapsible?Z.container.setAttribute("aria-expanded",String(!U.collapsed)):Z.container.removeAttribute("aria-expanded"),Z.twistie.classList.remove(...m.ThemeIcon.asClassNameArray(g.Codicon.treeItemExpanded));let q=!1;this.renderer.renderTwistie&&(q=this.renderer.renderTwistie(U.element,Z.twistie)),U.collapsible&&(!this.hideTwistiesOfChildlessElements||U.visibleChildrenCount>0)?(q||Z.twistie.classList.add(...m.ThemeIcon.asClassNameArray(g.Codicon.treeItemExpanded)),Z.twistie.classList.add("collapsible"),Z.twistie.classList.toggle("collapsed",U.collapsed)):Z.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(U,Z)}_renderIndentGuides(U,Z){if((0,L.clearNode)(Z.indent),Z.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const H=new l.DisposableStore,q=this.modelProvider();for(;;){const te=q.getNodeLocation(U),G=q.getParentNodeLocation(te);if(!G)break;const $=q.getNode(G),oe=(0,L.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has($)&&oe.classList.add("active"),Z.indent.childElementCount===0?Z.indent.appendChild(oe):Z.indent.insertBefore(oe,Z.indent.firstElementChild),this.renderedIndentGuides.add($,oe),H.add((0,l.toDisposable)(()=>this.renderedIndentGuides.delete($,oe))),U=$}Z.indentGuidesDisposable=H}_onDidChangeActiveNodes(U){if(!this.shouldRenderIndentGuides)return;const Z=new Set,H=this.modelProvider();U.forEach(q=>{const te=H.getNodeLocation(q);try{const G=H.getParentNodeLocation(te);q.collapsible&&q.children.length>0&&!q.collapsed?Z.add(q):G&&Z.add(H.getNode(G))}catch{}}),this.activeIndentNodes.forEach(q=>{Z.has(q)||this.renderedIndentGuides.forEach(q,te=>te.classList.remove("active"))}),Z.forEach(q=>{this.activeIndentNodes.has(q)||this.renderedIndentGuides.forEach(q,te=>te.classList.add("active"))}),this.activeIndentNodes=Z}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,l.dispose)(this.disposables)}}e.TreeRenderer=R,R.DefaultIndent=8;class M{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(U,Z,H){this.tree=U,this.keyboardNavigationLabelProvider=Z,this._filter=H,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new l.DisposableStore,U.onWillRefilter(this.reset,this,this.disposables)}filter(U,Z){let H=1;if(this._filter){const G=this._filter.filter(U,Z);if(typeof G=="boolean"?H=G?1:0:(0,a.isFilterResult)(G)?H=(0,a.getVisibleState)(G.visibility):H=G,H===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:s.FuzzyScore.Default,visibility:H};const q=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(U),te=Array.isArray(q)?q:[q];for(const G of te){const $=G&&G.toString();if(typeof $>"u")return{data:s.FuzzyScore.Default,visibility:H};let oe;if(this.tree.findMatchType===B.Contiguous){const ae=$.toLowerCase().indexOf(this._lowercasePattern);if(ae>-1){oe=[Number.MAX_SAFE_INTEGER,0];for(let ue=this._lowercasePattern.length;ue>0;ue--)oe.push(ae+ue-1)}}else oe=(0,s.fuzzyScore)(this._pattern,this._lowercasePattern,0,$,$.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(oe)return this._matchCount++,te.length===1?{data:oe,visibility:H}:{data:{label:$,score:oe},visibility:H}}return this.tree.findMode===O.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(U):2:{data:s.FuzzyScore.Default,visibility:H}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,l.dispose)(this.disposables)}}class N extends b.Toggle{constructor(U){var Z;super({icon:g.Codicon.listFilter,title:(0,u.localize)(0,null),isChecked:(Z=U.isChecked)!==null&&Z!==void 0?Z:!1,inputActiveOptionBorder:U.inputActiveOptionBorder,inputActiveOptionForeground:U.inputActiveOptionForeground,inputActiveOptionBackground:U.inputActiveOptionBackground})}}e.ModeToggle=N;class P extends b.Toggle{constructor(U){var Z;super({icon:g.Codicon.searchFuzzy,title:(0,u.localize)(1,null),isChecked:(Z=U.isChecked)!==null&&Z!==void 0?Z:!1,inputActiveOptionBorder:U.inputActiveOptionBorder,inputActiveOptionForeground:U.inputActiveOptionForeground,inputActiveOptionBackground:U.inputActiveOptionBackground})}}e.FuzzyToggle=P;const F={inputBoxStyles:p.unthemedInboxStyles,toggleStyles:b.unthemedToggleStyles,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var O;(function(Q){Q[Q.Highlight=0]="Highlight",Q[Q.Filter=1]="Filter"})(O||(e.TreeFindMode=O={}));var B;(function(Q){Q[Q.Fuzzy=0]="Fuzzy",Q[Q.Contiguous=1]="Contiguous"})(B||(e.TreeFindMatchType=B={}));class W extends l.Disposable{set mode(U){this.modeToggle.checked=U===O.Filter,this.findInput.inputBox.setPlaceHolder(U===O.Filter?(0,u.localize)(2,null):(0,u.localize)(3,null))}set matchType(U){this.matchTypeToggle.checked=U===B.Fuzzy}constructor(U,Z,H,q,te,G){var $;super(),this.tree=Z,this.elements=(0,L.h)(".monaco-tree-type-filter",[(0,L.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,L.h)(".monaco-tree-type-filter-input@findInput"),(0,L.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new d.Emitter,U.appendChild(this.elements.root),this._register((0,l.toDisposable)(()=>U.removeChild(this.elements.root)));const oe=($=G?.styles)!==null&&$!==void 0?$:F;oe.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=oe.listFilterWidgetBackground),oe.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${oe.listFilterWidgetShadow}`),this.modeToggle=this._register(new N({...oe.toggleStyles,isChecked:q===O.Filter})),this.matchTypeToggle=this._register(new P({...oe.toggleStyles,isChecked:te===B.Fuzzy})),this.onDidChangeMode=d.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?O.Filter:O.Highlight,this._store),this.onDidChangeMatchType=d.Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?B.Fuzzy:B.Contiguous,this._store),this.findInput=this._register(new S.FindInput(this.elements.findInput,H,{label:(0,u.localize)(4,null),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:oe.inputBoxStyles,toggleStyles:oe.toggleStyles,history:G?.history})),this.actionbar=this._register(new D.ActionBar(this.elements.actionbar)),this.mode=q;const ae=this._register(new k.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),ue=d.Event.chain(ae.event,Ce=>Ce.map(Se=>new y.StandardKeyboardEvent(Se)));this._register(ue(Ce=>{if(Ce.equals(3)){Ce.preventDefault(),Ce.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(Ce.equals(18)){Ce.preventDefault(),Ce.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(Ce.equals(16)){Ce.preventDefault(),Ce.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const ce=this._register(new i.Action("close",(0,u.localize)(5,null),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(ce,{icon:!0,label:!1});const fe=this._register(new k.DomEmitter(this.elements.grab,"mousedown"));this._register(fe.event(Ce=>{const Se=new l.DisposableStore,_e=Se.add(new k.DomEmitter((0,L.getWindow)(Ce),"mousemove")),Ie=Se.add(new k.DomEmitter((0,L.getWindow)(Ce),"mouseup")),Ne=this.right,Oe=Ce.pageX,xe=this.top,We=Ce.pageY;this.elements.grab.classList.add("grabbing");const ye=this.elements.root.style.transition;this.elements.root.style.transition="unset";const Me=me=>{const be=me.pageX-Oe;this.right=Ne-be;const Ae=me.pageY-We;this.top=xe+Ae,this.layout()};Se.add(_e.event(Me)),Se.add(Ie.event(me=>{Me(me),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=ye,Se.dispose()}))}));const ve=d.Event.chain(this._register(new k.DomEmitter(this.elements.grab,"keydown")).event,Ce=>Ce.map(Se=>new y.StandardKeyboardEvent(Se)));this._register(ve(Ce=>{let Se,_e;if(Ce.keyCode===15?Se=Number.POSITIVE_INFINITY:Ce.keyCode===17?Se=0:Ce.keyCode===10&&(Se=this.right===0?Number.POSITIVE_INFINITY:0),Ce.keyCode===16?_e=0:Ce.keyCode===18&&(_e=Number.POSITIVE_INFINITY),Se!==void 0&&(Ce.preventDefault(),Ce.stopPropagation(),this.right=Se,this.layout()),_e!==void 0){Ce.preventDefault(),Ce.stopPropagation(),this.top=_e;const Ie=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=Ie},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(U=this.width){this.width=U,this.right=(0,r.clamp)(this.right,0,Math.max(0,U-212)),this.elements.root.style.right=`${this.right}px`,this.top=(0,r.clamp)(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(U){this.findInput.showMessage(U)}clearMessage(){this.findInput.clearMessage()}async dispose(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),await(0,o.timeout)(300),super.dispose()}}class V{get pattern(){return this._pattern}get mode(){return this._mode}set mode(U){U!==this._mode&&(this._mode=U,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(U))}get matchType(){return this._matchType}set matchType(U){U!==this._matchType&&(this._matchType=U,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(U))}constructor(U,Z,H,q,te,G={}){var $,oe;this.tree=U,this.view=H,this.filter=q,this.contextViewProvider=te,this.options=G,this._pattern="",this.width=0,this._onDidChangeMode=new d.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new d.Emitter,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new d.Emitter,this._onDidChangeOpenState=new d.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new l.DisposableStore,this.disposables=new l.DisposableStore,this._mode=($=U.options.defaultFindMode)!==null&&$!==void 0?$:O.Highlight,this._matchType=(oe=U.options.defaultFindMatchType)!==null&&oe!==void 0?oe:B.Fuzzy,Z.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(U={}){U.defaultFindMode!==void 0&&(this.mode=U.defaultFindMode),U.defaultFindMatchType!==void 0&&(this.matchType=U.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var U,Z,H,q;const te=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&te?!((U=this.tree.options.showNotFoundMessage)!==null&&U!==void 0)||U?(Z=this.widget)===null||Z===void 0||Z.showMessage({type:2,content:(0,u.localize)(6,null)}):(H=this.widget)===null||H===void 0||H.showMessage({type:2}):(q=this.widget)===null||q===void 0||q.clearMessage()}shouldAllowFocus(U){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!s.FuzzyScore.isDefault(U.filterData)}layout(U){var Z;this.width=U,(Z=this.widget)===null||Z===void 0||Z.layout(U)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function z(Q,U){return Q.position===U.position&&K(Q,U)}function K(Q,U){return Q.node.element===U.node.element&&Q.startIndex===U.startIndex&&Q.height===U.height&&Q.endIndex===U.endIndex}class j{constructor(U=[]){this.stickyNodes=U}get count(){return this.stickyNodes.length}equal(U){return(0,t.equals)(this.stickyNodes,U.stickyNodes,z)}lastNodePartiallyVisible(){if(this.count===0)return!1;const U=this.stickyNodes[this.count-1];if(this.count===1)return U.position!==0;const Z=this.stickyNodes[this.count-2];return Z.position+Z.height!==U.position}animationStateChanged(U){if(!(0,t.equals)(this.stickyNodes,U.stickyNodes,K)||this.count===0)return!1;const Z=this.stickyNodes[this.count-1],H=U.stickyNodes[U.count-1];return Z.position!==H.position}}class x{constrainStickyScrollNodes(U,Z,H){for(let q=0;q<U.length;q++){const te=U[q];if(te.position+te.height>H||q>=Z)return U.slice(0,q)}return U}}class re extends l.Disposable{constructor(U,Z,H,q,te,G={}){var $;super(),this.tree=U,this.model=Z,this.view=H,this.treeDelegate=te,this.maxWidgetViewRatio=.4;const oe=this.validateStickySettings(G);this.stickyScrollMaxItemCount=oe.stickyScrollMaxItemCount,this.stickyScrollDelegate=($=G.stickyScrollDelegate)!==null&&$!==void 0?$:new x,this._widget=this._register(new ie(H.getScrollableElement(),H,U,q,te,G.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(H.onDidScroll(()=>this.update())),this._register(H.onDidChangeContentHeight(()=>this.update())),this._register(U.onDidChangeCollapseState(()=>this.update())),this.update()}getNodeAtHeight(U){let Z;if(U===0?Z=this.view.firstVisibleIndex:Z=this.view.indexAt(U+this.view.scrollTop),!(Z<0||Z>=this.view.length))return this.view.element(Z)}update(){const U=this.getNodeAtHeight(0);if(!U||this.tree.scrollTop===0){this._widget.setState(void 0);return}const Z=this.findStickyState(U);this._widget.setState(Z)}findStickyState(U){const Z=[];let H=U,q=0,te=this.getNextStickyNode(H,void 0,q);for(;te&&(Z.push(te),q+=te.height,!(Z.length<=this.stickyScrollMaxItemCount&&(H=this.getNextVisibleNode(te),!H)));)te=this.getNextStickyNode(H,te.node,q);const G=this.constrainStickyNodes(Z);return G.length?new j(G):void 0}getNextVisibleNode(U){return this.getNodeAtHeight(U.position+U.height)}getNextStickyNode(U,Z,H){const q=this.getAncestorUnderPrevious(U,Z);if(q&&!(q===U&&(!this.nodeIsUncollapsedParent(U)||this.nodeTopAlignsWithStickyNodesBottom(U,H))))return this.createStickyScrollNode(q,H)}nodeTopAlignsWithStickyNodesBottom(U,Z){const H=this.getNodeIndex(U),q=this.view.getElementTop(H),te=Z;return this.view.scrollTop===q-te}createStickyScrollNode(U,Z){const H=this.treeDelegate.getHeight(U),{startIndex:q,endIndex:te}=this.getNodeRange(U),G=this.calculateStickyNodePosition(te,Z,H);return{node:U,position:G,height:H,startIndex:q,endIndex:te}}getAncestorUnderPrevious(U,Z=void 0){let H=U,q=this.getParentNode(H);for(;q;){if(q===Z)return H;H=q,q=this.getParentNode(H)}if(Z===void 0)return H}calculateStickyNodePosition(U,Z,H){let q=this.view.getRelativeTop(U);if(q===null&&this.view.firstVisibleIndex===U&&U+1<this.view.length){const ae=this.treeDelegate.getHeight(this.view.element(U)),ue=this.view.getRelativeTop(U+1);q=ue?ue-ae/this.view.renderHeight:null}if(q===null)return Z;const te=this.view.element(U),G=this.treeDelegate.getHeight(te),oe=q*this.view.renderHeight+G;return Z+H>oe&&Z<=oe?oe-H:Z}constrainStickyNodes(U){if(U.length===0)return[];const Z=this.view.renderHeight*this.maxWidgetViewRatio,H=U[U.length-1];if(U.length<=this.stickyScrollMaxItemCount&&H.position+H.height<=Z)return U;const q=this.stickyScrollDelegate.constrainStickyScrollNodes(U,this.stickyScrollMaxItemCount,Z);if(!q.length)return[];const te=q[q.length-1];if(q.length>this.stickyScrollMaxItemCount||te.position+te.height>Z)throw new Error("stickyScrollDelegate violates constraints");return q}getParentNode(U){const Z=this.model.getNodeLocation(U),H=this.model.getParentNodeLocation(Z);return H?this.model.getNode(H):void 0}nodeIsUncollapsedParent(U){const Z=this.model.getNodeLocation(U);return this.model.getListRenderCount(Z)>1}getNodeIndex(U){const Z=this.model.getNodeLocation(U);return this.model.getListIndex(Z)}getNodeRange(U){const Z=this.model.getNodeLocation(U),H=this.model.getListIndex(Z);if(H<0)throw new Error("Node not found in tree");const q=this.model.getListRenderCount(Z),te=H+q-1;return{startIndex:H,endIndex:te}}nodePositionTopBelowWidget(U){const Z=[];let H=this.getParentNode(U);for(;H;)Z.push(H),H=this.getParentNode(H);let q=0;for(let te=0;te<Z.length&&te<this.stickyScrollMaxItemCount;te++)q+=this.treeDelegate.getHeight(Z[te]);return q}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(U={}){if(!U.stickyScrollMaxItemCount)return;const Z=this.validateStickySettings(U);this.stickyScrollMaxItemCount!==Z.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=Z.stickyScrollMaxItemCount,this.update())}validateStickySettings(U){let Z=7;return typeof U.stickyScrollMaxItemCount=="number"&&(Z=Math.max(U.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:Z}}}class ie{constructor(U,Z,H,q,te,G){this.view=Z,this.tree=H,this.treeRenderers=q,this.treeDelegate=te,this.accessibilityProvider=G,this._previousElements=[],this._previousStateDisposables=new l.DisposableStore,this._rootDomNode=(0,L.$)(".monaco-tree-sticky-container.empty"),U.appendChild(this._rootDomNode);const $=(0,L.$)(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild($),this.stickyScrollFocus=new J(this._rootDomNode,Z),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}setState(U){const Z=!!this._previousState&&this._previousState.count>0,H=!!U&&U.count>0;if(!Z&&!H||Z&&H&&this._previousState.equal(U))return;if(Z!==H&&this.setVisible(H),!H){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const q=U.stickyNodes[U.count-1];if(this._previousState&&U.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${q.position}px`;else{this._previousStateDisposables.clear();const te=Array(U.count);for(let G=U.count-1;G>=0;G--){const $=U.stickyNodes[G],{element:oe,disposable:ae}=this.createElement($,G,U.count);te[G]=oe,this._rootDomNode.appendChild(oe),this._previousStateDisposables.add(ae)}this.stickyScrollFocus.updateElements(te,U),this._previousElements=te}this._previousState=U,this._rootDomNode.style.height=`${q.position+q.height}px`}createElement(U,Z,H){const q=U.startIndex,te=document.createElement("div");te.style.top=`${U.position}px`,te.style.height=`${U.height}px`,te.style.lineHeight=`${U.height}px`,te.classList.add("monaco-tree-sticky-row"),te.classList.add("monaco-list-row"),te.setAttribute("data-index",`${q}`),te.setAttribute("data-parity",q%2===0?"even":"odd"),te.setAttribute("id",this.view.getElementID(q)),this.setAccessibilityAttributes(te,U.node.element,Z,H);const G=this.treeDelegate.getTemplateId(U.node),$=this.treeRenderers.find(ce=>ce.templateId===G);if(!$)throw new Error(`No renderer found for template id ${G}`);let oe=U.node;oe===this.tree.getNode(this.tree.getNodeLocation(U.node))&&(oe=new Proxy(U.node,{}));const ae=$.renderTemplate(te);$.renderElement(oe,U.startIndex,ae,U.height);const ue=(0,l.toDisposable)(()=>{$.disposeElement(oe,U.startIndex,ae,U.height),$.disposeTemplate(ae),te.remove()});return{element:te,disposable:ue}}setAccessibilityAttributes(U,Z,H,q){var te;if(!this.accessibilityProvider)return;this.accessibilityProvider.getSetSize&&U.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(Z,H,q))),this.accessibilityProvider.getPosInSet&&U.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(Z,H))),this.accessibilityProvider.getRole&&U.setAttribute("role",(te=this.accessibilityProvider.getRole(Z))!==null&&te!==void 0?te:"treeitem");const G=this.accessibilityProvider.getAriaLabel(Z);G&&U.setAttribute("aria-label",G);const $=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(Z);typeof $=="number"&&U.setAttribute("aria-level",`${$}`),U.setAttribute("aria-selected",String(!1))}setVisible(U){this._rootDomNode.classList.toggle("empty",!U),U||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class J extends l.Disposable{get domHasFocus(){return this._domHasFocus}set domHasFocus(U){U!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(U),this._domHasFocus=U)}constructor(U,Z){super(),this.container=U,this.view=Z,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new d.Emitter,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new d.Emitter,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",()=>this.onFocus()),this.container.addEventListener("blur",()=>this.onBlur()),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(H=>this.onKeyDown(H))),this._register(this.view.onMouseDown(H=>this.onMouseDown(H))),this._register(this.view.onContextMenu(H=>this.handleContextMenu(H)))}handleContextMenu(U){const Z=U.browserEvent.target;if(!(0,v.isStickyScrollContainer)(Z)&&!(0,v.isStickyScrollElement)(Z)){this.focusedLast()&&this.view.domFocus();return}if(!(0,L.isKeyboardEvent)(U.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const G=this.state.stickyNodes.findIndex($=>{var oe;return $.node.element===((oe=U.element)===null||oe===void 0?void 0:oe.element)});if(G===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(G);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const q=this.state.stickyNodes[this.focusedIndex].node.element,te=this.elements[this.focusedIndex];this._onContextMenu.fire({element:q,anchor:te,browserEvent:U.browserEvent,isStickyScroll:!0})}onKeyDown(U){if(this.domHasFocus&&this.state){if(U.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),U.preventDefault(),U.stopPropagation();else if(U.key==="ArrowDown"||U.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const Z=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([Z]),this.scrollNodeUnderWidget(Z,this.state)}else this.setFocusedElement(this.focusedIndex+1);U.preventDefault(),U.stopPropagation()}}}onMouseDown(U){const Z=U.browserEvent.target;!(0,v.isStickyScrollContainer)(Z)&&!(0,v.isStickyScrollElement)(Z)||(U.browserEvent.preventDefault(),U.browserEvent.stopPropagation())}updateElements(U,Z){if(Z&&Z.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(Z&&Z.count!==U.length)throw new Error("Sticky scroll focus received illigel state");const H=this.focusedIndex;if(this.removeFocus(),this.elements=U,this.state=Z,Z){const q=(0,r.clamp)(H,0,Z.count-1);this.setFocus(q)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=Z?0:-1}setFocusedElement(U){const Z=this.state;if(!Z)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(U),!(U<Z.count-1)&&Z.lastNodePartiallyVisible()){const H=Z.stickyNodes[U];this.scrollNodeUnderWidget(H.endIndex+1,Z)}}scrollNodeUnderWidget(U,Z){const H=Z.stickyNodes[Z.count-1],q=Z.count>1?Z.stickyNodes[Z.count-2]:void 0,te=this.view.getElementTop(U),G=q?q.position+q.height+H.height:H.height;this.view.scrollTop=te-G}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(U){if(0>U)throw new Error("addFocus() can not remove focus");if(!this.state&&U>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&U>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const Z=this.focusedIndex;Z>=0&&this.toggleElementFocus(this.elements[Z],!1),U>=0&&this.toggleElementFocus(this.elements[U],!0),this.focusedIndex=U}toggleElementFocus(U,Z){U.classList.toggle("focused",Z)}toggleStickyScrollFocused(U){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",U)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function X(Q){let U=n.TreeMouseEventTarget.Unknown;return(0,L.hasParentWithClass)(Q.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?U=n.TreeMouseEventTarget.Twistie:(0,L.hasParentWithClass)(Q.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?U=n.TreeMouseEventTarget.Element:(0,L.hasParentWithClass)(Q.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(U=n.TreeMouseEventTarget.Filter),{browserEvent:Q.browserEvent,element:Q.element?Q.element.element:null,target:U}}function Y(Q,U){U(Q),Q.children.forEach(Z=>Y(Z,U))}class le{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(U,Z){this.getFirstViewElementWithTrait=U,this.identityProvider=Z,this.nodes=[],this._onDidChange=new d.Emitter,this.onDidChange=this._onDidChange.event}set(U,Z){!Z?.__forceEvent&&(0,t.equals)(this.nodes,U)||this._set(U,!1,Z)}_set(U,Z,H){if(this.nodes=[...U],this.elements=void 0,this._nodeSet=void 0,!Z){const q=this;this._onDidChange.fire({get elements(){return q.get()},browserEvent:H})}}get(){return this.elements||(this.elements=this.nodes.map(U=>U.element)),[...this.elements]}getNodes(){return this.nodes}has(U){return this.nodeSet.has(U)}onDidModelSplice({insertedNodes:U,deletedNodes:Z}){if(!this.identityProvider){const oe=this.createNodeSet(),ae=ue=>oe.delete(ue);Z.forEach(ue=>Y(ue,ae)),this.set([...oe.values()]);return}const H=new Set,q=oe=>H.add(this.identityProvider.getId(oe.element).toString());Z.forEach(oe=>Y(oe,q));const te=new Map,G=oe=>te.set(this.identityProvider.getId(oe.element).toString(),oe);U.forEach(oe=>Y(oe,G));const $=[];for(const oe of this.nodes){const ae=this.identityProvider.getId(oe.element).toString();if(!H.has(ae))$.push(oe);else{const ce=te.get(ae);ce&&ce.visible&&$.push(ce)}}if(this.nodes.length>0&&$.length===0){const oe=this.getFirstViewElementWithTrait();oe&&$.push(oe)}this._set($,!0)}createNodeSet(){const U=new Set;for(const Z of this.nodes)U.add(Z);return U}}class de extends v.MouseController{constructor(U,Z,H){super(U),this.tree=Z,this.stickyScrollProvider=H}onViewPointer(U){if((0,v.isButton)(U.browserEvent.target)||(0,v.isInputElement)(U.browserEvent.target)||(0,v.isMonacoEditor)(U.browserEvent.target)||U.browserEvent.isHandledByList)return;const Z=U.element;if(!Z)return super.onViewPointer(U);if(this.isSelectionRangeChangeEvent(U)||this.isSelectionSingleChangeEvent(U))return super.onViewPointer(U);const H=U.browserEvent.target,q=H.classList.contains("monaco-tl-twistie")||H.classList.contains("monaco-icon-label")&&H.classList.contains("folder-icon")&&U.browserEvent.offsetX<16,te=(0,v.isStickyScrollElement)(U.browserEvent.target);let G=!1;if(te?G=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?G=this.tree.expandOnlyOnTwistieClick(Z.element):G=!!this.tree.expandOnlyOnTwistieClick,te)this.handleStickyScrollMouseEvent(U,Z);else{if(G&&!q&&U.browserEvent.detail!==2)return super.onViewPointer(U);if(!this.tree.expandOnDoubleClick&&U.browserEvent.detail===2)return super.onViewPointer(U)}if(Z.collapsible&&(!te||q)){const $=this.tree.getNodeLocation(Z),oe=U.browserEvent.altKey;if(this.tree.setFocus([$]),this.tree.toggleCollapsed($,oe),G&&q){U.browserEvent.isHandledByList=!0;return}}te||super.onViewPointer(U)}handleStickyScrollMouseEvent(U,Z){if((0,v.isMonacoCustomToggle)(U.browserEvent.target)||(0,v.isActionItem)(U.browserEvent.target))return;const H=this.stickyScrollProvider();if(!H)throw new Error("Sticky scroll controller not found");const q=this.list.indexOf(Z),te=this.list.getElementTop(q),G=H.nodePositionTopBelowWidget(Z);this.tree.scrollTop=te-G,this.list.domFocus(),this.list.setFocus([q]),this.list.setSelection([q])}onDoubleClick(U){U.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||U.browserEvent.isHandledByList||super.onDoubleClick(U)}onMouseDown(U){const Z=U.browserEvent.target;if(!(0,v.isStickyScrollContainer)(Z)&&!(0,v.isStickyScrollElement)(Z)){super.onMouseDown(U);return}}onContextMenu(U){const Z=U.browserEvent.target;if(!(0,v.isStickyScrollContainer)(Z)&&!(0,v.isStickyScrollElement)(Z)){super.onContextMenu(U);return}}}class ge extends v.List{constructor(U,Z,H,q,te,G,$,oe){super(U,Z,H,q,oe),this.focusTrait=te,this.selectionTrait=G,this.anchorTrait=$}createMouseController(U){return new de(this,U.tree,U.stickyScrollProvider)}splice(U,Z,H=[]){if(super.splice(U,Z,H),H.length===0)return;const q=[],te=[];let G;H.forEach(($,oe)=>{this.focusTrait.has($)&&q.push(U+oe),this.selectionTrait.has($)&&te.push(U+oe),this.anchorTrait.has($)&&(G=U+oe)}),q.length>0&&super.setFocus((0,t.distinct)([...super.getFocus(),...q])),te.length>0&&super.setSelection((0,t.distinct)([...super.getSelection(),...te])),typeof G=="number"&&super.setAnchor(G)}setFocus(U,Z,H=!1){super.setFocus(U,Z),H||this.focusTrait.set(U.map(q=>this.element(q)),Z)}setSelection(U,Z,H=!1){super.setSelection(U,Z),H||this.selectionTrait.set(U.map(q=>this.element(q)),Z)}setAnchor(U,Z=!1){super.setAnchor(U),Z||(typeof U>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(U)]))}}class pe{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return d.Event.filter(d.Event.map(this.view.onMouseDblClick,X),U=>U.target!==n.TreeMouseEventTarget.Filter)}get onPointer(){return d.Event.map(this.view.onPointer,X)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return d.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var U,Z;return(Z=(U=this.findController)===null||U===void 0?void 0:U.mode)!==null&&Z!==void 0?Z:O.Highlight}set findMode(U){this.findController&&(this.findController.mode=U)}get findMatchType(){var U,Z;return(Z=(U=this.findController)===null||U===void 0?void 0:U.matchType)!==null&&Z!==void 0?Z:B.Fuzzy}set findMatchType(U){this.findController&&(this.findController.matchType=U)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(U,Z,H,q,te={}){var G;this._user=U,this._options=te,this.eventBufferer=new d.EventBufferer,this.onDidChangeFindOpenState=d.Event.None,this.onDidChangeStickyScrollFocused=d.Event.None,this.disposables=new l.DisposableStore,this._onWillRefilter=new d.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new d.Emitter,this.treeDelegate=new I(H);const $=new d.Relay,oe=new d.Relay,ae=this.disposables.add(new A(oe.event)),ue=new c.SetMap;this.renderers=q.map(Se=>new R(Se,()=>this.model,$.event,ae,ue,te));for(const Se of this.renderers)this.disposables.add(Se);let ce;te.keyboardNavigationLabelProvider&&(ce=new M(this,te.keyboardNavigationLabelProvider,te.filter),te={...te,filter:ce},this.disposables.add(ce)),this.focus=new le(()=>this.view.getFocusedElements()[0],te.identityProvider),this.selection=new le(()=>this.view.getSelectedElements()[0],te.identityProvider),this.anchor=new le(()=>this.view.getAnchorElement(),te.identityProvider),this.view=new ge(U,Z,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...E(()=>this.model,te),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(U,this.view,te),$.input=this.model.onDidChangeCollapseState;const fe=d.Event.forEach(this.model.onDidSplice,Se=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Se),this.selection.onDidModelSplice(Se)})},this.disposables);fe(()=>null,null,this.disposables);const ve=this.disposables.add(new d.Emitter),Ce=this.disposables.add(new o.Delayer(0));if(this.disposables.add(d.Event.any(fe,this.focus.onDidChange,this.selection.onDidChange)(()=>{Ce.trigger(()=>{const Se=new Set;for(const _e of this.focus.getNodes())Se.add(_e);for(const _e of this.selection.getNodes())Se.add(_e);ve.fire([...Se.values()])})})),oe.input=ve.event,te.keyboardSupport!==!1){const Se=d.Event.chain(this.view.onKeyDown,_e=>_e.filter(Ie=>!(0,v.isInputElement)(Ie.target)).map(Ie=>new y.StandardKeyboardEvent(Ie)));d.Event.chain(Se,_e=>_e.filter(Ie=>Ie.keyCode===15))(this.onLeftArrow,this,this.disposables),d.Event.chain(Se,_e=>_e.filter(Ie=>Ie.keyCode===17))(this.onRightArrow,this,this.disposables),d.Event.chain(Se,_e=>_e.filter(Ie=>Ie.keyCode===10))(this.onSpace,this,this.disposables)}if((!((G=te.findWidgetEnabled)!==null&&G!==void 0)||G)&&te.keyboardNavigationLabelProvider&&te.contextViewProvider){const Se=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new V(this,this.model,this.view,ce,te.contextViewProvider,Se),this.focusNavigationFilter=_e=>this.findController.shouldAllowFocus(_e),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=d.Event.None,this.onDidChangeFindMatchType=d.Event.None;te.enableStickyScroll&&(this.stickyScrollController=new re(this,this.model,this.view,this.renderers,this.treeDelegate,te),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=(0,L.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===T.Always)}updateOptions(U={}){var Z;this._options={...this._options,...U};for(const H of this.renderers)H.updateOptions(U);this.view.updateOptions(this._options),(Z=this.findController)===null||Z===void 0||Z.updateOptions(U),this.updateStickyScroll(U),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===T.Always)}get options(){return this._options}updateStickyScroll(U){var Z;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new re(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=d.Event.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(Z=this.stickyScrollController)===null||Z===void 0||Z.updateOptions(U)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(U){this.view.scrollTop=U}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){var U;!((U=this.stickyScrollController)===null||U===void 0)&&U.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(U,Z){var H;this.view.layout(U,Z),(0,h.isNumber)(Z)&&((H=this.findController)===null||H===void 0||H.layout(Z))}style(U){var Z;const H=`.${this.view.domId}`,q=[];U.treeIndentGuidesStroke&&(q.push(`.monaco-list${H}:hover .monaco-tl-indent > .indent-guide, .monaco-list${H}.always .monaco-tl-indent > .indent-guide  { border-color: ${U.treeInactiveIndentGuidesStroke}; }`),q.push(`.monaco-list${H} .monaco-tl-indent > .indent-guide.active { border-color: ${U.treeIndentGuidesStroke}; }`)),U.listBackground&&(q.push(`.monaco-list${H} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${U.listBackground}; }`),q.push(`.monaco-list${H} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${U.listBackground}; }`)),U.listFocusForeground&&(q.push(`.monaco-list${H}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${U.listFocusForeground}; }`),q.push(`.monaco-list${H}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const te=(0,L.asCssValueWithDefault)(U.listFocusAndSelectionOutline,(0,L.asCssValueWithDefault)(U.listSelectionOutline,(Z=U.listFocusOutline)!==null&&Z!==void 0?Z:""));te&&(q.push(`.monaco-list${H}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${te}; outline-offset: -1px;}`),q.push(`.monaco-list${H}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),U.listFocusOutline&&(q.push(`.monaco-list${H}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${U.listFocusOutline}; outline-offset: -1px; }`),q.push(`.monaco-list${H}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),q.push(`.monaco-workbench.context-menu-visible .monaco-list${H}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),q.push(`.monaco-workbench.context-menu-visible .monaco-list${H}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=q.join(`
`),this.view.style(U)}getParentElement(U){const Z=this.model.getParentNodeLocation(U);return this.model.getNode(Z).element}getFirstElementChild(U){return this.model.getFirstElementChild(U)}getNode(U){return this.model.getNode(U)}getNodeLocation(U){return this.model.getNodeLocation(U)}collapse(U,Z=!1){return this.model.setCollapsed(U,!0,Z)}expand(U,Z=!1){return this.model.setCollapsed(U,!1,Z)}toggleCollapsed(U,Z=!1){return this.model.setCollapsed(U,void 0,Z)}isCollapsible(U){return this.model.isCollapsible(U)}setCollapsible(U,Z){return this.model.setCollapsible(U,Z)}isCollapsed(U){return this.model.isCollapsed(U)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(U,Z){this.eventBufferer.bufferEvents(()=>{const H=U.map(te=>this.model.getNode(te));this.selection.set(H,Z);const q=U.map(te=>this.model.getListIndex(te)).filter(te=>te>-1);this.view.setSelection(q,Z,!0)})}getSelection(){return this.selection.get()}setFocus(U,Z){this.eventBufferer.bufferEvents(()=>{const H=U.map(te=>this.model.getNode(te));this.focus.set(H,Z);const q=U.map(te=>this.model.getListIndex(te)).filter(te=>te>-1);this.view.setFocus(q,Z,!0)})}getFocus(){return this.focus.get()}reveal(U,Z){this.model.expandTo(U);const H=this.model.getListIndex(U);if(H!==-1)if(!this.stickyScrollController)this.view.reveal(H,Z);else{const q=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(U));this.view.reveal(H,Z,q)}}onLeftArrow(U){U.preventDefault(),U.stopPropagation();const Z=this.view.getFocusedElements();if(Z.length===0)return;const H=Z[0],q=this.model.getNodeLocation(H);if(!this.model.setCollapsed(q,!0)){const G=this.model.getParentNodeLocation(q);if(!G)return;const $=this.model.getListIndex(G);this.view.reveal($),this.view.setFocus([$])}}onRightArrow(U){U.preventDefault(),U.stopPropagation();const Z=this.view.getFocusedElements();if(Z.length===0)return;const H=Z[0],q=this.model.getNodeLocation(H);if(!this.model.setCollapsed(q,!1)){if(!H.children.some(oe=>oe.visible))return;const[G]=this.view.getFocus(),$=G+1;this.view.reveal($),this.view.setFocus([$])}}onSpace(U){U.preventDefault(),U.stopPropagation();const Z=this.view.getFocusedElements();if(Z.length===0)return;const H=Z[0],q=this.model.getNodeLocation(H),te=U.browserEvent.altKey;this.model.setCollapsed(q,void 0,te)}dispose(){var U;(0,l.dispose)(this.disposables),(U=this.stickyScrollController)===null||U===void 0||U.dispose(),this.view.dispose()}}e.AbstractTree=pe}),define(ne[611],se([1,0,192,227]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class y extends L.AbstractTree{constructor(S,p,w,v,b,a={}){super(S,p,w,v,a),this.user=S,this.dataSource=b,this.identityProvider=a.identityProvider}createModel(S,p,w){return new k.ObjectTreeModel(S,p,w)}}e.DataTree=y}),define(ne[332],se([1,0,192,594,227,111,52]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class p extends L.AbstractTree{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(i,t,o,g,m={}){super(i,t,o,g,m),this.user=i}setChildren(i,t=S.Iterable.empty(),o){this.model.setChildren(i,t,o)}rerender(i){if(i===void 0){this.view.rerender();return}this.model.rerender(i)}hasElement(i){return this.model.has(i)}createModel(i,t,o){return new y.ObjectTreeModel(i,t,o)}}e.ObjectTree=p;class w{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(i,t,o){this._compressedTreeNodeProvider=i,this.stickyScrollDelegate=t,this.renderer=o,this.templateId=o.templateId,o.onDidChangeTwistieState&&(this.onDidChangeTwistieState=o.onDidChangeTwistieState)}renderTemplate(i){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(i)}}renderElement(i,t,o,g){let m=this.stickyScrollDelegate.getCompressedNode(i);m||(m=this.compressedTreeNodeProvider.getCompressedTreeNode(i.element)),m.element.elements.length===1?(o.compressedTreeNode=void 0,this.renderer.renderElement(i,t,o.data,g)):(o.compressedTreeNode=m,this.renderer.renderCompressedElements(m,t,o.data,g))}disposeElement(i,t,o,g){var m,c,d,s;o.compressedTreeNode?(c=(m=this.renderer).disposeCompressedElements)===null||c===void 0||c.call(m,o.compressedTreeNode,t,o.data,g):(s=(d=this.renderer).disposeElement)===null||s===void 0||s.call(d,i,t,o.data,g)}disposeTemplate(i){this.renderer.disposeTemplate(i.data)}renderTwistie(i,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(i,t):!1}}De([D.memoize],w.prototype,"compressedTreeNodeProvider",null);class v{constructor(i){this.modelProvider=i,this.compressedStickyNodes=new Map}getCompressedNode(i){return this.compressedStickyNodes.get(i)}constrainStickyScrollNodes(i,t,o){if(this.compressedStickyNodes.clear(),i.length===0)return[];for(let g=0;g<i.length;g++){const m=i[g],c=m.position+m.height;if(g+1<i.length&&c+i[g+1].height>o||g>=t-1&&t<i.length){const s=i.slice(0,g),l=i.slice(g),r=this.compressStickyNodes(l);return[...s,r]}}return i}compressStickyNodes(i){if(i.length===0)throw new Error("Can't compress empty sticky nodes");if(!this.modelProvider().isCompressionEnabled())return i[0];const t=[];for(const s of i){const l=this.modelProvider().getCompressedTreeNode(s.node.element);if(l.element){if(l.element.incompressible)break;t.push(...l.element.elements)}}if(t.length<2)return i[0];const o=i[i.length-1],g={elements:t,incompressible:!1},m={...o.node,children:[],element:g},c=new Proxy(i[0].node,{}),d={node:c,startIndex:i[0].startIndex,endIndex:o.endIndex,position:i[0].position,height:i[0].height};return this.compressedStickyNodes.set(c,m),d}}function b(n,i){return i&&{...i,keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let o;try{o=n().getCompressedTreeNode(t)}catch{return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return o.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(o.element.elements)}}}}class a extends p{constructor(i,t,o,g,m={}){const c=()=>this,d=new v(()=>this.model),s=g.map(l=>new w(c,d,l));super(i,t,o,s,{...b(c,m),stickyScrollDelegate:d})}setChildren(i,t=S.Iterable.empty(),o){this.model.setChildren(i,t,o)}createModel(i,t,o){return new k.CompressibleObjectTreeModel(i,t,o)}updateOptions(i={}){super.updateOptions(i),typeof i.compressionEnabled<"u"&&this.model.setCompressionEnabled(i.compressionEnabled)}getCompressedTreeNode(i=null){return this.model.getCompressedTreeNode(i)}}e.CompressibleObjectTree=a}),define(ne[612],se([1,0,234,192,226,332,148,15,27,29,12,7,52,2,20]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function o(M){return{...M,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function g(M,N){return N.parent?N.parent===M?!0:g(M,N.parent):!1}function m(M,N){return M===N||g(M,N)||g(N,M)}class c{get element(){return this.node.element.element}get children(){return this.node.children.map(N=>new c(N))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(N){this.node=N}}class d{constructor(N,P,F){this.renderer=N,this.nodeMapper=P,this.onDidChangeTwistieState=F,this.renderedNodes=new Map,this.templateId=N.templateId}renderTemplate(N){return{templateData:this.renderer.renderTemplate(N)}}renderElement(N,P,F,O){this.renderer.renderElement(this.nodeMapper.map(N),P,F.templateData,O)}renderTwistie(N,P){return N.slow?(P.classList.add(...v.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!0):(P.classList.remove(...v.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!1)}disposeElement(N,P,F,O){var B,W;(W=(B=this.renderer).disposeElement)===null||W===void 0||W.call(B,this.nodeMapper.map(N),P,F.templateData,O)}disposeTemplate(N){this.renderer.disposeTemplate(N.templateData)}dispose(){this.renderedNodes.clear()}}function s(M){return{browserEvent:M.browserEvent,elements:M.elements.map(N=>N.element)}}function l(M){return{browserEvent:M.browserEvent,element:M.element&&M.element.element,target:M.target}}class r extends L.ElementsDragAndDropData{constructor(N){super(N.elements.map(P=>P.element)),this.data=N}}function h(M){return M instanceof L.ElementsDragAndDropData?new r(M):M}class u{constructor(N){this.dnd=N}getDragURI(N){return this.dnd.getDragURI(N.element)}getDragLabel(N,P){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(N.map(F=>F.element),P)}onDragStart(N,P){var F,O;(O=(F=this.dnd).onDragStart)===null||O===void 0||O.call(F,h(N),P)}onDragOver(N,P,F,O,B,W=!0){return this.dnd.onDragOver(h(N),P&&P.element,F,O,B)}drop(N,P,F,O,B){this.dnd.drop(h(N),P&&P.element,F,O,B)}onDragEnd(N){var P,F;(F=(P=this.dnd).onDragEnd)===null||F===void 0||F.call(P,N)}dispose(){this.dnd.dispose()}}function f(M){return M&&{...M,collapseByDefault:!0,identityProvider:M.identityProvider&&{getId(N){return M.identityProvider.getId(N.element)}},dnd:M.dnd&&new u(M.dnd),multipleSelectionController:M.multipleSelectionController&&{isSelectionSingleChangeEvent(N){return M.multipleSelectionController.isSelectionSingleChangeEvent({...N,element:N.element})},isSelectionRangeChangeEvent(N){return M.multipleSelectionController.isSelectionRangeChangeEvent({...N,element:N.element})}},accessibilityProvider:M.accessibilityProvider&&{...M.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:M.accessibilityProvider.getRole?N=>M.accessibilityProvider.getRole(N.element):()=>"treeitem",isChecked:M.accessibilityProvider.isChecked?N=>{var P;return!!(!((P=M.accessibilityProvider)===null||P===void 0)&&P.isChecked(N.element))}:void 0,getAriaLabel(N){return M.accessibilityProvider.getAriaLabel(N.element)},getWidgetAriaLabel(){return M.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:M.accessibilityProvider.getWidgetRole?()=>M.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:M.accessibilityProvider.getAriaLevel&&(N=>M.accessibilityProvider.getAriaLevel(N.element)),getActiveDescendantId:M.accessibilityProvider.getActiveDescendantId&&(N=>M.accessibilityProvider.getActiveDescendantId(N.element))},filter:M.filter&&{filter(N,P){return M.filter.filter(N.element,P)}},keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&{...M.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(N){return M.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(N.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof M.expandOnlyOnTwistieClick>"u"?void 0:typeof M.expandOnlyOnTwistieClick!="function"?M.expandOnlyOnTwistieClick:N=>M.expandOnlyOnTwistieClick(N.element),defaultFindVisibility:N=>N.hasChildren&&N.stale?1:typeof M.defaultFindVisibility=="number"?M.defaultFindVisibility:typeof M.defaultFindVisibility>"u"?2:M.defaultFindVisibility(N.element)}}function C(M,N){N(M),M.children.forEach(P=>C(P,N))}class _{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return a.Event.map(this.tree.onDidChangeFocus,s)}get onDidChangeSelection(){return a.Event.map(this.tree.onDidChangeSelection,s)}get onMouseDblClick(){return a.Event.map(this.tree.onMouseDblClick,l)}get onPointer(){return a.Event.map(this.tree.onPointer,l)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(N,P,F,O,B,W={}){this.user=N,this.dataSource=B,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new a.Emitter,this._onDidChangeNodeSlowState=new a.Emitter,this.nodeMapper=new S.WeakMapper(V=>new c(V)),this.disposables=new i.DisposableStore,this.identityProvider=W.identityProvider,this.autoExpandSingleChildren=typeof W.autoExpandSingleChildren>"u"?!1:W.autoExpandSingleChildren,this.sorter=W.sorter,this.getDefaultCollapseState=V=>W.collapseByDefault?W.collapseByDefault(V)?S.ObjectTreeElementCollapseState.PreserveOrCollapsed:S.ObjectTreeElementCollapseState.PreserveOrExpanded:void 0,this.tree=this.createTree(N,P,F,O,W),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=o({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(N,P,F,O,B){const W=new k.ComposedTreeDelegate(F),V=O.map(K=>new d(K,this.nodeMapper,this._onDidChangeNodeSlowState.event)),z=f(B)||{};return new D.ObjectTree(N,P,W,V,z)}updateOptions(N={}){this.tree.updateOptions(N)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(N){this.tree.scrollTop=N}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(N,P){this.tree.layout(N,P)}style(N){this.tree.style(N)}getInput(){return this.root.element}async setInput(N,P){this.refreshPromises.forEach(O=>O.cancel()),this.refreshPromises.clear(),this.root.element=N;const F=P&&{viewState:P,focus:[],selection:[]};await this._updateChildren(N,!0,!1,F),F&&(this.tree.setFocus(F.focus),this.tree.setSelection(F.selection)),P&&typeof P.scrollTop=="number"&&(this.scrollTop=P.scrollTop)}async _updateChildren(N=this.root.element,P=!0,F=!1,O,B){if(typeof this.root.element>"u")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await a.Event.toPromise(this._onDidRender.event));const W=this.getDataNode(N);if(await this.refreshAndRenderNode(W,P,O,B),F)try{this.tree.rerender(W)}catch{}}rerender(N){if(N===void 0||N===this.root.element){this.tree.rerender();return}const P=this.getDataNode(N);this.tree.rerender(P)}getNode(N=this.root.element){const P=this.getDataNode(N),F=this.tree.getNode(P===this.root?null:P);return this.nodeMapper.map(F)}collapse(N,P=!1){const F=this.getDataNode(N);return this.tree.collapse(F===this.root?null:F,P)}async expand(N,P=!1){if(typeof this.root.element>"u")throw new S.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await a.Event.toPromise(this._onDidRender.event));const F=this.getDataNode(N);if(this.tree.hasElement(F)&&!this.tree.isCollapsible(F)||(F.refreshPromise&&(await this.root.refreshPromise,await a.Event.toPromise(this._onDidRender.event)),F!==this.root&&!F.refreshPromise&&!this.tree.isCollapsed(F)))return!1;const O=this.tree.expand(F===this.root?null:F,P);return F.refreshPromise&&(await this.root.refreshPromise,await a.Event.toPromise(this._onDidRender.event)),O}setSelection(N,P){const F=N.map(O=>this.getDataNode(O));this.tree.setSelection(F,P)}getSelection(){return this.tree.getSelection().map(P=>P.element)}setFocus(N,P){const F=N.map(O=>this.getDataNode(O));this.tree.setFocus(F,P)}getFocus(){return this.tree.getFocus().map(P=>P.element)}reveal(N,P){this.tree.reveal(this.getDataNode(N),P)}getParentElement(N){const P=this.tree.getParentElement(this.getDataNode(N));return P&&P.element}getFirstElementChild(N=this.root.element){const P=this.getDataNode(N),F=this.tree.getFirstElementChild(P===this.root?null:P);return F&&F.element}getDataNode(N){const P=this.nodes.get(N===this.root.element?null:N);if(!P)throw new S.TreeError(this.user,`Data tree node not found: ${N}`);return P}async refreshAndRenderNode(N,P,F,O){await this.refreshNode(N,P,F),!this.disposables.isDisposed&&this.render(N,F,O)}async refreshNode(N,P,F){let O;if(this.subTreeRefreshPromises.forEach((B,W)=>{!O&&m(W,N)&&(O=B.then(()=>this.refreshNode(N,P,F)))}),O)return O;if(N!==this.root&&this.tree.getNode(N).collapsed){N.hasChildren=!!this.dataSource.hasChildren(N.element),N.stale=!0,this.setChildren(N,[],P,F);return}return this.doRefreshSubTree(N,P,F)}async doRefreshSubTree(N,P,F){let O;N.refreshPromise=new Promise(B=>O=B),this.subTreeRefreshPromises.set(N,N.refreshPromise),N.refreshPromise.finally(()=>{N.refreshPromise=void 0,this.subTreeRefreshPromises.delete(N)});try{const B=await this.doRefreshNode(N,P,F);N.stale=!1,await p.Promises.settled(B.map(W=>this.doRefreshSubTree(W,P,F)))}finally{O()}}async doRefreshNode(N,P,F){N.hasChildren=!!this.dataSource.hasChildren(N.element);let O;if(!N.hasChildren)O=Promise.resolve(n.Iterable.empty());else{const B=this.doGetChildren(N);if((0,t.isIterable)(B))O=Promise.resolve(B);else{const W=(0,p.timeout)(800);W.then(()=>{N.slow=!0,this._onDidChangeNodeSlowState.fire(N)},V=>null),O=B.finally(()=>W.cancel())}}try{const B=await O;return this.setChildren(N,B,P,F)}catch(B){if(N!==this.root&&this.tree.hasElement(N)&&this.tree.collapse(N),(0,b.isCancellationError)(B))return[];throw B}finally{N.slow&&(N.slow=!1,this._onDidChangeNodeSlowState.fire(N))}}doGetChildren(N){let P=this.refreshPromises.get(N);if(P)return P;const F=this.dataSource.getChildren(N.element);return(0,t.isIterable)(F)?this.processChildren(F):(P=(0,p.createCancelablePromise)(async()=>this.processChildren(await F)),this.refreshPromises.set(N,P),P.finally(()=>{this.refreshPromises.delete(N)}))}_onDidChangeCollapseState({node:N,deep:P}){N.element!==null&&!N.collapsed&&N.element.stale&&(P?this.collapse(N.element.element):this.refreshAndRenderNode(N.element,!1).catch(b.onUnexpectedError))}setChildren(N,P,F,O){const B=[...P];if(N.children.length===0&&B.length===0)return[];const W=new Map,V=new Map;for(const j of N.children)W.set(j.element,j),this.identityProvider&&V.set(j.id,{node:j,collapsed:this.tree.hasElement(j)&&this.tree.isCollapsed(j)});const z=[],K=B.map(j=>{const x=!!this.dataSource.hasChildren(j);if(!this.identityProvider){const X=o({element:j,parent:N,hasChildren:x,defaultCollapseState:this.getDefaultCollapseState(j)});return x&&X.defaultCollapseState===S.ObjectTreeElementCollapseState.PreserveOrExpanded&&z.push(X),X}const re=this.identityProvider.getId(j).toString(),ie=V.get(re);if(ie){const X=ie.node;return W.delete(X.element),this.nodes.delete(X.element),this.nodes.set(j,X),X.element=j,X.hasChildren=x,F?ie.collapsed?(X.children.forEach(Y=>C(Y,le=>this.nodes.delete(le.element))),X.children.splice(0,X.children.length),X.stale=!0):z.push(X):x&&!ie.collapsed&&z.push(X),X}const J=o({element:j,parent:N,id:re,hasChildren:x,defaultCollapseState:this.getDefaultCollapseState(j)});return O&&O.viewState.focus&&O.viewState.focus.indexOf(re)>-1&&O.focus.push(J),O&&O.viewState.selection&&O.viewState.selection.indexOf(re)>-1&&O.selection.push(J),(O&&O.viewState.expanded&&O.viewState.expanded.indexOf(re)>-1||x&&J.defaultCollapseState===S.ObjectTreeElementCollapseState.PreserveOrExpanded)&&z.push(J),J});for(const j of W.values())C(j,x=>this.nodes.delete(x.element));for(const j of K)this.nodes.set(j.element,j);return N.children.splice(0,N.children.length,...K),N!==this.root&&this.autoExpandSingleChildren&&K.length===1&&z.length===0&&(K[0].forceExpanded=!0,z.push(K[0])),z}render(N,P,F){const O=N.children.map(W=>this.asTreeElement(W,P)),B=F&&{...F,diffIdentityProvider:F.diffIdentityProvider&&{getId(W){return F.diffIdentityProvider.getId(W.element)}}};this.tree.setChildren(N===this.root?null:N,O,B),N!==this.root&&this.tree.setCollapsible(N,N.hasChildren),this._onDidRender.fire()}asTreeElement(N,P){if(N.stale)return{element:N,collapsible:N.hasChildren,collapsed:!0};let F;return P&&P.viewState.expanded&&N.id&&P.viewState.expanded.indexOf(N.id)>-1?F=!1:N.forceExpanded?(F=!1,N.forceExpanded=!1):F=N.defaultCollapseState,{element:N,children:N.hasChildren?n.Iterable.map(N.children,O=>this.asTreeElement(O,P)):[],collapsible:N.hasChildren,collapsed:F}}processChildren(N){return this.sorter&&(N=[...N].sort(this.sorter.compare.bind(this.sorter))),N}dispose(){this.disposables.dispose(),this.tree.dispose()}}e.AsyncDataTree=_;class E{get element(){return{elements:this.node.element.elements.map(N=>N.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(N=>new E(N))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(N){this.node=N}}class I{constructor(N,P,F,O){this.renderer=N,this.nodeMapper=P,this.compressibleNodeMapperProvider=F,this.onDidChangeTwistieState=O,this.renderedNodes=new Map,this.disposables=[],this.templateId=N.templateId}renderTemplate(N){return{templateData:this.renderer.renderTemplate(N)}}renderElement(N,P,F,O){this.renderer.renderElement(this.nodeMapper.map(N),P,F.templateData,O)}renderCompressedElements(N,P,F,O){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(N),P,F.templateData,O)}renderTwistie(N,P){return N.slow?(P.classList.add(...v.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!0):(P.classList.remove(...v.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!1)}disposeElement(N,P,F,O){var B,W;(W=(B=this.renderer).disposeElement)===null||W===void 0||W.call(B,this.nodeMapper.map(N),P,F.templateData,O)}disposeCompressedElements(N,P,F,O){var B,W;(W=(B=this.renderer).disposeCompressedElements)===null||W===void 0||W.call(B,this.compressibleNodeMapperProvider().map(N),P,F.templateData,O)}disposeTemplate(N){this.renderer.disposeTemplate(N.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,i.dispose)(this.disposables)}}function T(M){const N=M&&f(M);return N&&{...N,keyboardNavigationLabelProvider:N.keyboardNavigationLabelProvider&&{...N.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(P){return M.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(P.map(F=>F.element))}}}}class A extends _{constructor(N,P,F,O,B,W,V={}){super(N,P,F,B,W,V),this.compressionDelegate=O,this.compressibleNodeMapper=new S.WeakMapper(z=>new E(z)),this.filter=V.filter}createTree(N,P,F,O,B){const W=new k.ComposedTreeDelegate(F),V=O.map(K=>new I(K,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),z=T(B)||{};return new D.CompressibleObjectTree(N,P,W,V,z)}asTreeElement(N,P){return{incompressible:this.compressionDelegate.isIncompressible(N.element),...super.asTreeElement(N,P)}}updateOptions(N={}){this.tree.updateOptions(N)}render(N,P,F){if(!this.identityProvider)return super.render(N,P);const O=ie=>this.identityProvider.getId(ie).toString(),B=ie=>{const J=new Set;for(const X of ie){const Y=this.tree.getCompressedTreeNode(X===this.root?null:X);if(Y.element)for(const le of Y.element.elements)J.add(O(le.element))}return J},W=B(this.tree.getSelection()),V=B(this.tree.getFocus());super.render(N,P,F);const z=this.getSelection();let K=!1;const j=this.getFocus();let x=!1;const re=ie=>{const J=ie.element;if(J)for(let X=0;X<J.elements.length;X++){const Y=O(J.elements[X].element),le=J.elements[J.elements.length-1].element;W.has(Y)&&z.indexOf(le)===-1&&(z.push(le),K=!0),V.has(Y)&&j.indexOf(le)===-1&&(j.push(le),x=!0)}ie.children.forEach(re)};re(this.tree.getCompressedTreeNode(N===this.root?null:N)),K&&this.setSelection(z),x&&this.setFocus(j)}processChildren(N){return this.filter&&(N=n.Iterable.filter(N,P=>{const F=this.filter.filter(P,1),O=R(F);if(O===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return O===1})),super.processChildren(N)}}e.CompressibleAsyncDataTree=A;function R(M){return typeof M=="boolean"?M?1:0:(0,y.isFilterResult)(M)?(0,y.getVisibleState)(M.visibility):(0,y.getVisibleState)(M)}}),define(ne[333],se([1,0,12,7,2,54,17,11]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const w="$initialize";let v=!1;function b(h){S.isWeb&&(v||(v=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(h.message))}e.logOnceWebWorkerWarning=b;class a{constructor(u,f,C,_){this.vsWorker=u,this.req=f,this.method=C,this.args=_,this.type=0}}class n{constructor(u,f,C,_){this.vsWorker=u,this.seq=f,this.res=C,this.err=_,this.type=1}}class i{constructor(u,f,C,_){this.vsWorker=u,this.req=f,this.eventName=C,this.arg=_,this.type=2}}class t{constructor(u,f,C){this.vsWorker=u,this.req=f,this.event=C,this.type=3}}class o{constructor(u,f){this.vsWorker=u,this.req=f,this.type=4}}class g{constructor(u){this._workerId=-1,this._handler=u,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(u){this._workerId=u}sendMessage(u,f){const C=String(++this._lastSentReq);return new Promise((_,E)=>{this._pendingReplies[C]={resolve:_,reject:E},this._send(new a(this._workerId,C,u,f))})}listen(u,f){let C=null;const _=new k.Emitter({onWillAddFirstListener:()=>{C=String(++this._lastSentReq),this._pendingEmitters.set(C,_),this._send(new i(this._workerId,C,u,f))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(C),this._send(new o(this._workerId,C)),C=null}});return _.event}handleMessage(u){!u||!u.vsWorker||this._workerId!==-1&&u.vsWorker!==this._workerId||this._handleMessage(u)}_handleMessage(u){switch(u.type){case 1:return this._handleReplyMessage(u);case 0:return this._handleRequestMessage(u);case 2:return this._handleSubscribeEventMessage(u);case 3:return this._handleEventMessage(u);case 4:return this._handleUnsubscribeEventMessage(u)}}_handleReplyMessage(u){if(!this._pendingReplies[u.seq]){console.warn("Got reply to unknown seq");return}const f=this._pendingReplies[u.seq];if(delete this._pendingReplies[u.seq],u.err){let C=u.err;u.err.$isError&&(C=new Error,C.name=u.err.name,C.message=u.err.message,C.stack=u.err.stack),f.reject(C);return}f.resolve(u.res)}_handleRequestMessage(u){const f=u.req;this._handler.handleMessage(u.method,u.args).then(_=>{this._send(new n(this._workerId,f,_,void 0))},_=>{_.detail instanceof Error&&(_.detail=(0,L.transformErrorForSerialization)(_.detail)),this._send(new n(this._workerId,f,void 0,(0,L.transformErrorForSerialization)(_)))})}_handleSubscribeEventMessage(u){const f=u.req,C=this._handler.handleEvent(u.eventName,u.arg)(_=>{this._send(new t(this._workerId,f,_))});this._pendingEvents.set(f,C)}_handleEventMessage(u){if(!this._pendingEmitters.has(u.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(u.req).fire(u.event)}_handleUnsubscribeEventMessage(u){if(!this._pendingEvents.has(u.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(u.req).dispose(),this._pendingEvents.delete(u.req)}_send(u){const f=[];if(u.type===0)for(let C=0;C<u.args.length;C++)u.args[C]instanceof ArrayBuffer&&f.push(u.args[C]);else u.type===1&&u.res instanceof ArrayBuffer&&f.push(u.res);this._handler.sendMessage(u,f)}}class m extends y.Disposable{constructor(u,f,C){super();let _=null;this._worker=this._register(u.create("vs/base/common/worker/simpleWorker",M=>{this._protocol.handleMessage(M)},M=>{_?.(M)})),this._protocol=new g({sendMessage:(M,N)=>{this._worker.postMessage(M,N)},handleMessage:(M,N)=>{if(typeof C[M]!="function")return Promise.reject(new Error("Missing method "+M+" on main thread host."));try{return Promise.resolve(C[M].apply(C,N))}catch(P){return Promise.reject(P)}},handleEvent:(M,N)=>{if(d(M)){const P=C[M].call(C,N);if(typeof P!="function")throw new Error(`Missing dynamic event ${M} on main thread host.`);return P}if(c(M)){const P=C[M];if(typeof P!="function")throw new Error(`Missing event ${M} on main thread host.`);return P}throw new Error(`Malformed event name ${M}`)}}),this._protocol.setWorkerId(this._worker.getId());let E=null;const I=globalThis.require;typeof I<"u"&&typeof I.getConfig=="function"?E=I.getConfig():typeof globalThis.requirejs<"u"&&(E=globalThis.requirejs.s.contexts._.config);const T=(0,D.getAllMethodNames)(C);this._onModuleLoaded=this._protocol.sendMessage(w,[this._worker.getId(),JSON.parse(JSON.stringify(E)),f,T]);const A=(M,N)=>this._request(M,N),R=(M,N)=>this._protocol.listen(M,N);this._lazyProxy=new Promise((M,N)=>{_=N,this._onModuleLoaded.then(P=>{M(s(P,A,R))},P=>{N(P),this._onError("Worker failed to load "+f,P)})})}getProxyObject(){return this._lazyProxy}_request(u,f){return new Promise((C,_)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(u,f).then(C,_)},_)})}_onError(u,f){console.error(u),console.info(f)}}e.SimpleWorkerClient=m;function c(h){return h[0]==="o"&&h[1]==="n"&&p.isUpperAsciiLetter(h.charCodeAt(2))}function d(h){return/^onDynamic/.test(h)&&p.isUpperAsciiLetter(h.charCodeAt(9))}function s(h,u,f){const C=I=>function(){const T=Array.prototype.slice.call(arguments,0);return u(I,T)},_=I=>function(T){return f(I,T)},E={};for(const I of h){if(d(I)){E[I]=_(I);continue}if(c(I)){E[I]=f(I,void 0);continue}E[I]=C(I)}return E}class l{constructor(u,f){this._requestHandlerFactory=f,this._requestHandler=null,this._protocol=new g({sendMessage:(C,_)=>{u(C,_)},handleMessage:(C,_)=>this._handleMessage(C,_),handleEvent:(C,_)=>this._handleEvent(C,_)})}onmessage(u){this._protocol.handleMessage(u)}_handleMessage(u,f){if(u===w)return this.initialize(f[0],f[1],f[2],f[3]);if(!this._requestHandler||typeof this._requestHandler[u]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+u));try{return Promise.resolve(this._requestHandler[u].apply(this._requestHandler,f))}catch(C){return Promise.reject(C)}}_handleEvent(u,f){if(!this._requestHandler)throw new Error("Missing requestHandler");if(d(u)){const C=this._requestHandler[u].call(this._requestHandler,f);if(typeof C!="function")throw new Error(`Missing dynamic event ${u} on request handler.`);return C}if(c(u)){const C=this._requestHandler[u];if(typeof C!="function")throw new Error(`Missing event ${u} on request handler.`);return C}throw new Error(`Malformed event name ${u}`)}initialize(u,f,C,_){this._protocol.setWorkerId(u);const T=s(_,(A,R)=>this._protocol.sendMessage(A,R),(A,R)=>this._protocol.listen(A,R));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(T),Promise.resolve((0,D.getAllMethodNames)(this._requestHandler))):(f&&(typeof f.baseUrl<"u"&&delete f.baseUrl,typeof f.paths<"u"&&typeof f.paths.vs<"u"&&delete f.paths.vs,typeof f.trustedTypesPolicy<"u"&&delete f.trustedTypesPolicy,f.catchError=!0,globalThis.require.config(f)),new Promise((A,R)=>{(globalThis.require||ee)([C],N=>{if(this._requestHandler=N.create(T),!this._requestHandler){R(new Error("No RequestHandler!"));return}A((0,D.getAllMethodNames)(this._requestHandler))},R)}))}}e.SimpleWorkerServer=l;function r(h){return new l(h,null)}e.create=r}),define(ne[613],se([1,0,95,12,47,333,2]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const p=(0,L.createTrustedTypesPolicy)("defaultWorkerFactory",{createScriptURL:i=>i});function w(i){const t=globalThis.MonacoEnvironment;if(t){if(typeof t.getWorker=="function")return t.getWorker("workerMain.js",i);if(typeof t.getWorkerUrl=="function"){const o=t.getWorkerUrl("workerMain.js",i);return new Worker(p?p.createScriptURL(o):o,{name:i})}}if(typeof ee=="function"){const o=ee.toUrl("vs/base/worker/workerMain.js"),g=v(o,i);return new Worker(p?p.createScriptURL(g):g,{name:i})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function v(i,t){if(/^((http:)|(https:)|(file:))/.test(i)&&i.substring(0,globalThis.origin.length)!==globalThis.origin){const d="vs/base/worker/defaultWorkerFactory.js",s=ee.toUrl(d).slice(0,-d.length),l=`/*${t}*/globalThis.MonacoEnvironment={baseUrl: '${s}'};const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${i}') ?? '${i}');/*${t}*/`,r=new Blob([l],{type:"application/javascript"});return URL.createObjectURL(r)}const o=i.lastIndexOf("?"),g=i.lastIndexOf("#",o),m=o>0?new URLSearchParams(i.substring(o+1,~g?g:void 0)):new URLSearchParams;return y.COI.addSearchParam(m,!0,!0),m.toString()?`${i}?${m.toString()}#${t}`:`${i}#${t}`}e.getWorkerBootstrapUrl=v;function b(i){return typeof i.then=="function"}class a extends S.Disposable{constructor(t,o,g,m,c){super(),this.id=o,this.label=g;const d=w(g);b(d)?this.worker=d:this.worker=Promise.resolve(d),this.postMessage(t,[]),this.worker.then(s=>{s.onmessage=function(l){m(l.data)},s.onmessageerror=c,typeof s.addEventListener=="function"&&s.addEventListener("error",c)}),this._register((0,S.toDisposable)(()=>{var s;(s=this.worker)===null||s===void 0||s.then(l=>{l.onmessage=null,l.onmessageerror=null,l.removeEventListener("error",c),l.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(t,o){var g;(g=this.worker)===null||g===void 0||g.then(m=>{try{m.postMessage(t,o)}catch(c){(0,k.onUnexpectedError)(c),(0,k.onUnexpectedError)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:c}))}})}}class n{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,o,g){const m=++n.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new a(t,m,this._label||"anonymous"+m,o,c=>{(0,D.logOnceWebWorkerWarning)(c),this._webWorkerFailedBeforeError=c,g(c)})}}e.DefaultWorkerFactory=n,n.LAST_WORKER_ID=0}),define(ne[614],se([1,0,15,7,2,229,20]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=e.StorageHint=void 0;var p;(function(a){a[a.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",a[a.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(p||(e.StorageHint=p={}));var w;(function(a){a[a.None=0]="None",a[a.Initialized=1]="Initialized",a[a.Closed=2]="Closed"})(w||(e.StorageState=w={}));class v extends y.Disposable{constructor(n,i=Object.create(null)){super(),this.database=n,this.options=i,this._onDidChangeStorage=this._register(new k.PauseableEmitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=w.None,this.cache=new Map,this.flushDelayer=this._register(new L.ThrottledDelayer(v.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(n=>this.onDidChangeItemsExternal(n)))}onDidChangeItemsExternal(n){var i,t;this._onDidChangeStorage.pause();try{(i=n.changed)===null||i===void 0||i.forEach((o,g)=>this.acceptExternal(g,o)),(t=n.deleted)===null||t===void 0||t.forEach(o=>this.acceptExternal(o,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(n,i){if(this.state===w.Closed)return;let t=!1;(0,S.isUndefinedOrNull)(i)?t=this.cache.delete(n):this.cache.get(n)!==i&&(this.cache.set(n,i),t=!0),t&&this._onDidChangeStorage.fire({key:n,external:!0})}get(n,i){const t=this.cache.get(n);return(0,S.isUndefinedOrNull)(t)?i:t}getBoolean(n,i){const t=this.get(n);return(0,S.isUndefinedOrNull)(t)?i:t==="true"}getNumber(n,i){const t=this.get(n);return(0,S.isUndefinedOrNull)(t)?i:parseInt(t,10)}async set(n,i,t=!1){if(this.state===w.Closed)return;if((0,S.isUndefinedOrNull)(i))return this.delete(n,t);const o=(0,S.isObject)(i)||Array.isArray(i)?(0,D.stringify)(i):String(i);if(this.cache.get(n)!==o)return this.cache.set(n,o),this.pendingInserts.set(n,o),this.pendingDeletes.delete(n),this._onDidChangeStorage.fire({key:n,external:t}),this.doFlush()}async delete(n,i=!1){if(!(this.state===w.Closed||!this.cache.delete(n)))return this.pendingDeletes.has(n)||this.pendingDeletes.add(n),this.pendingInserts.delete(n),this._onDidChangeStorage.fire({key:n,external:i}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const n={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(n).finally(()=>{var i;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(i=this.whenFlushedCallbacks.pop())===null||i===void 0||i()})}async doFlush(n){return this.options.hint===p.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),n)}}e.Storage=v,v.DEFAULT_FLUSH_DELAY=100;class b{constructor(){this.onDidChangeItemsExternal=k.Event.None,this.items=new Map}async updateItems(n){var i,t;(i=n.insert)===null||i===void 0||i.forEach((o,g)=>this.items.set(g,o)),(t=n.delete)===null||t===void 0||t.forEach(o=>this.items.delete(o))}}e.InMemoryStorageDatabase=b}),define(ne[334],se([1,0,2,7,6]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class D extends L.Disposable{constructor(p,w){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=p,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,w)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let p=null;const w=()=>{p?this.observe({width:p.width,height:p.height}):this.observe()};let v=!1,b=!1;const a=()=>{if(v&&!b)try{v=!1,b=!0,w()}finally{(0,y.scheduleAtNextAnimationFrame)((0,y.getWindow)(this._referenceDomElement),()=>{b=!1,a()})}};this._resizeObserver=new ResizeObserver(n=>{n&&n[0]&&n[0].contentRect?p={width:n[0].contentRect.width,height:n[0].contentRect.height}:p=null,v=!0,a()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(p){this.measureReferenceDomElement(!0,p)}measureReferenceDomElement(p,w){let v=0,b=0;w?(v=w.width,b=w.height):this._referenceDomElement&&(v=this._referenceDomElement.clientWidth,b=this._referenceDomElement.clientHeight),v=Math.max(5,v),b=Math.max(5,b),(this._width!==v||this._height!==b)&&(this._width=v,this._height=b,p&&this._onDidChange.fire())}}e.ElementSizeObserver=D}),define(ne[615],se([1,0,6,41,55]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D extends y.ViewPart{constructor(n,i){super(n),this._viewDomNode=i,this._widgets={},this.domNode=(0,k.createFastDomNode)(document.createElement("div")),y.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,k.createFastDomNode)(document.createElement("div")),y.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(n){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onConfigurationChanged(n);return!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLineMappingChanged(n){return this._updateAnchorsViewPositions(),!0}onLinesChanged(n){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(n){return this._updateAnchorsViewPositions(),!0}onLinesInserted(n){return this._updateAnchorsViewPositions(),!0}onScrollChanged(n){return!0}onZonesChanged(n){return!0}_updateAnchorsViewPositions(){const n=Object.keys(this._widgets);for(const i of n)this._widgets[i].updateAnchorViewPosition()}addWidget(n){const i=new S(this._context,this._viewDomNode,n);this._widgets[i.id]=i,i.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i.domNode):this.domNode.appendChild(i.domNode),this.setShouldRender()}setWidgetPosition(n,i,t,o,g){this._widgets[n.getId()].setPosition(i,t,o,g),this.setShouldRender()}removeWidget(n){const i=n.getId();if(this._widgets.hasOwnProperty(i)){const t=this._widgets[i];delete this._widgets[i];const o=t.domNode.domNode;o.parentNode.removeChild(o),o.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(n){return this._widgets.hasOwnProperty(n)?this._widgets[n].suppressMouseDown:!1}onBeforeRender(n){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onBeforeRender(n)}prepareRender(n){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].prepareRender(n)}render(n){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].render(n)}}e.ViewContentWidgets=D;class S{constructor(n,i,t){this._primaryAnchor=new p(null,null),this._secondaryAnchor=new p(null,null),this._context=n,this._viewDomNode=i,this._actual=t,this.domNode=(0,k.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const o=this._context.configuration.options,g=o.get(144);this._fixedOverflowWidgets=o.get(42),this._contentWidth=g.contentWidth,this._contentLeft=g.contentLeft,this._lineHeight=o.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(n){const i=this._context.configuration.options;if(this._lineHeight=i.get(67),n.hasChanged(144)){const t=i.get(144);this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(n,i,t){this._affinity=n,this._primaryAnchor=o(i,this._context.viewModel,this._affinity),this._secondaryAnchor=o(t,this._context.viewModel,this._affinity);function o(g,m,c){if(!g)return new p(null,null);const d=m.model.validatePosition(g);if(m.coordinatesConverter.modelPositionIsVisible(d)){const s=m.coordinatesConverter.convertModelPositionToViewPosition(d,c??void 0);return new p(g,s)}return new p(g,null)}}_getMaxWidth(){const n=this.domNode.domNode.ownerDocument,i=n.defaultView;return this.allowEditorOverflow?i?.innerWidth||n.documentElement.offsetWidth||n.body.offsetWidth:this._contentWidth}setPosition(n,i,t,o){this._setPosition(o,n,i),this._preference=t,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(n,i,t,o){const g=n.top,m=g,c=n.top+n.height,d=o.viewportHeight-c,s=g-t,l=m>=t,r=c,h=d>=t;let u=n.left;return u+i>o.scrollLeft+o.viewportWidth&&(u=o.scrollLeft+o.viewportWidth-i),u<o.scrollLeft&&(u=o.scrollLeft),{fitsAbove:l,aboveTop:s,fitsBelow:h,belowTop:r,left:u}}_layoutHorizontalSegmentInPage(n,i,t,o){var g;const d=Math.max(15,i.left-o),s=Math.min(i.left+i.width+o,n.width-15),r=this._viewDomNode.domNode.ownerDocument.defaultView;let h=i.left+t-((g=r?.scrollX)!==null&&g!==void 0?g:0);if(h+o>s){const u=h-(s-o);h-=u,t-=u}if(h<d){const u=h-d;h-=u,t-=u}return[t,h]}_layoutBoxInPage(n,i,t,o){var g,m;const c=n.top-t,d=n.top+n.height,s=L.getDomNodePagePosition(this._viewDomNode.domNode),l=this._viewDomNode.domNode.ownerDocument,r=l.defaultView,h=s.top+c-((g=r?.scrollY)!==null&&g!==void 0?g:0),u=s.top+d-((m=r?.scrollY)!==null&&m!==void 0?m:0),f=L.getClientArea(l.body),[C,_]=this._layoutHorizontalSegmentInPage(f,s,n.left-o.scrollLeft+this._contentLeft,i),E=22,I=22,T=h>=E,A=u+t<=f.height-I;return this._fixedOverflowWidgets?{fitsAbove:T,aboveTop:Math.max(h,E),fitsBelow:A,belowTop:u,left:_}:{fitsAbove:T,aboveTop:c,fitsBelow:A,belowTop:d,left:C}}_prepareRenderWidgetAtExactPositionOverflowing(n){return new w(n.top,n.left+this._contentLeft)}_getAnchorsCoordinates(n){var i,t;const o=c(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),g=((i=this._secondaryAnchor.viewPosition)===null||i===void 0?void 0:i.lineNumber)===((t=this._primaryAnchor.viewPosition)===null||t===void 0?void 0:t.lineNumber)?this._secondaryAnchor.viewPosition:null,m=c(g,this._affinity,this._lineHeight);return{primary:o,secondary:m};function c(d,s,l){if(!d)return null;const r=n.visibleRangeForPosition(d);if(!r)return null;const h=d.column===1&&s===3?0:r.left,u=n.getVerticalOffsetForLineNumber(d.lineNumber)-n.scrollTop;return new v(u,h,l)}}_reduceAnchorCoordinates(n,i,t){if(!i)return n;const o=this._context.configuration.options.get(50);let g=i.left;return g<n.left?g=Math.max(g,n.left-t+o.typicalFullwidthCharacterWidth):g=Math.min(g,n.left+t-o.typicalFullwidthCharacterWidth),new v(n.top,g,n.height)}_prepareRenderWidget(n){if(!this._preference||this._preference.length===0)return null;const{primary:i,secondary:t}=this._getAnchorsCoordinates(n);if(!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let m=null;if(typeof this._actual.beforeRender=="function"&&(m=b(this._actual.beforeRender,this._actual)),m)this._cachedDomNodeOffsetWidth=m.width,this._cachedDomNodeOffsetHeight=m.height;else{const d=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(d.width),this._cachedDomNodeOffsetHeight=Math.round(d.height)}}const o=this._reduceAnchorCoordinates(i,t,this._cachedDomNodeOffsetWidth);let g;this.allowEditorOverflow?g=this._layoutBoxInPage(o,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,n):g=this._layoutBoxInViewport(o,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,n);for(let m=1;m<=2;m++)for(const c of this._preference)if(c===1){if(!g)return null;if(m===2||g.fitsAbove)return{coordinate:new w(g.aboveTop,g.left),position:1}}else if(c===2){if(!g)return null;if(m===2||g.fitsBelow)return{coordinate:new w(g.belowTop,g.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new w(o.top,o.left)),position:0}:{coordinate:new w(o.top,o.left),position:0};return null}onBeforeRender(n){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<n.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>n.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(n){this._renderData=this._prepareRenderWidget(n)}render(n){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&b(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+n.scrollTop-n.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&b(this._actual.afterRender,this._actual,this._renderData.position)}}class p{constructor(n,i){this.modelPosition=n,this.viewPosition=i}}class w{constructor(n,i){this.top=n,this.left=i,this._coordinateBrand=void 0}}class v{constructor(n,i,t){this.top=n,this.left=i,this.height=t,this._anchorCoordinateBrand=void 0}}function b(a,n,...i){try{return a.call(n,...i)}catch{return null}}}),define(ne[616],se([1,0,41,55,6,448]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class D extends k.ViewPart{constructor(p,w){super(p),this._viewDomNode=w;const b=this._context.configuration.options.get(144);this._widgets={},this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=(0,L.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=(0,L.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(p){const v=this._context.configuration.options.get(144);return this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,!0}addWidget(p){const w=(0,L.createFastDomNode)(p.getDomNode());this._widgets[p.getId()]={widget:p,preference:null,domNode:w},w.setPosition("absolute"),w.setAttribute("widgetId",p.getId()),p.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(w):this._domNode.appendChild(w),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(p,w){const v=this._widgets[p.getId()];return v.preference===w?(this._updateMaxMinWidth(),!1):(v.preference=w,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(p){const w=p.getId();if(this._widgets.hasOwnProperty(w)){const b=this._widgets[w].domNode.domNode;delete this._widgets[w],b.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var p,w;let v=0;const b=Object.keys(this._widgets);for(let a=0,n=b.length;a<n;a++){const i=b[a],o=(w=(p=this._widgets[i].widget).getMinContentWidthInPx)===null||w===void 0?void 0:w.call(p);typeof o<"u"&&(v=Math.max(v,o))}this._context.viewLayout.setOverlayWidgetsMinWidth(v)}_renderWidget(p){const w=p.domNode;if(p.preference===null){w.setTop("");return}if(p.preference===0)w.setTop(0),w.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(p.preference===1){const v=w.domNode.clientHeight;w.setTop(this._editorHeight-v-2*this._horizontalScrollbarHeight),w.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(p.preference===2)w.setTop(0),w.domNode.style.right="50%";else{const{top:v,left:b}=p.preference;if(this._context.configuration.options.get(42)&&p.widget.allowEditorOverflow){const n=this._viewDomNodeRect;w.setTop(v+n.top),w.setLeft(b+n.left),w.setPosition("fixed")}else w.setTop(v),w.setLeft(b),w.setPosition("absolute")}}prepareRender(p){this._viewDomNodeRect=y.getDomNodePagePosition(this._viewDomNode.domNode)}render(p){this._domNode.setWidth(this._editorWidth);const w=Object.keys(this._widgets);for(let v=0,b=w.length;v<b;v++){const a=w[v];this._renderWidget(this._widgets[a])}}}e.ViewOverlayWidgets=D}),define(ne[617],se([1,0,6,12,2]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeEditorContributions=void 0;class D extends y.Disposable{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new y.DisposableMap),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(p,w,v){this._editor=p,this._instantiationService=v;for(const b of w){if(this._pending.has(b.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${b.id}`));continue}this._pending.set(b.id,b)}this._instantiateSome(0),this._register((0,L.runWhenWindowIdle)((0,L.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register((0,L.runWhenWindowIdle)((0,L.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register((0,L.runWhenWindowIdle)((0,L.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const p={};for(const[w,v]of this._instances)typeof v.saveViewState=="function"&&(p[w]=v.saveViewState());return p}restoreViewState(p){for(const[w,v]of this._instances)typeof v.restoreViewState=="function"&&v.restoreViewState(p[w])}get(p){return this._instantiateById(p),this._instances.get(p)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var p;return(0,L.runWhenWindowIdle)((0,L.getWindow)((p=this._editor)===null||p===void 0?void 0:p.getDomNode()),()=>{this._instantiateSome(1)},50)}_instantiateSome(p){if(this._finishedInstantiation[p])return;this._finishedInstantiation[p]=!0;const w=this._findPendingContributionsByInstantiation(p);for(const v of w)this._instantiateById(v.id)}_findPendingContributionsByInstantiation(p){const w=[];for(const[,v]of this._pending)v.instantiation===p&&w.push(v);return w}_instantiateById(p){const w=this._pending.get(p);if(w){if(this._pending.delete(p),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const v=this._instantiationService.createInstance(w.ctor,this._editor);this._instances.set(w.id,v),typeof v.restoreViewState=="function"&&w.instantiation!==0&&console.warn(`Editor contribution '${w.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(v){(0,k.onUnexpectedError)(v)}}}}e.CodeEditorContributions=D}),define(ne[618],se([1,0,160,2,32]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorSash=void 0;class D extends k.Disposable{constructor(p,w,v,b){super(),this._options=p,this._domNode=w,this._dimensions=v,this._sashes=b,this._sashRatio=(0,y.observableValue)(this,void 0),this.sashLeft=(0,y.derived)(this,a=>{var n;const i=(n=this._sashRatio.read(a))!==null&&n!==void 0?n:this._options.splitViewDefaultRatio.read(a);return this._computeSashLeft(i,a)}),this._sash=this._register(new L.Sash(this._domNode,{getVerticalSashTop:a=>0,getVerticalSashLeft:a=>this.sashLeft.get(),getVerticalSashHeight:a=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(a=>{const n=this._dimensions.width.get(),i=this._computeSashLeft((this._startSashPosition+(a.currentX-a.startX))/n,void 0);this._sashRatio.set(i/n,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,y.autorun)(a=>{const n=this._sashes.read(a);n&&(this._sash.orthogonalEndSash=n.bottom)})),this._register((0,y.autorun)(a=>{const n=this._options.enableSplitViewResizing.read(a);this._sash.state=n?3:0,this.sashLeft.read(a),this._dimensions.height.read(a),this._sash.layout()}))}_computeSashLeft(p,w){const v=this._dimensions.width.read(w),b=Math.floor(this._options.splitViewDefaultRatio.read(w)*v),a=this._options.enableSplitViewResizing.read(w)?Math.floor(p*v):b,n=100;return v<=n*2?b:a<n?n:a>v-n?v-n:a}}e.DiffEditorSash=D}),define(ne[87],se([1,0,62,19,595,2,32,334,9,5,92]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterWithPrevious=e.bindContextKey=e.translatePosition=e.DisposableCancellationTokenSource=e.applyViewZones=e.observeHotReloadableExports=e.readHotReloadableExport=e.applyStyle=e.ManagedOverlayWidget=e.PlaceholderViewZone=e.ViewZoneOverlayWidget=e.animatedObservable=e.ObservableElementSizeObserver=e.appendRemoveOnDispose=e.applyObservableDecorations=e.joinCombine=void 0;function a(T,A,R,M){if(T.length===0)return A;if(A.length===0)return T;const N=[];let P=0,F=0;for(;P<T.length&&F<A.length;){const O=T[P],B=A[F],W=R(O),V=R(B);W<V?(N.push(O),P++):W>V?(N.push(B),F++):(N.push(M(O,B)),P++,F++)}for(;P<T.length;)N.push(T[P]),P++;for(;F<A.length;)N.push(A[F]),F++;return N}e.joinCombine=a;function n(T,A){const R=new D.DisposableStore,M=T.createDecorationsCollection();return R.add((0,S.autorunOpts)({debugName:()=>`Apply decorations from ${A.debugName}`},N=>{const P=A.read(N);M.set(P)})),R.add({dispose:()=>{M.clear()}}),R}e.applyObservableDecorations=n;function i(T,A){return T.appendChild(A),(0,D.toDisposable)(()=>{T.removeChild(A)})}e.appendRemoveOnDispose=i;class t extends D.Disposable{get width(){return this._width}get height(){return this._height}constructor(A,R){super(),this.elementSizeObserver=this._register(new p.ElementSizeObserver(A,R)),this._width=(0,S.observableValue)(this,this.elementSizeObserver.getWidth()),this._height=(0,S.observableValue)(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(M=>(0,S.transaction)(N=>{this._width.set(this.elementSizeObserver.getWidth(),N),this._height.set(this.elementSizeObserver.getHeight(),N)})))}observe(A){this.elementSizeObserver.observe(A)}setAutomaticLayout(A){A?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}e.ObservableElementSizeObserver=t;function o(T,A,R){let M=A.get(),N=M,P=M;const F=(0,S.observableValue)("animatedValue",M);let O=-1;const B=300;let W;R.add((0,S.autorunHandleChanges)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(z,K)=>(z.didChange(A)&&(K.animate=K.animate||z.change),!0)},(z,K)=>{W!==void 0&&(T.cancelAnimationFrame(W),W=void 0),N=P,M=A.read(z),O=Date.now()-(K.animate?0:B),V()}));function V(){const z=Date.now()-O;P=Math.floor(g(z,N,M-N,B)),z<B?W=T.requestAnimationFrame(V):P=M,F.set(P,void 0)}return F}e.animatedObservable=o;function g(T,A,R,M){return T===M?A+R:R*(-Math.pow(2,-10*T/M)+1)+A}class m extends D.Disposable{constructor(A,R,M){super(),this._register(new d(A,M)),this._register(s(M,{height:R.actualHeight,top:R.actualTop}))}}e.ViewZoneOverlayWidget=m;class c{get afterLineNumber(){return this._afterLineNumber.get()}constructor(A,R){this._afterLineNumber=A,this.heightInPx=R,this.domNode=document.createElement("div"),this._actualTop=(0,S.observableValue)(this,void 0),this._actualHeight=(0,S.observableValue)(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=M=>{this._actualTop.set(M,void 0)},this.onComputedHeight=M=>{this._actualHeight.set(M,void 0)}}}e.PlaceholderViewZone=c;class d{constructor(A,R){this._editor=A,this._domElement=R,this._overlayWidgetId=`managedOverlayWidget-${d._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}e.ManagedOverlayWidget=d,d._counter=0;function s(T,A){return(0,S.autorun)(R=>{for(let[M,N]of Object.entries(A))N&&typeof N=="object"&&"read"in N&&(N=N.read(R)),typeof N=="number"&&(N=`${N}px`),M=M.replace(/[A-Z]/g,P=>"-"+P.toLowerCase()),T.style[M]=N})}e.applyStyle=s;function l(T,A){return r([T],A),T}e.readHotReloadableExport=l;function r(T,A){(0,y.isHotReloadEnabled)()&&(0,S.observableSignalFromEvent)("reload",M=>(0,y.registerHotReloadHandler)(({oldExports:N})=>{if([...Object.values(N)].some(P=>T.includes(P)))return P=>(M(void 0),!0)})).read(A)}e.observeHotReloadableExports=r;function h(T,A,R,M){const N=new D.DisposableStore,P=[];return N.add((0,S.autorunWithStore)((F,O)=>{const B=A.read(F),W=new Map,V=new Map;R&&R(!0),T.changeViewZones(z=>{for(const K of P)z.removeZone(K),M?.delete(K);P.length=0;for(const K of B){const j=z.addZone(K);K.setZoneId&&K.setZoneId(j),P.push(j),M?.add(j),W.set(K,j)}}),R&&R(!1),O.add((0,S.autorunHandleChanges)({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(z,K){const j=V.get(z.changedObservable);return j!==void 0&&K.zoneIds.push(j),!0}},(z,K)=>{for(const j of B)j.onChange&&(V.set(j.onChange,W.get(j)),j.onChange.read(z));R&&R(!0),T.changeViewZones(j=>{for(const x of K.zoneIds)j.layoutZone(x)}),R&&R(!1)}))})),N.add({dispose(){R&&R(!0),T.changeViewZones(F=>{for(const O of P)F.removeZone(O)}),M?.clear(),R&&R(!1)}}),N}e.applyViewZones=h;class u extends k.CancellationTokenSource{dispose(){super.dispose(!0)}}e.DisposableCancellationTokenSource=u;function f(T,A){const R=(0,L.findLast)(A,N=>N.original.startLineNumber<=T.lineNumber);if(!R)return v.Range.fromPositions(T);if(R.original.endLineNumberExclusive<=T.lineNumber){const N=T.lineNumber-R.original.endLineNumberExclusive+R.modified.endLineNumberExclusive;return v.Range.fromPositions(new w.Position(N,T.column))}if(!R.innerChanges)return v.Range.fromPositions(new w.Position(R.modified.startLineNumber,1));const M=(0,L.findLast)(R.innerChanges,N=>N.originalRange.getStartPosition().isBeforeOrEqual(T));if(!M){const N=T.lineNumber-R.original.startLineNumber+R.modified.startLineNumber;return v.Range.fromPositions(new w.Position(N,T.column))}if(M.originalRange.containsPosition(T))return M.modifiedRange;{const N=C(M.originalRange.getEndPosition(),T);return v.Range.fromPositions(_(M.modifiedRange.getEndPosition(),N))}}e.translatePosition=f;function C(T,A){return T.lineNumber===A.lineNumber?new b.LengthObj(0,A.column-T.column):new b.LengthObj(A.lineNumber-T.lineNumber,A.column-1)}function _(T,A){return A.lineCount===0?new w.Position(T.lineNumber,T.column+A.columnCount):new w.Position(T.lineNumber+A.lineCount,A.columnCount+1)}function E(T,A,R){const M=T.bindTo(A);return(0,S.autorunOpts)({debugName:()=>`Set Context Key "${T.key}"`},N=>{M.set(R(N))})}e.bindContextKey=E;function I(T,A){let R;return T.filter(M=>{const N=A(M,R);return R=M,N})}e.filterWithPrevious=I}),define(ne[106],se([1,0,11,17,149]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringBuilder=e.decodeUTF16LE=e.getPlatformTextDecoder=void 0;let D;function S(){return D||(D=new TextDecoder("UTF-16LE")),D}let p;function w(){return p||(p=new TextDecoder("UTF-16BE")),p}let v;function b(){return v||(v=k.isLittleEndian()?S():w()),v}e.getPlatformTextDecoder=b;function a(t,o,g){const m=new Uint16Array(t.buffer,o,g);return g>0&&(m[0]===65279||m[0]===65534)?n(t,o,g):S().decode(m)}e.decodeUTF16LE=a;function n(t,o,g){const m=[];let c=0;for(let d=0;d<g;d++){const s=y.readUInt16LE(t,o);o+=2,m[c++]=String.fromCharCode(s)}return m.join("")}class i{constructor(o){this._capacity=o|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const o=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return b().decode(o)}_flushBuffer(){const o=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[o]:this._completedStrings[this._completedStrings.length]=o}appendCharCode(o){const g=this._capacity-this._bufferLength;g<=1&&(g===0||L.isHighSurrogate(o))&&this._flushBuffer(),this._buffer[this._bufferLength++]=o}appendASCIICharCode(o){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=o}appendString(o){const g=o.length;if(this._bufferLength+g>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=o;return}for(let m=0;m<g;m++)this._buffer[this._bufferLength++]=o.charCodeAt(m)}}e.StringBuilder=i}),define(ne[619],se([1,0,95,11,20,74,106,302,117]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const v=(0,L.createTrustedTypesPolicy)("domLineBreaksComputer",{createHTML:g=>g});class b{static create(m){return new b(new WeakRef(m))}constructor(m){this.targetWindow=m}createLineBreaksComputer(m,c,d,s,l){const r=[],h=[];return{addRequest:(u,f,C)=>{r.push(u),h.push(f)},finalize:()=>a((0,y.assertIsDefined)(this.targetWindow.deref()),r,m,c,d,s,l,h)}}}e.DOMLineBreaksComputerFactory=b;function a(g,m,c,d,s,l,r,h){var u;function f(K){const j=h[K];if(j){const x=w.LineInjectedText.applyInjectedText(m[K],j),re=j.map(J=>J.options),ie=j.map(J=>J.column-1);return new p.ModelLineProjectionData(ie,re,[x.length],[],0)}else return null}if(s===-1){const K=[];for(let j=0,x=m.length;j<x;j++)K[j]=f(j);return K}const C=Math.round(s*c.typicalHalfwidthCharacterWidth),E=Math.round(d*(l===3?2:l===2?1:0)),I=Math.ceil(c.spaceWidth*E),T=document.createElement("div");(0,D.applyFontInfo)(T,c);const A=new S.StringBuilder(1e4),R=[],M=[],N=[],P=[],F=[];for(let K=0;K<m.length;K++){const j=w.LineInjectedText.applyInjectedText(m[K],h[K]);let x=0,re=0,ie=C;if(l!==0)if(x=k.firstNonWhitespaceIndex(j),x===-1)x=0;else{for(let le=0;le<x;le++){const de=j.charCodeAt(le)===9?d-re%d:1;re+=de}const Y=Math.ceil(c.spaceWidth*re);Y+c.typicalFullwidthCharacterWidth>C?(x=0,re=0):ie=C-Y}const J=j.substr(x),X=n(J,re,d,ie,A,I);R[K]=x,M[K]=re,N[K]=J,P[K]=X[0],F[K]=X[1]}const O=A.build(),B=(u=v?.createHTML(O))!==null&&u!==void 0?u:O;T.innerHTML=B,T.style.position="absolute",T.style.top="10000",r==="keepAll"?(T.style.wordBreak="keep-all",T.style.overflowWrap="anywhere"):(T.style.wordBreak="inherit",T.style.overflowWrap="break-word"),g.document.body.appendChild(T);const W=document.createRange(),V=Array.prototype.slice.call(T.children,0),z=[];for(let K=0;K<m.length;K++){const j=V[K],x=i(W,j,N[K],P[K]);if(x===null){z[K]=f(K);continue}const re=R[K],ie=M[K]+E,J=F[K],X=[];for(let ge=0,pe=x.length;ge<pe;ge++)X[ge]=J[x[ge]];if(re!==0)for(let ge=0,pe=x.length;ge<pe;ge++)x[ge]+=re;let Y,le;const de=h[K];de?(Y=de.map(ge=>ge.options),le=de.map(ge=>ge.column-1)):(Y=null,le=null),z[K]=new p.ModelLineProjectionData(le,Y,x,X,ie)}return g.document.body.removeChild(T),z}function n(g,m,c,d,s,l){if(l!==0){const E=String(l);s.appendString('<div style="text-indent: -'),s.appendString(E),s.appendString("px; padding-left: "),s.appendString(E),s.appendString("px; box-sizing: border-box; width:")}else s.appendString('<div style="width:');s.appendString(String(d)),s.appendString('px;">');const r=g.length;let h=m,u=0;const f=[],C=[];let _=0<r?g.charCodeAt(0):0;s.appendString("<span>");for(let E=0;E<r;E++){E!==0&&E%16384===0&&s.appendString("</span><span>"),f[E]=u,C[E]=h;const I=_;_=E+1<r?g.charCodeAt(E+1):0;let T=1,A=1;switch(I){case 9:T=c-h%c,A=T;for(let R=1;R<=T;R++)R<T?s.appendCharCode(160):s.appendASCIICharCode(32);break;case 32:_===32?s.appendCharCode(160):s.appendASCIICharCode(32);break;case 60:s.appendString("&lt;");break;case 62:s.appendString("&gt;");break;case 38:s.appendString("&amp;");break;case 0:s.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:s.appendCharCode(65533);break;default:k.isFullWidthCharacter(I)&&A++,I<32?s.appendCharCode(9216+I):s.appendCharCode(I)}u+=T,h+=A}return s.appendString("</span>"),f[g.length]=u,C[g.length]=h,s.appendString("</div>"),[f,C]}function i(g,m,c,d){if(c.length<=1)return null;const s=Array.prototype.slice.call(m.children,0),l=[];try{t(g,s,d,0,null,c.length-1,null,l)}catch(r){return console.log(r),null}return l.length===0?null:(l.push(c.length),l)}function t(g,m,c,d,s,l,r,h){if(d===l||(s=s||o(g,m,c[d],c[d+1]),r=r||o(g,m,c[l],c[l+1]),Math.abs(s[0].top-r[0].top)<=.1))return;if(d+1===l){h.push(l);return}const u=d+(l-d)/2|0,f=o(g,m,c[u],c[u+1]);t(g,m,c,d,s,u,f,h),t(g,m,c,u,f,l,r,h)}function o(g,m,c,d){return g.setStart(m[c/16384|0].firstChild,c%16384),g.setEnd(m[d/16384|0].firstChild,d%16384),g.getClientRects()}}),define(ne[239],se([1,0,41,95,12,106]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class S{constructor(b){this._createLine=b,this._set(1,[])}flush(){this._set(1,[])}_set(b,a){this._lines=a,this._rendLineNumberStart=b}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(b){const a=b-this._rendLineNumberStart;if(a<0||a>=this._lines.length)throw new y.BugIndicatingError("Illegal value for lineNumber");return this._lines[a]}onLinesDeleted(b,a){if(this.getCount()===0)return null;const n=this.getStartLineNumber(),i=this.getEndLineNumber();if(a<n){const m=a-b+1;return this._rendLineNumberStart-=m,null}if(b>i)return null;let t=0,o=0;for(let m=n;m<=i;m++){const c=m-this._rendLineNumberStart;b<=m&&m<=a&&(o===0?(t=c,o=1):o++)}if(b<n){let m=0;a<n?m=a-b+1:m=n-b,this._rendLineNumberStart-=m}return this._lines.splice(t,o)}onLinesChanged(b,a){const n=b+a-1;if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),t=this.getEndLineNumber();let o=!1;for(let g=b;g<=n;g++)g>=i&&g<=t&&(this._lines[g-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(b,a){if(this.getCount()===0)return null;const n=a-b+1,i=this.getStartLineNumber(),t=this.getEndLineNumber();if(b<=i)return this._rendLineNumberStart+=n,null;if(b>t)return null;if(n+b>t)return this._lines.splice(b-this._rendLineNumberStart,t-b+1);const o=[];for(let s=0;s<n;s++)o[s]=this._createLine();const g=b-this._rendLineNumberStart,m=this._lines.slice(0,g),c=this._lines.slice(g,this._lines.length-n),d=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=m.concat(o).concat(c),d}onTokensChanged(b){if(this.getCount()===0)return!1;const a=this.getStartLineNumber(),n=this.getEndLineNumber();let i=!1;for(let t=0,o=b.length;t<o;t++){const g=b[t];if(g.toLineNumber<a||g.fromLineNumber>n)continue;const m=Math.max(a,g.fromLineNumber),c=Math.min(n,g.toLineNumber);for(let d=m;d<=c;d++){const s=d-this._rendLineNumberStart;this._lines[s].onTokensChanged(),i=!0}}return i}}e.RenderedLinesCollection=S;class p{constructor(b){this._host=b,this.domNode=this._createDomNode(),this._linesCollection=new S(()=>this._host.createVisibleLine())}_createDomNode(){const b=(0,L.createFastDomNode)(document.createElement("div"));return b.setClassName("view-layer"),b.setPosition("absolute"),b.domNode.setAttribute("role","presentation"),b.domNode.setAttribute("aria-hidden","true"),b}onConfigurationChanged(b){return!!b.hasChanged(144)}onFlushed(b){return this._linesCollection.flush(),!0}onLinesChanged(b){return this._linesCollection.onLinesChanged(b.fromLineNumber,b.count)}onLinesDeleted(b){const a=this._linesCollection.onLinesDeleted(b.fromLineNumber,b.toLineNumber);if(a)for(let n=0,i=a.length;n<i;n++){const t=a[n].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onLinesInserted(b){const a=this._linesCollection.onLinesInserted(b.fromLineNumber,b.toLineNumber);if(a)for(let n=0,i=a.length;n<i;n++){const t=a[n].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onScrollChanged(b){return b.scrollTopChanged}onTokensChanged(b){return this._linesCollection.onTokensChanged(b.ranges)}onZonesChanged(b){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(b){return this._linesCollection.getLine(b)}renderLines(b){const a=this._linesCollection._get(),n=new w(this.domNode.domNode,this._host,b),i={rendLineNumberStart:a.rendLineNumberStart,lines:a.lines,linesLength:a.lines.length},t=n.render(i,b.startLineNumber,b.endLineNumber,b.relativeVerticalOffset);this._linesCollection._set(t.rendLineNumberStart,t.lines)}}e.VisibleLinesCollection=p;class w{constructor(b,a,n){this.domNode=b,this.host=a,this.viewportData=n}render(b,a,n,i){const t={rendLineNumberStart:b.rendLineNumberStart,lines:b.lines.slice(0),linesLength:b.linesLength};if(t.rendLineNumberStart+t.linesLength-1<a||n<t.rendLineNumberStart){t.rendLineNumberStart=a,t.linesLength=n-a+1,t.lines=[];for(let o=a;o<=n;o++)t.lines[o-a]=this.host.createVisibleLine();return this._finishRendering(t,!0,i),t}if(this._renderUntouchedLines(t,Math.max(a-t.rendLineNumberStart,0),Math.min(n-t.rendLineNumberStart,t.linesLength-1),i,a),t.rendLineNumberStart>a){const o=a,g=Math.min(n,t.rendLineNumberStart-1);o<=g&&(this._insertLinesBefore(t,o,g,i,a),t.linesLength+=g-o+1)}else if(t.rendLineNumberStart<a){const o=Math.min(t.linesLength,a-t.rendLineNumberStart);o>0&&(this._removeLinesBefore(t,o),t.linesLength-=o)}if(t.rendLineNumberStart=a,t.rendLineNumberStart+t.linesLength-1<n){const o=t.rendLineNumberStart+t.linesLength,g=n;o<=g&&(this._insertLinesAfter(t,o,g,i,a),t.linesLength+=g-o+1)}else if(t.rendLineNumberStart+t.linesLength-1>n){const o=Math.max(0,n-t.rendLineNumberStart+1),m=t.linesLength-1-o+1;m>0&&(this._removeLinesAfter(t,m),t.linesLength-=m)}return this._finishRendering(t,!1,i),t}_renderUntouchedLines(b,a,n,i,t){const o=b.rendLineNumberStart,g=b.lines;for(let m=a;m<=n;m++){const c=o+m;g[m].layoutLine(c,i[c-t])}}_insertLinesBefore(b,a,n,i,t){const o=[];let g=0;for(let m=a;m<=n;m++)o[g++]=this.host.createVisibleLine();b.lines=o.concat(b.lines)}_removeLinesBefore(b,a){for(let n=0;n<a;n++){const i=b.lines[n].getDomNode();i&&this.domNode.removeChild(i)}b.lines.splice(0,a)}_insertLinesAfter(b,a,n,i,t){const o=[];let g=0;for(let m=a;m<=n;m++)o[g++]=this.host.createVisibleLine();b.lines=b.lines.concat(o)}_removeLinesAfter(b,a){const n=b.linesLength-a;for(let i=0;i<a;i++){const t=b.lines[n+i].getDomNode();t&&this.domNode.removeChild(t)}b.lines.splice(n,a)}_finishRenderingNewLines(b,a,n,i){w._ttPolicy&&(n=w._ttPolicy.createHTML(n));const t=this.domNode.lastChild;a||!t?this.domNode.innerHTML=n:t.insertAdjacentHTML("afterend",n);let o=this.domNode.lastChild;for(let g=b.linesLength-1;g>=0;g--){const m=b.lines[g];i[g]&&(m.setDomNode(o),o=o.previousSibling)}}_finishRenderingInvalidLines(b,a,n){const i=document.createElement("div");w._ttPolicy&&(a=w._ttPolicy.createHTML(a)),i.innerHTML=a;for(let t=0;t<b.linesLength;t++){const o=b.lines[t];if(n[t]){const g=i.firstChild,m=o.getDomNode();m.parentNode.replaceChild(g,m),o.setDomNode(g)}}}_finishRendering(b,a,n){const i=w._sb,t=b.linesLength,o=b.lines,g=b.rendLineNumberStart,m=[];{i.reset();let c=!1;for(let d=0;d<t;d++){const s=o[d];m[d]=!1,!(s.getDomNode()||!s.renderLine(d+g,n[d],this.viewportData,i))&&(m[d]=!0,c=!0)}c&&this._finishRenderingNewLines(b,a,i.build(),m)}{i.reset();let c=!1;const d=[];for(let s=0;s<t;s++){const l=o[s];d[s]=!1,!(m[s]||!l.renderLine(s+g,n[s],this.viewportData,i))&&(d[s]=!0,c=!0)}c&&this._finishRenderingInvalidLines(b,i.build(),d)}}}w._ttPolicy=(0,k.createTrustedTypesPolicy)("editorViewLayer",{createHTML:v=>v}),w._sb=new D.StringBuilder(1e5)}),define(ne[620],se([1,0,41,74,239,55]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class S extends D.ViewPart{constructor(a){super(a),this._visibleLines=new y.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration.options.get(50);(0,k.applyFontInfo)(this.domNode,i),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let a=0,n=this._dynamicOverlays.length;a<n;a++)if(this._dynamicOverlays[a].shouldRender())return!0;return!1}dispose(){super.dispose();for(let a=0,n=this._dynamicOverlays.length;a<n;a++)this._dynamicOverlays[a].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new p(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(a){this._dynamicOverlays.push(a)}onConfigurationChanged(a){this._visibleLines.onConfigurationChanged(a);const n=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let g=n;g<=i;g++)this._visibleLines.getVisibleLine(g).onConfigurationChanged(a);const o=this._context.configuration.options.get(50);return(0,k.applyFontInfo)(this.domNode,o),!0}onFlushed(a){return this._visibleLines.onFlushed(a)}onFocusChanged(a){return this._isFocused=a.isFocused,!0}onLinesChanged(a){return this._visibleLines.onLinesChanged(a)}onLinesDeleted(a){return this._visibleLines.onLinesDeleted(a)}onLinesInserted(a){return this._visibleLines.onLinesInserted(a)}onScrollChanged(a){return this._visibleLines.onScrollChanged(a)||!0}onTokensChanged(a){return this._visibleLines.onTokensChanged(a)}onZonesChanged(a){return this._visibleLines.onZonesChanged(a)}prepareRender(a){const n=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,t=n.length;i<t;i++){const o=n[i];o.prepareRender(a),o.onDidRender()}}render(a){this._viewOverlaysRender(a),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(a){this._visibleLines.renderLines(a.viewportData)}}e.ViewOverlays=S;class p{constructor(a,n){this._configuration=a,this._lineHeight=this._configuration.options.get(67),this._dynamicOverlays=n,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(a){this._domNode=(0,L.createFastDomNode)(a)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(a){this._lineHeight=this._configuration.options.get(67)}renderLine(a,n,i,t){let o="";for(let g=0,m=this._dynamicOverlays.length;g<m;g++){const c=this._dynamicOverlays[g];o+=c.render(i.startLineNumber,a)}return this._renderedContent===o?!1:(this._renderedContent=o,t.appendString('<div style="position:absolute;top:'),t.appendString(String(n)),t.appendString("px;width:100%;height:"),t.appendString(String(this._lineHeight)),t.appendString('px;">'),t.appendString(o),t.appendString("</div>"),!0)}layoutLine(a,n){this._domNode&&(this._domNode.setTop(n),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=p;class w extends S{constructor(a){super(a);const i=this._context.configuration.options.get(144);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(a){const i=this._context.configuration.options.get(144);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(a)||!0}onScrollChanged(a){return super.onScrollChanged(a)||a.scrollWidthChanged}_viewOverlaysRender(a){super._viewOverlaysRender(a),this.domNode.setWidth(Math.max(a.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=w;class v extends S{constructor(a){super(a);const n=this._context.configuration.options,i=n.get(144);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,k.applyFontInfo)(this.domNode,n.get(50))}onConfigurationChanged(a){const n=this._context.configuration.options;(0,k.applyFontInfo)(this.domNode,n.get(50));const i=n.get(144);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(a)||!0}onScrollChanged(a){return super.onScrollChanged(a)||a.scrollHeightChanged}_viewOverlaysRender(a){super._viewOverlaysRender(a);const n=Math.min(a.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=v}),define(ne[335],se([1,0,149,106]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function y(w){return w.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(v,b,a,n){this.oldPosition=v,this.oldText=b,this.newPosition=a,this.newText=n}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${y(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${y(this.oldText)}")`:`(replace@${this.oldPosition} "${y(this.oldText)}" with "${y(this.newText)}")`}static _writeStringSize(v){return 4+2*v.length}static _writeString(v,b,a){const n=b.length;L.writeUInt32BE(v,n,a),a+=4;for(let i=0;i<n;i++)L.writeUInt16LE(v,b.charCodeAt(i),a),a+=2;return a}static _readString(v,b){const a=L.readUInt32BE(v,b);return b+=4,(0,k.decodeUTF16LE)(v,b,a)}writeSize(){return 8+D._writeStringSize(this.oldText)+D._writeStringSize(this.newText)}write(v,b){return L.writeUInt32BE(v,this.oldPosition,b),b+=4,L.writeUInt32BE(v,this.newPosition,b),b+=4,b=D._writeString(v,this.oldText,b),b=D._writeString(v,this.newText,b),b}static read(v,b,a){const n=L.readUInt32BE(v,b);b+=4;const i=L.readUInt32BE(v,b);b+=4;const t=D._readString(v,b);b+=D._writeStringSize(t);const o=D._readString(v,b);return b+=D._writeStringSize(o),a.push(new D(n,t,i,o)),b}}e.TextChange=D;function S(w,v){return w===null||w.length===0?v:new p(w,v).compress()}e.compressConsecutiveTextChanges=S;class p{constructor(v,b){this._prevEdits=v,this._currEdits=b,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let v=0,b=0,a=this._getPrev(v),n=this._getCurr(b);for(;v<this._prevLen||b<this._currLen;){if(a===null){this._acceptCurr(n),n=this._getCurr(++b);continue}if(n===null){this._acceptPrev(a),a=this._getPrev(++v);continue}if(n.oldEnd<=a.newPosition){this._acceptCurr(n),n=this._getCurr(++b);continue}if(a.newEnd<=n.oldPosition){this._acceptPrev(a),a=this._getPrev(++v);continue}if(n.oldPosition<a.newPosition){const[m,c]=p._splitCurr(n,a.newPosition-n.oldPosition);this._acceptCurr(m),n=c;continue}if(a.newPosition<n.oldPosition){const[m,c]=p._splitPrev(a,n.oldPosition-a.newPosition);this._acceptPrev(m),a=c;continue}let o,g;if(n.oldEnd===a.newEnd)o=a,g=n,a=this._getPrev(++v),n=this._getCurr(++b);else if(n.oldEnd<a.newEnd){const[m,c]=p._splitPrev(a,n.oldLength);o=m,g=n,a=c,n=this._getCurr(++b)}else{const[m,c]=p._splitCurr(n,a.newLength);o=a,g=m,a=this._getPrev(++v),n=c}this._result[this._resultLen++]=new D(o.oldPosition,o.oldText,g.newPosition,g.newText),this._prevDeltaOffset+=o.newLength-o.oldLength,this._currDeltaOffset+=g.newLength-g.oldLength}const i=p._merge(this._result);return p._removeNoOps(i)}_acceptCurr(v){this._result[this._resultLen++]=p._rebaseCurr(this._prevDeltaOffset,v),this._currDeltaOffset+=v.newLength-v.oldLength}_getCurr(v){return v<this._currLen?this._currEdits[v]:null}_acceptPrev(v){this._result[this._resultLen++]=p._rebasePrev(this._currDeltaOffset,v),this._prevDeltaOffset+=v.newLength-v.oldLength}_getPrev(v){return v<this._prevLen?this._prevEdits[v]:null}static _rebaseCurr(v,b){return new D(b.oldPosition-v,b.oldText,b.newPosition,b.newText)}static _rebasePrev(v,b){return new D(b.oldPosition,b.oldText,b.newPosition+v,b.newText)}static _splitPrev(v,b){const a=v.newText.substr(0,b),n=v.newText.substr(b);return[new D(v.oldPosition,v.oldText,v.newPosition,a),new D(v.oldEnd,"",v.newPosition+b,n)]}static _splitCurr(v,b){const a=v.oldText.substr(0,b),n=v.oldText.substr(b);return[new D(v.oldPosition,a,v.newPosition,v.newText),new D(v.oldPosition+b,n,v.newEnd,"")]}static _merge(v){if(v.length===0)return v;const b=[];let a=0,n=v[0];for(let i=1;i<v.length;i++){const t=v[i];n.oldEnd===t.oldPosition?n=new D(n.oldPosition,n.oldText+t.oldText,n.newPosition,n.newText+t.newText):(b[a++]=n,n=t)}return b[a++]=n,b}static _removeNoOps(v){if(v.length===0)return v;const b=[];let a=0;for(let n=0;n<v.length;n++){const i=v[n];i.oldText!==i.newText&&(b[a++]=i)}return b}}}),define(ne[336],se([1,0,322,98]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function y(D,S,p,w,v,b){if(Array.isArray(D)){let a=0;for(const n of D){const i=y(n,S,p,w,v,b);if(i===10)return i;i>a&&(a=i)}return a}else{if(typeof D=="string")return w?D==="*"?5:D===p?10:0:0;if(D){const{language:a,pattern:n,scheme:i,hasAccessToAllModels:t,notebookType:o}=D;if(!w&&!t)return 0;o&&v&&(S=v);let g=0;if(i)if(i===S.scheme)g=10;else if(i==="*")g=5;else return 0;if(a)if(a===p)g=10;else if(a==="*")g=Math.max(g,5);else return 0;if(o)if(o===b)g=10;else if(o==="*"&&b!==void 0)g=Math.max(g,5);else return 0;if(n){let m;if(typeof n=="string"?m=n:m={...n,base:(0,k.normalize)(n.base)},m===S.fsPath||(0,L.match)(m,S.fsPath))g=10;else return 0}return g}else return 0}}e.score=y}),define(ne[621],se([1,0,7,2,40,336]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function S(b){return typeof b=="string"?!1:Array.isArray(b)?b.every(S):!!b.exclusive}class p{constructor(a,n,i,t){this.uri=a,this.languageId=n,this.notebookUri=i,this.notebookType=t}equals(a){var n,i;return this.notebookType===a.notebookType&&this.languageId===a.languageId&&this.uri.toString()===a.uri.toString()&&((n=this.notebookUri)===null||n===void 0?void 0:n.toString())===((i=a.notebookUri)===null||i===void 0?void 0:i.toString())}}class w{constructor(a){this._notebookInfoResolver=a,this._clock=0,this._entries=[],this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event}register(a,n){let i={selector:a,provider:n,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.toDisposable)(()=>{if(i){const t=this._entries.indexOf(i);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(a){return this.all(a).length>0}all(a){if(!a)return[];this._updateScores(a);const n=[];for(const i of this._entries)i._score>0&&n.push(i.provider);return n}ordered(a){const n=[];return this._orderedForEach(a,i=>n.push(i.provider)),n}orderedGroups(a){const n=[];let i,t;return this._orderedForEach(a,o=>{i&&t===o._score?i.push(o.provider):(t=o._score,i=[o.provider],n.push(i))}),n}_orderedForEach(a,n){this._updateScores(a);for(const i of this._entries)i._score>0&&n(i)}_updateScores(a){var n,i;const t=(n=this._notebookInfoResolver)===null||n===void 0?void 0:n.call(this,a.uri),o=t?new p(a.uri,a.getLanguageId(),t.uri,t.type):new p(a.uri,a.getLanguageId(),void 0,void 0);if(!(!((i=this._lastCandidate)===null||i===void 0)&&i.equals(o))){this._lastCandidate=o;for(const g of this._entries)if(g._score=(0,D.score)(g.selector,o.uri,o.languageId,(0,y.shouldSynchronizeModel)(a),o.notebookUri,o.notebookType),S(g.selector)&&g._score>0){for(const m of this._entries)m._score=0;g._score=1e3;break}this._entries.sort(w._compareByScoreAndTime)}}static _compareByScoreAndTime(a,n){return a._score<n._score?1:a._score>n._score?-1:v(a.selector)&&!v(n.selector)?1:!v(a.selector)&&v(n.selector)?-1:a._time<n._time?1:a._time>n._time?-1:0}}e.LanguageFeatureRegistry=w;function v(b){return typeof b=="string"?!1:Array.isArray(b)?b.some(v):!!b.isBuiltin}}),define(ne[240],se([1,0,11,106,5]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class D{constructor(s,l,r,h,u,f){this._richEditBracketBrand=void 0,this.languageId=s,this.index=l,this.open=r,this.close=h,this.forwardRegex=u,this.reversedRegex=f,this._openSet=D._toSet(this.open),this._closeSet=D._toSet(this.close)}isOpen(s){return this._openSet.has(s)}isClose(s){return this._closeSet.has(s)}static _toSet(s){const l=new Set;for(const r of s)l.add(r);return l}}e.RichEditBracket=D;function S(d){const s=d.length;d=d.map(f=>[f[0].toLowerCase(),f[1].toLowerCase()]);const l=[];for(let f=0;f<s;f++)l[f]=f;const r=(f,C)=>{const[_,E]=f,[I,T]=C;return _===I||_===T||E===I||E===T},h=(f,C)=>{const _=Math.min(f,C),E=Math.max(f,C);for(let I=0;I<s;I++)l[I]===E&&(l[I]=_)};for(let f=0;f<s;f++){const C=d[f];for(let _=f+1;_<s;_++){const E=d[_];r(C,E)&&h(l[f],l[_])}}const u=[];for(let f=0;f<s;f++){const C=[],_=[];for(let E=0;E<s;E++)if(l[E]===f){const[I,T]=d[E];C.push(I),_.push(T)}C.length>0&&u.push({open:C,close:_})}return u}class p{constructor(s,l){this._richEditBracketsBrand=void 0;const r=S(l);this.brackets=r.map((h,u)=>new D(s,u,h.open,h.close,a(h.open,h.close,r,u),n(h.open,h.close,r,u))),this.forwardRegex=i(this.brackets),this.reversedRegex=t(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const h of this.brackets){for(const u of h.open)this.textIsBracket[u]=h,this.textIsOpenBracket[u]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,u.length);for(const u of h.close)this.textIsBracket[u]=h,this.textIsOpenBracket[u]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,u.length)}}}e.RichEditBrackets=p;function w(d,s,l,r){for(let h=0,u=s.length;h<u;h++){if(h===l)continue;const f=s[h];for(const C of f.open)C.indexOf(d)>=0&&r.push(C);for(const C of f.close)C.indexOf(d)>=0&&r.push(C)}}function v(d,s){return d.length-s.length}function b(d){if(d.length<=1)return d;const s=[],l=new Set;for(const r of d)l.has(r)||(s.push(r),l.add(r));return s}function a(d,s,l,r){let h=[];h=h.concat(d),h=h.concat(s);for(let u=0,f=h.length;u<f;u++)w(h[u],l,r,h);return h=b(h),h.sort(v),h.reverse(),g(h)}function n(d,s,l,r){let h=[];h=h.concat(d),h=h.concat(s);for(let u=0,f=h.length;u<f;u++)w(h[u],l,r,h);return h=b(h),h.sort(v),h.reverse(),g(h.map(m))}function i(d){let s=[];for(const l of d){for(const r of l.open)s.push(r);for(const r of l.close)s.push(r)}return s=b(s),g(s)}function t(d){let s=[];for(const l of d){for(const r of l.open)s.push(r);for(const r of l.close)s.push(r)}return s=b(s),g(s.map(m))}function o(d){const s=/^[\w ]+$/.test(d);return d=L.escapeRegExpCharacters(d),s?`\\b${d}\\b`:d}function g(d){const s=`(${d.map(o).join(")|(")})`;return L.createRegExp(s,!0)}const m=function(){function d(r){const h=new Uint16Array(r.length);let u=0;for(let f=r.length-1;f>=0;f--)h[u++]=r.charCodeAt(f);return k.getPlatformTextDecoder().decode(h)}let s=null,l=null;return function(h){return s!==h&&(s=h,l=d(s)),l}}();class c{static _findPrevBracketInText(s,l,r,h){const u=r.match(s);if(!u)return null;const f=r.length-(u.index||0),C=u[0].length,_=h+f;return new y.Range(l,_-C+1,l,_+1)}static findPrevBracketInRange(s,l,r,h,u){const C=m(r).substring(r.length-u,r.length-h);return this._findPrevBracketInText(s,l,C,h)}static findNextBracketInText(s,l,r,h){const u=r.match(s);if(!u)return null;const f=u.index||0,C=u[0].length;if(C===0)return null;const _=h+f;return new y.Range(l,_+1,l,_+1+C)}static findNextBracketInRange(s,l,r,h,u){const f=r.substring(h,u);return this.findNextBracketInText(s,l,f,h)}}e.BracketsUtils=c}),define(ne[622],se([1,0,13,137,240]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class D{constructor(p){this._richEditBrackets=p}getElectricCharacters(){const p=[];if(this._richEditBrackets)for(const w of this._richEditBrackets.brackets)for(const v of w.close){const b=v.charAt(v.length-1);p.push(b)}return(0,L.distinct)(p)}onElectricCharacter(p,w,v){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const b=w.findTokenIndexAtOffset(v-1);if((0,k.ignoreBracketsInToken)(w.getStandardTokenType(b)))return null;const a=this._richEditBrackets.reversedRegex,n=w.getLineContent().substring(0,v-1)+p,i=y.BracketsUtils.findPrevBracketInRange(a,1,n,0,n.length);if(!i)return null;const t=n.substring(i.startColumn-1,i.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[t])return null;const g=w.getActualLineContentBefore(i.startColumn-1);return/^\s*$/.test(g)?{matchOpenBracket:t}:null}}e.BracketElectricCharacterSupport=D}),define(ne[623],se([1,0,13,7,2,5,137,240,538]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class v extends y.Disposable{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(o,g){super(),this.textModel=o,this.languageConfigurationService=g,this.bracketPairsTree=this._register(new y.MutableDisposable),this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(m=>{var c;(!m.languageId||!((c=this.bracketPairsTree.value)===null||c===void 0)&&c.object.didLanguageChange(m.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(o){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(o){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(o){var g;(g=this.bracketPairsTree.value)===null||g===void 0||g.object.handleContentChanged(o)}handleDidChangeBackgroundTokenizationState(){var o;(o=this.bracketPairsTree.value)===null||o===void 0||o.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(o){var g;(g=this.bracketPairsTree.value)===null||g===void 0||g.object.handleDidChangeTokens(o)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const o=new y.DisposableStore;this.bracketPairsTree.value=b(o.add(new w.BracketPairsTree(this.textModel,g=>this.languageConfigurationService.getLanguageConfiguration(g))),o),o.add(this.bracketPairsTree.value.object.onDidChange(g=>this.onDidChangeEmitter.fire(g))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(o){var g;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((g=this.bracketPairsTree.value)===null||g===void 0?void 0:g.object.getBracketPairsInRange(o,!1))||L.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(o){var g;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((g=this.bracketPairsTree.value)===null||g===void 0?void 0:g.object.getBracketPairsInRange(o,!0))||L.CallbackIterable.empty}getBracketsInRange(o,g=!1){var m;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((m=this.bracketPairsTree.value)===null||m===void 0?void 0:m.object.getBracketsInRange(o,g))||L.CallbackIterable.empty}findMatchingBracketUp(o,g,m){const c=this.textModel.validatePosition(g),d=this.textModel.getLanguageIdAtPosition(c.lineNumber,c.column);if(this.canBuildAST){const s=this.languageConfigurationService.getLanguageConfiguration(d).bracketsNew.getClosingBracketInfo(o);if(!s)return null;const l=this.getBracketPairsInRange(D.Range.fromPositions(g,g)).findLast(r=>s.closes(r.openingBracketInfo));return l?l.openingBracketRange:null}else{const s=o.toLowerCase(),l=this.languageConfigurationService.getLanguageConfiguration(d).brackets;if(!l)return null;const r=l.textIsBracket[s];return r?i(this._findMatchingBracketUp(r,c,a(m))):null}}matchBracket(o,g){if(this.canBuildAST){const m=this.getBracketPairsInRange(D.Range.fromPositions(o,o)).filter(c=>c.closingBracketRange!==void 0&&(c.openingBracketRange.containsPosition(o)||c.closingBracketRange.containsPosition(o))).findLastMaxBy((0,L.compareBy)(c=>c.openingBracketRange.containsPosition(o)?c.openingBracketRange:c.closingBracketRange,D.Range.compareRangesUsingStarts));return m?[m.openingBracketRange,m.closingBracketRange]:null}else{const m=a(g);return this._matchBracket(this.textModel.validatePosition(o),m)}}_establishBracketSearchOffsets(o,g,m,c){const d=g.getCount(),s=g.getLanguageId(c);let l=Math.max(0,o.column-1-m.maxBracketLength);for(let h=c-1;h>=0;h--){const u=g.getEndOffset(h);if(u<=l)break;if((0,S.ignoreBracketsInToken)(g.getStandardTokenType(h))||g.getLanguageId(h)!==s){l=u;break}}let r=Math.min(g.getLineContent().length,o.column-1+m.maxBracketLength);for(let h=c+1;h<d;h++){const u=g.getStartOffset(h);if(u>=r)break;if((0,S.ignoreBracketsInToken)(g.getStandardTokenType(h))||g.getLanguageId(h)!==s){r=u;break}}return{searchStartOffset:l,searchEndOffset:r}}_matchBracket(o,g){const m=o.lineNumber,c=this.textModel.tokenization.getLineTokens(m),d=this.textModel.getLineContent(m),s=c.findTokenIndexAtOffset(o.column-1);if(s<0)return null;const l=this.languageConfigurationService.getLanguageConfiguration(c.getLanguageId(s)).brackets;if(l&&!(0,S.ignoreBracketsInToken)(c.getStandardTokenType(s))){let{searchStartOffset:r,searchEndOffset:h}=this._establishBracketSearchOffsets(o,c,l,s),u=null;for(;;){const f=p.BracketsUtils.findNextBracketInRange(l.forwardRegex,m,d,r,h);if(!f)break;if(f.startColumn<=o.column&&o.column<=f.endColumn){const C=d.substring(f.startColumn-1,f.endColumn-1).toLowerCase(),_=this._matchFoundBracket(f,l.textIsBracket[C],l.textIsOpenBracket[C],g);if(_){if(_ instanceof n)return null;u=_}}r=f.endColumn-1}if(u)return u}if(s>0&&c.getStartOffset(s)===o.column-1){const r=s-1,h=this.languageConfigurationService.getLanguageConfiguration(c.getLanguageId(r)).brackets;if(h&&!(0,S.ignoreBracketsInToken)(c.getStandardTokenType(r))){const{searchStartOffset:u,searchEndOffset:f}=this._establishBracketSearchOffsets(o,c,h,r),C=p.BracketsUtils.findPrevBracketInRange(h.reversedRegex,m,d,u,f);if(C&&C.startColumn<=o.column&&o.column<=C.endColumn){const _=d.substring(C.startColumn-1,C.endColumn-1).toLowerCase(),E=this._matchFoundBracket(C,h.textIsBracket[_],h.textIsOpenBracket[_],g);if(E)return E instanceof n?null:E}}}return null}_matchFoundBracket(o,g,m,c){if(!g)return null;const d=m?this._findMatchingBracketDown(g,o.getEndPosition(),c):this._findMatchingBracketUp(g,o.getStartPosition(),c);return d?d instanceof n?d:[o,d]:null}_findMatchingBracketUp(o,g,m){const c=o.languageId,d=o.reversedRegex;let s=-1,l=0;const r=(h,u,f,C)=>{for(;;){if(m&&++l%100===0&&!m())return n.INSTANCE;const _=p.BracketsUtils.findPrevBracketInRange(d,h,u,f,C);if(!_)break;const E=u.substring(_.startColumn-1,_.endColumn-1).toLowerCase();if(o.isOpen(E)?s++:o.isClose(E)&&s--,s===0)return _;C=_.startColumn-1}return null};for(let h=g.lineNumber;h>=1;h--){const u=this.textModel.tokenization.getLineTokens(h),f=u.getCount(),C=this.textModel.getLineContent(h);let _=f-1,E=C.length,I=C.length;h===g.lineNumber&&(_=u.findTokenIndexAtOffset(g.column-1),E=g.column-1,I=g.column-1);let T=!0;for(;_>=0;_--){const A=u.getLanguageId(_)===c&&!(0,S.ignoreBracketsInToken)(u.getStandardTokenType(_));if(A)T?E=u.getStartOffset(_):(E=u.getStartOffset(_),I=u.getEndOffset(_));else if(T&&E!==I){const R=r(h,C,E,I);if(R)return R}T=A}if(T&&E!==I){const A=r(h,C,E,I);if(A)return A}}return null}_findMatchingBracketDown(o,g,m){const c=o.languageId,d=o.forwardRegex;let s=1,l=0;const r=(u,f,C,_)=>{for(;;){if(m&&++l%100===0&&!m())return n.INSTANCE;const E=p.BracketsUtils.findNextBracketInRange(d,u,f,C,_);if(!E)break;const I=f.substring(E.startColumn-1,E.endColumn-1).toLowerCase();if(o.isOpen(I)?s++:o.isClose(I)&&s--,s===0)return E;C=E.endColumn-1}return null},h=this.textModel.getLineCount();for(let u=g.lineNumber;u<=h;u++){const f=this.textModel.tokenization.getLineTokens(u),C=f.getCount(),_=this.textModel.getLineContent(u);let E=0,I=0,T=0;u===g.lineNumber&&(E=f.findTokenIndexAtOffset(g.column-1),I=g.column-1,T=g.column-1);let A=!0;for(;E<C;E++){const R=f.getLanguageId(E)===c&&!(0,S.ignoreBracketsInToken)(f.getStandardTokenType(E));if(R)A||(I=f.getStartOffset(E)),T=f.getEndOffset(E);else if(A&&I!==T){const M=r(u,_,I,T);if(M)return M}A=R}if(A&&I!==T){const R=r(u,_,I,T);if(R)return R}}return null}findPrevBracket(o){var g;const m=this.textModel.validatePosition(o);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((g=this.bracketPairsTree.value)===null||g===void 0?void 0:g.object.getFirstBracketBefore(m))||null;let c=null,d=null,s=null;for(let l=m.lineNumber;l>=1;l--){const r=this.textModel.tokenization.getLineTokens(l),h=r.getCount(),u=this.textModel.getLineContent(l);let f=h-1,C=u.length,_=u.length;if(l===m.lineNumber){f=r.findTokenIndexAtOffset(m.column-1),C=m.column-1,_=m.column-1;const I=r.getLanguageId(f);c!==I&&(c=I,d=this.languageConfigurationService.getLanguageConfiguration(c).brackets,s=this.languageConfigurationService.getLanguageConfiguration(c).bracketsNew)}let E=!0;for(;f>=0;f--){const I=r.getLanguageId(f);if(c!==I){if(d&&s&&E&&C!==_){const A=p.BracketsUtils.findPrevBracketInRange(d.reversedRegex,l,u,C,_);if(A)return this._toFoundBracket(s,A);E=!1}c=I,d=this.languageConfigurationService.getLanguageConfiguration(c).brackets,s=this.languageConfigurationService.getLanguageConfiguration(c).bracketsNew}const T=!!d&&!(0,S.ignoreBracketsInToken)(r.getStandardTokenType(f));if(T)E?C=r.getStartOffset(f):(C=r.getStartOffset(f),_=r.getEndOffset(f));else if(s&&d&&E&&C!==_){const A=p.BracketsUtils.findPrevBracketInRange(d.reversedRegex,l,u,C,_);if(A)return this._toFoundBracket(s,A)}E=T}if(s&&d&&E&&C!==_){const I=p.BracketsUtils.findPrevBracketInRange(d.reversedRegex,l,u,C,_);if(I)return this._toFoundBracket(s,I)}}return null}findNextBracket(o){var g;const m=this.textModel.validatePosition(o);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((g=this.bracketPairsTree.value)===null||g===void 0?void 0:g.object.getFirstBracketAfter(m))||null;const c=this.textModel.getLineCount();let d=null,s=null,l=null;for(let r=m.lineNumber;r<=c;r++){const h=this.textModel.tokenization.getLineTokens(r),u=h.getCount(),f=this.textModel.getLineContent(r);let C=0,_=0,E=0;if(r===m.lineNumber){C=h.findTokenIndexAtOffset(m.column-1),_=m.column-1,E=m.column-1;const T=h.getLanguageId(C);d!==T&&(d=T,s=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l=this.languageConfigurationService.getLanguageConfiguration(d).bracketsNew)}let I=!0;for(;C<u;C++){const T=h.getLanguageId(C);if(d!==T){if(l&&s&&I&&_!==E){const R=p.BracketsUtils.findNextBracketInRange(s.forwardRegex,r,f,_,E);if(R)return this._toFoundBracket(l,R);I=!1}d=T,s=this.languageConfigurationService.getLanguageConfiguration(d).brackets,l=this.languageConfigurationService.getLanguageConfiguration(d).bracketsNew}const A=!!s&&!(0,S.ignoreBracketsInToken)(h.getStandardTokenType(C));if(A)I||(_=h.getStartOffset(C)),E=h.getEndOffset(C);else if(l&&s&&I&&_!==E){const R=p.BracketsUtils.findNextBracketInRange(s.forwardRegex,r,f,_,E);if(R)return this._toFoundBracket(l,R)}I=A}if(l&&s&&I&&_!==E){const T=p.BracketsUtils.findNextBracketInRange(s.forwardRegex,r,f,_,E);if(T)return this._toFoundBracket(l,T)}}return null}findEnclosingBrackets(o,g){const m=this.textModel.validatePosition(o);if(this.canBuildAST){const _=D.Range.fromPositions(m),E=this.getBracketPairsInRange(D.Range.fromPositions(m,m)).findLast(I=>I.closingBracketRange!==void 0&&I.range.strictContainsRange(_));return E?[E.openingBracketRange,E.closingBracketRange]:null}const c=a(g),d=this.textModel.getLineCount(),s=new Map;let l=[];const r=(_,E)=>{if(!s.has(_)){const I=[];for(let T=0,A=E?E.brackets.length:0;T<A;T++)I[T]=0;s.set(_,I)}l=s.get(_)};let h=0;const u=(_,E,I,T,A)=>{for(;;){if(c&&++h%100===0&&!c())return n.INSTANCE;const R=p.BracketsUtils.findNextBracketInRange(_.forwardRegex,E,I,T,A);if(!R)break;const M=I.substring(R.startColumn-1,R.endColumn-1).toLowerCase(),N=_.textIsBracket[M];if(N&&(N.isOpen(M)?l[N.index]++:N.isClose(M)&&l[N.index]--,l[N.index]===-1))return this._matchFoundBracket(R,N,!1,c);T=R.endColumn-1}return null};let f=null,C=null;for(let _=m.lineNumber;_<=d;_++){const E=this.textModel.tokenization.getLineTokens(_),I=E.getCount(),T=this.textModel.getLineContent(_);let A=0,R=0,M=0;if(_===m.lineNumber){A=E.findTokenIndexAtOffset(m.column-1),R=m.column-1,M=m.column-1;const P=E.getLanguageId(A);f!==P&&(f=P,C=this.languageConfigurationService.getLanguageConfiguration(f).brackets,r(f,C))}let N=!0;for(;A<I;A++){const P=E.getLanguageId(A);if(f!==P){if(C&&N&&R!==M){const O=u(C,_,T,R,M);if(O)return i(O);N=!1}f=P,C=this.languageConfigurationService.getLanguageConfiguration(f).brackets,r(f,C)}const F=!!C&&!(0,S.ignoreBracketsInToken)(E.getStandardTokenType(A));if(F)N||(R=E.getStartOffset(A)),M=E.getEndOffset(A);else if(C&&N&&R!==M){const O=u(C,_,T,R,M);if(O)return i(O)}N=F}if(C&&N&&R!==M){const P=u(C,_,T,R,M);if(P)return i(P)}}return null}_toFoundBracket(o,g){if(!g)return null;let m=this.textModel.getValueInRange(g);m=m.toLowerCase();const c=o.getBracketInfo(m);return c?{range:g,bracketInfo:c}:null}}e.BracketPairsTextModelPart=v;function b(t,o){return{object:t,dispose:()=>o?.dispose()}}function a(t){if(typeof t>"u")return()=>!0;{const o=Date.now();return()=>Date.now()-o<=t}}class n{constructor(){this._searchCanceledBrand=void 0}}n.INSTANCE=new n;function i(t){return t instanceof n?null:t}}),define(ne[337],se([1,0,7,11,5,40,301,133,335,2]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class b extends v.Disposable{constructor(n,i,t,o,g,m,c){super(),this._onDidChangeContent=this._register(new L.Emitter),this._BOM=i,this._mightContainNonBasicASCII=!m,this._mightContainRTL=o,this._mightContainUnusualLineTerminators=g,this._pieceTree=new S.PieceTreeBase(n,t,c)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(n){return this._pieceTree.createSnapshot(n?this._BOM:"")}getOffsetAt(n,i){return this._pieceTree.getOffsetAt(n,i)}getPositionAt(n){return this._pieceTree.getPositionAt(n)}getRangeAt(n,i){const t=n+i,o=this.getPositionAt(n),g=this.getPositionAt(t);return new y.Range(o.lineNumber,o.column,g.lineNumber,g.column)}getValueInRange(n,i=0){if(n.isEmpty())return"";const t=this._getEndOfLine(i);return this._pieceTree.getValueInRange(n,t)}getValueLengthInRange(n,i=0){if(n.isEmpty())return 0;if(n.startLineNumber===n.endLineNumber)return n.endColumn-n.startColumn;const t=this.getOffsetAt(n.startLineNumber,n.startColumn),o=this.getOffsetAt(n.endLineNumber,n.endColumn);let g=0;const m=this._getEndOfLine(i),c=this.getEOL();if(m.length!==c.length){const d=m.length-c.length,s=n.endLineNumber-n.startLineNumber;g=d*s}return o-t+g}getCharacterCountInRange(n,i=0){if(this._mightContainNonBasicASCII){let t=0;const o=n.startLineNumber,g=n.endLineNumber;for(let m=o;m<=g;m++){const c=this.getLineContent(m),d=m===o?n.startColumn-1:0,s=m===g?n.endColumn-1:c.length;for(let l=d;l<s;l++)k.isHighSurrogate(c.charCodeAt(l))?(t=t+1,l=l+1):t=t+1}return t+=this._getEndOfLine(i).length*(g-o),t}return this.getValueLengthInRange(n,i)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(n){return this._pieceTree.getLineContent(n)}getLineCharCode(n,i){return this._pieceTree.getLineCharCode(n,i)}getLineLength(n){return this._pieceTree.getLineLength(n)}getLineFirstNonWhitespaceColumn(n){const i=k.firstNonWhitespaceIndex(this.getLineContent(n));return i===-1?0:i+1}getLineLastNonWhitespaceColumn(n){const i=k.lastNonWhitespaceIndex(this.getLineContent(n));return i===-1?0:i+2}_getEndOfLine(n){switch(n){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(n){this._pieceTree.setEOL(n)}applyEdits(n,i,t){let o=this._mightContainRTL,g=this._mightContainUnusualLineTerminators,m=this._mightContainNonBasicASCII,c=!0,d=[];for(let C=0;C<n.length;C++){const _=n[C];c&&_._isTracked&&(c=!1);const E=_.range;if(_.text){let M=!0;m||(M=!k.isBasicASCII(_.text),m=M),!o&&M&&(o=k.containsRTL(_.text)),!g&&M&&(g=k.containsUnusualLineTerminators(_.text))}let I="",T=0,A=0,R=0;if(_.text){let M;[T,A,R,M]=(0,p.countEOL)(_.text);const N=this.getEOL();M===0||M===(N===`\r
`?2:1)?I=_.text:I=_.text.replace(/\r\n|\r|\n/g,N)}d[C]={sortIndex:C,identifier:_.identifier||null,range:E,rangeOffset:this.getOffsetAt(E.startLineNumber,E.startColumn),rangeLength:this.getValueLengthInRange(E),text:I,eolCount:T,firstLineLength:A,lastLineLength:R,forceMoveMarkers:!!_.forceMoveMarkers,isAutoWhitespaceEdit:_.isAutoWhitespaceEdit||!1}}d.sort(b._sortOpsAscending);let s=!1;for(let C=0,_=d.length-1;C<_;C++){const E=d[C].range.getEndPosition(),I=d[C+1].range.getStartPosition();if(I.isBeforeOrEqual(E)){if(I.isBefore(E))throw new Error("Overlapping ranges are not allowed!");s=!0}}c&&(d=this._reduceOperations(d));const l=t||i?b._getInverseEditRanges(d):[],r=[];if(i)for(let C=0;C<d.length;C++){const _=d[C],E=l[C];if(_.isAutoWhitespaceEdit&&_.range.isEmpty())for(let I=E.startLineNumber;I<=E.endLineNumber;I++){let T="";I===E.startLineNumber&&(T=this.getLineContent(_.range.startLineNumber),k.firstNonWhitespaceIndex(T)!==-1)||r.push({lineNumber:I,oldContent:T})}}let h=null;if(t){let C=0;h=[];for(let _=0;_<d.length;_++){const E=d[_],I=l[_],T=this.getValueInRange(E.range),A=E.rangeOffset+C;C+=E.text.length-T.length,h[_]={sortIndex:E.sortIndex,identifier:E.identifier,range:I,text:T,textChange:new w.TextChange(E.rangeOffset,T,A,E.text)}}s||h.sort((_,E)=>_.sortIndex-E.sortIndex)}this._mightContainRTL=o,this._mightContainUnusualLineTerminators=g,this._mightContainNonBasicASCII=m;const u=this._doApplyEdits(d);let f=null;if(i&&r.length>0){r.sort((C,_)=>_.lineNumber-C.lineNumber),f=[];for(let C=0,_=r.length;C<_;C++){const E=r[C].lineNumber;if(C>0&&r[C-1].lineNumber===E)continue;const I=r[C].oldContent,T=this.getLineContent(E);T.length===0||T===I||k.firstNonWhitespaceIndex(T)!==-1||f.push(E)}}return this._onDidChangeContent.fire(),new D.ApplyEditsResult(h,u,f)}_reduceOperations(n){return n.length<1e3?n:[this._toSingleEditOperation(n)]}_toSingleEditOperation(n){let i=!1;const t=n[0].range,o=n[n.length-1].range,g=new y.Range(t.startLineNumber,t.startColumn,o.endLineNumber,o.endColumn);let m=t.startLineNumber,c=t.startColumn;const d=[];for(let u=0,f=n.length;u<f;u++){const C=n[u],_=C.range;i=i||C.forceMoveMarkers,d.push(this.getValueInRange(new y.Range(m,c,_.startLineNumber,_.startColumn))),C.text.length>0&&d.push(C.text),m=_.endLineNumber,c=_.endColumn}const s=d.join(""),[l,r,h]=(0,p.countEOL)(s);return{sortIndex:0,identifier:n[0].identifier,range:g,rangeOffset:this.getOffsetAt(g.startLineNumber,g.startColumn),rangeLength:this.getValueLengthInRange(g,0),text:s,eolCount:l,firstLineLength:r,lastLineLength:h,forceMoveMarkers:i,isAutoWhitespaceEdit:!1}}_doApplyEdits(n){n.sort(b._sortOpsDescending);const i=[];for(let t=0;t<n.length;t++){const o=n[t],g=o.range.startLineNumber,m=o.range.startColumn,c=o.range.endLineNumber,d=o.range.endColumn;if(g===c&&m===d&&o.text.length===0)continue;o.text?(this._pieceTree.delete(o.rangeOffset,o.rangeLength),this._pieceTree.insert(o.rangeOffset,o.text,!0)):this._pieceTree.delete(o.rangeOffset,o.rangeLength);const s=new y.Range(g,m,c,d);i.push({range:s,rangeLength:o.rangeLength,text:o.text,rangeOffset:o.rangeOffset,forceMoveMarkers:o.forceMoveMarkers})}return i}findMatchesLineByLine(n,i,t,o){return this._pieceTree.findMatchesLineByLine(n,i,t,o)}static _getInverseEditRanges(n){const i=[];let t=0,o=0,g=null;for(let m=0,c=n.length;m<c;m++){const d=n[m];let s,l;g?g.range.endLineNumber===d.range.startLineNumber?(s=t,l=o+(d.range.startColumn-g.range.endColumn)):(s=t+(d.range.startLineNumber-g.range.endLineNumber),l=d.range.startColumn):(s=d.range.startLineNumber,l=d.range.startColumn);let r;if(d.text.length>0){const h=d.eolCount+1;h===1?r=new y.Range(s,l,s,l+d.firstLineLength):r=new y.Range(s,l,s+h-1,d.lastLineLength+1)}else r=new y.Range(s,l,s,l);t=r.endLineNumber,o=r.endColumn,i.push(r),g=d}return i}static _sortOpsAscending(n,i){const t=y.Range.compareRangesUsingEnds(n.range,i.range);return t===0?n.sortIndex-i.sortIndex:t}static _sortOpsDescending(n,i){const t=y.Range.compareRangesUsingEnds(n.range,i.range);return t===0?i.sortIndex-n.sortIndex:-t}}e.PieceTreeTextBuffer=b}),define(ne[624],se([1,0,11,301,337]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=void 0;class D{constructor(w,v,b,a,n,i,t,o,g){this._chunks=w,this._bom=v,this._cr=b,this._lf=a,this._crlf=n,this._containsRTL=i,this._containsUnusualLineTerminators=t,this._isBasicASCII=o,this._normalizeEOL=g}_getEOL(w){const v=this._cr+this._lf+this._crlf,b=this._cr+this._crlf;return v===0?w===1?`
`:`\r
`:b>v/2?`\r
`:`
`}create(w){const v=this._getEOL(w),b=this._chunks;if(this._normalizeEOL&&(v===`\r
`&&(this._cr>0||this._lf>0)||v===`
`&&(this._cr>0||this._crlf>0)))for(let n=0,i=b.length;n<i;n++){const t=b[n].buffer.replace(/\r\n|\r|\n/g,v),o=(0,k.createLineStartsFast)(t);b[n]=new k.StringBuffer(t,o)}const a=new y.PieceTreeTextBuffer(b,this._bom,v,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:a,disposable:a}}}class S{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(w){if(w.length===0)return;this.chunks.length===0&&L.startsWithUTF8BOM(w)&&(this.BOM=L.UTF8_BOM_CHARACTER,w=w.substr(1));const v=w.charCodeAt(w.length-1);v===13||v>=55296&&v<=56319?(this._acceptChunk1(w.substr(0,w.length-1),!1),this._hasPreviousChar=!0,this._previousChar=v):(this._acceptChunk1(w,!1),this._hasPreviousChar=!1,this._previousChar=v)}_acceptChunk1(w,v){!v&&w.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+w):this._acceptChunk2(w))}_acceptChunk2(w){const v=(0,k.createLineStarts)(this._tmpLineStarts,w);this.chunks.push(new k.StringBuffer(w,v.lineStarts)),this.cr+=v.cr,this.lf+=v.lf,this.crlf+=v.crlf,v.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=L.containsRTL(w)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=L.containsUnusualLineTerminators(w)))}finish(w=!0){return this._finish(),new D(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,w)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const w=this.chunks[this.chunks.length-1];w.buffer+=String.fromCharCode(this._previousChar);const v=(0,k.createLineStartsFast)(w.buffer);w.lineStarts=v,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=S}),define(ne[625],se([1,0,149,17]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function y(w){for(let v=0,b=w.length;v<b;v+=4){const a=w[v+0],n=w[v+1],i=w[v+2],t=w[v+3];w[v+0]=t,w[v+1]=i,w[v+2]=n,w[v+3]=a}}function D(w){const v=new Uint8Array(w.buffer,w.byteOffset,w.length*4);return k.isLittleEndian()||y(v),L.VSBuffer.wrap(v)}function S(w){const v=new Uint32Array(p(w));let b=0;if(v[b++]=w.id,w.type==="full")v[b++]=1,v[b++]=w.data.length,v.set(w.data,b),b+=w.data.length;else{v[b++]=2,v[b++]=w.deltas.length;for(const a of w.deltas)v[b++]=a.start,v[b++]=a.deleteCount,a.data?(v[b++]=a.data.length,v.set(a.data,b),b+=a.data.length):v[b++]=0}return D(v)}e.encodeSemanticTokensDto=S;function p(w){let v=0;if(v+=2,w.type==="full")v+=1+w.data.length;else{v+=1,v+=3*w.deltas.length;for(const b of w.deltas)b.data&&(v+=b.data.length)}return v}}),define(ne[193],se([1,0,7,2,17]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(a,n){return!!a[n]}class S{constructor(n,i){this.target=n.target,this.isLeftClick=n.event.leftButton,this.isMiddleClick=n.event.middleButton,this.isRightClick=n.event.rightButton,this.hasTriggerModifier=D(n.event,i.triggerModifier),this.hasSideBySideModifier=D(n.event,i.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=n.event.detail<=1}}e.ClickLinkMouseEvent=S;class p{constructor(n,i){this.keyCodeIsTriggerKey=n.keyCode===i.triggerKey,this.keyCodeIsSideBySideKey=n.keyCode===i.triggerSideBySideKey,this.hasTriggerModifier=D(n,i.triggerModifier)}}e.ClickLinkKeyboardEvent=p;class w{constructor(n,i,t,o){this.triggerKey=n,this.triggerModifier=i,this.triggerSideBySideKey=t,this.triggerSideBySideModifier=o}equals(n){return this.triggerKey===n.triggerKey&&this.triggerModifier===n.triggerModifier&&this.triggerSideBySideKey===n.triggerSideBySideKey&&this.triggerSideBySideModifier===n.triggerSideBySideModifier}}e.ClickLinkOptions=w;function v(a){return a==="altKey"?y.isMacintosh?new w(57,"metaKey",6,"altKey"):new w(5,"ctrlKey",6,"altKey"):y.isMacintosh?new w(6,"altKey",57,"metaKey"):new w(6,"altKey",5,"ctrlKey")}class b extends k.Disposable{constructor(n,i){var t;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new L.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new L.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new L.Emitter),this.onCancel=this._onCancel.event,this._editor=n,this._extractLineNumberFromMouseEvent=(t=i?.extractLineNumberFromMouseEvent)!==null&&t!==void 0?t:o=>o.target.position?o.target.position.lineNumber:0,this._opts=v(this._editor.getOption(78)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(o=>{if(o.hasChanged(78)){const g=v(this._editor.getOption(78));if(this._opts.equals(g))return;this._opts=g,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(o=>this._onEditorMouseMove(new S(o,this._opts)))),this._register(this._editor.onMouseDown(o=>this._onEditorMouseDown(new S(o,this._opts)))),this._register(this._editor.onMouseUp(o=>this._onEditorMouseUp(new S(o,this._opts)))),this._register(this._editor.onKeyDown(o=>this._onEditorKeyDown(new p(o,this._opts)))),this._register(this._editor.onKeyUp(o=>this._onEditorKeyUp(new p(o,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(o=>this._onDidChangeCursorSelection(o))),this._register(this._editor.onDidChangeModel(o=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(o=>{(o.scrollTopChanged||o.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(n){n.selection&&n.selection.startColumn!==n.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(n){this._lastMouseMoveEvent=n,this._onMouseMoveOrRelevantKeyDown.fire([n,null])}_onEditorMouseDown(n){this._hasTriggerKeyOnMouseDown=n.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(n)}_onEditorMouseUp(n){const i=this._extractLineNumberFromMouseEvent(n);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===i&&this._onExecute.fire(n)}_onEditorKeyDown(n){this._lastMouseMoveEvent&&(n.keyCodeIsTriggerKey||n.keyCodeIsSideBySideKey&&n.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,n]):n.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(n){n.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=b}),define(ne[338],se([1,0,15,12,7,2]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class S{constructor(v,b,a){this.value=v,this.isComplete=b,this.hasLoadingMessage=a}}e.HoverResult=S;class p extends D.Disposable{constructor(v,b){super(),this._editor=v,this._computer=b,this._onResult=this._register(new y.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new L.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(v,b=!0){this._state=v,b&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,L.createCancelableAsyncIterable)(v=>this._computer.computeAsync(v)),(async()=>{try{for await(const v of this._asyncIterable)v&&(this._result.push(v),this._fireResult());this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(v){(0,k.onUnexpectedError)(v)}})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const v=this._state===0,b=this._state===4;this._onResult.fire(new S(this._result.slice(0),v,b))}start(v){if(v===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=p}),define(ne[626],se([1,0,231,2,9,6]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableContentWidget=void 0;const S=30,p=24;class w extends k.Disposable{constructor(b,a=new D.Dimension(10,10)){super(),this._editor=b,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new L.ResizableHTMLElement),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=D.Dimension.lift(a),this._resizableNode.layout(a.height,a.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(n=>{this._resize(new D.Dimension(n.dimension.width,n.dimension.height)),n.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var b;return!((b=this._contentPosition)===null||b===void 0)&&b.position?y.Position.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(b){const a=this._editor.getDomNode(),n=this._editor.getScrolledVisiblePosition(b);return!a||!n?void 0:D.getDomNodePagePosition(a).top+n.top-S}_availableVerticalSpaceBelow(b){const a=this._editor.getDomNode(),n=this._editor.getScrolledVisiblePosition(b);if(!a||!n)return;const i=D.getDomNodePagePosition(a),t=D.getClientArea(a.ownerDocument.body),o=i.top+n.top+n.height;return t.height-o-p}_findPositionPreference(b,a){var n,i;const t=Math.min((n=this._availableVerticalSpaceBelow(a))!==null&&n!==void 0?n:1/0,b),o=Math.min((i=this._availableVerticalSpaceAbove(a))!==null&&i!==void 0?i:1/0,b),g=Math.min(Math.max(o,t),b),m=Math.min(b,g);let c;return this._editor.getOption(60).above?c=m<=o?1:2:c=m<=t?2:1,c===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),c}_resize(b){this._resizableNode.layout(b.height,b.width)}}e.ResizableContentWidget=w}),define(ne[339],se([1,0,12,2,9,5,47,22]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asCommandLink=e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class w{constructor(i,t){this.range=i,this.direction=t}}e.InlayHintAnchor=w;class v{constructor(i,t,o){this.hint=i,this.anchor=t,this.provider=o,this._isResolved=!1}with(i){const t=new v(this.hint,i.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}async resolve(i){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return await this._currentResolve,i.isCancellationRequested?void 0:this.resolve(i);this._isResolved||(this._currentResolve=this._doResolve(i).finally(()=>this._currentResolve=void 0)),await this._currentResolve}}async _doResolve(i){var t,o,g;try{const m=await Promise.resolve(this.provider.resolveInlayHint(this.hint,i));this.hint.tooltip=(t=m?.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(o=m?.label)!==null&&o!==void 0?o:this.hint.label,this.hint.textEdits=(g=m?.textEdits)!==null&&g!==void 0?g:this.hint.textEdits,this._isResolved=!0}catch(m){(0,L.onUnexpectedExternalError)(m),this._isResolved=!1}}}e.InlayHintItem=v;class b{static async create(i,t,o,g){const m=[],c=i.ordered(t).reverse().map(d=>o.map(async s=>{try{const l=await d.provideInlayHints(t,s,g);(l?.hints.length||d.onDidChangeInlayHints)&&m.push([l??b._emptyInlayHintList,d])}catch(l){(0,L.onUnexpectedExternalError)(l)}}));if(await Promise.all(c.flat()),g.isCancellationRequested||t.isDisposed())throw new L.CancellationError;return new b(o,m,t)}constructor(i,t,o){this._disposables=new k.DisposableStore,this.ranges=i,this.provider=new Set;const g=[];for(const[m,c]of t){this._disposables.add(m),this.provider.add(c);for(const d of m.hints){const s=o.validatePosition(d.position);let l="before";const r=b._getRangeAtPosition(o,s);let h;r.getStartPosition().isBefore(s)?(h=D.Range.fromPositions(r.getStartPosition(),s),l="after"):(h=D.Range.fromPositions(s,r.getEndPosition()),l="before"),g.push(new v(d,new w(h,l),c))}}this.items=g.sort((m,c)=>y.Position.compare(m.hint.position,c.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(i,t){const o=t.lineNumber,g=i.getWordAtPosition(t);if(g)return new D.Range(o,g.startColumn,o,g.endColumn);i.tokenization.tokenizeIfCheap(o);const m=i.tokenization.getLineTokens(o),c=t.column-1,d=m.findTokenIndexAtOffset(c);let s=m.getStartOffset(d),l=m.getEndOffset(d);return l-s===1&&(s===c&&d>1?(s=m.getStartOffset(d-1),l=m.getEndOffset(d-1)):l===c&&d<m.getCount()-1&&(s=m.getStartOffset(d+1),l=m.getEndOffset(d+1))),new D.Range(o,s+1,o,l+1)}}e.InlayHintsFragments=b,b._emptyInlayHintList=Object.freeze({dispose(){},hints:[]});function a(n){return p.URI.from({scheme:S.Schemas.command,path:n.id,query:n.arguments&&encodeURIComponent(JSON.stringify(n.arguments))}).toString()}e.asCommandLink=a}),define(ne[627],se([1,0,90,15,19,53,12,5,531,140,120]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionItem=e.InlineCompletionList=e.InlineCompletionProviderResult=e.provideInlineCompletions=void 0;async function a(m,c,d,s,l=y.CancellationToken.None,r){const h=o(c,d),u=m.all(d),f=new D.SetMap;for(const N of u)N.groupId&&f.add(N.groupId,N);function C(N){if(!N.yieldsToGroupIds)return[];const P=[];for(const F of N.yieldsToGroupIds||[]){const O=f.get(F);for(const B of O)P.push(B)}return P}const _=new Map,E=new Set;function I(N,P){if(P=[...P,N],E.has(N))return P;E.add(N);try{const F=C(N);for(const O of F){const B=I(O,P);if(B)return B}}finally{E.delete(N)}}function T(N){const P=_.get(N);if(P)return P;const F=I(N,[]);F&&(0,S.onUnexpectedExternalError)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${F.map(B=>B.toString?B.toString():""+B).join(" -> ")}`));const O=new k.DeferredPromise;return _.set(N,O.p),(async()=>{if(!F){const B=C(N);for(const W of B){const V=await T(W);if(V&&V.items.length>0)return}}try{return await N.provideInlineCompletions(d,c,s,l)}catch(B){(0,S.onUnexpectedExternalError)(B);return}})().then(B=>O.complete(B),B=>O.error(B)),O.p}const A=await Promise.all(u.map(async N=>({provider:N,completions:await T(N)}))),R=new Map,M=[];for(const N of A){const P=N.completions;if(!P)continue;const F=new i(P,N.provider);M.push(F);for(const O of P.items){const B=t.from(O,F,h,d,r);R.set(B.hash(),B)}}return new n(Array.from(R.values()),new Set(R.keys()),M)}e.provideInlineCompletions=a;class n{constructor(c,d,s){this.completions=c,this.hashs=d,this.providerResults=s}has(c){return this.hashs.has(c.hash())}dispose(){for(const c of this.providerResults)c.removeRef()}}e.InlineCompletionProviderResult=n;class i{constructor(c,d){this.inlineCompletions=c,this.provider=d,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}e.InlineCompletionList=i;class t{static from(c,d,s,l,r){let h,u,f=c.range?p.Range.lift(c.range):s;if(typeof c.insertText=="string"){if(h=c.insertText,r&&c.completeBracketPairs){h=g(h,f.getStartPosition(),l,r);const C=h.length-c.insertText.length;C!==0&&(f=new p.Range(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn+C))}u=void 0}else if("snippet"in c.insertText){const C=c.insertText.snippet.length;if(r&&c.completeBracketPairs){c.insertText.snippet=g(c.insertText.snippet,f.getStartPosition(),l,r);const E=c.insertText.snippet.length-C;E!==0&&(f=new p.Range(f.startLineNumber,f.startColumn,f.endLineNumber,f.endColumn+E))}const _=new b.SnippetParser().parse(c.insertText.snippet);_.children.length===1&&_.children[0]instanceof b.Text?(h=_.children[0].value,u=void 0):(h=_.toString(),u={snippet:c.insertText.snippet,range:f})}else(0,L.assertNever)(c.insertText);return new t(h,c.command,f,h,u,c.additionalTextEdits||(0,v.getReadonlyEmptyArray)(),c,d)}constructor(c,d,s,l,r,h,u,f){this.filterText=c,this.command=d,this.range=s,this.insertText=l,this.snippetInfo=r,this.additionalTextEdits=h,this.sourceInlineCompletion=u,this.source=f,c=c.replace(/\r\n|\r/g,`
`),l=c.replace(/\r\n|\r/g,`
`)}withRange(c){return new t(this.filterText,this.command,c,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}e.InlineCompletionItem=t;function o(m,c){const d=c.getWordAtPosition(m),s=c.getLineMaxColumn(m.lineNumber);return d?new p.Range(m.lineNumber,d.startColumn,m.lineNumber,s):p.Range.fromPositions(m,m.with(void 0,s))}function g(m,c,d,s){const r=d.getLineContent(c.lineNumber).substring(0,c.column-1)+m,h=d.tokenization.tokenizeLineWithEdit(c,r.length-(c.column-1),m),u=h?.sliceAndInflate(c.column-1,r.length,0);return u?(0,w.fixBracketsInLine)(u,s):m}}),define(ne[628],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ne[629],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/coreCommands",e)}),define(ne[630],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/editorExtensions",e)}),define(ne[631],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(ne[632],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer",e)}),define(ne[633],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/widget/diffEditor/components/diffEditorEditors",e)}),define(ne[634],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin",e)}),define(ne[635],se([1,0,6,42,27,2,17,29,634]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffDeletedCodeMargin=void 0;class v extends D.Disposable{get visibility(){return this._visibility}set visibility(a){this._visibility!==a&&(this._visibility=a,this._diffActions.style.visibility=a?"visible":"hidden")}constructor(a,n,i,t,o,g,m,c,d){super(),this._getViewZoneId=a,this._marginDomNode=n,this._modifiedEditor=i,this._diff=t,this._editor=o,this._viewLineCounts=g,this._originalTextModel=m,this._contextMenuService=c,this._clipboardService=d,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=p.ThemeIcon.asClassName(y.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const s=this._modifiedEditor.getOption(67);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${s}px`,this._diffActions.style.lineHeight=`${s}px`,this._marginDomNode.appendChild(this._diffActions);let l=0;const r=i.getOption(127)&&!S.isIOS,h=(u,f)=>{var C;this._contextMenuService.showContextMenu({domForShadowRoot:r&&(C=i.getDomNode())!==null&&C!==void 0?C:void 0,getAnchor:()=>({x:u,y:f}),getActions:()=>{const _=[],E=t.modified.isEmpty;return _.push(new k.Action("diff.clipboard.copyDeletedContent",E?t.original.length>1?(0,w.localize)(0,null):(0,w.localize)(1,null):t.original.length>1?(0,w.localize)(2,null):(0,w.localize)(3,null),void 0,!0,async()=>{const T=this._originalTextModel.getValueInRange(t.original.toExclusiveRange());await this._clipboardService.writeText(T)})),t.original.length>1&&_.push(new k.Action("diff.clipboard.copyDeletedLineContent",E?(0,w.localize)(4,null,t.original.startLineNumber+l):(0,w.localize)(5,null,t.original.startLineNumber+l),void 0,!0,async()=>{let T=this._originalTextModel.getLineContent(t.original.startLineNumber+l);T===""&&(T=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),await this._clipboardService.writeText(T)})),i.getOption(91)||_.push(new k.Action("diff.inline.revertChange",(0,w.localize)(6,null),void 0,!0,async()=>{this._editor.revert(this._diff)})),_},autoSelectFirstItem:!0})};this._register((0,L.addStandardDisposableListener)(this._diffActions,"mousedown",u=>{if(!u.leftButton)return;const{top:f,height:C}=(0,L.getDomNodePagePosition)(this._diffActions),_=Math.floor(s/3);u.preventDefault(),h(u.posx,f+C+_)})),this._register(i.onMouseMove(u=>{(u.target.type===8||u.target.type===5)&&u.target.detail.viewZoneId===this._getViewZoneId()?(l=this._updateLightBulbPosition(this._marginDomNode,u.event.browserEvent.y,s),this.visibility=!0):this.visibility=!1})),this._register(i.onMouseDown(u=>{u.event.leftButton&&(u.target.type===8||u.target.type===5)&&u.target.detail.viewZoneId===this._getViewZoneId()&&(u.event.preventDefault(),l=this._updateLightBulbPosition(this._marginDomNode,u.event.browserEvent.y,s),h(u.event.posx,u.event.posy+s))}))}_updateLightBulbPosition(a,n,i){const{top:t}=(0,L.getDomNodePagePosition)(a),o=n-t,g=Math.floor(o/i),m=g*i;if(this._diffActions.style.top=`${m}px`,this._viewLineCounts){let c=0;for(let d=0;d<this._viewLineCounts.length;d++)if(c+=this._viewLineCounts[d],g<c)return d}return g}}e.InlineDiffDeletedCodeMargin=v}),define(ne[636],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/widget/diffEditor/diffEditor.contribution",e)}),define(ne[637],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature",e)}),define(ne[638],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature",e)}),define(ne[340],se([1,0,6,79,42,13,62,27,2,32,29,87,75,638]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedBlocksLinesFeature=void 0;class t extends w.Disposable{constructor(c,d,s,l,r){super(),this._rootElement=c,this._diffModel=d,this._originalEditorLayoutInfo=s,this._modifiedEditorLayoutInfo=l,this._editors=r,this._originalScrollTop=(0,v.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,v.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,v.observableSignalFromEvent)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,v.observableValue)(this,0),this._modifiedViewZonesChangedSignal=(0,v.observableSignalFromEvent)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,v.observableSignalFromEvent)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,v.derivedWithStore)(this,(_,E)=>{var I;this._element.replaceChildren();const T=this._diffModel.read(_),A=(I=T?.diff.read(_))===null||I===void 0?void 0:I.movedTexts;if(!A||A.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(_);const R=this._originalEditorLayoutInfo.read(_),M=this._modifiedEditorLayoutInfo.read(_);if(!R||!M){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(_),this._originalViewZonesChangedSignal.read(_);const N=A.map(z=>{function K(de,ge){const pe=ge.getTopForLineNumber(de.startLineNumber,!0),Q=ge.getTopForLineNumber(de.endLineNumberExclusive,!0);return(pe+Q)/2}const j=K(z.lineRangeMapping.original,this._editors.original),x=this._originalScrollTop.read(_),re=K(z.lineRangeMapping.modified,this._editors.modified),ie=this._modifiedScrollTop.read(_),J=j-x,X=re-ie,Y=Math.min(j,re),le=Math.max(j,re);return{range:new n.OffsetRange(Y,le),from:J,to:X,fromWithoutScroll:j,toWithoutScroll:re,move:z}});N.sort((0,D.tieBreakComparators)((0,D.compareBy)(z=>z.fromWithoutScroll>z.toWithoutScroll,D.booleanComparator),(0,D.compareBy)(z=>z.fromWithoutScroll>z.toWithoutScroll?z.fromWithoutScroll:-z.toWithoutScroll,D.numberComparator)));const P=o.compute(N.map(z=>z.range)),F=10,O=R.verticalScrollbarWidth,B=(P.getTrackCount()-1)*10+F*2,W=O+B+(M.contentLeft-t.movedCodeBlockPadding);let V=0;for(const z of N){const K=P.getTrack(V),j=O+F+K*10,x=15,re=15,ie=W,J=M.glyphMarginWidth+M.lineNumbersWidth,X=18,Y=document.createElementNS("http://www.w3.org/2000/svg","rect");Y.classList.add("arrow-rectangle"),Y.setAttribute("x",`${ie-J}`),Y.setAttribute("y",`${z.to-X/2}`),Y.setAttribute("width",`${J}`),Y.setAttribute("height",`${X}`),this._element.appendChild(Y);const le=document.createElementNS("http://www.w3.org/2000/svg","g"),de=document.createElementNS("http://www.w3.org/2000/svg","path");de.setAttribute("d",`M 0 ${z.from} L ${j} ${z.from} L ${j} ${z.to} L ${ie-re} ${z.to}`),de.setAttribute("fill","none"),le.appendChild(de);const ge=document.createElementNS("http://www.w3.org/2000/svg","polygon");ge.classList.add("arrow"),E.add((0,v.autorun)(pe=>{de.classList.toggle("currentMove",z.move===T.activeMovedText.read(pe)),ge.classList.toggle("currentMove",z.move===T.activeMovedText.read(pe))})),ge.setAttribute("points",`${ie-re},${z.to-x/2} ${ie},${z.to} ${ie-re},${z.to+x/2}`),le.appendChild(ge),this._element.appendChild(le),V++}this.width.set(B,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,w.toDisposable)(()=>this._element.remove())),this._register((0,v.autorun)(_=>{const E=this._originalEditorLayoutInfo.read(_),I=this._modifiedEditorLayoutInfo.read(_);!E||!I||(this._element.style.left=`${E.width-E.verticalScrollbarWidth}px`,this._element.style.height=`${E.height}px`,this._element.style.width=`${E.verticalScrollbarWidth+E.contentLeft-t.movedCodeBlockPadding+this.width.read(_)}px`)})),this._register((0,v.recomputeInitiallyAndOnChange)(this._state));const h=(0,v.derived)(_=>{const E=this._diffModel.read(_),I=E?.diff.read(_);return I?I.movedTexts.map(T=>({move:T,original:new a.PlaceholderViewZone((0,v.constObservable)(T.lineRangeMapping.original.startLineNumber-1),18),modified:new a.PlaceholderViewZone((0,v.constObservable)(T.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,a.applyViewZones)(this._editors.original,h.map(_=>_.map(E=>E.original)))),this._register((0,a.applyViewZones)(this._editors.modified,h.map(_=>_.map(E=>E.modified)))),this._register((0,v.autorunWithStore)((_,E)=>{const I=h.read(_);for(const T of I)E.add(new g(this._editors.original,T.original,T.move,"original",this._diffModel.get())),E.add(new g(this._editors.modified,T.modified,T.move,"modified",this._diffModel.get()))}));const u=(0,v.observableSignalFromEvent)("original.onDidFocusEditorWidget",_=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>_(void 0),0))),f=(0,v.observableSignalFromEvent)("modified.onDidFocusEditorWidget",_=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>_(void 0),0)));let C="modified";this._register((0,v.autorunHandleChanges)({createEmptyChangeSummary:()=>{},handleChange:(_,E)=>(_.didChange(u)&&(C="original"),_.didChange(f)&&(C="modified"),!0)},_=>{u.read(_),f.read(_);const E=this._diffModel.read(_);if(!E)return;const I=E.diff.read(_);let T;if(I&&C==="original"){const A=this._editors.originalCursor.read(_);A&&(T=I.movedTexts.find(R=>R.lineRangeMapping.original.contains(A.lineNumber)))}if(I&&C==="modified"){const A=this._editors.modifiedCursor.read(_);A&&(T=I.movedTexts.find(R=>R.lineRangeMapping.modified.contains(A.lineNumber)))}T!==E.movedTextToCompare.get()&&E.movedTextToCompare.set(void 0,void 0),E.setActiveMovedText(T)}))}}e.MovedBlocksLinesFeature=t,t.movedCodeBlockPadding=4;class o{static compute(c){const d=[],s=[];for(const l of c){let r=d.findIndex(h=>!h.intersectsStrict(l));r===-1&&(d.length>=6?r=(0,S.findMaxIdxBy)(d,(0,D.compareBy)(u=>u.intersectWithRangeLength(l),D.numberComparator)):(r=d.length,d.push(new n.OffsetRangeSet))),d[r].addRange(l),s.push(r)}return new o(d.length,s)}constructor(c,d){this._trackCount=c,this.trackPerLineIdx=d}getTrack(c){return this.trackPerLineIdx[c]}getTrackCount(){return this._trackCount}}class g extends a.ViewZoneOverlayWidget{constructor(c,d,s,l,r){const h=(0,L.h)("div.diff-hidden-lines-widget");super(c,d,h.root),this._editor=c,this._move=s,this._kind=l,this._diffModel=r,this._nodes=(0,L.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,L.h)("div.text-content@textContent"),(0,L.h)("div.action-bar@actionBar")]),h.root.appendChild(this._nodes.root);const u=(0,v.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register((0,a.applyStyle)(this._nodes.root,{paddingRight:u.map(I=>I.verticalScrollbarWidth)}));let f;s.changes.length>0?f=this._kind==="original"?(0,i.localize)(0,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,i.localize)(1,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):f=this._kind==="original"?(0,i.localize)(2,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,i.localize)(3,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const C=this._register(new k.ActionBar(this._nodes.actionBar,{highlightToggledItems:!0})),_=new y.Action("",f,"",!1);C.push(_,{icon:!1,label:!0});const E=new y.Action("","Compare",b.ThemeIcon.asClassName(p.Codicon.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===s?void 0:this._move,void 0)});this._register((0,v.autorun)(I=>{const T=this._diffModel.movedTextToCompare.read(I)===s;E.checked=T})),C.push(E,{icon:!1,label:!0})}}}),define(ne[639],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/widget/diffEditor/features/revertButtonsFeature",e)}),define(ne[640],se([1,0,6,104,27,2,32,64,5,40,639]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RevertButton=e.RevertButtonsFeature=void 0;const a=[];class n extends D.Disposable{constructor(o,g,m,c){super(),this._editors=o,this._diffModel=g,this._options=m,this._widget=c,this._selectedDiffs=(0,S.derived)(this,d=>{const s=this._diffModel.read(d),l=s?.diff.read(d);if(!l)return a;const r=this._editors.modifiedSelections.read(d);if(r.every(C=>C.isEmpty()))return a;const h=new p.LineRangeSet(r.map(C=>p.LineRange.fromRangeInclusive(C))),f=l.mappings.filter(C=>C.lineRangeMapping.innerChanges&&h.intersects(C.lineRangeMapping.modified)).map(C=>({mapping:C,rangeMappings:C.lineRangeMapping.innerChanges.filter(_=>r.some(E=>w.Range.areIntersecting(_.modifiedRange,E)))}));return f.length===0||f.every(C=>C.rangeMappings.length===0)?a:f}),this._register((0,S.autorunWithStore)((d,s)=>{if(!this._options.shouldRenderRevertArrows.read(d))return;const l=this._diffModel.read(d),r=l?.diff.read(d);if(!l||!r||l.movedTextToCompare.read(d))return;const h=[],u=this._selectedDiffs.read(d),f=new Set(u.map(C=>C.mapping));if(u.length>0){const C=this._editors.modifiedSelections.read(d),_=s.add(new i(C[C.length-1].positionLineNumber,this._widget,u.flatMap(E=>E.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(_),h.push(_)}for(const C of r.mappings)if(!f.has(C)&&!C.lineRangeMapping.modified.isEmpty&&C.lineRangeMapping.innerChanges){const _=s.add(new i(C.lineRangeMapping.modified.startLineNumber,this._widget,C.lineRangeMapping.innerChanges,!1));this._editors.modified.addGlyphMarginWidget(_),h.push(_)}s.add((0,D.toDisposable)(()=>{for(const C of h)this._editors.modified.removeGlyphMarginWidget(C)}))}))}}e.RevertButtonsFeature=n;class i extends D.Disposable{getId(){return this._id}constructor(o,g,m,c){super(),this._lineNumber=o,this._widget=g,this._diffs=m,this._revertSelection=c,this._id=`revertButton${i.counter++}`,this._domNode=(0,L.h)("div.revertButton",{title:this._revertSelection?(0,b.localize)(0,null):(0,b.localize)(1,null)},[(0,k.renderIcon)(y.Codicon.arrowRight)]).root,this._register((0,L.addDisposableListener)(this._domNode,L.EventType.MOUSE_DOWN,d=>{d.button!==2&&(d.stopPropagation(),d.preventDefault())})),this._register((0,L.addDisposableListener)(this._domNode,L.EventType.MOUSE_UP,d=>{d.stopPropagation(),d.preventDefault()})),this._register((0,L.addDisposableListener)(this._domNode,L.EventType.CLICK,d=>{this._widget.revertRangeMappings(this._diffs),d.stopPropagation(),d.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:v.GlyphMarginLane.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}e.RevertButton=i,i.counter=0}),define(ne[641],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/widget/diffEditor/registrations.contribution",e)}),define(ne[642],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/widget/hoverWidget/hoverWidget",e)}),define(ne[643],se([3,4]),function(ee,e){return ee.create("vs/editor/browser/widget/multiDiffEditorWidget/colors",e)}),define(ne[644],se([3,4]),function(ee,e){return ee.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(ne[645],se([3,4]),function(ee,e){return ee.create("vs/editor/common/config/editorOptions",e)}),define(ne[36],se([1,0,13,54,17,182,155,645]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.ShowLightbulbIconMode=e.EditorLayoutInfoComputer=e.EditorFontVariations=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedFloat=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class w{constructor(me){this._values=me}hasChanged(me){return this._values[me]}}e.ConfigurationChangedEvent=w;class v{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=v;class b{constructor(me,be,Ae,Be){this.id=me,this.name=be,this.defaultValue=Ae,this.schema=Be}applyUpdate(me,be){return n(me,be)}compute(me,be,Ae){return Ae}}class a{constructor(me,be){this.newValue=me,this.didChange=be}}e.ApplyUpdateResult=a;function n(Me,me){if(typeof Me!="object"||typeof me!="object"||!Me||!me)return new a(me,Me!==me);if(Array.isArray(Me)||Array.isArray(me)){const Ae=Array.isArray(Me)&&Array.isArray(me)&&L.equals(Me,me);return new a(me,!Ae)}let be=!1;for(const Ae in me)if(me.hasOwnProperty(Ae)){const Be=n(Me[Ae],me[Ae]);Be.didChange&&(Me[Ae]=Be.newValue,be=!0)}return new a(Me,be)}class i{constructor(me){this.schema=void 0,this.id=me,this.name="_never_",this.defaultValue=void 0}applyUpdate(me,be){return n(me,be)}validate(me){return this.defaultValue}}class t{constructor(me,be,Ae,Be){this.id=me,this.name=be,this.defaultValue=Ae,this.schema=Be}applyUpdate(me,be){return n(me,be)}validate(me){return typeof me>"u"?this.defaultValue:me}compute(me,be,Ae){return Ae}}function o(Me,me){return typeof Me>"u"?me:Me==="false"?!1:!!Me}e.boolean=o;class g extends t{constructor(me,be,Ae,Be=void 0){typeof Be<"u"&&(Be.type="boolean",Be.default=Ae),super(me,be,Ae,Be)}validate(me){return o(me,this.defaultValue)}}function m(Me,me,be,Ae){if(typeof Me>"u")return me;let Be=parseInt(Me,10);return isNaN(Be)?me:(Be=Math.max(be,Be),Be=Math.min(Ae,Be),Be|0)}e.clampedInt=m;class c extends t{static clampedInt(me,be,Ae,Be){return m(me,be,Ae,Be)}constructor(me,be,Ae,Be,Ke,qe=void 0){typeof qe<"u"&&(qe.type="integer",qe.default=Ae,qe.minimum=Be,qe.maximum=Ke),super(me,be,Ae,qe),this.minimum=Be,this.maximum=Ke}validate(me){return c.clampedInt(me,this.defaultValue,this.minimum,this.maximum)}}function d(Me,me,be,Ae){if(typeof Me>"u")return me;const Be=s.float(Me,me);return s.clamp(Be,be,Ae)}e.clampedFloat=d;class s extends t{static clamp(me,be,Ae){return me<be?be:me>Ae?Ae:me}static float(me,be){if(typeof me=="number")return me;if(typeof me>"u")return be;const Ae=parseFloat(me);return isNaN(Ae)?be:Ae}constructor(me,be,Ae,Be,Ke){typeof Ke<"u"&&(Ke.type="number",Ke.default=Ae),super(me,be,Ae,Ke),this.validationFn=Be}validate(me){return this.validationFn(s.float(me,this.defaultValue))}}class l extends t{static string(me,be){return typeof me!="string"?be:me}constructor(me,be,Ae,Be=void 0){typeof Be<"u"&&(Be.type="string",Be.default=Ae),super(me,be,Ae,Be)}validate(me){return l.string(me,this.defaultValue)}}function r(Me,me,be,Ae){return typeof Me!="string"?me:Ae&&Me in Ae?Ae[Me]:be.indexOf(Me)===-1?me:Me}e.stringSet=r;class h extends t{constructor(me,be,Ae,Be,Ke=void 0){typeof Ke<"u"&&(Ke.type="string",Ke.enum=Be,Ke.default=Ae),super(me,be,Ae,Ke),this._allowedValues=Be}validate(me){return r(me,this.defaultValue,this._allowedValues)}}class u extends b{constructor(me,be,Ae,Be,Ke,qe,Ge=void 0){typeof Ge<"u"&&(Ge.type="string",Ge.enum=Ke,Ge.default=Be),super(me,be,Ae,Ge),this._allowedValues=Ke,this._convert=qe}validate(me){return typeof me!="string"?this.defaultValue:this._allowedValues.indexOf(me)===-1?this.defaultValue:this._convert(me)}}function f(Me){switch(Me){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class C extends b{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[p.localize(0,null),p.localize(1,null),p.localize(2,null)],default:"auto",tags:["accessibility"],description:p.localize(3,null)})}validate(me){switch(me){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(me,be,Ae){return Ae===0?me.accessibilitySupport:Ae}}class _ extends b{constructor(){const me={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",me,{"editor.comments.insertSpace":{type:"boolean",default:me.insertSpace,description:p.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:me.ignoreEmptyLines,description:p.localize(5,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{insertSpace:o(be.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:o(be.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function E(Me){switch(Me){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var I;(function(Me){Me[Me.Line=1]="Line",Me[Me.Block=2]="Block",Me[Me.Underline=3]="Underline",Me[Me.LineThin=4]="LineThin",Me[Me.BlockOutline=5]="BlockOutline",Me[Me.UnderlineThin=6]="UnderlineThin"})(I||(e.TextEditorCursorStyle=I={}));function T(Me){switch(Me){case"line":return I.Line;case"block":return I.Block;case"underline":return I.Underline;case"line-thin":return I.LineThin;case"block-outline":return I.BlockOutline;case"underline-thin":return I.UnderlineThin}}class A extends i{constructor(){super(141)}compute(me,be,Ae){const Be=["monaco-editor"];return be.get(39)&&Be.push(be.get(39)),me.extraEditorClassName&&Be.push(me.extraEditorClassName),be.get(74)==="default"?Be.push("mouse-default"):be.get(74)==="copy"&&Be.push("mouse-copy"),be.get(111)&&Be.push("showUnused"),be.get(139)&&Be.push("showDeprecated"),Be.join(" ")}}class R extends g{constructor(){super(37,"emptySelectionClipboard",!0,{description:p.localize(6,null)})}compute(me,be,Ae){return Ae&&me.emptySelectionClipboard}}class M extends b{constructor(){const me={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",me,{"editor.find.cursorMoveOnType":{type:"boolean",default:me.cursorMoveOnType,description:p.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:me.seedSearchStringFromSelection,enumDescriptions:[p.localize(8,null),p.localize(9,null),p.localize(10,null)],description:p.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:me.autoFindInSelection,enumDescriptions:[p.localize(12,null),p.localize(13,null),p.localize(14,null)],description:p.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:me.globalFindClipboard,description:p.localize(16,null),included:y.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:me.addExtraSpaceOnTop,description:p.localize(17,null)},"editor.find.loop":{type:"boolean",default:me.loop,description:p.localize(18,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{cursorMoveOnType:o(be.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof me.seedSearchStringFromSelection=="boolean"?me.seedSearchStringFromSelection?"always":"never":r(be.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof me.autoFindInSelection=="boolean"?me.autoFindInSelection?"always":"never":r(be.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:o(be.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:o(be.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:o(be.loop,this.defaultValue.loop)}}}class N extends b{constructor(){super(51,"fontLigatures",N.OFF,{anyOf:[{type:"boolean",description:p.localize(19,null)},{type:"string",description:p.localize(20,null)}],description:p.localize(21,null),default:!1})}validate(me){return typeof me>"u"?this.defaultValue:typeof me=="string"?me==="false"||me.length===0?N.OFF:me==="true"?N.ON:me:me?N.ON:N.OFF}}e.EditorFontLigatures=N,N.OFF='"liga" off, "calt" off',N.ON='"liga" on, "calt" on';class P extends b{constructor(){super(54,"fontVariations",P.OFF,{anyOf:[{type:"boolean",description:p.localize(22,null)},{type:"string",description:p.localize(23,null)}],description:p.localize(24,null),default:!1})}validate(me){return typeof me>"u"?this.defaultValue:typeof me=="string"?me==="false"?P.OFF:me==="true"?P.TRANSLATE:me:me?P.TRANSLATE:P.OFF}compute(me,be,Ae){return me.fontInfo.fontVariationSettings}}e.EditorFontVariations=P,P.OFF="normal",P.TRANSLATE="translate";class F extends i{constructor(){super(50)}compute(me,be,Ae){return me.fontInfo}}class O extends t{constructor(){super(52,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:p.localize(25,null)})}validate(me){const be=s.float(me,this.defaultValue);return be===0?e.EDITOR_FONT_DEFAULTS.fontSize:s.clamp(be,6,100)}compute(me,be,Ae){return me.fontInfo.fontSize}}class B extends b{constructor(){super(53,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:B.MINIMUM_VALUE,maximum:B.MAXIMUM_VALUE,errorMessage:p.localize(26,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:B.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:p.localize(27,null)})}validate(me){return me==="normal"||me==="bold"?me:String(c.clampedInt(me,e.EDITOR_FONT_DEFAULTS.fontWeight,B.MINIMUM_VALUE,B.MAXIMUM_VALUE))}}B.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],B.MINIMUM_VALUE=1,B.MAXIMUM_VALUE=1e3;class W extends b{constructor(){const me={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},be={type:"string",enum:["peek","gotoAndPeek","goto"],default:me.multiple,enumDescriptions:[p.localize(28,null),p.localize(29,null),p.localize(30,null)]},Ae=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",me,{"editor.gotoLocation.multiple":{deprecationMessage:p.localize(31,null)},"editor.gotoLocation.multipleDefinitions":{description:p.localize(32,null),...be},"editor.gotoLocation.multipleTypeDefinitions":{description:p.localize(33,null),...be},"editor.gotoLocation.multipleDeclarations":{description:p.localize(34,null),...be},"editor.gotoLocation.multipleImplementations":{description:p.localize(35,null),...be},"editor.gotoLocation.multipleReferences":{description:p.localize(36,null),...be},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:me.alternativeDefinitionCommand,enum:Ae,description:p.localize(37,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:me.alternativeTypeDefinitionCommand,enum:Ae,description:p.localize(38,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:me.alternativeDeclarationCommand,enum:Ae,description:p.localize(39,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:me.alternativeImplementationCommand,enum:Ae,description:p.localize(40,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:me.alternativeReferenceCommand,enum:Ae,description:p.localize(41,null)}})}validate(me){var be,Ae,Be,Ke,qe;if(!me||typeof me!="object")return this.defaultValue;const Ge=me;return{multiple:r(Ge.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(be=Ge.multipleDefinitions)!==null&&be!==void 0?be:r(Ge.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Ae=Ge.multipleTypeDefinitions)!==null&&Ae!==void 0?Ae:r(Ge.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Be=Ge.multipleDeclarations)!==null&&Be!==void 0?Be:r(Ge.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Ke=Ge.multipleImplementations)!==null&&Ke!==void 0?Ke:r(Ge.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(qe=Ge.multipleReferences)!==null&&qe!==void 0?qe:r(Ge.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:l.string(Ge.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:l.string(Ge.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:l.string(Ge.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:l.string(Ge.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:l.string(Ge.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class V extends b{constructor(){const me={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",me,{"editor.hover.enabled":{type:"boolean",default:me.enabled,description:p.localize(42,null)},"editor.hover.delay":{type:"number",default:me.delay,minimum:0,maximum:1e4,description:p.localize(43,null)},"editor.hover.sticky":{type:"boolean",default:me.sticky,description:p.localize(44,null)},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:me.hidingDelay,description:p.localize(45,null)},"editor.hover.above":{type:"boolean",default:me.above,description:p.localize(46,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:o(be.enabled,this.defaultValue.enabled),delay:c.clampedInt(be.delay,this.defaultValue.delay,0,1e4),sticky:o(be.sticky,this.defaultValue.sticky),hidingDelay:c.clampedInt(be.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:o(be.above,this.defaultValue.above)}}}class z extends i{constructor(){super(144)}compute(me,be,Ae){return z.computeLayout(be,{memory:me.memory,outerWidth:me.outerWidth,outerHeight:me.outerHeight,isDominatedByLongLines:me.isDominatedByLongLines,lineHeight:me.fontInfo.lineHeight,viewLineCount:me.viewLineCount,lineNumbersDigitCount:me.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:me.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:me.fontInfo.maxDigitWidth,pixelRatio:me.pixelRatio,glyphMarginDecorationLaneCount:me.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(me){const be=me.height/me.lineHeight,Ae=Math.floor(me.paddingTop/me.lineHeight);let Be=Math.floor(me.paddingBottom/me.lineHeight);me.scrollBeyondLastLine&&(Be=Math.max(Be,be-1));const Ke=(Ae+me.viewLineCount+Be)/(me.pixelRatio*me.height),qe=Math.floor(me.viewLineCount/Ke);return{typicalViewportLineCount:be,extraLinesBeforeFirstLine:Ae,extraLinesBeyondLastLine:Be,desiredRatio:Ke,minimapLineCount:qe}}static _computeMinimapLayout(me,be){const Ae=me.outerWidth,Be=me.outerHeight,Ke=me.pixelRatio;if(!me.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Ke*Be),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Be};const qe=be.stableMinimapLayoutInput,Ge=qe&&me.outerHeight===qe.outerHeight&&me.lineHeight===qe.lineHeight&&me.typicalHalfwidthCharacterWidth===qe.typicalHalfwidthCharacterWidth&&me.pixelRatio===qe.pixelRatio&&me.scrollBeyondLastLine===qe.scrollBeyondLastLine&&me.paddingTop===qe.paddingTop&&me.paddingBottom===qe.paddingBottom&&me.minimap.enabled===qe.minimap.enabled&&me.minimap.side===qe.minimap.side&&me.minimap.size===qe.minimap.size&&me.minimap.showSlider===qe.minimap.showSlider&&me.minimap.renderCharacters===qe.minimap.renderCharacters&&me.minimap.maxColumn===qe.minimap.maxColumn&&me.minimap.scale===qe.minimap.scale&&me.verticalScrollbarWidth===qe.verticalScrollbarWidth&&me.isViewportWrapping===qe.isViewportWrapping,st=me.lineHeight,Xe=me.typicalHalfwidthCharacterWidth,ot=me.scrollBeyondLastLine,nt=me.minimap.renderCharacters;let rt=Ke>=2?Math.round(me.minimap.scale*2):me.minimap.scale;const at=me.minimap.maxColumn,ut=me.minimap.size,dt=me.minimap.side,vt=me.verticalScrollbarWidth,mt=me.viewLineCount,Le=me.remainingWidth,we=me.isViewportWrapping,Te=nt?2:3;let ke=Math.floor(Ke*Be);const Ee=ke/Ke;let Re=!1,Pe=!1,He=Te*rt,Ue=rt/Ke,Ze=1;if(ut==="fill"||ut==="fit"){const{typicalViewportLineCount:et,extraLinesBeforeFirstLine:Je,extraLinesBeyondLastLine:lt,desiredRatio:tt,minimapLineCount:it}=z.computeContainedMinimapLineCount({viewLineCount:mt,scrollBeyondLastLine:ot,paddingTop:me.paddingTop,paddingBottom:me.paddingBottom,height:Be,lineHeight:st,pixelRatio:Ke});if(mt/it>1)Re=!0,Pe=!0,rt=1,He=1,Ue=rt/Ke;else{let ht=!1,wt=rt+1;if(ut==="fit"){const ct=Math.ceil((Je+mt+lt)*He);we&&Ge&&Le<=be.stableFitRemainingWidth?(ht=!0,wt=be.stableFitMaxMinimapScale):ht=ct>ke}if(ut==="fill"||ht){Re=!0;const ct=rt;He=Math.min(st*Ke,Math.max(1,Math.floor(1/tt))),we&&Ge&&Le<=be.stableFitRemainingWidth&&(wt=be.stableFitMaxMinimapScale),rt=Math.min(wt,Math.max(1,Math.floor(He/Te))),rt>ct&&(Ze=Math.min(2,rt/ct)),Ue=rt/Ke/Ze,ke=Math.ceil(Math.max(et,Je+mt+lt)*He),we?(be.stableMinimapLayoutInput=me,be.stableFitRemainingWidth=Le,be.stableFitMaxMinimapScale=rt):(be.stableMinimapLayoutInput=null,be.stableFitRemainingWidth=0)}}}const Ye=Math.floor(at*Ue),$e=Math.min(Ye,Math.max(0,Math.floor((Le-vt-2)*Ue/(Xe+Ue)))+e.MINIMAP_GUTTER_WIDTH);let Fe=Math.floor(Ke*$e);const Ve=Fe/Ke;Fe=Math.floor(Fe*Ze);const ze=nt?1:2,je=dt==="left"?0:Ae-$e-vt;return{renderMinimap:ze,minimapLeft:je,minimapWidth:$e,minimapHeightIsEditorHeight:Re,minimapIsSampling:Pe,minimapScale:rt,minimapLineHeight:He,minimapCanvasInnerWidth:Fe,minimapCanvasInnerHeight:ke,minimapCanvasOuterWidth:Ve,minimapCanvasOuterHeight:Ee}}static computeLayout(me,be){const Ae=be.outerWidth|0,Be=be.outerHeight|0,Ke=be.lineHeight|0,qe=be.lineNumbersDigitCount|0,Ge=be.typicalHalfwidthCharacterWidth,st=be.maxDigitWidth,Xe=be.pixelRatio,ot=be.viewLineCount,nt=me.get(136),rt=nt==="inherit"?me.get(135):nt,at=rt==="inherit"?me.get(131):rt,ut=me.get(134),dt=be.isDominatedByLongLines,vt=me.get(57),mt=me.get(68).renderType!==0,Le=me.get(69),we=me.get(105),Te=me.get(84),ke=me.get(73),Ee=me.get(103),Re=Ee.verticalScrollbarSize,Pe=Ee.verticalHasArrows,He=Ee.arrowSize,Ue=Ee.horizontalScrollbarSize,Ze=me.get(43),Ye=me.get(110)!=="never";let $e=me.get(66);Ze&&Ye&&($e+=16);let Fe=0;if(mt){const yt=Math.max(qe,Le);Fe=Math.round(yt*st)}let Ve=0;vt&&(Ve=Ke*be.glyphMarginDecorationLaneCount);let ze=0,je=ze+Ve,et=je+Fe,Je=et+$e;const lt=Ae-Ve-Fe-$e;let tt=!1,it=!1,gt=-1;rt==="inherit"&&dt?(tt=!0,it=!0):at==="on"||at==="bounded"?it=!0:at==="wordWrapColumn"&&(gt=ut);const ht=z._computeMinimapLayout({outerWidth:Ae,outerHeight:Be,lineHeight:Ke,typicalHalfwidthCharacterWidth:Ge,pixelRatio:Xe,scrollBeyondLastLine:we,paddingTop:Te.top,paddingBottom:Te.bottom,minimap:ke,verticalScrollbarWidth:Re,viewLineCount:ot,remainingWidth:lt,isViewportWrapping:it},be.memory||new v);ht.renderMinimap!==0&&ht.minimapLeft===0&&(ze+=ht.minimapWidth,je+=ht.minimapWidth,et+=ht.minimapWidth,Je+=ht.minimapWidth);const wt=lt-ht.minimapWidth,ct=Math.max(1,Math.floor((wt-Re-2)/Ge)),St=Pe?He:0;return it&&(gt=Math.max(1,ct),at==="bounded"&&(gt=Math.min(gt,ut))),{width:Ae,height:Be,glyphMarginLeft:ze,glyphMarginWidth:Ve,glyphMarginDecorationLaneCount:be.glyphMarginDecorationLaneCount,lineNumbersLeft:je,lineNumbersWidth:Fe,decorationsLeft:et,decorationsWidth:$e,contentLeft:Je,contentWidth:wt,minimap:ht,viewportColumn:ct,isWordWrapMinified:tt,isViewportWrapping:it,wrappingColumn:gt,verticalScrollbarWidth:Re,horizontalScrollbarHeight:Ue,overviewRuler:{top:St,width:Re,height:Be-2*St,right:0}}}}e.EditorLayoutInfoComputer=z;class K extends b{constructor(){super(138,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[p.localize(47,null),p.localize(48,null)],type:"string",enum:["simple","advanced"],default:"simple",description:p.localize(49,null)}})}validate(me){return r(me,"simple",["simple","advanced"])}compute(me,be,Ae){return be.get(2)===2?"advanced":Ae}}var j;(function(Me){Me.Off="off",Me.OnCode="onCode",Me.On="on"})(j||(e.ShowLightbulbIconMode=j={}));class x extends b{constructor(){const me={enabled:j.OnCode};super(65,"lightbulb",me,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[j.Off,j.OnCode,j.On],default:me.enabled,enumDescriptions:[p.localize(50,null),p.localize(51,null),p.localize(52,null)],description:p.localize(53,null)}})}validate(me){return!me||typeof me!="object"?this.defaultValue:{enabled:r(me.enabled,this.defaultValue.enabled,[j.Off,j.OnCode,j.On])}}}class re extends b{constructor(){const me={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(115,"stickyScroll",me,{"editor.stickyScroll.enabled":{type:"boolean",default:me.enabled,description:p.localize(54,null),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:me.maxLineCount,minimum:1,maximum:20,description:p.localize(55,null)},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:me.defaultModel,description:p.localize(56,null)},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:me.scrollWithEditor,description:p.localize(57,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:o(be.enabled,this.defaultValue.enabled),maxLineCount:c.clampedInt(be.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:r(be.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:o(be.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class ie extends b{constructor(){const me={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(140,"inlayHints",me,{"editor.inlayHints.enabled":{type:"string",default:me.enabled,description:p.localize(58,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[p.localize(59,null),p.localize(60,null,y.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),p.localize(61,null,y.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),p.localize(62,null)]},"editor.inlayHints.fontSize":{type:"number",default:me.fontSize,markdownDescription:p.localize(63,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:me.fontFamily,markdownDescription:p.localize(64,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:me.padding,description:p.localize(65,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return typeof be.enabled=="boolean"&&(be.enabled=be.enabled?"on":"off"),{enabled:r(be.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:c.clampedInt(be.fontSize,this.defaultValue.fontSize,0,100),fontFamily:l.string(be.fontFamily,this.defaultValue.fontFamily),padding:o(be.padding,this.defaultValue.padding)}}}class J extends b{constructor(){super(66,"lineDecorationsWidth",10)}validate(me){return typeof me=="string"&&/^\d+(\.\d+)?ch$/.test(me)?-parseFloat(me.substring(0,me.length-2)):c.clampedInt(me,this.defaultValue,0,1e3)}compute(me,be,Ae){return Ae<0?c.clampedInt(-Ae*me.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Ae}}class X extends s{constructor(){super(67,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,me=>s.clamp(me,0,150),{markdownDescription:p.localize(66,null)})}compute(me,be,Ae){return me.fontInfo.lineHeight}}class Y extends b{constructor(){const me={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(73,"minimap",me,{"editor.minimap.enabled":{type:"boolean",default:me.enabled,description:p.localize(67,null)},"editor.minimap.autohide":{type:"boolean",default:me.autohide,description:p.localize(68,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[p.localize(69,null),p.localize(70,null),p.localize(71,null)],default:me.size,description:p.localize(72,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:me.side,description:p.localize(73,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:me.showSlider,description:p.localize(74,null)},"editor.minimap.scale":{type:"number",default:me.scale,minimum:1,maximum:3,enum:[1,2,3],description:p.localize(75,null)},"editor.minimap.renderCharacters":{type:"boolean",default:me.renderCharacters,description:p.localize(76,null)},"editor.minimap.maxColumn":{type:"number",default:me.maxColumn,description:p.localize(77,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:o(be.enabled,this.defaultValue.enabled),autohide:o(be.autohide,this.defaultValue.autohide),size:r(be.size,this.defaultValue.size,["proportional","fill","fit"]),side:r(be.side,this.defaultValue.side,["right","left"]),showSlider:r(be.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:o(be.renderCharacters,this.defaultValue.renderCharacters),scale:c.clampedInt(be.scale,1,1,3),maxColumn:c.clampedInt(be.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function le(Me){return Me==="ctrlCmd"?y.isMacintosh?"metaKey":"ctrlKey":"altKey"}class de extends b{constructor(){super(84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:p.localize(78,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:p.localize(79,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{top:c.clampedInt(be.top,0,0,1e3),bottom:c.clampedInt(be.bottom,0,0,1e3)}}}class ge extends b{constructor(){const me={enabled:!0,cycle:!0};super(86,"parameterHints",me,{"editor.parameterHints.enabled":{type:"boolean",default:me.enabled,description:p.localize(80,null)},"editor.parameterHints.cycle":{type:"boolean",default:me.cycle,description:p.localize(81,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:o(be.enabled,this.defaultValue.enabled),cycle:o(be.cycle,this.defaultValue.cycle)}}}class pe extends i{constructor(){super(142)}compute(me,be,Ae){return me.pixelRatio}}class Q extends b{constructor(){const me={other:"on",comments:"off",strings:"off"},be=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[p.localize(82,null),p.localize(83,null),p.localize(84,null)]}];super(89,"quickSuggestions",me,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:be,default:me.strings,description:p.localize(85,null)},comments:{anyOf:be,default:me.comments,description:p.localize(86,null)},other:{anyOf:be,default:me.other,description:p.localize(87,null)}},default:me,markdownDescription:p.localize(88,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=me}validate(me){if(typeof me=="boolean"){const Xe=me?"on":"off";return{comments:Xe,strings:Xe,other:Xe}}if(!me||typeof me!="object")return this.defaultValue;const{other:be,comments:Ae,strings:Be}=me,Ke=["on","inline","off"];let qe,Ge,st;return typeof be=="boolean"?qe=be?"on":"off":qe=r(be,this.defaultValue.other,Ke),typeof Ae=="boolean"?Ge=Ae?"on":"off":Ge=r(Ae,this.defaultValue.comments,Ke),typeof Be=="boolean"?st=Be?"on":"off":st=r(Be,this.defaultValue.strings,Ke),{other:qe,comments:Ge,strings:st}}}class U extends b{constructor(){super(68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[p.localize(89,null),p.localize(90,null),p.localize(91,null),p.localize(92,null)],default:"on",description:p.localize(93,null)})}validate(me){let be=this.defaultValue.renderType,Ae=this.defaultValue.renderFn;return typeof me<"u"&&(typeof me=="function"?(be=4,Ae=me):me==="interval"?be=3:me==="relative"?be=2:me==="on"?be=1:be=0),{renderType:be,renderFn:Ae}}}function Z(Me){const me=Me.get(98);return me==="editable"?Me.get(91):me!=="on"}e.filterValidationDecorations=Z;class H extends b{constructor(){const me=[],be={type:"number",description:p.localize(94,null)};super(102,"rulers",me,{type:"array",items:{anyOf:[be,{type:["object"],properties:{column:be,color:{type:"string",description:p.localize(95,null),format:"color-hex"}}}]},default:me,description:p.localize(96,null)})}validate(me){if(Array.isArray(me)){const be=[];for(const Ae of me)if(typeof Ae=="number")be.push({column:c.clampedInt(Ae,0,0,1e4),color:null});else if(Ae&&typeof Ae=="object"){const Be=Ae;be.push({column:c.clampedInt(Be.column,0,0,1e4),color:Be.color})}return be.sort((Ae,Be)=>Ae.column-Be.column),be}return this.defaultValue}}class q extends b{constructor(){super(92,"readOnlyMessage",void 0)}validate(me){return!me||typeof me!="object"?this.defaultValue:me}}function te(Me,me){if(typeof Me!="string")return me;switch(Me){case"hidden":return 2;case"visible":return 3;default:return 1}}class G extends b{constructor(){const me={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(103,"scrollbar",me,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[p.localize(97,null),p.localize(98,null),p.localize(99,null)],default:"auto",description:p.localize(100,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[p.localize(101,null),p.localize(102,null),p.localize(103,null)],default:"auto",description:p.localize(104,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:me.verticalScrollbarSize,description:p.localize(105,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:me.horizontalScrollbarSize,description:p.localize(106,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:me.scrollByPage,description:p.localize(107,null)},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:me.ignoreHorizontalScrollbarInContentHeight,description:p.localize(108,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me,Ae=c.clampedInt(be.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Be=c.clampedInt(be.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:c.clampedInt(be.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:te(be.vertical,this.defaultValue.vertical),horizontal:te(be.horizontal,this.defaultValue.horizontal),useShadows:o(be.useShadows,this.defaultValue.useShadows),verticalHasArrows:o(be.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:o(be.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:o(be.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:o(be.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ae,horizontalSliderSize:c.clampedInt(be.horizontalSliderSize,Ae,0,1e3),verticalScrollbarSize:Be,verticalSliderSize:c.clampedInt(be.verticalSliderSize,Be,0,1e3),scrollByPage:o(be.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:o(be.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class $ extends b{constructor(){const me={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(125,"unicodeHighlight",me,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:me.nonBasicASCII,description:p.localize(109,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:me.invisibleCharacters,description:p.localize(110,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:me.ambiguousCharacters,description:p.localize(111,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:me.includeComments,description:p.localize(112,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:me.includeStrings,description:p.localize(113,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:me.allowedCharacters,description:p.localize(114,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:me.allowedLocales,description:p.localize(115,null)}})}applyUpdate(me,be){let Ae=!1;be.allowedCharacters&&me&&(k.equals(me.allowedCharacters,be.allowedCharacters)||(me={...me,allowedCharacters:be.allowedCharacters},Ae=!0)),be.allowedLocales&&me&&(k.equals(me.allowedLocales,be.allowedLocales)||(me={...me,allowedLocales:be.allowedLocales},Ae=!0));const Be=super.applyUpdate(me,be);return Ae?new a(Be.newValue,!0):Be}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{nonBasicASCII:fe(be.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:o(be.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:o(be.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:fe(be.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:fe(be.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(me.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(me.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(me,be){if(typeof me!="object"||!me)return be;const Ae={};for(const[Be,Ke]of Object.entries(me))Ke===!0&&(Ae[Be]=!0);return Ae}}class oe extends b{constructor(){const me={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",me,{"editor.inlineSuggest.enabled":{type:"boolean",default:me.enabled,description:p.localize(116,null)},"editor.inlineSuggest.showToolbar":{type:"string",default:me.showToolbar,enum:["always","onHover","never"],enumDescriptions:[p.localize(117,null),p.localize(118,null),p.localize(119,null)],description:p.localize(120,null)},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:me.suppressSuggestions,description:p.localize(121,null)},"editor.inlineSuggest.fontFamily":{type:"string",default:me.fontFamily,description:p.localize(122,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:o(be.enabled,this.defaultValue.enabled),mode:r(be.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:r(be.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:o(be.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:o(be.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:l.string(be.fontFamily,this.defaultValue.fontFamily)}}}class ae extends b{constructor(){const me={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1,backgroundColoring:!1};super(63,"experimentalInlineEdit",me,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:me.enabled,description:p.localize(123,null)},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:me.showToolbar,enum:["always","onHover","never"],enumDescriptions:[p.localize(124,null),p.localize(125,null),p.localize(126,null)],description:p.localize(127,null)},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:me.fontFamily,description:p.localize(128,null)},"editor.experimentalInlineEdit.backgroundColoring":{type:"boolean",default:me.backgroundColoring,description:p.localize(129,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:o(be.enabled,this.defaultValue.enabled),showToolbar:r(be.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:l.string(be.fontFamily,this.defaultValue.fontFamily),keepOnBlur:o(be.keepOnBlur,this.defaultValue.keepOnBlur),backgroundColoring:o(be.backgroundColoring,this.defaultValue.backgroundColoring)}}}class ue extends b{constructor(){const me={enabled:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",me,{"editor.bracketPairColorization.enabled":{type:"boolean",default:me.enabled,markdownDescription:p.localize(130,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:me.independentColorPoolPerBracketType,description:p.localize(131,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:o(be.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:o(be.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class ce extends b{constructor(){const me={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",me,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[p.localize(132,null),p.localize(133,null),p.localize(134,null)],default:me.bracketPairs,description:p.localize(135,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[p.localize(136,null),p.localize(137,null),p.localize(138,null)],default:me.bracketPairsHorizontal,description:p.localize(139,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:me.highlightActiveBracketPair,description:p.localize(140,null)},"editor.guides.indentation":{type:"boolean",default:me.indentation,description:p.localize(141,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[p.localize(142,null),p.localize(143,null),p.localize(144,null)],default:me.highlightActiveIndentation,description:p.localize(145,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{bracketPairs:fe(be.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:fe(be.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:o(be.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:o(be.indentation,this.defaultValue.indentation),highlightActiveIndentation:fe(be.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function fe(Me,me,be){const Ae=be.indexOf(Me);return Ae===-1?me:be[Ae]}class ve extends b{constructor(){const me={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(118,"suggest",me,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[p.localize(146,null),p.localize(147,null)],default:me.insertMode,description:p.localize(148,null)},"editor.suggest.filterGraceful":{type:"boolean",default:me.filterGraceful,description:p.localize(149,null)},"editor.suggest.localityBonus":{type:"boolean",default:me.localityBonus,description:p.localize(150,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:me.shareSuggestSelections,markdownDescription:p.localize(151,null)},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[p.localize(152,null),p.localize(153,null),p.localize(154,null),p.localize(155,null)],default:me.selectionMode,markdownDescription:p.localize(156,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:me.snippetsPreventQuickSuggestions,description:p.localize(157,null)},"editor.suggest.showIcons":{type:"boolean",default:me.showIcons,description:p.localize(158,null)},"editor.suggest.showStatusBar":{type:"boolean",default:me.showStatusBar,description:p.localize(159,null)},"editor.suggest.preview":{type:"boolean",default:me.preview,description:p.localize(160,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:me.showInlineDetails,description:p.localize(161,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:p.localize(162,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:p.localize(163,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:p.localize(164,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:p.localize(165,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:p.localize(166,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:p.localize(167,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:p.localize(168,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:p.localize(169,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:p.localize(170,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:p.localize(171,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:p.localize(172,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:p.localize(173,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:p.localize(174,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:p.localize(175,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:p.localize(176,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:p.localize(177,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:p.localize(178,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:p.localize(179,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:p.localize(180,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:p.localize(181,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:p.localize(182,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:p.localize(183,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:p.localize(184,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:p.localize(185,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:p.localize(186,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:p.localize(187,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:p.localize(188,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:p.localize(189,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:p.localize(190,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:p.localize(191,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:p.localize(192,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:p.localize(193,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{insertMode:r(be.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:o(be.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:o(be.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:o(be.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:o(be.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:r(be.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:o(be.showIcons,this.defaultValue.showIcons),showStatusBar:o(be.showStatusBar,this.defaultValue.showStatusBar),preview:o(be.preview,this.defaultValue.preview),previewMode:r(be.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:o(be.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:o(be.showMethods,this.defaultValue.showMethods),showFunctions:o(be.showFunctions,this.defaultValue.showFunctions),showConstructors:o(be.showConstructors,this.defaultValue.showConstructors),showDeprecated:o(be.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:o(be.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:o(be.showFields,this.defaultValue.showFields),showVariables:o(be.showVariables,this.defaultValue.showVariables),showClasses:o(be.showClasses,this.defaultValue.showClasses),showStructs:o(be.showStructs,this.defaultValue.showStructs),showInterfaces:o(be.showInterfaces,this.defaultValue.showInterfaces),showModules:o(be.showModules,this.defaultValue.showModules),showProperties:o(be.showProperties,this.defaultValue.showProperties),showEvents:o(be.showEvents,this.defaultValue.showEvents),showOperators:o(be.showOperators,this.defaultValue.showOperators),showUnits:o(be.showUnits,this.defaultValue.showUnits),showValues:o(be.showValues,this.defaultValue.showValues),showConstants:o(be.showConstants,this.defaultValue.showConstants),showEnums:o(be.showEnums,this.defaultValue.showEnums),showEnumMembers:o(be.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:o(be.showKeywords,this.defaultValue.showKeywords),showWords:o(be.showWords,this.defaultValue.showWords),showColors:o(be.showColors,this.defaultValue.showColors),showFiles:o(be.showFiles,this.defaultValue.showFiles),showReferences:o(be.showReferences,this.defaultValue.showReferences),showFolders:o(be.showFolders,this.defaultValue.showFolders),showTypeParameters:o(be.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:o(be.showSnippets,this.defaultValue.showSnippets),showUsers:o(be.showUsers,this.defaultValue.showUsers),showIssues:o(be.showIssues,this.defaultValue.showIssues)}}}class Ce extends b{constructor(){super(113,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:p.localize(194,null),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:p.localize(195,null),default:!0,type:"boolean"}})}validate(me){return!me||typeof me!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:o(me.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:o(me.selectSubwords,this.defaultValue.selectSubwords)}}}class Se extends b{constructor(){super(137,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[p.localize(196,null),p.localize(197,null),p.localize(198,null),p.localize(199,null)],description:p.localize(200,null),default:"same"}})}validate(me){switch(me){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(me,be,Ae){return be.get(2)===2?0:Ae}}class _e extends i{constructor(){super(145)}compute(me,be,Ae){const Be=be.get(144);return{isDominatedByLongLines:me.isDominatedByLongLines,isWordWrapMinified:Be.isWordWrapMinified,isViewportWrapping:Be.isViewportWrapping,wrappingColumn:Be.wrappingColumn}}}class Ie extends b{constructor(){const me={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",me,{"editor.dropIntoEditor.enabled":{type:"boolean",default:me.enabled,markdownDescription:p.localize(201,null)},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:p.localize(202,null),enum:["afterDrop","never"],enumDescriptions:[p.localize(203,null),p.localize(204,null)],default:"afterDrop"}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:o(be.enabled,this.defaultValue.enabled),showDropSelector:r(be.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Ne extends b{constructor(){const me={enabled:!0,showPasteSelector:"afterPaste"};super(85,"pasteAs",me,{"editor.pasteAs.enabled":{type:"boolean",default:me.enabled,markdownDescription:p.localize(205,null)},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:p.localize(206,null),enum:["afterPaste","never"],enumDescriptions:[p.localize(207,null),p.localize(208,null)],default:"afterPaste"}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:o(be.enabled,this.defaultValue.enabled),showPasteSelector:r(be.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const Oe="Consolas, 'Courier New', monospace",xe="Menlo, Monaco, 'Courier New', monospace",We="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:y.isMacintosh?xe:y.isLinux?We:Oe,fontWeight:"normal",fontSize:y.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function ye(Me){return e.editorOptionsRegistry[Me.id]=Me,Me}e.EditorOptions={acceptSuggestionOnCommitCharacter:ye(new g(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:p.localize(209,null)})),acceptSuggestionOnEnter:ye(new h(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",p.localize(210,null),""],markdownDescription:p.localize(211,null)})),accessibilitySupport:ye(new C),accessibilityPageSize:ye(new c(3,"accessibilityPageSize",10,1,1073741824,{description:p.localize(212,null),tags:["accessibility"]})),ariaLabel:ye(new l(4,"ariaLabel",p.localize(213,null))),ariaRequired:ye(new g(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:ye(new g(8,"screenReaderAnnounceInlineSuggestion",!0,{description:p.localize(214,null),tags:["accessibility"]})),autoClosingBrackets:ye(new h(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.localize(215,null),p.localize(216,null),""],description:p.localize(217,null)})),autoClosingComments:ye(new h(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.localize(218,null),p.localize(219,null),""],description:p.localize(220,null)})),autoClosingDelete:ye(new h(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",p.localize(221,null),""],description:p.localize(222,null)})),autoClosingOvertype:ye(new h(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",p.localize(223,null),""],description:p.localize(224,null)})),autoClosingQuotes:ye(new h(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.localize(225,null),p.localize(226,null),""],description:p.localize(227,null)})),autoIndent:ye(new u(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],f,{enumDescriptions:[p.localize(228,null),p.localize(229,null),p.localize(230,null),p.localize(231,null),p.localize(232,null)],description:p.localize(233,null)})),automaticLayout:ye(new g(13,"automaticLayout",!1)),autoSurround:ye(new h(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[p.localize(234,null),p.localize(235,null),p.localize(236,null),""],description:p.localize(237,null)})),bracketPairColorization:ye(new ue),bracketPairGuides:ye(new ce),stickyTabStops:ye(new g(116,"stickyTabStops",!1,{description:p.localize(238,null)})),codeLens:ye(new g(17,"codeLens",!0,{description:p.localize(239,null)})),codeLensFontFamily:ye(new l(18,"codeLensFontFamily","",{description:p.localize(240,null)})),codeLensFontSize:ye(new c(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:p.localize(241,null)})),colorDecorators:ye(new g(20,"colorDecorators",!0,{description:p.localize(242,null)})),colorDecoratorActivatedOn:ye(new h(147,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[p.localize(243,null),p.localize(244,null),p.localize(245,null)],description:p.localize(246,null)})),colorDecoratorsLimit:ye(new c(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:p.localize(247,null)})),columnSelection:ye(new g(22,"columnSelection",!1,{description:p.localize(248,null)})),comments:ye(new _),contextmenu:ye(new g(24,"contextmenu",!0)),copyWithSyntaxHighlighting:ye(new g(25,"copyWithSyntaxHighlighting",!0,{description:p.localize(249,null)})),cursorBlinking:ye(new u(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],E,{description:p.localize(250,null)})),cursorSmoothCaretAnimation:ye(new h(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[p.localize(251,null),p.localize(252,null),p.localize(253,null)],description:p.localize(254,null)})),cursorStyle:ye(new u(28,"cursorStyle",I.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],T,{description:p.localize(255,null)})),cursorSurroundingLines:ye(new c(29,"cursorSurroundingLines",0,0,1073741824,{description:p.localize(256,null)})),cursorSurroundingLinesStyle:ye(new h(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[p.localize(257,null),p.localize(258,null)],markdownDescription:p.localize(259,null)})),cursorWidth:ye(new c(31,"cursorWidth",0,0,1073741824,{markdownDescription:p.localize(260,null)})),disableLayerHinting:ye(new g(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:ye(new g(33,"disableMonospaceOptimizations",!1)),domReadOnly:ye(new g(34,"domReadOnly",!1)),dragAndDrop:ye(new g(35,"dragAndDrop",!0,{description:p.localize(261,null)})),emptySelectionClipboard:ye(new R),dropIntoEditor:ye(new Ie),stickyScroll:ye(new re),experimentalWhitespaceRendering:ye(new h(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[p.localize(262,null),p.localize(263,null),p.localize(264,null)],description:p.localize(265,null)})),extraEditorClassName:ye(new l(39,"extraEditorClassName","")),fastScrollSensitivity:ye(new s(40,"fastScrollSensitivity",5,Me=>Me<=0?5:Me,{markdownDescription:p.localize(266,null)})),find:ye(new M),fixedOverflowWidgets:ye(new g(42,"fixedOverflowWidgets",!1)),folding:ye(new g(43,"folding",!0,{description:p.localize(267,null)})),foldingStrategy:ye(new h(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[p.localize(268,null),p.localize(269,null)],description:p.localize(270,null)})),foldingHighlight:ye(new g(45,"foldingHighlight",!0,{description:p.localize(271,null)})),foldingImportsByDefault:ye(new g(46,"foldingImportsByDefault",!1,{description:p.localize(272,null)})),foldingMaximumRegions:ye(new c(47,"foldingMaximumRegions",5e3,10,65e3,{description:p.localize(273,null)})),unfoldOnClickAfterEndOfLine:ye(new g(48,"unfoldOnClickAfterEndOfLine",!1,{description:p.localize(274,null)})),fontFamily:ye(new l(49,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:p.localize(275,null)})),fontInfo:ye(new F),fontLigatures2:ye(new N),fontSize:ye(new O),fontWeight:ye(new B),fontVariations:ye(new P),formatOnPaste:ye(new g(55,"formatOnPaste",!1,{description:p.localize(276,null)})),formatOnType:ye(new g(56,"formatOnType",!1,{description:p.localize(277,null)})),glyphMargin:ye(new g(57,"glyphMargin",!0,{description:p.localize(278,null)})),gotoLocation:ye(new W),hideCursorInOverviewRuler:ye(new g(59,"hideCursorInOverviewRuler",!1,{description:p.localize(279,null)})),hover:ye(new V),inDiffEditor:ye(new g(61,"inDiffEditor",!1)),letterSpacing:ye(new s(64,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,Me=>s.clamp(Me,-5,20),{description:p.localize(280,null)})),lightbulb:ye(new x),lineDecorationsWidth:ye(new J),lineHeight:ye(new X),lineNumbers:ye(new U),lineNumbersMinChars:ye(new c(69,"lineNumbersMinChars",5,1,300)),linkedEditing:ye(new g(70,"linkedEditing",!1,{description:p.localize(281,null)})),links:ye(new g(71,"links",!0,{description:p.localize(282,null)})),matchBrackets:ye(new h(72,"matchBrackets","always",["always","near","never"],{description:p.localize(283,null)})),minimap:ye(new Y),mouseStyle:ye(new h(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:ye(new s(75,"mouseWheelScrollSensitivity",1,Me=>Me===0?1:Me,{markdownDescription:p.localize(284,null)})),mouseWheelZoom:ye(new g(76,"mouseWheelZoom",!1,{markdownDescription:y.isMacintosh?p.localize(285,null):p.localize(286,null)})),multiCursorMergeOverlapping:ye(new g(77,"multiCursorMergeOverlapping",!0,{description:p.localize(287,null)})),multiCursorModifier:ye(new u(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],le,{markdownEnumDescriptions:[p.localize(288,null),p.localize(289,null)],markdownDescription:p.localize(290,null)})),multiCursorPaste:ye(new h(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[p.localize(291,null),p.localize(292,null)],markdownDescription:p.localize(293,null)})),multiCursorLimit:ye(new c(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:p.localize(294,null)})),occurrencesHighlight:ye(new h(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[p.localize(295,null),p.localize(296,null),p.localize(297,null)],markdownDescription:p.localize(298,null)})),overviewRulerBorder:ye(new g(82,"overviewRulerBorder",!0,{description:p.localize(299,null)})),overviewRulerLanes:ye(new c(83,"overviewRulerLanes",3,0,3)),padding:ye(new de),pasteAs:ye(new Ne),parameterHints:ye(new ge),peekWidgetDefaultFocus:ye(new h(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[p.localize(300,null),p.localize(301,null)],description:p.localize(302,null)})),definitionLinkOpensInPeek:ye(new g(88,"definitionLinkOpensInPeek",!1,{description:p.localize(303,null)})),quickSuggestions:ye(new Q),quickSuggestionsDelay:ye(new c(90,"quickSuggestionsDelay",10,0,1073741824,{description:p.localize(304,null)})),readOnly:ye(new g(91,"readOnly",!1)),readOnlyMessage:ye(new q),renameOnType:ye(new g(93,"renameOnType",!1,{description:p.localize(305,null),markdownDeprecationMessage:p.localize(306,null)})),renderControlCharacters:ye(new g(94,"renderControlCharacters",!0,{description:p.localize(307,null),restricted:!0})),renderFinalNewline:ye(new h(95,"renderFinalNewline",y.isLinux?"dimmed":"on",["off","on","dimmed"],{description:p.localize(308,null)})),renderLineHighlight:ye(new h(96,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",p.localize(309,null)],description:p.localize(310,null)})),renderLineHighlightOnlyWhenFocus:ye(new g(97,"renderLineHighlightOnlyWhenFocus",!1,{description:p.localize(311,null)})),renderValidationDecorations:ye(new h(98,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:ye(new h(99,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",p.localize(312,null),p.localize(313,null),p.localize(314,null),""],description:p.localize(315,null)})),revealHorizontalRightPadding:ye(new c(100,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:ye(new g(101,"roundedSelection",!0,{description:p.localize(316,null)})),rulers:ye(new H),scrollbar:ye(new G),scrollBeyondLastColumn:ye(new c(104,"scrollBeyondLastColumn",4,0,1073741824,{description:p.localize(317,null)})),scrollBeyondLastLine:ye(new g(105,"scrollBeyondLastLine",!0,{description:p.localize(318,null)})),scrollPredominantAxis:ye(new g(106,"scrollPredominantAxis",!0,{description:p.localize(319,null)})),selectionClipboard:ye(new g(107,"selectionClipboard",!0,{description:p.localize(320,null),included:y.isLinux})),selectionHighlight:ye(new g(108,"selectionHighlight",!0,{description:p.localize(321,null)})),selectOnLineNumbers:ye(new g(109,"selectOnLineNumbers",!0)),showFoldingControls:ye(new h(110,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[p.localize(322,null),p.localize(323,null),p.localize(324,null)],description:p.localize(325,null)})),showUnused:ye(new g(111,"showUnused",!0,{description:p.localize(326,null)})),showDeprecated:ye(new g(139,"showDeprecated",!0,{description:p.localize(327,null)})),inlayHints:ye(new ie),snippetSuggestions:ye(new h(112,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[p.localize(328,null),p.localize(329,null),p.localize(330,null),p.localize(331,null)],description:p.localize(332,null)})),smartSelect:ye(new Ce),smoothScrolling:ye(new g(114,"smoothScrolling",!1,{description:p.localize(333,null)})),stopRenderingLineAfter:ye(new c(117,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:ye(new ve),inlineSuggest:ye(new oe),inlineEdit:ye(new ae),inlineCompletionsAccessibilityVerbose:ye(new g(148,"inlineCompletionsAccessibilityVerbose",!1,{description:p.localize(334,null)})),suggestFontSize:ye(new c(119,"suggestFontSize",0,0,1e3,{markdownDescription:p.localize(335,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:ye(new c(120,"suggestLineHeight",0,0,1e3,{markdownDescription:p.localize(336,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:ye(new g(121,"suggestOnTriggerCharacters",!0,{description:p.localize(337,null)})),suggestSelection:ye(new h(122,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[p.localize(338,null),p.localize(339,null),p.localize(340,null)],description:p.localize(341,null)})),tabCompletion:ye(new h(123,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[p.localize(342,null),p.localize(343,null),p.localize(344,null)],description:p.localize(345,null)})),tabIndex:ye(new c(124,"tabIndex",0,-1,1073741824)),unicodeHighlight:ye(new $),unusualLineTerminators:ye(new h(126,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[p.localize(346,null),p.localize(347,null),p.localize(348,null)],description:p.localize(349,null)})),useShadowDOM:ye(new g(127,"useShadowDOM",!0)),useTabStops:ye(new g(128,"useTabStops",!0,{description:p.localize(350,null)})),wordBreak:ye(new h(129,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[p.localize(351,null),p.localize(352,null)],description:p.localize(353,null)})),wordSeparators:ye(new l(130,"wordSeparators",S.USUAL_WORD_SEPARATORS,{description:p.localize(354,null)})),wordWrap:ye(new h(131,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[p.localize(355,null),p.localize(356,null),p.localize(357,null),p.localize(358,null)],description:p.localize(359,null)})),wordWrapBreakAfterCharacters:ye(new l(132,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:ye(new l(133,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:ye(new c(134,"wordWrapColumn",80,1,1073741824,{markdownDescription:p.localize(360,null)})),wordWrapOverride1:ye(new h(135,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:ye(new h(136,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:ye(new A),defaultColorDecorators:ye(new g(146,"defaultColorDecorators",!1,{markdownDescription:p.localize(361,null)})),pixelRatio:ye(new pe),tabFocusMode:ye(new g(143,"tabFocusMode",!1,{markdownDescription:p.localize(362,null)})),layoutInfo:ye(new z),wrappingInfo:ye(new _e),wrappingIndent:ye(new Se),wrappingStrategy:ye(new K)}}),define(ne[646],se([1,0,6,41,11,74,36,9,5,206]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class b{constructor(i,t,o,g,m,c,d){this.top=i,this.left=t,this.paddingLeft=o,this.width=g,this.height=m,this.textContent=c,this.textContentClassName=d}}class a{constructor(i){this._context=i;const t=this._context.configuration.options,o=t.get(50);this._cursorStyle=t.get(28),this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,k.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${v.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,D.applyFontInfo)(this._domNode,o),this._domNode.setDisplay("none"),this._position=new p.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(i){const t=this._context.configuration.options,o=t.get(50);return this._cursorStyle=t.get(28),this._lineHeight=t.get(67),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(31),this._typicalHalfwidthCharacterWidth),(0,D.applyFontInfo)(this._domNode,o),!0}onCursorPositionChanged(i,t){return t?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=i,!0}_getGraphemeAwarePosition(){const{lineNumber:i,column:t}=this._position,o=this._context.viewModel.getLineContent(i),[g,m]=y.getCharContainingOffset(o,t-1);return[new p.Position(i,g+1),o.substring(g,m)]}_prepareRender(i){let t="",o="";const[g,m]=this._getGraphemeAwarePosition();if(this._cursorStyle===S.TextEditorCursorStyle.Line||this._cursorStyle===S.TextEditorCursorStyle.LineThin){const u=i.visibleRangeForPosition(g);if(!u||u.outsideRenderedLine)return null;const f=L.getWindow(this._domNode.domNode);let C;this._cursorStyle===S.TextEditorCursorStyle.Line?(C=L.computeScreenAwareSize(f,this._lineCursorWidth>0?this._lineCursorWidth:2),C>2&&(t=m,o=this._getTokenClassName(g))):C=L.computeScreenAwareSize(f,1);let _=u.left,E=0;C>=2&&_>=1&&(E=1,_-=E);const I=i.getVerticalOffsetForLineNumber(g.lineNumber)-i.bigNumbersDelta;return new b(I,_,E,C,this._lineHeight,t,o)}const c=i.linesVisibleRangesForRange(new w.Range(g.lineNumber,g.column,g.lineNumber,g.column+m.length),!1);if(!c||c.length===0)return null;const d=c[0];if(d.outsideRenderedLine||d.ranges.length===0)return null;const s=d.ranges[0],l=m==="	"?this._typicalHalfwidthCharacterWidth:s.width<1?this._typicalHalfwidthCharacterWidth:s.width;this._cursorStyle===S.TextEditorCursorStyle.Block&&(t=m,o=this._getTokenClassName(g));let r=i.getVerticalOffsetForLineNumber(g.lineNumber)-i.bigNumbersDelta,h=this._lineHeight;return(this._cursorStyle===S.TextEditorCursorStyle.Underline||this._cursorStyle===S.TextEditorCursorStyle.UnderlineThin)&&(r+=this._lineHeight-2,h=2),new b(r,s.left,0,l,h,t,o)}_getTokenClassName(i){const t=this._context.viewModel.getViewLineData(i.lineNumber),o=t.tokens.findTokenIndexAtOffset(i.column-1);return t.tokens.getClassName(o)}prepareRender(i){this._renderData=this._prepareRender(i)}render(i){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${v.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=a}),define(ne[647],se([1,0,32,286,36]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorOptions=void 0;class D{get editorOptions(){return this._options}constructor(w){this._diffEditorWidth=(0,L.observableValue)(this,0),this.couldShowInlineViewBecauseOfSize=(0,L.derived)(this,b=>this._options.read(b).renderSideBySide&&this._diffEditorWidth.read(b)<=this._options.read(b).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,L.derived)(this,b=>this._options.read(b).renderOverviewRuler),this.renderSideBySide=(0,L.derived)(this,b=>this._options.read(b).renderSideBySide&&!(this._options.read(b).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(b))),this.readOnly=(0,L.derived)(this,b=>this._options.read(b).readOnly),this.shouldRenderRevertArrows=(0,L.derived)(this,b=>!(!this._options.read(b).renderMarginRevertIcon||!this.renderSideBySide.read(b)||this.readOnly.read(b))),this.renderIndicators=(0,L.derived)(this,b=>this._options.read(b).renderIndicators),this.enableSplitViewResizing=(0,L.derived)(this,b=>this._options.read(b).enableSplitViewResizing),this.splitViewDefaultRatio=(0,L.derived)(this,b=>this._options.read(b).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,L.derived)(this,b=>this._options.read(b).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,L.derived)(this,b=>this._options.read(b).maxComputationTime),this.showMoves=(0,L.derived)(this,b=>this._options.read(b).experimental.showMoves&&this.renderSideBySide.read(b)),this.isInEmbeddedEditor=(0,L.derived)(this,b=>this._options.read(b).isInEmbeddedEditor),this.diffWordWrap=(0,L.derived)(this,b=>this._options.read(b).diffWordWrap),this.originalEditable=(0,L.derived)(this,b=>this._options.read(b).originalEditable),this.diffCodeLens=(0,L.derived)(this,b=>this._options.read(b).diffCodeLens),this.accessibilityVerbose=(0,L.derived)(this,b=>this._options.read(b).accessibilityVerbose),this.diffAlgorithm=(0,L.derived)(this,b=>this._options.read(b).diffAlgorithm),this.showEmptyDecorations=(0,L.derived)(this,b=>this._options.read(b).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,L.derived)(this,b=>this._options.read(b).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,L.derived)(this,b=>this._options.read(b).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,L.derived)(this,b=>this._options.read(b).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,L.derived)(this,b=>this._options.read(b).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=(0,L.derived)(this,b=>this._options.read(b).hideUnchangedRegions.minimumLineCount);const v={...w,...S(w,k.diffEditorDefaultOptions)};this._options=(0,L.observableValue)(this,v)}updateOptions(w){const v=S(w,this._options.get()),b={...this._options.get(),...w,...v};this._options.set(b,void 0,{changedOptions:w})}setWidth(w){this._diffEditorWidth.set(w,void 0)}}e.DiffEditorOptions=D;function S(p,w){var v,b,a,n,i,t,o,g;return{enableSplitViewResizing:(0,y.boolean)(p.enableSplitViewResizing,w.enableSplitViewResizing),splitViewDefaultRatio:(0,y.clampedFloat)(p.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,y.boolean)(p.renderSideBySide,w.renderSideBySide),renderMarginRevertIcon:(0,y.boolean)(p.renderMarginRevertIcon,w.renderMarginRevertIcon),maxComputationTime:(0,y.clampedInt)(p.maxComputationTime,w.maxComputationTime,0,1073741824),maxFileSize:(0,y.clampedInt)(p.maxFileSize,w.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,y.boolean)(p.ignoreTrimWhitespace,w.ignoreTrimWhitespace),renderIndicators:(0,y.boolean)(p.renderIndicators,w.renderIndicators),originalEditable:(0,y.boolean)(p.originalEditable,w.originalEditable),diffCodeLens:(0,y.boolean)(p.diffCodeLens,w.diffCodeLens),renderOverviewRuler:(0,y.boolean)(p.renderOverviewRuler,w.renderOverviewRuler),diffWordWrap:(0,y.stringSet)(p.diffWordWrap,w.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,y.stringSet)(p.diffAlgorithm,w.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,y.boolean)(p.accessibilityVerbose,w.accessibilityVerbose),experimental:{showMoves:(0,y.boolean)((v=p.experimental)===null||v===void 0?void 0:v.showMoves,w.experimental.showMoves),showEmptyDecorations:(0,y.boolean)((b=p.experimental)===null||b===void 0?void 0:b.showEmptyDecorations,w.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,y.boolean)((n=(a=p.hideUnchangedRegions)===null||a===void 0?void 0:a.enabled)!==null&&n!==void 0?n:(i=p.experimental)===null||i===void 0?void 0:i.collapseUnchangedRegions,w.hideUnchangedRegions.enabled),contextLineCount:(0,y.clampedInt)((t=p.hideUnchangedRegions)===null||t===void 0?void 0:t.contextLineCount,w.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,y.clampedInt)((o=p.hideUnchangedRegions)===null||o===void 0?void 0:o.minimumLineCount,w.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,y.clampedInt)((g=p.hideUnchangedRegions)===null||g===void 0?void 0:g.revealLineCount,w.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,y.boolean)(p.isInEmbeddedEditor,w.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,y.boolean)(p.onlyShowAccessibleDiffViewer,w.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,y.clampedInt)(p.renderSideBySideInlineBreakpoint,w.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,y.boolean)(p.useInlineViewWhenSpaceIsLimited,w.useInlineViewWhenSpaceIsLimited)}}}),define(ne[241],se([1,0,17,36,153]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const D=L.isMacintosh?1.5:1.35,S=8;class p{static createFromValidatedSettings(b,a,n){const i=b.get(49),t=b.get(53),o=b.get(52),g=b.get(51),m=b.get(54),c=b.get(67),d=b.get(64);return p._create(i,t,o,g,m,c,d,a,n)}static _create(b,a,n,i,t,o,g,m,c){o===0?o=D*n:o<S&&(o=o*n),o=Math.round(o),o<S&&(o=S);const d=1+(c?0:y.EditorZoom.getZoomLevel()*.1);return n*=d,o*=d,t===k.EditorFontVariations.TRANSLATE&&(a==="normal"||a==="bold"?t=k.EditorFontVariations.OFF:(t=`'wght' ${parseInt(a,10)}`,a="normal")),new p({pixelRatio:m,fontFamily:b,fontWeight:a,fontSize:n,fontFeatureSettings:i,fontVariationSettings:t,lineHeight:o,letterSpacing:g})}constructor(b){this._bareFontInfoBrand=void 0,this.pixelRatio=b.pixelRatio,this.fontFamily=String(b.fontFamily),this.fontWeight=String(b.fontWeight),this.fontSize=b.fontSize,this.fontFeatureSettings=b.fontFeatureSettings,this.fontVariationSettings=b.fontVariationSettings,this.lineHeight=b.lineHeight|0,this.letterSpacing=b.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const b=k.EDITOR_FONT_DEFAULTS.fontFamily,a=p._wrapInQuotes(this.fontFamily);return b&&this.fontFamily!==b?`${a}, ${b}`:a}static _wrapInQuotes(b){return/[,"']/.test(b)?b:/[+ ]/.test(b)?`"${b}"`:b}}e.BareFontInfo=p,e.SERIALIZED_FONT_INFO_VERSION=2;class w extends p{constructor(b,a){super(b),this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=a,this.isMonospace=b.isMonospace,this.typicalHalfwidthCharacterWidth=b.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=b.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,this.spaceWidth=b.spaceWidth,this.middotWidth=b.middotWidth,this.wsmiddotWidth=b.wsmiddotWidth,this.maxDigitWidth=b.maxDigitWidth}equals(b){return this.fontFamily===b.fontFamily&&this.fontWeight===b.fontWeight&&this.fontSize===b.fontSize&&this.fontFeatureSettings===b.fontFeatureSettings&&this.fontVariationSettings===b.fontVariationSettings&&this.lineHeight===b.lineHeight&&this.letterSpacing===b.letterSpacing&&this.typicalHalfwidthCharacterWidth===b.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===b.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===b.canUseHalfwidthRightwardsArrow&&this.spaceWidth===b.spaceWidth&&this.middotWidth===b.middotWidth&&this.wsmiddotWidth===b.wsmiddotWidth&&this.maxDigitWidth===b.maxDigitWidth}}e.FontInfo=w}),define(ne[341],se([1,0,6,230,7,2,500,36,241]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=e.FontMeasurementsImpl=void 0;class v extends D.Disposable{constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(n){const i=(0,L.getWindowId)(n);let t=this._cache.get(i);return t||(t=new b,this._cache.set(i,t)),t}_writeToCache(n,i,t){this._ensureCache(n).put(i,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=n.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(n)},5e3))}_evictUntrustedReadings(n){const i=this._ensureCache(n),t=i.getValues();let o=!1;for(const g of t)g.isTrusted||(o=!0,i.remove(g));o&&this._onDidChange.fire()}readFontInfo(n,i){const t=this._ensureCache(n);if(!t.has(i)){let o=this._actualReadFontInfo(n,i);(o.typicalHalfwidthCharacterWidth<=2||o.typicalFullwidthCharacterWidth<=2||o.spaceWidth<=2||o.maxDigitWidth<=2)&&(o=new w.FontInfo({pixelRatio:k.PixelRatio.getInstance(n).value,fontFamily:o.fontFamily,fontWeight:o.fontWeight,fontSize:o.fontSize,fontFeatureSettings:o.fontFeatureSettings,fontVariationSettings:o.fontVariationSettings,lineHeight:o.lineHeight,letterSpacing:o.letterSpacing,isMonospace:o.isMonospace,typicalHalfwidthCharacterWidth:Math.max(o.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(o.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:o.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(o.spaceWidth,5),middotWidth:Math.max(o.middotWidth,5),wsmiddotWidth:Math.max(o.wsmiddotWidth,5),maxDigitWidth:Math.max(o.maxDigitWidth,5)},!1)),this._writeToCache(n,i,o)}return t.get(i)}_createRequest(n,i,t,o){const g=new S.CharWidthRequest(n,i);return t.push(g),o?.push(g),g}_actualReadFontInfo(n,i){const t=[],o=[],g=this._createRequest("n",0,t,o),m=this._createRequest("\uFF4D",0,t,null),c=this._createRequest(" ",0,t,o),d=this._createRequest("0",0,t,o),s=this._createRequest("1",0,t,o),l=this._createRequest("2",0,t,o),r=this._createRequest("3",0,t,o),h=this._createRequest("4",0,t,o),u=this._createRequest("5",0,t,o),f=this._createRequest("6",0,t,o),C=this._createRequest("7",0,t,o),_=this._createRequest("8",0,t,o),E=this._createRequest("9",0,t,o),I=this._createRequest("\u2192",0,t,o),T=this._createRequest("\uFFEB",0,t,null),A=this._createRequest("\xB7",0,t,o),R=this._createRequest("\u2E31",0,t,null),M="|/-_ilm%";for(let B=0,W=M.length;B<W;B++)this._createRequest(M.charAt(B),0,t,o),this._createRequest(M.charAt(B),1,t,o),this._createRequest(M.charAt(B),2,t,o);(0,S.readCharWidths)(n,i,t);const N=Math.max(d.width,s.width,l.width,r.width,h.width,u.width,f.width,C.width,_.width,E.width);let P=i.fontFeatureSettings===p.EditorFontLigatures.OFF;const F=o[0].width;for(let B=1,W=o.length;P&&B<W;B++){const V=F-o[B].width;if(V<-.001||V>.001){P=!1;break}}let O=!0;return P&&T.width!==F&&(O=!1),T.width>I.width&&(O=!1),new w.FontInfo({pixelRatio:k.PixelRatio.getInstance(n).value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:P,typicalHalfwidthCharacterWidth:g.width,typicalFullwidthCharacterWidth:m.width,canUseHalfwidthRightwardsArrow:O,spaceWidth:c.width,middotWidth:A.width,wsmiddotWidth:R.width,maxDigitWidth:N},!0)}}e.FontMeasurementsImpl=v;class b{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(n){const i=n.getId();return!!this._values[i]}get(n){const i=n.getId();return this._values[i]}put(n,i){const t=n.getId();this._keys[t]=n,this._values[t]=i}remove(n){const i=n.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(n=>this._values[n])}}e.FontMeasurements=new v}),define(ne[342],se([1,0,9,5,86,36]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class S{constructor(n,i,t,o,g){this.editorId=n,this.model=i,this.configuration=t,this._linesCollection=o,this._coordinatesConverter=g,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(n){const i=n.id;let t=this._decorationsCache[i];if(!t){const o=n.range,g=n.options;let m;if(g.isWholeLine){const c=this._coordinatesConverter.convertModelPositionToViewPosition(new L.Position(o.startLineNumber,1),0,!1,!0),d=this._coordinatesConverter.convertModelPositionToViewPosition(new L.Position(o.endLineNumber,this.model.getLineMaxColumn(o.endLineNumber)),1);m=new k.Range(c.lineNumber,c.column,d.lineNumber,d.column)}else m=this._coordinatesConverter.convertModelRangeToViewRange(o,1);t=new y.ViewModelDecoration(m,g),this._decorationsCache[i]=t}return t}getMinimapDecorationsInRange(n){return this._getDecorationsInRange(n,!0,!1).decorations}getDecorationsViewportData(n){let i=this._cachedModelDecorationsResolver!==null;return i=i&&n.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(n,!1,!1),this._cachedModelDecorationsResolverViewRange=n),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(n,i=!1,t=!1){const o=new k.Range(n,this._linesCollection.getViewLineMinColumn(n),n,this._linesCollection.getViewLineMaxColumn(n));return this._getDecorationsInRange(o,i,t).inlineDecorations[0]}_getDecorationsInRange(n,i,t){const o=this._linesCollection.getDecorationsInRange(n,this.editorId,(0,D.filterValidationDecorations)(this.configuration.options),i,t),g=n.startLineNumber,m=n.endLineNumber,c=[];let d=0;const s=[];for(let l=g;l<=m;l++)s[l-g]=[];for(let l=0,r=o.length;l<r;l++){const h=o[l],u=h.options;if(!p(this.model,h))continue;const f=this._getOrCreateViewModelDecoration(h),C=f.range;if(c[d++]=f,u.inlineClassName){const _=new y.InlineDecoration(C,u.inlineClassName,u.inlineClassNameAffectsLetterSpacing?3:0),E=Math.max(g,C.startLineNumber),I=Math.min(m,C.endLineNumber);for(let T=E;T<=I;T++)s[T-g].push(_)}if(u.beforeContentClassName&&g<=C.startLineNumber&&C.startLineNumber<=m){const _=new y.InlineDecoration(new k.Range(C.startLineNumber,C.startColumn,C.startLineNumber,C.startColumn),u.beforeContentClassName,1);s[C.startLineNumber-g].push(_)}if(u.afterContentClassName&&g<=C.endLineNumber&&C.endLineNumber<=m){const _=new y.InlineDecoration(new k.Range(C.endLineNumber,C.endColumn,C.endLineNumber,C.endColumn),u.afterContentClassName,2);s[C.endLineNumber-g].push(_)}}return{decorations:c,inlineDecorations:s}}}e.ViewModelDecorations=S;function p(a,n){return!(n.options.hideInCommentTokens&&w(a,n)||n.options.hideInStringTokens&&v(a,n))}e.isModelDecorationVisible=p;function w(a,n){return b(a,n.range,i=>i===1)}e.isModelDecorationInComment=w;function v(a,n){return b(a,n.range,i=>i===2)}e.isModelDecorationInString=v;function b(a,n,i){for(let t=n.startLineNumber;t<=n.endLineNumber;t++){const o=a.tokenization.getLineTokens(t),g=t===n.startLineNumber,m=t===n.endLineNumber;let c=g?o.findTokenIndexAtOffset(n.startColumn-1):0;for(;c<o.getCount()&&!(m&&o.getStartOffset(c)>n.endColumn-1);){if(!i(o.getStandardTokenType(c)))return!1;c++}}return!0}}),define(ne[648],se([3,4]),function(ee,e){return ee.create("vs/editor/common/core/editorColorRegistry",e)}),define(ne[649],se([3,4]),function(ee,e){return ee.create("vs/editor/common/editorContextKeys",e)}),define(ne[650],se([3,4]),function(ee,e){return ee.create("vs/editor/common/languages",e)}),define(ne[30],se([1,0,27,22,5,539,650]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditTriggerKind=e.TokenizationRegistry=e.LazyTokenizationSupport=e.InlayHintKind=e.Command=e.NewSymbolNameTag=e.FoldingRangeKind=e.TextEdit=e.SymbolKinds=e.getAriaLabelForSymbol=e.symbolKindNames=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.SelectedSuggestionInfo=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0;class p{constructor(C,_,E){this.offset=C,this.type=_,this.language=E,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=p;class w{constructor(C,_){this.tokens=C,this.endState=_,this._tokenizationResultBrand=void 0}}e.TokenizationResult=w;class v{constructor(C,_){this.tokens=C,this.endState=_,this._encodedTokenizationResultBrand=void 0}}e.EncodedTokenizationResult=v;var b;(function(f){const C=new Map;C.set(0,L.Codicon.symbolMethod),C.set(1,L.Codicon.symbolFunction),C.set(2,L.Codicon.symbolConstructor),C.set(3,L.Codicon.symbolField),C.set(4,L.Codicon.symbolVariable),C.set(5,L.Codicon.symbolClass),C.set(6,L.Codicon.symbolStruct),C.set(7,L.Codicon.symbolInterface),C.set(8,L.Codicon.symbolModule),C.set(9,L.Codicon.symbolProperty),C.set(10,L.Codicon.symbolEvent),C.set(11,L.Codicon.symbolOperator),C.set(12,L.Codicon.symbolUnit),C.set(13,L.Codicon.symbolValue),C.set(15,L.Codicon.symbolEnum),C.set(14,L.Codicon.symbolConstant),C.set(15,L.Codicon.symbolEnum),C.set(16,L.Codicon.symbolEnumMember),C.set(17,L.Codicon.symbolKeyword),C.set(27,L.Codicon.symbolSnippet),C.set(18,L.Codicon.symbolText),C.set(19,L.Codicon.symbolColor),C.set(20,L.Codicon.symbolFile),C.set(21,L.Codicon.symbolReference),C.set(22,L.Codicon.symbolCustomColor),C.set(23,L.Codicon.symbolFolder),C.set(24,L.Codicon.symbolTypeParameter),C.set(25,L.Codicon.account),C.set(26,L.Codicon.issues);function _(T){let A=C.get(T);return A||(console.info("No codicon found for CompletionItemKind "+T),A=L.Codicon.symbolProperty),A}f.toIcon=_;const E=new Map;E.set("method",0),E.set("function",1),E.set("constructor",2),E.set("field",3),E.set("variable",4),E.set("class",5),E.set("struct",6),E.set("interface",7),E.set("module",8),E.set("property",9),E.set("event",10),E.set("operator",11),E.set("unit",12),E.set("value",13),E.set("constant",14),E.set("enum",15),E.set("enum-member",16),E.set("enumMember",16),E.set("keyword",17),E.set("snippet",27),E.set("text",18),E.set("color",19),E.set("file",20),E.set("reference",21),E.set("customcolor",22),E.set("folder",23),E.set("type-parameter",24),E.set("typeParameter",24),E.set("account",25),E.set("issue",26);function I(T,A){let R=E.get(T);return typeof R>"u"&&!A&&(R=9),R}f.fromString=I})(b||(e.CompletionItemKinds=b={}));var a;(function(f){f[f.Automatic=0]="Automatic",f[f.Explicit=1]="Explicit"})(a||(e.InlineCompletionTriggerKind=a={}));class n{constructor(C,_,E,I){this.range=C,this.text=_,this.completionKind=E,this.isSnippetText=I}equals(C){return y.Range.lift(this.range).equalsRange(C.range)&&this.text===C.text&&this.completionKind===C.completionKind&&this.isSnippetText===C.isSnippetText}}e.SelectedSuggestionInfo=n;var i;(function(f){f[f.Invoke=1]="Invoke",f[f.TriggerCharacter=2]="TriggerCharacter",f[f.ContentChange=3]="ContentChange"})(i||(e.SignatureHelpTriggerKind=i={}));var t;(function(f){f[f.Text=0]="Text",f[f.Read=1]="Read",f[f.Write=2]="Write"})(t||(e.DocumentHighlightKind=t={}));function o(f){return f&&k.URI.isUri(f.uri)&&y.Range.isIRange(f.range)&&(y.Range.isIRange(f.originSelectionRange)||y.Range.isIRange(f.targetSelectionRange))}e.isLocationLink=o,e.symbolKindNames={17:(0,S.localize)(0,null),16:(0,S.localize)(1,null),4:(0,S.localize)(2,null),13:(0,S.localize)(3,null),8:(0,S.localize)(4,null),9:(0,S.localize)(5,null),21:(0,S.localize)(6,null),23:(0,S.localize)(7,null),7:(0,S.localize)(8,null),0:(0,S.localize)(9,null),11:(0,S.localize)(10,null),10:(0,S.localize)(11,null),19:(0,S.localize)(12,null),5:(0,S.localize)(13,null),1:(0,S.localize)(14,null),2:(0,S.localize)(15,null),20:(0,S.localize)(16,null),15:(0,S.localize)(17,null),18:(0,S.localize)(18,null),24:(0,S.localize)(19,null),3:(0,S.localize)(20,null),6:(0,S.localize)(21,null),14:(0,S.localize)(22,null),22:(0,S.localize)(23,null),25:(0,S.localize)(24,null),12:(0,S.localize)(25,null)};function g(f,C){return(0,S.localize)(26,null,f,e.symbolKindNames[C])}e.getAriaLabelForSymbol=g;var m;(function(f){const C=new Map;C.set(0,L.Codicon.symbolFile),C.set(1,L.Codicon.symbolModule),C.set(2,L.Codicon.symbolNamespace),C.set(3,L.Codicon.symbolPackage),C.set(4,L.Codicon.symbolClass),C.set(5,L.Codicon.symbolMethod),C.set(6,L.Codicon.symbolProperty),C.set(7,L.Codicon.symbolField),C.set(8,L.Codicon.symbolConstructor),C.set(9,L.Codicon.symbolEnum),C.set(10,L.Codicon.symbolInterface),C.set(11,L.Codicon.symbolFunction),C.set(12,L.Codicon.symbolVariable),C.set(13,L.Codicon.symbolConstant),C.set(14,L.Codicon.symbolString),C.set(15,L.Codicon.symbolNumber),C.set(16,L.Codicon.symbolBoolean),C.set(17,L.Codicon.symbolArray),C.set(18,L.Codicon.symbolObject),C.set(19,L.Codicon.symbolKey),C.set(20,L.Codicon.symbolNull),C.set(21,L.Codicon.symbolEnumMember),C.set(22,L.Codicon.symbolStruct),C.set(23,L.Codicon.symbolEvent),C.set(24,L.Codicon.symbolOperator),C.set(25,L.Codicon.symbolTypeParameter);function _(E){let I=C.get(E);return I||(console.info("No codicon found for SymbolKind "+E),I=L.Codicon.symbolProperty),I}f.toIcon=_})(m||(e.SymbolKinds=m={}));class c{}e.TextEdit=c;class d{static fromValue(C){switch(C){case"comment":return d.Comment;case"imports":return d.Imports;case"region":return d.Region}return new d(C)}constructor(C){this.value=C}}e.FoldingRangeKind=d,d.Comment=new d("comment"),d.Imports=new d("imports"),d.Region=new d("region");var s;(function(f){f[f.AIGenerated=1]="AIGenerated"})(s||(e.NewSymbolNameTag=s={}));var l;(function(f){function C(_){return!_||typeof _!="object"?!1:typeof _.id=="string"&&typeof _.title=="string"}f.is=C})(l||(e.Command=l={}));var r;(function(f){f[f.Type=1]="Type",f[f.Parameter=2]="Parameter"})(r||(e.InlayHintKind=r={}));class h{constructor(C){this.createSupport=C,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(C=>{C&&C.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}e.LazyTokenizationSupport=h,e.TokenizationRegistry=new D.TokenizationRegistry;var u;(function(f){f[f.Invoke=0]="Invoke",f[f.Automatic=1]="Automatic"})(u||(e.InlineEditTriggerKind=u={}))}),define(ne[162],se([1,0,30]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(D){return this===D}};function k(D,S){return new L.TokenizationResult([new L.Token(0,"",D)],S)}e.nullTokenize=k;function y(D,S){const p=new Uint32Array(2);return p[0]=0,p[1]=(D<<0|0|0|32768|2<<24)>>>0,new L.EncodedTokenizationResult(p,S===null?e.NullState:S)}e.nullTokenizeEncoded=y}),define(ne[343],se([1,0,11,97,30,162]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const S={getInitialState:()=>D.NullState,tokenizeEncoded:(b,a,n)=>(0,D.nullTokenizeEncoded)(0,n)};async function p(b,a,n){if(!n)return v(a,b.languageIdCodec,S);const i=await y.TokenizationRegistry.getOrCreate(n);return v(a,b.languageIdCodec,i||S)}e.tokenizeToString=p;function w(b,a,n,i,t,o,g){let m="<div>",c=i,d=0,s=!0;for(let l=0,r=a.getCount();l<r;l++){const h=a.getEndOffset(l);if(h<=i)continue;let u="";for(;c<h&&c<t;c++){const f=b.charCodeAt(c);switch(f){case 9:{let C=o-(c+d)%o;for(d+=C-1;C>0;)g&&s?(u+="&#160;",s=!1):(u+=" ",s=!0),C--;break}case 60:u+="&lt;",s=!1;break;case 62:u+="&gt;",s=!1;break;case 38:u+="&amp;",s=!1;break;case 0:u+="&#00;",s=!1;break;case 65279:case 8232:case 8233:case 133:u+="\uFFFD",s=!1;break;case 13:u+="&#8203",s=!1;break;case 32:g&&s?(u+="&#160;",s=!1):(u+=" ",s=!0);break;default:u+=String.fromCharCode(f),s=!1}}if(m+=`<span style="${a.getInlineStyle(l,n)}">${u}</span>`,h>t||c>=t)break}return m+="</div>",m}e.tokenizeLineToHTML=w;function v(b,a,n){let i='<div class="monaco-tokenized-source">';const t=L.splitLines(b);let o=n.getInitialState();for(let g=0,m=t.length;g<m;g++){const c=t[g];g>0&&(i+="<br/>");const d=n.tokenizeEncoded(c,!0,o);k.LineTokens.convertToEndOffset(d.tokens,c.length);const l=new k.LineTokens(d.tokens,c,a).inflate();let r=0;for(let h=0,u=l.getCount();h<u;h++){const f=l.getClassName(h),C=l.getEndOffset(h);i+=`<span class="${f}">${L.escape(c.substring(r,C))}</span>`,r=C}o=d.endState}return i+="</div>",i}e._tokenizeToString=v}),define(ne[651],se([1,0,15,12,17,63,133,64,75,162,532,306,97]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultBackgroundTokenizer=e.RangePriorityQueueImpl=e.TokenizationStateStore=e.TrackingTokenizationStateStore=e.TokenizerWithStateStoreAndTextModel=e.TokenizerWithStateStore=void 0;class i{constructor(l,r){this.tokenizationSupport=r,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new o(l)}getStartState(l){return this.store.getStartState(l,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}e.TokenizerWithStateStore=i;class t extends i{constructor(l,r,h,u){super(l,r),this._textModel=h,this._languageIdCodec=u}updateTokensUntilLine(l,r){const h=this._textModel.getLanguageId();for(;;){const u=this.getFirstInvalidLine();if(!u||u.lineNumber>r)break;const f=this._textModel.getLineContent(u.lineNumber),C=c(this._languageIdCodec,h,this.tokenizationSupport,f,!0,u.startState);l.add(u.lineNumber,C.tokens),this.store.setEndState(u.lineNumber,C.endState)}}getTokenTypeIfInsertingCharacter(l,r){const h=this.getStartState(l.lineNumber);if(!h)return 0;const u=this._textModel.getLanguageId(),f=this._textModel.getLineContent(l.lineNumber),C=f.substring(0,l.column-1)+r+f.substring(l.column-1),_=c(this._languageIdCodec,u,this.tokenizationSupport,C,!0,h),E=new n.LineTokens(_.tokens,C,this._languageIdCodec);if(E.getCount()===0)return 0;const I=E.findTokenIndexAtOffset(l.column-1);return E.getStandardTokenType(I)}tokenizeLineWithEdit(l,r,h){const u=l.lineNumber,f=l.column,C=this.getStartState(u);if(!C)return null;const _=this._textModel.getLineContent(u),E=_.substring(0,f-1)+h+_.substring(f-1+r),I=this._textModel.getLanguageIdAtPosition(u,0),T=c(this._languageIdCodec,I,this.tokenizationSupport,E,!0,C);return new n.LineTokens(T.tokens,E,this._languageIdCodec)}isCheapToTokenize(l){const r=this.store.getFirstInvalidEndStateLineNumberOrMax();return l<r||l===r&&this._textModel.getLineLength(l)<2048}tokenizeHeuristically(l,r,h){if(h<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(r<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(l,h),{heuristicTokens:!1};let u=this.guessStartState(r);const f=this._textModel.getLanguageId();for(let C=r;C<=h;C++){const _=this._textModel.getLineContent(C),E=c(this._languageIdCodec,f,this.tokenizationSupport,_,!0,u);l.add(C,E.tokens),u=E.endState}return{heuristicTokens:!0}}guessStartState(l){let r=this._textModel.getLineFirstNonWhitespaceColumn(l);const h=[];let u=null;for(let _=l-1;r>1&&_>=1;_--){const E=this._textModel.getLineFirstNonWhitespaceColumn(_);if(E!==0&&E<r&&(h.push(this._textModel.getLineContent(_)),r=E,u=this.getStartState(_),u))break}u||(u=this.tokenizationSupport.getInitialState()),h.reverse();const f=this._textModel.getLanguageId();let C=u;for(const _ of h)C=c(this._languageIdCodec,f,this.tokenizationSupport,_,!1,C).endState;return C}}e.TokenizerWithStateStoreAndTextModel=t;class o{constructor(l){this.lineCount=l,this._tokenizationStateStore=new g,this._invalidEndStatesLineNumbers=new m,this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(1,l+1))}getEndState(l){return this._tokenizationStateStore.getEndState(l)}setEndState(l,r){if(!r)throw new k.BugIndicatingError("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(l);const h=this._tokenizationStateStore.setEndState(l,r);return h&&l<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(l+1,l+2)),h}acceptChange(l,r){this.lineCount+=r-l.length,this._tokenizationStateStore.acceptChange(l,r),this._invalidEndStatesLineNumbers.addRangeAndResize(new w.OffsetRange(l.startLineNumber,l.endLineNumberExclusive),r)}acceptChanges(l){for(const r of l){const[h]=(0,S.countEOL)(r.text);this.acceptChange(new p.LineRange(r.range.startLineNumber,r.range.endLineNumber+1),h+1)}}invalidateEndStateRange(l){this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(l.startLineNumber,l.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(l,r){return l===1?r:this.getEndState(l-1)}getFirstInvalidLine(l){const r=this.getFirstInvalidEndStateLineNumber();if(r===null)return null;const h=this.getStartState(r,l);if(!h)throw new k.BugIndicatingError("Start state must be defined");return{lineNumber:r,startState:h}}}e.TrackingTokenizationStateStore=o;class g{constructor(){this._lineEndStates=new b.FixedArray(null)}getEndState(l){return this._lineEndStates.get(l)}setEndState(l,r){const h=this._lineEndStates.get(l);return h&&h.equals(r)?!1:(this._lineEndStates.set(l,r),!0)}acceptChange(l,r){let h=l.length;r>0&&h>0&&(h--,r--),this._lineEndStates.replace(l.startLineNumber,h,r)}}e.TokenizationStateStore=g;class m{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(l){const r=this._ranges.findIndex(h=>h.contains(l));if(r!==-1){const h=this._ranges[r];h.start===l?h.endExclusive===l+1?this._ranges.splice(r,1):this._ranges[r]=new w.OffsetRange(l+1,h.endExclusive):h.endExclusive===l+1?this._ranges[r]=new w.OffsetRange(h.start,l):this._ranges.splice(r,1,new w.OffsetRange(h.start,l),new w.OffsetRange(l+1,h.endExclusive))}}addRange(l){w.OffsetRange.addRange(l,this._ranges)}addRangeAndResize(l,r){let h=0;for(;!(h>=this._ranges.length||l.start<=this._ranges[h].endExclusive);)h++;let u=h;for(;!(u>=this._ranges.length||l.endExclusive<this._ranges[u].start);)u++;const f=r-l.length;for(let C=u;C<this._ranges.length;C++)this._ranges[C]=this._ranges[C].delta(f);if(h===u){const C=new w.OffsetRange(l.start,l.start+r);C.isEmpty||this._ranges.splice(h,0,C)}else{const C=Math.min(l.start,this._ranges[h].start),_=Math.max(l.endExclusive,this._ranges[u-1].endExclusive),E=new w.OffsetRange(C,_+f);E.isEmpty?this._ranges.splice(h,u-h):this._ranges.splice(h,u-h,E)}}toString(){return this._ranges.map(l=>l.toString()).join(" + ")}}e.RangePriorityQueueImpl=m;function c(s,l,r,h,u,f){let C=null;if(r)try{C=r.tokenizeEncoded(h,u,f.clone())}catch(_){(0,k.onUnexpectedError)(_)}return C||(C=(0,v.nullTokenizeEncoded)(s.encodeLanguageId(l),f)),n.LineTokens.convertToEndOffset(C.tokens,h.length),C}class d{constructor(l,r){this._tokenizerWithStateStore=l,this._backgroundTokenStore=r,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,L.runWhenGlobalIdle)(l=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(l)}))}_backgroundTokenizeWithDeadline(l){const r=Date.now()+l.timeRemaining(),h=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<r?(0,y.setTimeout0)(h):this._beginBackgroundTokenization())};h()}_backgroundTokenizeForAtLeast1ms(){const l=this._tokenizerWithStateStore._textModel.getLineCount(),r=new a.ContiguousMultilineTokensBuilder,h=D.StopWatch.create(!1);do if(h.elapsed()>1||this._tokenizeOneInvalidLine(r)>=l)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(r.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(l){var r;const h=(r=this._tokenizerWithStateStore)===null||r===void 0?void 0:r.getFirstInvalidLine();return h?(this._tokenizerWithStateStore.updateTokensUntilLine(l,h.lineNumber),h.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(l,r){this._tokenizerWithStateStore.store.invalidateEndStateRange(new p.LineRange(l,r))}}e.DefaultBackgroundTokenizer=d}),define(ne[652],se([1,0,13,15,12,7,2,133,64,9,155,30,300,651,306,542,544]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class m extends n.TextModelPart{constructor(l,r,h,u,f,C){super(),this._languageService=l,this._languageConfigurationService=r,this._textModel=h,this._bracketPairsTextModelPart=u,this._languageId=f,this._attachedViews=C,this._semanticTokens=new g.SparseTokensStore(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new D.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new D.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new c(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(_=>{_.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(_=>{this._emitModelTokensChangedEvent(_)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(_=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(l){if(l.isFlush)this._semanticTokens.flush();else if(!l.isEolChange)for(const r of l.changes){const[h,u,f]=(0,p.countEOL)(r.text);this._semanticTokens.acceptEdit(r.range,h,u,f,r.text.length>0?r.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(l)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(l){this.validateLineNumber(l);const r=this.grammarTokens.getLineTokens(l);return this._semanticTokens.addSparseTokens(l,r)}_emitModelTokensChangedEvent(l){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(l),this._onDidChangeTokens.fire(l))}validateLineNumber(l){if(l<1||l>this._textModel.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(l){this.validateLineNumber(l),this.grammarTokens.forceTokenization(l)}isCheapToTokenize(l){return this.validateLineNumber(l),this.grammarTokens.isCheapToTokenize(l)}tokenizeIfCheap(l){this.validateLineNumber(l),this.grammarTokens.tokenizeIfCheap(l)}getTokenTypeIfInsertingCharacter(l,r,h){return this.grammarTokens.getTokenTypeIfInsertingCharacter(l,r,h)}tokenizeLineWithEdit(l,r,h){return this.grammarTokens.tokenizeLineWithEdit(l,r,h)}setSemanticTokens(l,r){this._semanticTokens.set(l,r),this._emitModelTokensChangedEvent({semanticTokensApplied:l!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(l,r){if(this.hasCompleteSemanticTokens())return;const h=this._textModel.validateRange(this._semanticTokens.setPartial(l,r));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:h.startLineNumber,toLineNumber:h.endLineNumber}]})}getWordAtPosition(l){this.assertNotDisposed();const r=this._textModel.validatePosition(l),h=this._textModel.getLineContent(r.lineNumber),u=this.getLineTokens(r.lineNumber),f=u.findTokenIndexAtOffset(r.column-1),[C,_]=m._findLanguageBoundaries(u,f),E=(0,b.getWordAtText)(r.column,this.getLanguageConfiguration(u.getLanguageId(f)).getWordDefinition(),h.substring(C,_),C);if(E&&E.startColumn<=l.column&&l.column<=E.endColumn)return E;if(f>0&&C===r.column-1){const[I,T]=m._findLanguageBoundaries(u,f-1),A=(0,b.getWordAtText)(r.column,this.getLanguageConfiguration(u.getLanguageId(f-1)).getWordDefinition(),h.substring(I,T),I);if(A&&A.startColumn<=l.column&&l.column<=A.endColumn)return A}return null}getLanguageConfiguration(l){return this._languageConfigurationService.getLanguageConfiguration(l)}static _findLanguageBoundaries(l,r){const h=l.getLanguageId(r);let u=0;for(let C=r;C>=0&&l.getLanguageId(C)===h;C--)u=l.getStartOffset(C);let f=l.getLineContent().length;for(let C=r,_=l.getCount();C<_&&l.getLanguageId(C)===h;C++)f=l.getEndOffset(C);return[u,f]}getWordUntilPosition(l){const r=this.getWordAtPosition(l);return r?{word:r.word.substr(0,l.column-r.startColumn),startColumn:r.startColumn,endColumn:l.column}:{word:"",startColumn:l.column,endColumn:l.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(l,r){const h=this._textModel.validatePosition(new v.Position(l,r)),u=this.getLineTokens(h.lineNumber);return u.getLanguageId(u.findTokenIndexAtOffset(h.column-1))}setLanguageId(l,r="api"){if(this._languageId===l)return;const h={oldLanguage:this._languageId,newLanguage:l,source:r};this._languageId=l,this._bracketPairsTextModelPart.handleDidChangeLanguage(h),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(h),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=m;class c extends S.Disposable{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(l,r,h,u){super(),this._languageIdCodec=l,this._textModel=r,this.getLanguageId=h,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new S.MutableDisposable),this._tokens=new o.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new S.MutableDisposable),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new D.Emitter),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new S.DisposableMap),this._register(a.TokenizationRegistry.onDidChange(f=>{const C=this.getLanguageId();f.changedLanguages.indexOf(C)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(u.onDidChangeVisibleRanges(({view:f,state:C})=>{if(C){let _=this._attachedViewStates.get(f);_||(_=new d(()=>this.refreshRanges(_.lineRanges)),this._attachedViewStates.set(f,_)),_.handleStateChange(C)}else this._attachedViewStates.deleteAndDispose(f)}))}resetTokenization(l=!0){var r;this._tokens.flush(),(r=this._debugBackgroundTokens)===null||r===void 0||r.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount())),l&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const h=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const C=a.TokenizationRegistry.get(this.getLanguageId());if(!C)return[null,null];let _;try{_=C.getInitialState()}catch(E){return(0,y.onUnexpectedError)(E),[null,null]}return[C,_]},[u,f]=h();if(u&&f?this._tokenizer=new i.TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(),u,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const C={setTokens:_=>{this.setTokens(_)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const _=2;this._backgroundTokenizationState=_,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(_,E)=>{var I;if(!this._tokenizer)return;const T=this._tokenizer.store.getFirstInvalidEndStateLineNumber();T!==null&&_>=T&&((I=this._tokenizer)===null||I===void 0||I.store.setEndState(_,E))}};u&&u.createBackgroundTokenizer&&!u.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=u.createBackgroundTokenizer(this._textModel,C)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new i.DefaultBackgroundTokenizer(this._tokenizer,C),this._defaultBackgroundTokenizer.handleChanges()),u?.backgroundTokenizerShouldOnlyVerifyTokens&&u.createBackgroundTokenizer?(this._debugBackgroundTokens=new o.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=u.createBackgroundTokenizer(this._textModel,{setTokens:_=>{var E;(E=this._debugBackgroundTokens)===null||E===void 0||E.setMultilineTokens(_,this._textModel)},backgroundTokenizationFinished(){},setEndState:(_,E)=>{var I;(I=this._debugBackgroundStates)===null||I===void 0||I.setEndState(_,E)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var l;(l=this._defaultBackgroundTokenizer)===null||l===void 0||l.handleChanges()}handleDidChangeContent(l){var r,h,u;if(l.isFlush)this.resetTokenization(!1);else if(!l.isEolChange){for(const f of l.changes){const[C,_]=(0,p.countEOL)(f.text);this._tokens.acceptEdit(f.range,C,_),(r=this._debugBackgroundTokens)===null||r===void 0||r.acceptEdit(f.range,C,_)}(h=this._debugBackgroundStates)===null||h===void 0||h.acceptChanges(l.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(l.changes),(u=this._defaultBackgroundTokenizer)===null||u===void 0||u.handleChanges()}}setTokens(l){const{changes:r}=this._tokens.setMultilineTokens(l,this._textModel);return r.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:r}),{changes:r}}refreshAllVisibleLineTokens(){const l=w.LineRange.joinMany([...this._attachedViewStates].map(([r,h])=>h.lineRanges));this.refreshRanges(l)}refreshRanges(l){for(const r of l)this.refreshRange(r.startLineNumber,r.endLineNumberExclusive-1)}refreshRange(l,r){var h,u;if(!this._tokenizer)return;l=Math.max(1,Math.min(this._textModel.getLineCount(),l)),r=Math.min(this._textModel.getLineCount(),r);const f=new t.ContiguousMultilineTokensBuilder,{heuristicTokens:C}=this._tokenizer.tokenizeHeuristically(f,l,r),_=this.setTokens(f.finalize());if(C)for(const E of _.changes)(h=this._backgroundTokenizer.value)===null||h===void 0||h.requestTokens(E.fromLineNumber,E.toLineNumber+1);(u=this._defaultBackgroundTokenizer)===null||u===void 0||u.checkFinished()}forceTokenization(l){var r,h;const u=new t.ContiguousMultilineTokensBuilder;(r=this._tokenizer)===null||r===void 0||r.updateTokensUntilLine(u,l),this.setTokens(u.finalize()),(h=this._defaultBackgroundTokenizer)===null||h===void 0||h.checkFinished()}isCheapToTokenize(l){return this._tokenizer?this._tokenizer.isCheapToTokenize(l):!0}tokenizeIfCheap(l){this.isCheapToTokenize(l)&&this.forceTokenization(l)}getLineTokens(l){var r;const h=this._textModel.getLineContent(l),u=this._tokens.getTokens(this._textModel.getLanguageId(),l-1,h);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>l&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>l){const f=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),l-1,h);!u.equals(f)&&(!((r=this._debugBackgroundTokenizer.value)===null||r===void 0)&&r.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(l)}return u}getTokenTypeIfInsertingCharacter(l,r,h){if(!this._tokenizer)return 0;const u=this._textModel.validatePosition(new v.Position(l,r));return this.forceTokenization(u.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(u,h)}tokenizeLineWithEdit(l,r,h){if(!this._tokenizer)return null;const u=this._textModel.validatePosition(l);return this.forceTokenization(u.lineNumber),this._tokenizer.tokenizeLineWithEdit(u,r,h)}get hasTokens(){return this._tokens.hasTokens}}class d extends S.Disposable{get lineRanges(){return this._lineRanges}constructor(l){super(),this._refreshTokens=l,this.runner=this._register(new k.RunOnceScheduler(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,L.equals)(this._computedLineRanges,this._lineRanges,(l,r)=>l.equals(r))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(l){this._lineRanges=l.visibleLineRanges,l.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}}),define(ne[344],se([1,0,19,7,66,22,9,5,23,30,217]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class a{static chord(t,o){return(0,y.KeyChord)(t,o)}}e.KeyMod=a,a.CtrlCmd=2048,a.Shift=1024,a.Alt=512,a.WinCtrl=256;function n(){return{editor:void 0,languages:void 0,CancellationTokenSource:L.CancellationTokenSource,Emitter:k.Emitter,KeyCode:b.KeyCode,KeyMod:a,Position:S.Position,Range:p.Range,Selection:w.Selection,SelectionDirection:b.SelectionDirection,MarkerSeverity:b.MarkerSeverity,MarkerTag:b.MarkerTag,Uri:D.URI,Token:v.Token}}e.createMonacoBaseAPI=n}),define(ne[653],se([1,0,176,22,9,5,536,155,519,525,344,63,304,516,54,518]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=void 0;class g extends S.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(s){const l=[];for(let r=0;r<this._lines.length;r++){const h=this._lines[r],u=this.offsetAt(new y.Position(r+1,1)),f=h.matchAll(s);for(const C of f)(C.index||C.index===0)&&(C.index=C.index+u),l.push(C)}return l}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(s){return this._lines[s-1]}getWordAtPosition(s,l){const r=(0,p.getWordAtText)(s.column,(0,p.ensureValidWordDefinition)(l),this._lines[s.lineNumber-1],0);return r?new D.Range(s.lineNumber,r.startColumn,s.lineNumber,r.endColumn):null}words(s){const l=this._lines,r=this._wordenize.bind(this);let h=0,u="",f=0,C=[];return{*[Symbol.iterator](){for(;;)if(f<C.length){const _=u.substring(C[f].start,C[f].end);f+=1,yield _}else if(h<l.length)u=l[h],C=r(u,s),f=0,h+=1;else break}}}getLineWords(s,l){const r=this._lines[s-1],h=this._wordenize(r,l),u=[];for(const f of h)u.push({word:r.substring(f.start,f.end),startColumn:f.start+1,endColumn:f.end+1});return u}_wordenize(s,l){const r=[];let h;for(l.lastIndex=0;(h=l.exec(s))&&h[0].length!==0;)r.push({start:h.index,end:h.index+h[0].length});return r}getValueInRange(s){if(s=this._validateRange(s),s.startLineNumber===s.endLineNumber)return this._lines[s.startLineNumber-1].substring(s.startColumn-1,s.endColumn-1);const l=this._eol,r=s.startLineNumber-1,h=s.endLineNumber-1,u=[];u.push(this._lines[r].substring(s.startColumn-1));for(let f=r+1;f<h;f++)u.push(this._lines[f]);return u.push(this._lines[h].substring(0,s.endColumn-1)),u.join(l)}offsetAt(s){return s=this._validatePosition(s),this._ensureLineStarts(),this._lineStarts.getPrefixSum(s.lineNumber-2)+(s.column-1)}positionAt(s){s=Math.floor(s),s=Math.max(0,s),this._ensureLineStarts();const l=this._lineStarts.getIndexOf(s),r=this._lines[l.index].length;return{lineNumber:1+l.index,column:1+Math.min(l.remainder,r)}}_validateRange(s){const l=this._validatePosition({lineNumber:s.startLineNumber,column:s.startColumn}),r=this._validatePosition({lineNumber:s.endLineNumber,column:s.endColumn});return l.lineNumber!==s.startLineNumber||l.column!==s.startColumn||r.lineNumber!==s.endLineNumber||r.column!==s.endColumn?{startLineNumber:l.lineNumber,startColumn:l.column,endLineNumber:r.lineNumber,endColumn:r.column}:s}_validatePosition(s){if(!y.Position.isIPosition(s))throw new Error("bad position");let{lineNumber:l,column:r}=s,h=!1;if(l<1)l=1,r=1,h=!0;else if(l>this._lines.length)l=this._lines.length,r=this._lines[l-1].length+1,h=!0;else{const u=this._lines[l-1].length+1;r<1?(r=1,h=!0):r>u&&(r=u,h=!0)}return h?{lineNumber:l,column:r}:s}}class m{constructor(s,l){this._host=s,this._models=Object.create(null),this._foreignModuleFactory=l,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(s){return this._models[s]}_getModels(){const s=[];return Object.keys(this._models).forEach(l=>s.push(this._models[l])),s}acceptNewModel(s){this._models[s.url]=new g(k.URI.parse(s.url),s.lines,s.EOL,s.versionId)}acceptModelChanged(s,l){if(!this._models[s])return;this._models[s].onEvents(l)}acceptRemovedModel(s){this._models[s]&&delete this._models[s]}async computeUnicodeHighlights(s,l,r){const h=this._getModel(s);return h?n.UnicodeTextModelHighlighter.computeUnicodeHighlights(h,l,r):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async computeDiff(s,l,r,h){const u=this._getModel(s),f=this._getModel(l);return!u||!f?null:m.computeDiff(u,f,r,h)}static computeDiff(s,l,r,h){const u=h==="advanced"?i.linesDiffComputers.getDefault():i.linesDiffComputers.getLegacy(),f=s.getLinesContent(),C=l.getLinesContent(),_=u.computeDiff(f,C,r),E=_.changes.length>0?!1:this._modelsAreIdentical(s,l);function I(T){return T.map(A=>{var R;return[A.original.startLineNumber,A.original.endLineNumberExclusive,A.modified.startLineNumber,A.modified.endLineNumberExclusive,(R=A.innerChanges)===null||R===void 0?void 0:R.map(M=>[M.originalRange.startLineNumber,M.originalRange.startColumn,M.originalRange.endLineNumber,M.originalRange.endColumn,M.modifiedRange.startLineNumber,M.modifiedRange.startColumn,M.modifiedRange.endLineNumber,M.modifiedRange.endColumn])]})}return{identical:E,quitEarly:_.hitTimeout,changes:I(_.changes),moves:_.moves.map(T=>[T.lineRangeMapping.original.startLineNumber,T.lineRangeMapping.original.endLineNumberExclusive,T.lineRangeMapping.modified.startLineNumber,T.lineRangeMapping.modified.endLineNumberExclusive,I(T.changes)])}}static _modelsAreIdentical(s,l){const r=s.getLineCount(),h=l.getLineCount();if(r!==h)return!1;for(let u=1;u<=r;u++){const f=s.getLineContent(u),C=l.getLineContent(u);if(f!==C)return!1}return!0}async computeMoreMinimalEdits(s,l,r){const h=this._getModel(s);if(!h)return l;const u=[];let f;l=l.slice(0).sort((_,E)=>{if(_.range&&E.range)return D.Range.compareRangesUsingStarts(_.range,E.range);const I=_.range?0:1,T=E.range?0:1;return I-T});let C=0;for(let _=1;_<l.length;_++)D.Range.getEndPosition(l[C].range).equals(D.Range.getStartPosition(l[_].range))?(l[C].range=D.Range.fromPositions(D.Range.getStartPosition(l[C].range),D.Range.getEndPosition(l[_].range)),l[C].text+=l[_].text):(C++,l[C]=l[_]);l.length=C+1;for(let{range:_,text:E,eol:I}of l){if(typeof I=="number"&&(f=I),D.Range.isEmpty(_)&&!E)continue;const T=h.getValueInRange(_);if(E=E.replace(/\r\n|\n|\r/g,h.eol),T===E)continue;if(Math.max(E.length,T.length)>m._diffLimit){u.push({range:_,text:E});continue}const A=(0,L.stringDiff)(T,E,r),R=h.offsetAt(D.Range.lift(_).getStartPosition());for(const M of A){const N=h.positionAt(R+M.originalStart),P=h.positionAt(R+M.originalStart+M.originalLength),F={text:E.substr(M.modifiedStart,M.modifiedLength),range:{startLineNumber:N.lineNumber,startColumn:N.column,endLineNumber:P.lineNumber,endColumn:P.column}};h.getValueInRange(F.range)!==F.text&&u.push(F)}}return typeof f=="number"&&u.push({eol:f,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),u}async computeLinks(s){const l=this._getModel(s);return l?(0,w.computeLinks)(l):null}async computeDefaultDocumentColors(s){const l=this._getModel(s);return l?(0,o.computeDefaultDocumentColors)(l):null}async textualSuggest(s,l,r,h){const u=new a.StopWatch,f=new RegExp(r,h),C=new Set;e:for(const _ of s){const E=this._getModel(_);if(E){for(const I of E.words(f))if(!(I===l||!isNaN(Number(I)))&&(C.add(I),C.size>m._suggestionsLimit))break e}}return{words:Array.from(C),duration:u.elapsed()}}async computeWordRanges(s,l,r,h){const u=this._getModel(s);if(!u)return Object.create(null);const f=new RegExp(r,h),C=Object.create(null);for(let _=l.startLineNumber;_<l.endLineNumber;_++){const E=u.getLineWords(_,f);for(const I of E){if(!isNaN(Number(I.word)))continue;let T=C[I.word];T||(T=[],C[I.word]=T),T.push({startLineNumber:_,startColumn:I.startColumn,endLineNumber:_,endColumn:I.endColumn})}}return C}async navigateValueSet(s,l,r,h,u){const f=this._getModel(s);if(!f)return null;const C=new RegExp(h,u);l.startColumn===l.endColumn&&(l={startLineNumber:l.startLineNumber,startColumn:l.startColumn,endLineNumber:l.endLineNumber,endColumn:l.endColumn+1});const _=f.getValueInRange(l),E=f.getWordAtPosition({lineNumber:l.startLineNumber,column:l.startColumn},C);if(!E)return null;const I=f.getValueInRange(E);return v.BasicInplaceReplace.INSTANCE.navigateValueSet(l,_,E,I,r)}loadForeignModule(s,l,r){const h=(C,_)=>this._host.fhr(C,_),f={host:(0,t.createProxyObject)(r,h),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(f,l),Promise.resolve((0,t.getAllMethodNames)(this._foreignModule))):new Promise((C,_)=>{ee([s],E=>{this._foreignModule=E.create(f,l),C((0,t.getAllMethodNames)(this._foreignModule))},_)})}fmr(s,l){if(!this._foreignModule||typeof this._foreignModule[s]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+s));try{return Promise.resolve(this._foreignModule[s].apply(this._foreignModule,l))}catch(r){return Promise.reject(r)}}}e.EditorSimpleWorker=m,m._diffLimit=1e5,m._suggestionsLimit=1e4;function c(d){return new m(d,null)}e.create=c,typeof importScripts=="function"&&(globalThis.monaco=(0,b.createMonacoBaseAPI)())}),define(ne[345],se([1,0,7,2,289,30]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class S extends k.Disposable{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,k.markAsSingleton)(new S)),this._INSTANCE}constructor(){super(),this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(D.TokenizationRegistry.onDidChange(w=>{w.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const w=D.TokenizationRegistry.getColorMap();if(!w){this._colors=[y.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[y.RGBA8.Empty];for(let b=1;b<w.length;b++){const a=w[b].rgba;this._colors[b]=new y.RGBA8(a.r,a.g,a.b,Math.round(a.a*255))}const v=w[2].getRelativeLuminance();this._backgroundIsLight=v>=.5,this._onDidChange.fire(void 0)}getColor(w){return(w<1||w>=this._colors.length)&&(w=2),this._colors[w]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=S,S._INSTANCE=null}),define(ne[654],se([3,4]),function(ee,e){return ee.create("vs/editor/common/languages/modesRegistry",e)}),define(ne[655],se([3,4]),function(ee,e){return ee.create("vs/editor/common/model/editStack",e)}),define(ne[346],se([1,0,655,12,23,22,335,149,48]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function v(g){return g.toString()}class b{static create(m,c){const d=m.getAlternativeVersionId(),s=i(m);return new b(d,d,s,s,c,c,[])}constructor(m,c,d,s,l,r,h){this.beforeVersionId=m,this.afterVersionId=c,this.beforeEOL=d,this.afterEOL=s,this.beforeCursorState=l,this.afterCursorState=r,this.changes=h}append(m,c,d,s,l){c.length>0&&(this.changes=(0,S.compressConsecutiveTextChanges)(this.changes,c)),this.afterEOL=d,this.afterVersionId=s,this.afterCursorState=l}static _writeSelectionsSize(m){return 4+4*4*(m?m.length:0)}static _writeSelections(m,c,d){if(p.writeUInt32BE(m,c?c.length:0,d),d+=4,c)for(const s of c)p.writeUInt32BE(m,s.selectionStartLineNumber,d),d+=4,p.writeUInt32BE(m,s.selectionStartColumn,d),d+=4,p.writeUInt32BE(m,s.positionLineNumber,d),d+=4,p.writeUInt32BE(m,s.positionColumn,d),d+=4;return d}static _readSelections(m,c,d){const s=p.readUInt32BE(m,c);c+=4;for(let l=0;l<s;l++){const r=p.readUInt32BE(m,c);c+=4;const h=p.readUInt32BE(m,c);c+=4;const u=p.readUInt32BE(m,c);c+=4;const f=p.readUInt32BE(m,c);c+=4,d.push(new y.Selection(r,h,u,f))}return c}serialize(){let m=10+b._writeSelectionsSize(this.beforeCursorState)+b._writeSelectionsSize(this.afterCursorState)+4;for(const s of this.changes)m+=s.writeSize();const c=new Uint8Array(m);let d=0;p.writeUInt32BE(c,this.beforeVersionId,d),d+=4,p.writeUInt32BE(c,this.afterVersionId,d),d+=4,p.writeUInt8(c,this.beforeEOL,d),d+=1,p.writeUInt8(c,this.afterEOL,d),d+=1,d=b._writeSelections(c,this.beforeCursorState,d),d=b._writeSelections(c,this.afterCursorState,d),p.writeUInt32BE(c,this.changes.length,d),d+=4;for(const s of this.changes)d=s.write(c,d);return c.buffer}static deserialize(m){const c=new Uint8Array(m);let d=0;const s=p.readUInt32BE(c,d);d+=4;const l=p.readUInt32BE(c,d);d+=4;const r=p.readUInt8(c,d);d+=1;const h=p.readUInt8(c,d);d+=1;const u=[];d=b._readSelections(c,d,u);const f=[];d=b._readSelections(c,d,f);const C=p.readUInt32BE(c,d);d+=4;const _=[];for(let E=0;E<C;E++)d=S.TextChange.read(c,d,_);return new b(s,l,r,h,u,f,_)}}e.SingleModelEditStackData=b;class a{get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}constructor(m,c,d,s){this.label=m,this.code=c,this.model=d,this._data=b.create(d,s)}toString(){return(this._data instanceof b?this._data:b.deserialize(this._data)).changes.map(c=>c.toString()).join(", ")}matchesResource(m){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===m.toString()}setModel(m){this.model=m}canAppend(m){return this.model===m&&this._data instanceof b}append(m,c,d,s,l){this._data instanceof b&&this._data.append(m,c,d,s,l)}close(){this._data instanceof b&&(this._data=this._data.serialize())}open(){this._data instanceof b||(this._data=b.deserialize(this._data))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof b&&(this._data=this._data.serialize());const m=b.deserialize(this._data);this.model._applyUndo(m.changes,m.beforeEOL,m.beforeVersionId,m.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof b&&(this._data=this._data.serialize());const m=b.deserialize(this._data);this.model._applyRedo(m.changes,m.afterEOL,m.afterVersionId,m.afterCursorState)}heapSize(){return this._data instanceof b&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=a;class n{get resources(){return this._editStackElementsArr.map(m=>m.resource)}constructor(m,c,d){this.label=m,this.code=c,this.type=1,this._isOpen=!0,this._editStackElementsArr=d.slice(0),this._editStackElementsMap=new Map;for(const s of this._editStackElementsArr){const l=v(s.resource);this._editStackElementsMap.set(l,s)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(m){const c=v(m);return this._editStackElementsMap.has(c)}setModel(m){const c=v(D.URI.isUri(m)?m:m.uri);this._editStackElementsMap.has(c)&&this._editStackElementsMap.get(c).setModel(m)}canAppend(m){if(!this._isOpen)return!1;const c=v(m.uri);return this._editStackElementsMap.has(c)?this._editStackElementsMap.get(c).canAppend(m):!1}append(m,c,d,s,l){const r=v(m.uri);this._editStackElementsMap.get(r).append(m,c,d,s,l)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const m of this._editStackElementsArr)m.undo()}redo(){for(const m of this._editStackElementsArr)m.redo()}heapSize(m){const c=v(m);return this._editStackElementsMap.has(c)?this._editStackElementsMap.get(c).heapSize():0}split(){return this._editStackElementsArr}toString(){const m=[];for(const c of this._editStackElementsArr)m.push(`${(0,w.basename)(c.resource)}: ${c}`);return`{${m.join(", ")}}`}}e.MultiModelEditStackElement=n;function i(g){return g.getEOL()===`
`?0:1}function t(g){return g?g instanceof a||g instanceof n:!1}e.isEditStackElement=t;class o{constructor(m,c){this._model=m,this._undoRedoService=c}pushStackElement(){const m=this._undoRedoService.getLastElement(this._model.uri);t(m)&&m.close()}popStackElement(){const m=this._undoRedoService.getLastElement(this._model.uri);t(m)&&m.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(m,c){const d=this._undoRedoService.getLastElement(this._model.uri);if(t(d)&&d.canAppend(this._model))return d;const s=new a(L.localize(0,null),"undoredo.textBufferEdit",this._model,m);return this._undoRedoService.pushElement(s,c),s}pushEOL(m){const c=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(m),c.append(this._model,[],i(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(m,c,d,s){const l=this._getOrCreateEditStackElement(m,s),r=this._model.applyEdits(c,!0),h=o._computeCursorState(d,r),u=r.map((f,C)=>({index:C,textChange:f.textChange}));return u.sort((f,C)=>f.textChange.oldPosition===C.textChange.oldPosition?f.index-C.index:f.textChange.oldPosition-C.textChange.oldPosition),l.append(this._model,u.map(f=>f.textChange),i(this._model),this._model.getAlternativeVersionId(),h),h}static _computeCursorState(m,c){try{return m?m(c):null}catch(d){return(0,k.onUnexpectedError)(d),null}}}e.EditStack=o}),define(ne[656],se([3,4]),function(ee,e){return ee.create("vs/editor/common/standaloneStrings",e)}),define(ne[99],se([1,0,656]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=void 0;var k;(function(a){a.inspectTokensAction=L.localize(0,null)})(k||(e.InspectTokensNLS=k={}));var y;(function(a){a.gotoLineActionLabel=L.localize(1,null)})(y||(e.GoToLineNLS=y={}));var D;(function(a){a.helpQuickAccessActionLabel=L.localize(2,null)})(D||(e.QuickHelpNLS=D={}));var S;(function(a){a.quickCommandActionLabel=L.localize(3,null),a.quickCommandHelp=L.localize(4,null)})(S||(e.QuickCommandNLS=S={}));var p;(function(a){a.quickOutlineActionLabel=L.localize(5,null),a.quickOutlineByCategoryActionLabel=L.localize(6,null)})(p||(e.QuickOutlineNLS=p={}));var w;(function(a){a.editorViewAccessibleLabel=L.localize(7,null),a.accessibilityHelpMessage=L.localize(8,null)})(w||(e.StandaloneCodeEditorNLS=w={}));var v;(function(a){a.toggleHighContrast=L.localize(9,null)})(v||(e.ToggleHighContrastNLS=v={}));var b;(function(a){a.bulkEditServiceSummary=L.localize(10,null)})(b||(e.StandaloneServicesNLS=b={}))}),define(ne[657],se([3,4]),function(ee,e){return ee.create("vs/editor/common/viewLayout/viewLineRenderer",e)}),define(ne[122],se([1,0,657,11,106,139,552]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class p{constructor(_,E){this.startOffset=_,this.endOffset=E}equals(_){return this.startOffset===_.startOffset&&this.endOffset===_.endOffset}}e.LineRange=p;class w{constructor(_,E,I,T,A,R,M,N,P,F,O,B,W,V,z,K,j,x,re){this.useMonospaceOptimizations=_,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=I,this.continuesWithWrappedLine=T,this.isBasicASCII=A,this.containsRTL=R,this.fauxIndentLength=M,this.lineTokens=N,this.lineDecorations=P.sort(D.LineDecoration.compare),this.tabSize=F,this.startVisibleColumn=O,this.spaceWidth=B,this.stopRenderingLineAfter=z,this.renderWhitespace=K==="all"?4:K==="boundary"?1:K==="selection"?2:K==="trailing"?3:0,this.renderControlCharacters=j,this.fontLigatures=x,this.selectionsOnLine=re&&re.sort((X,Y)=>X.startOffset<Y.startOffset?-1:1);const ie=Math.abs(V-B),J=Math.abs(W-B);ie<J?(this.renderSpaceWidth=V,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=W,this.renderSpaceCharCode=183)}sameSelection(_){if(this.selectionsOnLine===null)return _===null;if(_===null||_.length!==this.selectionsOnLine.length)return!1;for(let E=0;E<this.selectionsOnLine.length;E++)if(!this.selectionsOnLine[E].equals(_[E]))return!1;return!0}equals(_){return this.useMonospaceOptimizations===_.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===_.canUseHalfwidthRightwardsArrow&&this.lineContent===_.lineContent&&this.continuesWithWrappedLine===_.continuesWithWrappedLine&&this.isBasicASCII===_.isBasicASCII&&this.containsRTL===_.containsRTL&&this.fauxIndentLength===_.fauxIndentLength&&this.tabSize===_.tabSize&&this.startVisibleColumn===_.startVisibleColumn&&this.spaceWidth===_.spaceWidth&&this.renderSpaceWidth===_.renderSpaceWidth&&this.renderSpaceCharCode===_.renderSpaceCharCode&&this.stopRenderingLineAfter===_.stopRenderingLineAfter&&this.renderWhitespace===_.renderWhitespace&&this.renderControlCharacters===_.renderControlCharacters&&this.fontLigatures===_.fontLigatures&&D.LineDecoration.equalsArr(this.lineDecorations,_.lineDecorations)&&this.lineTokens.equals(_.lineTokens)&&this.sameSelection(_.selectionsOnLine)}}e.RenderLineInput=w;class v{constructor(_,E){this.partIndex=_,this.charIndex=E}}e.DomPosition=v;class b{static getPartIndex(_){return(_&4294901760)>>>16}static getCharIndex(_){return(_&65535)>>>0}constructor(_,E){this.length=_,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(_,E,I,T){const A=(E<<16|I<<0)>>>0;this._data[_-1]=A,this._horizontalOffset[_-1]=T}getHorizontalOffset(_){return this._horizontalOffset.length===0?0:this._horizontalOffset[_-1]}charOffsetToPartData(_){return this.length===0?0:_<0?this._data[0]:_>=this.length?this._data[this.length-1]:this._data[_]}getDomPosition(_){const E=this.charOffsetToPartData(_-1),I=b.getPartIndex(E),T=b.getCharIndex(E);return new v(I,T)}getColumn(_,E){return this.partDataToCharOffset(_.partIndex,E,_.charIndex)+1}partDataToCharOffset(_,E,I){if(this.length===0)return 0;const T=(_<<16|I<<0)>>>0;let A=0,R=this.length-1;for(;A+1<R;){const z=A+R>>>1,K=this._data[z];if(K===T)return z;K>T?R=z:A=z}if(A===R)return A;const M=this._data[A],N=this._data[R];if(M===T)return A;if(N===T)return R;const P=b.getPartIndex(M),F=b.getCharIndex(M),O=b.getPartIndex(N);let B;P!==O?B=E:B=b.getCharIndex(N);const W=I-F,V=B-I;return W<=V?A:R}}e.CharacterMapping=b;class a{constructor(_,E,I){this._renderLineOutputBrand=void 0,this.characterMapping=_,this.containsRTL=E,this.containsForeignElements=I}}e.RenderLineOutput=a;function n(C,_){if(C.lineContent.length===0){if(C.lineDecorations.length>0){_.appendString("<span>");let E=0,I=0,T=0;for(const R of C.lineDecorations)(R.type===1||R.type===2)&&(_.appendString('<span class="'),_.appendString(R.className),_.appendString('"></span>'),R.type===1&&(T|=1,E++),R.type===2&&(T|=2,I++));_.appendString("</span>");const A=new b(1,E+I);return A.setColumnInfo(1,E,0,0),new a(A,!1,T)}return _.appendString("<span><span></span></span>"),new a(new b(0,0),!1,0)}return h(g(C),_)}e.renderViewLine=n;class i{constructor(_,E,I,T){this.characterMapping=_,this.html=E,this.containsRTL=I,this.containsForeignElements=T}}e.RenderLineOutput2=i;function t(C){const _=new y.StringBuilder(1e4),E=n(C,_);return new i(E.characterMapping,_.build(),E.containsRTL,E.containsForeignElements)}e.renderViewLine2=t;class o{constructor(_,E,I,T,A,R,M,N,P,F,O,B,W,V,z,K){this.fontIsMonospace=_,this.canUseHalfwidthRightwardsArrow=E,this.lineContent=I,this.len=T,this.isOverflowing=A,this.overflowingCharCount=R,this.parts=M,this.containsForeignElements=N,this.fauxIndentLength=P,this.tabSize=F,this.startVisibleColumn=O,this.containsRTL=B,this.spaceWidth=W,this.renderSpaceCharCode=V,this.renderWhitespace=z,this.renderControlCharacters=K}}function g(C){const _=C.lineContent;let E,I,T;C.stopRenderingLineAfter!==-1&&C.stopRenderingLineAfter<_.length?(E=!0,I=_.length-C.stopRenderingLineAfter,T=C.stopRenderingLineAfter):(E=!1,I=0,T=_.length);let A=m(_,C.containsRTL,C.lineTokens,C.fauxIndentLength,T);C.renderControlCharacters&&!C.isBasicASCII&&(A=s(_,A)),(C.renderWhitespace===4||C.renderWhitespace===1||C.renderWhitespace===2&&C.selectionsOnLine||C.renderWhitespace===3&&!C.continuesWithWrappedLine)&&(A=l(C,_,T,A));let R=0;if(C.lineDecorations.length>0){for(let M=0,N=C.lineDecorations.length;M<N;M++){const P=C.lineDecorations[M];P.type===3||P.type===1?R|=1:P.type===2&&(R|=2)}A=r(_,T,A,C.lineDecorations)}return C.containsRTL||(A=c(_,A,!C.isBasicASCII||C.fontLigatures)),new o(C.useMonospaceOptimizations,C.canUseHalfwidthRightwardsArrow,_,T,E,I,A,R,C.fauxIndentLength,C.tabSize,C.startVisibleColumn,C.containsRTL,C.spaceWidth,C.renderSpaceCharCode,C.renderWhitespace,C.renderControlCharacters)}function m(C,_,E,I,T){const A=[];let R=0;I>0&&(A[R++]=new S.LinePart(I,"",0,!1));let M=I;for(let N=0,P=E.getCount();N<P;N++){const F=E.getEndOffset(N);if(F<=I)continue;const O=E.getClassName(N);if(F>=T){const W=_?k.containsRTL(C.substring(M,T)):!1;A[R++]=new S.LinePart(T,O,0,W);break}const B=_?k.containsRTL(C.substring(M,F)):!1;A[R++]=new S.LinePart(F,O,0,B),M=F}return A}function c(C,_,E){let I=0;const T=[];let A=0;if(E)for(let R=0,M=_.length;R<M;R++){const N=_[R],P=N.endIndex;if(I+50<P){const F=N.type,O=N.metadata,B=N.containsRTL;let W=-1,V=I;for(let z=I;z<P;z++)C.charCodeAt(z)===32&&(W=z),W!==-1&&z-V>=50&&(T[A++]=new S.LinePart(W+1,F,O,B),V=W+1,W=-1);V!==P&&(T[A++]=new S.LinePart(P,F,O,B))}else T[A++]=N;I=P}else for(let R=0,M=_.length;R<M;R++){const N=_[R],P=N.endIndex,F=P-I;if(F>50){const O=N.type,B=N.metadata,W=N.containsRTL,V=Math.ceil(F/50);for(let z=1;z<V;z++){const K=I+z*50;T[A++]=new S.LinePart(K,O,B,W)}T[A++]=new S.LinePart(P,O,B,W)}else T[A++]=N;I=P}return T}function d(C){return C<32?C!==9:C===127||C>=8234&&C<=8238||C>=8294&&C<=8297||C>=8206&&C<=8207||C===1564}function s(C,_){const E=[];let I=new S.LinePart(0,"",0,!1),T=0;for(const A of _){const R=A.endIndex;for(;T<R;T++){const M=C.charCodeAt(T);d(M)&&(T>I.endIndex&&(I=new S.LinePart(T,A.type,A.metadata,A.containsRTL),E.push(I)),I=new S.LinePart(T+1,"mtkcontrol",A.metadata,!1),E.push(I))}T>I.endIndex&&(I=new S.LinePart(R,A.type,A.metadata,A.containsRTL),E.push(I))}return E}function l(C,_,E,I){const T=C.continuesWithWrappedLine,A=C.fauxIndentLength,R=C.tabSize,M=C.startVisibleColumn,N=C.useMonospaceOptimizations,P=C.selectionsOnLine,F=C.renderWhitespace===1,O=C.renderWhitespace===3,B=C.renderSpaceWidth!==C.spaceWidth,W=[];let V=0,z=0,K=I[z].type,j=I[z].containsRTL,x=I[z].endIndex;const re=I.length;let ie=!1,J=k.firstNonWhitespaceIndex(_),X;J===-1?(ie=!0,J=E,X=E):X=k.lastNonWhitespaceIndex(_);let Y=!1,le=0,de=P&&P[le],ge=M%R;for(let Q=A;Q<E;Q++){const U=_.charCodeAt(Q);de&&Q>=de.endOffset&&(le++,de=P&&P[le]);let Z;if(Q<J||Q>X)Z=!0;else if(U===9)Z=!0;else if(U===32)if(F)if(Y)Z=!0;else{const H=Q+1<E?_.charCodeAt(Q+1):0;Z=H===32||H===9}else Z=!0;else Z=!1;if(Z&&P&&(Z=!!de&&de.startOffset<=Q&&de.endOffset>Q),Z&&O&&(Z=ie||Q>X),Z&&j&&Q>=J&&Q<=X&&(Z=!1),Y){if(!Z||!N&&ge>=R){if(B){const H=V>0?W[V-1].endIndex:A;for(let q=H+1;q<=Q;q++)W[V++]=new S.LinePart(q,"mtkw",1,!1)}else W[V++]=new S.LinePart(Q,"mtkw",1,!1);ge=ge%R}}else(Q===x||Z&&Q>A)&&(W[V++]=new S.LinePart(Q,K,0,j),ge=ge%R);for(U===9?ge=R:k.isFullWidthCharacter(U)?ge+=2:ge++,Y=Z;Q===x&&(z++,z<re);)K=I[z].type,j=I[z].containsRTL,x=I[z].endIndex}let pe=!1;if(Y)if(T&&F){const Q=E>0?_.charCodeAt(E-1):0,U=E>1?_.charCodeAt(E-2):0;Q===32&&U!==32&&U!==9||(pe=!0)}else pe=!0;if(pe)if(B){const Q=V>0?W[V-1].endIndex:A;for(let U=Q+1;U<=E;U++)W[V++]=new S.LinePart(U,"mtkw",1,!1)}else W[V++]=new S.LinePart(E,"mtkw",1,!1);else W[V++]=new S.LinePart(E,K,0,j);return W}function r(C,_,E,I){I.sort(D.LineDecoration.compare);const T=D.LineDecorationsNormalizer.normalize(C,I),A=T.length;let R=0;const M=[];let N=0,P=0;for(let O=0,B=E.length;O<B;O++){const W=E[O],V=W.endIndex,z=W.type,K=W.metadata,j=W.containsRTL;for(;R<A&&T[R].startOffset<V;){const x=T[R];if(x.startOffset>P&&(P=x.startOffset,M[N++]=new S.LinePart(P,z,K,j)),x.endOffset+1<=V)P=x.endOffset+1,M[N++]=new S.LinePart(P,z+" "+x.className,K|x.metadata,j),R++;else{P=V,M[N++]=new S.LinePart(P,z+" "+x.className,K|x.metadata,j);break}}V>P&&(P=V,M[N++]=new S.LinePart(P,z,K,j))}const F=E[E.length-1].endIndex;if(R<A&&T[R].startOffset===F)for(;R<A&&T[R].startOffset===F;){const O=T[R];M[N++]=new S.LinePart(P,O.className,O.metadata,!1),R++}return M}function h(C,_){const E=C.fontIsMonospace,I=C.canUseHalfwidthRightwardsArrow,T=C.containsForeignElements,A=C.lineContent,R=C.len,M=C.isOverflowing,N=C.overflowingCharCount,P=C.parts,F=C.fauxIndentLength,O=C.tabSize,B=C.startVisibleColumn,W=C.containsRTL,V=C.spaceWidth,z=C.renderSpaceCharCode,K=C.renderWhitespace,j=C.renderControlCharacters,x=new b(R+1,P.length);let re=!1,ie=0,J=B,X=0,Y=0,le=0;W?_.appendString('<span dir="ltr">'):_.appendString("<span>");for(let de=0,ge=P.length;de<ge;de++){const pe=P[de],Q=pe.endIndex,U=pe.type,Z=pe.containsRTL,H=K!==0&&pe.isWhitespace(),q=H&&!E&&(U==="mtkw"||!T),te=ie===Q&&pe.isPseudoAfter();if(X=0,_.appendString("<span "),Z&&_.appendString('style="unicode-bidi:isolate" '),_.appendString('class="'),_.appendString(q?"mtkz":U),_.appendASCIICharCode(34),H){let G=0;{let $=ie,oe=J;for(;$<Q;$++){const ue=(A.charCodeAt($)===9?O-oe%O:1)|0;G+=ue,$>=F&&(oe+=ue)}}for(q&&(_.appendString(' style="width:'),_.appendString(String(V*G)),_.appendString('px"')),_.appendASCIICharCode(62);ie<Q;ie++){x.setColumnInfo(ie+1,de-le,X,Y),le=0;const $=A.charCodeAt(ie);let oe,ae;if($===9){oe=O-J%O|0,ae=oe,!I||ae>1?_.appendCharCode(8594):_.appendCharCode(65515);for(let ue=2;ue<=ae;ue++)_.appendCharCode(160)}else oe=2,ae=1,_.appendCharCode(z),_.appendCharCode(8204);X+=oe,Y+=ae,ie>=F&&(J+=ae)}}else for(_.appendASCIICharCode(62);ie<Q;ie++){x.setColumnInfo(ie+1,de-le,X,Y),le=0;const G=A.charCodeAt(ie);let $=1,oe=1;switch(G){case 9:$=O-J%O,oe=$;for(let ae=1;ae<=$;ae++)_.appendCharCode(160);break;case 32:_.appendCharCode(160);break;case 60:_.appendString("&lt;");break;case 62:_.appendString("&gt;");break;case 38:_.appendString("&amp;");break;case 0:j?_.appendCharCode(9216):_.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:_.appendCharCode(65533);break;default:k.isFullWidthCharacter(G)&&oe++,j&&G<32?_.appendCharCode(9216+G):j&&G===127?_.appendCharCode(9249):j&&d(G)?(_.appendString("[U+"),_.appendString(u(G)),_.appendString("]"),$=8,oe=$):_.appendCharCode(G)}X+=$,Y+=oe,ie>=F&&(J+=oe)}te?le++:le=0,ie>=R&&!re&&pe.isPseudoAfter()&&(re=!0,x.setColumnInfo(ie+1,de,X,Y)),_.appendString("</span>")}return re||x.setColumnInfo(R+1,P.length-1,X,Y),M&&(_.appendString('<span class="mtkoverflow">'),_.appendString(L.localize(0,null,f(N))),_.appendString("</span>")),_.appendString("</span>"),new a(x,W,T)}function u(C){return C.toString(16).toUpperCase().padStart(4,"0")}function f(C){return C<1024?L.localize(1,null,C):C<1024*1024?`${(C/1024).toFixed(1)} KB`:`${(C/1024/1024).toFixed(1)} MB`}}),define(ne[658],se([1,0,95,74,36,106,139,122,86]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderOptions=e.LineSource=e.renderLines=void 0;const v=(0,L.createTrustedTypesPolicy)("diffEditorWidget",{createHTML:t=>t});function b(t,o,g,m){(0,k.applyFontInfo)(m,o.fontInfo);const c=g.length>0,d=new D.StringBuilder(1e4);let s=0,l=0;const r=[];for(let C=0;C<t.lineTokens.length;C++){const _=C+1,E=t.lineTokens[C],I=t.lineBreakData[C],T=S.LineDecoration.filter(g,_,1,Number.MAX_SAFE_INTEGER);if(I){let A=0;for(const R of I.breakOffsets){const M=E.sliceAndInflate(A,R,0);s=Math.max(s,i(l,M,S.LineDecoration.extractWrapped(T,A,R),c,t.mightContainNonBasicASCII,t.mightContainRTL,o,d)),l++,A=R}r.push(I.breakOffsets.length)}else r.push(1),s=Math.max(s,i(l,E,T,c,t.mightContainNonBasicASCII,t.mightContainRTL,o,d)),l++}s+=o.scrollBeyondLastColumn;const h=d.build(),u=v?v.createHTML(h):h;m.innerHTML=u;const f=s*o.typicalHalfwidthCharacterWidth;return{heightInLines:l,minWidthInPx:f,viewLineCounts:r}}e.renderLines=b;class a{constructor(o,g,m,c){this.lineTokens=o,this.lineBreakData=g,this.mightContainNonBasicASCII=m,this.mightContainRTL=c}}e.LineSource=a;class n{static fromEditor(o){var g;const m=o.getOptions(),c=m.get(50),d=m.get(144);return new n(((g=o.getModel())===null||g===void 0?void 0:g.getOptions().tabSize)||0,c,m.get(33),c.typicalHalfwidthCharacterWidth,m.get(104),m.get(67),d.decorationsWidth,m.get(117),m.get(99),m.get(94),m.get(51))}constructor(o,g,m,c,d,s,l,r,h,u,f){this.tabSize=o,this.fontInfo=g,this.disableMonospaceOptimizations=m,this.typicalHalfwidthCharacterWidth=c,this.scrollBeyondLastColumn=d,this.lineHeight=s,this.lineDecorationsWidth=l,this.stopRenderingLineAfter=r,this.renderWhitespace=h,this.renderControlCharacters=u,this.fontLigatures=f}}e.RenderOptions=n;function i(t,o,g,m,c,d,s,l){l.appendString('<div class="view-line'),m||l.appendString(" char-delete"),l.appendString('" style="top:'),l.appendString(String(t*s.lineHeight)),l.appendString('px;width:1000000px;">');const r=o.getLineContent(),h=w.ViewLineRenderingData.isBasicASCII(r,c),u=w.ViewLineRenderingData.containsRTL(r,h,d),f=(0,p.renderViewLine)(new p.RenderLineInput(s.fontInfo.isMonospace&&!s.disableMonospaceOptimizations,s.fontInfo.canUseHalfwidthRightwardsArrow,r,!1,h,u,0,o,g,s.tabSize,0,s.fontInfo.spaceWidth,s.fontInfo.middotWidth,s.fontInfo.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==y.EditorFontLigatures.OFF,null),l);return l.appendString("</div>"),f.characterMapping.getHorizontalOffset(f.characterMapping.length)}}),define(ne[659],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(ne[660],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(ne[661],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(ne[662],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(ne[663],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(ne[664],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/codeAction/browser/codeAction",e)}),define(ne[665],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(ne[666],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/codeAction/browser/codeActionContributions",e)}),define(ne[667],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/codeAction/browser/codeActionController",e)}),define(ne[668],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/codeAction/browser/codeActionMenu",e)}),define(ne[669],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(ne[670],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(ne[671],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(ne[672],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions",e)}),define(ne[673],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/comment/browser/comment",e)}),define(ne[674],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(ne[675],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(ne[676],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution",e)}),define(ne[677],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController",e)}),define(ne[678],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders",e)}),define(ne[679],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution",e)}),define(ne[680],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController",e)}),define(ne[681],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(ne[682],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/find/browser/findController",e)}),define(ne[683],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/find/browser/findWidget",e)}),define(ne[684],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/folding/browser/folding",e)}),define(ne[685],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(ne[686],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(ne[687],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/format/browser/formatActions",e)}),define(ne[688],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(ne[689],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(ne[690],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(ne[691],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(ne[692],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(ne[693],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(ne[694],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(ne[695],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(ne[163],se([1,0,12,7,172,2,53,48,11,5,695]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class a{constructor(g,m,c,d){this.isProviderFirst=g,this.parent=m,this.link=c,this._rangeCallback=d,this.id=y.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var g,m;return(m=(g=this._range)!==null&&g!==void 0?g:this.link.targetSelectionRange)!==null&&m!==void 0?m:this.link.range}set range(g){this._range=g,this._rangeCallback(this)}get ariaMessage(){var g;const m=(g=this.parent.getPreview(this))===null||g===void 0?void 0:g.preview(this.range);return m?(0,b.localize)(1,null,m.value,(0,p.basename)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,b.localize)(0,null,(0,p.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=a;class n{constructor(g){this._modelReference=g}dispose(){this._modelReference.dispose()}preview(g,m=8){const c=this._modelReference.object.textEditorModel;if(!c)return;const{startLineNumber:d,startColumn:s,endLineNumber:l,endColumn:r}=g,h=c.getWordUntilPosition({lineNumber:d,column:s-m}),u=new v.Range(d,h.startColumn,d,s),f=new v.Range(l,r,l,1073741824),C=c.getValueInRange(u).replace(/^\s+/,""),_=c.getValueInRange(g),E=c.getValueInRange(f).replace(/\s+$/,"");return{value:C+_+E,highlight:{start:C.length,end:C.length+_.length}}}}e.FilePreview=n;class i{constructor(g,m){this.parent=g,this.uri=m,this.children=[],this._previews=new S.ResourceMap}dispose(){(0,D.dispose)(this._previews.values()),this._previews.clear()}getPreview(g){return this._previews.get(g.uri)}get ariaMessage(){const g=this.children.length;return g===1?(0,b.localize)(2,null,(0,p.basename)(this.uri),this.uri.fsPath):(0,b.localize)(3,null,g,(0,p.basename)(this.uri),this.uri.fsPath)}async resolve(g){if(this._previews.size!==0)return this;for(const m of this.children)if(!this._previews.has(m.uri))try{const c=await g.createModelReference(m.uri);this._previews.set(m.uri,new n(c))}catch(c){(0,L.onUnexpectedError)(c)}return this}}e.FileReferences=i;class t{constructor(g,m){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=g,this._title=m;const[c]=g;g.sort(t._compareReferences);let d;for(const s of g)if((!d||!p.extUri.isEqual(d.uri,s.uri,!0))&&(d=new i(this,s.uri),this.groups.push(d)),d.children.length===0||t._compareReferences(s,d.children[d.children.length-1])!==0){const l=new a(c===s,d,s,r=>this._onDidChangeReferenceRange.fire(r));this.references.push(l),d.children.push(l)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new t(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,b.localize)(4,null):this.references.length===1?(0,b.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,b.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,b.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(g,m){const{parent:c}=g;let d=c.children.indexOf(g);const s=c.children.length,l=c.parent.groups.length;return l===1||m&&d+1<s||!m&&d>0?(m?d=(d+1)%s:d=(d+s-1)%s,c.children[d]):(d=c.parent.groups.indexOf(c),m?(d=(d+1)%l,c.parent.groups[d].children[0]):(d=(d+l-1)%l,c.parent.groups[d].children[c.parent.groups[d].children.length-1]))}nearestReference(g,m){const c=this.references.map((d,s)=>({idx:s,prefixLen:w.commonPrefixLength(d.uri.toString(),g.toString()),offsetDist:Math.abs(d.range.startLineNumber-m.lineNumber)*100+Math.abs(d.range.startColumn-m.column)})).sort((d,s)=>d.prefixLen>s.prefixLen?-1:d.prefixLen<s.prefixLen?1:d.offsetDist<s.offsetDist?-1:d.offsetDist>s.offsetDist?1:0)[0];if(c)return this.references[c.idx]}referenceAt(g,m){for(const c of this.references)if(c.uri.toString()===g.toString()&&v.Range.containsPosition(c.range,m))return c}firstReference(){for(const g of this.references)if(g.isProviderFirst)return g;return this.references[0]}static _compareReferences(g,m){return p.extUri.compare(g.uri,m.uri)||v.Range.compareRangesUsingStarts(g.range,m.range)}}e.ReferencesModel=t}),define(ne[696],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(ne[697],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/hover/browser/hover",e)}),define(ne[698],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(ne[699],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(ne[700],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(ne[701],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(ne[702],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(ne[703],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/inlineCompletions/browser/commands",e)}),define(ne[704],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/inlineCompletions/browser/hoverParticipant",e)}),define(ne[705],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys",e)}),define(ne[706],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController",e)}),define(ne[707],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget",e)}),define(ne[708],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(ne[709],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(ne[710],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(ne[711],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/links/browser/links",e)}),define(ne[712],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/message/browser/messageController",e)}),define(ne[713],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(ne[714],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(ne[715],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(ne[716],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(ne[717],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(ne[718],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(ne[719],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(ne[720],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/rename/browser/rename",e)}),define(ne[721],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(ne[722],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(ne[723],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(ne[724],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(ne[725],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",e)}),define(ne[726],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(ne[727],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(ne[728],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(ne[729],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(ne[730],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(ne[731],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(ne[732],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(ne[733],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(ne[734],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(ne[735],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(ne[736],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(ne[737],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/wordHighlighter/browser/highlightDecorations",e)}),define(ne[738],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(ne[739],se([3,4]),function(ee,e){return ee.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(ne[740],se([3,4]),function(ee,e){return ee.create("vs/platform/accessibilitySignal/browser/accessibilitySignalService",e)}),define(ne[741],se([3,4]),function(ee,e){return ee.create("vs/platform/action/common/actionCommonCategories",e)}),define(ne[742],se([3,4]),function(ee,e){return ee.create("vs/platform/actionWidget/browser/actionList",e)}),define(ne[743],se([3,4]),function(ee,e){return ee.create("vs/platform/actionWidget/browser/actionWidget",e)}),define(ne[744],se([3,4]),function(ee,e){return ee.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ne[745],se([3,4]),function(ee,e){return ee.create("vs/platform/actions/browser/toolbar",e)}),define(ne[746],se([3,4]),function(ee,e){return ee.create("vs/platform/actions/common/menuService",e)}),define(ne[747],se([3,4]),function(ee,e){return ee.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ne[748],se([3,4]),function(ee,e){return ee.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(ne[749],se([3,4]),function(ee,e){return ee.create("vs/platform/contextkey/common/contextkey",e)}),define(ne[750],se([3,4]),function(ee,e){return ee.create("vs/platform/contextkey/common/contextkeys",e)}),define(ne[751],se([3,4]),function(ee,e){return ee.create("vs/platform/contextkey/common/scanner",e)}),define(ne[752],se([3,4]),function(ee,e){return ee.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(ne[753],se([3,4]),function(ee,e){return ee.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ne[754],se([3,4]),function(ee,e){return ee.create("vs/platform/list/browser/listService",e)}),define(ne[755],se([3,4]),function(ee,e){return ee.create("vs/platform/markers/common/markers",e)}),define(ne[756],se([3,4]),function(ee,e){return ee.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ne[757],se([3,4]),function(ee,e){return ee.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ne[758],se([3,4]),function(ee,e){return ee.create("vs/platform/quickinput/browser/quickInput",e)}),define(ne[759],se([3,4]),function(ee,e){return ee.create("vs/platform/quickinput/browser/quickInputController",e)}),define(ne[760],se([3,4]),function(ee,e){return ee.create("vs/platform/quickinput/browser/quickInputList",e)}),define(ne[761],se([3,4]),function(ee,e){return ee.create("vs/platform/quickinput/browser/quickInputUtils",e)}),define(ne[762],se([3,4]),function(ee,e){return ee.create("vs/platform/theme/common/colorRegistry",e)}),define(ne[763],se([3,4]),function(ee,e){return ee.create("vs/platform/theme/common/iconRegistry",e)}),define(ne[764],se([3,4]),function(ee,e){return ee.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ne[765],se([3,4]),function(ee,e){return ee.create("vs/platform/workspace/common/workspace",e)}),define(ne[766],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isICommandActionToggleInfo=void 0;function L(k){return k?k.condition!==void 0:!1}e.isICommandActionToggleInfo=L}),define(ne[767],se([1,0,741]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Categories=void 0,e.Categories=Object.freeze({View:(0,L.localize2)(0,"View"),Help:(0,L.localize2)(1,"Help"),Test:(0,L.localize2)(2,"Test"),File:(0,L.localize2)(3,"File"),Preferences:(0,L.localize2)(4,"Preferences"),Developer:(0,L.localize2)(5,"Developer")})}),define(ne[768],se([1,0,12,751]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scanner=void 0;function y(...w){switch(w.length){case 1:return(0,k.localize)(0,null,w[0]);case 2:return(0,k.localize)(1,null,w[0],w[1]);case 3:return(0,k.localize)(2,null,w[0],w[1],w[2]);default:return}}const D=(0,k.localize)(3,null),S=(0,k.localize)(4,null);class p{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(v){switch(v.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return v.isTripleEq?"===":"==";case 4:return v.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return v.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return v.lexeme;case 18:return v.lexeme;case 19:return v.lexeme;case 20:return"EOF";default:throw(0,L.illegalState)(`unhandled token type: ${JSON.stringify(v)}; have you forgotten to add a case?`)}}reset(v){return this._input=v,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const b=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:b})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const b=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:b})}else this._match(126)?this._addToken(9):this._error(y("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(y("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(y("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(v){return this._isAtEnd()||this._input.charCodeAt(this._current)!==v?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(v){this._tokens.push({type:v,offset:this._start})}_error(v){const b=this._start,a=this._input.substring(this._start,this._current),n={type:19,offset:this._start,lexeme:a};this._errors.push({offset:b,lexeme:a,additionalInfo:v}),this._tokens.push(n)}_string(){this.stringRe.lastIndex=this._start;const v=this.stringRe.exec(this._input);if(v){this._current=this._start+v[0].length;const b=this._input.substring(this._start,this._current),a=p._keywords.get(b);a?this._addToken(a):this._tokens.push({type:17,lexeme:b,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(D);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let v=this._current,b=!1,a=!1;for(;;){if(v>=this._input.length){this._current=v,this._error(S);return}const i=this._input.charCodeAt(v);if(b)b=!1;else if(i===47&&!a){v++;break}else i===91?a=!0:i===92?b=!0:i===93&&(a=!1);v++}for(;v<this._input.length&&p._regexFlags.has(this._input.charCodeAt(v));)v++;this._current=v;const n=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:n,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}e.Scanner=p,p._regexFlags=new Set(["i","g","s","m","y","u"].map(w=>w.charCodeAt(0))),p._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}),define(ne[769],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var L;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(L||(e.EditorOpenSource=L={}))}),define(ne[770],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifierSet=e.ExtensionIdentifier=void 0;class L{constructor(D){this.value=D,this._lower=D.toLowerCase()}static toKey(D){return typeof D=="string"?D.toLowerCase():D._lower}}e.ExtensionIdentifier=L;class k{constructor(D){if(this._set=new Set,D)for(const S of D)this.add(S)}add(D){this._set.add(L.toKey(D))}has(D){return this._set.has(L.toKey(D))}}e.ExtensionIdentifierSet=k}),define(ne[347],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var L;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(L||(e.FileKind=L={}))}),define(ne[771],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function L(k){var y,D;return((y=k.lookupKeybinding("history.showPrevious"))===null||y===void 0?void 0:y.getElectronAccelerator())==="Up"&&((D=k.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=L}),define(ne[242],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class L{constructor(y,D=[],S=!1){this.ctor=y,this.staticArguments=D,this.supportsDelayedInstantiation=S}}e.SyncDescriptor=L}),define(ne[45],se([1,0,242]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const k=[];function y(S,p,w){p instanceof L.SyncDescriptor||(p=new L.SyncDescriptor(p,[],!!w)),k.push([S,p])}e.registerSingleton=y;function D(){return k}e.getSingletonServiceDescriptors=D}),define(ne[772],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class L{constructor(D,S){this.key=D,this.data=S,this.incoming=new Map,this.outgoing=new Map}}e.Node=L;class k{constructor(D){this._hashFn=D,this._nodes=new Map}roots(){const D=[];for(const S of this._nodes.values())S.outgoing.size===0&&D.push(S);return D}insertEdge(D,S){const p=this.lookupOrInsertNode(D),w=this.lookupOrInsertNode(S);p.outgoing.set(w.key,w),w.incoming.set(p.key,p)}removeNode(D){const S=this._hashFn(D);this._nodes.delete(S);for(const p of this._nodes.values())p.outgoing.delete(S),p.incoming.delete(S)}lookupOrInsertNode(D){const S=this._hashFn(D);let p=this._nodes.get(S);return p||(p=new L(S,D),this._nodes.set(S,p)),p}isEmpty(){return this._nodes.size===0}toString(){const D=[];for(const[S,p]of this._nodes)D.push(`${S}
	(-> incoming)[${[...p.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...p.outgoing.keys()].join(",")}]
`);return D.join(`
`)}findCycleSlow(){for(const[D,S]of this._nodes){const p=new Set([D]),w=this._findCycle(S,p);if(w)return w}}_findCycle(D,S){for(const[p,w]of D.outgoing){if(S.has(p))return[...S,p].join(" -> ");S.add(p);const v=this._findCycle(w,S);if(v)return v;S.delete(p)}}}e.Graph=k}),define(ne[8],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var L;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function S(p){return p[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=S})(L||(e._util=L={})),e.IInstantiationService=y("instantiationService");function k(D,S,p){S[L.DI_TARGET]===S?S[L.DI_DEPENDENCIES].push({id:D,index:p}):(S[L.DI_DEPENDENCIES]=[{id:D,index:p}],S[L.DI_TARGET]=S)}function y(D){if(L.serviceIds.has(D))return L.serviceIds.get(D);const S=function(p,w,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(S,p,v)};return S.toString=()=>D,L.serviceIds.set(D,S),S}e.createDecorator=y}),define(ne[142],se([1,0,8,22,20]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,L.createDecorator)("IWorkspaceEditService");class D{constructor(v){this.metadata=v}static convert(v){return v.edits.map(b=>{if(S.is(b))return S.lift(b);if(p.is(b))return p.lift(b);throw new Error("Unsupported edit")})}}e.ResourceEdit=D;class S extends D{static is(v){return v instanceof S?!0:(0,y.isObject)(v)&&k.URI.isUri(v.resource)&&(0,y.isObject)(v.textEdit)}static lift(v){return v instanceof S?v:new S(v.resource,v.textEdit,v.versionId,v.metadata)}constructor(v,b,a=void 0,n){super(n),this.resource=v,this.textEdit=b,this.versionId=a}}e.ResourceTextEdit=S;class p extends D{static is(v){return v instanceof p?!0:(0,y.isObject)(v)&&(!!v.newResource||!!v.oldResource)}static lift(v){return v instanceof p?v:new p(v.oldResource,v.newResource,v.options,v.metadata)}constructor(v,b,a={},n){super(n),this.oldResource=v,this.newResource=b,this.options=a}}e.ResourceFileEdit=p}),define(ne[35],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,L.createDecorator)("codeEditorService")});var he=this&&this.__param||function(ee,e){return function(L,k){e(L,k,ee)}};define(ne[348],se([1,0,6,104,27,58,2,32,174,29,20,87,64,9,5,30,637,8]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.HideUnchangedRegionsFeature=void 0;let d=c=class extends S.Disposable{static setBreadcrumbsSourceFactory(r){this._breadcrumbsSourceFactory.set(r,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(r,h,u,f){super(),this._editors=r,this._diffModel=h,this._options=u,this._instantiationService=f,this._modifiedOutlineSource=(0,w.derivedDisposable)(this,I=>{const T=this._editors.modifiedModel.read(I),A=c._breadcrumbsSourceFactory.read(I);return!T||!A?void 0:A(T,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(I=>{if(I.reason===3){const T=this._diffModel.get();(0,p.transaction)(A=>{for(const R of this._editors.original.getSelections()||[])T?.ensureOriginalLineIsVisible(R.getStartPosition().lineNumber,0,A),T?.ensureOriginalLineIsVisible(R.getEndPosition().lineNumber,0,A)})}})),this._register(this._editors.modified.onDidChangeCursorPosition(I=>{if(I.reason===3){const T=this._diffModel.get();(0,p.transaction)(A=>{for(const R of this._editors.modified.getSelections()||[])T?.ensureModifiedLineIsVisible(R.getStartPosition().lineNumber,0,A),T?.ensureModifiedLineIsVisible(R.getEndPosition().lineNumber,0,A)})}}));const C=this._diffModel.map((I,T)=>{var A,R;const M=(A=I?.unchangedRegions.read(T))!==null&&A!==void 0?A:[];return M.length===1&&M[0].modifiedLineNumber===1&&M[0].lineCount===((R=this._editors.modifiedModel.read(T))===null||R===void 0?void 0:R.getLineCount())?[]:M});this.viewZones=(0,p.derivedWithStore)(this,(I,T)=>{const A=this._modifiedOutlineSource.read(I);if(!A)return{origViewZones:[],modViewZones:[]};const R=[],M=[],N=this._options.renderSideBySide.read(I),P=C.read(I);for(const F of P)if(!F.shouldHideControls(I)){{const O=(0,p.derived)(this,W=>F.getHiddenOriginalRange(W).startLineNumber-1),B=new a.PlaceholderViewZone(O,24);R.push(B),T.add(new s(this._editors.original,B,F,F.originalUnchangedRange,!N,A,W=>this._diffModel.get().ensureModifiedLineIsVisible(W,2,void 0),this._options))}{const O=(0,p.derived)(this,W=>F.getHiddenModifiedRange(W).startLineNumber-1),B=new a.PlaceholderViewZone(O,24);M.push(B),T.add(new s(this._editors.modified,B,F,F.modifiedUnchangedRange,!1,A,W=>this._diffModel.get().ensureModifiedLineIsVisible(W,2,void 0),this._options))}}return{origViewZones:R,modViewZones:M}});const _={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},E={description:"Fold Unchanged",glyphMarginHoverMessage:new D.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,g.localize)(0,null)),glyphMarginClassName:"fold-unchanged "+v.ThemeIcon.asClassName(y.Codicon.fold),zIndex:10001};this._register((0,a.applyObservableDecorations)(this._editors.original,(0,p.derived)(this,I=>{const T=C.read(I),A=T.map(R=>({range:R.originalUnchangedRange.toInclusiveRange(),options:_}));for(const R of T)R.shouldHideControls(I)&&A.push({range:t.Range.fromPositions(new i.Position(R.originalLineNumber,1)),options:E});return A}))),this._register((0,a.applyObservableDecorations)(this._editors.modified,(0,p.derived)(this,I=>{const T=C.read(I),A=T.map(R=>({range:R.modifiedUnchangedRange.toInclusiveRange(),options:_}));for(const R of T)R.shouldHideControls(I)&&A.push({range:n.LineRange.ofLength(R.modifiedLineNumber,1).toInclusiveRange(),options:E});return A}))),this._register((0,p.autorun)(I=>{const T=C.read(I);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(T.map(A=>A.getHiddenOriginalRange(I).toInclusiveRange()).filter(b.isDefined)),this._editors.modified.setHiddenAreas(T.map(A=>A.getHiddenModifiedRange(I).toInclusiveRange()).filter(b.isDefined))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(I=>{var T;if(!I.event.rightButton&&I.target.position&&(!((T=I.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const A=I.target.position.lineNumber,R=this._diffModel.get();if(!R)return;const M=R.unchangedRegions.get().find(N=>N.modifiedUnchangedRange.includes(A));if(!M)return;M.collapseAll(void 0),I.event.stopPropagation(),I.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(I=>{var T;if(!I.event.rightButton&&I.target.position&&(!((T=I.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const A=I.target.position.lineNumber,R=this._diffModel.get();if(!R)return;const M=R.unchangedRegions.get().find(N=>N.originalUnchangedRange.includes(A));if(!M)return;M.collapseAll(void 0),I.event.stopPropagation(),I.event.preventDefault()}}))}};e.HideUnchangedRegionsFeature=d,d._breadcrumbsSourceFactory=(0,p.observableValue)("breadcrumbsSourceFactory",void 0),e.HideUnchangedRegionsFeature=d=c=De([he(3,m.IInstantiationService)],d);class s extends a.ViewZoneOverlayWidget{constructor(r,h,u,f,C,_,E,I){const T=(0,L.h)("div.diff-hidden-lines-widget");super(r,h,T.root),this._editor=r,this._unchangedRegion=u,this._unchangedRegionRange=f,this._hide=C,this._modifiedOutlineSource=_,this._revealModifiedHiddenLine=E,this._options=I,this._nodes=(0,L.h)("div.diff-hidden-lines",[(0,L.h)("div.top@top",{title:(0,g.localize)(1,null)}),(0,L.h)("div.center@content",{style:{display:"flex"}},[(0,L.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,L.$)("a",{title:(0,g.localize)(2,null),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,k.renderLabelWithIcons)("$(unfold)"))]),(0,L.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,L.h)("div.bottom@bottom",{title:(0,g.localize)(3,null),role:"button"})]),T.root.appendChild(this._nodes.root);const A=(0,p.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._hide?(0,L.reset)(this._nodes.first):this._register((0,a.applyStyle)(this._nodes.first,{width:A.map(M=>M.contentLeft)})),this._register((0,p.autorun)(M=>{const N=this._unchangedRegion.visibleLineCountTop.read(M)+this._unchangedRegion.visibleLineCountBottom.read(M)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!N),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(M)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(M)>0),this._nodes.top.classList.toggle("canMoveBottom",!N);const P=this._unchangedRegion.isDragged.read(M),F=this._editor.getDomNode();F&&(F.classList.toggle("draggingUnchangedRegion",!!P),P==="top"?(F.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(M)>0),F.classList.toggle("canMoveBottom",!N)):P==="bottom"?(F.classList.toggle("canMoveTop",!N),F.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(M)>0)):(F.classList.toggle("canMoveTop",!1),F.classList.toggle("canMoveBottom",!1)))}));const R=this._editor;this._register((0,L.addDisposableListener)(this._nodes.top,"mousedown",M=>{if(M.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),M.preventDefault();const N=M.clientY;let P=!1;const F=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const O=(0,L.getWindow)(this._nodes.top),B=(0,L.addDisposableListener)(O,"mousemove",V=>{const K=V.clientY-N;P=P||Math.abs(K)>2;const j=Math.round(K/R.getOption(67)),x=Math.max(0,Math.min(F+j,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(x,void 0)}),W=(0,L.addDisposableListener)(O,"mouseup",V=>{P||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),B.dispose(),W.dispose()})})),this._register((0,L.addDisposableListener)(this._nodes.bottom,"mousedown",M=>{if(M.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),M.preventDefault();const N=M.clientY;let P=!1;const F=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const O=(0,L.getWindow)(this._nodes.bottom),B=(0,L.addDisposableListener)(O,"mousemove",V=>{const K=V.clientY-N;P=P||Math.abs(K)>2;const j=Math.round(K/R.getOption(67)),x=Math.max(0,Math.min(F-j,this._unchangedRegion.getMaxVisibleLineCountBottom())),re=R.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(x,void 0);const ie=R.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);R.setScrollTop(R.getScrollTop()+(ie-re))}),W=(0,L.addDisposableListener)(O,"mouseup",V=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!P){const z=R.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const K=R.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);R.setScrollTop(R.getScrollTop()+(K-z))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),B.dispose(),W.dispose()})})),this._register((0,p.autorun)(M=>{const N=[];if(!this._hide){const P=u.getHiddenModifiedRange(M).length,F=(0,g.localize)(4,null,P),O=(0,L.$)("span",{title:(0,g.localize)(5,null)},F);O.addEventListener("dblclick",V=>{V.button===0&&(V.preventDefault(),this._unchangedRegion.showAll(void 0))}),N.push(O);const B=this._unchangedRegion.getHiddenModifiedRange(M),W=this._modifiedOutlineSource.getBreadcrumbItems(B,M);if(W.length>0){N.push((0,L.$)("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let V=0;V<W.length;V++){const z=W[V],K=o.SymbolKinds.toIcon(z.kind),j=(0,L.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,k.renderIcon)(K),"\xA0",z.name,...V===W.length-1?[]:[(0,k.renderIcon)(y.Codicon.chevronRight)]]).root;N.push(j),j.onclick=()=>{this._revealModifiedHiddenLine(z.startLineNumber)}}}}(0,L.reset)(this._nodes.others,...N)}))}}}),define(ne[43],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,L.createDecorator)("languageService")}),define(ne[123],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=void 0,e.IEditorWorkerService=(0,L.createDecorator)("editorWorkerService")}),define(ne[18],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,L.createDecorator)("ILanguageFeaturesService")}),define(ne[773],se([1,0,621,18,45]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class D{constructor(){this.referenceProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.newSymbolNamesProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.multiDocumentHighlightProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.inlineEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentOnDropEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new L.LanguageFeatureRegistry(this._score.bind(this))}_score(p){var w;return(w=this._notebookTypeResolver)===null||w===void 0?void 0:w.call(this,p)}}e.LanguageFeaturesService=D,(0,y.registerSingleton)(k.ILanguageFeaturesService,D,1)}),define(ne[243],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,L.createDecorator)("markerDecorationsService")}),define(ne[51],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,L.createDecorator)("modelService")}),define(ne[70],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,L.createDecorator)("textModelService")}),define(ne[244],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISemanticTokensStylingService=void 0,e.ISemanticTokensStylingService=(0,L.createDecorator)("semanticTokensStylingService")}),define(ne[194],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,L.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,L.createDecorator)("textResourcePropertiesService")}),define(ne[774],se([1,0,45,8,303]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITreeViewsDnDService=void 0,e.ITreeViewsDnDService=(0,k.createDecorator)("treeViewsDndService"),(0,L.registerSingleton)(e.ITreeViewsDnDService,y.TreeViewsDnDService,1)}),define(ne[245],se([1,0,142,120]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sortEditsByYieldTo=e.createCombinedWorkspaceEdit=void 0;function y(S,p,w){var v,b,a,n;return(typeof w.insertText=="string"?w.insertText==="":w.insertText.snippet==="")?{edits:(b=(v=w.additionalEdit)===null||v===void 0?void 0:v.edits)!==null&&b!==void 0?b:[]}:{edits:[...p.map(i=>new L.ResourceTextEdit(S,{range:i,text:typeof w.insertText=="string"?k.SnippetParser.escape(w.insertText)+"$0":w.insertText.snippet,insertAsSnippet:!0})),...(n=(a=w.additionalEdit)===null||a===void 0?void 0:a.edits)!==null&&n!==void 0?n:[]]}}e.createCombinedWorkspaceEdit=y;function D(S){var p;function w(i,t){return"providerId"in i&&i.providerId===t.providerId||"mimeType"in i&&i.mimeType===t.handledMimeType}const v=new Map;for(const i of S)for(const t of(p=i.yieldTo)!==null&&p!==void 0?p:[])for(const o of S)if(o!==i&&w(t,o)){let g=v.get(i);g||(g=[],v.set(i,g)),g.push(o)}if(!v.size)return Array.from(S);const b=new Set,a=[];function n(i){if(!i.length)return[];const t=i[0];if(a.includes(t))return console.warn(`Yield to cycle detected for ${t.providerId}`),i;if(b.has(t))return n(i.slice(1));let o=[];const g=v.get(t);return g&&(a.push(t),o=n(g),a.pop()),b.add(t),[...o,t,...n(i.slice(1))]}return n(Array.from(S))}e.sortEditsByYieldTo=D}),define(ne[349],se([1,0,95,7,2,32,11,74,36,9,5,106,43,40,97,139,122,189,140,474]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ttPolicy=e.AdditionalLinesWidget=e.GhostTextWidget=e.GHOST_TEXT_DESCRIPTION=void 0,e.GHOST_TEXT_DESCRIPTION="ghost-text";let d=class extends y.Disposable{constructor(h,u,f){super(),this.editor=h,this.model=u,this.languageService=f,this.isDisposed=(0,D.observableValue)(this,!1),this.currentTextModel=(0,D.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,D.derived)(this,C=>{if(this.isDisposed.read(C))return;const _=this.currentTextModel.read(C);if(_!==this.model.targetTextModel.read(C))return;const E=this.model.ghostText.read(C);if(!E)return;const I=E instanceof m.GhostTextReplacement?E.columnRange:void 0,T=[],A=[];function R(O,B){if(A.length>0){const W=A[A.length-1];B&&W.decorations.push(new o.LineDecoration(W.content.length+1,W.content.length+1+O[0].length,B,0)),W.content+=O[0],O=O.slice(1)}for(const W of O)A.push({content:W,decorations:B?[new o.LineDecoration(1,W.length+1,B,0)]:[]})}const M=_.getLineContent(E.lineNumber);let N,P=0;for(const O of E.parts){let B=O.lines;N===void 0?(T.push({column:O.column,text:B[0],preview:O.preview}),B=B.slice(1)):R([M.substring(P,O.column-1)],void 0),B.length>0&&(R(B,e.GHOST_TEXT_DESCRIPTION),N===void 0&&O.column<=M.length&&(N=O.column)),P=O.column-1}N!==void 0&&R([M.substring(P)],void 0);const F=N!==void 0?new c.ColumnRange(N,M.length+1):void 0;return{replacedRange:I,inlineTexts:T,additionalLines:A,hiddenRange:F,lineNumber:E.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(C),targetTextModel:_}}),this.decorations=(0,D.derived)(this,C=>{const _=this.uiState.read(C);if(!_)return[];const E=[];_.replacedRange&&E.push({range:_.replacedRange.toRange(_.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),_.hiddenRange&&E.push({range:_.hiddenRange.toRange(_.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const I of _.inlineTexts)E.push({range:b.Range.fromPositions(new v.Position(_.lineNumber,I.column)),options:{description:e.GHOST_TEXT_DESCRIPTION,after:{content:I.text,inlineClassName:I.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:i.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return E}),this.additionalLinesWidget=this._register(new s(this.editor,this.languageService.languageIdCodec,(0,D.derived)(C=>{const _=this.uiState.read(C);return _?{lineNumber:_.lineNumber,additionalLines:_.additionalLines,minReservedLineCount:_.additionalReservedLineCount,targetTextModel:_.targetTextModel}:void 0}))),this._register((0,y.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,c.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(h){return this.additionalLinesWidget.viewZoneId===h}};e.GhostTextWidget=d,e.GhostTextWidget=d=De([he(2,n.ILanguageService)],d);class s extends y.Disposable{get viewZoneId(){return this._viewZoneId}constructor(h,u,f){super(),this.editor=h,this.languageIdCodec=u,this.lines=f,this._viewZoneId=void 0,this.editorOptionsChanged=(0,D.observableSignalFromEvent)("editorOptionChanged",k.Event.filter(this.editor.onDidChangeConfiguration,C=>C.hasChanged(33)||C.hasChanged(117)||C.hasChanged(99)||C.hasChanged(94)||C.hasChanged(51)||C.hasChanged(50)||C.hasChanged(67))),this._register((0,D.autorun)(C=>{const _=this.lines.read(C);this.editorOptionsChanged.read(C),_?this.updateLines(_.lineNumber,_.additionalLines,_.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(h=>{this._viewZoneId&&(h.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(h,u,f){const C=this.editor.getModel();if(!C)return;const{tabSize:_}=C.getOptions();this.editor.changeViewZones(E=>{this._viewZoneId&&(E.removeZone(this._viewZoneId),this._viewZoneId=void 0);const I=Math.max(u.length,f);if(I>0){const T=document.createElement("div");l(T,_,u,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=E.addZone({afterLineNumber:h,heightInLines:I,domNode:T,afterColumnAffinity:1})}})}}e.AdditionalLinesWidget=s;function l(r,h,u,f,C){const _=f.get(33),E=f.get(117),I="none",T=f.get(94),A=f.get(51),R=f.get(50),M=f.get(67),N=new a.StringBuilder(1e4);N.appendString('<div class="suggest-preview-text">');for(let O=0,B=u.length;O<B;O++){const W=u[O],V=W.content;N.appendString('<div class="view-line'),N.appendString('" style="top:'),N.appendString(String(O*M)),N.appendString('px;width:1000000px;">');const z=S.isBasicASCII(V),K=S.containsRTL(V),j=t.LineTokens.createEmpty(V,C);(0,g.renderViewLine)(new g.RenderLineInput(R.isMonospace&&!_,R.canUseHalfwidthRightwardsArrow,V,!1,z,K,0,j,W.decorations,h,0,R.spaceWidth,R.middotWidth,R.wsmiddotWidth,E,I,T,A!==w.EditorFontLigatures.OFF,null),N),N.appendString("</div>")}N.appendString("</div>"),(0,p.applyFontInfo)(r,R);const P=N.build(),F=e.ttPolicy?e.ttPolicy.createHTML(P):P;r.innerHTML=F}e.ttPolicy=(0,L.createTrustedTypesPolicy)("editorGhostText",{createHTML:r=>r})}),define(ne[775],se([1,0,2,32,9,5,43,40,139,349,140,476]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=e.INLINE_EDIT_DESCRIPTION=void 0,e.INLINE_EDIT_DESCRIPTION="inline-edit";let a=class extends L.Disposable{constructor(i,t,o){super(),this.editor=i,this.model=t,this.languageService=o,this.isDisposed=(0,k.observableValue)(this,!1),this.currentTextModel=(0,k.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,k.derived)(this,g=>{var m;if(this.isDisposed.read(g))return;const c=this.currentTextModel.read(g);if(c!==this.model.targetTextModel.read(g))return;const d=this.model.ghostText.read(g);if(!d)return;let s=(m=this.model.range)===null||m===void 0?void 0:m.read(g);s&&s.startLineNumber===s.endLineNumber&&s.startColumn===s.endColumn&&(s=void 0);const l=(s?s.startLineNumber===s.endLineNumber:!0)&&d.parts.length===1&&d.parts[0].lines.length===1,r=d.parts.length===1&&d.parts[0].lines.every(A=>A.length===0),h=[],u=[];function f(A,R){if(u.length>0){const M=u[u.length-1];R&&M.decorations.push(new w.LineDecoration(M.content.length+1,M.content.length+1+A[0].length,R,0)),M.content+=A[0],A=A.slice(1)}for(const M of A)u.push({content:M,decorations:R?[new w.LineDecoration(1,M.length+1,R,0)]:[]})}const C=c.getLineContent(d.lineNumber);let _,E=0;if(!r){for(const A of d.parts){let R=A.lines;s&&!l&&(f(R,e.INLINE_EDIT_DESCRIPTION),R=[]),_===void 0?(h.push({column:A.column,text:R[0],preview:A.preview}),R=R.slice(1)):f([C.substring(E,A.column-1)],void 0),R.length>0&&(f(R,e.INLINE_EDIT_DESCRIPTION),_===void 0&&A.column<=C.length&&(_=A.column)),E=A.column-1}_!==void 0&&f([C.substring(E)],void 0)}const I=_!==void 0?new b.ColumnRange(_,C.length+1):void 0,T=l||!s?d.lineNumber:s.endLineNumber-1;return{inlineTexts:h,additionalLines:u,hiddenRange:I,lineNumber:T,additionalReservedLineCount:this.model.minReservedLineCount.read(g),targetTextModel:c,range:s,isSingleLine:l,isPureRemove:r,backgroundColoring:this.model.backgroundColoring.read(g)}}),this.decorations=(0,k.derived)(this,g=>{const m=this.uiState.read(g);if(!m)return[];const c=[];if(m.hiddenRange&&c.push({range:m.hiddenRange.toRange(m.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),m.range){const d=[];if(m.isSingleLine)d.push(m.range);else if(m.isPureRemove){const l=m.range.endLineNumber-m.range.startLineNumber;for(let r=0;r<l;r++){const h=m.range.startLineNumber+r,u=m.targetTextModel.getLineFirstNonWhitespaceColumn(h),f=m.targetTextModel.getLineLastNonWhitespaceColumn(h),C=new D.Range(h,u,h,f);d.push(C)}}else{const l=m.range.endLineNumber-m.range.startLineNumber;for(let r=0;r<=l;r++){const h=m.range.startLineNumber+r,u=m.targetTextModel.getLineFirstNonWhitespaceColumn(h),f=m.targetTextModel.getLineLastNonWhitespaceColumn(h),C=new D.Range(h,u,h,f);d.push(C)}}const s=m.backgroundColoring?"inline-edit-remove backgroundColoring":"inline-edit-remove";for(const l of d)c.push({range:l,options:{inlineClassName:s,description:"inline-edit-remove"}})}for(const d of m.inlineTexts)c.push({range:D.Range.fromPositions(new y.Position(m.lineNumber,d.column)),options:{description:e.INLINE_EDIT_DESCRIPTION,after:{content:d.text,inlineClassName:d.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:p.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return c}),this.additionalLinesWidget=this._register(new v.AdditionalLinesWidget(this.editor,this.languageService.languageIdCodec,(0,k.derived)(g=>{const m=this.uiState.read(g);return m&&!m.isPureRemove?{lineNumber:m.lineNumber,additionalLines:m.additionalLines,minReservedLineCount:m.additionalReservedLineCount,targetTextModel:m.targetTextModel}:void 0}))),this._register((0,L.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,b.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(i){return this.additionalLinesWidget.viewZoneId===i}};e.GhostTextWidget=a,e.GhostTextWidget=a=De([he(2,S.ILanguageService)],a)}),define(ne[143],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,L.createDecorator)("themeService")}),define(ne[124],se([1,0,8,740]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilitySignal=e.SoundSource=e.Sound=e.IAccessibilitySignalService=void 0,e.IAccessibilitySignalService=(0,L.createDecorator)("accessibilitySignalService");class y{static register(w){return new y(w.fileName)}constructor(w){this.fileName=w}}e.Sound=y,y.error=y.register({fileName:"error.mp3"}),y.warning=y.register({fileName:"warning.mp3"}),y.foldedArea=y.register({fileName:"foldedAreas.mp3"}),y.break=y.register({fileName:"break.mp3"}),y.quickFixes=y.register({fileName:"quickFixes.mp3"}),y.taskCompleted=y.register({fileName:"taskCompleted.mp3"}),y.taskFailed=y.register({fileName:"taskFailed.mp3"}),y.terminalBell=y.register({fileName:"terminalBell.mp3"}),y.diffLineInserted=y.register({fileName:"diffLineInserted.mp3"}),y.diffLineDeleted=y.register({fileName:"diffLineDeleted.mp3"}),y.diffLineModified=y.register({fileName:"diffLineModified.mp3"}),y.chatRequestSent=y.register({fileName:"chatRequestSent.mp3"}),y.chatResponsePending=y.register({fileName:"chatResponsePending.mp3"}),y.chatResponseReceived1=y.register({fileName:"chatResponseReceived1.mp3"}),y.chatResponseReceived2=y.register({fileName:"chatResponseReceived2.mp3"}),y.chatResponseReceived3=y.register({fileName:"chatResponseReceived3.mp3"}),y.chatResponseReceived4=y.register({fileName:"chatResponseReceived4.mp3"}),y.clear=y.register({fileName:"clear.mp3"}),y.save=y.register({fileName:"save.mp3"}),y.format=y.register({fileName:"format.mp3"});class D{constructor(w){this.randomOneOf=w}}e.SoundSource=D;class S{static register(w){const v=new D("randomOneOf"in w.sound?w.sound.randomOneOf:[w.sound]),b=new S(v,w.name,w.legacySoundSettingsKey,w.settingsKey,w.legacyAnnouncementSettingsKey,w.announcementMessage);return S._signals.add(b),b}constructor(w,v,b,a,n,i){this.sound=w,this.name=v,this.legacySoundSettingsKey=b,this.settingsKey=a,this.legacyAnnouncementSettingsKey=n,this.announcementMessage=i}}e.AccessibilitySignal=S,S._signals=new Set,S.error=S.register({name:(0,k.localize)(0,null),sound:y.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:(0,k.localize)(1,null),settingsKey:"accessibility.signals.lineHasError"}),S.warning=S.register({name:(0,k.localize)(2,null),sound:y.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:(0,k.localize)(3,null),settingsKey:"accessibility.signals.lineHasWarning"}),S.foldedArea=S.register({name:(0,k.localize)(4,null),sound:y.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:(0,k.localize)(5,null),settingsKey:"accessibility.signals.lineHasFoldedArea"}),S.break=S.register({name:(0,k.localize)(6,null),sound:y.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:(0,k.localize)(7,null),settingsKey:"accessibility.signals.lineHasBreakpoint"}),S.inlineSuggestion=S.register({name:(0,k.localize)(8,null),sound:y.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"}),S.terminalQuickFix=S.register({name:(0,k.localize)(9,null),sound:y.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:(0,k.localize)(10,null),settingsKey:"accessibility.signals.terminalQuickFix"}),S.onDebugBreak=S.register({name:(0,k.localize)(11,null),sound:y.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:(0,k.localize)(12,null),settingsKey:"accessibility.signals.onDebugBreak"}),S.noInlayHints=S.register({name:(0,k.localize)(13,null),sound:y.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:(0,k.localize)(14,null),settingsKey:"accessibility.signals.noInlayHints"}),S.taskCompleted=S.register({name:(0,k.localize)(15,null),sound:y.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:(0,k.localize)(16,null),settingsKey:"accessibility.signals.taskCompleted"}),S.taskFailed=S.register({name:(0,k.localize)(17,null),sound:y.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:(0,k.localize)(18,null),settingsKey:"accessibility.signals.taskFailed"}),S.terminalCommandFailed=S.register({name:(0,k.localize)(19,null),sound:y.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:(0,k.localize)(20,null),settingsKey:"accessibility.signals.terminalCommandFailed"}),S.terminalBell=S.register({name:(0,k.localize)(21,null),sound:y.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:(0,k.localize)(22,null),settingsKey:"accessibility.signals.terminalBell"}),S.notebookCellCompleted=S.register({name:(0,k.localize)(23,null),sound:y.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:(0,k.localize)(24,null),settingsKey:"accessibility.signals.notebookCellCompleted"}),S.notebookCellFailed=S.register({name:(0,k.localize)(25,null),sound:y.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:(0,k.localize)(26,null),settingsKey:"accessibility.signals.notebookCellFailed"}),S.diffLineInserted=S.register({name:(0,k.localize)(27,null),sound:y.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"}),S.diffLineDeleted=S.register({name:(0,k.localize)(28,null),sound:y.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"}),S.diffLineModified=S.register({name:(0,k.localize)(29,null),sound:y.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"}),S.chatRequestSent=S.register({name:(0,k.localize)(30,null),sound:y.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:(0,k.localize)(31,null),settingsKey:"accessibility.signals.chatRequestSent"}),S.chatResponseReceived=S.register({name:(0,k.localize)(32,null),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[y.chatResponseReceived1,y.chatResponseReceived2,y.chatResponseReceived3,y.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"}),S.chatResponsePending=S.register({name:(0,k.localize)(33,null),sound:y.chatResponsePending,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.chatResponsePending",announcementMessage:(0,k.localize)(34,null),settingsKey:"accessibility.signals.chatResponsePending"}),S.clear=S.register({name:(0,k.localize)(35,null),sound:y.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:(0,k.localize)(36,null),settingsKey:"accessibility.signals.clear"}),S.save=S.register({name:(0,k.localize)(37,null),sound:y.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:(0,k.localize)(38,null),settingsKey:"accessibility.signals.save"}),S.format=S.register({name:(0,k.localize)(39,null),sound:y.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:(0,k.localize)(40,null),settingsKey:"accessibility.signals.format"})}),define(ne[107],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,L.createDecorator)("clipboardService")}),define(ne[25],se([1,0,7,52,2,67,20,8]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,p.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new L.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(w,v){if(!w)throw new Error("invalid command");if(typeof w=="string"){if(!v)throw new Error("invalid command");return this.registerCommand({id:w,handler:v})}if(w.metadata&&Array.isArray(w.metadata.args)){const t=[];for(const g of w.metadata.args)t.push(g.constraint);const o=w.handler;w.handler=function(g,...m){return(0,S.validateConstraints)(m,t),o(g,...m)}}const{id:b}=w;let a=this._commands.get(b);a||(a=new D.LinkedList,this._commands.set(b,a));const n=a.unshift(w),i=(0,y.toDisposable)(()=>{n();const t=this._commands.get(b);t?.isEmpty()&&this._commands.delete(b)});return this._onDidRegisterCommand.fire(b),i}registerCommandAlias(w,v){return e.CommandsRegistry.registerCommand(w,(b,...a)=>b.get(e.ICommandService).executeCommand(v,...a))}getCommand(w){const v=this._commands.get(w);if(!(!v||v.isEmpty()))return k.Iterable.first(v)}getCommands(){const w=new Map;for(const v of this._commands.keys()){const b=this.getCommand(v);b&&w.set(v,b)}return w}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(ne[350],se([1,0,19,12,2,20,22,51,25,18]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class b{constructor(){this.lenses=[],this._disposables=new y.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(i,t){this._disposables.add(i);for(const o of i.lenses)this.lenses.push({symbol:o,provider:t})}}e.CodeLensModel=b;async function a(n,i,t){const o=n.ordered(i),g=new Map,m=new b,c=o.map(async(d,s)=>{g.set(d,s);try{const l=await Promise.resolve(d.provideCodeLenses(i,t));l&&m.add(l,d)}catch(l){(0,k.onUnexpectedExternalError)(l)}});return await Promise.all(c),m.lenses=m.lenses.sort((d,s)=>d.symbol.range.startLineNumber<s.symbol.range.startLineNumber?-1:d.symbol.range.startLineNumber>s.symbol.range.startLineNumber?1:g.get(d.provider)<g.get(s.provider)?-1:g.get(d.provider)>g.get(s.provider)?1:d.symbol.range.startColumn<s.symbol.range.startColumn?-1:d.symbol.range.startColumn>s.symbol.range.startColumn?1:0),m}e.getCodeLensModel=a,w.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(n,...i){let[t,o]=i;(0,D.assertType)(S.URI.isUri(t)),(0,D.assertType)(typeof o=="number"||!o);const{codeLensProvider:g}=n.get(v.ILanguageFeaturesService),m=n.get(p.IModelService).getModel(t);if(!m)throw(0,k.illegalArgument)();const c=[],d=new y.DisposableStore;return a(g,m,L.CancellationToken.None).then(s=>{d.add(s);const l=[];for(const r of s.lenses)o==null||r.symbol.command?c.push(r.symbol):o-- >0&&r.provider.resolveCodeLens&&l.push(Promise.resolve(r.provider.resolveCodeLens(m,r.symbol,L.CancellationToken.None)).then(h=>c.push(h||r.symbol)));return Promise.all(l)}).then(()=>c).finally(()=>{setTimeout(()=>d.dispose(),100)})})}),define(ne[776],se([1,0,13,19,12,2,20,22,5,51,25,18]),function(ee,e,L,k,y,D,S,p,w,v,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class n{constructor(g,m){this._link=g,this._provider=m}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}async resolve(g){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,g)).then(m=>(this._link=m||this._link,this._link.url?this.resolve(g):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}}e.Link=n;class i{constructor(g){this._disposables=new D.DisposableStore;let m=[];for(const[c,d]of g){const s=c.links.map(l=>new n(l,d));m=i._union(m,s),(0,D.isDisposable)(c)&&this._disposables.add(c)}this.links=m}dispose(){this._disposables.dispose(),this.links.length=0}static _union(g,m){const c=[];let d,s,l,r;for(d=0,l=0,s=g.length,r=m.length;d<s&&l<r;){const h=g[d],u=m[l];if(w.Range.areIntersectingOrTouching(h.range,u.range)){d++;continue}w.Range.compareRangesUsingStarts(h.range,u.range)<0?(c.push(h),d++):(c.push(u),l++)}for(;d<s;d++)c.push(g[d]);for(;l<r;l++)c.push(m[l]);return c}}e.LinksList=i;function t(o,g,m){const c=[],d=o.ordered(g).reverse().map((s,l)=>Promise.resolve(s.provideLinks(g,m)).then(r=>{r&&(c[l]=[r,s])},y.onUnexpectedExternalError));return Promise.all(d).then(()=>{const s=new i((0,L.coalesce)(c));return m.isCancellationRequested?(s.dispose(),new i([])):s})}e.getLinks=t,b.CommandsRegistry.registerCommand("_executeLinkProvider",async(o,...g)=>{let[m,c]=g;(0,S.assertType)(m instanceof p.URI),typeof c!="number"&&(c=0);const{linkProvider:d}=o.get(a.ILanguageFeaturesService),s=o.get(v.IModelService).getModel(m);if(!s)return[];const l=await t(d,s,k.CancellationToken.None);if(!l)return[];for(let h=0;h<Math.min(c,l.links.length);h++)await l.links[h].resolve(k.CancellationToken.None);const r=l.links.slice(0);return l.dispose(),r})}),define(ne[351],se([1,0,19,12,22,51,25,20,625,5,18]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function a(r){return r&&!!r.data}e.isSemanticTokens=a;function n(r){return r&&Array.isArray(r.edits)}e.isSemanticTokensEdits=n;class i{constructor(h,u,f){this.provider=h,this.tokens=u,this.error=f}}e.DocumentSemanticTokensResult=i;function t(r,h){return r.has(h)}e.hasDocumentSemanticTokensProvider=t;function o(r,h){const u=r.orderedGroups(h);return u.length>0?u[0]:[]}async function g(r,h,u,f,C){const _=o(r,h),E=await Promise.all(_.map(async I=>{let T,A=null;try{T=await I.provideDocumentSemanticTokens(h,I===u?f:null,C)}catch(R){A=R,T=null}return(!T||!a(T)&&!n(T))&&(T=null),new i(I,T,A)}));for(const I of E){if(I.error)throw I.error;if(I.tokens)return I}return E.length>0?E[0]:null}e.getDocumentSemanticTokens=g;function m(r,h){const u=r.orderedGroups(h);return u.length>0?u[0]:null}class c{constructor(h,u){this.provider=h,this.tokens=u}}function d(r,h){return r.has(h)}e.hasDocumentRangeSemanticTokensProvider=d;function s(r,h){const u=r.orderedGroups(h);return u.length>0?u[0]:[]}async function l(r,h,u,f){const C=s(r,h),_=await Promise.all(C.map(async E=>{let I;try{I=await E.provideDocumentRangeSemanticTokens(h,u,f)}catch(T){(0,k.onUnexpectedExternalError)(T),I=null}return(!I||!a(I))&&(I=null),new c(E,I)}));for(const E of _)if(E.tokens)return E;return _.length>0?_[0]:null}e.getDocumentRangeSemanticTokens=l,S.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",async(r,...h)=>{const[u]=h;(0,p.assertType)(u instanceof y.URI);const f=r.get(D.IModelService).getModel(u);if(!f)return;const{documentSemanticTokensProvider:C}=r.get(b.ILanguageFeaturesService),_=m(C,f);return _?_[0].getLegend():r.get(S.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",u)}),S.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",async(r,...h)=>{const[u]=h;(0,p.assertType)(u instanceof y.URI);const f=r.get(D.IModelService).getModel(u);if(!f)return;const{documentSemanticTokensProvider:C}=r.get(b.ILanguageFeaturesService);if(!t(C,f))return r.get(S.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",u,f.getFullModelRange());const _=await g(C,f,null,null,L.CancellationToken.None);if(!_)return;const{provider:E,tokens:I}=_;if(!I||!a(I))return;const T=(0,w.encodeSemanticTokensDto)({id:0,type:"full",data:I.data});return I.resultId&&E.releaseDocumentSemanticTokens(I.resultId),T}),S.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",async(r,...h)=>{const[u,f]=h;(0,p.assertType)(u instanceof y.URI);const C=r.get(D.IModelService).getModel(u);if(!C)return;const{documentRangeSemanticTokensProvider:_}=r.get(b.ILanguageFeaturesService),E=s(_,C);if(E.length===0)return;if(E.length===1)return E[0].getLegend();if(!f||!v.Range.isIRange(f))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),E[0].getLegend();const I=await l(_,C,v.Range.lift(f),L.CancellationToken.None);if(I)return I.provider.getLegend()}),S.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",async(r,...h)=>{const[u,f]=h;(0,p.assertType)(u instanceof y.URI),(0,p.assertType)(v.Range.isIRange(f));const C=r.get(D.IModelService).getModel(u);if(!C)return;const{documentRangeSemanticTokensProvider:_}=r.get(b.ILanguageFeaturesService),E=await l(_,C,v.Range.lift(f),L.CancellationToken.None);if(!(!E||!E.tokens))return(0,w.encodeSemanticTokensDto)({id:0,type:"full",data:E.tokens.data})})}),define(ne[26],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,L.createDecorator)("configurationService");function k(v,b){const a=Object.create(null);for(const n in v)y(a,n,v[n],b);return a}e.toValuesTree=k;function y(v,b,a,n){const i=b.split("."),t=i.pop();let o=v;for(let g=0;g<i.length;g++){const m=i[g];let c=o[m];switch(typeof c){case"undefined":c=o[m]=Object.create(null);break;case"object":break;default:n(`Ignoring ${b} as ${i.slice(0,g+1).join(".")} is ${JSON.stringify(c)}`);return}o=c}if(typeof o=="object"&&o!==null)try{o[t]=a}catch{n(`Ignoring ${b} as ${i.join(".")} is ${JSON.stringify(o)}`)}else n(`Ignoring ${b} as ${i.join(".")} is ${JSON.stringify(o)}`)}e.addToValueTree=y;function D(v,b){const a=b.split(".");S(v,a)}e.removeFromValueTree=D;function S(v,b){const a=b.shift();if(b.length===0){delete v[a];return}if(Object.keys(v).indexOf(a)!==-1){const n=v[a];typeof n=="object"&&!Array.isArray(n)&&(S(n,b),Object.keys(n).length===0&&delete v[a])}}function p(v,b,a){function n(o,g){let m=o;for(const c of g){if(typeof m!="object"||m===null)return;m=m[c]}return m}const i=b.split("."),t=n(v,i);return typeof t>"u"?a:t}e.getConfigurationValue=p;function w(v){return v.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=w}),define(ne[352],se([1,0,2,30,162,320,26]),function(ee,e,L,k,y,D,S){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const w=5;class v{static create(d,s){return this._INSTANCE.create(d,s)}constructor(d){this._maxCacheDepth=d,this._entries=Object.create(null)}create(d,s){if(d!==null&&d.depth>=this._maxCacheDepth)return new b(d,s);let l=b.getStackElementId(d);l.length>0&&(l+="|"),l+=s;let r=this._entries[l];return r||(r=new b(d,s),this._entries[l]=r,r)}}v._INSTANCE=new v(w);class b{constructor(d,s){this.parent=d,this.state=s,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(d){let s="";for(;d!==null;)s.length>0&&(s+="|"),s+=d.state,d=d.parent;return s}static _equals(d,s){for(;d!==null&&s!==null;){if(d===s)return!0;if(d.state!==s.state)return!1;d=d.parent,s=s.parent}return d===null&&s===null}equals(d){return b._equals(this,d)}push(d){return v.create(this,d)}pop(){return this.parent}popall(){let d=this;for(;d.parent;)d=d.parent;return d}switchTo(d){return v.create(this.parent,d)}}class a{constructor(d,s){this.languageId=d,this.state=s}equals(d){return this.languageId===d.languageId&&this.state.equals(d.state)}clone(){return this.state.clone()===this.state?this:new a(this.languageId,this.state)}}class n{static create(d,s){return this._INSTANCE.create(d,s)}constructor(d){this._maxCacheDepth=d,this._entries=Object.create(null)}create(d,s){if(s!==null)return new i(d,s);if(d!==null&&d.depth>=this._maxCacheDepth)return new i(d,s);const l=b.getStackElementId(d);let r=this._entries[l];return r||(r=new i(d,null),this._entries[l]=r,r)}}n._INSTANCE=new n(w);class i{constructor(d,s){this.stack=d,this.embeddedLanguageData=s}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:n.create(this.stack,this.embeddedLanguageData)}equals(d){return!(d instanceof i)||!this.stack.equals(d.stack)?!1:this.embeddedLanguageData===null&&d.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||d.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(d.embeddedLanguageData)}}class t{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(d){this._languageId=d}emit(d,s){this._lastTokenType===s&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=s,this._lastTokenLanguage=this._languageId,this._tokens.push(new k.Token(d,s,this._languageId)))}nestedLanguageTokenize(d,s,l,r){const h=l.languageId,u=l.state,f=k.TokenizationRegistry.get(h);if(!f)return this.enterLanguage(h),this.emit(r,""),u;const C=f.tokenize(d,s,u);if(r!==0)for(const _ of C.tokens)this._tokens.push(new k.Token(_.offset+r,_.type,_.language));else this._tokens=this._tokens.concat(C.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,C.endState}finalize(d){return new k.TokenizationResult(this._tokens,d)}}class o{constructor(d,s){this._languageService=d,this._theme=s,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(d){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(d)}emit(d,s){const l=this._theme.match(this._currentLanguageId,s)|1024;this._lastTokenMetadata!==l&&(this._lastTokenMetadata=l,this._tokens.push(d),this._tokens.push(l))}static _merge(d,s,l){const r=d!==null?d.length:0,h=s.length,u=l!==null?l.length:0;if(r===0&&h===0&&u===0)return new Uint32Array(0);if(r===0&&h===0)return l;if(h===0&&u===0)return d;const f=new Uint32Array(r+h+u);d!==null&&f.set(d);for(let C=0;C<h;C++)f[r+C]=s[C];return l!==null&&f.set(l,r+h),f}nestedLanguageTokenize(d,s,l,r){const h=l.languageId,u=l.state,f=k.TokenizationRegistry.get(h);if(!f)return this.enterLanguage(h),this.emit(r,""),u;const C=f.tokenizeEncoded(d,s,u);if(r!==0)for(let _=0,E=C.tokens.length;_<E;_+=2)C.tokens[_]+=r;return this._prependTokens=o._merge(this._prependTokens,this._tokens,C.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,C.endState}finalize(d){return new k.EncodedTokenizationResult(o._merge(this._prependTokens,this._tokens,null),d)}}let g=p=class extends L.Disposable{constructor(d,s,l,r,h){super(),this._configurationService=h,this._languageService=d,this._standaloneThemeService=s,this._languageId=l,this._lexer=r,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let u=!1;this._register(k.TokenizationRegistry.onDidChange(f=>{if(u)return;let C=!1;for(let _=0,E=f.changedLanguages.length;_<E;_++){const I=f.changedLanguages[_];if(this._embeddedLanguages[I]){C=!0;break}}C&&(u=!0,k.TokenizationRegistry.handleChange([this._languageId]),u=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(f=>{f.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const d=[];for(const s in this._embeddedLanguages){const l=k.TokenizationRegistry.get(s);if(l){if(l instanceof p){const r=l.getLoadStatus();r.loaded===!1&&d.push(r.promise)}continue}k.TokenizationRegistry.isResolved(s)||d.push(k.TokenizationRegistry.getOrCreate(s))}return d.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(d).then(s=>{})}}getInitialState(){const d=v.create(null,this._lexer.start);return n.create(d,null)}tokenize(d,s,l){if(d.length>=this._maxTokenizationLineLength)return(0,y.nullTokenize)(this._languageId,l);const r=new t,h=this._tokenize(d,s,l,r);return r.finalize(h)}tokenizeEncoded(d,s,l){if(d.length>=this._maxTokenizationLineLength)return(0,y.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),l);const r=new o(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),h=this._tokenize(d,s,l,r);return r.finalize(h)}_tokenize(d,s,l,r){return l.embeddedLanguageData?this._nestedTokenize(d,s,l,0,r):this._myTokenize(d,s,l,0,r)}_findLeavingNestedLanguageOffset(d,s){let l=this._lexer.tokenizer[s.stack.state];if(!l&&(l=D.findRules(this._lexer,s.stack.state),!l))throw D.createError(this._lexer,"tokenizer state is not defined: "+s.stack.state);let r=-1,h=!1;for(const u of l){if(!D.isIAction(u.action)||u.action.nextEmbedded!=="@pop")continue;h=!0;let f=u.regex;const C=u.regex.source;if(C.substr(0,4)==="^(?:"&&C.substr(C.length-1,1)===")"){const E=(f.ignoreCase?"i":"")+(f.unicode?"u":"");f=new RegExp(C.substr(4,C.length-5),E)}const _=d.search(f);_===-1||_!==0&&u.matchOnlyAtLineStart||(r===-1||_<r)&&(r=_)}if(!h)throw D.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+s.stack.state);return r}_nestedTokenize(d,s,l,r,h){const u=this._findLeavingNestedLanguageOffset(d,l);if(u===-1){const _=h.nestedLanguageTokenize(d,s,l.embeddedLanguageData,r);return n.create(l.stack,new a(l.embeddedLanguageData.languageId,_))}const f=d.substring(0,u);f.length>0&&h.nestedLanguageTokenize(f,!1,l.embeddedLanguageData,r);const C=d.substring(u);return this._myTokenize(C,s,l,r+u,h)}_safeRuleName(d){return d?d.name:"(unknown)"}_myTokenize(d,s,l,r,h){h.enterLanguage(this._languageId);const u=d.length,f=s&&this._lexer.includeLF?d+`
`:d,C=f.length;let _=l.embeddedLanguageData,E=l.stack,I=0,T=null,A=!0;for(;A||I<C;){const R=I,M=E.depth,N=T?T.groups.length:0,P=E.state;let F=null,O=null,B=null,W=null,V=null;if(T){F=T.matches;const j=T.groups.shift();O=j.matched,B=j.action,W=T.rule,T.groups.length===0&&(T=null)}else{if(!A&&I>=C)break;A=!1;let j=this._lexer.tokenizer[P];if(!j&&(j=D.findRules(this._lexer,P),!j))throw D.createError(this._lexer,"tokenizer state is not defined: "+P);const x=f.substr(I);for(const re of j)if((I===0||!re.matchOnlyAtLineStart)&&(F=x.match(re.regex),F)){O=F[0],B=re.action;break}}if(F||(F=[""],O=""),B||(I<C&&(F=[f.charAt(I)],O=F[0]),B=this._lexer.defaultToken),O===null)break;for(I+=O.length;D.isFuzzyAction(B)&&D.isIAction(B)&&B.test;)B=B.test(O,F,P,I===C);let z=null;if(typeof B=="string"||Array.isArray(B))z=B;else if(B.group)z=B.group;else if(B.token!==null&&B.token!==void 0){if(B.tokenSubst?z=D.substituteMatches(this._lexer,B.token,O,F,P):z=B.token,B.nextEmbedded)if(B.nextEmbedded==="@pop"){if(!_)throw D.createError(this._lexer,"cannot pop embedded language if not inside one");_=null}else{if(_)throw D.createError(this._lexer,"cannot enter embedded language from within an embedded language");V=D.substituteMatches(this._lexer,B.nextEmbedded,O,F,P)}if(B.goBack&&(I=Math.max(0,I-B.goBack)),B.switchTo&&typeof B.switchTo=="string"){let j=D.substituteMatches(this._lexer,B.switchTo,O,F,P);if(j[0]==="@"&&(j=j.substr(1)),D.findRules(this._lexer,j))E=E.switchTo(j);else throw D.createError(this._lexer,"trying to switch to a state '"+j+"' that is undefined in rule: "+this._safeRuleName(W))}else{if(B.transform&&typeof B.transform=="function")throw D.createError(this._lexer,"action.transform not supported");if(B.next)if(B.next==="@push"){if(E.depth>=this._lexer.maxStack)throw D.createError(this._lexer,"maximum tokenizer stack size reached: ["+E.state+","+E.parent.state+",...]");E=E.push(P)}else if(B.next==="@pop"){if(E.depth<=1)throw D.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(W));E=E.pop()}else if(B.next==="@popall")E=E.popall();else{let j=D.substituteMatches(this._lexer,B.next,O,F,P);if(j[0]==="@"&&(j=j.substr(1)),D.findRules(this._lexer,j))E=E.push(j);else throw D.createError(this._lexer,"trying to set a next state '"+j+"' that is undefined in rule: "+this._safeRuleName(W))}}B.log&&typeof B.log=="string"&&D.log(this._lexer,this._lexer.languageId+": "+D.substituteMatches(this._lexer,B.log,O,F,P))}if(z===null)throw D.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(W));const K=j=>{const x=this._languageService.getLanguageIdByLanguageName(j)||this._languageService.getLanguageIdByMimeType(j)||j,re=this._getNestedEmbeddedLanguageData(x);if(I<C){const ie=d.substr(I);return this._nestedTokenize(ie,s,n.create(E,re),r+I,h)}else return n.create(E,re)};if(Array.isArray(z)){if(T&&T.groups.length>0)throw D.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(W));if(F.length!==z.length+1)throw D.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(W));let j=0;for(let x=1;x<F.length;x++)j+=F[x].length;if(j!==O.length)throw D.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(W));T={rule:W,matches:F,groups:[]};for(let x=0;x<z.length;x++)T.groups[x]={action:z[x],matched:F[x+1]};I-=O.length;continue}else{if(z==="@rematch"&&(I-=O.length,O="",F=null,z="",V!==null))return K(V);if(O.length===0){if(C===0||M!==E.depth||P!==E.state||(T?T.groups.length:0)!==N)continue;throw D.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(W))}let j=null;if(D.isString(z)&&z.indexOf("@brackets")===0){const x=z.substr(9),re=m(this._lexer,O);if(!re)throw D.createError(this._lexer,"@brackets token returned but no bracket defined as: "+O);j=D.sanitize(re.token+x)}else{const x=z===""?"":z+this._lexer.tokenPostfix;j=D.sanitize(x)}R<u&&h.emit(R+r,j)}if(V!==null)return K(V)}return n.create(E,_)}_getNestedEmbeddedLanguageData(d){if(!this._languageService.isRegisteredLanguageId(d))return new a(d,y.NullState);d!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(d),k.TokenizationRegistry.getOrCreate(d),this._embeddedLanguages[d]=!0);const s=k.TokenizationRegistry.get(d);return s?new a(d,s.getInitialState()):new a(d,y.NullState)}};e.MonarchTokenizer=g,e.MonarchTokenizer=g=p=De([he(4,S.IConfigurationService)],g);function m(c,d){if(!d)return null;d=D.fixCase(c,d);const s=c.brackets;for(const l of s){if(l.open===d)return{token:l.token,bracketType:1};if(l.close===d)return{token:l.token,bracketType:-1}}return null}}),define(ne[777],se([1,0,95,11,30,97,122,86,352]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const v=(0,L.createTrustedTypesPolicy)("standaloneColorizer",{createHTML:t=>t});class b{static colorizeElement(o,g,m,c){c=c||{};const d=c.theme||"vs",s=c.mimeType||m.getAttribute("lang")||m.getAttribute("data-lang");if(!s)return console.error("Mode not detected"),Promise.resolve();const l=g.getLanguageIdByMimeType(s)||s;o.setTheme(d);const r=m.firstChild?m.firstChild.nodeValue:"";m.className+=" "+d;const h=u=>{var f;const C=(f=v?.createHTML(u))!==null&&f!==void 0?f:u;m.innerHTML=C};return this.colorize(g,r||"",l,c).then(h,u=>console.error(u))}static async colorize(o,g,m,c){const d=o.languageIdCodec;let s=4;c&&typeof c.tabSize=="number"&&(s=c.tabSize),k.startsWithUTF8BOM(g)&&(g=g.substr(1));const l=k.splitLines(g);if(!o.isRegisteredLanguageId(m))return n(l,s,d);const r=await y.TokenizationRegistry.getOrCreate(m);return r?a(l,s,r,d):n(l,s,d)}static colorizeLine(o,g,m,c,d=4){const s=p.ViewLineRenderingData.isBasicASCII(o,g),l=p.ViewLineRenderingData.containsRTL(o,s,m);return(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,o,!1,s,l,0,c,[],d,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(o,g,m=4){const c=o.getLineContent(g);o.tokenization.forceTokenization(g);const s=o.tokenization.getLineTokens(g).inflate();return this.colorizeLine(c,o.mightContainNonBasicASCII(),o.mightContainRTL(),s,m)}}e.Colorizer=b;function a(t,o,g,m){return new Promise((c,d)=>{const s=()=>{const l=i(t,o,g,m);if(g instanceof w.MonarchTokenizer){const r=g.getLoadStatus();if(r.loaded===!1){r.promise.then(s,d);return}}c(l)};s()})}function n(t,o,g){let m=[];const d=new Uint32Array(2);d[0]=0,d[1]=33587200;for(let s=0,l=t.length;s<l;s++){const r=t[s];d[0]=r.length;const h=new D.LineTokens(d,r,g),u=p.ViewLineRenderingData.isBasicASCII(r,!0),f=p.ViewLineRenderingData.containsRTL(r,u,!0),C=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,r,!1,u,f,0,h,[],o,0,0,0,0,-1,"none",!1,!1,null));m=m.concat(C.html),m.push("<br/>")}return m.join("")}function i(t,o,g,m){let c=[],d=g.getInitialState();for(let s=0,l=t.length;s<l;s++){const r=t[s],h=g.tokenizeEncoded(r,!0,d);D.LineTokens.convertToEndOffset(h.tokens,r.length);const u=new D.LineTokens(h.tokens,r,m),f=p.ViewLineRenderingData.isBasicASCII(r,!0),C=p.ViewLineRenderingData.containsRTL(r,f,!0),_=(0,S.renderViewLine2)(new S.RenderLineInput(!1,!0,r,!1,f,C,0,u.inflate(),[],o,0,0,0,0,-1,"none",!1,!1,null));c=c.concat(_.html),c.push("<br/>"),d=h.endState}return c.join("")}}),define(ne[14],se([1,0,17,11,768,8,749]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=e.Parser=void 0;const p=new Map;p.set("false",!1),p.set("true",!0),p.set("isMac",L.isMacintosh),p.set("isLinux",L.isLinux),p.set("isWindows",L.isWindows),p.set("isWeb",L.isWeb),p.set("isMacNative",L.isMacintosh&&!L.isWeb),p.set("isEdge",L.isEdge),p.set("isFirefox",L.isFirefox),p.set("isChrome",L.isChrome),p.set("isSafari",L.isSafari);const w=Object.prototype.hasOwnProperty,v={regexParsingWithErrorRecovery:!0},b=(0,S.localize)(0,null),a=(0,S.localize)(1,null),n=(0,S.localize)(2,null),i=(0,S.localize)(3,null),t=(0,S.localize)(4,null),o=(0,S.localize)(5,null),g=(0,S.localize)(6,null),m=(0,S.localize)(7,null);class c{constructor(J=v){this._config=J,this._scanner=new y.Scanner,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(J){if(J===""){this._parsingErrors.push({message:b,offset:0,lexeme:"",additionalInfo:a});return}this._tokens=this._scanner.reset(J).scan(),this._current=0,this._parsingErrors=[];try{const X=this._expr();if(!this._isAtEnd()){const Y=this._peek(),le=Y.type===17?o:void 0;throw this._parsingErrors.push({message:t,offset:Y.offset,lexeme:y.Scanner.getLexeme(Y),additionalInfo:le}),c._parseError}return X}catch(X){if(X!==c._parseError)throw X;return}}_expr(){return this._or()}_or(){const J=[this._and()];for(;this._matchOne(16);){const X=this._and();J.push(X)}return J.length===1?J[0]:d.or(...J)}_and(){const J=[this._term()];for(;this._matchOne(15);){const X=this._term();J.push(X)}return J.length===1?J[0]:d.and(...J)}_term(){if(this._matchOne(2)){const J=this._peek();switch(J.type){case 11:return this._advance(),r.INSTANCE;case 12:return this._advance(),h.INSTANCE;case 0:{this._advance();const X=this._expr();return this._consume(1,i),X?.negate()}case 17:return this._advance(),I.create(J.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",J)}}return this._primary()}_primary(){const J=this._peek();switch(J.type){case 11:return this._advance(),d.true();case 12:return this._advance(),d.false();case 0:{this._advance();const X=this._expr();return this._consume(1,i),X}case 17:{const X=J.lexeme;if(this._advance(),this._matchOne(9)){const le=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),le.type!==10)throw this._errExpectedButGot("REGEX",le);const de=le.lexeme,ge=de.lastIndexOf("/"),pe=ge===de.length-1?void 0:this._removeFlagsGY(de.substring(ge+1));let Q;try{Q=new RegExp(de.substring(1,ge),pe)}catch{throw this._errExpectedButGot("REGEX",le)}return P.create(X,Q)}switch(le.type){case 10:case 19:{const de=[le.lexeme];this._advance();let ge=this._peek(),pe=0;for(let q=0;q<le.lexeme.length;q++)le.lexeme.charCodeAt(q)===40?pe++:le.lexeme.charCodeAt(q)===41&&pe--;for(;!this._isAtEnd()&&ge.type!==15&&ge.type!==16;){switch(ge.type){case 0:pe++;break;case 1:pe--;break;case 10:case 18:for(let q=0;q<ge.lexeme.length;q++)ge.lexeme.charCodeAt(q)===40?pe++:le.lexeme.charCodeAt(q)===41&&pe--}if(pe<0)break;de.push(y.Scanner.getLexeme(ge)),this._advance(),ge=this._peek()}const Q=de.join(""),U=Q.lastIndexOf("/"),Z=U===Q.length-1?void 0:this._removeFlagsGY(Q.substring(U+1));let H;try{H=new RegExp(Q.substring(1,U),Z)}catch{throw this._errExpectedButGot("REGEX",le)}return d.regex(X,H)}case 18:{const de=le.lexeme;this._advance();let ge=null;if(!(0,k.isFalsyOrWhitespace)(de)){const pe=de.indexOf("/"),Q=de.lastIndexOf("/");if(pe!==Q&&pe>=0){const U=de.slice(pe+1,Q),Z=de[Q+1]==="i"?"i":"";try{ge=new RegExp(U,Z)}catch{throw this._errExpectedButGot("REGEX",le)}}}if(ge===null)throw this._errExpectedButGot("REGEX",le);return P.create(X,ge)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,n);const le=this._value();return d.notIn(X,le)}switch(this._peek().type){case 3:{this._advance();const le=this._value();if(this._previous().type===18)return d.equals(X,le);switch(le){case"true":return d.has(X);case"false":return d.not(X);default:return d.equals(X,le)}}case 4:{this._advance();const le=this._value();if(this._previous().type===18)return d.notEquals(X,le);switch(le){case"true":return d.not(X);case"false":return d.has(X);default:return d.notEquals(X,le)}}case 5:return this._advance(),M.create(X,this._value());case 6:return this._advance(),N.create(X,this._value());case 7:return this._advance(),A.create(X,this._value());case 8:return this._advance(),R.create(X,this._value());case 13:return this._advance(),d.in(X,this._value());default:return d.has(X)}}case 20:throw this._parsingErrors.push({message:g,offset:J.offset,lexeme:"",additionalInfo:m}),c._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const J=this._peek();switch(J.type){case 17:case 18:return this._advance(),J.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(J){return J.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(J){return this._check(J)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(J,X){if(this._check(J))return this._advance();throw this._errExpectedButGot(X,this._peek())}_errExpectedButGot(J,X,Y){const le=(0,S.localize)(8,null,J,y.Scanner.getLexeme(X)),de=X.offset,ge=y.Scanner.getLexeme(X);return this._parsingErrors.push({message:le,offset:de,lexeme:ge,additionalInfo:Y}),c._parseError}_check(J){return this._peek().type===J}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}e.Parser=c,c._parseError=new Error;class d{static false(){return r.INSTANCE}static true(){return h.INSTANCE}static has(J){return u.create(J)}static equals(J,X){return f.create(J,X)}static notEquals(J,X){return E.create(J,X)}static regex(J,X){return P.create(J,X)}static in(J,X){return C.create(J,X)}static notIn(J,X){return _.create(J,X)}static not(J){return I.create(J)}static and(...J){return B.create(J,null,!0)}static or(...J){return W.create(J,null,!0)}static deserialize(J){return J==null?void 0:this._parser.parse(J)}}e.ContextKeyExpr=d,d._parser=new c({regexParsingWithErrorRecovery:!1});function s(ie,J){const X=ie?ie.substituteConstants():void 0,Y=J?J.substituteConstants():void 0;return!X&&!Y?!0:!X||!Y?!1:X.equals(Y)}e.expressionsAreEqualWithConstantSubstitution=s;function l(ie,J){return ie.cmp(J)}class r{constructor(){this.type=0}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!1}serialize(){return"false"}keys(){return[]}negate(){return h.INSTANCE}}e.ContextKeyFalseExpr=r,r.INSTANCE=new r;class h{constructor(){this.type=1}cmp(J){return this.type-J.type}equals(J){return J.type===this.type}substituteConstants(){return this}evaluate(J){return!0}serialize(){return"true"}keys(){return[]}negate(){return r.INSTANCE}}e.ContextKeyTrueExpr=h,h.INSTANCE=new h;class u{static create(J,X=null){const Y=p.get(J);return typeof Y=="boolean"?Y?h.INSTANCE:r.INSTANCE:new u(J,X)}constructor(J,X){this.key=J,this.negated=X,this.type=2}cmp(J){return J.type!==this.type?this.type-J.type:z(this.key,J.key)}equals(J){return J.type===this.type?this.key===J.key:!1}substituteConstants(){const J=p.get(this.key);return typeof J=="boolean"?J?h.INSTANCE:r.INSTANCE:this}evaluate(J){return!!J.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=u;class f{static create(J,X,Y=null){if(typeof X=="boolean")return X?u.create(J,Y):I.create(J,Y);const le=p.get(J);return typeof le=="boolean"?X===(le?"true":"false")?h.INSTANCE:r.INSTANCE:new f(J,X,Y)}constructor(J,X,Y){this.key=J,this.value=X,this.negated=Y,this.type=4}cmp(J){return J.type!==this.type?this.type-J.type:K(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type?this.key===J.key&&this.value===J.value:!1}substituteConstants(){const J=p.get(this.key);if(typeof J=="boolean"){const X=J?"true":"false";return this.value===X?h.INSTANCE:r.INSTANCE}return this}evaluate(J){return J.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=f;class C{static create(J,X){return new C(J,X)}constructor(J,X){this.key=J,this.valueKey=X,this.type=10,this.negated=null}cmp(J){return J.type!==this.type?this.type-J.type:K(this.key,this.valueKey,J.key,J.valueKey)}equals(J){return J.type===this.type?this.key===J.key&&this.valueKey===J.valueKey:!1}substituteConstants(){return this}evaluate(J){const X=J.getValue(this.valueKey),Y=J.getValue(this.key);return Array.isArray(X)?X.includes(Y):typeof Y=="string"&&typeof X=="object"&&X!==null?w.call(X,Y):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=_.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=C;class _{static create(J,X){return new _(J,X)}constructor(J,X){this.key=J,this.valueKey=X,this.type=11,this._negated=C.create(J,X)}cmp(J){return J.type!==this.type?this.type-J.type:this._negated.cmp(J._negated)}equals(J){return J.type===this.type?this._negated.equals(J._negated):!1}substituteConstants(){return this}evaluate(J){return!this._negated.evaluate(J)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=_;class E{static create(J,X,Y=null){if(typeof X=="boolean")return X?I.create(J,Y):u.create(J,Y);const le=p.get(J);return typeof le=="boolean"?X===(le?"true":"false")?r.INSTANCE:h.INSTANCE:new E(J,X,Y)}constructor(J,X,Y){this.key=J,this.value=X,this.negated=Y,this.type=5}cmp(J){return J.type!==this.type?this.type-J.type:K(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type?this.key===J.key&&this.value===J.value:!1}substituteConstants(){const J=p.get(this.key);if(typeof J=="boolean"){const X=J?"true":"false";return this.value===X?r.INSTANCE:h.INSTANCE}return this}evaluate(J){return J.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=E;class I{static create(J,X=null){const Y=p.get(J);return typeof Y=="boolean"?Y?r.INSTANCE:h.INSTANCE:new I(J,X)}constructor(J,X){this.key=J,this.negated=X,this.type=3}cmp(J){return J.type!==this.type?this.type-J.type:z(this.key,J.key)}equals(J){return J.type===this.type?this.key===J.key:!1}substituteConstants(){const J=p.get(this.key);return typeof J=="boolean"?J?r.INSTANCE:h.INSTANCE:this}evaluate(J){return!J.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=u.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=I;function T(ie,J){if(typeof ie=="string"){const X=parseFloat(ie);isNaN(X)||(ie=X)}return typeof ie=="string"||typeof ie=="number"?J(ie):r.INSTANCE}class A{static create(J,X,Y=null){return T(X,le=>new A(J,le,Y))}constructor(J,X,Y){this.key=J,this.value=X,this.negated=Y,this.type=12}cmp(J){return J.type!==this.type?this.type-J.type:K(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type?this.key===J.key&&this.value===J.value:!1}substituteConstants(){return this}evaluate(J){return typeof this.value=="string"?!1:parseFloat(J.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=A;class R{static create(J,X,Y=null){return T(X,le=>new R(J,le,Y))}constructor(J,X,Y){this.key=J,this.value=X,this.negated=Y,this.type=13}cmp(J){return J.type!==this.type?this.type-J.type:K(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type?this.key===J.key&&this.value===J.value:!1}substituteConstants(){return this}evaluate(J){return typeof this.value=="string"?!1:parseFloat(J.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=R;class M{static create(J,X,Y=null){return T(X,le=>new M(J,le,Y))}constructor(J,X,Y){this.key=J,this.value=X,this.negated=Y,this.type=14}cmp(J){return J.type!==this.type?this.type-J.type:K(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type?this.key===J.key&&this.value===J.value:!1}substituteConstants(){return this}evaluate(J){return typeof this.value=="string"?!1:parseFloat(J.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=R.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=M;class N{static create(J,X,Y=null){return T(X,le=>new N(J,le,Y))}constructor(J,X,Y){this.key=J,this.value=X,this.negated=Y,this.type=15}cmp(J){return J.type!==this.type?this.type-J.type:K(this.key,this.value,J.key,J.value)}equals(J){return J.type===this.type?this.key===J.key&&this.value===J.value:!1}substituteConstants(){return this}evaluate(J){return typeof this.value=="string"?!1:parseFloat(J.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=N;class P{static create(J,X){return new P(J,X)}constructor(J,X){this.key=J,this.regexp=X,this.type=7,this.negated=null}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.key<J.key)return-1;if(this.key>J.key)return 1;const X=this.regexp?this.regexp.source:"",Y=J.regexp?J.regexp.source:"";return X<Y?-1:X>Y?1:0}equals(J){if(J.type===this.type){const X=this.regexp?this.regexp.source:"",Y=J.regexp?J.regexp.source:"";return this.key===J.key&&X===Y}return!1}substituteConstants(){return this}evaluate(J){const X=J.getValue(this.key);return this.regexp?this.regexp.test(X):!1}serialize(){const J=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${J}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=F.create(this)),this.negated}}e.ContextKeyRegexExpr=P;class F{static create(J){return new F(J)}constructor(J){this._actual=J,this.type=8}cmp(J){return J.type!==this.type?this.type-J.type:this._actual.cmp(J._actual)}equals(J){return J.type===this.type?this._actual.equals(J._actual):!1}substituteConstants(){return this}evaluate(J){return!this._actual.evaluate(J)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=F;function O(ie){let J=null;for(let X=0,Y=ie.length;X<Y;X++){const le=ie[X].substituteConstants();if(ie[X]!==le&&J===null){J=[];for(let de=0;de<X;de++)J[de]=ie[de]}J!==null&&(J[X]=le)}return J===null?ie:J}class B{static create(J,X,Y){return B._normalizeArr(J,X,Y)}constructor(J,X){this.expr=J,this.negated=X,this.type=6}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let X=0,Y=this.expr.length;X<Y;X++){const le=l(this.expr[X],J.expr[X]);if(le!==0)return le}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let X=0,Y=this.expr.length;X<Y;X++)if(!this.expr[X].equals(J.expr[X]))return!1;return!0}return!1}substituteConstants(){const J=O(this.expr);return J===this.expr?this:B.create(J,this.negated,!1)}evaluate(J){for(let X=0,Y=this.expr.length;X<Y;X++)if(!this.expr[X].evaluate(J))return!1;return!0}static _normalizeArr(J,X,Y){const le=[];let de=!1;for(const ge of J)if(ge){if(ge.type===1){de=!0;continue}if(ge.type===0)return r.INSTANCE;if(ge.type===6){le.push(...ge.expr);continue}le.push(ge)}if(le.length===0&&de)return h.INSTANCE;if(le.length!==0){if(le.length===1)return le[0];le.sort(l);for(let ge=1;ge<le.length;ge++)le[ge-1].equals(le[ge])&&(le.splice(ge,1),ge--);if(le.length===1)return le[0];for(;le.length>1;){const ge=le[le.length-1];if(ge.type!==9)break;le.pop();const pe=le.pop(),Q=le.length===0,U=W.create(ge.expr.map(Z=>B.create([Z,pe],null,Y)),null,Q);U&&(le.push(U),le.sort(l))}if(le.length===1)return le[0];if(Y){for(let ge=0;ge<le.length;ge++)for(let pe=ge+1;pe<le.length;pe++)if(le[ge].negate().equals(le[pe]))return r.INSTANCE;if(le.length===1)return le[0]}return new B(le,X)}}serialize(){return this.expr.map(J=>J.serialize()).join(" && ")}keys(){const J=[];for(const X of this.expr)J.push(...X.keys());return J}negate(){if(!this.negated){const J=[];for(const X of this.expr)J.push(X.negate());this.negated=W.create(J,this,!0)}return this.negated}}e.ContextKeyAndExpr=B;class W{static create(J,X,Y){return W._normalizeArr(J,X,Y)}constructor(J,X){this.expr=J,this.negated=X,this.type=9}cmp(J){if(J.type!==this.type)return this.type-J.type;if(this.expr.length<J.expr.length)return-1;if(this.expr.length>J.expr.length)return 1;for(let X=0,Y=this.expr.length;X<Y;X++){const le=l(this.expr[X],J.expr[X]);if(le!==0)return le}return 0}equals(J){if(J.type===this.type){if(this.expr.length!==J.expr.length)return!1;for(let X=0,Y=this.expr.length;X<Y;X++)if(!this.expr[X].equals(J.expr[X]))return!1;return!0}return!1}substituteConstants(){const J=O(this.expr);return J===this.expr?this:W.create(J,this.negated,!1)}evaluate(J){for(let X=0,Y=this.expr.length;X<Y;X++)if(this.expr[X].evaluate(J))return!0;return!1}static _normalizeArr(J,X,Y){let le=[],de=!1;if(J){for(let ge=0,pe=J.length;ge<pe;ge++){const Q=J[ge];if(Q){if(Q.type===0){de=!0;continue}if(Q.type===1)return h.INSTANCE;if(Q.type===9){le=le.concat(Q.expr);continue}le.push(Q)}}if(le.length===0&&de)return r.INSTANCE;le.sort(l)}if(le.length!==0){if(le.length===1)return le[0];for(let ge=1;ge<le.length;ge++)le[ge-1].equals(le[ge])&&(le.splice(ge,1),ge--);if(le.length===1)return le[0];if(Y){for(let ge=0;ge<le.length;ge++)for(let pe=ge+1;pe<le.length;pe++)if(le[ge].negate().equals(le[pe]))return h.INSTANCE;if(le.length===1)return le[0]}return new W(le,X)}}serialize(){return this.expr.map(J=>J.serialize()).join(" || ")}keys(){const J=[];for(const X of this.expr)J.push(...X.keys());return J}negate(){if(!this.negated){const J=[];for(const X of this.expr)J.push(X.negate());for(;J.length>1;){const X=J.shift(),Y=J.shift(),le=[];for(const de of re(X))for(const ge of re(Y))le.push(B.create([de,ge],null,!1));J.unshift(W.create(le,null,!1))}this.negated=W.create(J,this,!0)}return this.negated}}e.ContextKeyOrExpr=W;class V extends u{static all(){return V._info.values()}constructor(J,X,Y){super(J,null),this._defaultValue=X,typeof Y=="object"?V._info.push({...Y,key:J}):Y!==!0&&V._info.push({key:J,description:Y,type:X!=null?typeof X:void 0})}bindTo(J){return J.createKey(this.key,this._defaultValue)}getValue(J){return J.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(J){return f.create(this.key,J)}}e.RawContextKey=V,V._info=[],e.IContextKeyService=(0,D.createDecorator)("contextKeyService");function z(ie,J){return ie<J?-1:ie>J?1:0}function K(ie,J,X,Y){return ie<X?-1:ie>X?1:J<Y?-1:J>Y?1:0}function j(ie,J){if(ie.type===0||J.type===1)return!0;if(ie.type===9)return J.type===9?x(ie.expr,J.expr):!1;if(J.type===9){for(const X of J.expr)if(j(ie,X))return!0;return!1}if(ie.type===6){if(J.type===6)return x(J.expr,ie.expr);for(const X of ie.expr)if(j(X,J))return!0;return!1}return ie.equals(J)}e.implies=j;function x(ie,J){let X=0,Y=0;for(;X<ie.length&&Y<J.length;){const le=ie[X].cmp(J[Y]);if(le<0)return!1;le===0&&X++,Y++}return X===ie.length}function re(ie){return ie.type===9?ie.expr:[ie]}}),define(ne[21],se([1,0,649,14]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var y;(function(D){D.editorSimpleInput=new k.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new k.RawContextKey("editorTextFocus",!1,L.localize(0,null)),D.focus=new k.RawContextKey("editorFocus",!1,L.localize(1,null)),D.textInputFocus=new k.RawContextKey("textInputFocus",!1,L.localize(2,null)),D.readOnly=new k.RawContextKey("editorReadonly",!1,L.localize(3,null)),D.inDiffEditor=new k.RawContextKey("inDiffEditor",!1,L.localize(4,null)),D.isEmbeddedDiffEditor=new k.RawContextKey("isEmbeddedDiffEditor",!1,L.localize(5,null)),D.inMultiDiffEditor=new k.RawContextKey("inMultiDiffEditor",!1,L.localize(6,null)),D.multiDiffEditorAllCollapsed=new k.RawContextKey("multiDiffEditorAllCollapsed",void 0,L.localize(7,null)),D.hasChanges=new k.RawContextKey("diffEditorHasChanges",!1,L.localize(8,null)),D.comparingMovedCode=new k.RawContextKey("comparingMovedCode",!1,L.localize(9,null)),D.accessibleDiffViewerVisible=new k.RawContextKey("accessibleDiffViewerVisible",!1,L.localize(10,null)),D.diffEditorRenderSideBySideInlineBreakpointReached=new k.RawContextKey("diffEditorRenderSideBySideInlineBreakpointReached",!1,L.localize(11,null)),D.columnSelection=new k.RawContextKey("editorColumnSelection",!1,L.localize(12,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new k.RawContextKey("editorHasSelection",!1,L.localize(13,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new k.RawContextKey("editorHasMultipleSelections",!1,L.localize(14,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new k.RawContextKey("editorTabMovesFocus",!1,L.localize(15,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInEmbeddedEditor=new k.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new k.RawContextKey("canUndo",!1,!0),D.canRedo=new k.RawContextKey("canRedo",!1,!0),D.hoverVisible=new k.RawContextKey("editorHoverVisible",!1,L.localize(16,null)),D.hoverFocused=new k.RawContextKey("editorHoverFocused",!1,L.localize(17,null)),D.stickyScrollFocused=new k.RawContextKey("stickyScrollFocused",!1,L.localize(18,null)),D.stickyScrollVisible=new k.RawContextKey("stickyScrollVisible",!1,L.localize(19,null)),D.standaloneColorPickerVisible=new k.RawContextKey("standaloneColorPickerVisible",!1,L.localize(20,null)),D.standaloneColorPickerFocused=new k.RawContextKey("standaloneColorPickerFocused",!1,L.localize(21,null)),D.inCompositeEditor=new k.RawContextKey("inCompositeEditor",void 0,L.localize(22,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new k.RawContextKey("editorLangId","",L.localize(23,null)),D.hasCompletionItemProvider=new k.RawContextKey("editorHasCompletionItemProvider",!1,L.localize(24,null)),D.hasCodeActionsProvider=new k.RawContextKey("editorHasCodeActionsProvider",!1,L.localize(25,null)),D.hasCodeLensProvider=new k.RawContextKey("editorHasCodeLensProvider",!1,L.localize(26,null)),D.hasDefinitionProvider=new k.RawContextKey("editorHasDefinitionProvider",!1,L.localize(27,null)),D.hasDeclarationProvider=new k.RawContextKey("editorHasDeclarationProvider",!1,L.localize(28,null)),D.hasImplementationProvider=new k.RawContextKey("editorHasImplementationProvider",!1,L.localize(29,null)),D.hasTypeDefinitionProvider=new k.RawContextKey("editorHasTypeDefinitionProvider",!1,L.localize(30,null)),D.hasHoverProvider=new k.RawContextKey("editorHasHoverProvider",!1,L.localize(31,null)),D.hasDocumentHighlightProvider=new k.RawContextKey("editorHasDocumentHighlightProvider",!1,L.localize(32,null)),D.hasDocumentSymbolProvider=new k.RawContextKey("editorHasDocumentSymbolProvider",!1,L.localize(33,null)),D.hasReferenceProvider=new k.RawContextKey("editorHasReferenceProvider",!1,L.localize(34,null)),D.hasRenameProvider=new k.RawContextKey("editorHasRenameProvider",!1,L.localize(35,null)),D.hasSignatureHelpProvider=new k.RawContextKey("editorHasSignatureHelpProvider",!1,L.localize(36,null)),D.hasInlayHintsProvider=new k.RawContextKey("editorHasInlayHintsProvider",!1,L.localize(37,null)),D.hasDocumentFormattingProvider=new k.RawContextKey("editorHasDocumentFormattingProvider",!1,L.localize(38,null)),D.hasDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,L.localize(39,null)),D.hasMultipleDocumentFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,L.localize(40,null)),D.hasMultipleDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,L.localize(41,null))})(y||(e.EditorContextKeys=y={}))}),define(ne[246],se([1,0,32,11,85,14,2,705]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionContextKeys=void 0;class w extends S.Disposable{constructor(b,a){super(),this.contextKeyService=b,this.model=a,this.inlineCompletionVisible=w.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=w.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=w.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=w.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,L.autorun)(n=>{const i=this.model.read(n),t=i?.state.read(n),o=!!t?.inlineCompletion&&t?.primaryGhostText!==void 0&&!t?.primaryGhostText.isEmpty();this.inlineCompletionVisible.set(o),t?.primaryGhostText&&t?.inlineCompletion&&this.suppressSuggestions.set(t.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,L.autorun)(n=>{const i=this.model.read(n);let t=!1,o=!0;const g=i?.primaryGhostText.read(n);if(i?.selectedSuggestItem&&g&&g.parts.length>0){const{column:m,lines:c}=g.parts[0],d=c[0],s=i.textModel.getLineIndentColumn(g.lineNumber);if(m<=s){let r=(0,k.firstNonWhitespaceIndex)(d);r===-1&&(r=d.length-1),t=r>0;const h=i.textModel.getOptions().tabSize;o=y.CursorColumns.visibleColumnFromColumn(d,r+1,h)<h}}this.inlineCompletionSuggestsIndentation.set(t),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(o)}))}}e.InlineCompletionContextKeys=w,w.inlineSuggestionVisible=new D.RawContextKey("inlineSuggestionVisible",!1,(0,p.localize)(0,null)),w.inlineSuggestionHasIndentation=new D.RawContextKey("inlineSuggestionHasIndentation",!1,(0,p.localize)(1,null)),w.inlineSuggestionHasIndentationLessThanTabSize=new D.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,p.localize)(2,null)),w.suppressSuggestions=new D.RawContextKey("inlineSuggestionSuppressSuggestions",void 0,(0,p.localize)(3,null))}),define(ne[247],se([1,0,19,12,20,22,9,30,18,70,25,14]),function(ee,e,L,k,y,D,S,p,w,v,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new a.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new a.RawContextKey("parameterHintsMultipleSignatures",!1)};async function n(i,t,o,g,m){const c=i.ordered(t);for(const d of c)try{const s=await d.provideSignatureHelp(t,o,m,g);if(s)return s}catch(s){(0,k.onUnexpectedExternalError)(s)}}e.provideSignatureHelp=n,b.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",async(i,...t)=>{const[o,g,m]=t;(0,y.assertType)(D.URI.isUri(o)),(0,y.assertType)(S.Position.isIPosition(g)),(0,y.assertType)(typeof m=="string"||!m);const c=i.get(w.ILanguageFeaturesService),d=await i.get(v.ITextModelService).createModelReference(o);try{const s=await n(c.signatureHelpProvider,d.object.textEditorModel,S.Position.lift(g),{triggerKind:p.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:m},L.CancellationToken.None);return s?(setTimeout(()=>s.dispose(),0),s.value):void 0}finally{d.dispose()}})}),define(ne[778],se([1,0,15,12,7,2,132,30,247]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var v;(function(n){n.Default={type:0};class i{constructor(g,m){this.request=g,this.previouslyActiveHints=m,this.type=2}}n.Pending=i;class t{constructor(g){this.hints=g,this.type=1}}n.Active=t})(v||(v={}));class b extends D.Disposable{constructor(i,t,o=b.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new y.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=v.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.MutableDisposable),this.triggerChars=new S.CharacterSet,this.retriggerChars=new S.CharacterSet,this.triggerId=0,this.editor=i,this.providers=t,this.throttledDelayer=new L.Delayer(o),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(g=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(g=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(g=>this.onCursorChange(g))),this._register(this.editor.onDidChangeModelContent(g=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(g=>this.onDidType(g))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(i){this._state.type===2&&this._state.request.cancel(),this._state=i}cancel(i=!1){this.state=v.Default,this.throttledDelayer.cancel(),i||this._onChangedHints.fire(void 0)}trigger(i,t){const o=this.editor.getModel();if(!o||!this.providers.has(o))return;const g=++this.triggerId;this._pendingTriggers.push(i),this.throttledDelayer.trigger(()=>this.doTrigger(g),t).catch(k.onUnexpectedError)}next(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,t=this.state.hints.activeSignature,o=t%i===i-1,g=this.editor.getOption(86).cycle;if((i<2||o)&&!g){this.cancel();return}this.updateActiveSignature(o&&g?0:t+1)}previous(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,t=this.state.hints.activeSignature,o=t===0,g=this.editor.getOption(86).cycle;if((i<2||o)&&!g){this.cancel();return}this.updateActiveSignature(o&&g?i-1:t-1)}updateActiveSignature(i){this.state.type===1&&(this.state=new v.Active({...this.state.hints,activeSignature:i}),this._onChangedHints.fire(this.state.hints))}async doTrigger(i){const t=this.state.type===1||this.state.type===2,o=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const g=this._pendingTriggers.reduce(a);this._pendingTriggers=[];const m={triggerKind:g.triggerKind,triggerCharacter:g.triggerCharacter,isRetrigger:t,activeSignatureHelp:o};if(!this.editor.hasModel())return!1;const c=this.editor.getModel(),d=this.editor.getPosition();this.state=new v.Pending((0,L.createCancelablePromise)(s=>(0,w.provideSignatureHelp)(this.providers,c,d,m,s)),o);try{const s=await this.state.request;return i!==this.triggerId?(s?.dispose(),!1):!s||!s.value.signatures||s.value.signatures.length===0?(s?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new v.Active(s.value),this._lastSignatureHelpResult.value=s,this._onChangedHints.fire(this.state.hints),!0)}catch(s){return i===this.triggerId&&(this.state=v.Default),(0,k.onUnexpectedError)(s),!1}}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const i=this.editor.getModel();if(i)for(const t of this.providers.ordered(i)){for(const o of t.signatureHelpTriggerCharacters||[])if(o.length){const g=o.charCodeAt(0);this.triggerChars.add(g),this.retriggerChars.add(g)}for(const o of t.signatureHelpRetriggerCharacters||[])o.length&&this.retriggerChars.add(o.charCodeAt(0))}}onDidType(i){if(!this.triggerOnType)return;const t=i.length-1,o=i.charCodeAt(t);(this.triggerChars.has(o)||this.isTriggered&&this.retriggerChars.has(o))&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:i.charAt(t)})}onCursorChange(i){i.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=b,b.DEFAULT_DELAY=120;function a(n,i){switch(i.triggerKind){case p.SignatureHelpTriggerKind.Invoke:return i;case p.SignatureHelpTriggerKind.ContentChange:return n;case p.SignatureHelpTriggerKind.TriggerCharacter:default:return i}}}),define(ne[779],se([1,0,14]),function(ee,e,L){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let y=k=class{constructor(S,p){this._editor=S,this._index=0,this._ckOtherSuggestions=k.OtherSuggestions.bindTo(p)}dispose(){this.reset()}reset(){var S;this._ckOtherSuggestions.reset(),(S=this._listener)===null||S===void 0||S.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:S,index:p},w){if(S.items.length===0){this.reset();return}if(k._moveIndex(!0,S,p)===p){this.reset();return}this._acceptNext=w,this._model=S,this._index=p,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(S,p,w){let v=w;for(let b=p.items.length;b>0&&(v=(v+p.items.length+(S?1:-1))%p.items.length,!(v===w||!p.items[v].completion.additionalTextEdits));b--);return v}next(){this._move(!0)}prev(){this._move(!1)}_move(S){if(this._model)try{this._ignore=!0,this._index=k._moveIndex(S,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};e.SuggestAlternatives=y,y.OtherSuggestions=new L.RawContextKey("hasOtherSuggestions",!1),e.SuggestAlternatives=y=k=De([he(1,L.IContextKeyService)],y)}),define(ne[780],se([1,0,14]),function(ee,e,L){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let y=k=class{constructor(S,p){this._editor=S,this._enabled=!1,this._ckAtEnd=k.AtEnd.bindTo(p),this._configListener=this._editor.onDidChangeConfiguration(w=>w.hasChanged(123)&&this._update()),this._update()}dispose(){var S;this._configListener.dispose(),(S=this._selectionListener)===null||S===void 0||S.dispose(),this._ckAtEnd.reset()}_update(){const S=this._editor.getOption(123)==="on";if(this._enabled!==S)if(this._enabled=S,this._enabled){const p=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const w=this._editor.getModel(),v=this._editor.getSelection(),b=w.getWordAtPosition(v.getStartPosition());if(!b){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(b.endColumn===v.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(p),p()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};e.WordContextKey=y,y.AtEnd=new L.RawContextKey("atEndOfWord",!1),e.WordContextKey=y=k=De([he(1,L.IContextKeyService)],y)}),define(ne[71],se([1,0,14,8]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,k.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new L.RawContextKey("accessibilityModeEnabled",!1)}),define(ne[781],se([1,0,59,13,7,2,54,17,334,341,501,208,36,153,241,71,6,230]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let c=class extends D.Disposable{constructor(C,_,E,I){super(),this._accessibilityService=I,this._onDidChange=this._register(new y.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new y.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new n.ComputeOptionsMemory,this.isSimpleWidget=C,this._containerObserver=this._register(new w.ElementSizeObserver(E,_.dimension)),this._targetWindowId=(0,g.getWindow)(E).vscodeWindowId,this._rawOptions=u(_),this._validatedOptions=h.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(i.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(a.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(v.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(m.PixelRatio.getInstance((0,g.getWindow)(E)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const C=this._computeOptions(),_=h.checkEquals(this.options,C);_!==null&&(this.options=C,this._onDidChangeFast.fire(_),this._onDidChange.fire(_))}_computeOptions(){const C=this._readEnvConfiguration(),_=t.BareFontInfo.createFromValidatedSettings(this._validatedOptions,C.pixelRatio,this.isSimpleWidget),E=this._readFontInfo(_),I={memory:this._computeOptionsMemory,outerWidth:C.outerWidth,outerHeight:C.outerHeight-this._reservedHeight,fontInfo:E,extraEditorClassName:C.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:C.emptySelectionClipboard,pixelRatio:C.pixelRatio,tabFocusMode:a.TabFocus.getTabFocusMode(),accessibilitySupport:C.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return h.computeOptions(this._validatedOptions,I)}_readEnvConfiguration(){return{extraEditorClassName:s(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:L.isWebKit||L.isFirefox,pixelRatio:m.PixelRatio.getInstance((0,g.getWindowById)(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(C){return v.FontMeasurements.readFontInfo((0,g.getWindowById)(this._targetWindowId,!0).window,C)}getRawOptions(){return this._rawOptions}updateOptions(C){const _=u(C);h.applyUpdate(this._rawOptions,_)&&(this._validatedOptions=h.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(C){this._containerObserver.observe(C)}setIsDominatedByLongLines(C){this._isDominatedByLongLines!==C&&(this._isDominatedByLongLines=C,this._recomputeOptions())}setModelLineCount(C){const _=d(C);this._lineNumbersDigitCount!==_&&(this._lineNumbersDigitCount=_,this._recomputeOptions())}setViewLineCount(C){this._viewLineCount!==C&&(this._viewLineCount=C,this._recomputeOptions())}setReservedHeight(C){this._reservedHeight!==C&&(this._reservedHeight=C,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(C){this._glyphMarginDecorationLaneCount!==C&&(this._glyphMarginDecorationLaneCount=C,this._recomputeOptions())}};e.EditorConfiguration=c,e.EditorConfiguration=c=De([he(3,o.IAccessibilityService)],c);function d(f){let C=0;for(;f;)f=Math.floor(f/10),C++;return C||1}function s(){let f="";return!L.isSafari&&!L.isWebkitWebView&&(f+="no-user-select "),L.isSafari&&(f+="no-minimap-shadow ",f+="enable-user-select "),p.isMacintosh&&(f+="mac "),f}class l{constructor(){this._values=[]}_read(C){return this._values[C]}get(C){return this._values[C]}_write(C,_){this._values[C]=_}}class r{constructor(){this._values=[]}_read(C){if(C>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[C]}get(C){return this._read(C)}_write(C,_){this._values[C]=_}}e.ComputedEditorOptions=r;class h{static validateOptions(C){const _=new l;for(const E of n.editorOptionsRegistry){const I=E.name==="_never_"?void 0:C[E.name];_._write(E.id,E.validate(I))}return _}static computeOptions(C,_){const E=new r;for(const I of n.editorOptionsRegistry)E._write(I.id,I.compute(_,E,C._read(I.id)));return E}static _deepEquals(C,_){if(typeof C!="object"||typeof _!="object"||!C||!_)return C===_;if(Array.isArray(C)||Array.isArray(_))return Array.isArray(C)&&Array.isArray(_)?k.equals(C,_):!1;if(Object.keys(C).length!==Object.keys(_).length)return!1;for(const E in C)if(!h._deepEquals(C[E],_[E]))return!1;return!0}static checkEquals(C,_){const E=[];let I=!1;for(const T of n.editorOptionsRegistry){const A=!h._deepEquals(C._read(T.id),_._read(T.id));E[T.id]=A,A&&(I=!0)}return I?new n.ConfigurationChangedEvent(E):null}static applyUpdate(C,_){let E=!1;for(const I of n.editorOptionsRegistry)if(_.hasOwnProperty(I.name)){const T=I.applyUpdate(C[I.name],_[I.name]);C[I.name]=T.newValue,E=E||T.didChange}return E}}function u(f){const C=S.deepClone(f);return(0,b.migrateOptions)(C),C}}),define(ne[782],se([1,0,7,52,2,54,205,22,748,25,26,14]),function(ee,e,L,k,y,D,S,p,w,v,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setContext=e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const n="data-keybinding-context";class i{constructor(E,I){this._id=E,this._parent=I,this._value=Object.create(null),this._value._contextId=E}get value(){return{...this._value}}setValue(E,I){return this._value[E]!==I?(this._value[E]=I,!0):!1}removeValue(E){return E in this._value?(delete this._value[E],!0):!1}getValue(E){const I=this._value[E];return typeof I>"u"&&this._parent?this._parent.getValue(E):I}}e.Context=i;class t extends i{constructor(){super(-1,null)}setValue(E,I){return!1}removeValue(E){return!1}getValue(E){}}t.INSTANCE=new t;class o extends i{constructor(E,I,T){super(E,null),this._configurationService=I,this._values=S.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(A=>{if(A.source===7){const R=Array.from(this._values,([M])=>M);this._values.clear(),T.fire(new c(R))}else{const R=[];for(const M of A.affectedKeys){const N=`config.${M}`,P=this._values.findSuperstr(N);P!==void 0&&(R.push(...k.Iterable.map(P,([F])=>F)),this._values.deleteSuperstr(N)),this._values.has(N)&&(R.push(N),this._values.delete(N))}T.fire(new c(R))}})}dispose(){this._listener.dispose()}getValue(E){if(E.indexOf(o._keyPrefix)!==0)return super.getValue(E);if(this._values.has(E))return this._values.get(E);const I=E.substr(o._keyPrefix.length),T=this._configurationService.getValue(I);let A;switch(typeof T){case"number":case"boolean":case"string":A=T;break;default:Array.isArray(T)?A=JSON.stringify(T):A=T}return this._values.set(E,A),A}setValue(E,I){return super.setValue(E,I)}removeValue(E){return super.removeValue(E)}}o._keyPrefix="config.";class g{constructor(E,I,T){this._service=E,this._key=I,this._defaultValue=T,this.reset()}set(E){this._service.setContext(this._key,E)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class m{constructor(E){this.key=E}affectsSome(E){return E.has(this.key)}allKeysContainedIn(E){return this.affectsSome(E)}}class c{constructor(E){this.keys=E}affectsSome(E){for(const I of this.keys)if(E.has(I))return!0;return!1}allKeysContainedIn(E){return this.keys.every(I=>E.has(I))}}class d{constructor(E){this.events=E}affectsSome(E){for(const I of this.events)if(I.affectsSome(E))return!0;return!1}allKeysContainedIn(E){return this.events.every(I=>I.allKeysContainedIn(E))}}function s(_,E){return _.allKeysContainedIn(new Set(Object.keys(E)))}class l extends y.Disposable{constructor(E){super(),this._onDidChangeContext=this._register(new L.PauseableEmitter({merge:I=>new d(I)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=E}createKey(E,I){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new g(this,E,I)}bufferChangeEvents(E){this._onDidChangeContext.pause();try{E()}finally{this._onDidChangeContext.resume()}}createScoped(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new h(this,E)}contextMatchesRules(E){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const I=this.getContextValuesContainer(this._myContextId);return E?E.evaluate(I):!0}getContextKeyValue(E){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(E)}setContext(E,I){if(this._isDisposed)return;const T=this.getContextValuesContainer(this._myContextId);T&&T.setValue(E,I)&&this._onDidChangeContext.fire(new m(E))}removeContext(E){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(E)&&this._onDidChangeContext.fire(new m(E))}getContext(E){return this._isDisposed?t.INSTANCE:this.getContextValuesContainer(u(E))}dispose(){super.dispose(),this._isDisposed=!0}}e.AbstractContextKeyService=l;let r=class extends l{constructor(E){super(0),this._contexts=new Map,this._lastContextId=0;const I=this._register(new o(this._myContextId,E,this._onDidChangeContext));this._contexts.set(this._myContextId,I)}getContextValuesContainer(E){return this._isDisposed?t.INSTANCE:this._contexts.get(E)||t.INSTANCE}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const I=++this._lastContextId;return this._contexts.set(I,new i(I,this.getContextValuesContainer(E))),I}disposeContext(E){this._isDisposed||this._contexts.delete(E)}};e.ContextKeyService=r,e.ContextKeyService=r=De([he(0,b.IConfigurationService)],r);class h extends l{constructor(E,I){if(super(E.createChildContext()),this._parentChangeListener=this._register(new y.MutableDisposable),this._parent=E,this._updateParentChangeListener(),this._domNode=I,this._domNode.hasAttribute(n)){let T="";this._domNode.classList&&(T=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${T?": "+T:""}`)}this._domNode.setAttribute(n,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(E=>{const T=this._parent.getContextValuesContainer(this._myContextId).value;s(E,T)||this._onDidChangeContext.fire(E)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(n),super.dispose())}getContextValuesContainer(E){return this._isDisposed?t.INSTANCE:this._parent.getContextValuesContainer(E)}createChildContext(E=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(E)}disposeContext(E){this._isDisposed||this._parent.disposeContext(E)}}function u(_){for(;_;){if(_.hasAttribute(n)){const E=_.getAttribute(n);return E?parseInt(E,10):NaN}_=_.parentElement}return 0}function f(_,E,I){_.get(a.IContextKeyService).createKey(String(E),C(I))}e.setContext=f;function C(_){return(0,D.cloneAndChange)(_,E=>{if(typeof E=="object"&&E.$mid===1)return p.URI.revive(E).toString();if(E instanceof p.URI)return E.toString()})}v.CommandsRegistry.registerCommand("_setContext",f),v.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...a.RawContextKey.all()].sort((_,E)=>_.key.localeCompare(E.key))},metadata:{description:(0,w.localize)(0,null),args:[]}}),v.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const _=[],E=new Set;for(const I of a.RawContextKey.all())E.has(I.key)||(E.add(I.key),_.push(I));_.sort((I,T)=>I.key.localeCompare(T.key)),console.log(JSON.stringify(_,void 0,2))})}),define(ne[195],se([1,0,17,750,14]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsMobileContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new y.RawContextKey("isMac",L.isMacintosh,(0,k.localize)(0,null)),e.IsLinuxContext=new y.RawContextKey("isLinux",L.isLinux,(0,k.localize)(1,null)),e.IsWindowsContext=new y.RawContextKey("isWindows",L.isWindows,(0,k.localize)(2,null)),e.IsWebContext=new y.RawContextKey("isWeb",L.isWeb,(0,k.localize)(3,null)),e.IsMacNativeContext=new y.RawContextKey("isMacNative",L.isMacintosh&&!L.isWeb,(0,k.localize)(4,null)),e.IsIOSContext=new y.RawContextKey("isIOS",L.isIOS,(0,k.localize)(5,null)),e.IsMobileContext=new y.RawContextKey("isMobile",L.isMobile,(0,k.localize)(6,null)),e.IsDevelopmentContext=new y.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new y.RawContextKey("productQualityType","",(0,k.localize)(7,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new y.RawContextKey(e.InputFocusedContextKey,!1,(0,k.localize)(8,null))}),define(ne[56],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,L.createDecorator)("contextViewService"),e.IContextMenuService=(0,L.createDecorator)("contextMenuService")}),define(ne[164],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,L.createDecorator)("dialogService")}),define(ne[248],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEnvironmentService=void 0,e.IEnvironmentService=(0,L.createDecorator)("environmentService")}),define(ne[249],se([1,0,8,2,26,6]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nativeHoverDelegate=e.WorkbenchHoverDelegate=e.IHoverService=void 0,e.IHoverService=(0,L.createDecorator)("hoverService");let S=class extends k.Disposable{get delay(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit?0:this._delay}constructor(w,v,b={},a,n){super(),this.placement=w,this.instantHover=v,this.overrideOptions=b,this.configurationService=a,this.hoverService=n,this.lastHoverHideTime=Number.MAX_VALUE,this.timeLimit=200,this.hoverDisposables=this._register(new k.DisposableStore),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(i=>{i.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(w,v){const b=typeof this.overrideOptions=="function"?this.overrideOptions(w,v):this.overrideOptions;this.hoverDisposables.clear();const a=w.target instanceof HTMLElement?[w.target]:w.target.targetElements;for(const n of a)this.hoverDisposables.add((0,D.addStandardDisposableListener)(n,"keydown",i=>{i.equals(9)&&this.hoverService.hideHover()}));return this.hoverService.showHover({...w,persistence:{hideOnHover:!0},...b},v)}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};e.WorkbenchHoverDelegate=S,e.WorkbenchHoverDelegate=S=De([he(3,y.IConfigurationService),he(4,e.IHoverService)],S),e.nativeHoverDelegate={showHover:function(){throw new Error("Native hover function not implemented.")},delay:0,showNativeHover:!0}}),define(ne[165],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class L{constructor(...y){this._entries=new Map;for(const[D,S]of y)this.set(D,S)}set(y,D){const S=this._entries.get(y);return this._entries.set(y,D),S}get(y){return this._entries.get(y)}}e.ServiceCollection=L}),define(ne[783],se([1,0,15,12,2,242,772,8,165,67]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const b=!1;class a extends Error{constructor(o){var g;super("cyclic dependency between services"),this.message=(g=o.findCycleSlow())!==null&&g!==void 0?g:`UNABLE to detect cycle, dumping graph: 
${o.toString()}`}}class n{constructor(o=new w.ServiceCollection,g=!1,m,c=b){var d;this._services=o,this._strict=g,this._parent=m,this._enableTracing=c,this._activeInstantiations=new Set,this._services.set(p.IInstantiationService,this),this._globalGraph=c?(d=m?._globalGraph)!==null&&d!==void 0?d:new S.Graph(s=>s):void 0}createChild(o){return new n(o,this._strict,this,this._enableTracing)}invokeFunction(o,...g){const m=i.traceInvocation(this._enableTracing,o);let c=!1;try{return o({get:s=>{if(c)throw(0,k.illegalState)("service accessor is only valid during the invocation of its target method");const l=this._getOrCreateServiceInstance(s,m);if(!l)throw new Error(`[invokeFunction] unknown service '${s}'`);return l}},...g)}finally{c=!0,m.stop()}}createInstance(o,...g){let m,c;return o instanceof D.SyncDescriptor?(m=i.traceCreation(this._enableTracing,o.ctor),c=this._createInstance(o.ctor,o.staticArguments.concat(g),m)):(m=i.traceCreation(this._enableTracing,o),c=this._createInstance(o,g,m)),m.stop(),c}_createInstance(o,g=[],m){const c=p._util.getServiceDependencies(o).sort((l,r)=>l.index-r.index),d=[];for(const l of c){const r=this._getOrCreateServiceInstance(l.id,m);r||this._throwIfStrict(`[createInstance] ${o.name} depends on UNKNOWN service ${l.id}.`,!1),d.push(r)}const s=c.length>0?c[0].index:g.length;if(g.length!==s){console.trace(`[createInstance] First service dependency of ${o.name} at position ${s+1} conflicts with ${g.length} static arguments`);const l=s-g.length;l>0?g=g.concat(new Array(l)):g=g.slice(0,s)}return Reflect.construct(o,g.concat(d))}_setServiceInstance(o,g){if(this._services.get(o)instanceof D.SyncDescriptor)this._services.set(o,g);else if(this._parent)this._parent._setServiceInstance(o,g);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(o){const g=this._services.get(o);return!g&&this._parent?this._parent._getServiceInstanceOrDescriptor(o):g}_getOrCreateServiceInstance(o,g){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(o));const m=this._getServiceInstanceOrDescriptor(o);return m instanceof D.SyncDescriptor?this._safeCreateAndCacheServiceInstance(o,m,g.branch(o,!0)):(g.branch(o,!1),m)}_safeCreateAndCacheServiceInstance(o,g,m){if(this._activeInstantiations.has(o))throw new Error(`illegal state - RECURSIVELY instantiating service '${o}'`);this._activeInstantiations.add(o);try{return this._createAndCacheServiceInstance(o,g,m)}finally{this._activeInstantiations.delete(o)}}_createAndCacheServiceInstance(o,g,m){var c;const d=new S.Graph(r=>r.id.toString());let s=0;const l=[{id:o,desc:g,_trace:m}];for(;l.length;){const r=l.pop();if(d.lookupOrInsertNode(r),s++>1e3)throw new a(d);for(const h of p._util.getServiceDependencies(r.desc.ctor)){const u=this._getServiceInstanceOrDescriptor(h.id);if(u||this._throwIfStrict(`[createInstance] ${o} depends on ${h.id} which is NOT registered.`,!0),(c=this._globalGraph)===null||c===void 0||c.insertEdge(String(r.id),String(h.id)),u instanceof D.SyncDescriptor){const f={id:h.id,desc:u,_trace:r._trace.branch(h.id,!0)};d.insertEdge(r,f),l.push(f)}}}for(;;){const r=d.roots();if(r.length===0){if(!d.isEmpty())throw new a(d);break}for(const{data:h}of r){if(this._getServiceInstanceOrDescriptor(h.id)instanceof D.SyncDescriptor){const f=this._createServiceInstanceWithOwner(h.id,h.desc.ctor,h.desc.staticArguments,h.desc.supportsDelayedInstantiation,h._trace);this._setServiceInstance(h.id,f)}d.removeNode(h)}}return this._getServiceInstanceOrDescriptor(o)}_createServiceInstanceWithOwner(o,g,m=[],c,d){if(this._services.get(o)instanceof D.SyncDescriptor)return this._createServiceInstance(o,g,m,c,d);if(this._parent)return this._parent._createServiceInstanceWithOwner(o,g,m,c,d);throw new Error(`illegalState - creating UNKNOWN service instance ${g.name}`)}_createServiceInstance(o,g,m=[],c,d){if(c){const s=new n(void 0,this._strict,this,this._enableTracing);s._globalGraphImplicitDependency=String(o);const l=new Map,r=new L.GlobalIdleValue(()=>{const h=s._createInstance(g,m,d);for(const[u,f]of l){const C=h[u];if(typeof C=="function")for(const _ of f)_.disposable=C.apply(h,_.listener)}return l.clear(),h});return new Proxy(Object.create(null),{get(h,u){if(!r.isInitialized&&typeof u=="string"&&(u.startsWith("onDid")||u.startsWith("onWill"))){let _=l.get(u);return _||(_=new v.LinkedList,l.set(u,_)),(I,T,A)=>{if(r.isInitialized)return r.value[u](I,T,A);{const R={listener:[I,T,A],disposable:void 0},M=_.push(R);return(0,y.toDisposable)(()=>{var P;M(),(P=R.disposable)===null||P===void 0||P.dispose()})}}}if(u in h)return h[u];const f=r.value;let C=f[u];return typeof C!="function"||(C=C.bind(f),h[u]=C),C},set(h,u,f){return r.value[u]=f,!0},getPrototypeOf(h){return g.prototype}})}else return this._createInstance(g,m,d)}_throwIfStrict(o,g){if(g&&console.warn(o),this._strict)throw new Error(o)}}e.InstantiationService=n;class i{static traceInvocation(o,g){return o?new i(2,g.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):i._None}static traceCreation(o,g){return o?new i(1,g.name):i._None}constructor(o,g){this.type=o,this.name=g,this._start=Date.now(),this._dep=[]}branch(o,g){const m=new i(3,o.toString());return this._dep.push([o,g,m]),m}stop(){const o=Date.now()-this._start;i._totals+=o;let g=!1;function m(d,s){const l=[],r=new Array(d+1).join("	");for(const[h,u,f]of s._dep)if(u&&f){g=!0,l.push(`${r}CREATES -> ${h}`);const C=m(d+1,f);C&&l.push(C)}else l.push(`${r}uses -> ${h}`);return l.join(`
`)}const c=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${m(1,this)}`,`DONE, took ${o.toFixed(2)}ms (grand total ${i._totals.toFixed(2)}ms)`];(o>2||g)&&i.all.add(c.join(`
`))}}e.Trace=i,i.all=new Set,i._None=new class extends i{constructor(){super(0,null)}stop(){}branch(){return this}},i._totals=0}),define(ne[784],se([1,0,12,224,127]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends y.ResolvedKeybinding{constructor(p,w){if(super(),w.length===0)throw(0,L.illegalArgument)("chords");this._os=p,this._chords=w}getLabel(){return k.UILabelProvider.toLabel(this._os,this._chords,p=>this._getLabel(p))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._chords,p=>this._getAriaLabel(p))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:k.ElectronAcceleratorLabelProvider.toLabel(this._os,this._chords,p=>this._getElectronAccelerator(p))}getUserSettingsLabel(){return k.UserSettingsLabelProvider.toLabel(this._os,this._chords,p=>this._getUserSettingsLabel(p))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(p=>this._getChord(p))}_getChord(p){return new y.ResolvedChord(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,this._getLabel(p),this._getAriaLabel(p))}getDispatchChords(){return this._chords.map(p=>this._getChordDispatch(p))}getSingleModifierDispatchChords(){return this._chords.map(p=>this._getSingleModifierChordDispatch(p))}}e.BaseResolvedKeybinding=D}),define(ne[34],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,L.createDecorator)("keybindingService")}),define(ne[353],se([1,0,6,235,42,7,2,142,245,14,56,8,34,465]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.PostEditWidgetManager=void 0;let t=i=class extends S.Disposable{constructor(m,c,d,s,l,r,h,u,f,C){super(),this.typeId=m,this.editor=c,this.showCommand=s,this.range=l,this.edits=r,this.onSelectNewEdit=h,this._contextMenuService=u,this._keybindingService=C,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=d.bindTo(f),this.visibleContext.set(!0),this._register((0,S.toDisposable)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,S.toDisposable)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(_=>{l.containsPosition(_.position)||this.dispose()})),this._register(D.Event.runAndSubscribe(C.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var m;const c=(m=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||m===void 0?void 0:m.getLabel();this.button.element.title=this.showCommand.label+(c?` (${c})`:"")}create(){this.domNode=L.$(".post-edit-widget"),this.button=this._register(new k.Button(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(L.addDisposableListener(this.domNode,L.EventType.CLICK,()=>this.showSelector()))}getId(){return i.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const m=L.getDomNodePagePosition(this.button.element);return{x:m.left+m.width,y:m.top+m.height}},getActions:()=>this.edits.allEdits.map((m,c)=>(0,y.toAction)({id:"",label:m.label,checked:c===this.edits.activeEditIndex,run:()=>{if(c!==this.edits.activeEditIndex)return this.onSelectNewEdit(c)}}))})}};t.baseId="editor.widget.postEditWidget",t=i=De([he(7,b.IContextMenuService),he(8,v.IContextKeyService),he(9,n.IKeybindingService)],t);let o=class extends S.Disposable{constructor(m,c,d,s,l,r){super(),this._id=m,this._editor=c,this._visibleContext=d,this._showCommand=s,this._instantiationService=l,this._bulkEditService=r,this._currentWidget=this._register(new S.MutableDisposable),this._register(D.Event.any(c.onDidChangeModel,c.onDidChangeModelContent)(()=>this.clear()))}async applyEditAndShowIfNeeded(m,c,d,s){const l=this._editor.getModel();if(!l||!m.length)return;const r=c.allEdits[c.activeEditIndex];if(!r)return;const h=(0,w.createCombinedWorkspaceEdit)(l.uri,m,r),u=m[0],f=l.deltaDecorations([],[{range:u,options:{description:"paste-line-suffix",stickiness:0}}]);let C,_;try{C=await this._bulkEditService.apply(h,{editor:this._editor,token:s}),_=l.getDecorationRange(f[0])}finally{l.deltaDecorations(f,[])}d&&C.isApplied&&c.allEdits.length>1&&this.show(_??u,c,async E=>{const I=this._editor.getModel();I&&(await I.undo(),this.applyEditAndShowIfNeeded(m,{activeEditIndex:E,allEdits:c.allEdits},d,s))})}show(m,c,d){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(t,this._id,this._editor,this._visibleContext,this._showCommand,m,c,d))}clear(){this._currentWidget.clear()}tryShowSelector(){var m;(m=this._currentWidget.value)===null||m===void 0||m.showSelector()}};e.PostEditWidgetManager=o,e.PostEditWidgetManager=o=De([he(4,a.IInstantiationService),he(5,p.IBulkEditService)],o)}),define(ne[354],se([1,0,14]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=e.NoMatchingKb=void 0,e.NoMatchingKb={kind:0};const k={kind:1};function y(w,v,b){return{kind:2,commandId:w,commandArgs:v,isBubble:b}}class D{constructor(v,b,a){var n;this._log=a,this._defaultKeybindings=v,this._defaultBoundCommands=new Map;for(const i of v){const t=i.command;t&&t.charAt(0)!=="-"&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=D.handleRemovals([].concat(v).concat(b));for(let i=0,t=this._keybindings.length;i<t;i++){const o=this._keybindings[i];if(o.chords.length===0)continue;const g=(n=o.when)===null||n===void 0?void 0:n.substituteConstants();g&&g.type===0||this._addKeyPress(o.chords[0],o)}}static _isTargetedForRemoval(v,b,a){if(b){for(let n=0;n<b.length;n++)if(b[n]!==v.chords[n])return!1}return!(a&&a.type!==1&&(!v.when||!(0,L.expressionsAreEqualWithConstantSubstitution)(a,v.when)))}static handleRemovals(v){const b=new Map;for(let n=0,i=v.length;n<i;n++){const t=v[n];if(t.command&&t.command.charAt(0)==="-"){const o=t.command.substring(1);b.has(o)?b.get(o).push(t):b.set(o,[t])}}if(b.size===0)return v;const a=[];for(let n=0,i=v.length;n<i;n++){const t=v[n];if(!t.command||t.command.length===0){a.push(t);continue}if(t.command.charAt(0)==="-")continue;const o=b.get(t.command);if(!o||!t.isDefault){a.push(t);continue}let g=!1;for(const m of o){const c=m.when;if(this._isTargetedForRemoval(t,m.chords,c)){g=!0;break}}if(!g){a.push(t);continue}}return a}_addKeyPress(v,b){const a=this._map.get(v);if(typeof a>"u"){this._map.set(v,[b]),this._addToLookupMap(b);return}for(let n=a.length-1;n>=0;n--){const i=a[n];if(i.command===b.command)continue;let t=!0;for(let o=1;o<i.chords.length&&o<b.chords.length;o++)if(i.chords[o]!==b.chords[o]){t=!1;break}t&&D.whenIsEntirelyIncluded(i.when,b.when)&&this._removeFromLookupMap(i)}a.push(b),this._addToLookupMap(b)}_addToLookupMap(v){if(!v.command)return;let b=this._lookupMap.get(v.command);typeof b>"u"?(b=[v],this._lookupMap.set(v.command,b)):b.push(v)}_removeFromLookupMap(v){if(!v.command)return;const b=this._lookupMap.get(v.command);if(!(typeof b>"u")){for(let a=0,n=b.length;a<n;a++)if(b[a]===v){b.splice(a,1);return}}}static whenIsEntirelyIncluded(v,b){return!b||b.type===1?!0:!v||v.type===1?!1:(0,L.implies)(v,b)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(v,b){const a=this._lookupMap.get(v);if(typeof a>"u"||a.length===0)return null;if(a.length===1)return a[0];for(let n=a.length-1;n>=0;n--){const i=a[n];if(b.contextMatchesRules(i.when))return i}return a[a.length-1]}resolve(v,b,a){const n=[...b,a];this._log(`| Resolving ${n}`);const i=this._map.get(n[0]);if(i===void 0)return this._log("\\ No keybinding entries."),e.NoMatchingKb;let t=null;if(n.length<2)t=i;else{t=[];for(let g=0,m=i.length;g<m;g++){const c=i[g];if(n.length>c.chords.length)continue;let d=!0;for(let s=1;s<n.length;s++)if(c.chords[s]!==n[s]){d=!1;break}d&&t.push(c)}}const o=this._findCommand(v,t);return o?n.length<o.chords.length?(this._log(`\\ From ${t.length} keybinding entries, awaiting ${o.chords.length-n.length} more chord(s), when: ${S(o.when)}, source: ${p(o)}.`),k):(this._log(`\\ From ${t.length} keybinding entries, matched ${o.command}, when: ${S(o.when)}, source: ${p(o)}.`),y(o.command,o.commandArgs,o.bubble)):(this._log(`\\ From ${t.length} keybinding entries, no when clauses matched the context.`),e.NoMatchingKb)}_findCommand(v,b){for(let a=b.length-1;a>=0;a--){const n=b[a];if(D._contextMatchesRules(v,n.when))return n}return null}static _contextMatchesRules(v,b){return b?b.evaluate(v):!0}}e.KeybindingResolver=D;function S(w){return w?`${w.serialize()}`:"no when condition"}function p(w){return w.extensionId?w.isBuiltinExtension?`built-in extension ${w.extensionId}`:`user extension ${w.extensionId}`:w.isDefault?"built-in":"user"}}),define(ne[785],se([1,0,15,12,7,278,2,753,354]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const v=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class b extends S.Disposable{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:y.Event.None}get inChordMode(){return this._currentChords.length>0}constructor(i,t,o,g,m){super(),this._contextKeyService=i,this._commandService=t,this._telemetryService=o,this._notificationService=g,this._logService=m,this._onDidUpdateKeybindings=this._register(new y.Emitter),this._currentChords=[],this._currentChordChecker=new L.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=a.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new L.TimeoutTimer,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(i){this._logging&&this._logService.info(`[KeybindingService]: ${i}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(i,t){const o=this._getResolver().lookupPrimaryKeybinding(i,t||this._contextKeyService);if(o)return o.resolvedKeybinding}dispatchEvent(i,t){return this._dispatch(i,t)}softDispatch(i,t){this._log("/ Soft dispatching keyboard event");const o=this.resolveKeyboardEvent(i);if(o.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),w.NoMatchingKb;const[g]=o.getDispatchChords();if(g===null)return this._log("\\ Keyboard event cannot be dispatched"),w.NoMatchingKb;const m=this._contextKeyService.getContext(t),c=this._currentChords.map(({keypress:d})=>d);return this._getResolver().resolve(m,c,g)}_scheduleLeaveChordMode(){const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(i,t){switch(this._currentChords.push({keypress:i,label:t}),this._currentChords.length){case 0:throw(0,k.illegalState)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(p.localize(0,null,t));break;default:{const o=this._currentChords.map(({label:g})=>g).join(", ");this._currentChordStatusMessage=this._notificationService.status(p.localize(1,null,o))}}this._scheduleLeaveChordMode(),D.IME.enabled&&D.IME.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],D.IME.enable()}_dispatch(i,t){return this._doDispatch(this.resolveKeyboardEvent(i),t,!1)}_singleModifierDispatch(i,t){const o=this.resolveKeyboardEvent(i),[g]=o.getSingleModifierDispatchChords();if(g)return this._ignoreSingleModifiers.has(g)?(this._log(`+ Ignoring single modifier ${g} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=a.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=a.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${g}.`),this._currentSingleModifier=g,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):g===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${g} ${g}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(o,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${g}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[m]=o.getChords();return this._ignoreSingleModifiers=new a(m),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(i,t,o=!1){var g;let m=!1;if(i.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let c=null,d=null;if(o){const[h]=i.getSingleModifierDispatchChords();c=h,d=h?[h]:[]}else[c]=i.getDispatchChords(),d=this._currentChords.map(({keypress:h})=>h);if(c===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),m;const s=this._contextKeyService.getContext(t),l=i.getLabel(),r=this._getResolver().resolve(s,d,c);switch(r.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",l,"[ No matching keybinding ]"),this.inChordMode){const h=this._currentChords.map(({label:u})=>u).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${h}, ${l}".`),this._notificationService.status(p.localize(2,null,h,l),{hideAfter:10*1e3}),this._leaveChordMode(),m=!0}return m}case 1:return this._logService.trace("KeybindingService#dispatch",l,"[ Several keybindings match - more chords needed ]"),m=!0,this._expectAnotherChord(c,l),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),m;case 2:{if(this._logService.trace("KeybindingService#dispatch",l,`[ Will dispatch command ${r.commandId} ]`),r.commandId===null||r.commandId===""){if(this.inChordMode){const h=this._currentChords.map(({label:u})=>u).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${h}, ${l}".`),this._notificationService.status(p.localize(3,null,h,l),{hideAfter:10*1e3}),this._leaveChordMode(),m=!0}}else{this.inChordMode&&this._leaveChordMode(),r.isBubble||(m=!0),this._log(`+ Invoking command ${r.commandId}.`),this._currentlyDispatchingCommandId=r.commandId;try{typeof r.commandArgs>"u"?this._commandService.executeCommand(r.commandId).then(void 0,h=>this._notificationService.warn(h)):this._commandService.executeCommand(r.commandId,r.commandArgs).then(void 0,h=>this._notificationService.warn(h))}finally{this._currentlyDispatchingCommandId=null}v.test(r.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:r.commandId,from:"keybinding",detail:(g=i.getUserSettingsLabel())!==null&&g!==void 0?g:void 0})}return m}}}mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30}}e.AbstractKeybindingService=b;class a{constructor(i){this._ctrlKey=i?i.ctrlKey:!1,this._shiftKey=i?i.shiftKey:!1,this._altKey=i?i.altKey:!1,this._metaKey=i?i.metaKey:!1}has(i){switch(i){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}a.EMPTY=new a(null)}),define(ne[355],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toEmptyArrayIfContainsNull=e.ResolvedKeybindingItem=void 0;class L{constructor(D,S,p,w,v,b,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.chords=D?k(D.getDispatchChords()):[],D&&this.chords.length===0&&(this.chords=k(D.getSingleModifierDispatchChords())),this.bubble=S?S.charCodeAt(0)===94:!1,this.command=this.bubble?S.substr(1):S,this.commandArgs=p,this.when=w,this.isDefault=v,this.extensionId=b,this.isBuiltinExtension=a}}e.ResolvedKeybindingItem=L;function k(y){const D=[];for(let S=0,p=y.length;S<p;S++){const w=y[S];if(!w)return[];D.push(w)}return D}e.toEmptyArrayIfContainsNull=k}),define(ne[786],se([1,0,66,127,784,355]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class S extends y.BaseResolvedKeybinding{constructor(w,v){super(v,w)}_keyCodeToUILabel(w){if(this._os===2)switch(w){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return L.KeyCodeUtils.toString(w)}_getLabel(w){return w.isDuplicateModifierCase()?"":this._keyCodeToUILabel(w.keyCode)}_getAriaLabel(w){return w.isDuplicateModifierCase()?"":L.KeyCodeUtils.toString(w.keyCode)}_getElectronAccelerator(w){return L.KeyCodeUtils.toElectronAccelerator(w.keyCode)}_getUserSettingsLabel(w){if(w.isDuplicateModifierCase())return"";const v=L.KeyCodeUtils.toUserSettingsUS(w.keyCode);return v&&v.toLowerCase()}_getChordDispatch(w){return S.getDispatchStr(w)}static getDispatchStr(w){if(w.isModifierKey())return null;let v="";return w.ctrlKey&&(v+="ctrl+"),w.shiftKey&&(v+="shift+"),w.altKey&&(v+="alt+"),w.metaKey&&(v+="meta+"),v+=L.KeyCodeUtils.toString(w.keyCode),v}_getSingleModifierChordDispatch(w){return w.keyCode===5&&!w.shiftKey&&!w.altKey&&!w.metaKey?"ctrl":w.keyCode===4&&!w.ctrlKey&&!w.altKey&&!w.metaKey?"shift":w.keyCode===6&&!w.ctrlKey&&!w.shiftKey&&!w.metaKey?"alt":w.keyCode===57&&!w.ctrlKey&&!w.shiftKey&&!w.altKey?"meta":null}static _scanCodeToKeyCode(w){const v=L.IMMUTABLE_CODE_TO_KEY_CODE[w];if(v!==-1)return v;switch(w){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(w){if(!w)return null;if(w instanceof k.KeyCodeChord)return w;const v=this._scanCodeToKeyCode(w.scanCode);return v===0?null:new k.KeyCodeChord(w.ctrlKey,w.shiftKey,w.altKey,w.metaKey,v)}static resolveKeybinding(w,v){const b=(0,D.toEmptyArrayIfContainsNull)(w.chords.map(a=>this._toKeyCodeChord(a)));return b.length>0?[new S(b,v)]:[]}}e.USLayoutResolvedKeybinding=S}),define(ne[166],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,L.createDecorator)("labelService")}),define(ne[125],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,L.createDecorator)("layoutService")}),define(ne[356],se([1,0,6,50,13,7,35,45,125]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let v=class{get mainContainer(){var n,i;return(i=(n=(0,y.firstOrDefault)(this._codeEditorService.listCodeEditors()))===null||n===void 0?void 0:n.getContainerDomNode())!==null&&i!==void 0?i:k.mainWindow.document.body}get activeContainer(){var n,i;const t=(n=this._codeEditorService.getFocusedCodeEditor())!==null&&n!==void 0?n:this._codeEditorService.getActiveCodeEditor();return(i=t?.getContainerDomNode())!==null&&i!==void 0?i:this.mainContainer}get mainContainerDimension(){return L.getClientArea(this.mainContainer)}get activeContainerDimension(){return L.getClientArea(this.activeContainer)}get containers(){return(0,y.coalesce)(this._codeEditorService.listCodeEditors().map(n=>n.getContainerDomNode()))}getContainer(){return this.activeContainer}focus(){var n;(n=this._codeEditorService.getFocusedCodeEditor())===null||n===void 0||n.focus()}constructor(n){this._codeEditorService=n,this.onDidLayoutMainContainer=D.Event.None,this.onDidLayoutActiveContainer=D.Event.None,this.onDidLayoutContainer=D.Event.None,this.onDidChangeActiveContainer=D.Event.None,this.onDidAddContainer=D.Event.None,this.whenActiveContainerStylesLoaded=Promise.resolve(),this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};v=De([he(0,S.ICodeEditorService)],v);let b=class extends v{get mainContainer(){return this._container}constructor(n,i){super(i),this._container=n}};e.EditorScopedLayoutService=b,e.EditorScopedLayoutService=b=De([he(1,S.ICodeEditorService)],b),(0,p.registerSingleton)(w.ILayoutService,v,1)}),define(ne[787],se([1,0,6,50,7,2,71,26,14,125]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let b=class extends D.Disposable{constructor(n,i,t){super(),this._contextKeyService=n,this._layoutService=i,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new y.Emitter,this._onDidChangeReducedMotion=new y.Emitter,this._accessibilityModeEnabledContext=S.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const o=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(m=>{m.affectsConfiguration("editor.accessibilitySupport")&&(o(),this._onDidChangeScreenReaderOptimized.fire()),m.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),o(),this._register(this.onDidChangeScreenReaderOptimized(()=>o()));const g=k.mainWindow.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=g.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(g)}initReducedMotionListeners(n){this._register((0,L.addDisposableListener)(n,"change",()=>{this._systemMotionReduced=n.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const i=()=>{const t=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",t),this._layoutService.mainContainer.classList.toggle("enable-motion",!t)};i(),this._register(this.onDidChangeReducedMotion(()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const n=this._configurationService.getValue("editor.accessibilitySupport");return n==="on"||n==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const n=this._configMotionReduced;return n==="on"||n==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};e.AccessibilityService=b,e.AccessibilityService=b=De([he(0,w.IContextKeyService),he(1,v.ILayoutService),he(2,p.IConfigurationService)],b)}),define(ne[788],se([1,0,325,2,125,6]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let S=class extends k.Disposable{constructor(w){super(),this.layoutService=w,this.currentViewDisposable=k.Disposable.None,this.contextView=this._register(new L.ContextView(this.layoutService.mainContainer,1)),this.layout(),this._register(w.onDidLayoutContainer(()=>this.layout()))}showContextView(w,v,b){let a;v?v===this.layoutService.getContainer((0,D.getWindow)(v))?a=1:b?a=3:a=2:a=1,this.contextView.setContainer(v??this.layoutService.activeContainer,a),this.contextView.show(w);const n=(0,k.toDisposable)(()=>{this.currentViewDisposable===n&&this.hideContextView()});return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(w){this.contextView.hide(w)}dispose(){super.dispose(),this.currentViewDisposable.dispose(),this.currentViewDisposable=k.Disposable.None}};e.ContextViewService=S,e.ContextViewService=S=De([he(0,y.ILayoutService)],S)}),define(ne[60],se([1,0,7,2,14,8]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_LOG_LEVEL=e.LogLevelToString=e.MultiplexLogger=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,D.createDecorator)("logService");var S;(function(a){a[a.Off=0]="Off",a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error"})(S||(e.LogLevel=S={})),e.DEFAULT_LOG_LEVEL=S.Info;class p extends k.Disposable{constructor(){super(...arguments),this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new L.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(n){this.level!==n&&(this.level=n,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(n){return this.level!==S.Off&&this.level<=n}}e.AbstractLogger=p;class w extends p{constructor(n=e.DEFAULT_LOG_LEVEL,i=!0){super(),this.useColors=i,this.setLevel(n)}trace(n,...i){this.checkLogLevel(S.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",n,...i):console.log(n,...i))}debug(n,...i){this.checkLogLevel(S.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",n,...i):console.log(n,...i))}info(n,...i){this.checkLogLevel(S.Info)&&(this.useColors?console.log("%c INFO","color: #33f",n,...i):console.log(n,...i))}warn(n,...i){this.checkLogLevel(S.Warning)&&(this.useColors?console.log("%c WARN","color: #993",n,...i):console.log(n,...i))}error(n,...i){this.checkLogLevel(S.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",n,...i):console.error(n,...i))}}e.ConsoleLogger=w;class v extends p{constructor(n){super(),this.loggers=n,n.length&&this.setLevel(n[0].getLevel())}setLevel(n){for(const i of this.loggers)i.setLevel(n);super.setLevel(n)}trace(n,...i){for(const t of this.loggers)t.trace(n,...i)}debug(n,...i){for(const t of this.loggers)t.debug(n,...i)}info(n,...i){for(const t of this.loggers)t.info(n,...i)}warn(n,...i){for(const t of this.loggers)t.warn(n,...i)}error(n,...i){for(const t of this.loggers)t.error(n,...i)}dispose(){for(const n of this.loggers)n.dispose();super.dispose()}}e.MultiplexLogger=v;function b(a){switch(a){case S.Trace:return"trace";case S.Debug:return"debug";case S.Info:return"info";case S.Warning:return"warn";case S.Error:return"error";case S.Off:return"off"}}e.LogLevelToString=b,e.CONTEXT_LOG_LEVEL=new y.RawContextKey("logLevel",b(S.Info))}),define(ne[196],se([1,0,59,6,84,46,273,15,7,2,113,11,288,23,71,60]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.ClipboardEventUtils=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var g;(function(l){l.Tap="-monaco-textarea-synthetic-tap"})(g||(e.TextAreaSyntethicEvents=g={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class m{constructor(){this._lastState=null}set(r,h){this._lastState={lastCopiedValue:r,data:h}}get(r){return this._lastState&&this._lastState.lastCopiedValue===r?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=m,m.INSTANCE=new m;class c{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(r){r=r||"";const h={text:r,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=r.length,h}}let d=class extends v.Disposable{get textAreaState(){return this._textAreaState}constructor(r,h,u,f,C,_){super(),this._host=r,this._textArea=h,this._OS=u,this._browser=f,this._accessibilityService=C,this._logService=_,this._onFocus=this._register(new w.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new w.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new w.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new w.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new w.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new w.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new w.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new w.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new w.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new w.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new v.MutableDisposable),this._asyncTriggerCut=this._register(new p.RunOnceScheduler(()=>this._onCut.fire(),0)),this._textAreaState=n.TextAreaState.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(w.Event.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new p.RunOnceScheduler(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let E=null;this._register(this._textArea.onKeyDown(I=>{const T=new D.StandardKeyboardEvent(I);(T.keyCode===114||this._currentComposition&&T.keyCode===1)&&T.stopPropagation(),T.equals(9)&&T.preventDefault(),E=T,this._onKeyDown.fire(T)})),this._register(this._textArea.onKeyUp(I=>{const T=new D.StandardKeyboardEvent(I);this._onKeyUp.fire(T)})),this._register(this._textArea.onCompositionStart(I=>{n._debugComposition&&console.log("[compositionstart]",I);const T=new c;if(this._currentComposition){this._currentComposition=T;return}if(this._currentComposition=T,this._OS===2&&E&&E.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===I.data&&(E.code==="ArrowRight"||E.code==="ArrowLeft")){n._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",I),T.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:I.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:I.data});return}this._onCompositionStart.fire({data:I.data})})),this._register(this._textArea.onCompositionUpdate(I=>{n._debugComposition&&console.log("[compositionupdate]",I);const T=this._currentComposition;if(!T)return;if(this._browser.isAndroid){const R=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),M=n.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,R);this._textAreaState=R,this._onType.fire(M),this._onCompositionUpdate.fire(I);return}const A=T.handleCompositionUpdate(I.data);this._textAreaState=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(A),this._onCompositionUpdate.fire(I)})),this._register(this._textArea.onCompositionEnd(I=>{n._debugComposition&&console.log("[compositionend]",I);const T=this._currentComposition;if(!T)return;if(this._currentComposition=null,this._browser.isAndroid){const R=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),M=n.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,R);this._textAreaState=R,this._onType.fire(M),this._onCompositionEnd.fire();return}const A=T.handleCompositionUpdate(I.data);this._textAreaState=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(A),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(I=>{if(n._debugComposition&&console.log("[input]",I),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const T=n.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),A=n.TextAreaState.deduceInput(this._textAreaState,T,this._OS===2);A.replacePrevCharCnt===0&&A.text.length===1&&(a.isHighSurrogate(A.text.charCodeAt(0))||A.text.charCodeAt(0)===127)||(this._textAreaState=T,(A.text!==""||A.replacePrevCharCnt!==0||A.replaceNextCharCnt!==0||A.positionDelta!==0)&&this._onType.fire(A))})),this._register(this._textArea.onCut(I=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(I),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(I=>{this._ensureClipboardGetsEditorSelection(I)})),this._register(this._textArea.onPaste(I=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),I.preventDefault(),!I.clipboardData)return;let[T,A]=e.ClipboardEventUtils.getTextData(I.clipboardData);T&&(A=A||m.INSTANCE.get(T),this._onPaste.fire({text:T,metadata:A}))})),this._register(this._textArea.onFocus(()=>{const I=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!I&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new p.RunOnceScheduler(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let r=0;return k.addDisposableListener(this._textArea.ownerDocument,"selectionchange",h=>{if(S.inputLatency.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const u=Date.now(),f=u-r;if(r=u,f<5)return;const C=u-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),C<100||!this._textAreaState.selection)return;const _=this._textArea.getValue();if(this._textAreaState.value!==_)return;const E=this._textArea.getSelectionStart(),I=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===E&&this._textAreaState.selectionEnd===I)return;const T=this._textAreaState.deduceEditorPosition(E),A=this._host.deduceModelPosition(T[0],T[1],T[2]),R=this._textAreaState.deduceEditorPosition(I),M=this._host.deduceModelPosition(R[0],R[1],R[2]),N=new i.Selection(A.lineNumber,A.column,M.lineNumber,M.column);this._onSelectionChangeRequest.fire(N)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(r){this._hasFocus!==r&&(this._hasFocus=r,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(r,h){this._hasFocus||(h=h.collapseSelection()),h.writeToTextArea(r,this._textArea,this._hasFocus),this._textAreaState=h}writeNativeTextAreaContent(r){!this._accessibilityService.isScreenReaderOptimized()&&r==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${r})`),this._setAndWriteTextAreaState(r,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(r){const h=this._host.getDataToCopy(),u={version:1,isFromEmptySelection:h.isFromEmptySelection,multicursorText:h.multicursorText,mode:h.mode};m.INSTANCE.set(this._browser.isFirefox?h.text.replace(/\r\n/g,`
`):h.text,u),r.preventDefault(),r.clipboardData&&e.ClipboardEventUtils.setTextData(r.clipboardData,h.text,h.html,u)}};e.TextAreaInput=d,e.TextAreaInput=d=De([he(4,t.IAccessibilityService),he(5,o.ILogService)],d),e.ClipboardEventUtils={getTextData(l){const r=l.getData(b.Mimes.text);let h=null;const u=l.getData("vscode-editor-data");if(typeof u=="string")try{h=JSON.parse(u),h.version!==1&&(h=null)}catch{}return r.length===0&&h===null&&l.files.length>0?[Array.prototype.slice.call(l.files,0).map(C=>C.name).join(`
`),null]:[r,h]},setTextData(l,r,h,u){l.setData(b.Mimes.text,r),typeof h=="string"&&l.setData("text/html",h),l.setData("vscode-editor-data",JSON.stringify(u))}};class s extends v.Disposable{get ownerDocument(){return this._actual.ownerDocument}constructor(r){super(),this._actual=r,this.onKeyDown=this._register(new y.DomEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(new y.DomEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(new y.DomEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new y.DomEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new y.DomEmitter(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new y.DomEmitter(this._actual,"beforeinput")).event,this.onInput=this._register(new y.DomEmitter(this._actual,"input")).event,this.onCut=this._register(new y.DomEmitter(this._actual,"cut")).event,this.onCopy=this._register(new y.DomEmitter(this._actual,"copy")).event,this.onPaste=this._register(new y.DomEmitter(this._actual,"paste")).event,this.onFocus=this._register(new y.DomEmitter(this._actual,"focus")).event,this.onBlur=this._register(new y.DomEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new w.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>S.inputLatency.onKeyDown())),this._register(this.onBeforeInput(()=>S.inputLatency.onBeforeInput())),this._register(this.onInput(()=>S.inputLatency.onInput())),this._register(this.onKeyUp(()=>S.inputLatency.onKeyUp())),this._register(k.addDisposableListener(this._actual,g.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const r=k.getShadowRoot(this._actual);return r?r.activeElement===this._actual:this._actual.isConnected?k.getActiveElement()===this._actual:!1}setIgnoreSelectionChangeTime(r){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(r,h){const u=this._actual;u.value!==h&&(this.setIgnoreSelectionChangeTime("setValue"),u.value=h)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(r,h,u){const f=this._actual;let C=null;const _=k.getShadowRoot(f);_?C=_.activeElement:C=k.getActiveElement();const E=k.getWindow(C),I=C===f,T=f.selectionStart,A=f.selectionEnd;if(I&&T===h&&A===u){L.isFirefox&&E.parent!==E&&f.focus();return}if(I){this.setIgnoreSelectionChangeTime("setSelectionRange"),f.setSelectionRange(h,u),L.isFirefox&&E.parent!==E&&f.focus();return}try{const R=k.saveParentsScrollTop(f);this.setIgnoreSelectionChangeTime("setSelectionRange"),f.focus(),f.setSelectionRange(h,u),k.restoreParentsScrollTop(f,R)}catch{}}}e.TextAreaWrapper=s}),define(ne[80],se([1,0,114,53,128,248,45,8,60,47]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,p.createDecorator)("ILanguageFeatureDebounceService");var b;(function(t){const o=new WeakMap;let g=0;function m(c){let d=o.get(c);return d===void 0&&(d=++g,o.set(c,d)),d}t.of=m})(b||(b={}));class a{constructor(o){this._default=o}get(o){return this._default}update(o,g){return this._default}default(){return this._default}}class n{constructor(o,g,m,c,d,s){this._logService=o,this._name=g,this._registry=m,this._default=c,this._min=d,this._max=s,this._cache=new k.LRUCache(50,.7)}_key(o){return o.id+this._registry.all(o).reduce((g,m)=>(0,L.doHash)(b.of(m),g),0)}get(o){const g=this._key(o),m=this._cache.get(g);return m?(0,y.clamp)(m.value,this._min,this._max):this.default()}update(o,g){const m=this._key(o);let c=this._cache.get(m);c||(c=new y.SlidingWindowAverage(6),this._cache.set(m,c));const d=(0,y.clamp)(c.update(g),this._min,this._max);return(0,v.matchesScheme)(o.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${o.uri.toString()} is ${d}ms`),d}_overall(){const o=new y.MovingAverage;for(const[,g]of this._cache)o.update(g.value);return o.value}default(){const o=this._overall()|0||this._default;return(0,y.clamp)(o,this._min,this._max)}}let i=class{constructor(o,g){this._logService=o,this._data=new Map,this._isDev=g.isExtensionDevelopment||!g.isBuilt}for(o,g,m){var c,d,s;const l=(c=m?.min)!==null&&c!==void 0?c:50,r=(d=m?.max)!==null&&d!==void 0?d:l**2,h=(s=m?.key)!==null&&s!==void 0?s:void 0,u=`${b.of(o)},${l}${h?","+h:""}`;let f=this._data.get(u);return f||(this._isDev?f=new n(this._logService,g,o,this._overallAverage()|0||l*1.5,l,r):(this._logService.debug(`[DEBOUNCE: ${g}] is disabled in developed mode`),f=new a(l*1.5)),this._data.set(u,f)),f}_overallAverage(){const o=new y.MovingAverage;for(const g of this._data.values())o.update(g.default());return o.value}};e.LanguageFeatureDebounceService=i,e.LanguageFeatureDebounceService=i=De([he(0,w.ILogService),he(1,D.IEnvironmentService)],i),(0,S.registerSingleton)(e.ILanguageFeatureDebounceService,i,1)}),define(ne[167],se([1,0,13,19,12,52,53,9,5,80,8,45,51,2,18]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class o{remove(){var l;(l=this.parent)===null||l===void 0||l.children.delete(this.id)}static findId(l,r){let h;typeof l=="string"?h=`${r.id}/${l}`:(h=`${r.id}/${l.name}`,r.children.get(h)!==void 0&&(h=`${r.id}/${l.name}_${l.range.startLineNumber}_${l.range.startColumn}`));let u=h;for(let f=0;r.children.get(u)!==void 0;f++)u=`${h}_${f}`;return u}static empty(l){return l.children.size===0}}e.TreeElement=o;class g extends o{constructor(l,r,h){super(),this.id=l,this.parent=r,this.symbol=h,this.children=new Map}}e.OutlineElement=g;class m extends o{constructor(l,r,h,u){super(),this.id=l,this.parent=r,this.label=h,this.order=u,this.children=new Map}}e.OutlineGroup=m;class c extends o{static create(l,r,h){const u=new k.CancellationTokenSource(h),f=new c(r.uri),C=l.ordered(r),_=C.map((I,T)=>{var A;const R=o.findId(`provider_${T}`,f),M=new m(R,f,(A=I.displayName)!==null&&A!==void 0?A:"Unknown Outline Provider",T);return Promise.resolve(I.provideDocumentSymbols(r,u.token)).then(N=>{for(const P of N||[])c._makeOutlineElement(P,M);return M},N=>((0,y.onUnexpectedExternalError)(N),M)).then(N=>{o.empty(N)?N.remove():f._groups.set(R,N)})}),E=l.onDidChange(()=>{const I=l.ordered(r);(0,L.equals)(I,C)||u.cancel()});return Promise.all(_).then(()=>u.token.isCancellationRequested&&!h.isCancellationRequested?c.create(l,r,h):f._compact()).finally(()=>{u.dispose(),E.dispose(),u.dispose()})}static _makeOutlineElement(l,r){const h=o.findId(l,r),u=new g(h,r,l);if(l.children)for(const f of l.children)c._makeOutlineElement(f,u);r.children.set(u.id,u)}constructor(l){super(),this.uri=l,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let l=0;for(const[r,h]of this._groups)h.children.size===0?this._groups.delete(r):l+=1;if(l!==1)this.children=this._groups;else{const r=D.Iterable.first(this._groups.values());for(const[,h]of r.children)h.parent=this,this.children.set(h.id,h)}return this}getTopLevelSymbols(){const l=[];for(const r of this.children.values())r instanceof g?l.push(r.symbol):l.push(...D.Iterable.map(r.children.values(),h=>h.symbol));return l.sort((r,h)=>w.Range.compareRangesUsingStarts(r.range,h.range))}asListOfDocumentSymbols(){const l=this.getTopLevelSymbols(),r=[];return c._flattenDocumentSymbols(r,l,""),r.sort((h,u)=>p.Position.compare(w.Range.getStartPosition(h.range),w.Range.getStartPosition(u.range))||p.Position.compare(w.Range.getEndPosition(u.range),w.Range.getEndPosition(h.range)))}static _flattenDocumentSymbols(l,r,h){for(const u of r)l.push({kind:u.kind,tags:u.tags,name:u.name,detail:u.detail,containerName:u.containerName||h,range:u.range,selectionRange:u.selectionRange,children:void 0}),u.children&&c._flattenDocumentSymbols(l,u.children,u.name)}}e.OutlineModel=c,e.IOutlineModelService=(0,b.createDecorator)("IOutlineModelService");let d=class{constructor(l,r,h){this._languageFeaturesService=l,this._disposables=new i.DisposableStore,this._cache=new S.LRUCache(10,.7),this._debounceInformation=r.for(l.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(h.onModelRemoved(u=>{this._cache.delete(u.id)}))}dispose(){this._disposables.dispose()}async getOrCreate(l,r){const h=this._languageFeaturesService.documentSymbolProvider,u=h.ordered(l);let f=this._cache.get(l.id);if(!f||f.versionId!==l.getVersionId()||!(0,L.equals)(f.provider,u)){const _=new k.CancellationTokenSource;f={versionId:l.getVersionId(),provider:u,promiseCnt:0,source:_,promise:c.create(h,l,_.token),model:void 0},this._cache.set(l.id,f);const E=Date.now();f.promise.then(I=>{f.model=I,this._debounceInformation.update(l,Date.now()-E)}).catch(I=>{this._cache.delete(l.id)})}if(f.model)return f.model;f.promiseCnt+=1;const C=r.onCancellationRequested(()=>{--f.promiseCnt===0&&(f.source.cancel(),this._cache.delete(l.id))});try{return await f.promise}finally{C.dispose()}}};e.OutlineModelService=d,e.OutlineModelService=d=De([he(0,t.ILanguageFeaturesService),he(1,v.ILanguageFeatureDebounceService),he(2,n.IModelService)],d),(0,a.registerSingleton)(e.IOutlineModelService,d,1)}),define(ne[789],se([1,0,13,32,348,87,18,167,2,7]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let b=class extends w.Disposable{constructor(n,i,t){super(),this._textModel=n,this._languageFeaturesService=i,this._outlineModelService=t,this._currentModel=(0,k.observableValue)(this,void 0);const o=(0,k.observableSignalFromEvent)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),g=(0,k.observableSignalFromEvent)("_textModel.onDidChangeContent",v.Event.debounce(m=>this._textModel.onDidChangeContent(m),()=>{},100));this._register((0,k.autorunWithStore)(async(m,c)=>{o.read(m),g.read(m);const d=c.add(new D.DisposableCancellationTokenSource),s=await this._outlineModelService.getOrCreate(this._textModel,d.token);c.isDisposed||this._currentModel.set(s,void 0)}))}getBreadcrumbItems(n,i){const t=this._currentModel.read(i);if(!t)return[];const o=t.asListOfDocumentSymbols().filter(g=>n.contains(g.range.startLineNumber)&&!n.contains(g.range.endLineNumber));return o.sort((0,L.reverseOrder)((0,L.compareBy)(g=>g.range.endLineNumber-g.range.startLineNumber,L.numberComparator))),o.map(g=>({name:g.name,kind:g.kind,startLineNumber:g.range.startLineNumber}))}};b=De([he(1,S.ILanguageFeaturesService),he(2,p.IOutlineModelService)],b),y.HideUnchangedRegionsFeature.setBreadcrumbsSourceFactory((a,n)=>n.createInstance(b,a))}),define(ne[790],se([1,0,19,20,22,70,167,25]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),p.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",async function(w,...v){const[b]=v;(0,k.assertType)(y.URI.isUri(b));const a=w.get(S.IOutlineModelService),i=await w.get(D.ITextModelService).createModelReference(b);try{return(await a.getOrCreate(i.object.textEditorModel,L.CancellationToken.None)).getTopLevelSymbols()}finally{i.dispose()}})}),define(ne[791],se([1,0,59,6,50,15,7,114,2,125,60]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let n=a=class extends w.Disposable{constructor(t,o){super(),this.layoutService=t,this.logService=o,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(L.isSafari||L.isWebkitWebView)&&this.installWebKitWriteTextWorkaround(),this._register(S.Event.runAndSubscribe(k.onDidRegisterWindow,({window:g,disposables:m})=>{m.add((0,k.addDisposableListener)(g.document,"copy",()=>this.clearResources()))},{window:y.mainWindow,disposables:this._store}))}installWebKitWriteTextWorkaround(){const t=()=>{const o=new D.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=o,navigator.clipboard.write([new ClipboardItem({"text/plain":o.p})]).catch(async g=>{(!(g instanceof Error)||g.name!=="NotAllowedError"||!o.isRejected)&&this.logService.error(g)})};this._register(S.Event.runAndSubscribe(this.layoutService.onDidAddContainer,({container:o,disposables:g})=>{g.add((0,k.addDisposableListener)(o,"click",t)),g.add((0,k.addDisposableListener)(o,"keydown",t))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(t,o){if(this.writeResources([]),o){this.mapTextToType.set(o,t);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(t);try{return await navigator.clipboard.writeText(t)}catch(g){console.error(g)}this.fallbackWriteText(t)}fallbackWriteText(t){const o=(0,k.getActiveDocument)(),g=o.activeElement,m=o.body.appendChild((0,k.$)("textarea",{"aria-hidden":!0}));m.style.height="1px",m.style.width="1px",m.style.position="absolute",m.value=t,m.focus(),m.select(),o.execCommand("copy"),g instanceof HTMLElement&&g.focus(),o.body.removeChild(m)}async readText(t){if(t)return this.mapTextToType.get(t)||"";try{return await navigator.clipboard.readText()}catch(o){console.error(o)}return""}async readFindText(){return this.findText}async writeFindText(t){this.findText=t}async writeResources(t){t.length===0?this.clearResources():(this.resources=t,this.resourcesStateHash=await this.computeResourcesStateHash())}async readResources(){const t=await this.computeResourcesStateHash();return this.resourcesStateHash!==t&&this.clearResources(),this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const t=await this.readText();return(0,p.hash)(t.substring(0,a.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearResources(){this.resources=[],this.resourcesStateHash=void 0}};e.BrowserClipboardService=n,n.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3,e.BrowserClipboardService=n=a=De([he(0,v.ILayoutService),he(1,b.ILogService)],n)}),define(ne[792],se([1,0,2,60]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=void 0;class y extends L.Disposable{constructor(S,p=[]){super(),this.logger=new k.MultiplexLogger([S,...p]),this._register(S.onDidChangeLogLevel(w=>this.setLevel(w)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(S){this.logger.setLevel(S)}getLevel(){return this.logger.getLevel()}trace(S,...p){this.logger.trace(S,...p)}debug(S,...p){this.logger.debug(S,...p)}info(S,...p){this.logger.info(S,...p)}warn(S,...p){this.logger.warn(S,...p)}error(S,...p){this.logger.error(S,...p)}}e.LogService=y}),define(ne[100],se([1,0,103,755,8]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(p){p[p.Hint=1]="Hint",p[p.Info=2]="Info",p[p.Warning=4]="Warning",p[p.Error=8]="Error"})(D||(e.MarkerSeverity=D={})),function(p){function w(i,t){return t-i}p.compare=w;const v=Object.create(null);v[p.Error]=(0,k.localize)(0,null),v[p.Warning]=(0,k.localize)(1,null),v[p.Info]=(0,k.localize)(2,null);function b(i){return v[i]||""}p.toString=b;function a(i){switch(i){case L.default.Error:return p.Error;case L.default.Warning:return p.Warning;case L.default.Info:return p.Info;case L.default.Ignore:return p.Hint}}p.fromSeverity=a;function n(i){switch(i){case p.Error:return L.default.Error;case p.Warning:return L.default.Warning;case p.Info:return L.default.Info;case p.Hint:return L.default.Ignore}}p.toSeverity=n}(D||(e.MarkerSeverity=D={}));var S;(function(p){const w="";function v(a){return b(a,!0)}p.makeKey=v;function b(a,n){const i=[w];return a.source?i.push(a.source.replace("\xA6","\\\xA6")):i.push(w),a.code?typeof a.code=="string"?i.push(a.code.replace("\xA6","\\\xA6")):i.push(a.code.value.replace("\xA6","\\\xA6")):i.push(w),a.severity!==void 0&&a.severity!==null?i.push(D.toString(a.severity)):i.push(w),a.message&&n?i.push(a.message.replace("\xA6","\\\xA6")):i.push(w),a.startLineNumber!==void 0&&a.startLineNumber!==null?i.push(a.startLineNumber.toString()):i.push(w),a.startColumn!==void 0&&a.startColumn!==null?i.push(a.startColumn.toString()):i.push(w),a.endLineNumber!==void 0&&a.endLineNumber!==null?i.push(a.endLineNumber.toString()):i.push(w),a.endColumn!==void 0&&a.endColumn!==null?i.push(a.endColumn.toString()):i.push(w),i.push(w),i.join("\xA6")}p.makeKeyOptionalMessage=b})(S||(e.IMarkerData=S={})),e.IMarkerService=(0,y.createDecorator)("markerService")}),define(ne[793],se([1,0,13,7,2,67,11,22,5,45,8,100,26]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class i{constructor(m,c,d){this.marker=m,this.index=c,this.total=d}}e.MarkerCoordinate=i;let t=class{constructor(m,c,d){this._markerService=c,this._configService=d,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new y.DisposableStore,this._markers=[],this._nextIdx=-1,p.URI.isUri(m)?this._resourceFilter=h=>h.toString()===m.toString():m&&(this._resourceFilter=m);const s=this._configService.getValue("problems.sortOrder"),l=(h,u)=>{let f=(0,S.compare)(h.resource.toString(),u.resource.toString());return f===0&&(s==="position"?f=w.Range.compareRangesUsingStarts(h,u)||a.MarkerSeverity.compare(h.severity,u.severity):f=a.MarkerSeverity.compare(h.severity,u.severity)||w.Range.compareRangesUsingStarts(h,u)),f},r=()=>{this._markers=this._markerService.read({resource:p.URI.isUri(m)?m:void 0,severities:a.MarkerSeverity.Error|a.MarkerSeverity.Warning|a.MarkerSeverity.Info}),typeof m=="function"&&(this._markers=this._markers.filter(h=>this._resourceFilter(h.resource))),this._markers.sort(l)};r(),this._dispoables.add(c.onMarkerChanged(h=>{(!this._resourceFilter||h.some(u=>this._resourceFilter(u)))&&(r(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(m){return!this._resourceFilter&&!m?!0:!this._resourceFilter||!m?!1:this._resourceFilter(m)}get selected(){const m=this._markers[this._nextIdx];return m&&new i(m,this._nextIdx+1,this._markers.length)}_initIdx(m,c,d){let s=!1,l=this._markers.findIndex(r=>r.resource.toString()===m.uri.toString());l<0&&(l=(0,L.binarySearch)(this._markers,{resource:m.uri},(r,h)=>(0,S.compare)(r.resource.toString(),h.resource.toString())),l<0&&(l=~l));for(let r=l;r<this._markers.length;r++){let h=w.Range.lift(this._markers[r]);if(h.isEmpty()){const u=m.getWordAtPosition(h.getStartPosition());u&&(h=new w.Range(h.startLineNumber,u.startColumn,h.startLineNumber,u.endColumn))}if(c&&(h.containsPosition(c)||c.isBeforeOrEqual(h.getStartPosition()))){this._nextIdx=r,s=!0;break}if(this._markers[r].resource.toString()!==m.uri.toString())break}s||(this._nextIdx=d?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(m,c,d){if(this._markers.length===0)return!1;const s=this._nextIdx;return this._nextIdx===-1?this._initIdx(c,d,m):m?this._nextIdx=(this._nextIdx+1)%this._markers.length:m||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),s!==this._nextIdx}find(m,c){let d=this._markers.findIndex(s=>s.resource.toString()===m.toString());if(!(d<0)){for(;d<this._markers.length;d++)if(w.Range.containsPosition(this._markers[d],c))return new i(this._markers[d],d+1,this._markers.length)}}};e.MarkerList=t,e.MarkerList=t=De([he(1,a.IMarkerService),he(2,n.IConfigurationService)],t),e.IMarkerNavigationService=(0,b.createDecorator)("IMarkerNavigationService");let o=class{constructor(m,c){this._markerService=m,this._configService=c,this._provider=new D.LinkedList}getMarkerList(m){for(const c of this._provider){const d=c.getMarkerList(m);if(d)return d}return new t(m,this._markerService,this._configService)}};o=De([he(0,a.IMarkerService),he(1,n.IConfigurationService)],o),(0,v.registerSingleton)(e.IMarkerNavigationService,o,1)}),define(ne[794],se([1,0,13,7,52,53,47,22,100]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([S.Schemas.inMemory,S.Schemas.vscodeSourceControl,S.Schemas.walkThrough,S.Schemas.walkThroughSnippet]);class v{constructor(){this._byResource=new D.ResourceMap,this._byOwner=new Map}set(i,t,o){let g=this._byResource.get(i);g||(g=new Map,this._byResource.set(i,g)),g.set(t,o);let m=this._byOwner.get(t);m||(m=new D.ResourceMap,this._byOwner.set(t,m)),m.set(i,o)}get(i,t){const o=this._byResource.get(i);return o?.get(t)}delete(i,t){let o=!1,g=!1;const m=this._byResource.get(i);m&&(o=m.delete(t));const c=this._byOwner.get(t);if(c&&(g=c.delete(i)),o!==g)throw new Error("illegal state");return o&&g}values(i){var t,o,g,m;return typeof i=="string"?(o=(t=this._byOwner.get(i))===null||t===void 0?void 0:t.values())!==null&&o!==void 0?o:y.Iterable.empty():p.URI.isUri(i)?(m=(g=this._byResource.get(i))===null||g===void 0?void 0:g.values())!==null&&m!==void 0?m:y.Iterable.empty():y.Iterable.map(y.Iterable.concat(...this._byOwner.values()),c=>c[1])}}class b{constructor(i){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new D.ResourceMap,this._service=i,this._subscription=i.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(i){for(const t of i){const o=this._data.get(t);o&&this._substract(o);const g=this._resourceStats(t);this._add(g),this._data.set(t,g)}}_resourceStats(i){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(i.scheme))return t;for(const{severity:o}of this._service.read({resource:i}))o===w.MarkerSeverity.Error?t.errors+=1:o===w.MarkerSeverity.Warning?t.warnings+=1:o===w.MarkerSeverity.Info?t.infos+=1:t.unknowns+=1;return t}_substract(i){this.errors-=i.errors,this.warnings-=i.warnings,this.infos-=i.infos,this.unknowns-=i.unknowns}_add(i){this.errors+=i.errors,this.warnings+=i.warnings,this.infos+=i.infos,this.unknowns+=i.unknowns}}class a{constructor(){this._onMarkerChanged=new k.DebounceEmitter({delay:0,merge:a._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new v,this._stats=new b(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(i,t){for(const o of t||[])this.changeOne(i,o,[])}changeOne(i,t,o){if((0,L.isFalsyOrEmpty)(o))this._data.delete(t,i)&&this._onMarkerChanged.fire([t]);else{const g=[];for(const m of o){const c=a._toMarker(i,t,m);c&&g.push(c)}this._data.set(t,i,g),this._onMarkerChanged.fire([t])}}static _toMarker(i,t,o){let{code:g,severity:m,message:c,source:d,startLineNumber:s,startColumn:l,endLineNumber:r,endColumn:h,relatedInformation:u,tags:f}=o;if(c)return s=s>0?s:1,l=l>0?l:1,r=r>=s?r:s,h=h>0?h:l,{resource:t,owner:i,code:g,severity:m,message:c,source:d,startLineNumber:s,startColumn:l,endLineNumber:r,endColumn:h,relatedInformation:u,tags:f}}changeAll(i,t){const o=[],g=this._data.values(i);if(g)for(const m of g){const c=y.Iterable.first(m);c&&(o.push(c.resource),this._data.delete(c.resource,i))}if((0,L.isNonEmptyArray)(t)){const m=new D.ResourceMap;for(const{resource:c,marker:d}of t){const s=a._toMarker(i,c,d);if(!s)continue;const l=m.get(c);l?l.push(s):(m.set(c,[s]),o.push(c))}for(const[c,d]of m)this._data.set(c,i,d)}o.length>0&&this._onMarkerChanged.fire(o)}read(i=Object.create(null)){let{owner:t,resource:o,severities:g,take:m}=i;if((!m||m<0)&&(m=-1),t&&o){const c=this._data.get(o,t);if(c){const d=[];for(const s of c)if(a._accept(s,g)){const l=d.push(s);if(m>0&&l===m)break}return d}else return[]}else if(!t&&!o){const c=[];for(const d of this._data.values())for(const s of d)if(a._accept(s,g)){const l=c.push(s);if(m>0&&l===m)return c}return c}else{const c=this._data.values(o??t),d=[];for(const s of c)for(const l of s)if(a._accept(l,g)){const r=d.push(l);if(m>0&&r===m)return d}return d}}static _accept(i,t){return t===void 0||(t&i.severity)===i.severity}static _merge(i){const t=new D.ResourceMap;for(const o of i)for(const g of o)t.set(g,!0);return Array.from(t.keys())}}e.MarkerService=a}),define(ne[49],se([1,0,103,8]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=L.default,e.INotificationService=(0,k.createDecorator)("notificationService");class y{}e.NoOpNotification=y}),define(ne[57],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.IOpenerService=void 0,e.IOpenerService=(0,L.createDecorator)("openerService");function k(y){let D;const S=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(y.fragment);return S&&(D={startLineNumber:parseInt(S[1]),startColumn:S[2]?parseInt(S[2]):1,endLineNumber:S[4]?parseInt(S[4]):void 0,endColumn:S[4]?S[5]?parseInt(S[5]):1:void 0},y=y.with({fragment:""})),{selection:D,uri:y}}e.extractSelection=k}),define(ne[795],se([1,0,6,50,19,67,53,229,47,48,22,35,25,769,57]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let o=class{constructor(d){this._commandService=d}async open(d,s){if(!(0,w.matchesScheme)(d,w.Schemas.command))return!1;if(!s?.allowCommands||(typeof d=="string"&&(d=b.URI.parse(d)),Array.isArray(s.allowCommands)&&!s.allowCommands.includes(d.path)))return!0;let l=[];try{l=(0,p.parse)(decodeURIComponent(d.query))}catch{try{l=(0,p.parse)(d.query)}catch{}}return Array.isArray(l)||(l=[l]),await this._commandService.executeCommand(d.path,...l),!0}};o=De([he(0,n.ICommandService)],o);let g=class{constructor(d){this._editorService=d}async open(d,s){typeof d=="string"&&(d=b.URI.parse(d));const{selection:l,uri:r}=(0,t.extractSelection)(d);return d=r,d.scheme===w.Schemas.file&&(d=(0,v.normalizePath)(d)),await this._editorService.openCodeEditor({resource:d,options:{selection:l,source:s?.fromUserGesture?i.EditorOpenSource.USER:i.EditorOpenSource.API,...s?.editorOptions}},this._editorService.getFocusedCodeEditor(),s?.openToSide),!0}};g=De([he(0,a.ICodeEditorService)],g);let m=class{constructor(d,s){this._openers=new D.LinkedList,this._validators=new D.LinkedList,this._resolvers=new D.LinkedList,this._resolvedUriTargets=new S.ResourceMap(l=>l.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new D.LinkedList,this._defaultExternalOpener={openExternal:async l=>((0,w.matchesSomeScheme)(l,w.Schemas.http,w.Schemas.https)?L.windowOpenNoOpener(l):k.mainWindow.location.href=l,!0)},this._openers.push({open:async(l,r)=>r?.openExternal||(0,w.matchesSomeScheme)(l,w.Schemas.mailto,w.Schemas.http,w.Schemas.https,w.Schemas.vsls)?(await this._doOpenExternal(l,r),!0):!1}),this._openers.push(new o(s)),this._openers.push(new g(d))}registerOpener(d){return{dispose:this._openers.unshift(d)}}async open(d,s){var l;const r=typeof d=="string"?b.URI.parse(d):d,h=(l=this._resolvedUriTargets.get(r))!==null&&l!==void 0?l:d;for(const u of this._validators)if(!await u.shouldOpen(h,s))return!1;for(const u of this._openers)if(await u.open(d,s))return!0;return!1}async resolveExternalUri(d,s){for(const l of this._resolvers)try{const r=await l.resolveExternalUri(d,s);if(r)return this._resolvedUriTargets.has(r.resolved)||this._resolvedUriTargets.set(r.resolved,d),r}catch{}throw new Error("Could not resolve external URI: "+d.toString())}async _doOpenExternal(d,s){const l=typeof d=="string"?b.URI.parse(d):d;let r;try{r=(await this.resolveExternalUri(l,s)).resolved}catch{r=l}let h;if(typeof d=="string"&&l.toString()===r.toString()?h=d:h=encodeURI(r.toString(!0)),s?.allowContributedOpeners){const u=typeof s?.allowContributedOpeners=="string"?s?.allowContributedOpeners:void 0;for(const f of this._externalOpeners)if(await f.openExternal(h,{sourceUri:l,preferredOpenerId:u},y.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(h,{sourceUri:l},y.CancellationToken.None)}dispose(){this._validators.clear()}};e.OpenerService=m,e.OpenerService=m=De([he(0,a.ICodeEditorService),he(1,n.ICommandService)],m)}),define(ne[796],se([1,0,6,84,46,65,7,2,57,498]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let v=class extends p.Disposable{get enabled(){return this._enabled}set enabled(a){a?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=a}constructor(a,n,i={},t){var o;super(),this._link=n,this._enabled=!0,this.el=(0,L.append)(a,(0,L.$)("a.monaco-link",{tabIndex:(o=n.tabIndex)!==null&&o!==void 0?o:0,href:n.href,title:n.title},n.label)),this.el.setAttribute("role","button");const g=this._register(new k.DomEmitter(this.el,"click")),m=this._register(new k.DomEmitter(this.el,"keypress")),c=S.Event.chain(m.event,l=>l.map(r=>new y.StandardKeyboardEvent(r)).filter(r=>r.keyCode===3)),d=this._register(new k.DomEmitter(this.el,D.EventType.Tap)).event;this._register(D.Gesture.addTarget(this.el));const s=S.Event.any(g.event,c,d);this._register(s(l=>{this.enabled&&(L.EventHelper.stop(l,!0),i?.opener?i.opener(this._link.href):t.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};e.Link=v,e.Link=v=De([he(3,w.IOpenerService)],v)}),define(ne[88],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,L.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class k{constructor(D){this.callback=D}report(D){this._value=D,this.callback(this._value)}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,L.createDecorator)("editorProgressService")}),define(ne[797],se([1,0,15,19,2,20]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var S;(function(b){b[b.NO_ACTION=0]="NO_ACTION",b[b.CLOSE_PICKER=1]="CLOSE_PICKER",b[b.REFRESH_PICKER=2]="REFRESH_PICKER",b[b.REMOVE_ITEM=3]="REMOVE_ITEM"})(S||(e.TriggerAction=S={}));function p(b){const a=b;return Array.isArray(a.items)}function w(b){const a=b;return!!a.picks&&a.additionalPicks instanceof Promise}class v extends y.Disposable{constructor(a,n){super(),this.prefix=a,this.options=n}provide(a,n,i){var t;const o=new y.DisposableStore;a.canAcceptInBackground=!!(!((t=this.options)===null||t===void 0)&&t.canAcceptInBackground),a.matchOnLabel=a.matchOnDescription=a.matchOnDetail=a.sortByLabel=!1;let g;const m=o.add(new y.MutableDisposable),c=async()=>{var d;const s=m.value=new y.DisposableStore;g?.dispose(!0),a.busy=!1,g=new k.CancellationTokenSource(n);const l=g.token;let r=a.value.substring(this.prefix.length);!((d=this.options)===null||d===void 0)&&d.shouldSkipTrimPickFilter||(r=r.trim());const h=this._getPicks(r,s,l,i),u=(C,_)=>{var E;let I,T;if(p(C)?(I=C.items,T=C.active):I=C,I.length===0){if(_)return!1;(r.length>0||a.hideInput)&&(!((E=this.options)===null||E===void 0)&&E.noResultsPick)&&((0,D.isFunction)(this.options.noResultsPick)?I=[this.options.noResultsPick(r)]:I=[this.options.noResultsPick])}return a.items=I,T&&(a.activeItems=[T]),!0},f=async C=>{let _=!1,E=!1;await Promise.all([(async()=>{typeof C.mergeDelay=="number"&&(await(0,L.timeout)(C.mergeDelay),l.isCancellationRequested)||E||(_=u(C.picks,!0))})(),(async()=>{a.busy=!0;try{const I=await C.additionalPicks;if(l.isCancellationRequested)return;let T,A;p(C.picks)?(T=C.picks.items,A=C.picks.active):T=C.picks;let R,M;if(p(I)?(R=I.items,M=I.active):R=I,R.length>0||!_){let N;if(!A&&!M){const P=a.activeItems[0];P&&T.indexOf(P)!==-1&&(N=P)}u({items:[...T,...R],active:A||M||N})}}finally{l.isCancellationRequested||(a.busy=!1),E=!0}})()])};if(h!==null)if(w(h))await f(h);else if(!(h instanceof Promise))u(h);else{a.busy=!0;try{const C=await h;if(l.isCancellationRequested)return;w(C)?await f(C):u(C)}finally{l.isCancellationRequested||(a.busy=!1)}}};return o.add(a.onDidChangeValue(()=>c())),c(),o.add(a.onDidAccept(d=>{const[s]=a.selectedItems;typeof s?.accept=="function"&&(d.inBackground||a.hide(),s.accept(a.keyMods,d))})),o.add(a.onDidTriggerItemButton(async({button:d,item:s})=>{var l,r;if(typeof s.trigger=="function"){const h=(r=(l=s.buttons)===null||l===void 0?void 0:l.indexOf(d))!==null&&r!==void 0?r:-1;if(h>=0){const u=s.trigger(h,a.keyMods),f=typeof u=="number"?u:await u;if(n.isCancellationRequested)return;switch(f){case S.NO_ACTION:break;case S.CLOSE_PICKER:a.hide();break;case S.REFRESH_PICKER:c();break;case S.REMOVE_ITEM:{const C=a.items.indexOf(s);if(C!==-1){const _=a.items.slice(),E=_.splice(C,1),I=a.activeItems.filter(A=>A!==E[0]),T=a.keepScrollPosition;a.keepScrollPosition=!0,a.items=_,I&&(a.activeItems=I),a.keepScrollPosition=T}break}}}}})),o}}e.PickerQuickAccessProvider=v}),define(ne[798],se([1,0,6,238,2,103,181]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const S=L.$;class p extends y.Disposable{constructor(v,b,a){super(),this.parent=v,this.onKeyDown=i=>L.addStandardDisposableListener(this.findInput.inputBox.inputElement,L.EventType.KEY_DOWN,i),this.onDidChange=i=>this.findInput.onDidChange(i),this.container=L.append(this.parent,S(".quick-input-box")),this.findInput=this._register(new k.FindInput(this.container,void 0,{label:"",inputBoxStyles:b,toggleStyles:a}));const n=this.findInput.inputBox.inputElement;n.role="combobox",n.ariaHasPopup="menu",n.ariaAutoComplete="list",n.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(v){this.findInput.setValue(v)}select(v=null){this.findInput.inputBox.select(v)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(v){this.findInput.inputBox.setPlaceHolder(v)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(v){this.findInput.inputBox.inputElement.type=v?"password":"text"}set enabled(v){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!v)}set toggles(v){this.findInput.setAdditionalToggles(v)}setAttribute(v,b){this.findInput.inputBox.inputElement.setAttribute(v,b)}showDecoration(v){v===D.default.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:v===D.default.Info?1:v===D.default.Warning?2:3,content:""})}stylesForType(v){return this.findInput.inputBox.stylesForType(v===D.default.Info?1:v===D.default.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}e.QuickInputBox=p}),define(ne[357],se([1,0,6,84,7,46,65,104,172,406,761,181]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderQuickInputDescription=e.quickInputButtonToAction=void 0;const a={},n=new w.IdGenerator("quick-input-button-icon-");function i(g){if(!g)return;let m;const c=g.dark.toString();return a[c]?m=a[c]:(m=n.nextId(),L.createCSSRule(`.${m}, .hc-light .${m}`,`background-image: ${L.asCSSUrl(g.light||g.dark)}`),L.createCSSRule(`.vs-dark .${m}, .hc-black .${m}`,`background-image: ${L.asCSSUrl(g.dark)}`),a[c]=m),m}function t(g,m,c){let d=g.iconClass||i(g.iconPath);return g.alwaysVisible&&(d=d?`${d} always-visible`:"always-visible"),{id:m,label:"",tooltip:g.tooltip||"",class:d,enabled:!0,run:c}}e.quickInputButtonToAction=t;function o(g,m,c){L.reset(m);const d=(0,v.parseLinkedText)(g);let s=0;for(const l of d.nodes)if(typeof l=="string")m.append(...(0,p.renderLabelWithIcons)(l));else{let r=l.title;!r&&l.href.startsWith("command:")?r=(0,b.localize)(0,null,l.href.substring(8)):r||(r=l.href);const h=L.$("a",{href:l.href,title:r,tabIndex:s++},l.label);h.style.textDecoration="underline";const u=I=>{L.isEventLike(I)&&L.EventHelper.stop(I,!0),c.callback(l.href)},f=c.disposables.add(new k.DomEmitter(h,L.EventType.CLICK)).event,C=c.disposables.add(new k.DomEmitter(h,L.EventType.KEY_DOWN)).event,_=y.Event.chain(C,I=>I.filter(T=>{const A=new D.StandardKeyboardEvent(T);return A.equals(10)||A.equals(3)}));c.disposables.add(S.Gesture.addTarget(h));const E=c.disposables.add(new k.DomEmitter(h,S.EventType.Tap)).event;y.Event.any(f,E,_)(u,null,c.disposables),m.appendChild(h)}}e.renderQuickInputDescription=o}),define(ne[72],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var k;(function(S){S[S.Blur=1]="Blur",S[S.Gesture=2]="Gesture",S[S.Other=3]="Other"})(k||(e.QuickInputHideReason=k={}));var y;(function(S){S[S.NONE=0]="NONE",S[S.FIRST=1]="FIRST",S[S.SECOND=2]="SECOND",S[S.LAST=3]="LAST"})(y||(e.ItemActivation=y={}));class D{constructor(p){this.options=p}}e.QuickPickItemScorerAccessor=D,e.quickPickItemScorerAccessor=new D,e.IQuickInputService=(0,L.createDecorator)("quickInputService")}),define(ne[37],se([1,0,90,20]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class y{constructor(){this.data=new Map}add(S,p){L.ok(k.isString(S)),L.ok(k.isObject(p)),L.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,p)}as(S){return this.data.get(S)||null}}e.Registry=new y}),define(ne[358],se([1,0,37]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalSelectionTransfer=e.Extensions=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};class k{}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},L.Registry.add(e.Extensions.DragAndDropContribution,new k);class y{constructor(){}static getInstance(){return y.INSTANCE}hasData(S){return S&&S===this.proto}getData(S){if(this.hasData(S))return this.data}}e.LocalSelectionTransfer=y,y.INSTANCE=new y}),define(ne[359],se([1,0,204,179,113,22,358]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toExternalVSDataTransfer=e.toVSDataTransfer=void 0;function p(a){const n=new k.VSDataTransfer;for(const i of a.items){const t=i.type;if(i.kind==="string"){const o=new Promise(g=>i.getAsString(g));n.append(t,(0,k.createStringDataTransferItem)(o))}else if(i.kind==="file"){const o=i.getAsFile();o&&n.append(t,w(o))}}return n}e.toVSDataTransfer=p;function w(a){const n=a.path?D.URI.parse(a.path):void 0;return(0,k.createFileDataTransferItem)(a.name,n,async()=>new Uint8Array(await a.arrayBuffer()))}const v=Object.freeze([S.CodeDataTransfers.EDITORS,S.CodeDataTransfers.FILES,L.DataTransfers.RESOURCES,L.DataTransfers.INTERNAL_URI_LIST]);function b(a,n=!1){const i=p(a),t=i.get(L.DataTransfers.INTERNAL_URI_LIST);if(t)i.replace(y.Mimes.uriList,t);else if(n||!i.has(y.Mimes.uriList)){const o=[];for(const g of a.items){const m=g.getAsFile();if(m){const c=m.path;try{c?o.push(D.URI.file(c).toString()):o.push(D.URI.parse(m.name,!0).toString())}catch{}}}o.length&&i.replace(y.Mimes.uriList,(0,k.createStringDataTransferItem)(k.UriList.create(o)))}for(const o of v)i.delete(o);return i}e.toExternalVSDataTransfer=b}),define(ne[250],se([1,0,7,37]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function y(p){return p.length>0&&p.charAt(p.length-1)==="#"?p.substring(0,p.length-1):p}class D{constructor(){this._onDidChangeSchema=new L.Emitter,this.schemasById={}}registerSchema(w,v){this.schemasById[y(w)]=v,this._onDidChangeSchema.fire(w)}notifySchemaChanged(w){this._onDidChangeSchema.fire(w)}}const S=new D;k.Registry.add(e.Extensions.JSONContribution,S)}),define(ne[101],se([1,0,13,7,20,747,26,250,37]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const v=w.Registry.as(p.Extensions.JSONContribution);class b{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:D.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},v.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(c,d=!0){this.registerConfigurations([c],d)}registerConfigurations(c,d=!0){const s=new Set;this.doRegisterConfigurations(c,d,s),v.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:s})}registerDefaultConfigurations(c){const d=new Set;this.doRegisterDefaultConfigurations(c,d),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:d,defaultsOverrides:!0})}doRegisterDefaultConfigurations(c,d){var s;const l=[];for(const{overrides:r,source:h}of c)for(const u in r)if(d.add(u),e.OVERRIDE_PROPERTY_REGEX.test(u)){const f=this.configurationDefaultsOverrides.get(u),C=(s=f?.valuesSources)!==null&&s!==void 0?s:new Map;if(h)for(const T of Object.keys(r[u]))C.set(T,h);const _={...f?.value||{},...r[u]};this.configurationDefaultsOverrides.set(u,{source:h,value:_,valuesSources:C});const E=(0,S.getLanguageTagSettingPlainKey)(u),I={type:"object",default:_,description:D.localize(1,null,E),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:_,source:y.isString(h)?void 0:h,defaultValueSource:h};l.push(...i(u)),this.configurationProperties[u]=I,this.defaultLanguageConfigurationOverridesNode.properties[u]=I}else{this.configurationDefaultsOverrides.set(u,{value:r[u],source:h});const f=this.configurationProperties[u];f&&(this.updatePropertyDefaultValue(u,f),this.updateSchema(u,f))}this.doRegisterOverrideIdentifiers(l)}registerOverrideIdentifiers(c){this.doRegisterOverrideIdentifiers(c),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(c){for(const d of c)this.overrideIdentifiers.add(d);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(c,d,s){c.forEach(l=>{this.validateAndRegisterProperties(l,d,l.extensionInfo,l.restrictedProperties,void 0,s),this.configurationContributors.push(l),this.registerJSONConfiguration(l)})}validateAndRegisterProperties(c,d=!0,s,l,r=3,h){var u;r=y.isUndefinedOrNull(c.scope)?r:c.scope;const f=c.properties;if(f)for(const _ in f){const E=f[_];if(d&&g(_,E)){delete f[_];continue}if(E.source=s,E.defaultDefaultValue=f[_].default,this.updatePropertyDefaultValue(_,E),e.OVERRIDE_PROPERTY_REGEX.test(_)?E.scope=void 0:(E.scope=y.isUndefinedOrNull(E.scope)?r:E.scope,E.restricted=y.isUndefinedOrNull(E.restricted)?!!l?.includes(_):E.restricted),f[_].hasOwnProperty("included")&&!f[_].included){this.excludedConfigurationProperties[_]=f[_],delete f[_];continue}else this.configurationProperties[_]=f[_],!((u=f[_].policy)===null||u===void 0)&&u.name&&this.policyConfigurations.set(f[_].policy.name,_);!f[_].deprecationMessage&&f[_].markdownDeprecationMessage&&(f[_].deprecationMessage=f[_].markdownDeprecationMessage),h.add(_)}const C=c.allOf;if(C)for(const _ of C)this.validateAndRegisterProperties(_,d,s,l,r,h)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(c){const d=s=>{const l=s.properties;if(l)for(const h in l)this.updateSchema(h,l[h]);const r=s.allOf;r?.forEach(d)};d(c)}updateSchema(c,d){switch(e.allSettings.properties[c]=d,d.scope){case 1:e.applicationSettings.properties[c]=d;break;case 2:e.machineSettings.properties[c]=d;break;case 6:e.machineOverridableSettings.properties[c]=d;break;case 3:e.windowSettings.properties[c]=d;break;case 4:e.resourceSettings.properties[c]=d;break;case 5:e.resourceSettings.properties[c]=d,this.resourceLanguageSettingsSchema.properties[c]=d;break}}updateOverridePropertyPatternKey(){for(const c of this.overrideIdentifiers.values()){const d=`[${c}]`,s={type:"object",description:D.localize(2,null),errorMessage:D.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(d,s),e.allSettings.properties[d]=s,e.applicationSettings.properties[d]=s,e.machineSettings.properties[d]=s,e.machineOverridableSettings.properties[d]=s,e.windowSettings.properties[d]=s,e.resourceSettings.properties[d]=s}}registerOverridePropertyPatternKey(){const c={type:"object",description:D.localize(4,null),errorMessage:D.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=c,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=c,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=c,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=c,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=c,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=c,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(c,d){const s=this.configurationDefaultsOverrides.get(c);let l=s?.value,r=s?.source;y.isUndefined(l)&&(l=d.defaultDefaultValue,r=void 0),y.isUndefined(l)&&(l=t(d.type)),d.default=l,d.defaultValueSource=r}}const a="\\[([^\\]]+)\\]",n=new RegExp(a,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${a})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function i(m){const c=[];if(e.OVERRIDE_PROPERTY_REGEX.test(m)){let d=n.exec(m);for(;d?.length;){const s=d[1].trim();s&&c.push(s),d=n.exec(m)}}return(0,L.distinct)(c)}e.overrideIdentifiersFromKey=i;function t(m){switch(Array.isArray(m)?m[0]:m){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=t;const o=new b;w.Registry.add(e.Extensions.Configuration,o);function g(m,c){var d,s,l,r;return m.trim()?e.OVERRIDE_PROPERTY_REGEX.test(m)?D.localize(7,null,m):o.getConfigurationProperties()[m]!==void 0?D.localize(8,null,m):!((d=c.policy)===null||d===void 0)&&d.name&&o.getPolicyConfigurations().get((s=c.policy)===null||s===void 0?void 0:s.name)!==void 0?D.localize(9,null,m,(l=c.policy)===null||l===void 0?void 0:l.name,o.getPolicyConfigurations().get((r=c.policy)===null||r===void 0?void 0:r.name)):null:D.localize(6,null)}e.validateProperty=g}),define(ne[251],se([1,0,286,36,182,644,101,37]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:D.localize(0,null),scope:5});const w={...e.editorConfigurationBaseNode,properties:{"editor.tabSize":{type:"number",default:y.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:D.localize(1,null,"`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:D.localize(2,null)},"editor.insertSpaces":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:D.localize(3,null,"`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:D.localize(4,null,"`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:D.localize(5,null)},"editor.largeFileOptimizations":{type:"boolean",default:y.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:D.localize(6,null)},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[D.localize(7,null),D.localize(8,null),D.localize(9,null),D.localize(10,null)],description:D.localize(11,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[D.localize(12,null),D.localize(13,null),D.localize(14,null)],default:"configuredByTheme",description:D.localize(15,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:D.localize(16,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:D.localize(17,null)},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:D.localize(18,null),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:D.localize(19,null)},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:D.localize(20,null),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:D.localize(21,null),items:{type:"array",items:[{type:"string",description:D.localize(22,null)},{type:"string",description:D.localize(23,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:D.localize(24,null),items:{type:"array",items:[{type:"string",description:D.localize(25,null)},{type:"string",description:D.localize(26,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:L.diffEditorDefaultOptions.maxComputationTime,description:D.localize(27,null)},"diffEditor.maxFileSize":{type:"number",default:L.diffEditorDefaultOptions.maxFileSize,description:D.localize(28,null)},"diffEditor.renderSideBySide":{type:"boolean",default:L.diffEditorDefaultOptions.renderSideBySide,description:D.localize(29,null)},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:L.diffEditorDefaultOptions.renderSideBySideInlineBreakpoint,description:D.localize(30,null)},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:L.diffEditorDefaultOptions.useInlineViewWhenSpaceIsLimited,description:D.localize(31,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:L.diffEditorDefaultOptions.renderMarginRevertIcon,description:D.localize(32,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:L.diffEditorDefaultOptions.ignoreTrimWhitespace,description:D.localize(33,null)},"diffEditor.renderIndicators":{type:"boolean",default:L.diffEditorDefaultOptions.renderIndicators,description:D.localize(34,null)},"diffEditor.codeLens":{type:"boolean",default:L.diffEditorDefaultOptions.diffCodeLens,description:D.localize(35,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:L.diffEditorDefaultOptions.diffWordWrap,markdownEnumDescriptions:[D.localize(36,null),D.localize(37,null),D.localize(38,null,"`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:L.diffEditorDefaultOptions.diffAlgorithm,markdownEnumDescriptions:[D.localize(39,null),D.localize(40,null)],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:L.diffEditorDefaultOptions.hideUnchangedRegions.enabled,markdownDescription:D.localize(41,null)},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:L.diffEditorDefaultOptions.hideUnchangedRegions.revealLineCount,markdownDescription:D.localize(42,null),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:L.diffEditorDefaultOptions.hideUnchangedRegions.minimumLineCount,markdownDescription:D.localize(43,null),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:L.diffEditorDefaultOptions.hideUnchangedRegions.contextLineCount,markdownDescription:D.localize(44,null),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:L.diffEditorDefaultOptions.experimental.showMoves,markdownDescription:D.localize(45,null)},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:L.diffEditorDefaultOptions.experimental.showEmptyDecorations,description:D.localize(46,null)}}};function v(o){return typeof o.type<"u"||typeof o.anyOf<"u"}for(const o of k.editorOptionsRegistry){const g=o.schema;if(typeof g<"u")if(v(g))w.properties[`editor.${o.name}`]=g;else for(const m in g)Object.hasOwnProperty.call(g,m)&&(w.properties[m]=g[m])}let b=null;function a(){return b===null&&(b=Object.create(null),Object.keys(w.properties).forEach(o=>{b[o]=!0})),b}function n(o){return a()[`editor.${o}`]||!1}e.isEditorConfigurationKey=n;function i(o){return a()[`diffEditor.${o}`]||!1}e.isDiffEditorConfigurationKey=i,p.Registry.as(S.Extensions.Configuration).registerConfiguration(w)}),define(ne[81],se([1,0,654,7,37,113,101]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class p{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(v){return this._languages.push(v),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let b=0,a=this._languages.length;b<a;b++)if(this._languages[b]===v){this._languages.splice(b,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=p,e.ModesRegistry=new p,y.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[L.localize(0,null),"text"],mimetypes:[D.Mimes.text]}),y.Registry.as(S.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(ne[108],se([1,0,191,95,12,7,2,74,43,81,343,57,457]),function(ee,e,L,k,y,D,S,p,w,v,b,a){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.openLinkFromMarkdown=e.MarkdownRenderer=void 0;let i=n=class{constructor(m,c,d){this._options=m,this._languageService=c,this._openerService=d,this._onDidRenderAsync=new D.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(m,c,d){if(!m)return{element:document.createElement("span"),dispose:()=>{}};const s=new S.DisposableStore,l=s.add((0,L.renderMarkdown)(m,{...this._getRenderOptions(m,s),...c},d));return l.element.classList.add("rendered-markdown"),{element:l.element,dispose:()=>s.dispose()}}_getRenderOptions(m,c){return{codeBlockRenderer:async(d,s)=>{var l,r,h;let u;d?u=this._languageService.getLanguageIdByLanguageName(d):this._options.editor&&(u=(l=this._options.editor.getModel())===null||l===void 0?void 0:l.getLanguageId()),u||(u=v.PLAINTEXT_LANGUAGE_ID);const f=await(0,b.tokenizeToString)(this._languageService,s,u),C=document.createElement("span");if(C.innerHTML=(h=(r=n._ttpTokenizer)===null||r===void 0?void 0:r.createHTML(f))!==null&&h!==void 0?h:f,this._options.editor){const _=this._options.editor.getOption(50);(0,p.applyFontInfo)(C,_)}else this._options.codeBlockFontFamily&&(C.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(C.style.fontSize=this._options.codeBlockFontSize),C},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:d=>t(this._openerService,d,m.isTrusted),disposables:c}}}};e.MarkdownRenderer=i,i._ttpTokenizer=(0,k.createTrustedTypesPolicy)("tokenizeToString",{createHTML(g){return g}}),e.MarkdownRenderer=i=n=De([he(1,w.ILanguageService),he(2,a.IOpenerService)],i);async function t(g,m,c){try{return await g.open(m,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:o(c)})}catch(d){return(0,y.onUnexpectedError)(d),!1}}e.openLinkFromMarkdown=t;function o(g){return g===!0?!0:g&&Array.isArray(g.enabledCommands)?g.enabledCommands:!1}}),define(ne[799],se([1,0,2,7,6,34,26,36,233,77,57,8,108,58,642,17,71,44,456]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverWidget=void 0;const c=y.$;let d=class extends v.Widget{get _targetWindow(){return y.getWindow(this._target.targetElements[0])}get _targetDocumentElement(){return y.getWindow(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(h){this._isLocked!==h&&(this._isLocked=h,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(h,u,f,C,_,E){var I,T,A,R,M,N,P,F;super(),this._keybindingService=u,this._configurationService=f,this._openerService=C,this._instantiationService=_,this._accessibilityService=E,this._messageListeners=new L.DisposableStore,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new k.Emitter),this._onRequestLayout=this._register(new k.Emitter),this._linkHandler=h.linkHandler||(K=>(0,n.openLinkFromMarkdown)(this._openerService,K,(0,i.isMarkdownString)(h.content)?h.content.isTrusted:void 0)),this._target="targetElements"in h.target?h.target:new l(h.target),this._hoverPointer=!((I=h.appearance)===null||I===void 0)&&I.showPointer?c("div.workbench-hover-pointer"):void 0,this._hover=this._register(new w.HoverWidget),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),!((T=h.appearance)===null||T===void 0)&&T.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),!((A=h.appearance)===null||A===void 0)&&A.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),h.additionalClasses&&this._hover.containerDomNode.classList.add(...h.additionalClasses),!((R=h.position)===null||R===void 0)&&R.forcePosition&&(this._forcePosition=!0),h.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=(N=(M=h.position)===null||M===void 0?void 0:M.hoverPosition)!==null&&N!==void 0?N:3,this.onmousedown(this._hover.containerDomNode,K=>K.stopPropagation()),this.onkeydown(this._hover.containerDomNode,K=>{K.equals(9)&&this.dispose()}),this._register(y.addDisposableListener(this._targetWindow,"blur",()=>this.dispose()));const O=c("div.hover-row.markdown-hover"),B=c("div.hover-contents");if(typeof h.content=="string")B.textContent=h.content,B.style.whiteSpace="pre-wrap";else if(h.content instanceof HTMLElement)B.appendChild(h.content),B.classList.add("html-hover-contents");else{const K=h.content,j=this._instantiationService.createInstance(n.MarkdownRenderer,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||p.EDITOR_FONT_DEFAULTS.fontFamily}),{element:x}=j.render(K,{actionHandler:{callback:re=>this._linkHandler(re),disposables:this._messageListeners},asyncRenderCallback:()=>{B.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});B.appendChild(x)}if(O.appendChild(B),this._hover.contentsDomNode.appendChild(O),h.actions&&h.actions.length>0){const K=c("div.hover-row.status-bar"),j=c("div.actions");h.actions.forEach(x=>{const re=this._keybindingService.lookupKeybinding(x.commandId),ie=re?re.getLabel():null;w.HoverAction.render(j,{label:x.label,commandId:x.commandId,run:J=>{x.run(J),this.dispose()},iconClass:x.iconClass},ie)}),K.appendChild(j),this._hover.containerDomNode.appendChild(K)}this._hoverContainer=c("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode);let W;if(h.actions&&h.actions.length>0?W=!1:((P=h.persistence)===null||P===void 0?void 0:P.hideOnHover)===void 0?W=typeof h.content=="string"||(0,i.isMarkdownString)(h.content)&&!h.content.value.includes("](")&&!h.content.value.includes("</a>"):W=h.persistence.hideOnHover,W&&(!((F=h.appearance)===null||F===void 0)&&F.showHoverHint)){const K=c("div.hover-row.status-bar"),j=c("div.info");j.textContent=(0,t.localize)(0,null,o.isMacintosh?"Option":"Alt"),K.appendChild(j),this._hover.containerDomNode.appendChild(K)}const V=[...this._target.targetElements];W||V.push(this._hoverContainer);const z=this._register(new s(V));if(this._register(z.onMouseOut(()=>{this._isLocked||this.dispose()})),W){const K=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new s(K)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=z}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const h=this._hover.containerDomNode,u=this.findLastFocusableChild(this._hover.containerDomNode);if(u){const f=y.prepend(this._hoverContainer,c("div")),C=y.append(this._hoverContainer,c("div"));f.tabIndex=0,C.tabIndex=0,this._register(y.addDisposableListener(C,"focus",_=>{h.focus(),_.preventDefault()})),this._register(y.addDisposableListener(f,"focus",_=>{u.focus(),_.preventDefault()}))}}findLastFocusableChild(h){if(h.hasChildNodes())for(let u=0;u<h.childNodes.length;u++){const f=h.childNodes.item(h.childNodes.length-u-1);if(f.nodeType===f.ELEMENT_NODE){const _=f;if(typeof _.tabIndex=="number"&&_.tabIndex>=0)return _}const C=this.findLastFocusableChild(f);if(C)return C}}render(h){var u;h.appendChild(this._hoverContainer);const C=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&(0,w.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(u=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||u===void 0?void 0:u.getAriaLabel());C&&(0,m.status)(C),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const h=R=>{const M=y.getDomNodeZoomLevel(R),N=R.getBoundingClientRect();return{top:N.top*M,bottom:N.bottom*M,right:N.right*M,left:N.left*M}},u=this._target.targetElements.map(R=>h(R)),f=Math.min(...u.map(R=>R.top)),C=Math.max(...u.map(R=>R.right)),_=Math.max(...u.map(R=>R.bottom)),E=Math.min(...u.map(R=>R.left)),I=C-E,T=_-f,A={top:f,right:C,bottom:_,left:E,width:I,height:T,center:{x:E+I/2,y:f+T/2}};if(this.adjustHorizontalHoverPosition(A),this.adjustVerticalHoverPosition(A),this.adjustHoverMaxHeight(A),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:A.left+=3,A.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:A.left-=3,A.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:A.top+=3,A.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:A.top-=3,A.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}A.center.x=A.left+I/2,A.center.y=A.top+T/2}this.computeXCordinate(A),this.computeYCordinate(A),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(A)),this._hover.onContentsChanged()}computeXCordinate(h){const u=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=h.right:this._hoverPosition===0?this._x=h.left-u:(this._hoverPointer?this._x=h.center.x-this._hover.containerDomNode.clientWidth/2:this._x=h.left,this._x+u>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-u-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=h.left+2)}computeYCordinate(h){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=h.top:this._hoverPosition===2?this._y=h.bottom-2:this._hoverPointer?this._y=h.center.y+this._hover.containerDomNode.clientHeight/2:this._y=h.bottom,this._y>this._targetWindow.innerHeight&&(this._y=h.bottom)}adjustHorizontalHoverPosition(h){if(this._target.x===void 0){if(this._forcePosition){const u=(this._hoverPointer?3:0)+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-h.right-u}px`:this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=`${h.left-u}px`);return}this._hoverPosition===1?this._targetDocumentElement.clientWidth-h.right<this._hover.containerDomNode.clientWidth&&(h.left>=this._hover.containerDomNode.clientWidth?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(h.left<this._hover.containerDomNode.clientWidth&&(this._targetDocumentElement.clientWidth-h.right>=this._hover.containerDomNode.clientWidth?this._hoverPosition=1:this._hoverPosition=2),h.left-this._hover.containerDomNode.clientWidth<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}}adjustVerticalHoverPosition(h){this._target.y!==void 0||this._forcePosition||(this._hoverPosition===3?h.top-this._hover.containerDomNode.clientHeight<0&&(this._hoverPosition=2):this._hoverPosition===2&&h.bottom+this._hover.containerDomNode.clientHeight>this._targetWindow.innerHeight&&(this._hoverPosition=3))}adjustHoverMaxHeight(h){let u=this._targetWindow.innerHeight/2;if(this._forcePosition){const f=(this._hoverPointer?3:0)+2;this._hoverPosition===3?u=Math.min(u,h.top-f):this._hoverPosition===2&&(u=Math.min(u,this._targetWindow.innerHeight-h.bottom-f))}if(this._hover.containerDomNode.style.maxHeight=`${u}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const f=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==f&&(this._hover.contentsDomNode.style.paddingRight=f)}}setHoverPointerPosition(h){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const u=this._hover.containerDomNode.clientHeight;u>h.height?this._hoverPointer.style.top=`${h.center.y-(this._y-u)-3}px`:this._hoverPointer.style.top=`${Math.round(u/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const u=this._hover.containerDomNode.clientWidth;let f=Math.round(u/2)-3;const C=this._x+f;(C<h.left||C>h.right)&&(f=h.center.x-this._x-3),this._hoverPointer.style.left=`${f}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};e.HoverWidget=d,e.HoverWidget=d=De([he(1,D.IKeybindingService),he(2,S.IConfigurationService),he(3,b.IOpenerService),he(4,a.IInstantiationService),he(5,g.IAccessibilityService)],d);class s extends v.Widget{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(h){super(),this._elements=h,this._isMouseIn=!0,this._onMouseOut=this._register(new k.Emitter),this._elements.forEach(u=>this.onmouseover(u,()=>this._onTargetMouseOver(u))),this._elements.forEach(u=>this.onmouseleave(u,()=>this._onTargetMouseLeave(u)))}_onTargetMouseOver(h){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(h)}_onTargetMouseLeave(h){this._isMouseIn=!1,this._evaluateMouseState(h)}_evaluateMouseState(h){this._clearEvaluateMouseStateTimeout(h),this._mouseTimeout=y.getWindow(h).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(h){this._mouseTimeout&&(y.getWindow(h).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class l{constructor(h){this._element=h,this.targetElements=[this._element]}dispose(){}}}),define(ne[33],se([1,0,7,2,11,155,116,137,523,622,524,527,240,8,26,43,45,81,526]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.getScopedLineTokens=e.getIndentationAtPosition=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class d{constructor(N){this.languageId=N}affects(N){return this.languageId?this.languageId===N:!0}}e.LanguageConfigurationServiceChangeEvent=d,e.ILanguageConfigurationService=(0,i.createDecorator)("languageConfigurationService");let s=class extends k.Disposable{constructor(N,P){super(),this.configurationService=N,this.languageService=P,this._registry=this._register(new A),this.onDidChangeEmitter=this._register(new L.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const F=new Set(Object.values(r));this._register(this.configurationService.onDidChangeConfiguration(O=>{const B=O.change.keys.some(V=>F.has(V)),W=O.change.overrides.filter(([V,z])=>z.some(K=>F.has(K))).map(([V])=>V);if(B)this.configurations.clear(),this.onDidChangeEmitter.fire(new d(void 0));else for(const V of W)this.languageService.isRegisteredLanguageId(V)&&(this.configurations.delete(V),this.onDidChangeEmitter.fire(new d(V)))})),this._register(this._registry.onDidChange(O=>{this.configurations.delete(O.languageId),this.onDidChangeEmitter.fire(new d(O.languageId))}))}register(N,P,F){return this._registry.register(N,P,F)}getLanguageConfiguration(N){let P=this.configurations.get(N);return P||(P=l(N,this._registry,this.configurationService,this.languageService),this.configurations.set(N,P)),P}};e.LanguageConfigurationService=s,e.LanguageConfigurationService=s=De([he(0,t.IConfigurationService),he(1,o.ILanguageService)],s);function l(M,N,P,F){let O=N.getLanguageConfiguration(M);if(!O){if(!F.isRegisteredLanguageId(M))return new R(M,{});O=new R(M,{})}const B=h(O.languageId,P),W=E([O.underlyingConfig,B]);return new R(O.languageId,W)}const r={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function h(M,N){const P=N.getValue(r.brackets,{overrideIdentifier:M}),F=N.getValue(r.colorizedBracketPairs,{overrideIdentifier:M});return{brackets:u(P),colorizedBracketPairs:u(F)}}function u(M){if(Array.isArray(M))return M.map(N=>{if(!(!Array.isArray(N)||N.length!==2))return[N[0],N[1]]}).filter(N=>!!N)}function f(M,N,P){const F=M.getLineContent(N);let O=y.getLeadingWhitespace(F);return O.length>P-1&&(O=O.substring(0,P-1)),O}e.getIndentationAtPosition=f;function C(M,N,P){M.tokenization.forceTokenization(N);const F=M.tokenization.getLineTokens(N),O=typeof P>"u"?M.getLineMaxColumn(N)-1:P-1;return(0,p.createScopedLineTokens)(F,O)}e.getScopedLineTokens=C;class _{constructor(N){this.languageId=N,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(N,P){const F=new I(N,P,++this._order);return this._entries.push(F),this._resolved=null,(0,k.toDisposable)(()=>{for(let O=0;O<this._entries.length;O++)if(this._entries[O]===F){this._entries.splice(O,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const N=this._resolve();N&&(this._resolved=new R(this.languageId,N))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(I.cmp),E(this._entries.map(N=>N.configuration)))}}function E(M){let N={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const P of M)N={comments:P.comments||N.comments,brackets:P.brackets||N.brackets,wordPattern:P.wordPattern||N.wordPattern,indentationRules:P.indentationRules||N.indentationRules,onEnterRules:P.onEnterRules||N.onEnterRules,autoClosingPairs:P.autoClosingPairs||N.autoClosingPairs,surroundingPairs:P.surroundingPairs||N.surroundingPairs,autoCloseBefore:P.autoCloseBefore||N.autoCloseBefore,folding:P.folding||N.folding,colorizedBracketPairs:P.colorizedBracketPairs||N.colorizedBracketPairs,__electricCharacterSupport:P.__electricCharacterSupport||N.__electricCharacterSupport};return N}class I{constructor(N,P,F){this.configuration=N,this.priority=P,this.order=F}static cmp(N,P){return N.priority===P.priority?N.order-P.order:N.priority-P.priority}}class T{constructor(N){this.languageId=N}}e.LanguageConfigurationChangeEvent=T;class A extends k.Disposable{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(m.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(N,P,F=0){let O=this._entries.get(N);O||(O=new _(N),this._entries.set(N,O));const B=O.register(P,F);return this._onDidChange.fire(new T(N)),(0,k.toDisposable)(()=>{B.dispose(),this._onDidChange.fire(new T(N))})}getLanguageConfiguration(N){const P=this._entries.get(N);return P?.getResolvedConfiguration()||null}}e.LanguageConfigurationRegistry=A;class R{constructor(N,P){this.languageId=N,this.underlyingConfig=P,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new a.OnEnterSupport(this.underlyingConfig):null,this.comments=R._handleComments(this.underlyingConfig),this.characterPair=new w.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new b.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new c.LanguageBracketsConfiguration(N,this.underlyingConfig)}getWordDefinition(){return(0,D.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new n.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new v.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(N,P,F,O){return this._onEnterSupport?this._onEnterSupport.onEnter(N,P,F,O):null}getAutoClosingPairs(){return new S.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(N){return this.characterPair.getAutoCloseBeforeSet(N)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(N){const P=N.comments;if(!P)return null;const F={};if(P.lineComment&&(F.lineCommentToken=P.lineComment),P.blockComment){const[O,B]=P.blockComment;F.blockCommentStartToken=O,F.blockCommentEndToken=B}return F}}e.ResolvedLanguageConfiguration=R,(0,g.registerSingleton)(e.ILanguageConfigurationService,s,1)}),define(ne[252],se([1,0,15,2,333,613,5,33,653,51,194,13,60,63,12,18,211,115,64,50,6]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const l=60*1e3,r=5*60*1e3;function h(A,R){const M=A.getModel(R);return!(!M||M.isTooLargeForSyncing())}let u=class extends k.Disposable{constructor(R,M,N,P,F){super(),this._modelService=R,this._workerManager=this._register(new C(this._modelService,P)),this._logService=N,this._register(F.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(O,B)=>h(this._modelService,O.uri)?this._workerManager.withWorker().then(W=>W.computeLinks(O.uri)).then(W=>W&&{links:W}):Promise.resolve({links:[]})})),this._register(F.completionProvider.register("*",new f(this._workerManager,M,this._modelService,P)))}dispose(){super.dispose()}canComputeUnicodeHighlights(R){return h(this._modelService,R)}computedUnicodeHighlights(R,M,N){return this._workerManager.withWorker().then(P=>P.computedUnicodeHighlights(R,M,N))}async computeDiff(R,M,N,P){const F=await this._workerManager.withWorker().then(W=>W.computeDiff(R,M,N,P));if(!F)return null;return{identical:F.identical,quitEarly:F.quitEarly,changes:B(F.changes),moves:F.moves.map(W=>new g.MovedText(new m.LineRangeMapping(new c.LineRange(W[0],W[1]),new c.LineRange(W[2],W[3])),B(W[4])))};function B(W){return W.map(V=>{var z;return new m.DetailedLineRangeMapping(new c.LineRange(V[0],V[1]),new c.LineRange(V[2],V[3]),(z=V[4])===null||z===void 0?void 0:z.map(K=>new m.RangeMapping(new S.Range(K[0],K[1],K[2],K[3]),new S.Range(K[4],K[5],K[6],K[7]))))})}}computeMoreMinimalEdits(R,M,N=!1){if((0,a.isNonEmptyArray)(M)){if(!h(this._modelService,R))return Promise.resolve(M);const P=i.StopWatch.create(),F=this._workerManager.withWorker().then(O=>O.computeMoreMinimalEdits(R,M,N));return F.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",R.toString(!0),P.elapsed())),Promise.race([F,(0,L.timeout)(1e3).then(()=>M)])}else return Promise.resolve(void 0)}canNavigateValueSet(R){return h(this._modelService,R)}navigateValueSet(R,M,N){return this._workerManager.withWorker().then(P=>P.navigateValueSet(R,M,N))}canComputeWordRanges(R){return h(this._modelService,R)}computeWordRanges(R,M){return this._workerManager.withWorker().then(N=>N.computeWordRanges(R,M))}};e.EditorWorkerService=u,e.EditorWorkerService=u=De([he(0,v.IModelService),he(1,b.ITextResourceConfigurationService),he(2,n.ILogService),he(3,p.ILanguageConfigurationService),he(4,o.ILanguageFeaturesService)],u);class f{constructor(R,M,N,P){this.languageConfigurationService=P,this._debugDisplayName="wordbasedCompletions",this._workerManager=R,this._configurationService=M,this._modelService=N}async provideCompletionItems(R,M){const N=this._configurationService.getValue(R.uri,M,"editor");if(N.wordBasedSuggestions==="off")return;const P=[];if(N.wordBasedSuggestions==="currentDocument")h(this._modelService,R.uri)&&P.push(R.uri);else for(const K of this._modelService.getModels())h(this._modelService,K.uri)&&(K===R?P.unshift(K.uri):(N.wordBasedSuggestions==="allDocuments"||K.getLanguageId()===R.getLanguageId())&&P.push(K.uri));if(P.length===0)return;const F=this.languageConfigurationService.getLanguageConfiguration(R.getLanguageId()).getWordDefinition(),O=R.getWordAtPosition(M),B=O?new S.Range(M.lineNumber,O.startColumn,M.lineNumber,O.endColumn):S.Range.fromPositions(M),W=B.setEndPosition(M.lineNumber,M.column),z=await(await this._workerManager.withWorker()).textualSuggest(P,O?.word,F);if(z)return{duration:z.duration,suggestions:z.words.map(K=>({kind:18,label:K,insertText:K,range:{insert:W,replace:B}}))}}}class C extends k.Disposable{constructor(R,M){super(),this.languageConfigurationService=M,this._modelService=R,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new s.WindowIntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(r/2),d.$window),this._register(this._modelService.onModelRemoved(P=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>r&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new T(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class _ extends k.Disposable{constructor(R,M,N){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=R,this._modelService=M,!N){const P=new L.IntervalTimer;P.cancelAndSet(()=>this._checkStopModelSync(),Math.round(l/2)),this._register(P)}}dispose(){for(const R in this._syncedModels)(0,k.dispose)(this._syncedModels[R]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(R,M){for(const N of R){const P=N.toString();this._syncedModels[P]||this._beginModelSync(N,M),this._syncedModels[P]&&(this._syncedModelsLastUsedTime[P]=new Date().getTime())}}_checkStopModelSync(){const R=new Date().getTime(),M=[];for(const N in this._syncedModelsLastUsedTime)R-this._syncedModelsLastUsedTime[N]>l&&M.push(N);for(const N of M)this._stopModelSync(N)}_beginModelSync(R,M){const N=this._modelService.getModel(R);if(!N||!M&&N.isTooLargeForSyncing())return;const P=R.toString();this._proxy.acceptNewModel({url:N.uri.toString(),lines:N.getLinesContent(),EOL:N.getEOL(),versionId:N.getVersionId()});const F=new k.DisposableStore;F.add(N.onDidChangeContent(O=>{this._proxy.acceptModelChanged(P.toString(),O)})),F.add(N.onWillDispose(()=>{this._stopModelSync(P)})),F.add((0,k.toDisposable)(()=>{this._proxy.acceptRemovedModel(P)})),this._syncedModels[P]=F}_stopModelSync(R){const M=this._syncedModels[R];delete this._syncedModels[R],delete this._syncedModelsLastUsedTime[R],(0,k.dispose)(M)}}class E{constructor(R){this._instance=R,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class I{constructor(R){this._workerClient=R}fhr(R,M){return this._workerClient.fhr(R,M)}}e.EditorWorkerHost=I;class T extends k.Disposable{constructor(R,M,N,P){super(),this.languageConfigurationService=P,this._disposed=!1,this._modelService=R,this._keepIdleModels=M,this._workerFactory=new D.DefaultWorkerFactory(N),this._worker=null,this._modelManager=null}fhr(R,M){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new y.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new I(this)))}catch(R){(0,y.logOnceWebWorkerWarning)(R),this._worker=new E(new w.EditorSimpleWorker(new I(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,R=>((0,y.logOnceWebWorkerWarning)(R),this._worker=new E(new w.EditorSimpleWorker(new I(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(R){return this._modelManager||(this._modelManager=this._register(new _(R,this._modelService,this._keepIdleModels))),this._modelManager}async _withSyncedResources(R,M=!1){return this._disposed?Promise.reject((0,t.canceled)()):this._getProxy().then(N=>(this._getOrCreateModelManager(N).ensureSyncedResources(R,M),N))}computedUnicodeHighlights(R,M,N){return this._withSyncedResources([R]).then(P=>P.computeUnicodeHighlights(R.toString(),M,N))}computeDiff(R,M,N,P){return this._withSyncedResources([R,M],!0).then(F=>F.computeDiff(R.toString(),M.toString(),N,P))}computeMoreMinimalEdits(R,M,N){return this._withSyncedResources([R]).then(P=>P.computeMoreMinimalEdits(R.toString(),M,N))}computeLinks(R){return this._withSyncedResources([R]).then(M=>M.computeLinks(R.toString()))}computeDefaultDocumentColors(R){return this._withSyncedResources([R]).then(M=>M.computeDefaultDocumentColors(R.toString()))}async textualSuggest(R,M,N){const P=await this._withSyncedResources(R),F=N.source,O=N.flags;return P.textualSuggest(R.map(B=>B.toString()),M,F,O)}computeWordRanges(R,M){return this._withSyncedResources([R]).then(N=>{const P=this._modelService.getModel(R);if(!P)return Promise.resolve(null);const F=this.languageConfigurationService.getLanguageConfiguration(P.getLanguageId()).getWordDefinition(),O=F.source,B=F.flags;return N.computeWordRanges(R.toString(),M,O,B)})}navigateValueSet(R,M,N){return this._withSyncedResources([R]).then(P=>{const F=this._modelService.getModel(R);if(!F)return null;const O=this.languageConfigurationService.getLanguageConfiguration(F.getLanguageId()).getWordDefinition(),B=O.source,W=O.flags;return P.navigateValueSet(R.toString(),M,N,B,W)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=T}),define(ne[800],se([1,0,54,252]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function y(S,p,w){return new D(S,p,w)}e.createWebWorker=y;class D extends k.EditorWorkerClient{constructor(p,w,v){super(p,v.keepIdleModels||!1,v.label,w),this._foreignModuleId=v.moduleId,this._foreignModuleCreateData=v.createData||null,this._foreignModuleHost=v.host||null,this._foreignProxy=null}fhr(p,w){if(!this._foreignModuleHost||typeof this._foreignModuleHost[p]!="function")return Promise.reject(new Error("Missing method "+p+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[p].apply(this._foreignModuleHost,w))}catch(v){return Promise.reject(v)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(p=>{const w=this._foreignModuleHost?(0,L.getAllMethodNames)(this._foreignModuleHost):[];return p.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,w).then(v=>{this._foreignModuleCreateData=null;const b=(i,t)=>p.fmr(i,t),a=(i,t)=>function(){const o=Array.prototype.slice.call(arguments,0);return t(i,o)},n={};for(const i of v)n[i]=a(i,b);return n})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(p){return this._withSyncedResources(p).then(w=>this.getProxy())}}}),define(ne[253],se([1,0,11,116,137,33]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndentMetadata=e.getIndentActionForType=e.getIndentForEnter=e.getGoodIndentForLine=e.getInheritIndentForLine=void 0;function S(n,i,t){const o=n.tokenization.getLanguageIdAtPosition(i,0);if(i>1){let g,m=-1;for(g=i-1;g>=1;g--){if(n.tokenization.getLanguageIdAtPosition(g,0)!==o)return m;const c=n.getLineContent(g);if(t.shouldIgnore(c)||/^\s+$/.test(c)||c===""){m=g;continue}return g}}return-1}function p(n,i,t,o=!0,g){if(n<4)return null;const m=g.getLanguageConfiguration(i.tokenization.getLanguageId()).indentRulesSupport;if(!m)return null;if(t<=1)return{indentation:"",action:null};for(let s=t-1;s>0&&i.getLineContent(s)==="";s--)if(s===1)return{indentation:"",action:null};const c=S(i,t,m);if(c<0)return null;if(c<1)return{indentation:"",action:null};const d=i.getLineContent(c);if(m.shouldIncrease(d)||m.shouldIndentNextLine(d))return{indentation:L.getLeadingWhitespace(d),action:k.IndentAction.Indent,line:c};if(m.shouldDecrease(d))return{indentation:L.getLeadingWhitespace(d),action:null,line:c};{if(c===1)return{indentation:L.getLeadingWhitespace(i.getLineContent(c)),action:null,line:c};const s=c-1,l=m.getIndentMetadata(i.getLineContent(s));if(!(l&3)&&l&4){let r=0;for(let h=s-1;h>0;h--)if(!m.shouldIndentNextLine(i.getLineContent(h))){r=h;break}return{indentation:L.getLeadingWhitespace(i.getLineContent(r+1)),action:null,line:r+1}}if(o)return{indentation:L.getLeadingWhitespace(i.getLineContent(c)),action:null,line:c};for(let r=c;r>0;r--){const h=i.getLineContent(r);if(m.shouldIncrease(h))return{indentation:L.getLeadingWhitespace(h),action:k.IndentAction.Indent,line:r};if(m.shouldIndentNextLine(h)){let u=0;for(let f=r-1;f>0;f--)if(!m.shouldIndentNextLine(i.getLineContent(r))){u=f;break}return{indentation:L.getLeadingWhitespace(i.getLineContent(u+1)),action:null,line:u+1}}else if(m.shouldDecrease(h))return{indentation:L.getLeadingWhitespace(h),action:null,line:r}}return{indentation:L.getLeadingWhitespace(i.getLineContent(1)),action:null,line:1}}}e.getInheritIndentForLine=p;function w(n,i,t,o,g,m){if(n<4)return null;const c=m.getLanguageConfiguration(t);if(!c)return null;const d=m.getLanguageConfiguration(t).indentRulesSupport;if(!d)return null;const s=p(n,i,o,void 0,m),l=i.getLineContent(o);if(s){const r=s.line;if(r!==void 0){let h=!0;for(let u=r;u<o-1;u++)if(!/^\s*$/.test(i.getLineContent(u))){h=!1;break}if(h){const u=c.onEnter(n,"",i.getLineContent(r),"");if(u){let f=L.getLeadingWhitespace(i.getLineContent(r));return u.removeText&&(f=f.substring(0,f.length-u.removeText)),u.indentAction===k.IndentAction.Indent||u.indentAction===k.IndentAction.IndentOutdent?f=g.shiftIndent(f):u.indentAction===k.IndentAction.Outdent&&(f=g.unshiftIndent(f)),d.shouldDecrease(l)&&(f=g.unshiftIndent(f)),u.appendText&&(f+=u.appendText),L.getLeadingWhitespace(f)}}}return d.shouldDecrease(l)?s.action===k.IndentAction.Indent?s.indentation:g.unshiftIndent(s.indentation):s.action===k.IndentAction.Indent?g.shiftIndent(s.indentation):s.indentation}return null}e.getGoodIndentForLine=w;function v(n,i,t,o,g){if(n<4)return null;i.tokenization.forceTokenization(t.startLineNumber);const m=i.tokenization.getLineTokens(t.startLineNumber),c=(0,y.createScopedLineTokens)(m,t.startColumn-1),d=c.getLineContent();let s=!1,l;c.firstCharOffset>0&&m.getLanguageId(0)!==c.languageId?(s=!0,l=d.substr(0,t.startColumn-1-c.firstCharOffset)):l=m.getLineContent().substring(0,t.startColumn-1);let r;t.isEmpty()?r=d.substr(t.startColumn-1-c.firstCharOffset):r=(0,D.getScopedLineTokens)(i,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-c.firstCharOffset);const h=g.getLanguageConfiguration(c.languageId).indentRulesSupport;if(!h)return null;const u=l,f=L.getLeadingWhitespace(l),C={tokenization:{getLineTokens:T=>i.tokenization.getLineTokens(T),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(T,A)=>i.getLanguageIdAtPosition(T,A)},getLineContent:T=>T===t.startLineNumber?u:i.getLineContent(T)},_=L.getLeadingWhitespace(m.getLineContent()),E=p(n,C,t.startLineNumber+1,void 0,g);if(!E){const T=s?_:f;return{beforeEnter:T,afterEnter:T}}let I=s?_:E.indentation;return E.action===k.IndentAction.Indent&&(I=o.shiftIndent(I)),h.shouldDecrease(r)&&(I=o.unshiftIndent(I)),{beforeEnter:s?_:f,afterEnter:I}}e.getIndentForEnter=v;function b(n,i,t,o,g,m){if(n<4)return null;const c=(0,D.getScopedLineTokens)(i,t.startLineNumber,t.startColumn);if(c.firstCharOffset)return null;const d=m.getLanguageConfiguration(c.languageId).indentRulesSupport;if(!d)return null;const s=c.getLineContent(),l=s.substr(0,t.startColumn-1-c.firstCharOffset);let r;if(t.isEmpty()?r=s.substr(t.startColumn-1-c.firstCharOffset):r=(0,D.getScopedLineTokens)(i,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-c.firstCharOffset),!d.shouldDecrease(l+r)&&d.shouldDecrease(l+o+r)){const h=p(n,i,t.startLineNumber,!1,m);if(!h)return null;let u=h.indentation;return h.action!==k.IndentAction.Indent&&(u=g.unshiftIndent(u)),u}return null}e.getIndentActionForType=b;function a(n,i,t){const o=t.getLanguageConfiguration(n.getLanguageId()).indentRulesSupport;return!o||i<1||i>n.getLineCount()?null:o.getIndentMetadata(n.getLineContent(i))}e.getIndentMetadata=a}),define(ne[254],se([1,0,116,33]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=void 0;function y(D,S,p,w){const v=(0,k.getScopedLineTokens)(S,p.startLineNumber,p.startColumn),b=w.getLanguageConfiguration(v.languageId);if(!b)return null;const a=v.getLineContent(),n=a.substr(0,p.startColumn-1-v.firstCharOffset);let i;p.isEmpty()?i=a.substr(p.startColumn-1-v.firstCharOffset):i=(0,k.getScopedLineTokens)(S,p.endLineNumber,p.endColumn).getLineContent().substr(p.endColumn-1-v.firstCharOffset);let t="";if(p.startLineNumber>1&&v.firstCharOffset===0){const s=(0,k.getScopedLineTokens)(S,p.startLineNumber-1);s.languageId===v.languageId&&(t=s.getLineContent())}const o=b.onEnter(D,t,n,i);if(!o)return null;const g=o.indentAction;let m=o.appendText;const c=o.removeText||0;m?g===L.IndentAction.Indent&&(m="	"+m):g===L.IndentAction.Indent||g===L.IndentAction.IndentOutdent?m="	":m="";let d=(0,k.getIndentationAtPosition)(S,p.startLineNumber,p.startColumn);return c&&(d=d.substring(0,d.length-c)),{indentAction:g,appendText:m,removeText:c,indentation:d}}e.getEnterAction=y}),define(ne[255],se([1,0,11,85,5,23,254,33]),function(ee,e,L,k,y,D,S,p){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=void 0;const v=Object.create(null);function b(n,i){if(i<=0)return"";v[n]||(v[n]=["",n]);const t=v[n];for(let o=t.length;o<=i;o++)t[o]=t[o-1]+n;return t[i]}let a=w=class{static unshiftIndent(i,t,o,g,m){const c=k.CursorColumns.visibleColumnFromColumn(i,t,o);if(m){const d=b(" ",g),l=k.CursorColumns.prevIndentTabStop(c,g)/g;return b(d,l)}else{const d="	",l=k.CursorColumns.prevRenderTabStop(c,o)/o;return b(d,l)}}static shiftIndent(i,t,o,g,m){const c=k.CursorColumns.visibleColumnFromColumn(i,t,o);if(m){const d=b(" ",g),l=k.CursorColumns.nextIndentTabStop(c,g)/g;return b(d,l)}else{const d="	",l=k.CursorColumns.nextRenderTabStop(c,o)/o;return b(d,l)}}constructor(i,t,o){this._languageConfigurationService=o,this._opts=t,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(i,t,o){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(t,o):i.addEditOperation(t,o)}getEditOperations(i,t){const o=this._selection.startLineNumber;let g=this._selection.endLineNumber;this._selection.endColumn===1&&o!==g&&(g=g-1);const{tabSize:m,indentSize:c,insertSpaces:d}=this._opts,s=o===g;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(o))&&(this._useLastEditRangeForCursorEndPosition=!0);let l=0,r=0;for(let h=o;h<=g;h++,l=r){r=0;const u=i.getLineContent(h);let f=L.firstNonWhitespaceIndex(u);if(this._opts.isUnshift&&(u.length===0||f===0)||!s&&!this._opts.isUnshift&&u.length===0)continue;if(f===-1&&(f=u.length),h>1&&k.CursorColumns.visibleColumnFromColumn(u,f+1,m)%c!==0&&i.tokenization.isCheapToTokenize(h-1)){const E=(0,S.getEnterAction)(this._opts.autoIndent,i,new y.Range(h-1,i.getLineMaxColumn(h-1),h-1,i.getLineMaxColumn(h-1)),this._languageConfigurationService);if(E){if(r=l,E.appendText)for(let I=0,T=E.appendText.length;I<T&&r<c&&E.appendText.charCodeAt(I)===32;I++)r++;E.removeText&&(r=Math.max(0,r-E.removeText));for(let I=0;I<r&&!(f===0||u.charCodeAt(f-1)!==32);I++)f--}}if(this._opts.isUnshift&&f===0)continue;let C;this._opts.isUnshift?C=w.unshiftIndent(u,f+1,m,c,d):C=w.shiftIndent(u,f+1,m,c,d),this._addEditOperation(t,new y.Range(h,1,h,f+1),C),h===o&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(o)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const l=d?b(" ",c):"	";for(let r=o;r<=g;r++){const h=i.getLineContent(r);let u=L.firstNonWhitespaceIndex(h);if(!(this._opts.isUnshift&&(h.length===0||u===0))&&!(!s&&!this._opts.isUnshift&&h.length===0)&&(u===-1&&(u=h.length),!(this._opts.isUnshift&&u===0)))if(this._opts.isUnshift){u=Math.min(u,c);for(let f=0;f<u;f++)if(h.charCodeAt(f)===9){u=f+1;break}this._addEditOperation(t,new y.Range(r,1,r,u+1),"")}else this._addEditOperation(t,new y.Range(r,1,r,1),l),r===o&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(i,t){if(this._useLastEditRangeForCursorEndPosition){const g=t.getInverseEditOperations()[0];return new D.Selection(g.range.endLineNumber,g.range.endColumn,g.range.endLineNumber,g.range.endColumn)}const o=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const g=this._selection.startColumn;return o.startColumn<=g?o:o.getDirection()===0?new D.Selection(o.startLineNumber,g,o.endLineNumber,o.endColumn):new D.Selection(o.endLineNumber,o.endColumn,o.startLineNumber,g)}return o}};e.ShiftCommand=a,e.ShiftCommand=a=w=De([he(2,p.ILanguageConfigurationService)],a)}),define(ne[256],se([1,0,12,11,134,255,510,76,154,5,9,116,33,137,253,254]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class g{static indent(u,f,C){if(f===null||C===null)return[];const _=[];for(let E=0,I=C.length;E<I;E++)_[E]=new D.ShiftCommand(C[E],{isUnshift:!1,tabSize:u.tabSize,indentSize:u.indentSize,insertSpaces:u.insertSpaces,useTabStops:u.useTabStops,autoIndent:u.autoIndent},u.languageConfigurationService);return _}static outdent(u,f,C){const _=[];for(let E=0,I=C.length;E<I;E++)_[E]=new D.ShiftCommand(C[E],{isUnshift:!0,tabSize:u.tabSize,indentSize:u.indentSize,insertSpaces:u.insertSpaces,useTabStops:u.useTabStops,autoIndent:u.autoIndent},u.languageConfigurationService);return _}static shiftIndent(u,f,C){return C=C||1,D.ShiftCommand.shiftIndent(f,f.length+C,u.tabSize,u.indentSize,u.insertSpaces)}static unshiftIndent(u,f,C){return C=C||1,D.ShiftCommand.unshiftIndent(f,f.length+C,u.tabSize,u.indentSize,u.insertSpaces)}static _distributedPaste(u,f,C,_){const E=[];for(let I=0,T=C.length;I<T;I++)E[I]=new y.ReplaceCommand(C[I],_[I]);return new p.EditOperationResult(0,E,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(u,f,C,_,E){const I=[];for(let T=0,A=C.length;T<A;T++){const R=C[T],M=R.getPosition();if(E&&!R.isEmpty()&&(E=!1),E&&_.indexOf(`
`)!==_.length-1&&(E=!1),E){const N=new v.Range(M.lineNumber,1,M.lineNumber,1);I[T]=new y.ReplaceCommandThatPreservesSelection(N,_,R,!0)}else I[T]=new y.ReplaceCommand(R,_)}return new p.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(u,f,C,_,E){if(_||f.length===1)return null;if(E&&E.length===f.length)return E;if(u.multiCursorPaste==="spread"){C.charCodeAt(C.length-1)===10&&(C=C.substr(0,C.length-1)),C.charCodeAt(C.length-1)===13&&(C=C.substr(0,C.length-1));const I=k.splitLines(C);if(I.length===f.length)return I}return null}static paste(u,f,C,_,E,I){const T=this._distributePasteToCursors(u,C,_,E,I);return T?(C=C.sort(v.Range.compareRangesUsingStarts),this._distributedPaste(u,f,C,T)):this._simplePaste(u,f,C,_,E)}static _goodIndentForLine(u,f,C){let _=null,E="";const I=(0,t.getInheritIndentForLine)(u.autoIndent,f,C,!1,u.languageConfigurationService);if(I)_=I.action,E=I.indentation;else if(C>1){let T;for(T=C-1;T>=1;T--){const M=f.getLineContent(T);if(k.lastNonWhitespaceIndex(M)>=0)break}if(T<1)return null;const A=f.getLineMaxColumn(T),R=(0,o.getEnterAction)(u.autoIndent,f,new v.Range(T,A,T,A),u.languageConfigurationService);R&&(E=R.indentation+R.appendText)}return _&&(_===a.IndentAction.Indent&&(E=g.shiftIndent(u,E)),_===a.IndentAction.Outdent&&(E=g.unshiftIndent(u,E)),E=u.normalizeIndentation(E)),E||null}static _replaceJumpToNextIndent(u,f,C,_){let E="";const I=C.getStartPosition();if(u.insertSpaces){const T=u.visibleColumnFromColumn(f,I),A=u.indentSize,R=A-T%A;for(let M=0;M<R;M++)E+=" "}else E="	";return new y.ReplaceCommand(C,E,_)}static tab(u,f,C){const _=[];for(let E=0,I=C.length;E<I;E++){const T=C[E];if(T.isEmpty()){const A=f.getLineContent(T.startLineNumber);if(/^\s*$/.test(A)&&f.tokenization.isCheapToTokenize(T.startLineNumber)){let R=this._goodIndentForLine(u,f,T.startLineNumber);R=R||"	";const M=u.normalizeIndentation(R);if(!A.startsWith(M)){_[E]=new y.ReplaceCommand(new v.Range(T.startLineNumber,1,T.startLineNumber,A.length+1),M,!0);continue}}_[E]=this._replaceJumpToNextIndent(u,f,T,!0)}else{if(T.startLineNumber===T.endLineNumber){const A=f.getLineMaxColumn(T.startLineNumber);if(T.startColumn!==1||T.endColumn!==A){_[E]=this._replaceJumpToNextIndent(u,f,T,!1);continue}}_[E]=new D.ShiftCommand(T,{isUnshift:!1,tabSize:u.tabSize,indentSize:u.indentSize,insertSpaces:u.insertSpaces,useTabStops:u.useTabStops,autoIndent:u.autoIndent},u.languageConfigurationService)}}return _}static compositionType(u,f,C,_,E,I,T,A){const R=_.map(M=>this._compositionType(C,M,E,I,T,A));return new p.EditOperationResult(4,R,{shouldPushStackElementBefore:s(u,4),shouldPushStackElementAfter:!1})}static _compositionType(u,f,C,_,E,I){if(!f.isEmpty())return null;const T=f.getPosition(),A=Math.max(1,T.column-_),R=Math.min(u.getLineMaxColumn(T.lineNumber),T.column+E),M=new v.Range(T.lineNumber,A,T.lineNumber,R);return u.getValueInRange(M)===C&&I===0?null:new y.ReplaceCommandWithOffsetCursorState(M,C,0,I)}static _typeCommand(u,f,C){return C?new y.ReplaceCommandWithoutChangingPosition(u,f,!0):new y.ReplaceCommand(u,f,!0)}static _enter(u,f,C,_){if(u.autoIndent===0)return g._typeCommand(_,`
`,C);if(!f.tokenization.isCheapToTokenize(_.getStartPosition().lineNumber)||u.autoIndent===1){const A=f.getLineContent(_.startLineNumber),R=k.getLeadingWhitespace(A).substring(0,_.startColumn-1);return g._typeCommand(_,`
`+u.normalizeIndentation(R),C)}const E=(0,o.getEnterAction)(u.autoIndent,f,_,u.languageConfigurationService);if(E){if(E.indentAction===a.IndentAction.None)return g._typeCommand(_,`
`+u.normalizeIndentation(E.indentation+E.appendText),C);if(E.indentAction===a.IndentAction.Indent)return g._typeCommand(_,`
`+u.normalizeIndentation(E.indentation+E.appendText),C);if(E.indentAction===a.IndentAction.IndentOutdent){const A=u.normalizeIndentation(E.indentation),R=u.normalizeIndentation(E.indentation+E.appendText),M=`
`+R+`
`+A;return C?new y.ReplaceCommandWithoutChangingPosition(_,M,!0):new y.ReplaceCommandWithOffsetCursorState(_,M,-1,R.length-A.length,!0)}else if(E.indentAction===a.IndentAction.Outdent){const A=g.unshiftIndent(u,E.indentation);return g._typeCommand(_,`
`+u.normalizeIndentation(A+E.appendText),C)}}const I=f.getLineContent(_.startLineNumber),T=k.getLeadingWhitespace(I).substring(0,_.startColumn-1);if(u.autoIndent>=4){const A=(0,t.getIndentForEnter)(u.autoIndent,f,_,{unshiftIndent:R=>g.unshiftIndent(u,R),shiftIndent:R=>g.shiftIndent(u,R),normalizeIndentation:R=>u.normalizeIndentation(R)},u.languageConfigurationService);if(A){let R=u.visibleColumnFromColumn(f,_.getEndPosition());const M=_.endColumn,N=f.getLineContent(_.endLineNumber),P=k.firstNonWhitespaceIndex(N);if(P>=0?_=_.setEndPosition(_.endLineNumber,Math.max(_.endColumn,P+1)):_=_.setEndPosition(_.endLineNumber,f.getLineMaxColumn(_.endLineNumber)),C)return new y.ReplaceCommandWithoutChangingPosition(_,`
`+u.normalizeIndentation(A.afterEnter),!0);{let F=0;return M<=P+1&&(u.insertSpaces||(R=Math.ceil(R/u.indentSize)),F=Math.min(R+1-u.normalizeIndentation(A.afterEnter).length-1,0)),new y.ReplaceCommandWithOffsetCursorState(_,`
`+u.normalizeIndentation(A.afterEnter),0,F,!0)}}}return g._typeCommand(_,`
`+u.normalizeIndentation(T),C)}static _isAutoIndentType(u,f,C){if(u.autoIndent<4)return!1;for(let _=0,E=C.length;_<E;_++)if(!f.tokenization.isCheapToTokenize(C[_].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(u,f,C,_){const E=(0,n.getIndentationAtPosition)(f,C.startLineNumber,C.startColumn),I=(0,t.getIndentActionForType)(u.autoIndent,f,C,_,{shiftIndent:T=>g.shiftIndent(u,T),unshiftIndent:T=>g.unshiftIndent(u,T)},u.languageConfigurationService);if(I===null)return null;if(I!==u.normalizeIndentation(E)){const T=f.getLineFirstNonWhitespaceColumn(C.startLineNumber);return T===0?g._typeCommand(new v.Range(C.startLineNumber,1,C.endLineNumber,C.endColumn),u.normalizeIndentation(I)+_,!1):g._typeCommand(new v.Range(C.startLineNumber,1,C.endLineNumber,C.endColumn),u.normalizeIndentation(I)+f.getLineContent(C.startLineNumber).substring(T-1,C.startColumn-1)+_,!1)}return null}static _isAutoClosingOvertype(u,f,C,_,E){if(u.autoClosingOvertype==="never"||!u.autoClosingPairs.autoClosingPairsCloseSingleChar.has(E))return!1;for(let I=0,T=C.length;I<T;I++){const A=C[I];if(!A.isEmpty())return!1;const R=A.getPosition(),M=f.getLineContent(R.lineNumber);if(M.charAt(R.column-1)!==E)return!1;const P=(0,p.isQuote)(E);if((R.column>2?M.charCodeAt(R.column-2):0)===92&&P)return!1;if(u.autoClosingOvertype==="auto"){let O=!1;for(let B=0,W=_.length;B<W;B++){const V=_[B];if(R.lineNumber===V.startLineNumber&&R.column===V.startColumn){O=!0;break}}if(!O)return!1}}return!0}static _runAutoClosingOvertype(u,f,C,_,E){const I=[];for(let T=0,A=_.length;T<A;T++){const M=_[T].getPosition(),N=new v.Range(M.lineNumber,M.column,M.lineNumber,M.column+1);I[T]=new y.ReplaceCommand(N,E)}return new p.EditOperationResult(4,I,{shouldPushStackElementBefore:s(u,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(u,f){const C=f.charAt(0),_=u.autoClosingPairs.autoClosingPairsOpenByStart.get(C)||[],E=u.autoClosingPairs.autoClosingPairsCloseByStart.get(C)||[],I=_.some(A=>f.startsWith(A.open)),T=E.some(A=>f.startsWith(A.close));return!I&&T}static _findAutoClosingPairOpen(u,f,C,_){const E=u.autoClosingPairs.autoClosingPairsOpenByEnd.get(_);if(!E)return null;let I=null;for(const T of E)if(I===null||T.open.length>I.open.length){let A=!0;for(const R of C)if(f.getValueInRange(new v.Range(R.lineNumber,R.column-T.open.length+1,R.lineNumber,R.column))+_!==T.open){A=!1;break}A&&(I=T)}return I}static _findContainedAutoClosingPair(u,f){if(f.open.length<=1)return null;const C=f.close.charAt(f.close.length-1),_=u.autoClosingPairs.autoClosingPairsCloseByEnd.get(C)||[];let E=null;for(const I of _)I.open!==f.open&&f.open.includes(I.open)&&f.close.endsWith(I.close)&&(!E||I.open.length>E.open.length)&&(E=I);return E}static _getAutoClosingPairClose(u,f,C,_,E){for(const O of C)if(!O.isEmpty())return null;const I=C.map(O=>{const B=O.getPosition();return E?{lineNumber:B.lineNumber,beforeColumn:B.column-_.length,afterColumn:B.column}:{lineNumber:B.lineNumber,beforeColumn:B.column,afterColumn:B.column}}),T=this._findAutoClosingPairOpen(u,f,I.map(O=>new b.Position(O.lineNumber,O.beforeColumn)),_);if(!T)return null;let A,R;if((0,p.isQuote)(_)?(A=u.autoClosingQuotes,R=u.shouldAutoCloseBefore.quote):(u.blockCommentStartToken?T.open.includes(u.blockCommentStartToken):!1)?(A=u.autoClosingComments,R=u.shouldAutoCloseBefore.comment):(A=u.autoClosingBrackets,R=u.shouldAutoCloseBefore.bracket),A==="never")return null;const N=this._findContainedAutoClosingPair(u,T),P=N?N.close:"";let F=!0;for(const O of I){const{lineNumber:B,beforeColumn:W,afterColumn:V}=O,z=f.getLineContent(B),K=z.substring(0,W-1),j=z.substring(V-1);if(j.startsWith(P)||(F=!1),j.length>0){const J=j.charAt(0);if(!g._isBeforeClosingBrace(u,j)&&!R(J))return null}if(T.open.length===1&&(_==="'"||_==='"')&&A!=="always"){const J=(0,w.getMapForWordSeparators)(u.wordSeparators);if(K.length>0){const X=K.charCodeAt(K.length-1);if(J.get(X)===0)return null}}if(!f.tokenization.isCheapToTokenize(B))return null;f.tokenization.forceTokenization(B);const x=f.tokenization.getLineTokens(B),re=(0,i.createScopedLineTokens)(x,W-1);if(!T.shouldAutoClose(re,W-re.firstCharOffset))return null;const ie=T.findNeutralCharacter();if(ie){const J=f.tokenization.getTokenTypeIfInsertingCharacter(B,W,ie);if(!T.isOK(J))return null}}return F?T.close.substring(0,T.close.length-P.length):T.close}static _runAutoClosingOpenCharType(u,f,C,_,E,I,T){const A=[];for(let R=0,M=_.length;R<M;R++){const N=_[R];A[R]=new m(N,E,!I,T)}return new p.EditOperationResult(4,A,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(u,f){return(0,p.isQuote)(f)?u.autoSurround==="quotes"||u.autoSurround==="languageDefined":u.autoSurround==="brackets"||u.autoSurround==="languageDefined"}static _isSurroundSelectionType(u,f,C,_){if(!g._shouldSurroundChar(u,_)||!u.surroundingPairs.hasOwnProperty(_))return!1;const E=(0,p.isQuote)(_);for(const I of C){if(I.isEmpty())return!1;let T=!0;for(let A=I.startLineNumber;A<=I.endLineNumber;A++){const R=f.getLineContent(A),M=A===I.startLineNumber?I.startColumn-1:0,N=A===I.endLineNumber?I.endColumn-1:R.length,P=R.substring(M,N);if(/[^ \t]/.test(P)){T=!1;break}}if(T)return!1;if(E&&I.startLineNumber===I.endLineNumber&&I.startColumn+1===I.endColumn){const A=f.getValueInRange(I);if((0,p.isQuote)(A))return!1}}return!0}static _runSurroundSelectionType(u,f,C,_,E){const I=[];for(let T=0,A=_.length;T<A;T++){const R=_[T],M=f.surroundingPairs[E];I[T]=new S.SurroundSelectionCommand(R,E,M)}return new p.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(u,f,C){return!!(C.length===1&&f.tokenization.isCheapToTokenize(C[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(u,f,C,_,E){if(!f.electricChars.hasOwnProperty(E)||!_.isEmpty())return null;const I=_.getPosition();C.tokenization.forceTokenization(I.lineNumber);const T=C.tokenization.getLineTokens(I.lineNumber);let A;try{A=f.onElectricCharacter(E,T,I.column)}catch(R){return(0,L.onUnexpectedError)(R),null}if(!A)return null;if(A.matchOpenBracket){const R=(T.getLineContent()+E).lastIndexOf(A.matchOpenBracket)+1,M=C.bracketPairs.findMatchingBracketUp(A.matchOpenBracket,{lineNumber:I.lineNumber,column:R},500);if(M){if(M.startLineNumber===I.lineNumber)return null;const N=C.getLineContent(M.startLineNumber),P=k.getLeadingWhitespace(N),F=f.normalizeIndentation(P),O=C.getLineContent(I.lineNumber),B=C.getLineFirstNonWhitespaceColumn(I.lineNumber)||I.column,W=O.substring(B-1,I.column-1),V=F+W+E,z=new v.Range(I.lineNumber,1,I.lineNumber,I.column),K=new y.ReplaceCommand(z,V);return new p.EditOperationResult(d(V,u),[K],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(u,f,C,_,E,I){if(!_)return null;let T=null;for(const N of _)if(T===null)T=N.insertedText;else if(T!==N.insertedText)return null;if(!T||T.length!==1)return null;const A=T;let R=!1;for(const N of _)if(N.deletedText.length!==0){R=!0;break}if(R){if(!g._shouldSurroundChar(f,A)||!f.surroundingPairs.hasOwnProperty(A))return null;const N=(0,p.isQuote)(A);for(const O of _)if(O.deletedSelectionStart!==0||O.deletedSelectionEnd!==O.deletedText.length||/^[ \t]+$/.test(O.deletedText)||N&&(0,p.isQuote)(O.deletedText))return null;const P=[];for(const O of E){if(!O.isEmpty())return null;P.push(O.getPosition())}if(P.length!==_.length)return null;const F=[];for(let O=0,B=P.length;O<B;O++)F.push(new S.CompositionSurroundSelectionCommand(P[O],_[O].deletedText,f.surroundingPairs[A]));return new p.EditOperationResult(4,F,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(f,C,E,I,A)){const N=E.map(P=>new y.ReplaceCommand(new v.Range(P.positionLineNumber,P.positionColumn,P.positionLineNumber,P.positionColumn+1),"",!1));return new p.EditOperationResult(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const M=this._getAutoClosingPairClose(f,C,E,A,!0);return M!==null?this._runAutoClosingOpenCharType(u,f,C,E,A,!0,M):null}static typeWithInterceptors(u,f,C,_,E,I,T){if(!u&&T===`
`){const M=[];for(let N=0,P=E.length;N<P;N++)M[N]=g._enter(C,_,!1,E[N]);return new p.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!u&&this._isAutoIndentType(C,_,E)){const M=[];let N=!1;for(let P=0,F=E.length;P<F;P++)if(M[P]=this._runAutoIndentType(C,_,E[P],T),!M[P]){N=!0;break}if(!N)return new p.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(C,_,E,I,T))return this._runAutoClosingOvertype(f,C,_,E,T);if(!u){const M=this._getAutoClosingPairClose(C,_,E,T,!1);if(M)return this._runAutoClosingOpenCharType(f,C,_,E,T,!1,M)}if(!u&&this._isSurroundSelectionType(C,_,E,T))return this._runSurroundSelectionType(f,C,_,E,T);if(!u&&this._isTypeInterceptorElectricChar(C,_,E)){const M=this._typeInterceptorElectricChar(f,C,_,E[0],T);if(M)return M}const A=[];for(let M=0,N=E.length;M<N;M++)A[M]=new y.ReplaceCommand(E[M],T);const R=d(T,f);return new p.EditOperationResult(R,A,{shouldPushStackElementBefore:s(f,R),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(u,f,C,_,E){const I=[];for(let A=0,R=_.length;A<R;A++)I[A]=new y.ReplaceCommand(_[A],E);const T=d(E,u);return new p.EditOperationResult(T,I,{shouldPushStackElementBefore:s(u,T),shouldPushStackElementAfter:!1})}static lineInsertBefore(u,f,C){if(f===null||C===null)return[];const _=[];for(let E=0,I=C.length;E<I;E++){let T=C[E].positionLineNumber;if(T===1)_[E]=new y.ReplaceCommandWithoutChangingPosition(new v.Range(1,1,1,1),`
`);else{T--;const A=f.getLineMaxColumn(T);_[E]=this._enter(u,f,!1,new v.Range(T,A,T,A))}}return _}static lineInsertAfter(u,f,C){if(f===null||C===null)return[];const _=[];for(let E=0,I=C.length;E<I;E++){const T=C[E].positionLineNumber,A=f.getLineMaxColumn(T);_[E]=this._enter(u,f,!1,new v.Range(T,A,T,A))}return _}static lineBreakInsert(u,f,C){const _=[];for(let E=0,I=C.length;E<I;E++)_[E]=this._enter(u,f,!0,C[E]);return _}}e.TypeOperations=g;class m extends y.ReplaceCommandWithOffsetCursorState{constructor(u,f,C,_){super(u,(C?f:"")+_,0,-_.length),this._openCharacter=f,this._closeCharacter=_,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(u,f){const _=f.getInverseEditOperations()[0].range;return this.closeCharacterRange=new v.Range(_.startLineNumber,_.endColumn-this._closeCharacter.length,_.endLineNumber,_.endColumn),this.enclosingRange=new v.Range(_.startLineNumber,_.endColumn-this._openCharacter.length-this._closeCharacter.length,_.endLineNumber,_.endColumn),super.computeCursorState(u,f)}}e.TypeWithAutoClosingCommand=m;class c{constructor(u,f,C,_,E,I){this.deletedText=u,this.deletedSelectionStart=f,this.deletedSelectionEnd=C,this.insertedText=_,this.insertedSelectionStart=E,this.insertedSelectionEnd=I}}e.CompositionOutcome=c;function d(h,u){return h===" "?u===5||u===6?6:5:4}function s(h,u){return r(h)&&!r(u)?!0:h===5?!1:l(h)!==l(u)}function l(h){return h===6||h===5?"space":h}function r(h){return h===4||h===5||h===6}}),define(ne[801],se([1,0,12,11,522,76,511,213,256,5,23,117,220,2,221]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class o extends i.Disposable{constructor(r,h,u,f){super(),this._model=r,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=h,this._coordinatesConverter=u,this.context=new S.CursorContext(this._model,this._viewModel,this._coordinatesConverter,f),this._cursors=new y.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,i.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(r){this.context=new S.CursorContext(this._model,this._viewModel,this._coordinatesConverter,r),this._cursors.updateContext(this.context)}onLineMappingChanged(r){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(r,"viewModel",0,this.getCursorStates())}setHasFocus(r){this._hasFocus=r}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const r=this._cursors.getSelections();for(let h=0;h<this._autoClosedActions.length;h++){const u=this._autoClosedActions[h];u.isValid(r)||(u.dispose(),this._autoClosedActions.splice(h,1),h--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(r,h,u,f){let C=!1;const _=this.context.cursorConfig.multiCursorLimit;f!==null&&f.length>_&&(f=f.slice(0,_),C=!0);const E=g.from(this._model,this);return this._cursors.setStates(f),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(r,h,u,E,C)}setCursorColumnSelectData(r){this._columnSelectData=r}revealPrimary(r,h,u,f,C,_){const E=this._cursors.getViewPositions();let I=null,T=null;E.length>1?T=this._cursors.getViewSelections():I=v.Range.fromPositions(E[0],E[0]),r.emitViewEvent(new n.ViewRevealRangeRequestEvent(h,u,I,T,f,C,_))}saveState(){const r=[],h=this._cursors.getSelections();for(let u=0,f=h.length;u<f;u++){const C=h[u];r.push({inSelectionMode:!C.isEmpty(),selectionStart:{lineNumber:C.selectionStartLineNumber,column:C.selectionStartColumn},position:{lineNumber:C.positionLineNumber,column:C.positionColumn}})}return r}restoreState(r,h){const u=[];for(let f=0,C=h.length;f<C;f++){const _=h[f];let E=1,I=1;_.position&&_.position.lineNumber&&(E=_.position.lineNumber),_.position&&_.position.column&&(I=_.position.column);let T=E,A=I;_.selectionStart&&_.selectionStart.lineNumber&&(T=_.selectionStart.lineNumber),_.selectionStart&&_.selectionStart.column&&(A=_.selectionStart.column),u.push({selectionStartLineNumber:T,selectionStartColumn:A,positionLineNumber:E,positionColumn:I})}this.setStates(r,"restoreState",0,D.CursorState.fromModelSelections(u)),this.revealPrimary(r,"restoreState",!1,0,!0,1)}onModelContentChanged(r,h){if(h instanceof a.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(r,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const u=h.rawContentChangedEvent;if(this._knownModelVersionId=u.versionId,this._isHandling)return;const f=u.containsEvent(1);if(this._prevEditOperationType=0,f)this._cursors.dispose(),this._cursors=new y.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(r,"model",1,null,!1);else if(this._hasFocus&&u.resultingSelection&&u.resultingSelection.length>0){const C=D.CursorState.fromModelSelections(u.resultingSelection);this.setStates(r,"modelChange",u.isUndoing?5:u.isRedoing?6:2,C)&&this.revealPrimary(r,"modelChange",!1,0,!0,0)}else{const C=this._cursors.readSelectionFromMarkers();this.setStates(r,"modelChange",2,D.CursorState.fromModelSelections(C))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const r=this._cursors.getPrimaryCursor(),h=r.viewState.selectionStart.getStartPosition(),u=r.viewState.position;return{isReal:!1,fromViewLineNumber:h.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,h),toViewLineNumber:u.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,u)}}getSelections(){return this._cursors.getSelections()}setSelections(r,h,u,f){this.setStates(r,h,f,D.CursorState.fromModelSelections(u))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(r){this._prevEditOperationType=r}_pushAutoClosedAction(r,h){const u=[],f=[];for(let E=0,I=r.length;E<I;E++)u.push({range:r[E],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),f.push({range:h[E],options:{description:"auto-closed-enclosing",stickiness:1}});const C=this._model.deltaDecorations([],u),_=this._model.deltaDecorations([],f);this._autoClosedActions.push(new m(this._model,C,_))}_executeEditOperation(r){if(!r)return;r.shouldPushStackElementBefore&&this._model.pushStackElement();const h=c.executeCommands(this._model,this._cursors.getSelections(),r.commands);if(h){this._interpretCommandResult(h);const u=[],f=[];for(let C=0;C<r.commands.length;C++){const _=r.commands[C];_ instanceof w.TypeWithAutoClosingCommand&&_.enclosingRange&&_.closeCharacterRange&&(u.push(_.closeCharacterRange),f.push(_.enclosingRange))}u.length>0&&this._pushAutoClosedAction(u,f),this._prevEditOperationType=r.type}r.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(r){(!r||r.length===0)&&(r=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(r),this._cursors.normalize()}_emitStateChangedIfNecessary(r,h,u,f,C){const _=g.from(this._model,this);if(_.equals(f))return!1;const E=this._cursors.getSelections(),I=this._cursors.getViewSelections();if(r.emitViewEvent(new n.ViewCursorStateChangedEvent(I,E,u)),!f||f.cursorState.length!==_.cursorState.length||_.cursorState.some((T,A)=>!T.modelState.equals(f.cursorState[A].modelState))){const T=f?f.cursorState.map(R=>R.modelState.selection):null,A=f?f.modelVersionId:0;r.emitOutgoingEvent(new t.CursorStateChangedEvent(T,E,A,_.modelVersionId,h||"keyboard",u,C))}return!0}_findAutoClosingPairs(r){if(!r.length)return null;const h=[];for(let u=0,f=r.length;u<f;u++){const C=r[u];if(!C.text||C.text.indexOf(`
`)>=0)return null;const _=C.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!_)return null;const E=_[1],I=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(E);if(!I||I.length!==1)return null;const T=I[0].open,A=C.text.length-_[2].length-1,R=C.text.lastIndexOf(T,A-1);if(R===-1)return null;h.push([R,A])}return h}executeEdits(r,h,u,f){let C=null;h==="snippet"&&(C=this._findAutoClosingPairs(u)),C&&(u[0]._isTracked=!0);const _=[],E=[],I=this._model.pushEditOperations(this.getSelections(),u,T=>{if(C)for(let R=0,M=C.length;R<M;R++){const[N,P]=C[R],F=T[R],O=F.range.startLineNumber,B=F.range.startColumn-1+N,W=F.range.startColumn-1+P;_.push(new v.Range(O,W+1,O,W+2)),E.push(new v.Range(O,B+1,O,W+2))}const A=f(T);return A&&(this._isHandling=!0),A});I&&(this._isHandling=!1,this.setSelections(r,h,I,0)),_.length>0&&this._pushAutoClosedAction(_,E)}_executeEdit(r,h,u,f=0){if(this.context.cursorConfig.readOnly)return;const C=g.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),r()}catch(_){(0,L.onUnexpectedError)(_)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(h,u,f,C,!1)&&this.revealPrimary(h,u,!1,0,!0,0)}getAutoClosedCharacters(){return m.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(r){this._compositionState=new s(this._model,this.getSelections())}endComposition(r,h){const u=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{h==="keyboard"&&this._executeEditOperation(w.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,u,this.getSelections(),this.getAutoClosedCharacters()))},r,h)}type(r,h,u){this._executeEdit(()=>{if(u==="keyboard"){const f=h.length;let C=0;for(;C<f;){const _=k.nextCharLength(h,C),E=h.substr(C,_);this._executeEditOperation(w.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),E)),C+=_}}else this._executeEditOperation(w.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),h))},r,u)}compositionType(r,h,u,f,C,_){if(h.length===0&&u===0&&f===0){if(C!==0){const E=this.getSelections().map(I=>{const T=I.getPosition();return new b.Selection(T.lineNumber,T.column+C,T.lineNumber,T.column+C)});this.setSelections(r,_,E,0)}return}this._executeEdit(()=>{this._executeEditOperation(w.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),h,u,f,C))},r,_)}paste(r,h,u,f,C){this._executeEdit(()=>{this._executeEditOperation(w.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),h,u,f||[]))},r,C,4)}cut(r,h){this._executeEdit(()=>{this._executeEditOperation(p.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},r,h)}executeCommand(r,h,u){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new D.EditOperationResult(0,[h],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},r,u)}executeCommands(r,h,u){this._executeEdit(()=>{this._executeEditOperation(new D.EditOperationResult(0,h,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},r,u)}}e.CursorsController=o;class g{static from(r,h){return new g(r.getVersionId(),h.getCursorStates())}constructor(r,h){this.modelVersionId=r,this.cursorState=h}equals(r){if(!r||this.modelVersionId!==r.modelVersionId||this.cursorState.length!==r.cursorState.length)return!1;for(let h=0,u=this.cursorState.length;h<u;h++)if(!this.cursorState[h].equals(r.cursorState[h]))return!1;return!0}}class m{static getAllAutoClosedCharacters(r){let h=[];for(const u of r)h=h.concat(u.getAutoClosedCharactersRanges());return h}constructor(r,h,u){this._model=r,this._autoClosedCharactersDecorations=h,this._autoClosedEnclosingDecorations=u}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const r=[];for(let h=0;h<this._autoClosedCharactersDecorations.length;h++){const u=this._model.getDecorationRange(this._autoClosedCharactersDecorations[h]);u&&r.push(u)}return r}isValid(r){const h=[];for(let u=0;u<this._autoClosedEnclosingDecorations.length;u++){const f=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[u]);if(f&&(h.push(f),f.startLineNumber!==f.endLineNumber))return!1}h.sort(v.Range.compareRangesUsingStarts),r.sort(v.Range.compareRangesUsingStarts);for(let u=0;u<r.length;u++)if(u>=h.length||!h[u].strictContainsRange(r[u]))return!1;return!0}}class c{static executeCommands(r,h,u){const f={model:r,selectionsBefore:h,trackedRanges:[],trackedRangesDirection:[]},C=this._innerExecuteCommands(f,u);for(let _=0,E=f.trackedRanges.length;_<E;_++)f.model._setTrackedRange(f.trackedRanges[_],null,0);return C}static _innerExecuteCommands(r,h){if(this._arrayIsEmpty(h))return null;const u=this._getEditOperations(r,h);if(u.operations.length===0)return null;const f=u.operations,C=this._getLoserCursorMap(f);if(C.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const _=[];for(let T=0,A=f.length;T<A;T++)C.hasOwnProperty(f[T].identifier.major.toString())||_.push(f[T]);u.hadTrackedEditOperation&&_.length>0&&(_[0]._isTracked=!0);let E=r.model.pushEditOperations(r.selectionsBefore,_,T=>{const A=[];for(let N=0;N<r.selectionsBefore.length;N++)A[N]=[];for(const N of T)N.identifier&&A[N.identifier.major].push(N);const R=(N,P)=>N.identifier.minor-P.identifier.minor,M=[];for(let N=0;N<r.selectionsBefore.length;N++)A[N].length>0?(A[N].sort(R),M[N]=h[N].computeCursorState(r.model,{getInverseEditOperations:()=>A[N],getTrackedSelection:P=>{const F=parseInt(P,10),O=r.model._getTrackedRange(r.trackedRanges[F]);return r.trackedRangesDirection[F]===0?new b.Selection(O.startLineNumber,O.startColumn,O.endLineNumber,O.endColumn):new b.Selection(O.endLineNumber,O.endColumn,O.startLineNumber,O.startColumn)}})):M[N]=r.selectionsBefore[N];return M});E||(E=r.selectionsBefore);const I=[];for(const T in C)C.hasOwnProperty(T)&&I.push(parseInt(T,10));I.sort((T,A)=>A-T);for(const T of I)E.splice(T,1);return E}static _arrayIsEmpty(r){for(let h=0,u=r.length;h<u;h++)if(r[h])return!1;return!0}static _getEditOperations(r,h){let u=[],f=!1;for(let C=0,_=h.length;C<_;C++){const E=h[C];if(E){const I=this._getEditOperationsFromCommand(r,C,E);u=u.concat(I.operations),f=f||I.hadTrackedEditOperation}}return{operations:u,hadTrackedEditOperation:f}}static _getEditOperationsFromCommand(r,h,u){const f=[];let C=0;const _=(R,M,N=!1)=>{v.Range.isEmpty(R)&&M===""||f.push({identifier:{major:h,minor:C++},range:R,text:M,forceMoveMarkers:N,isAutoWhitespaceEdit:u.insertsAutoWhitespace})};let E=!1;const A={addEditOperation:_,addTrackedEditOperation:(R,M,N)=>{E=!0,_(R,M,N)},trackSelection:(R,M)=>{const N=b.Selection.liftSelection(R);let P;if(N.isEmpty())if(typeof M=="boolean")M?P=2:P=3;else{const B=r.model.getLineMaxColumn(N.startLineNumber);N.startColumn===B?P=2:P=3}else P=1;const F=r.trackedRanges.length,O=r.model._setTrackedRange(null,N,P);return r.trackedRanges[F]=O,r.trackedRangesDirection[F]=N.getDirection(),F.toString()}};try{u.getEditOperations(r.model,A)}catch(R){return(0,L.onUnexpectedError)(R),{operations:[],hadTrackedEditOperation:!1}}return{operations:f,hadTrackedEditOperation:E}}static _getLoserCursorMap(r){r=r.slice(0),r.sort((u,f)=>-v.Range.compareRangesUsingEnds(u.range,f.range));const h={};for(let u=1;u<r.length;u++){const f=r[u-1],C=r[u];if(v.Range.getStartPosition(f.range).isBefore(v.Range.getEndPosition(C.range))){let _;f.identifier.major>C.identifier.major?_=f.identifier.major:_=C.identifier.major,h[_.toString()]=!0;for(let E=0;E<r.length;E++)r[E].identifier.major===_&&(r.splice(E,1),E<u&&u--,E--);u>0&&u--}}return h}}class d{constructor(r,h,u){this.text=r,this.startSelection=h,this.endSelection=u}}class s{static _capture(r,h){const u=[];for(const f of h){if(f.startLineNumber!==f.endLineNumber)return null;u.push(new d(r.getLineContent(f.startLineNumber),f.startColumn-1,f.endColumn-1))}return u}constructor(r,h){this._original=s._capture(r,h)}deduceOutcome(r,h){if(!this._original)return null;const u=s._capture(r,h);if(!u||this._original.length!==u.length)return null;const f=[];for(let C=0,_=this._original.length;C<_;C++)f.push(s._deduceOutcome(this._original[C],u[C]));return f}static _deduceOutcome(r,h){const u=Math.min(r.startSelection,h.startSelection,k.commonPrefixLength(r.text,h.text)),f=Math.min(r.text.length-r.endSelection,h.text.length-h.endSelection,k.commonSuffixLength(r.text,h.text)),C=r.text.substring(u,r.text.length-f),_=h.text.substring(u,h.text.length-f);return new w.CompositionOutcome(C,r.startSelection-u,r.endSelection-u,_,h.startSelection-u,h.endSelection-u)}}}),define(ne[802],se([1,0,47,48,81,347]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClasses=void 0;const S=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function p(b,a,n,i,t){if(t)return[`codicon-${t.id}`,"predefined-file-icon"];const o=i===D.FileKind.ROOT_FOLDER?["rootfolder-icon"]:i===D.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(n){let g;if(n.scheme===L.Schemas.data)g=k.DataUri.parseMetaData(n).get(k.DataUri.META_DATA_LABEL);else{const m=n.path.match(S);m?(g=v(m[2].toLowerCase()),m[1]&&o.push(`${v(m[1].toLowerCase())}-name-dir-icon`)):g=v(n.authority.toLowerCase())}if(i===D.FileKind.ROOT_FOLDER)o.push(`${g}-root-name-folder-icon`);else if(i===D.FileKind.FOLDER)o.push(`${g}-name-folder-icon`);else{if(g){if(o.push(`${g}-name-file-icon`),o.push("name-file-icon"),g.length<=255){const c=g.split(".");for(let d=1;d<c.length;d++)o.push(`${c.slice(d).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const m=w(b,a,n);m&&o.push(`${v(m)}-lang-file-icon`)}}return o}e.getIconClasses=p;function w(b,a,n){if(!n)return null;let i=null;if(n.scheme===L.Schemas.data){const o=k.DataUri.parseMetaData(n).get(k.DataUri.META_DATA_MIME);o&&(i=a.getLanguageIdByMimeType(o))}else{const t=b.getModel(n);t&&(i=t.getLanguageId())}return i&&i!==y.PLAINTEXT_LANGUAGE_ID?i:a.guessLanguageIdByFilepathOrFirstLine(n)}function v(b){return b.replace(/[\11\12\14\15\40]/g,"/")}}),define(ne[803],se([1,0,322,113,47,98,48,11,81]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageIds=e.clearPlatformLanguageAssociations=e.registerPlatformLanguageAssociation=void 0;let v=[],b=[],a=[];function n(s,l=!1){i(s,!1,l)}e.registerPlatformLanguageAssociation=n;function i(s,l,r){const h=t(s,l);v.push(h),h.userConfigured?a.push(h):b.push(h),r&&!h.userConfigured&&v.forEach(u=>{u.mime===h.mime||u.userConfigured||(h.extension&&u.extension===h.extension&&console.warn(`Overwriting extension <<${h.extension}>> to now point to mime <<${h.mime}>>`),h.filename&&u.filename===h.filename&&console.warn(`Overwriting filename <<${h.filename}>> to now point to mime <<${h.mime}>>`),h.filepattern&&u.filepattern===h.filepattern&&console.warn(`Overwriting filepattern <<${h.filepattern}>> to now point to mime <<${h.mime}>>`),h.firstline&&u.firstline===h.firstline&&console.warn(`Overwriting firstline <<${h.firstline}>> to now point to mime <<${h.mime}>>`))})}function t(s,l){return{id:s.id,mime:s.mime,filename:s.filename,extension:s.extension,filepattern:s.filepattern,firstline:s.firstline,userConfigured:l,filenameLowercase:s.filename?s.filename.toLowerCase():void 0,extensionLowercase:s.extension?s.extension.toLowerCase():void 0,filepatternLowercase:s.filepattern?(0,L.parse)(s.filepattern.toLowerCase()):void 0,filepatternOnPath:s.filepattern?s.filepattern.indexOf(D.posix.sep)>=0:!1}}function o(){v=v.filter(s=>s.userConfigured),b=[]}e.clearPlatformLanguageAssociations=o;function g(s,l){return m(s,l).map(r=>r.id)}e.getLanguageIds=g;function m(s,l){let r;if(s)switch(s.scheme){case y.Schemas.file:r=s.fsPath;break;case y.Schemas.data:{r=S.DataUri.parseMetaData(s).get(S.DataUri.META_DATA_LABEL);break}case y.Schemas.vscodeNotebookCell:r=void 0;break;default:r=s.path}if(!r)return[{id:"unknown",mime:k.Mimes.unknown}];r=r.toLowerCase();const h=(0,D.basename)(r),u=c(r,h,a);if(u)return[u,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];const f=c(r,h,b);if(f)return[f,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];if(l){const C=d(l);if(C)return[C,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}]}return[{id:"unknown",mime:k.Mimes.unknown}]}function c(s,l,r){var h;let u,f,C;for(let _=r.length-1;_>=0;_--){const E=r[_];if(l===E.filenameLowercase){u=E;break}if(E.filepattern&&(!f||E.filepattern.length>f.filepattern.length)){const I=E.filepatternOnPath?s:l;!((h=E.filepatternLowercase)===null||h===void 0)&&h.call(E,I)&&(f=E)}E.extension&&(!C||E.extension.length>C.extension.length)&&l.endsWith(E.extensionLowercase)&&(C=E)}if(u)return u;if(f)return f;if(C)return C}function d(s){if((0,p.startsWithUTF8BOM)(s)&&(s=s.substr(1)),s.length>0)for(let l=v.length-1;l>=0;l--){const r=v[l];if(!r.firstline)continue;const h=s.match(r.firstline);if(h&&h.length>0)return r}}}),define(ne[804],se([1,0,7,2,11,803,81,101,37]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const v=Object.prototype.hasOwnProperty,b="vs.editor.nullLanguage";class a{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(b,0),this._register(S.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(t,o){this._languageIdToLanguage[o]=t,this._languageToLanguageId.set(t,o)}register(t){if(this._languageToLanguageId.has(t))return;const o=this._nextLanguageId++;this._register(t,o)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||b}}e.LanguageIdCodec=a;class n extends k.Disposable{constructor(t=!0,o=!1){super(),this._onDidChange=this._register(new L.Emitter),this.onDidChange=this._onDidChange.event,n.instanceCount++,this._warnOnOverwrite=o,this.languageIdCodec=new a,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(S.ModesRegistry.onDidChangeLanguages(g=>{this._initializeFromRegistry()})))}dispose(){n.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,D.clearPlatformLanguageAssociations)();const t=[].concat(S.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const o of t)this._registerLanguage(o);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(o=>{const g=this._languages[o];g.name&&(this._nameMap[g.name]=g.identifier),g.aliases.forEach(m=>{this._lowercaseNameMap[m.toLowerCase()]=g.identifier}),g.mimetypes.forEach(m=>{this._mimeTypesMap[m]=g.identifier})}),w.Registry.as(p.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const o=t.id;let g;v.call(this._languages,o)?g=this._languages[o]:(this.languageIdCodec.register(o),g={identifier:o,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[o]=g),this._mergeLanguage(g,t)}_mergeLanguage(t,o){const g=o.id;let m=null;if(Array.isArray(o.mimetypes)&&o.mimetypes.length>0&&(t.mimetypes.push(...o.mimetypes),m=o.mimetypes[0]),m||(m=`text/x-${g}`,t.mimetypes.push(m)),Array.isArray(o.extensions)){o.configuration?t.extensions=o.extensions.concat(t.extensions):t.extensions=t.extensions.concat(o.extensions);for(const s of o.extensions)(0,D.registerPlatformLanguageAssociation)({id:g,mime:m,extension:s},this._warnOnOverwrite)}if(Array.isArray(o.filenames))for(const s of o.filenames)(0,D.registerPlatformLanguageAssociation)({id:g,mime:m,filename:s},this._warnOnOverwrite),t.filenames.push(s);if(Array.isArray(o.filenamePatterns))for(const s of o.filenamePatterns)(0,D.registerPlatformLanguageAssociation)({id:g,mime:m,filepattern:s},this._warnOnOverwrite);if(typeof o.firstLine=="string"&&o.firstLine.length>0){let s=o.firstLine;s.charAt(0)!=="^"&&(s="^"+s);try{const l=new RegExp(s);(0,y.regExpLeadsToEndlessLoop)(l)||(0,D.registerPlatformLanguageAssociation)({id:g,mime:m,firstline:l},this._warnOnOverwrite)}catch(l){console.warn(`[${o.id}]: Invalid regular expression \`${s}\`: `,l)}}t.aliases.push(g);let c=null;if(typeof o.aliases<"u"&&Array.isArray(o.aliases)&&(o.aliases.length===0?c=[null]:c=o.aliases),c!==null)for(const s of c)!s||s.length===0||t.aliases.push(s);const d=c!==null&&c.length>0;if(!(d&&c[0]===null)){const s=(d?c[0]:null)||g;(d||!t.name)&&(t.name=s)}o.configuration&&t.configurationFiles.push(o.configuration),o.icon&&t.icons.push(o.icon)}isRegisteredLanguageId(t){return t?v.call(this._languages,t):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const o=t.toLowerCase();return v.call(this._lowercaseNameMap,o)?this._lowercaseNameMap[o]:null}getLanguageIdByMimeType(t){return t&&v.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,o){return!t&&!o?[]:(0,D.getLanguageIds)(t,o)}}e.LanguagesRegistry=n,n.instanceCount=0}),define(ne[805],se([1,0,7,2,804,13,30,81]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class w extends k.Disposable{constructor(a=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new L.Emitter),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new L.Emitter),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new L.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,w.instanceCount++,this._registry=this._register(new y.LanguagesRegistry(!0,a)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){w.instanceCount--,super.dispose()}isRegisteredLanguageId(a){return this._registry.isRegisteredLanguageId(a)}getLanguageIdByLanguageName(a){return this._registry.getLanguageIdByLanguageName(a)}getLanguageIdByMimeType(a){return this._registry.getLanguageIdByMimeType(a)}guessLanguageIdByFilepathOrFirstLine(a,n){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(a,n);return(0,D.firstOrDefault)(i,null)}createById(a){return new v(this.onDidChange,()=>this._createAndGetLanguageIdentifier(a))}createByFilepathOrFirstLine(a,n){return new v(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(a,n);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(a){return(!a||!this.isRegisteredLanguageId(a))&&(a=p.PLAINTEXT_LANGUAGE_ID),a}requestBasicLanguageFeatures(a){this._requestedBasicLanguages.has(a)||(this._requestedBasicLanguages.add(a),this._onDidRequestBasicLanguageFeatures.fire(a))}requestRichLanguageFeatures(a){this._requestedRichLanguages.has(a)||(this._requestedRichLanguages.add(a),this.requestBasicLanguageFeatures(a),S.TokenizationRegistry.getOrCreate(a),this._onDidRequestRichLanguageFeatures.fire(a))}}e.LanguageService=w,w.instanceCount=0;class v{constructor(a,n){this._onDidChangeLanguages=a,this._selector=n,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new L.Emitter({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var a;const n=this._selector();n!==this.languageId&&(this.languageId=n,(a=this._emitter)===null||a===void 0||a.fire(this.languageId))}}}),define(ne[360],se([1,0,39,252,51,33,2,18,135]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDocumentColorProvider=void 0;class v{constructor(n,i){this._editorWorkerClient=new k.EditorWorkerClient(n,!1,"editorWorkerService",i)}async provideDocumentColors(n,i){return this._editorWorkerClient.computeDefaultDocumentColors(n.uri)}provideColorPresentations(n,i,t){const o=i.range,g=i.color,m=g.alpha,c=new L.Color(new L.RGBA(Math.round(255*g.red),Math.round(255*g.green),Math.round(255*g.blue),m)),d=m?L.Color.Format.CSS.formatRGB(c):L.Color.Format.CSS.formatRGBA(c),s=m?L.Color.Format.CSS.formatHSL(c):L.Color.Format.CSS.formatHSLA(c),l=m?L.Color.Format.CSS.formatHex(c):L.Color.Format.CSS.formatHexA(c),r=[];return r.push({label:d,textEdit:{range:o,text:d}}),r.push({label:s,textEdit:{range:o,text:s}}),r.push({label:l,textEdit:{range:o,text:l}}),r}}e.DefaultDocumentColorProvider=v;let b=class extends S.Disposable{constructor(n,i,t){super(),this._register(t.colorProvider.register("*",new v(n,i)))}};b=De([he(0,y.IModelService),he(1,D.ILanguageConfigurationService),he(2,p.ILanguageFeaturesService)],b),(0,w.registerEditorFeature)(b)}),define(ne[361],se([1,0,19,12,22,5,51,25,18,360,26]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;async function a(c,d,s,l=!0){return g(new i,c,d,s,l)}e.getColors=a;function n(c,d,s,l){return Promise.resolve(s.provideColorPresentations(c,d,l))}e.getColorPresentations=n;class i{constructor(){}async compute(d,s,l,r){const h=await d.provideDocumentColors(s,l);if(Array.isArray(h))for(const u of h)r.push({colorInfo:u,provider:d});return Array.isArray(h)}}class t{constructor(){}async compute(d,s,l,r){const h=await d.provideDocumentColors(s,l);if(Array.isArray(h))for(const u of h)r.push({range:u.range,color:[u.color.red,u.color.green,u.color.blue,u.color.alpha]});return Array.isArray(h)}}class o{constructor(d){this.colorInfo=d}async compute(d,s,l,r){const h=await d.provideColorPresentations(s,this.colorInfo,L.CancellationToken.None);return Array.isArray(h)&&r.push(...h),Array.isArray(h)}}async function g(c,d,s,l,r){let h=!1,u;const f=[],C=d.ordered(s);for(let _=C.length-1;_>=0;_--){const E=C[_];if(E instanceof v.DefaultDocumentColorProvider)u=E;else try{await c.compute(E,s,l,f)&&(h=!0)}catch(I){(0,k.onUnexpectedExternalError)(I)}}return h?f:u&&r?(await c.compute(u,s,l,f),f):[]}function m(c,d){const{colorProvider:s}=c.get(w.ILanguageFeaturesService),l=c.get(S.IModelService).getModel(d);if(!l)throw(0,k.illegalArgument)();const r=c.get(b.IConfigurationService).getValue("editor.defaultColorDecorators",{resource:d});return{model:l,colorProviderRegistry:s,isDefaultColorDecoratorsEnabled:r}}p.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(c,...d){const[s]=d;if(!(s instanceof y.URI))throw(0,k.illegalArgument)();const{model:l,colorProviderRegistry:r,isDefaultColorDecoratorsEnabled:h}=m(c,s);return g(new t,r,l,L.CancellationToken.None,h)}),p.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(c,...d){const[s,l]=d,{uri:r,range:h}=l;if(!(r instanceof y.URI)||!Array.isArray(s)||s.length!==4||!D.Range.isIRange(h))throw(0,k.illegalArgument)();const{model:u,colorProviderRegistry:f,isDefaultColorDecoratorsEnabled:C}=m(c,r),[_,E,I,T]=s;return g(new o({range:h,color:{red:_,green:E,blue:I,alpha:T}}),f,u,L.CancellationToken.None,C)})}),define(ne[806],se([1,0,6,13,58,2,108,338,233,40]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const b=L.$;class a extends D.Disposable{constructor(t,o,g){super(),this._renderDisposeables=this._register(new D.DisposableStore),this._editor=t,this._isVisible=!1,this._messages=[],this._hover=this._register(new w.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new S.MarkdownRenderer({editor:this._editor},o,g)),this._computer=new n(this._editor),this._hoverOperation=this._register(new p.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(m=>{this._withResult(m.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(m=>{m.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return a.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(o=>this._editor.applyFontInfo(o))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(t,o){this._computer.lineNumber===t&&this._computer.lane===o||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=t,this._computer.lane=o,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(t){this._messages=t,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(t,o){this._renderDisposeables.clear();const g=document.createDocumentFragment();for(const m of o){const c=b("div.hover-row.markdown-hover"),d=L.append(c,b("div.hover-contents")),s=this._renderDisposeables.add(this._markdownRenderer.render(m.value));d.appendChild(s.element),g.appendChild(c)}this._updateContents(g),this._showAt(t)}_updateContents(t){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(t),this._updateFont()}_showAt(t){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const o=this._editor.getLayoutInfo(),g=this._editor.getTopForLineNumber(t),m=this._editor.getScrollTop(),c=this._editor.getOption(67),d=this._hover.containerDomNode.clientHeight,s=g-m-(d-c)/2,l=o.glyphMarginLeft+o.glyphMarginWidth+(this._computer.lane==="lineNo"?o.lineNumbersWidth:0);this._hover.containerDomNode.style.left=`${l}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(s),0)}px`}}e.MarginHoverWidget=a,a.ID="editor.contrib.modesGlyphHoverWidget";class n{get lineNumber(){return this._lineNumber}set lineNumber(t){this._lineNumber=t}get lane(){return this._laneOrLine}set lane(t){this._laneOrLine=t}constructor(t){this._editor=t,this._lineNumber=-1,this._laneOrLine=v.GlyphMarginLane.Center}computeSync(){var t,o;const g=s=>({value:s}),m=this._editor.getLineDecorations(this._lineNumber),c=[],d=this._laneOrLine==="lineNo";if(!m)return c;for(const s of m){const l=(o=(t=s.options.glyphMargin)===null||t===void 0?void 0:t.position)!==null&&o!==void 0?o:v.GlyphMarginLane.Center;if(!d&&l!==this._laneOrLine)continue;const r=d?s.options.lineNumberHoverMessage:s.options.glyphMarginHoverMessage;!r||(0,y.isEmptyMarkdownString)(r)||c.push(...(0,k.asArray)(r).map(g))}return c}}}),define(ne[807],se([1,0,19,73,2,32,9,30,33,18,627,223]),function(ee,e,L,k,y,D,S,p,w,v,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionWithUpdatedRange=e.UpToDateInlineCompletions=e.InlineCompletionsSource=void 0;let n=class extends y.Disposable{constructor(l,r,h,u,f){super(),this.textModel=l,this.versionId=r,this._debounceValue=h,this.languageFeaturesService=u,this.languageConfigurationService=f,this._updateOperation=this._register(new y.MutableDisposable),this.inlineCompletions=(0,D.disposableObservableValue)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,D.disposableObservableValue)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(l,r,h){var u,f;const C=new t(l,r,this.textModel.getVersionId()),_=r.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((u=this._updateOperation.value)===null||u===void 0)&&u.request.satisfies(C))return this._updateOperation.value.promise;if(!((f=_.get())===null||f===void 0)&&f.request.satisfies(C))return Promise.resolve(!0);const E=!!this._updateOperation.value;this._updateOperation.clear();const I=new L.CancellationTokenSource,T=(async()=>{if((E||r.triggerKind===p.InlineCompletionTriggerKind.Automatic)&&await i(this._debounceValue.get(this.textModel),I.token),I.token.isCancellationRequested||this.textModel.getVersionId()!==C.versionId)return!1;const M=new Date,N=await(0,b.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,l,this.textModel,r,I.token,this.languageConfigurationService);if(I.token.isCancellationRequested||this.textModel.getVersionId()!==C.versionId)return!1;const P=new Date;this._debounceValue.update(this.textModel,P.getTime()-M.getTime());const F=new m(N,C,this.textModel,this.versionId);if(h){const O=h.toInlineCompletion(void 0);h.canBeReused(this.textModel,l)&&!N.has(O)&&F.prepend(h.inlineCompletion,O.range,!0)}return this._updateOperation.clear(),(0,D.transaction)(O=>{_.set(F,O)}),!0})(),A=new g(C,I,T);return this._updateOperation.value=A,T}clear(l){this._updateOperation.clear(),this.inlineCompletions.set(void 0,l),this.suggestWidgetInlineCompletions.set(void 0,l)}clearSuggestWidgetInlineCompletions(l){var r;!((r=this._updateOperation.value)===null||r===void 0)&&r.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,l)}cancelUpdate(){this._updateOperation.clear()}};e.InlineCompletionsSource=n,e.InlineCompletionsSource=n=De([he(3,v.ILanguageFeaturesService),he(4,w.ILanguageConfigurationService)],n);function i(s,l){return new Promise(r=>{let h;const u=setTimeout(()=>{h&&h.dispose(),r()},s);l&&(h=l.onCancellationRequested(()=>{clearTimeout(u),h&&h.dispose(),r()}))})}class t{constructor(l,r,h){this.position=l,this.context=r,this.versionId=h}satisfies(l){return this.position.equals(l.position)&&o(this.context.selectedSuggestionInfo,l.context.selectedSuggestionInfo,(r,h)=>r.equals(h))&&(l.context.triggerKind===p.InlineCompletionTriggerKind.Automatic||this.context.triggerKind===p.InlineCompletionTriggerKind.Explicit)&&this.versionId===l.versionId}}function o(s,l,r){return!s||!l?s===l:r(s,l)}class g{constructor(l,r,h){this.request=l,this.cancellationTokenSource=r,this.promise=h}dispose(){this.cancellationTokenSource.cancel()}}class m{get inlineCompletions(){return this._inlineCompletions}constructor(l,r,h,u){this.inlineCompletionProviderResult=l,this.request=r,this.textModel=h,this.versionId=u,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=(0,D.derived)(this,C=>{this.versionId.read(C);let _=!1;for(const E of this._inlineCompletions)_=_||E._updateRange(this.textModel);return _&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const f=h.deltaDecorations([],l.completions.map(C=>({range:C.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=l.completions.map((C,_)=>new c(C,f[_],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(l=>l.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const l of this._prependedInlineCompletionItems)l.source.removeRef()}}prepend(l,r,h){h&&l.source.addRef();const u=this.textModel.deltaDecorations([],[{range:r,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new c(l,u,this._rangeVersionId,r)),this._prependedInlineCompletionItems.push(l)}}e.UpToDateInlineCompletions=m;class c{get forwardStable(){var l;return(l=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&l!==void 0?l:!1}constructor(l,r,h,u){this.inlineCompletion=l,this.decorationId=r,this.rangeVersion=h,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=u??l.range}toInlineCompletion(l){return this.inlineCompletion.withRange(this._getUpdatedRange(l))}toSingleTextEdit(l){return new a.SingleTextEdit(this._getUpdatedRange(l),this.inlineCompletion.insertText)}isVisible(l,r,h){const u=this._toFilterTextReplacement(h).removeCommonPrefix(l);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(h).getStartPosition())||r.lineNumber!==u.range.startLineNumber)return!1;const f=l.getValueInRange(u.range,1),C=u.text,_=Math.max(0,r.column-u.range.startColumn);let E=C.substring(0,_),I=C.substring(_),T=f.substring(0,_),A=f.substring(_);const R=l.getLineIndentColumn(u.range.startLineNumber);return u.range.startColumn<=R&&(T=T.trimStart(),T.length===0&&(A=A.trimStart()),E=E.trimStart(),E.length===0&&(I=I.trimStart())),E.startsWith(T)&&!!(0,k.matchesSubString)(A,I)}canBeReused(l,r){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(r)&&this.isVisible(l,r,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(l){return new a.SingleTextEdit(this._getUpdatedRange(l),this.inlineCompletion.filterText)}_isSmallerThanOriginal(l){return d(this._getUpdatedRange(l)).isBefore(d(this.inlineCompletion.range))}_getUpdatedRange(l){return this.rangeVersion.read(l),this._updatedRange}_updateRange(l){const r=l.getDecorationRange(this.decorationId);return r?this._updatedRange.equalsRange(r)?!1:(this._updatedRange=r,!0):(this._isValid=!1,!0)}}e.InlineCompletionWithUpdatedRange=c;function d(s){return s.startLineNumber===s.endLineNumber?new S.Position(1,1+s.endColumn-s.startColumn):new S.Position(1+s.endLineNumber-s.startLineNumber,s.endColumn)}}),define(ne[808],se([1,0,11,255,5,23,116,33,314,253,254]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let a=class{constructor(i,t,o,g){this._languageConfigurationService=g,this._selection=i,this._isMovingDown=t,this._autoIndent=o,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(i,t){const o=i.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===o){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let g=this._selection;g.startLineNumber<g.endLineNumber&&g.endColumn===1&&(this._moveEndPositionDown=!0,g=g.setEndPosition(g.endLineNumber-1,i.getLineMaxColumn(g.endLineNumber-1)));const{tabSize:m,indentSize:c,insertSpaces:d}=i.getOptions(),s=this.buildIndentConverter(m,c,d),l={tokenization:{getLineTokens:r=>i.tokenization.getLineTokens(r),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(r,h)=>i.getLanguageIdAtPosition(r,h)},getLineContent:null};if(g.startLineNumber===g.endLineNumber&&i.getLineMaxColumn(g.startLineNumber)===1){const r=g.startLineNumber,h=this._isMovingDown?r+1:r-1;i.getLineMaxColumn(h)===1?t.addEditOperation(new y.Range(1,1,1,1),null):(t.addEditOperation(new y.Range(r,1,r,1),i.getLineContent(h)),t.addEditOperation(new y.Range(h,1,h,i.getLineMaxColumn(h)),null)),g=new D.Selection(h,1,h,1)}else{let r,h;if(this._isMovingDown){r=g.endLineNumber+1,h=i.getLineContent(r),t.addEditOperation(new y.Range(r-1,i.getLineMaxColumn(r-1),r,i.getLineMaxColumn(r)),null);let u=h;if(this.shouldAutoIndent(i,g)){const f=this.matchEnterRule(i,s,m,r,g.startLineNumber-1);if(f!==null){const _=L.getLeadingWhitespace(i.getLineContent(r)),E=f+w.getSpaceCnt(_,m);u=w.generateIndent(E,m,d)+this.trimStart(h)}else{l.getLineContent=E=>E===g.startLineNumber?i.getLineContent(r):i.getLineContent(E);const _=(0,v.getGoodIndentForLine)(this._autoIndent,l,i.getLanguageIdAtPosition(r,1),g.startLineNumber,s,this._languageConfigurationService);if(_!==null){const E=L.getLeadingWhitespace(i.getLineContent(r)),I=w.getSpaceCnt(_,m),T=w.getSpaceCnt(E,m);I!==T&&(u=w.generateIndent(I,m,d)+this.trimStart(h))}}t.addEditOperation(new y.Range(g.startLineNumber,1,g.startLineNumber,1),u+`
`);const C=this.matchEnterRuleMovingDown(i,s,m,g.startLineNumber,r,u);if(C!==null)C!==0&&this.getIndentEditsOfMovingBlock(i,t,g,m,d,C);else{l.getLineContent=E=>E===g.startLineNumber?u:E>=g.startLineNumber+1&&E<=g.endLineNumber+1?i.getLineContent(E-1):i.getLineContent(E);const _=(0,v.getGoodIndentForLine)(this._autoIndent,l,i.getLanguageIdAtPosition(r,1),g.startLineNumber+1,s,this._languageConfigurationService);if(_!==null){const E=L.getLeadingWhitespace(i.getLineContent(g.startLineNumber)),I=w.getSpaceCnt(_,m),T=w.getSpaceCnt(E,m);if(I!==T){const A=I-T;this.getIndentEditsOfMovingBlock(i,t,g,m,d,A)}}}}else t.addEditOperation(new y.Range(g.startLineNumber,1,g.startLineNumber,1),u+`
`)}else if(r=g.startLineNumber-1,h=i.getLineContent(r),t.addEditOperation(new y.Range(r,1,r+1,1),null),t.addEditOperation(new y.Range(g.endLineNumber,i.getLineMaxColumn(g.endLineNumber),g.endLineNumber,i.getLineMaxColumn(g.endLineNumber)),`
`+h),this.shouldAutoIndent(i,g)){l.getLineContent=f=>f===r?i.getLineContent(g.startLineNumber):i.getLineContent(f);const u=this.matchEnterRule(i,s,m,g.startLineNumber,g.startLineNumber-2);if(u!==null)u!==0&&this.getIndentEditsOfMovingBlock(i,t,g,m,d,u);else{const f=(0,v.getGoodIndentForLine)(this._autoIndent,l,i.getLanguageIdAtPosition(g.startLineNumber,1),r,s,this._languageConfigurationService);if(f!==null){const C=L.getLeadingWhitespace(i.getLineContent(g.startLineNumber)),_=w.getSpaceCnt(f,m),E=w.getSpaceCnt(C,m);if(_!==E){const I=_-E;this.getIndentEditsOfMovingBlock(i,t,g,m,d,I)}}}}}this._selectionId=t.trackSelection(g)}buildIndentConverter(i,t,o){return{shiftIndent:g=>k.ShiftCommand.shiftIndent(g,g.length+1,i,t,o),unshiftIndent:g=>k.ShiftCommand.unshiftIndent(g,g.length+1,i,t,o)}}parseEnterResult(i,t,o,g,m){if(m){let c=m.indentation;m.indentAction===S.IndentAction.None||m.indentAction===S.IndentAction.Indent?c=m.indentation+m.appendText:m.indentAction===S.IndentAction.IndentOutdent?c=m.indentation:m.indentAction===S.IndentAction.Outdent&&(c=t.unshiftIndent(m.indentation)+m.appendText);const d=i.getLineContent(g);if(this.trimStart(d).indexOf(this.trimStart(c))>=0){const s=L.getLeadingWhitespace(i.getLineContent(g));let l=L.getLeadingWhitespace(c);const r=(0,v.getIndentMetadata)(i,g,this._languageConfigurationService);r!==null&&r&2&&(l=t.unshiftIndent(l));const h=w.getSpaceCnt(l,o),u=w.getSpaceCnt(s,o);return h-u}}return null}matchEnterRuleMovingDown(i,t,o,g,m,c){if(L.lastNonWhitespaceIndex(c)>=0){const d=i.getLineMaxColumn(m),s=(0,b.getEnterAction)(this._autoIndent,i,new y.Range(m,d,m,d),this._languageConfigurationService);return this.parseEnterResult(i,t,o,g,s)}else{let d=g-1;for(;d>=1;){const r=i.getLineContent(d);if(L.lastNonWhitespaceIndex(r)>=0)break;d--}if(d<1||g>i.getLineCount())return null;const s=i.getLineMaxColumn(d),l=(0,b.getEnterAction)(this._autoIndent,i,new y.Range(d,s,d,s),this._languageConfigurationService);return this.parseEnterResult(i,t,o,g,l)}}matchEnterRule(i,t,o,g,m,c){let d=m;for(;d>=1;){let r;if(d===m&&c!==void 0?r=c:r=i.getLineContent(d),L.lastNonWhitespaceIndex(r)>=0)break;d--}if(d<1||g>i.getLineCount())return null;const s=i.getLineMaxColumn(d),l=(0,b.getEnterAction)(this._autoIndent,i,new y.Range(d,s,d,s),this._languageConfigurationService);return this.parseEnterResult(i,t,o,g,l)}trimStart(i){return i.replace(/^\s+/,"")}shouldAutoIndent(i,t){if(this._autoIndent<4||!i.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const o=i.getLanguageIdAtPosition(t.startLineNumber,1),g=i.getLanguageIdAtPosition(t.endLineNumber,1);return!(o!==g||this._languageConfigurationService.getLanguageConfiguration(o).indentRulesSupport===null)}getIndentEditsOfMovingBlock(i,t,o,g,m,c){for(let d=o.startLineNumber;d<=o.endLineNumber;d++){const s=i.getLineContent(d),l=L.getLeadingWhitespace(s),h=w.getSpaceCnt(l,g)+c,u=w.generateIndent(h,g,m);u!==l&&(t.addEditOperation(new y.Range(d,1,d,l.length+1),u),d===o.endLineNumber&&o.endColumn<=l.length+1&&u===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(i,t){let o=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(o=o.setEndPosition(o.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&o.startLineNumber<o.endLineNumber&&(o=o.setEndPosition(o.endLineNumber,2)),o}};e.MoveLinesCommand=a,e.MoveLinesCommand=a=De([he(3,p.ILanguageConfigurationService)],a)}),define(ne[362],se([1,0,6,78,27,29,7,58,2,108,231,729,8]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function i(g){return!!g&&!!(g.completion.documentation||g.completion.detail&&g.completion.detail!==g.completion.label)}e.canExpandCompletionItem=i;let t=class{constructor(m,c){this._editor=m,this._onDidClose=new S.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new S.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new w.DisposableStore,this._renderDisposeable=new w.DisposableStore,this._borderWidth=1,this._size=new L.Dimension(330,0),this.domNode=L.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=c.createInstance(v.MarkdownRenderer,{editor:m}),this._body=L.$(".body"),this._scrollbar=new k.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),L.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=L.append(this._body,L.$(".header")),this._close=L.append(this._header,L.$("span"+D.ThemeIcon.asCSSSelector(y.Codicon.close))),this._close.title=a.localize(0,null),this._type=L.append(this._header,L.$("p.type")),this._docs=L.append(this._body,L.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(d=>{d.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const m=this._editor.getOptions(),c=m.get(50),d=c.getMassagedFontFamily(),s=m.get(119)||c.fontSize,l=m.get(120)||c.lineHeight,r=c.fontWeight,h=`${s}px`,u=`${l}px`;this.domNode.style.fontSize=h,this.domNode.style.lineHeight=`${l/s}`,this.domNode.style.fontWeight=r,this.domNode.style.fontFeatureSettings=c.fontFeatureSettings,this._type.style.fontFamily=d,this._close.style.height=u,this._close.style.width=u}getLayoutInfo(){const m=this._editor.getOption(120)||this._editor.getOption(50).lineHeight,c=this._borderWidth,d=c*2;return{lineHeight:m,borderWidth:c,borderHeight:d,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=a.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(m,c){var d,s;this._renderDisposeable.clear();let{detail:l,documentation:r}=m.completion;if(c){let h="";h+=`score: ${m.score[0]}
`,h+=`prefix: ${(d=m.word)!==null&&d!==void 0?d:"(no prefix)"}
`,h+=`word: ${m.completion.filterText?m.completion.filterText+" (filterText)":m.textLabel}
`,h+=`distance: ${m.distance} (localityBonus-setting)
`,h+=`index: ${m.idx}, based on ${m.completion.sortText&&`sortText: "${m.completion.sortText}"`||"label"}
`,h+=`commit_chars: ${(s=m.completion.commitCharacters)===null||s===void 0?void 0:s.join("")}
`,r=new p.MarkdownString().appendCodeblock("empty",h),l=`Provider: ${m.provider._debugDisplayName}`}if(!c&&!i(m)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),l){const h=l.length>1e5?`${l.substr(0,1e5)}\u2026`:l;this._type.textContent=h,this._type.title=h,L.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(h))}else L.clearNode(this._type),this._type.title="",L.hide(this._type),this.domNode.classList.add("no-type");if(L.clearNode(this._docs),typeof r=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=r;else if(r){this._docs.classList.add("markdown-docs"),L.clearNode(this._docs);const h=this._markdownRenderer.render(r);this._docs.appendChild(h.element),this._renderDisposeable.add(h),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=h=>{h.preventDefault(),h.stopPropagation()},this._close.onclick=h=>{h.preventDefault(),h.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(m,c){const d=new L.Dimension(m,c);L.Dimension.equals(d,this._size)||(this._size=d,L.size(this.domNode,m,c)),this._scrollbar.scanDomNode()}scrollDown(m=8){this._body.scrollTop+=m}scrollUp(m=8){this._body.scrollTop-=m}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(m){this._borderWidth=m}get borderWidth(){return this._borderWidth}};e.SuggestDetailsWidget=t,e.SuggestDetailsWidget=t=De([he(1,n.IInstantiationService)],t);class o{constructor(m,c){this.widget=m,this._editor=c,this.allowEditorOverflow=!0,this._disposables=new w.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new b.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(m.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let d,s,l=0,r=0;this._disposables.add(this._resizable.onDidWillResize(()=>{d=this._topLeft,s=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(h=>{if(d&&s){this.widget.layout(h.dimension.width,h.dimension.height);let u=!1;h.west&&(r=s.width-h.dimension.width,u=!0),h.north&&(l=s.height-h.dimension.height,u=!0),u&&this._applyTopLeft({top:d.top+l,left:d.left+r})}h.done&&(d=void 0,s=void 0,l=0,r=0,this._userSize=h.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var h;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(h=this._userSize)!==null&&h!==void 0?h:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(m=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),m&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(m,c){var d;const s=m.getBoundingClientRect();this._anchorBox=s,this._preferAlignAtTop=c,this._placeAtAnchor(this._anchorBox,(d=this._userSize)!==null&&d!==void 0?d:this.widget.size,c)}_placeAtAnchor(m,c,d){var s;const l=L.getClientArea(this.getDomNode().ownerDocument.body),r=this.widget.getLayoutInfo(),h=new L.Dimension(220,2*r.lineHeight),u=m.top,f=function(){const B=l.width-(m.left+m.width+r.borderWidth+r.horizontalPadding),W=-r.borderWidth+m.left+m.width,V=new L.Dimension(B,l.height-m.top-r.borderHeight-r.verticalPadding),z=V.with(void 0,m.top+m.height-r.borderHeight-r.verticalPadding);return{top:u,left:W,fit:B-c.width,maxSizeTop:V,maxSizeBottom:z,minSize:h.with(Math.min(B,h.width))}}(),C=function(){const B=m.left-r.borderWidth-r.horizontalPadding,W=Math.max(r.horizontalPadding,m.left-c.width-r.borderWidth),V=new L.Dimension(B,l.height-m.top-r.borderHeight-r.verticalPadding),z=V.with(void 0,m.top+m.height-r.borderHeight-r.verticalPadding);return{top:u,left:W,fit:B-c.width,maxSizeTop:V,maxSizeBottom:z,minSize:h.with(Math.min(B,h.width))}}(),_=function(){const B=m.left,W=-r.borderWidth+m.top+m.height,V=new L.Dimension(m.width-r.borderHeight,l.height-m.top-m.height-r.verticalPadding);return{top:W,left:B,fit:V.height-c.height,maxSizeBottom:V,maxSizeTop:V,minSize:h.with(V.width)}}(),E=[f,C,_],I=(s=E.find(B=>B.fit>=0))!==null&&s!==void 0?s:E.sort((B,W)=>W.fit-B.fit)[0],T=m.top+m.height-r.borderHeight;let A,R=c.height;const M=Math.max(I.maxSizeTop.height,I.maxSizeBottom.height);R>M&&(R=M);let N;d?R<=I.maxSizeTop.height?(A=!0,N=I.maxSizeTop):(A=!1,N=I.maxSizeBottom):R<=I.maxSizeBottom.height?(A=!1,N=I.maxSizeBottom):(A=!0,N=I.maxSizeTop);let{top:P,left:F}=I;!A&&R>m.height&&(P=T-R);const O=this._editor.getDomNode();if(O){const B=O.getBoundingClientRect();P-=B.top,F-=B.left}this._applyTopLeft({left:F,top:P}),this._resizable.enableSashes(!A,I===f,A,I!==f),this._resizable.minSize=I.minSize,this._resizable.maxSize=N,this._resizable.layout(R,Math.min(N.width,c.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(m){this._topLeft=m,this._editor.layoutOverlayWidget(this)}}e.SuggestDetailsOverlay=o}),define(ne[363],se([1,0,13,53,54,20,22,26,101,37]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModelParser=e.ConfigurationModel=void 0;function b(g){return Object.isFrozen(g)?g:y.deepFreeze(g)}class a{constructor(m={},c=[],d=[],s){this._contents=m,this._keys=c,this._overrides=d,this.raw=s,this.overrideConfigurations=new Map}get rawConfiguration(){var m;if(!this._rawConfiguration)if(!((m=this.raw)===null||m===void 0)&&m.length){const c=this.raw.map(d=>{if(d instanceof a)return d;const s=new n("");return s.parseRaw(d),s.configurationModel});this._rawConfiguration=c.reduce((d,s)=>s===d?s:d.merge(s),c[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(m){return m?(0,p.getConfigurationValue)(this.contents,m):this.contents}inspect(m,c){const d=this;return{get value(){return b(d.rawConfiguration.getValue(m))},get override(){return c?b(d.rawConfiguration.getOverrideValue(m,c)):void 0},get merged(){return b(c?d.rawConfiguration.override(c).getValue(m):d.rawConfiguration.getValue(m))},get overrides(){const s=[];for(const{contents:l,identifiers:r,keys:h}of d.rawConfiguration.overrides){const u=new a(l,h).getValue(m);u!==void 0&&s.push({identifiers:r,value:u})}return s.length?b(s):void 0}}}getOverrideValue(m,c){const d=this.getContentsForOverrideIdentifer(c);return d?m?(0,p.getConfigurationValue)(d,m):d:void 0}override(m){let c=this.overrideConfigurations.get(m);return c||(c=this.createOverrideConfigurationModel(m),this.overrideConfigurations.set(m,c)),c}merge(...m){var c,d;const s=y.deepClone(this.contents),l=y.deepClone(this.overrides),r=[...this.keys],h=!((c=this.raw)===null||c===void 0)&&c.length?[...this.raw]:[this];for(const u of m)if(h.push(...!((d=u.raw)===null||d===void 0)&&d.length?u.raw:[u]),!u.isEmpty()){this.mergeContents(s,u.contents);for(const f of u.overrides){const[C]=l.filter(_=>L.equals(_.identifiers,f.identifiers));C?(this.mergeContents(C.contents,f.contents),C.keys.push(...f.keys),C.keys=L.distinct(C.keys)):l.push(y.deepClone(f))}for(const f of u.keys)r.indexOf(f)===-1&&r.push(f)}return new a(s,r,l,h.every(u=>u instanceof a)?void 0:h)}createOverrideConfigurationModel(m){const c=this.getContentsForOverrideIdentifer(m);if(!c||typeof c!="object"||!Object.keys(c).length)return this;const d={};for(const s of L.distinct([...Object.keys(this.contents),...Object.keys(c)])){let l=this.contents[s];const r=c[s];r&&(typeof l=="object"&&typeof r=="object"?(l=y.deepClone(l),this.mergeContents(l,r)):l=r),d[s]=l}return new a(d,this.keys,this.overrides)}mergeContents(m,c){for(const d of Object.keys(c)){if(d in m&&D.isObject(m[d])&&D.isObject(c[d])){this.mergeContents(m[d],c[d]);continue}m[d]=y.deepClone(c[d])}}getContentsForOverrideIdentifer(m){let c=null,d=null;const s=l=>{l&&(d?this.mergeContents(d,l):d=y.deepClone(l))};for(const l of this.overrides)l.identifiers.length===1&&l.identifiers[0]===m?c=l.contents:l.identifiers.includes(m)&&s(l.contents);return s(c),d}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(m,c){this.updateValue(m,c,!0)}setValue(m,c){this.updateValue(m,c,!1)}removeValue(m){const c=this.keys.indexOf(m);c!==-1&&(this.keys.splice(c,1),(0,p.removeFromValueTree)(this.contents,m),w.OVERRIDE_PROPERTY_REGEX.test(m)&&this.overrides.splice(this.overrides.findIndex(d=>L.equals(d.identifiers,(0,w.overrideIdentifiersFromKey)(m))),1))}updateValue(m,c,d){(0,p.addToValueTree)(this.contents,m,c,s=>console.error(s)),d=d||this.keys.indexOf(m)===-1,d&&this.keys.push(m),w.OVERRIDE_PROPERTY_REGEX.test(m)&&this.overrides.push({identifiers:(0,w.overrideIdentifiersFromKey)(m),keys:Object.keys(this.contents[m]),contents:(0,p.toValuesTree)(this.contents[m],s=>console.error(s))})}}e.ConfigurationModel=a;class n{constructor(m){this._name=m,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new a}parseRaw(m,c){this._raw=m;const{contents:d,keys:s,overrides:l,restricted:r,hasExcludedProperties:h}=this.doParseRaw(m,c);this._configurationModel=new a(d,s,l,h?[m]:void 0),this._restrictedConfigurations=r||[]}doParseRaw(m,c){const d=v.Registry.as(w.Extensions.Configuration).getConfigurationProperties(),s=this.filter(m,d,!0,c);m=s.raw;const l=(0,p.toValuesTree)(m,u=>console.error(`Conflict in settings file ${this._name}: ${u}`)),r=Object.keys(m),h=this.toOverrides(m,u=>console.error(`Conflict in settings file ${this._name}: ${u}`));return{contents:l,keys:r,overrides:h,restricted:s.restricted,hasExcludedProperties:s.hasExcludedProperties}}filter(m,c,d,s){var l,r,h;let u=!1;if(!s?.scopes&&!s?.skipRestricted&&!(!((l=s?.exclude)===null||l===void 0)&&l.length))return{raw:m,restricted:[],hasExcludedProperties:u};const f={},C=[];for(const _ in m)if(w.OVERRIDE_PROPERTY_REGEX.test(_)&&d){const E=this.filter(m[_],c,!1,s);f[_]=E.raw,u=u||E.hasExcludedProperties,C.push(...E.restricted)}else{const E=c[_],I=E?typeof E.scope<"u"?E.scope:3:void 0;E?.restricted&&C.push(_),!(!((r=s.exclude)===null||r===void 0)&&r.includes(_))&&(!((h=s.include)===null||h===void 0)&&h.includes(_)||(I===void 0||s.scopes===void 0||s.scopes.includes(I))&&!(s.skipRestricted&&E?.restricted))?f[_]=m[_]:u=!0}return{raw:f,restricted:C,hasExcludedProperties:u}}toOverrides(m,c){const d=[];for(const s of Object.keys(m))if(w.OVERRIDE_PROPERTY_REGEX.test(s)){const l={};for(const r in m[s])l[r]=m[s][r];d.push({identifiers:(0,w.overrideIdentifiersFromKey)(s),keys:Object.keys(l),contents:(0,p.toValuesTree)(l,c)})}return d}}e.ConfigurationModelParser=n;class i{constructor(m,c,d,s,l,r,h,u,f,C,_,E,I){this.key=m,this.overrides=c,this._value=d,this.overrideIdentifiers=s,this.defaultConfiguration=l,this.policyConfiguration=r,this.applicationConfiguration=h,this.userConfiguration=u,this.localUserConfiguration=f,this.remoteUserConfiguration=C,this.workspaceConfiguration=_,this.folderConfigurationModel=E,this.memoryConfigurationModel=I}toInspectValue(m){return m?.value!==void 0||m?.override!==void 0||m?.overrides!==void 0?m:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class t{constructor(m,c,d,s,l=new a,r=new a,h=new k.ResourceMap,u=new a,f=new k.ResourceMap){this._defaultConfiguration=m,this._policyConfiguration=c,this._applicationConfiguration=d,this._localUserConfiguration=s,this._remoteUserConfiguration=l,this._workspaceConfiguration=r,this._folderConfigurations=h,this._memoryConfiguration=u,this._memoryConfigurationByResource=f,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new k.ResourceMap,this._userConfiguration=null}getValue(m,c,d){return this.getConsolidatedConfigurationModel(m,c,d).getValue(m)}updateValue(m,c,d={}){let s;d.resource?(s=this._memoryConfigurationByResource.get(d.resource),s||(s=new a,this._memoryConfigurationByResource.set(d.resource,s))):s=this._memoryConfiguration,c===void 0?s.removeValue(m):s.setValue(m,c),d.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(m,c,d){const s=this.getConsolidatedConfigurationModel(m,c,d),l=this.getFolderConfigurationModelForResource(c.resource,d),r=c.resource?this._memoryConfigurationByResource.get(c.resource)||this._memoryConfiguration:this._memoryConfiguration,h=new Set;for(const u of s.overrides)for(const f of u.identifiers)s.getOverrideValue(m,f)!==void 0&&h.add(f);return new i(m,c,s.getValue(m),h.size?[...h]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,d?this._workspaceConfiguration:void 0,l||void 0,r)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(m,c,d){let s=this.getConsolidatedConfigurationModelForResource(c,d);return c.overrideIdentifier&&(s=s.override(c.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(m)!==void 0&&(s=s.merge(this._policyConfiguration)),s}getConsolidatedConfigurationModelForResource({resource:m},c){let d=this.getWorkspaceConsolidatedConfiguration();if(c&&m){const s=c.getFolder(m);s&&(d=this.getFolderConsolidatedConfiguration(s.uri)||d);const l=this._memoryConfigurationByResource.get(m);l&&(d=d.merge(l))}return d}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(m){let c=this._foldersConsolidatedConfigurations.get(m);if(!c){const d=this.getWorkspaceConsolidatedConfiguration(),s=this._folderConfigurations.get(m);s?(c=d.merge(s),this._foldersConsolidatedConfigurations.set(m,c)):c=d}return c}getFolderConfigurationModelForResource(m,c){if(c&&m){const d=c.getFolder(m);if(d)return this._folderConfigurations.get(d.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((m,c)=>{const{contents:d,overrides:s,keys:l}=this._folderConfigurations.get(c);return m.push([c,{contents:d,overrides:s,keys:l}]),m},[])}}static parse(m){const c=this.parseConfigurationModel(m.defaults),d=this.parseConfigurationModel(m.policy),s=this.parseConfigurationModel(m.application),l=this.parseConfigurationModel(m.user),r=this.parseConfigurationModel(m.workspace),h=m.folders.reduce((u,f)=>(u.set(S.URI.revive(f[0]),this.parseConfigurationModel(f[1])),u),new k.ResourceMap);return new t(c,d,s,l,new a,r,h,new a,new k.ResourceMap)}static parseConfigurationModel(m){return new a(m.contents,m.keys,m.overrides)}}e.Configuration=t;class o{constructor(m,c,d,s){this.change=m,this.previous=c,this.currentConfiguraiton=d,this.currentWorkspace=s,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const l of m.keys)this.affectedKeys.add(l);for(const[,l]of m.overrides)for(const r of l)this.affectedKeys.add(r);this._affectsConfigStr=this._marker;for(const l of this.affectedKeys)this._affectsConfigStr+=l+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=t.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(m,c){var d;const s=this._marker+m,l=this._affectsConfigStr.indexOf(s);if(l<0)return!1;const r=l+s.length;if(r>=this._affectsConfigStr.length)return!1;const h=this._affectsConfigStr.charCodeAt(r);if(h!==this._markerCode1&&h!==this._markerCode2)return!1;if(c){const u=this.previousConfiguration?this.previousConfiguration.getValue(m,c,(d=this.previous)===null||d===void 0?void 0:d.workspace):void 0,f=this.currentConfiguraiton.getValue(m,c,this.currentWorkspace);return!y.equals(u,f)}return!0}}e.ConfigurationChangeEvent=o}),define(ne[809],se([1,0,2,363,101,37]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfiguration=void 0;class S extends L.Disposable{constructor(){super(...arguments),this._configurationModel=new k.ConfigurationModel}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new k.ConfigurationModel;const w=D.Registry.as(y.Extensions.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(w),w)}updateConfigurationModel(w,v){const b=this.getConfigurationDefaultOverrides();for(const a of w){const n=b[a],i=v[a];n!==void 0?this._configurationModel.addValue(a,n):i?this._configurationModel.addValue(a,i.default):this._configurationModel.removeValue(a)}}}e.DefaultConfiguration=S}),define(ne[126],se([1,0,127,17,25,37,2,67]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class w{constructor(){this._coreKeybindings=new p.LinkedList,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(a){if(k.OS===1){if(a&&a.win)return a.win}else if(k.OS===2){if(a&&a.mac)return a.mac}else if(a&&a.linux)return a.linux;return a}registerKeybindingRule(a){const n=w.bindToCurrentPlatform(a),i=new S.DisposableStore;if(n&&n.primary){const t=(0,L.decodeKeybinding)(n.primary,k.OS);t&&i.add(this._registerDefaultKeybinding(t,a.id,a.args,a.weight,0,a.when))}if(n&&Array.isArray(n.secondary))for(let t=0,o=n.secondary.length;t<o;t++){const g=n.secondary[t],m=(0,L.decodeKeybinding)(g,k.OS);m&&i.add(this._registerDefaultKeybinding(m,a.id,a.args,a.weight,-t-1,a.when))}return i}registerCommandAndKeybindingRule(a){return(0,S.combinedDisposable)(this.registerKeybindingRule(a),y.CommandsRegistry.registerCommand(a))}_registerDefaultKeybinding(a,n,i,t,o,g){const m=this._coreKeybindings.push({keybinding:a,command:n,commandArgs:i,when:g,weight1:t,weight2:o,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,S.toDisposable)(()=>{m(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(v)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new w,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function v(b,a){if(b.weight1!==a.weight1)return b.weight1-a.weight1;if(b.command&&a.command){if(b.command<a.command)return-1;if(b.command>a.command)return 1}return b.weight2-a.weight2}}),define(ne[28],se([1,0,42,29,7,2,67,25,14,8,126]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.registerAction2=e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isISubmenuItem=e.isIMenuItem=void 0;function n(s){return s.command!==void 0}e.isIMenuItem=n;function i(s){return s.submenu!==void 0}e.isISubmenuItem=i;class t{constructor(l){if(t._instances.has(l))throw new TypeError(`MenuId with identifier '${l}' already exists. Use MenuId.for(ident) or a unique identifier`);t._instances.set(l,this),this.id=l}}e.MenuId=t,t._instances=new Map,t.CommandPalette=new t("CommandPalette"),t.DebugBreakpointsContext=new t("DebugBreakpointsContext"),t.DebugCallStackContext=new t("DebugCallStackContext"),t.DebugConsoleContext=new t("DebugConsoleContext"),t.DebugVariablesContext=new t("DebugVariablesContext"),t.NotebookVariablesContext=new t("NotebookVariablesContext"),t.DebugHoverContext=new t("DebugHoverContext"),t.DebugWatchContext=new t("DebugWatchContext"),t.DebugToolBar=new t("DebugToolBar"),t.DebugToolBarStop=new t("DebugToolBarStop"),t.EditorContext=new t("EditorContext"),t.SimpleEditorContext=new t("SimpleEditorContext"),t.EditorContent=new t("EditorContent"),t.EditorLineNumberContext=new t("EditorLineNumberContext"),t.EditorContextCopy=new t("EditorContextCopy"),t.EditorContextPeek=new t("EditorContextPeek"),t.EditorContextShare=new t("EditorContextShare"),t.EditorTitle=new t("EditorTitle"),t.EditorTitleRun=new t("EditorTitleRun"),t.EditorTitleContext=new t("EditorTitleContext"),t.EditorTitleContextShare=new t("EditorTitleContextShare"),t.EmptyEditorGroup=new t("EmptyEditorGroup"),t.EmptyEditorGroupContext=new t("EmptyEditorGroupContext"),t.EditorTabsBarContext=new t("EditorTabsBarContext"),t.EditorTabsBarShowTabsSubmenu=new t("EditorTabsBarShowTabsSubmenu"),t.EditorTabsBarShowTabsZenModeSubmenu=new t("EditorTabsBarShowTabsZenModeSubmenu"),t.EditorActionsPositionSubmenu=new t("EditorActionsPositionSubmenu"),t.ExplorerContext=new t("ExplorerContext"),t.ExplorerContextShare=new t("ExplorerContextShare"),t.ExtensionContext=new t("ExtensionContext"),t.GlobalActivity=new t("GlobalActivity"),t.CommandCenter=new t("CommandCenter"),t.CommandCenterCenter=new t("CommandCenterCenter"),t.LayoutControlMenuSubmenu=new t("LayoutControlMenuSubmenu"),t.LayoutControlMenu=new t("LayoutControlMenu"),t.MenubarMainMenu=new t("MenubarMainMenu"),t.MenubarAppearanceMenu=new t("MenubarAppearanceMenu"),t.MenubarDebugMenu=new t("MenubarDebugMenu"),t.MenubarEditMenu=new t("MenubarEditMenu"),t.MenubarCopy=new t("MenubarCopy"),t.MenubarFileMenu=new t("MenubarFileMenu"),t.MenubarGoMenu=new t("MenubarGoMenu"),t.MenubarHelpMenu=new t("MenubarHelpMenu"),t.MenubarLayoutMenu=new t("MenubarLayoutMenu"),t.MenubarNewBreakpointMenu=new t("MenubarNewBreakpointMenu"),t.PanelAlignmentMenu=new t("PanelAlignmentMenu"),t.PanelPositionMenu=new t("PanelPositionMenu"),t.ActivityBarPositionMenu=new t("ActivityBarPositionMenu"),t.MenubarPreferencesMenu=new t("MenubarPreferencesMenu"),t.MenubarRecentMenu=new t("MenubarRecentMenu"),t.MenubarSelectionMenu=new t("MenubarSelectionMenu"),t.MenubarShare=new t("MenubarShare"),t.MenubarSwitchEditorMenu=new t("MenubarSwitchEditorMenu"),t.MenubarSwitchGroupMenu=new t("MenubarSwitchGroupMenu"),t.MenubarTerminalMenu=new t("MenubarTerminalMenu"),t.MenubarViewMenu=new t("MenubarViewMenu"),t.MenubarHomeMenu=new t("MenubarHomeMenu"),t.OpenEditorsContext=new t("OpenEditorsContext"),t.OpenEditorsContextShare=new t("OpenEditorsContextShare"),t.ProblemsPanelContext=new t("ProblemsPanelContext"),t.SCMInputBox=new t("SCMInputBox"),t.SCMChangesSeparator=new t("SCMChangesSeparator"),t.SCMIncomingChanges=new t("SCMIncomingChanges"),t.SCMIncomingChangesContext=new t("SCMIncomingChangesContext"),t.SCMIncomingChangesSetting=new t("SCMIncomingChangesSetting"),t.SCMOutgoingChanges=new t("SCMOutgoingChanges"),t.SCMOutgoingChangesContext=new t("SCMOutgoingChangesContext"),t.SCMOutgoingChangesSetting=new t("SCMOutgoingChangesSetting"),t.SCMIncomingChangesAllChangesContext=new t("SCMIncomingChangesAllChangesContext"),t.SCMIncomingChangesHistoryItemContext=new t("SCMIncomingChangesHistoryItemContext"),t.SCMOutgoingChangesAllChangesContext=new t("SCMOutgoingChangesAllChangesContext"),t.SCMOutgoingChangesHistoryItemContext=new t("SCMOutgoingChangesHistoryItemContext"),t.SCMChangeContext=new t("SCMChangeContext"),t.SCMResourceContext=new t("SCMResourceContext"),t.SCMResourceContextShare=new t("SCMResourceContextShare"),t.SCMResourceFolderContext=new t("SCMResourceFolderContext"),t.SCMResourceGroupContext=new t("SCMResourceGroupContext"),t.SCMSourceControl=new t("SCMSourceControl"),t.SCMSourceControlInline=new t("SCMSourceControlInline"),t.SCMSourceControlTitle=new t("SCMSourceControlTitle"),t.SCMTitle=new t("SCMTitle"),t.SearchContext=new t("SearchContext"),t.SearchActionMenu=new t("SearchActionContext"),t.StatusBarWindowIndicatorMenu=new t("StatusBarWindowIndicatorMenu"),t.StatusBarRemoteIndicatorMenu=new t("StatusBarRemoteIndicatorMenu"),t.StickyScrollContext=new t("StickyScrollContext"),t.TestItem=new t("TestItem"),t.TestItemGutter=new t("TestItemGutter"),t.TestMessageContext=new t("TestMessageContext"),t.TestMessageContent=new t("TestMessageContent"),t.TestPeekElement=new t("TestPeekElement"),t.TestPeekTitle=new t("TestPeekTitle"),t.TouchBarContext=new t("TouchBarContext"),t.TitleBarContext=new t("TitleBarContext"),t.TitleBarTitleContext=new t("TitleBarTitleContext"),t.TunnelContext=new t("TunnelContext"),t.TunnelPrivacy=new t("TunnelPrivacy"),t.TunnelProtocol=new t("TunnelProtocol"),t.TunnelPortInline=new t("TunnelInline"),t.TunnelTitle=new t("TunnelTitle"),t.TunnelLocalAddressInline=new t("TunnelLocalAddressInline"),t.TunnelOriginInline=new t("TunnelOriginInline"),t.ViewItemContext=new t("ViewItemContext"),t.ViewContainerTitle=new t("ViewContainerTitle"),t.ViewContainerTitleContext=new t("ViewContainerTitleContext"),t.ViewTitle=new t("ViewTitle"),t.ViewTitleContext=new t("ViewTitleContext"),t.CommentEditorActions=new t("CommentEditorActions"),t.CommentThreadTitle=new t("CommentThreadTitle"),t.CommentThreadActions=new t("CommentThreadActions"),t.CommentThreadAdditionalActions=new t("CommentThreadAdditionalActions"),t.CommentThreadTitleContext=new t("CommentThreadTitleContext"),t.CommentThreadCommentContext=new t("CommentThreadCommentContext"),t.CommentTitle=new t("CommentTitle"),t.CommentActions=new t("CommentActions"),t.InteractiveToolbar=new t("InteractiveToolbar"),t.InteractiveCellTitle=new t("InteractiveCellTitle"),t.InteractiveCellDelete=new t("InteractiveCellDelete"),t.InteractiveCellExecute=new t("InteractiveCellExecute"),t.InteractiveInputExecute=new t("InteractiveInputExecute"),t.IssueReporter=new t("IssueReporter"),t.NotebookToolbar=new t("NotebookToolbar"),t.NotebookStickyScrollContext=new t("NotebookStickyScrollContext"),t.NotebookCellTitle=new t("NotebookCellTitle"),t.NotebookCellDelete=new t("NotebookCellDelete"),t.NotebookCellInsert=new t("NotebookCellInsert"),t.NotebookCellBetween=new t("NotebookCellBetween"),t.NotebookCellListTop=new t("NotebookCellTop"),t.NotebookCellExecute=new t("NotebookCellExecute"),t.NotebookCellExecuteGoTo=new t("NotebookCellExecuteGoTo"),t.NotebookCellExecutePrimary=new t("NotebookCellExecutePrimary"),t.NotebookDiffCellInputTitle=new t("NotebookDiffCellInputTitle"),t.NotebookDiffCellMetadataTitle=new t("NotebookDiffCellMetadataTitle"),t.NotebookDiffCellOutputsTitle=new t("NotebookDiffCellOutputsTitle"),t.NotebookOutputToolbar=new t("NotebookOutputToolbar"),t.NotebookEditorLayoutConfigure=new t("NotebookEditorLayoutConfigure"),t.NotebookKernelSource=new t("NotebookKernelSource"),t.BulkEditTitle=new t("BulkEditTitle"),t.BulkEditContext=new t("BulkEditContext"),t.TimelineItemContext=new t("TimelineItemContext"),t.TimelineTitle=new t("TimelineTitle"),t.TimelineTitleContext=new t("TimelineTitleContext"),t.TimelineFilterSubMenu=new t("TimelineFilterSubMenu"),t.AccountsContext=new t("AccountsContext"),t.SidebarTitle=new t("SidebarTitle"),t.PanelTitle=new t("PanelTitle"),t.AuxiliaryBarTitle=new t("AuxiliaryBarTitle"),t.TerminalInstanceContext=new t("TerminalInstanceContext"),t.TerminalEditorInstanceContext=new t("TerminalEditorInstanceContext"),t.TerminalNewDropdownContext=new t("TerminalNewDropdownContext"),t.TerminalTabContext=new t("TerminalTabContext"),t.TerminalTabEmptyAreaContext=new t("TerminalTabEmptyAreaContext"),t.TerminalStickyScrollContext=new t("TerminalStickyScrollContext"),t.WebviewContext=new t("WebviewContext"),t.InlineCompletionsActions=new t("InlineCompletionsActions"),t.InlineEditActions=new t("InlineEditActions"),t.NewFile=new t("NewFile"),t.MergeInput1Toolbar=new t("MergeToolbar1Toolbar"),t.MergeInput2Toolbar=new t("MergeToolbar2Toolbar"),t.MergeBaseToolbar=new t("MergeBaseToolbar"),t.MergeInputResultToolbar=new t("MergeToolbarResultToolbar"),t.InlineSuggestionToolbar=new t("InlineSuggestionToolbar"),t.InlineEditToolbar=new t("InlineEditToolbar"),t.ChatContext=new t("ChatContext"),t.ChatCodeBlock=new t("ChatCodeblock"),t.ChatMessageTitle=new t("ChatMessageTitle"),t.ChatExecute=new t("ChatExecute"),t.ChatInputSide=new t("ChatInputSide"),t.AccessibleView=new t("AccessibleView"),t.MultiDiffEditorFileToolbar=new t("MultiDiffEditorFileToolbar"),e.IMenuService=(0,v.createDecorator)("menuService");class o{static for(l){let r=this._all.get(l);return r||(r=new o(l),this._all.set(l,r)),r}static merge(l){const r=new Set;for(const h of l)h instanceof o&&r.add(h.id);return r}constructor(l){this.id=l,this.has=r=>r===l}}o._all=new Map,e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new y.MicrotaskEmitter({merge:o.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(s){return this._commands.set(s.id,s),this._onDidChangeMenu.fire(o.for(t.CommandPalette)),(0,D.toDisposable)(()=>{this._commands.delete(s.id)&&this._onDidChangeMenu.fire(o.for(t.CommandPalette))})}getCommand(s){return this._commands.get(s)}getCommands(){const s=new Map;return this._commands.forEach((l,r)=>s.set(r,l)),s}appendMenuItem(s,l){let r=this._menuItems.get(s);r||(r=new S.LinkedList,this._menuItems.set(s,r));const h=r.push(l);return this._onDidChangeMenu.fire(o.for(s)),(0,D.toDisposable)(()=>{h(),this._onDidChangeMenu.fire(o.for(s))})}appendMenuItems(s){const l=new D.DisposableStore;for(const{id:r,item:h}of s)l.add(this.appendMenuItem(r,h));return l}getMenuItems(s){let l;return this._menuItems.has(s)?l=[...this._menuItems.get(s)]:l=[],s===t.CommandPalette&&this._appendImplicitItems(l),l}_appendImplicitItems(s){const l=new Set;for(const r of s)n(r)&&(l.add(r.command.id),r.alt&&l.add(r.alt.id));this._commands.forEach((r,h)=>{l.has(h)||s.push({command:r})})}};class g extends L.SubmenuAction{constructor(l,r,h){super(`submenuitem.${l.submenu.id}`,typeof l.title=="string"?l.title:l.title.value,h,"submenu"),this.item=l,this.hideActions=r}}e.SubmenuItemAction=g;let m=a=class{static label(l,r){return r?.renderShortTitle&&l.shortTitle?typeof l.shortTitle=="string"?l.shortTitle:l.shortTitle.value:typeof l.title=="string"?l.title:l.title.value}constructor(l,r,h,u,f,C){var _,E;this.hideActions=u,this._commandService=C,this.id=l.id,this.label=a.label(l,h),this.tooltip=(E=typeof l.tooltip=="string"?l.tooltip:(_=l.tooltip)===null||_===void 0?void 0:_.value)!==null&&E!==void 0?E:"",this.enabled=!l.precondition||f.contextMatchesRules(l.precondition),this.checked=void 0;let I;if(l.toggled){const T=l.toggled.condition?l.toggled:{condition:l.toggled};this.checked=f.contextMatchesRules(T.condition),this.checked&&T.tooltip&&(this.tooltip=typeof T.tooltip=="string"?T.tooltip:T.tooltip.value),this.checked&&k.ThemeIcon.isThemeIcon(T.icon)&&(I=T.icon),this.checked&&T.title&&(this.label=typeof T.title=="string"?T.title:T.title.value)}I||(I=k.ThemeIcon.isThemeIcon(l.icon)?l.icon:void 0),this.item=l,this.alt=r?new a(r,void 0,h,u,f,C):void 0,this._options=h,this.class=I&&k.ThemeIcon.asClassName(I)}run(...l){var r,h;let u=[];return!((r=this._options)===null||r===void 0)&&r.arg&&(u=[...u,this._options.arg]),!((h=this._options)===null||h===void 0)&&h.shouldForwardArgs&&(u=[...u,...l]),this._commandService.executeCommand(this.id,...u)}};e.MenuItemAction=m,e.MenuItemAction=m=a=De([he(4,w.IContextKeyService),he(5,p.ICommandService)],m);class c{constructor(l){this.desc=l}}e.Action2=c;function d(s){const l=new D.DisposableStore,r=new s,{f1:h,menu:u,keybinding:f,...C}=r.desc;if(p.CommandsRegistry.getCommand(C.id))throw new Error(`Cannot register two commands with the same id: ${C.id}`);if(l.add(p.CommandsRegistry.registerCommand({id:C.id,handler:(_,...E)=>r.run(_,...E),metadata:C.metadata})),Array.isArray(u))for(const _ of u)l.add(e.MenuRegistry.appendMenuItem(_.id,{command:{...C,precondition:_.precondition===null?void 0:C.precondition},..._}));else u&&l.add(e.MenuRegistry.appendMenuItem(u.id,{command:{...C,precondition:u.precondition===null?void 0:C.precondition},...u}));if(h&&(l.add(e.MenuRegistry.appendMenuItem(t.CommandPalette,{command:C,when:C.precondition})),l.add(e.MenuRegistry.addCommand(C))),Array.isArray(f))for(const _ of f)l.add(b.KeybindingsRegistry.registerKeybindingRule({..._,id:C.id,when:C.precondition?w.ContextKeyExpr.and(C.precondition,_.when):_.when}));else f&&l.add(b.KeybindingsRegistry.registerKeybindingRule({...f,id:C.id,when:C.precondition?w.ContextKeyExpr.and(C.precondition,f.when):f.when}));return l}e.registerAction2=d}),define(ne[810],se([1,0,44,208,733,28]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class S extends D.Action2{constructor(){super({id:S.ID,title:y.localize2(2,"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(){const v=!k.TabFocus.getTabFocusMode();k.TabFocus.setTabFocusMode(v),v?(0,L.alert)(y.localize(0,null)):(0,L.alert)(y.localize(1,null))}}e.ToggleTabFocusModeAction=S,S.ID="editor.action.toggleTabFocusMode",(0,D.registerAction2)(S)}),define(ne[364],se([1,0,238,609,14,126,752,2,6]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.registerAndCreateHistoryNavigationContext=e.historyNavigationVisible=void 0,e.historyNavigationVisible=new y.RawContextKey("suggestWidgetVisible",!1,(0,S.localize)(0,null));const v="historyNavigationWidgetFocus",b="historyNavigationForwardsEnabled",a="historyNavigationBackwardsEnabled";let n;const i=[];function t(m,c){if(i.includes(c))throw new Error("Cannot register the same widget multiple times");i.push(c);const d=new p.DisposableStore,s=new y.RawContextKey(v,!1).bindTo(m),l=new y.RawContextKey(b,!0).bindTo(m),r=new y.RawContextKey(a,!0).bindTo(m),h=()=>{s.set(!0),n=c},u=()=>{s.set(!1),n===c&&(n=void 0)};return(0,w.isActiveElement)(c.element)&&h(),d.add(c.onDidFocus(()=>h())),d.add(c.onDidBlur(()=>u())),d.add((0,p.toDisposable)(()=>{i.splice(i.indexOf(c),1),u()})),{historyNavigationForwardsEnablement:l,historyNavigationBackwardsEnablement:r,dispose(){d.dispose()}}}e.registerAndCreateHistoryNavigationContext=t;let o=class extends L.FindInput{constructor(c,d,s,l){super(c,d,s);const r=this._register(l.createScoped(this.inputBox.element));this._register(t(r,this.inputBox))}};e.ContextScopedFindInput=o,e.ContextScopedFindInput=o=De([he(3,y.IContextKeyService)],o);let g=class extends k.ReplaceInput{constructor(c,d,s,l,r=!1){super(c,d,r,s);const h=this._register(l.createScoped(this.inputBox.element));this._register(t(h,this.inputBox))}};e.ContextScopedReplaceInput=g,e.ContextScopedReplaceInput=g=De([he(3,y.IContextKeyService)],g),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:y.ContextKeyExpr.and(y.ContextKeyExpr.has(v),y.ContextKeyExpr.equals(a,!0),y.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:m=>{n?.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:y.ContextKeyExpr.and(y.ContextKeyExpr.has(v),y.ContextKeyExpr.equals(b,!0),y.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:m=>{n?.showNextValue()}})}),define(ne[144],se([1,0,19,12,73,2,63,20,22,9,5,70,120,726,28,25,14,18,364]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:c.historyNavigationVisible,HasFocusedSuggestion:new g.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,i.localize)(0,null)),DetailsVisible:new g.RawContextKey("suggestWidgetDetailsVisible",!1,(0,i.localize)(1,null)),MultipleSuggestions:new g.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,i.localize)(2,null)),MakesTextEdit:new g.RawContextKey("suggestionMakesTextEdit",!0,(0,i.localize)(3,null)),AcceptSuggestionsOnEnter:new g.RawContextKey("acceptSuggestionOnEnter",!0,(0,i.localize)(4,null)),HasInsertAndReplaceRange:new g.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,i.localize)(5,null)),InsertMode:new g.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,i.localize)(6,null)}),CanResolve:new g.RawContextKey("suggestionCanResolve",!1,(0,i.localize)(7,null))},e.suggestWidgetStatusbarMenu=new t.MenuId("suggestWidgetStatusBar");class d{constructor(M,N,P,F){var O;this.position=M,this.completion=N,this.container=P,this.provider=F,this.isInvalid=!1,this.score=y.FuzzyScore.Default,this.distance=0,this.textLabel=typeof N.label=="string"?N.label:(O=N.label)===null||O===void 0?void 0:O.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=N.sortText&&N.sortText.toLowerCase(),this.filterTextLow=N.filterText&&N.filterText.toLowerCase(),this.extensionId=N.extensionId,b.Range.isIRange(N.range)?(this.editStart=new v.Position(N.range.startLineNumber,N.range.startColumn),this.editInsertEnd=new v.Position(N.range.endLineNumber,N.range.endColumn),this.editReplaceEnd=new v.Position(N.range.endLineNumber,N.range.endColumn),this.isInvalid=this.isInvalid||b.Range.spansMultipleLines(N.range)||N.range.startLineNumber!==M.lineNumber):(this.editStart=new v.Position(N.range.insert.startLineNumber,N.range.insert.startColumn),this.editInsertEnd=new v.Position(N.range.insert.endLineNumber,N.range.insert.endColumn),this.editReplaceEnd=new v.Position(N.range.replace.endLineNumber,N.range.replace.endColumn),this.isInvalid=this.isInvalid||b.Range.spansMultipleLines(N.range.insert)||b.Range.spansMultipleLines(N.range.replace)||N.range.insert.startLineNumber!==M.lineNumber||N.range.replace.startLineNumber!==M.lineNumber||N.range.insert.startColumn!==N.range.replace.startColumn),typeof F.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}async resolve(M){if(!this._resolveCache){const N=M.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),P=new S.StopWatch(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,M)).then(F=>{Object.assign(this.completion,F),this._resolveDuration=P.elapsed()},F=>{(0,k.isCancellationError)(F)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{N.dispose()})}return this._resolveCache}}e.CompletionItem=d;class s{constructor(M=2,N=new Set,P=new Set,F=new Map,O=!0){this.snippetSortOrder=M,this.kindFilter=N,this.providerFilter=P,this.providerItemsToReuse=F,this.showDeprecated=O}}e.CompletionOptions=s,s.default=new s;let l;function r(){return l}e.getSnippetSuggestSupport=r;class h{constructor(M,N,P,F){this.items=M,this.needsClipboard=N,this.durations=P,this.disposable=F}}e.CompletionItemModel=h;async function u(R,M,N,P=s.default,F={triggerKind:0},O=L.CancellationToken.None){const B=new S.StopWatch;N=N.clone();const W=M.getWordAtPosition(N),V=W?new b.Range(N.lineNumber,W.startColumn,N.lineNumber,W.endColumn):b.Range.fromPositions(N),z={replace:V,insert:V.setEndPosition(N.lineNumber,N.column)},K=[],j=new D.DisposableStore,x=[];let re=!1;const ie=(X,Y,le)=>{var de,ge,pe;let Q=!1;if(!Y)return Q;for(const U of Y.suggestions)if(!P.kindFilter.has(U.kind)){if(!P.showDeprecated&&(!((de=U?.tags)===null||de===void 0)&&de.includes(1)))continue;U.range||(U.range=z),U.sortText||(U.sortText=typeof U.label=="string"?U.label:U.label.label),!re&&U.insertTextRules&&U.insertTextRules&4&&(re=n.SnippetParser.guessNeedsClipboard(U.insertText)),K.push(new d(N,U,Y,X)),Q=!0}return(0,D.isDisposable)(Y)&&j.add(Y),x.push({providerName:(ge=X._debugDisplayName)!==null&&ge!==void 0?ge:"unknown_provider",elapsedProvider:(pe=Y.duration)!==null&&pe!==void 0?pe:-1,elapsedOverall:le.elapsed()}),Q},J=(async()=>{if(!l||P.kindFilter.has(27))return;const X=P.providerItemsToReuse.get(l);if(X){X.forEach(de=>K.push(de));return}if(P.providerFilter.size>0&&!P.providerFilter.has(l))return;const Y=new S.StopWatch,le=await l.provideCompletionItems(M,N,F,O);ie(l,le,Y)})();for(const X of R.orderedGroups(M)){let Y=!1;if(await Promise.all(X.map(async le=>{if(P.providerItemsToReuse.has(le)){const de=P.providerItemsToReuse.get(le);de.forEach(ge=>K.push(ge)),Y=Y||de.length>0;return}if(!(P.providerFilter.size>0&&!P.providerFilter.has(le)))try{const de=new S.StopWatch,ge=await le.provideCompletionItems(M,N,F,O);Y=ie(le,ge,de)||Y}catch(de){(0,k.onUnexpectedExternalError)(de)}})),Y||O.isCancellationRequested)break}return await J,O.isCancellationRequested?(j.dispose(),Promise.reject(new k.CancellationError)):new h(K.sort(I(P.snippetSortOrder)),re,{entries:x,elapsed:B.elapsed()},j)}e.provideSuggestionItems=u;function f(R,M){if(R.sortTextLow&&M.sortTextLow){if(R.sortTextLow<M.sortTextLow)return-1;if(R.sortTextLow>M.sortTextLow)return 1}return R.textLabel<M.textLabel?-1:R.textLabel>M.textLabel?1:R.completion.kind-M.completion.kind}function C(R,M){if(R.completion.kind!==M.completion.kind){if(R.completion.kind===27)return-1;if(M.completion.kind===27)return 1}return f(R,M)}function _(R,M){if(R.completion.kind!==M.completion.kind){if(R.completion.kind===27)return 1;if(M.completion.kind===27)return-1}return f(R,M)}const E=new Map;E.set(0,C),E.set(2,_),E.set(1,f);function I(R){return E.get(R)}e.getSuggestionComparator=I,o.CommandsRegistry.registerCommand("_executeCompletionItemProvider",async(R,...M)=>{const[N,P,F,O]=M;(0,p.assertType)(w.URI.isUri(N)),(0,p.assertType)(v.Position.isIPosition(P)),(0,p.assertType)(typeof F=="string"||!F),(0,p.assertType)(typeof O=="number"||!O);const{completionProvider:B}=R.get(m.ILanguageFeaturesService),W=await R.get(a.ITextModelService).createModelReference(N);try{const V={incomplete:!1,suggestions:[]},z=[],K=W.object.textEditorModel.validatePosition(P),j=await u(B,W.object.textEditorModel,K,void 0,{triggerCharacter:F??void 0,triggerKind:F?1:0});for(const x of j.items)z.length<(O??0)&&z.push(x.resolve(L.CancellationToken.None)),V.incomplete=V.incomplete||x.container.incomplete,V.suggestions.push(x.completion);try{return await Promise.all(z),V}finally{setTimeout(()=>j.disposable.dispose(),100)}}finally{W.dispose()}});function T(R,M){var N;(N=R.getContribution("editor.contrib.suggestController"))===null||N===void 0||N.triggerSuggest(new Set().add(M),void 0,!0)}e.showSimpleSuggestions=T;class A{static isAllOff(M){return M.other==="off"&&M.comments==="off"&&M.strings==="off"}static isAllOn(M){return M.other==="on"&&M.comments==="on"&&M.strings==="on"}static valueFor(M,N){switch(N){case 1:return M.comments;case 2:return M.strings;default:return M.other}}}e.QuickSuggestionsOptions=A}),define(ne[145],se([1,0,13,2,37]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(p){p[p.PRESERVE=0]="PRESERVE",p[p.LAST=1]="LAST"})(D||(e.DefaultQuickAccessFilterValue=D={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(w){return w.prefix.length===0?this.defaultProvider=w:this.providers.push(w),this.providers.sort((v,b)=>b.prefix.length-v.prefix.length),(0,k.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(w),1),this.defaultProvider===w&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,L.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(w){return w&&this.providers.find(b=>w.startsWith(b.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=S,y.Registry.add(e.Extensions.Quickaccess,new S)}),define(ne[811],se([1,0,757,37,2,34,145,72]),function(ee,e,L,k,y,D,S,p){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let v=w=class{constructor(a,n){this.quickInputService=a,this.keybindingService=n,this.registry=k.Registry.as(S.Extensions.Quickaccess)}provide(a){const n=new y.DisposableStore;return n.add(a.onDidAccept(()=>{const[i]=a.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),n.add(a.onDidChangeValue(i=>{const t=this.registry.getQuickAccessProvider(i.substr(w.PREFIX.length));t&&t.prefix&&t.prefix!==w.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),a.items=this.getQuickAccessProviders().filter(i=>i.prefix!==w.PREFIX),n}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((n,i)=>n.prefix.localeCompare(i.prefix)).flatMap(n=>this.createPicks(n))}createPicks(a){return a.helpEntries.map(n=>{const i=n.prefix||a.prefix,t=i||"\u2026";return{prefix:i,label:t,keybinding:n.commandId?this.keybindingService.lookupKeybinding(n.commandId):void 0,ariaLabel:(0,L.localize)(0,null,t,n.description),description:n.description}})}};e.HelpQuickAccessProvider=v,v.PREFIX="?",e.HelpQuickAccessProvider=v=w=De([he(0,p.IQuickInputService),he(1,D.IKeybindingService)],v)}),define(ne[812],se([1,0,37,145,99,811]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),L.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:y.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(ne[813],se([1,0,15,19,7,2,8,145,72,37]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let b=class extends D.Disposable{constructor(n,i){super(),this.quickInputService=n,this.instantiationService=i,this.registry=v.Registry.as(p.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(n="",i){this.doShowOrPick(n,!1,i)}doShowOrPick(n,i,t){var o;const[g,m]=this.getOrInstantiateProvider(n),c=this.visibleQuickAccess,d=c?.descriptor;if(c&&m&&d===m){n!==m.prefix&&!t?.preserveValue&&(c.picker.value=n),this.adjustValueSelection(c.picker,m,t);return}if(m&&!t?.preserveValue){let u;if(c&&d&&d!==m){const f=c.value.substr(d.prefix.length);f&&(u=`${m.prefix}${f}`)}if(!u){const f=g?.defaultFilterValue;f===p.DefaultQuickAccessFilterValue.LAST?u=this.lastAcceptedPickerValues.get(m):typeof f=="string"&&(u=`${m.prefix}${f}`)}typeof u=="string"&&(n=u)}const s=new D.DisposableStore,l=s.add(this.quickInputService.createQuickPick());l.value=n,this.adjustValueSelection(l,m,t),l.placeholder=m?.placeholder,l.quickNavigate=t?.quickNavigateConfiguration,l.hideInput=!!l.quickNavigate&&!c,(typeof t?.itemActivation=="number"||t?.quickNavigateConfiguration)&&(l.itemActivation=(o=t?.itemActivation)!==null&&o!==void 0?o:w.ItemActivation.SECOND),l.contextKey=m?.contextKey,l.filterValue=u=>u.substring(m?m.prefix.length:0);let r;i&&(r=new L.DeferredPromise,s.add(y.Event.once(l.onWillAccept)(u=>{u.veto(),l.hide()}))),s.add(this.registerPickerListeners(l,g,m,n,t?.providerOptions));const h=s.add(new k.CancellationTokenSource);if(g&&s.add(g.provide(l,h.token,t?.providerOptions)),y.Event.once(l.onDidHide)(()=>{l.selectedItems.length===0&&h.cancel(),s.dispose(),r?.complete(l.selectedItems.slice(0))}),l.show(),i)return r?.p}adjustValueSelection(n,i,t){var o;let g;t?.preserveValue?g=[n.value.length,n.value.length]:g=[(o=i?.prefix.length)!==null&&o!==void 0?o:0,n.value.length],n.valueSelection=g}registerPickerListeners(n,i,t,o,g){const m=new D.DisposableStore,c=this.visibleQuickAccess={picker:n,descriptor:t,value:o};return m.add((0,D.toDisposable)(()=>{c===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),m.add(n.onDidChangeValue(d=>{const[s]=this.getOrInstantiateProvider(d);s!==i?this.show(d,{preserveValue:!0,providerOptions:g}):c.value=d})),t&&m.add(n.onDidAccept(()=>{this.lastAcceptedPickerValues.set(t,n.value)})),m}getOrInstantiateProvider(n){const i=this.registry.getQuickAccessProvider(n);if(!i)return[void 0,void 0];let t=this.mapProviderToDescriptor.get(i);return t||(t=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,t)),[t,i]}};e.QuickAccessController=b,e.QuickAccessController=b=De([he(0,w.IQuickInputService),he(1,S.IInstantiationService)],b)}),define(ne[814],se([1,0,27,29,103,499]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var D;(function(S){function p(w){switch(w){case y.default.Ignore:return"severity-ignore "+k.ThemeIcon.asClassName(L.Codicon.info);case y.default.Info:return k.ThemeIcon.asClassName(L.Codicon.info);case y.default.Warning:return k.ThemeIcon.asClassName(L.Codicon.warning);case y.default.Error:return k.ThemeIcon.asClassName(L.Codicon.error);default:return""}}S.className=p})(D||(e.SeverityIcon=D={}))}),define(ne[94],se([1,0,7,2,20,614,8]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.loadKeyTargets=e.WillSaveStateReason=e.IStorageService=e.TARGET_KEY=void 0,e.TARGET_KEY="__$__targetStorageMarker",e.IStorageService=(0,S.createDecorator)("storageService");var p;(function(a){a[a.NONE=0]="NONE",a[a.SHUTDOWN=1]="SHUTDOWN"})(p||(e.WillSaveStateReason=p={}));function w(a){const n=a.get(e.TARGET_KEY);if(n)try{return JSON.parse(n)}catch{}return Object.create(null)}e.loadKeyTargets=w;class v extends k.Disposable{constructor(n={flushInterval:v.DEFAULT_FLUSH_INTERVAL}){super(),this.options=n,this._onDidChangeValue=this._register(new L.PauseableEmitter),this._onDidChangeTarget=this._register(new L.PauseableEmitter),this._onWillSaveState=this._register(new L.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(n,i,t){return L.Event.filter(this._onDidChangeValue.event,o=>o.scope===n&&(i===void 0||o.key===i),t)}emitDidChangeValue(n,i){const{key:t,external:o}=i;if(t===e.TARGET_KEY){switch(n){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:n})}else this._onDidChangeValue.fire({scope:n,key:t,target:this.getKeyTargets(n)[t],external:o})}get(n,i,t){var o;return(o=this.getStorage(i))===null||o===void 0?void 0:o.get(n,t)}getBoolean(n,i,t){var o;return(o=this.getStorage(i))===null||o===void 0?void 0:o.getBoolean(n,t)}getNumber(n,i,t){var o;return(o=this.getStorage(i))===null||o===void 0?void 0:o.getNumber(n,t)}store(n,i,t,o,g=!1){if((0,y.isUndefinedOrNull)(i)){this.remove(n,t,g);return}this.withPausedEmitters(()=>{var m;this.updateKeyTarget(n,t,o),(m=this.getStorage(t))===null||m===void 0||m.set(n,i,g)})}remove(n,i,t=!1){this.withPausedEmitters(()=>{var o;this.updateKeyTarget(n,i,void 0),(o=this.getStorage(i))===null||o===void 0||o.delete(n,t)})}withPausedEmitters(n){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{n()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(n,i,t,o=!1){var g,m;const c=this.getKeyTargets(i);typeof t=="number"?c[n]!==t&&(c[n]=t,(g=this.getStorage(i))===null||g===void 0||g.set(e.TARGET_KEY,JSON.stringify(c),o)):typeof c[n]=="number"&&(delete c[n],(m=this.getStorage(i))===null||m===void 0||m.set(e.TARGET_KEY,JSON.stringify(c),o))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(n){switch(n){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(n){const i=this.getStorage(n);return i?w(i):Object.create(null)}}e.AbstractStorageService=v,v.DEFAULT_FLUSH_INTERVAL=60*1e3;class b extends v{constructor(){super(),this.applicationStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(n=>this.emitDidChangeValue(1,n))),this._register(this.profileStorage.onDidChangeStorage(n=>this.emitDidChangeValue(0,n))),this._register(this.applicationStorage.onDidChangeStorage(n=>this.emitDidChangeValue(-1,n)))}getStorage(n){switch(n){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=b}),define(ne[815],se([1,0,7,53,5,350,45,8,94,50,6]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,p.createDecorator)("ICodeLensCache");class a{constructor(t,o){this.lineCount=t,this.data=o}}let n=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new k.LRUCache(20,.75);const o="codelens/cache";(0,b.runWhenWindowIdle)(v.mainWindow,()=>t.remove(o,1));const g="codelens/cache2",m=t.get(g,1,"{}");this._deserialize(m),L.Event.once(t.onWillSaveState)(c=>{c.reason===w.WillSaveStateReason.SHUTDOWN&&t.store(g,this._serialize(),1,1)})}put(t,o){const g=o.lenses.map(d=>{var s;return{range:d.symbol.range,command:d.symbol.command&&{id:"",title:(s=d.symbol.command)===null||s===void 0?void 0:s.title}}}),m=new D.CodeLensModel;m.add({lenses:g,dispose:()=>{}},this._fakeProvider);const c=new a(t.getLineCount(),m);this._cache.set(t.uri.toString(),c)}get(t){const o=this._cache.get(t.uri.toString());return o&&o.lineCount===t.getLineCount()?o.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[o,g]of this._cache){const m=new Set;for(const c of g.data.lenses)m.add(c.symbol.range.startLineNumber);t[o]={lineCount:g.lineCount,lines:[...m.values()]}}return JSON.stringify(t)}_deserialize(t){try{const o=JSON.parse(t);for(const g in o){const m=o[g],c=[];for(const s of m.lines)c.push({range:new y.Range(s,1,s,11)});const d=new D.CodeLensModel;d.add({lenses:c,dispose(){}},this._fakeProvider),this._cache.set(g,new a(m.lineCount,d))}}catch{}}};e.CodeLensCache=n,e.CodeLensCache=n=De([he(0,w.IStorageService)],n),(0,S.registerSingleton)(e.ICodeLensCache,n,1)}),define(ne[365],se([1,0,15,2,53,205,30,26,45,8,94]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class n{constructor(c){this.name=c}select(c,d,s){if(s.length===0)return 0;const l=s[0].score[0];for(let r=0;r<s.length;r++){const{score:h,completion:u}=s[r];if(h[0]!==l)break;if(u.preselect)return r}return 0}}e.Memory=n;class i extends n{constructor(){super("first")}memorize(c,d,s){}toJSON(){}fromJSON(){}}e.NoMemory=i;class t extends n{constructor(){super("recentlyUsed"),this._cache=new y.LRUCache(300,.66),this._seq=0}memorize(c,d,s){const l=`${c.getLanguageId()}/${s.textLabel}`;this._cache.set(l,{touch:this._seq++,type:s.completion.kind,insertText:s.completion.insertText})}select(c,d,s){if(s.length===0)return 0;const l=c.getLineContent(d.lineNumber).substr(d.column-10,d.column-1);if(/\s$/.test(l))return super.select(c,d,s);const r=s[0].score[0];let h=-1,u=-1,f=-1;for(let C=0;C<s.length&&s[C].score[0]===r;C++){const _=`${c.getLanguageId()}/${s[C].textLabel}`,E=this._cache.peek(_);if(E&&E.touch>f&&E.type===s[C].completion.kind&&E.insertText===s[C].completion.insertText&&(f=E.touch,u=C),s[C].completion.preselect&&h===-1)return h=C}return u!==-1?u:h!==-1?h:0}toJSON(){return this._cache.toJSON()}fromJSON(c){this._cache.clear();const d=0;for(const[s,l]of c)l.touch=d,l.type=typeof l.type=="number"?l.type:S.CompletionItemKinds.fromString(l.type),this._cache.set(s,l);this._seq=this._cache.size}}e.LRUMemory=t;class o extends n{constructor(){super("recentlyUsedByPrefix"),this._trie=D.TernarySearchTree.forStrings(),this._seq=0}memorize(c,d,s){const{word:l}=c.getWordUntilPosition(d),r=`${c.getLanguageId()}/${l}`;this._trie.set(r,{type:s.completion.kind,insertText:s.completion.insertText,touch:this._seq++})}select(c,d,s){const{word:l}=c.getWordUntilPosition(d);if(!l)return super.select(c,d,s);const r=`${c.getLanguageId()}/${l}`;let h=this._trie.get(r);if(h||(h=this._trie.findSubstr(r)),h)for(let u=0;u<s.length;u++){const{kind:f,insertText:C}=s[u].completion;if(f===h.type&&C===h.insertText)return u}return super.select(c,d,s)}toJSON(){const c=[];return this._trie.forEach((d,s)=>c.push([s,d])),c.sort((d,s)=>-(d[1].touch-s[1].touch)).forEach((d,s)=>d[1].touch=s),c.slice(0,200)}fromJSON(c){if(this._trie.clear(),c.length>0){this._seq=c[0][1].touch+1;for(const[d,s]of c)s.type=typeof s.type=="number"?s.type:S.CompletionItemKinds.fromString(s.type),this._trie.set(d,s)}}}e.PrefixMemory=o;let g=a=class{constructor(c,d){this._storageService=c,this._configService=d,this._disposables=new k.DisposableStore,this._persistSoon=new L.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(c.onWillSaveState(s=>{s.reason===b.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(c,d,s){this._withStrategy(c,d).memorize(c,d,s),this._persistSoon.schedule()}select(c,d,s){return this._withStrategy(c,d).select(c,d,s)}_withStrategy(c,d){var s;const l=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:c.getLanguageIdAtPosition(d.lineNumber,d.column),resource:c.uri});if(((s=this._strategy)===null||s===void 0?void 0:s.name)!==l){this._saveState();const r=a._strategyCtors.get(l)||i;this._strategy=new r;try{const u=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,f=this._storageService.get(`${a._storagePrefix}/${l}`,u);f&&this._strategy.fromJSON(JSON.parse(f))}catch{}}return this._strategy}_saveState(){if(this._strategy){const d=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,s=JSON.stringify(this._strategy);this._storageService.store(`${a._storagePrefix}/${this._strategy.name}`,s,d,1)}}};e.SuggestMemoryService=g,g._strategyCtors=new Map([["recentlyUsedByPrefix",o],["recentlyUsed",t],["first",i]]),g._storagePrefix="suggest/memories",e.SuggestMemoryService=g=a=De([he(0,b.IStorageService),he(1,p.IConfigurationService)],g),e.ISuggestMemoryService=(0,v.createDecorator)("ISuggestMemories"),(0,w.registerSingleton)(e.ISuggestMemoryService,g,1)}),define(ne[816],se([1,0,15,7,2,28,25,14,42,94,13,746]),function(ee,e,L,k,y,D,S,p,w,v,b,a){"use strict";var n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let t=class{constructor(s,l){this._commandService=s,this._hiddenStates=new o(l)}createMenu(s,l,r){return new m(s,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...r},this._commandService,l)}resetHiddenStates(s){this._hiddenStates.reset(s)}};e.MenuService=t,e.MenuService=t=De([he(0,S.ICommandService),he(1,v.IStorageService)],t);let o=n=class{constructor(s){this._storageService=s,this._disposables=new y.DisposableStore,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const l=s.get(n._key,0,"{}");this._data=JSON.parse(l)}catch{this._data=Object.create(null)}this._disposables.add(s.onDidChangeValue(0,n._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const l=s.get(n._key,0,"{}");this._data=JSON.parse(l)}catch(l){console.log("FAILED to read storage after UPDATE",l)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(s,l){var r;return(r=this._hiddenByDefaultCache.get(`${s.id}/${l}`))!==null&&r!==void 0?r:!1}setDefaultState(s,l,r){this._hiddenByDefaultCache.set(`${s.id}/${l}`,r)}isHidden(s,l){var r,h;const u=this._isHiddenByDefault(s,l),f=(h=(r=this._data[s.id])===null||r===void 0?void 0:r.includes(l))!==null&&h!==void 0?h:!1;return u?!f:f}updateHidden(s,l,r){this._isHiddenByDefault(s,l)&&(r=!r);const u=this._data[s.id];if(r)u?u.indexOf(l)<0&&u.push(l):this._data[s.id]=[l];else if(u){const f=u.indexOf(l);f>=0&&(0,b.removeFastWithoutKeepingOrder)(u,f),u.length===0&&delete this._data[s.id]}this._persist()}reset(s){if(s===void 0)this._data=Object.create(null),this._persist();else{for(const{id:l}of s)this._data[l]&&delete this._data[l];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const s=JSON.stringify(this._data);this._storageService.store(n._key,s,0,0)}finally{this._ignoreChangeEvent=!1}}};o._key="menu.hiddenCommands",o=n=De([he(0,v.IStorageService)],o);let g=i=class{constructor(s,l,r,h,u){this._id=s,this._hiddenStates=l,this._collectContextKeysForSubmenus=r,this._commandService=h,this._contextKeyService=u,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const s=D.MenuRegistry.getMenuItems(this._id);let l;s.sort(i._compareMenuItems);for(const r of s){const h=r.group||"";(!l||l[0]!==h)&&(l=[h,[]],this._menuGroups.push(l)),l[1].push(r),this._collectContextKeys(r)}}_collectContextKeys(s){if(i._fillInKbExprKeys(s.when,this._structureContextKeys),(0,D.isIMenuItem)(s)){if(s.command.precondition&&i._fillInKbExprKeys(s.command.precondition,this._preconditionContextKeys),s.command.toggled){const l=s.command.toggled.condition||s.command.toggled;i._fillInKbExprKeys(l,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&D.MenuRegistry.getMenuItems(s.submenu).forEach(this._collectContextKeys,this)}createActionGroups(s){const l=[];for(const r of this._menuGroups){const[h,u]=r,f=[];for(const C of u)if(this._contextKeyService.contextMatchesRules(C.when)){const _=(0,D.isIMenuItem)(C);_&&this._hiddenStates.setDefaultState(this._id,C.command.id,!!C.isHiddenByDefault);const E=c(this._id,_?C.command:C,this._hiddenStates);if(_)f.push(new D.MenuItemAction(C.command,C.alt,s,E,this._contextKeyService,this._commandService));else{const I=new i(C.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(s),T=w.Separator.join(...I.map(A=>A[1]));T.length>0&&f.push(new D.SubmenuItemAction(C,E,T))}}f.length>0&&l.push([h,f])}return l}static _fillInKbExprKeys(s,l){if(s)for(const r of s.keys())l.add(r)}static _compareMenuItems(s,l){const r=s.group,h=l.group;if(r!==h){if(r){if(!h)return-1}else return 1;if(r==="navigation")return-1;if(h==="navigation")return 1;const C=r.localeCompare(h);if(C!==0)return C}const u=s.order||0,f=l.order||0;return u<f?-1:u>f?1:i._compareTitles((0,D.isIMenuItem)(s)?s.command.title:s.title,(0,D.isIMenuItem)(l)?l.command.title:l.title)}static _compareTitles(s,l){const r=typeof s=="string"?s:s.original,h=typeof l=="string"?l:l.original;return r.localeCompare(h)}};g=i=De([he(3,S.ICommandService),he(4,p.IContextKeyService)],g);let m=class{constructor(s,l,r,h,u){this._disposables=new y.DisposableStore,this._menuInfo=new g(s,l,r.emitEventsForSubmenuChanges,h,u);const f=new L.RunOnceScheduler(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},r.eventDebounceDelay);this._disposables.add(f),this._disposables.add(D.MenuRegistry.onDidChangeMenu(I=>{I.has(s)&&f.schedule()}));const C=this._disposables.add(new y.DisposableStore),_=I=>{let T=!1,A=!1,R=!1;for(const M of I)if(T=T||M.isStructuralChange,A=A||M.isEnablementChange,R=R||M.isToggleChange,T&&A&&R)break;return{menu:this,isStructuralChange:T,isEnablementChange:A,isToggleChange:R}},E=()=>{C.add(u.onDidChangeContext(I=>{const T=I.affectsSome(this._menuInfo.structureContextKeys),A=I.affectsSome(this._menuInfo.preconditionContextKeys),R=I.affectsSome(this._menuInfo.toggledContextKeys);(T||A||R)&&this._onDidChange.fire({menu:this,isStructuralChange:T,isEnablementChange:A,isToggleChange:R})})),C.add(l.onDidChange(I=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new k.DebounceEmitter({onWillAddFirstListener:E,onDidRemoveLastListener:C.clear.bind(C),delay:r.eventDebounceDelay,merge:_}),this.onDidChange=this._onDidChange.event}getActions(s){return this._menuInfo.createActionGroups(s)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};m=De([he(3,S.ICommandService),he(4,p.IContextKeyService)],m);function c(d,s,l){const r=(0,D.isISubmenuItem)(s)?s.submenu.id:s.id,h=typeof s.title=="string"?s.title:s.title.value,u=(0,w.toAction)({id:`hide/${d.id}/${r}`,label:(0,a.localize)(0,null,h),run(){l.updateHidden(d,r,!0)}}),f=(0,w.toAction)({id:`toggle/${d.id}/${r}`,label:h,get checked(){return!l.isHidden(d,r)},run(){l.updateHidden(d,r,!!this.checked)}});return{hide:u,toggle:f,get isHidden(){return!f.checked}}}}),define(ne[61],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,L.createDecorator)("telemetryService")}),define(ne[16],se([1,0,630,22,35,9,51,70,28,25,14,8,126,37,61,20,60,6]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelAndPositionCommand=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class c{constructor(F){this.id=F.id,this.precondition=F.precondition,this._kbOpts=F.kbOpts,this._menuOpts=F.menuOpts,this.metadata=F.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const F=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const O of F){let B=O.kbExpr;this.precondition&&(B?B=b.ContextKeyExpr.and(B,this.precondition):B=this.precondition);const W={id:this.id,weight:O.weight,args:O.args,when:B,primary:O.primary,secondary:O.secondary,win:O.win,linux:O.linux,mac:O.mac};n.KeybindingsRegistry.registerKeybindingRule(W)}}v.CommandsRegistry.registerCommand({id:this.id,handler:(F,O)=>this.runCommand(F,O),metadata:this.metadata})}_registerMenuItem(F){w.MenuRegistry.appendMenuItem(F.menuId,{group:F.group,command:{id:this.id,title:F.title,icon:F.icon,precondition:this.precondition},when:F.when,order:F.order})}}e.Command=c;class d extends c{constructor(){super(...arguments),this._implementations=[]}addImplementation(F,O,B,W){return this._implementations.push({priority:F,name:O,implementation:B,when:W}),this._implementations.sort((V,z)=>z.priority-V.priority),{dispose:()=>{for(let V=0;V<this._implementations.length;V++)if(this._implementations[V].implementation===B){this._implementations.splice(V,1);return}}}}runCommand(F,O){const B=F.get(g.ILogService),W=F.get(b.IContextKeyService);B.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const V of this._implementations){if(V.when){const K=W.getContext((0,m.getActiveElement)());if(!V.when.evaluate(K))continue}const z=V.implementation(F,O);if(z)return B.trace(`Command '${this.id}' was handled by '${V.name}'.`),typeof z=="boolean"?void 0:z}B.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=d;class s extends c{constructor(F,O){super(O),this.command=F}runCommand(F,O){return this.command.runCommand(F,O)}}e.ProxyCommand=s;class l extends c{static bindToContribution(F){return class extends l{constructor(B){super(B),this._callback=B.handler}runEditorCommand(B,W,V){const z=F(W);z&&this._callback(z,V)}}}static runEditorCommand(F,O,B,W){const V=F.get(y.ICodeEditorService),z=V.getFocusedCodeEditor()||V.getActiveCodeEditor();if(z)return z.invokeWithinContext(K=>{if(K.get(b.IContextKeyService).contextMatchesRules(B??void 0))return W(K,z,O)})}runCommand(F,O){return l.runEditorCommand(F,O,this.precondition,(B,W,V)=>this.runEditorCommand(B,W,V))}}e.EditorCommand=l;class r extends l{static convertOptions(F){let O;Array.isArray(F.menuOpts)?O=F.menuOpts:F.menuOpts?O=[F.menuOpts]:O=[];function B(W){return W.menuId||(W.menuId=w.MenuId.EditorContext),W.title||(W.title=F.label),W.when=b.ContextKeyExpr.and(F.precondition,W.when),W}return Array.isArray(F.contextMenuOpts)?O.push(...F.contextMenuOpts.map(B)):F.contextMenuOpts&&O.push(B(F.contextMenuOpts)),F.menuOpts=O,F}constructor(F){super(r.convertOptions(F)),this.label=F.label,this.alias=F.alias}runEditorCommand(F,O,B){return this.reportTelemetry(F,O),this.run(F,O,B||{})}reportTelemetry(F,O){F.get(t.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=r;class h extends r{constructor(){super(...arguments),this._implementations=[]}addImplementation(F,O){return this._implementations.push([F,O]),this._implementations.sort((B,W)=>W[0]-B[0]),{dispose:()=>{for(let B=0;B<this._implementations.length;B++)if(this._implementations[B][1]===O){this._implementations.splice(B,1);return}}}}run(F,O,B){for(const W of this._implementations){const V=W[1](F,O,B);if(V)return typeof V=="boolean"?void 0:V}}}e.MultiEditorAction=h;class u extends w.Action2{run(F,...O){const B=F.get(y.ICodeEditorService),W=B.getFocusedCodeEditor()||B.getActiveCodeEditor();if(W)return W.invokeWithinContext(V=>{var z,K;const j=V.get(b.IContextKeyService),x=V.get(g.ILogService);if(!j.contextMatchesRules((z=this.desc.precondition)!==null&&z!==void 0?z:void 0)){x.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(K=this.desc.precondition)===null||K===void 0?void 0:K.serialize());return}return this.runEditorCommand(V,W,...O)})}}e.EditorAction2=u;function f(P,F){v.CommandsRegistry.registerCommand(P,function(O,...B){const W=O.get(a.IInstantiationService),[V,z]=B;(0,o.assertType)(k.URI.isUri(V)),(0,o.assertType)(D.Position.isIPosition(z));const K=O.get(S.IModelService).getModel(V);if(K){const j=D.Position.lift(z);return W.invokeFunction(F,K,j,...B.slice(2))}return O.get(p.ITextModelService).createModelReference(V).then(j=>new Promise((x,re)=>{try{const ie=W.invokeFunction(F,j.object.textEditorModel,D.Position.lift(z),B.slice(2));x(ie)}catch(ie){re(ie)}}).finally(()=>{j.dispose()}))})}e.registerModelAndPositionCommand=f;function C(P){return M.INSTANCE.registerEditorCommand(P),P}e.registerEditorCommand=C;function _(P){const F=new P;return M.INSTANCE.registerEditorAction(F),F}e.registerEditorAction=_;function E(P){return M.INSTANCE.registerEditorAction(P),P}e.registerMultiEditorAction=E;function I(P){M.INSTANCE.registerEditorAction(P)}e.registerInstantiatedEditorAction=I;function T(P,F,O){M.INSTANCE.registerEditorContribution(P,F,O)}e.registerEditorContribution=T;var A;(function(P){function F(z){return M.INSTANCE.getEditorCommand(z)}P.getEditorCommand=F;function O(){return M.INSTANCE.getEditorActions()}P.getEditorActions=O;function B(){return M.INSTANCE.getEditorContributions()}P.getEditorContributions=B;function W(z){return M.INSTANCE.getEditorContributions().filter(K=>z.indexOf(K.id)>=0)}P.getSomeEditorContributions=W;function V(){return M.INSTANCE.getDiffEditorContributions()}P.getDiffEditorContributions=V})(A||(e.EditorExtensionsRegistry=A={}));const R={EditorCommonContributions:"editor.contributions"};class M{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(F,O,B){this.editorContributions.push({id:F,ctor:O,instantiation:B})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(F){F.register(),this.editorActions.push(F)}getEditorActions(){return this.editorActions}registerEditorCommand(F){F.register(),this.editorCommands[F.id]=F}getEditorCommand(F){return this.editorCommands[F]||null}}M.INSTANCE=new M,i.Registry.add(R.EditorCommonContributions,M.INSTANCE);function N(P){return P.register(),P}e.UndoCommand=N(new d({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:w.MenuId.MenubarEditMenu,group:"1_do",title:L.localize(0,null),order:1},{menuId:w.MenuId.CommandPalette,group:"",title:L.localize(1,null),order:1}]})),N(new s(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=N(new d({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:w.MenuId.MenubarEditMenu,group:"1_do",title:L.localize(2,null),order:2},{menuId:w.MenuId.CommandPalette,group:"",title:L.localize(3,null),order:1}]})),N(new s(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=N(new d({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:w.MenuId.MenubarSelectionMenu,group:"1_basic",title:L.localize(4,null),order:1},{menuId:w.MenuId.CommandPalette,group:"",title:L.localize(5,null),order:1}]}))}),define(ne[197],se([1,0,629,59,20,44,16,35,520,76,213,214,256,9,5,21,14,126,6]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const d=0;class s extends S.EditorCommand{runEditorCommand(R,M,N){const P=M._getViewModel();P&&this.runCoreEditorCommand(P,N||{})}}e.CoreEditorCommand=s;var l;(function(A){const R=function(N){if(!y.isObject(N))return!1;const P=N;return!(!y.isString(P.to)||!y.isUndefined(P.by)&&!y.isString(P.by)||!y.isUndefined(P.value)&&!y.isNumber(P.value)||!y.isUndefined(P.revealCursor)&&!y.isBoolean(P.revealCursor))};A.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:R,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},A.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},A.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function M(N){let P;switch(N.to){case A.RawDirection.Up:P=1;break;case A.RawDirection.Right:P=2;break;case A.RawDirection.Down:P=3;break;case A.RawDirection.Left:P=4;break;default:return null}let F;switch(N.by){case A.RawUnit.Line:F=1;break;case A.RawUnit.WrappedLine:F=2;break;case A.RawUnit.Page:F=3;break;case A.RawUnit.HalfPage:F=4;break;case A.RawUnit.Editor:F=5;break;case A.RawUnit.Column:F=6;break;default:F=2}const O=Math.floor(N.value||1),B=!!N.revealCursor;return{direction:P,unit:F,value:O,revealCursor:B,select:!!N.select}}A.parse=M})(l||(e.EditorScroll_=l={}));var r;(function(A){const R=function(M){if(!y.isObject(M))return!1;const N=M;return!(!y.isNumber(N.lineNumber)&&!y.isString(N.lineNumber)||!y.isUndefined(N.at)&&!y.isString(N.at))};A.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:R,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},A.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(r||(e.RevealLine_=r={}));class h{constructor(R){R.addImplementation(1e4,"code-editor",(M,N)=>{const P=M.get(p.ICodeEditorService).getFocusedCodeEditor();return P&&P.hasTextFocus()?this._runEditorCommand(M,P,N):!1}),R.addImplementation(1e3,"generic-dom-input-textarea",(M,N)=>{const P=(0,c.getActiveElement)();return P&&["input","textarea"].indexOf(P.tagName.toLowerCase())>=0?(this.runDOMCommand(P),!0):!1}),R.addImplementation(0,"generic-dom",(M,N)=>{const P=M.get(p.ICodeEditorService).getActiveCodeEditor();return P?(P.focus(),this._runEditorCommand(M,P,N)):!1})}_runEditorCommand(R,M,N){const P=this.runEditorCommand(R,M,N);return P||!0}}var u;(function(A){class R extends s{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,le){if(!le.position)return;Y.model.pushStackElement(),Y.setCursorStates(le.source,3,[a.CursorMoveCommands.moveTo(Y,Y.getPrimaryCursorState(),this._inSelectionMode,le.position,le.viewPosition)])&&le.revealType!==2&&Y.revealPrimaryCursor(le.source,!0,!0)}}A.MoveTo=(0,S.registerEditorCommand)(new R({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),A.MoveToSelect=(0,S.registerEditorCommand)(new R({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class M extends s{runCoreEditorCommand(Y,le){Y.model.pushStackElement();const de=this._getColumnSelectResult(Y,Y.getPrimaryCursorState(),Y.getCursorColumnSelectData(),le);de!==null&&(Y.setCursorStates(le.source,3,de.viewStates.map(ge=>v.CursorState.fromViewState(ge))),Y.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:de.fromLineNumber,fromViewVisualColumn:de.fromVisualColumn,toViewLineNumber:de.toLineNumber,toViewVisualColumn:de.toVisualColumn}),de.reversed?Y.revealTopMostCursor(le.source):Y.revealBottomMostCursor(le.source))}}A.ColumnSelect=(0,S.registerEditorCommand)(new class extends M{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(X,Y,le,de){if(typeof de.position>"u"||typeof de.viewPosition>"u"||typeof de.mouseColumn>"u")return null;const ge=X.model.validatePosition(de.position),pe=X.coordinatesConverter.validateViewPosition(new i.Position(de.viewPosition.lineNumber,de.viewPosition.column),ge),Q=de.doColumnSelect?le.fromViewLineNumber:pe.lineNumber,U=de.doColumnSelect?le.fromViewVisualColumn:de.mouseColumn-1;return w.ColumnSelection.columnSelect(X.cursorConfig,X,Q,U,pe.lineNumber,de.mouseColumn-1)}}),A.CursorColumnSelectLeft=(0,S.registerEditorCommand)(new class extends M{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(X,Y,le,de){return w.ColumnSelection.columnSelectLeft(X.cursorConfig,X,le)}}),A.CursorColumnSelectRight=(0,S.registerEditorCommand)(new class extends M{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(X,Y,le,de){return w.ColumnSelection.columnSelectRight(X.cursorConfig,X,le)}});class N extends M{constructor(Y){super(Y),this._isPaged=Y.isPaged}_getColumnSelectResult(Y,le,de,ge){return w.ColumnSelection.columnSelectUp(Y.cursorConfig,Y,de,this._isPaged)}}A.CursorColumnSelectUp=(0,S.registerEditorCommand)(new N({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),A.CursorColumnSelectPageUp=(0,S.registerEditorCommand)(new N({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class P extends M{constructor(Y){super(Y),this._isPaged=Y.isPaged}_getColumnSelectResult(Y,le,de,ge){return w.ColumnSelection.columnSelectDown(Y.cursorConfig,Y,de,this._isPaged)}}A.CursorColumnSelectDown=(0,S.registerEditorCommand)(new P({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),A.CursorColumnSelectPageDown=(0,S.registerEditorCommand)(new P({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class F extends s{constructor(){super({id:"cursorMove",precondition:void 0,metadata:a.CursorMove.metadata})}runCoreEditorCommand(Y,le){const de=a.CursorMove.parse(le);de&&this._runCursorMove(Y,le.source,de)}_runCursorMove(Y,le,de){Y.model.pushStackElement(),Y.setCursorStates(le,3,F._move(Y,Y.getCursorStates(),de)),Y.revealPrimaryCursor(le,!0)}static _move(Y,le,de){const ge=de.select,pe=de.value;switch(de.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return a.CursorMoveCommands.simpleMove(Y,le,de.direction,ge,pe,de.unit);case 11:case 13:case 12:case 14:return a.CursorMoveCommands.viewportMove(Y,le,de.direction,ge,pe);default:return null}}}A.CursorMoveImpl=F,A.CursorMove=(0,S.registerEditorCommand)(new F);class O extends s{constructor(Y){super(Y),this._staticArgs=Y.args}runCoreEditorCommand(Y,le){let de=this._staticArgs;this._staticArgs.value===-1&&(de={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:le.pageSize||Y.cursorConfig.pageSize}),Y.model.pushStackElement(),Y.setCursorStates(le.source,3,a.CursorMoveCommands.simpleMove(Y,Y.getCursorStates(),de.direction,de.select,de.value,de.unit)),Y.revealPrimaryCursor(le.source,!0)}}A.CursorLeft=(0,S.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),A.CursorLeftSelect=(0,S.registerEditorCommand)(new O({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:1039}})),A.CursorRight=(0,S.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),A.CursorRightSelect=(0,S.registerEditorCommand)(new O({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:1041}})),A.CursorUp=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),A.CursorUpSelect=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),A.CursorPageUp=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:11}})),A.CursorPageUpSelect=(0,S.registerEditorCommand)(new O({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:1035}})),A.CursorDown=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),A.CursorDownSelect=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),A.CursorPageDown=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:12}})),A.CursorPageDownSelect=(0,S.registerEditorCommand)(new O({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:1036}})),A.CreateCursor=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(X,Y){if(!Y.position)return;let le;Y.wholeLine?le=a.CursorMoveCommands.line(X,X.getPrimaryCursorState(),!1,Y.position,Y.viewPosition):le=a.CursorMoveCommands.moveTo(X,X.getPrimaryCursorState(),!1,Y.position,Y.viewPosition);const de=X.getCursorStates();if(de.length>1){const ge=le.modelState?le.modelState.position:null,pe=le.viewState?le.viewState.position:null;for(let Q=0,U=de.length;Q<U;Q++){const Z=de[Q];if(!(ge&&!Z.modelState.selection.containsPosition(ge))&&!(pe&&!Z.viewState.selection.containsPosition(pe))){de.splice(Q,1),X.model.pushStackElement(),X.setCursorStates(Y.source,3,de);return}}}de.push(le),X.model.pushStackElement(),X.setCursorStates(Y.source,3,de)}}),A.LastCursorMoveToSelect=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(X,Y){if(!Y.position)return;const le=X.getLastAddedCursorIndex(),de=X.getCursorStates(),ge=de.slice(0);ge[le]=a.CursorMoveCommands.moveTo(X,de[le],!0,Y.position,Y.viewPosition),X.model.pushStackElement(),X.setCursorStates(Y.source,3,ge)}});class B extends s{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,le){Y.model.pushStackElement(),Y.setCursorStates(le.source,3,a.CursorMoveCommands.moveToBeginningOfLine(Y,Y.getCursorStates(),this._inSelectionMode)),Y.revealPrimaryCursor(le.source,!0)}}A.CursorHome=(0,S.registerEditorCommand)(new B({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),A.CursorHomeSelect=(0,S.registerEditorCommand)(new B({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class W extends s{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,le){Y.model.pushStackElement(),Y.setCursorStates(le.source,3,this._exec(Y.getCursorStates())),Y.revealPrimaryCursor(le.source,!0)}_exec(Y){const le=[];for(let de=0,ge=Y.length;de<ge;de++){const pe=Y[de],Q=pe.modelState.position.lineNumber;le[de]=v.CursorState.fromModelState(pe.modelState.move(this._inSelectionMode,Q,1,0))}return le}}A.CursorLineStart=(0,S.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),A.CursorLineStartSelect=(0,S.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class V extends s{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,le){Y.model.pushStackElement(),Y.setCursorStates(le.source,3,a.CursorMoveCommands.moveToEndOfLine(Y,Y.getCursorStates(),this._inSelectionMode,le.sticky||!1)),Y.revealPrimaryCursor(le.source,!0)}}A.CursorEnd=(0,S.registerEditorCommand)(new V({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L.localize(0,null),type:"boolean",default:!1}}}}]}})),A.CursorEndSelect=(0,S.registerEditorCommand)(new V({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:L.localize(1,null),type:"boolean",default:!1}}}}]}}));class z extends s{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,le){Y.model.pushStackElement(),Y.setCursorStates(le.source,3,this._exec(Y,Y.getCursorStates())),Y.revealPrimaryCursor(le.source,!0)}_exec(Y,le){const de=[];for(let ge=0,pe=le.length;ge<pe;ge++){const Q=le[ge],U=Q.modelState.position.lineNumber,Z=Y.model.getLineMaxColumn(U);de[ge]=v.CursorState.fromModelState(Q.modelState.move(this._inSelectionMode,U,Z,0))}return de}}A.CursorLineEnd=(0,S.registerEditorCommand)(new z({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),A.CursorLineEndSelect=(0,S.registerEditorCommand)(new z({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class K extends s{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,le){Y.model.pushStackElement(),Y.setCursorStates(le.source,3,a.CursorMoveCommands.moveToBeginningOfBuffer(Y,Y.getCursorStates(),this._inSelectionMode)),Y.revealPrimaryCursor(le.source,!0)}}A.CursorTop=(0,S.registerEditorCommand)(new K({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),A.CursorTopSelect=(0,S.registerEditorCommand)(new K({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class j extends s{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,le){Y.model.pushStackElement(),Y.setCursorStates(le.source,3,a.CursorMoveCommands.moveToEndOfBuffer(Y,Y.getCursorStates(),this._inSelectionMode)),Y.revealPrimaryCursor(le.source,!0)}}A.CursorBottom=(0,S.registerEditorCommand)(new j({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),A.CursorBottomSelect=(0,S.registerEditorCommand)(new j({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class x extends s{constructor(){super({id:"editorScroll",precondition:void 0,metadata:l.metadata})}determineScrollMethod(Y){const le=[6],de=[1,2,3,4,5,6],ge=[4,2],pe=[1,3];return le.includes(Y.unit)&&ge.includes(Y.direction)?this._runHorizontalEditorScroll.bind(this):de.includes(Y.unit)&&pe.includes(Y.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(Y,le){const de=l.parse(le);if(!de)return;const ge=this.determineScrollMethod(de);ge&&ge(Y,le.source,de)}_runVerticalEditorScroll(Y,le,de){const ge=this._computeDesiredScrollTop(Y,de);if(de.revealCursor){const pe=Y.getCompletelyVisibleViewRangeAtScrollTop(ge);Y.setCursorStates(le,3,[a.CursorMoveCommands.findPositionInViewportIfOutside(Y,Y.getPrimaryCursorState(),pe,de.select)])}Y.viewLayout.setScrollPosition({scrollTop:ge},0)}_computeDesiredScrollTop(Y,le){if(le.unit===1){const pe=Y.viewLayout.getFutureViewport(),Q=Y.getCompletelyVisibleViewRangeAtScrollTop(pe.top),U=Y.coordinatesConverter.convertViewRangeToModelRange(Q);let Z;le.direction===1?Z=Math.max(1,U.startLineNumber-le.value):Z=Math.min(Y.model.getLineCount(),U.startLineNumber+le.value);const H=Y.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(Z,1));return Y.viewLayout.getVerticalOffsetForLineNumber(H.lineNumber)}if(le.unit===5){let pe=0;return le.direction===3&&(pe=Y.model.getLineCount()-Y.cursorConfig.pageSize),Y.viewLayout.getVerticalOffsetForLineNumber(pe)}let de;le.unit===3?de=Y.cursorConfig.pageSize*le.value:le.unit===4?de=Math.round(Y.cursorConfig.pageSize/2)*le.value:de=le.value;const ge=(le.direction===1?-1:1)*de;return Y.viewLayout.getCurrentScrollTop()+ge*Y.cursorConfig.lineHeight}_runHorizontalEditorScroll(Y,le,de){const ge=this._computeDesiredScrollLeft(Y,de);Y.viewLayout.setScrollPosition({scrollLeft:ge},0)}_computeDesiredScrollLeft(Y,le){const de=(le.direction===4?-1:1)*le.value;return Y.viewLayout.getCurrentScrollLeft()+de*Y.cursorConfig.typicalHalfwidthCharacterWidth}}A.EditorScrollImpl=x,A.EditorScroll=(0,S.registerEditorCommand)(new x),A.ScrollLineUp=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(X,Y){A.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Up,by:l.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Y.source})}}),A.ScrollPageUp=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(X,Y){A.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Up,by:l.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Y.source})}}),A.ScrollEditorTop=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(X,Y){A.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Up,by:l.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Y.source})}}),A.ScrollLineDown=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(X,Y){A.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Down,by:l.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Y.source})}}),A.ScrollPageDown=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(X,Y){A.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Down,by:l.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Y.source})}}),A.ScrollEditorBottom=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(X,Y){A.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Down,by:l.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Y.source})}}),A.ScrollLeft=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(X,Y){A.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Left,by:l.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Y.source})}}),A.ScrollRight=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(X,Y){A.EditorScroll.runCoreEditorCommand(X,{to:l.RawDirection.Right,by:l.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Y.source})}});class re extends s{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,le){le.position&&(Y.model.pushStackElement(),Y.setCursorStates(le.source,3,[a.CursorMoveCommands.word(Y,Y.getPrimaryCursorState(),this._inSelectionMode,le.position)]),le.revealType!==2&&Y.revealPrimaryCursor(le.source,!0,!0))}}A.WordSelect=(0,S.registerEditorCommand)(new re({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),A.WordSelectDrag=(0,S.registerEditorCommand)(new re({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),A.LastCursorWordSelect=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(X,Y){if(!Y.position)return;const le=X.getLastAddedCursorIndex(),de=X.getCursorStates(),ge=de.slice(0),pe=de[le];ge[le]=a.CursorMoveCommands.word(X,pe,pe.modelState.hasSelection(),Y.position),X.model.pushStackElement(),X.setCursorStates(Y.source,3,ge)}});class ie extends s{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,le){le.position&&(Y.model.pushStackElement(),Y.setCursorStates(le.source,3,[a.CursorMoveCommands.line(Y,Y.getPrimaryCursorState(),this._inSelectionMode,le.position,le.viewPosition)]),le.revealType!==2&&Y.revealPrimaryCursor(le.source,!1,!0))}}A.LineSelect=(0,S.registerEditorCommand)(new ie({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),A.LineSelectDrag=(0,S.registerEditorCommand)(new ie({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class J extends s{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode}runCoreEditorCommand(Y,le){if(!le.position)return;const de=Y.getLastAddedCursorIndex(),ge=Y.getCursorStates(),pe=ge.slice(0);pe[de]=a.CursorMoveCommands.line(Y,ge[de],this._inSelectionMode,le.position,le.viewPosition),Y.model.pushStackElement(),Y.setCursorStates(le.source,3,pe)}}A.LastCursorLineSelect=(0,S.registerEditorCommand)(new J({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),A.LastCursorLineSelectDrag=(0,S.registerEditorCommand)(new J({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),A.CancelSelection=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"cancelSelection",precondition:o.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(X,Y){X.model.pushStackElement(),X.setCursorStates(Y.source,3,[a.CursorMoveCommands.cancelSelection(X,X.getPrimaryCursorState())]),X.revealPrimaryCursor(Y.source,!0)}}),A.RemoveSecondaryCursors=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"removeSecondaryCursors",precondition:o.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:d+1,kbExpr:o.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(X,Y){X.model.pushStackElement(),X.setCursorStates(Y.source,3,[X.getPrimaryCursorState()]),X.revealPrimaryCursor(Y.source,!0),(0,D.status)(L.localize(2,null))}}),A.RevealLine=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"revealLine",precondition:void 0,metadata:r.metadata})}runCoreEditorCommand(X,Y){const le=Y,de=le.lineNumber||0;let ge=typeof de=="number"?de+1:parseInt(de)+1;ge<1&&(ge=1);const pe=X.model.getLineCount();ge>pe&&(ge=pe);const Q=new t.Range(ge,1,ge,X.model.getLineMaxColumn(ge));let U=0;if(le.at)switch(le.at){case r.RawAtArgument.Top:U=3;break;case r.RawAtArgument.Center:U=1;break;case r.RawAtArgument.Bottom:U=4;break;default:break}const Z=X.coordinatesConverter.convertModelRangeToViewRange(Q);X.revealRange(Y.source,!1,Z,U,0)}}),A.SelectAll=new class extends h{constructor(){super(S.SelectAllCommand)}runDOMCommand(X){k.isFirefox&&(X.focus(),X.select()),X.ownerDocument.execCommand("selectAll")}runEditorCommand(X,Y,le){const de=Y._getViewModel();de&&this.runCoreEditorCommand(de,le)}runCoreEditorCommand(X,Y){X.model.pushStackElement(),X.setCursorStates("keyboard",3,[a.CursorMoveCommands.selectAll(X,X.getPrimaryCursorState())])}},A.SetSelection=(0,S.registerEditorCommand)(new class extends s{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(X,Y){Y.selection&&(X.model.pushStackElement(),X.setCursorStates(Y.source,3,[v.CursorState.fromModelSelection(Y.selection)]))}})})(u||(e.CoreNavigationCommands=u={}));const f=g.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,o.EditorContextKeys.columnSelection);function C(A,R){m.KeybindingsRegistry.registerKeybindingRule({id:A,primary:R,when:f,weight:d+1})}C(u.CursorColumnSelectLeft.id,1039),C(u.CursorColumnSelectRight.id,1041),C(u.CursorColumnSelectUp.id,1040),C(u.CursorColumnSelectPageUp.id,1035),C(u.CursorColumnSelectDown.id,1042),C(u.CursorColumnSelectPageDown.id,1036);function _(A){return A.register(),A}var E;(function(A){class R extends S.EditorCommand{runEditorCommand(N,P,F){const O=P._getViewModel();O&&this.runCoreEditingCommand(P,O,F||{})}}A.CoreEditingCommand=R,A.LineBreakInsert=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"lineBreakInsert",precondition:o.EditorContextKeys.writable,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(M,N,P){M.pushUndoStop(),M.executeCommands(this.id,n.TypeOperations.lineBreakInsert(N.cursorConfig,N.model,N.getCursorStates().map(F=>F.modelState.selection)))}}),A.Outdent=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"outdent",precondition:o.EditorContextKeys.writable,kbOpts:{weight:d,kbExpr:g.ContextKeyExpr.and(o.EditorContextKeys.editorTextFocus,o.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(M,N,P){M.pushUndoStop(),M.executeCommands(this.id,n.TypeOperations.outdent(N.cursorConfig,N.model,N.getCursorStates().map(F=>F.modelState.selection))),M.pushUndoStop()}}),A.Tab=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"tab",precondition:o.EditorContextKeys.writable,kbOpts:{weight:d,kbExpr:g.ContextKeyExpr.and(o.EditorContextKeys.editorTextFocus,o.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(M,N,P){M.pushUndoStop(),M.executeCommands(this.id,n.TypeOperations.tab(N.cursorConfig,N.model,N.getCursorStates().map(F=>F.modelState.selection))),M.pushUndoStop()}}),A.DeleteLeft=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(M,N,P){const[F,O]=b.DeleteOperations.deleteLeft(N.getPrevEditOperationType(),N.cursorConfig,N.model,N.getCursorStates().map(B=>B.modelState.selection),N.getCursorAutoClosedCharacters());F&&M.pushUndoStop(),M.executeCommands(this.id,O),N.setPrevEditOperationType(2)}}),A.DeleteRight=(0,S.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:d,kbExpr:o.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(M,N,P){const[F,O]=b.DeleteOperations.deleteRight(N.getPrevEditOperationType(),N.cursorConfig,N.model,N.getCursorStates().map(B=>B.modelState.selection));F&&M.pushUndoStop(),M.executeCommands(this.id,O),N.setPrevEditOperationType(3)}}),A.Undo=new class extends h{constructor(){super(S.UndoCommand)}runDOMCommand(M){M.ownerDocument.execCommand("undo")}runEditorCommand(M,N,P){if(!(!N.hasModel()||N.getOption(91)===!0))return N.getModel().undo()}},A.Redo=new class extends h{constructor(){super(S.RedoCommand)}runDOMCommand(M){M.ownerDocument.execCommand("redo")}runEditorCommand(M,N,P){if(!(!N.hasModel()||N.getOption(91)===!0))return N.getModel().redo()}}})(E||(e.CoreEditingCommands=E={}));class I extends S.Command{constructor(R,M,N){super({id:R,precondition:void 0,metadata:N}),this._handlerId=M}runCommand(R,M){const N=R.get(p.ICodeEditorService).getFocusedCodeEditor();N&&N.trigger("keyboard",this._handlerId,M)}}function T(A,R){_(new I("default:"+A,A)),_(new I(A,A,R))}T("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),T("replacePreviousChar"),T("compositionType"),T("compositionStart"),T("compositionEnd"),T("paste"),T("cut")}),define(ne[817],se([1,0,243,16]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let y=class{constructor(S,p){}dispose(){}};e.MarkerDecorationsContribution=y,y.ID="editor.contrib.markerDecorations",e.MarkerDecorationsContribution=y=De([he(1,L.IMarkerDecorationsService)],y),(0,k.registerEditorContribution)(y.ID,y,0)}),define(ne[818],se([1,0,197,9,17]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(p,w,v,b){this.configuration=p,this.viewModel=w,this.userInputEvents=v,this.commandDelegate=b}paste(p,w,v,b){this.commandDelegate.paste(p,w,v,b)}type(p){this.commandDelegate.type(p)}compositionType(p,w,v,b){this.commandDelegate.compositionType(p,w,v,b)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(p){L.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:p})}_validateViewColumn(p){const w=this.viewModel.getLineMinColumn(p.lineNumber);return p.column<w?new k.Position(p.lineNumber,w):p}_hasMulticursorModifier(p){switch(this.configuration.options.get(78)){case"altKey":return p.altKey;case"ctrlKey":return p.ctrlKey;case"metaKey":return p.metaKey;default:return!1}}_hasNonMulticursorModifier(p){switch(this.configuration.options.get(78)){case"altKey":return p.ctrlKey||p.metaKey;case"ctrlKey":return p.altKey||p.metaKey;case"metaKey":return p.ctrlKey||p.altKey;default:return!1}}dispatchMouse(p){const w=this.configuration.options,v=y.isLinux&&w.get(107),b=w.get(22);p.middleButton&&!v?this._columnSelect(p.position,p.mouseColumn,p.inSelectionMode):p.startedOnLineNumbers?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelect(p.position,p.revealType):this._createCursor(p.position,!0):p.inSelectionMode?this._lineSelectDrag(p.position,p.revealType):this._lineSelect(p.position,p.revealType):p.mouseDownCount>=4?this._selectAll():p.mouseDownCount===3?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelectDrag(p.position,p.revealType):this._lastCursorLineSelect(p.position,p.revealType):p.inSelectionMode?this._lineSelectDrag(p.position,p.revealType):this._lineSelect(p.position,p.revealType):p.mouseDownCount===2?p.onInjectedText||(this._hasMulticursorModifier(p)?this._lastCursorWordSelect(p.position,p.revealType):p.inSelectionMode?this._wordSelectDrag(p.position,p.revealType):this._wordSelect(p.position,p.revealType)):this._hasMulticursorModifier(p)?this._hasNonMulticursorModifier(p)||(p.shiftKey?this._columnSelect(p.position,p.mouseColumn,!0):p.inSelectionMode?this._lastCursorMoveToSelect(p.position,p.revealType):this._createCursor(p.position,!1)):p.inSelectionMode?p.altKey?this._columnSelect(p.position,p.mouseColumn,!0):b?this._columnSelect(p.position,p.mouseColumn,!0):this._moveToSelect(p.position,p.revealType):this.moveTo(p.position,p.revealType)}_usualArgs(p,w){return p=this._validateViewColumn(p),{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,revealType:w}}moveTo(p,w){L.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_moveToSelect(p,w){L.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_columnSelect(p,w,v){p=this._validateViewColumn(p),L.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,mouseColumn:w,doColumnSelect:v})}_createCursor(p,w){p=this._validateViewColumn(p),L.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,wholeLine:w})}_lastCursorMoveToSelect(p,w){L.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_wordSelect(p,w){L.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_wordSelectDrag(p,w){L.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lastCursorWordSelect(p,w){L.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lineSelect(p,w){L.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lineSelectDrag(p,w){L.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lastCursorLineSelect(p,w){L.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lastCursorLineSelectDrag(p,w){L.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_selectAll(){L.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(p){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(p)}emitKeyDown(p){this.userInputEvents.emitKeyDown(p)}emitKeyUp(p){this.userInputEvents.emitKeyUp(p)}emitContextMenu(p){this.userInputEvents.emitContextMenu(p)}emitMouseMove(p){this.userInputEvents.emitMouseMove(p)}emitMouseLeave(p){this.userInputEvents.emitMouseLeave(p)}emitMouseUp(p){this.userInputEvents.emitMouseUp(p)}emitMouseDown(p){this.userInputEvents.emitMouseDown(p)}emitMouseDrag(p){this.userInputEvents.emitMouseDrag(p)}emitMouseDrop(p){this.userInputEvents.emitMouseDrop(p)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(p){this.userInputEvents.emitMouseWheel(p)}}e.ViewController=D}),define(ne[819],se([1,0,45,8,7,63,64,115,123,61]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=e.WorkerBasedDiffProviderFactoryService=e.IDiffProviderFactoryService=void 0,e.IDiffProviderFactoryService=(0,k.createDecorator)("diffProviderFactoryService");let a=class{constructor(t){this.instantiationService=t}createDiffProvider(t){return this.instantiationService.createInstance(n,t)}};e.WorkerBasedDiffProviderFactoryService=a,e.WorkerBasedDiffProviderFactoryService=a=De([he(0,k.IInstantiationService)],a),(0,L.registerSingleton)(e.IDiffProviderFactoryService,a,1);let n=b=class{constructor(t,o,g){this.editorWorkerService=o,this.telemetryService=g,this.onDidChangeEventEmitter=new y.Emitter,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(t)}dispose(){var t;(t=this.diffAlgorithmOnDidChangeSubscription)===null||t===void 0||t.dispose()}async computeDiff(t,o,g,m){var c,d;if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(t,o,g,m);if(t.getLineCount()===1&&t.getLineMaxColumn(1)===1)return o.getLineCount()===1&&o.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new p.DetailedLineRangeMapping(new S.LineRange(1,2),new S.LineRange(1,o.getLineCount()+1),[new p.RangeMapping(t.getFullModelRange(),o.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const s=JSON.stringify([t.uri.toString(),o.uri.toString()]),l=JSON.stringify([t.id,o.id,t.getAlternativeVersionId(),o.getAlternativeVersionId(),JSON.stringify(g)]),r=b.diffCache.get(s);if(r&&r.context===l)return r.result;const h=D.StopWatch.create(),u=await this.editorWorkerService.computeDiff(t.uri,o.uri,g,this.diffAlgorithm),f=h.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:f,timedOut:(c=u?.quitEarly)!==null&&c!==void 0?c:!0,detectedMoves:g.computeMoves?(d=u?.moves.length)!==null&&d!==void 0?d:0:-1}),m.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!u)throw new Error("no diff result available");return b.diffCache.size>10&&b.diffCache.delete(b.diffCache.keys().next().value),b.diffCache.set(s,{result:u,context:l}),u}setOptions(t){var o;let g=!1;t.diffAlgorithm&&this.diffAlgorithm!==t.diffAlgorithm&&((o=this.diffAlgorithmOnDidChangeSubscription)===null||o===void 0||o.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=t.diffAlgorithm,typeof t.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=t.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),g=!0),g&&this.onDidChangeEventEmitter.fire()}};e.WorkerBasedDocumentDiffProvider=n,n.diffCache=new Map,e.WorkerBasedDocumentDiffProvider=n=b=De([he(1,w.IEditorWorkerService),he(2,v.ITelemetryService)],n)}),define(ne[366],se([1,0,15,19,2,32,819,87,64,294,115,185,296,292,20,13,90]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRegion=e.DiffMapping=e.DiffState=e.DiffEditorViewModel=void 0;let m=class extends y.Disposable{setActiveMovedText(C){this._activeMovedText.set(C,void 0)}constructor(C,_,E){super(),this.model=C,this._options=_,this._diffProviderFactoryService=E,this._isDiffUpToDate=(0,D.observableValue)(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,D.observableValue)(this,void 0),this.diff=this._diff,this._unchangedRegions=(0,D.observableValue)(this,void 0),this.unchangedRegions=(0,D.derived)(this,R=>{var M,N;return this._options.hideUnchangedRegions.read(R)?(N=(M=this._unchangedRegions.read(R))===null||M===void 0?void 0:M.regions)!==null&&N!==void 0?N:[]:((0,D.transaction)(P=>{var F;for(const O of((F=this._unchangedRegions.get())===null||F===void 0?void 0:F.regions)||[])O.collapseAll(P)}),[])}),this.movedTextToCompare=(0,D.observableValue)(this,void 0),this._activeMovedText=(0,D.observableValue)(this,void 0),this._hoveredMovedText=(0,D.observableValue)(this,void 0),this.activeMovedText=(0,D.derived)(this,R=>{var M,N;return(N=(M=this.movedTextToCompare.read(R))!==null&&M!==void 0?M:this._hoveredMovedText.read(R))!==null&&N!==void 0?N:this._activeMovedText.read(R)}),this._cancellationTokenSource=new k.CancellationTokenSource,this._diffProvider=(0,D.derived)(this,R=>{const M=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(R)}),N=(0,D.observableSignalFromEvent)("onDidChange",M.onDidChange);return{diffProvider:M,onChangeSignal:N}}),this._register((0,y.toDisposable)(()=>this._cancellationTokenSource.cancel()));const I=(0,D.observableSignal)("contentChangedSignal"),T=this._register(new L.RunOnceScheduler(()=>I.trigger(void 0),200));this._register((0,D.autorun)(R=>{const M=this._unchangedRegions.read(R);if(!M||M.regions.some(W=>W.isDragged.read(R)))return;const N=M.originalDecorationIds.map(W=>C.original.getDecorationRange(W)).map(W=>W?w.LineRange.fromRangeInclusive(W):void 0),P=M.modifiedDecorationIds.map(W=>C.modified.getDecorationRange(W)).map(W=>W?w.LineRange.fromRangeInclusive(W):void 0),F=M.regions.map((W,V)=>!N[V]||!P[V]?void 0:new r(N[V].startLineNumber,P[V].startLineNumber,N[V].length,W.visibleLineCountTop.read(R),W.visibleLineCountBottom.read(R))).filter(t.isDefined),O=[];let B=!1;for(const W of(0,o.groupAdjacentBy)(F,(V,z)=>V.getHiddenModifiedRange(R).endLineNumberExclusive===z.getHiddenModifiedRange(R).startLineNumber))if(W.length>1){B=!0;const V=W.reduce((K,j)=>K+j.lineCount,0),z=new r(W[0].originalLineNumber,W[0].modifiedLineNumber,V,W[0].visibleLineCountTop.get(),W[W.length-1].visibleLineCountBottom.get());O.push(z)}else O.push(W[0]);if(B){const W=C.original.deltaDecorations(M.originalDecorationIds,O.map(z=>({range:z.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),V=C.modified.deltaDecorations(M.modifiedDecorationIds,O.map(z=>({range:z.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));(0,D.transaction)(z=>{this._unchangedRegions.set({regions:O,originalDecorationIds:W,modifiedDecorationIds:V},z)})}}));const A=(R,M,N)=>{const P=r.fromDiffs(R.changes,C.original.getLineCount(),C.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(N),this._options.hideUnchangedRegionsContextLineCount.read(N));let F;const O=this._unchangedRegions.get();if(O){const z=O.originalDecorationIds.map(re=>C.original.getDecorationRange(re)).map(re=>re?w.LineRange.fromRangeInclusive(re):void 0),K=O.modifiedDecorationIds.map(re=>C.modified.getDecorationRange(re)).map(re=>re?w.LineRange.fromRangeInclusive(re):void 0);let x=(0,p.filterWithPrevious)(O.regions.map((re,ie)=>{if(!z[ie]||!K[ie])return;const J=z[ie].length;return new r(z[ie].startLineNumber,K[ie].startLineNumber,J,Math.min(re.visibleLineCountTop.get(),J),Math.min(re.visibleLineCountBottom.get(),J-re.visibleLineCountTop.get()))}).filter(t.isDefined),(re,ie)=>!ie||re.modifiedLineNumber>=ie.modifiedLineNumber+ie.lineCount&&re.originalLineNumber>=ie.originalLineNumber+ie.lineCount).map(re=>new b.LineRangeMapping(re.getHiddenOriginalRange(N),re.getHiddenModifiedRange(N)));x=b.LineRangeMapping.clip(x,w.LineRange.ofLength(1,C.original.getLineCount()),w.LineRange.ofLength(1,C.modified.getLineCount())),F=b.LineRangeMapping.inverse(x,C.original.getLineCount(),C.modified.getLineCount())}const B=[];if(F)for(const z of P){const K=F.filter(j=>j.original.intersectsStrict(z.originalUnchangedRange)&&j.modified.intersectsStrict(z.modifiedUnchangedRange));B.push(...z.setVisibleRanges(K,M))}else B.push(...P);const W=C.original.deltaDecorations(O?.originalDecorationIds||[],B.map(z=>({range:z.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),V=C.modified.deltaDecorations(O?.modifiedDecorationIds||[],B.map(z=>({range:z.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:B,originalDecorationIds:W,modifiedDecorationIds:V},M)};this._register(C.modified.onDidChangeContent(R=>{if(this._diff.get()){const N=a.TextEditInfo.fromModelContentChanges(R.changes),P=(this._lastDiff,C.original,C.modified,void 0);P&&(this._lastDiff=P,(0,D.transaction)(F=>{this._diff.set(s.fromDiffResult(this._lastDiff),F),A(P,F);const O=this.movedTextToCompare.get();this.movedTextToCompare.set(O?this._lastDiff.moves.find(B=>B.lineRangeMapping.modified.intersect(O.lineRangeMapping.modified)):void 0,F)}))}this._isDiffUpToDate.set(!1,void 0),T.schedule()})),this._register(C.original.onDidChangeContent(R=>{if(this._diff.get()){const N=a.TextEditInfo.fromModelContentChanges(R.changes),P=(this._lastDiff,C.original,C.modified,void 0);P&&(this._lastDiff=P,(0,D.transaction)(F=>{this._diff.set(s.fromDiffResult(this._lastDiff),F),A(P,F);const O=this.movedTextToCompare.get();this.movedTextToCompare.set(O?this._lastDiff.moves.find(B=>B.lineRangeMapping.modified.intersect(O.lineRangeMapping.modified)):void 0,F)}))}this._isDiffUpToDate.set(!1,void 0),T.schedule()})),this._register((0,D.autorunWithStore)(async(R,M)=>{var N,P;this._options.hideUnchangedRegionsMinimumLineCount.read(R),this._options.hideUnchangedRegionsContextLineCount.read(R),T.cancel(),I.read(R);const F=this._diffProvider.read(R);F.onChangeSignal.read(R),(0,p.readHotReloadableExport)(v.DefaultLinesDiffComputer,R),(0,p.readHotReloadableExport)(i.optimizeSequenceDiffs,R),this._isDiffUpToDate.set(!1,void 0);let O=[];M.add(C.original.onDidChangeContent(V=>{const z=a.TextEditInfo.fromModelContentChanges(V.changes);O=(0,n.combineTextEditInfos)(O,z)}));let B=[];M.add(C.modified.onDidChangeContent(V=>{const z=a.TextEditInfo.fromModelContentChanges(V.changes);B=(0,n.combineTextEditInfos)(B,z)}));let W=await F.diffProvider.computeDiff(C.original,C.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(R),maxComputationTimeMs:this._options.maxComputationTimeMs.read(R),computeMoves:this._options.showMoves.read(R)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(W=c(W,C.original,C.modified),W=(N=(C.original,C.modified,void 0))!==null&&N!==void 0?N:W,W=(P=(C.original,C.modified,void 0))!==null&&P!==void 0?P:W,(0,D.transaction)(V=>{A(W,V),this._lastDiff=W;const z=s.fromDiffResult(W);this._diff.set(z,V),this._isDiffUpToDate.set(!0,V);const K=this.movedTextToCompare.get();this.movedTextToCompare.set(K?this._lastDiff.moves.find(j=>j.lineRangeMapping.modified.intersect(K.lineRangeMapping.modified)):void 0,V)}))}))}ensureModifiedLineIsVisible(C,_,E){var I,T;if(((I=this.diff.get())===null||I===void 0?void 0:I.mappings.length)===0)return;const A=((T=this._unchangedRegions.get())===null||T===void 0?void 0:T.regions)||[];for(const R of A)if(R.getHiddenModifiedRange(void 0).contains(C)){R.showModifiedLine(C,_,E);return}}ensureOriginalLineIsVisible(C,_,E){var I,T;if(((I=this.diff.get())===null||I===void 0?void 0:I.mappings.length)===0)return;const A=((T=this._unchangedRegions.get())===null||T===void 0?void 0:T.regions)||[];for(const R of A)if(R.getHiddenOriginalRange(void 0).contains(C)){R.showOriginalLine(C,_,E);return}}async waitForDiff(){await(0,D.waitForState)(this.isDiffUpToDate,C=>C)}serializeState(){const C=this._unchangedRegions.get();return{collapsedRegions:C?.regions.map(_=>({range:_.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(C){var _;const E=(_=C.collapsedRegions)===null||_===void 0?void 0:_.map(T=>w.LineRange.deserialize(T.range)),I=this._unchangedRegions.get();!I||!E||(0,D.transaction)(T=>{for(const A of I.regions)for(const R of E)if(A.modifiedUnchangedRange.intersect(R)){A.setHiddenModifiedRange(R,T);break}})}};e.DiffEditorViewModel=m,e.DiffEditorViewModel=m=De([he(2,S.IDiffProviderFactoryService)],m);function c(f,C,_){return{changes:f.changes.map(E=>new b.DetailedLineRangeMapping(E.original,E.modified,E.innerChanges?E.innerChanges.map(I=>d(I,C,_)):void 0)),moves:f.moves,identical:f.identical,quitEarly:f.quitEarly}}function d(f,C,_){let E=f.originalRange,I=f.modifiedRange;return(E.endColumn!==1||I.endColumn!==1)&&E.endColumn===C.getLineMaxColumn(E.endLineNumber)&&I.endColumn===_.getLineMaxColumn(I.endLineNumber)&&E.endLineNumber<C.getLineCount()&&I.endLineNumber<_.getLineCount()&&(E=E.setEndPosition(E.endLineNumber+1,1),I=I.setEndPosition(I.endLineNumber+1,1)),new b.RangeMapping(E,I)}class s{static fromDiffResult(C){return new s(C.changes.map(_=>new l(_)),C.moves||[],C.identical,C.quitEarly)}constructor(C,_,E,I){this.mappings=C,this.movedTexts=_,this.identical=E,this.quitEarly=I}}e.DiffState=s;class l{constructor(C){this.lineRangeMapping=C}}e.DiffMapping=l;class r{static fromDiffs(C,_,E,I,T){const A=b.DetailedLineRangeMapping.inverse(C,_,E),R=[];for(const M of A){let N=M.original.startLineNumber,P=M.modified.startLineNumber,F=M.original.length;const O=N===1&&P===1,B=N+F===_+1&&P+F===E+1;(O||B)&&F>=T+I?(O&&!B&&(F-=T),B&&!O&&(N+=T,P+=T,F-=T),R.push(new r(N,P,F,0,0))):F>=T*2+I&&(N+=T,P+=T,F-=T*2,R.push(new r(N,P,F,0,0)))}return R}get originalUnchangedRange(){return w.LineRange.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return w.LineRange.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(C,_,E,I,T){this.originalLineNumber=C,this.modifiedLineNumber=_,this.lineCount=E,this._visibleLineCountTop=(0,D.observableValue)(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,D.observableValue)(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,D.derived)(this,M=>this.visibleLineCountTop.read(M)+this.visibleLineCountBottom.read(M)===this.lineCount&&!this.isDragged.read(M)),this.isDragged=(0,D.observableValue)(this,void 0);const A=Math.max(Math.min(I,this.lineCount),0),R=Math.max(Math.min(T,this.lineCount-I),0);(0,g.softAssert)(I===A),(0,g.softAssert)(T===R),this._visibleLineCountTop.set(A,void 0),this._visibleLineCountBottom.set(R,void 0)}setVisibleRanges(C,_){const E=[],I=new w.LineRangeSet(C.map(M=>M.modified)).subtractFrom(this.modifiedUnchangedRange);let T=this.originalLineNumber,A=this.modifiedLineNumber;const R=this.modifiedLineNumber+this.lineCount;if(I.ranges.length===0)this.showAll(_),E.push(this);else{let M=0;for(const N of I.ranges){const P=M===I.ranges.length-1;M++;const F=(P?R:N.endLineNumberExclusive)-A,O=new r(T,A,F,0,0);O.setHiddenModifiedRange(N,_),E.push(O),T=O.originalUnchangedRange.endLineNumberExclusive,A=O.modifiedUnchangedRange.endLineNumberExclusive}}return E}shouldHideControls(C){return this._shouldHideControls.read(C)}getHiddenOriginalRange(C){return w.LineRange.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(C),this.lineCount-this._visibleLineCountTop.read(C)-this._visibleLineCountBottom.read(C))}getHiddenModifiedRange(C){return w.LineRange.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(C),this.lineCount-this._visibleLineCountTop.read(C)-this._visibleLineCountBottom.read(C))}setHiddenModifiedRange(C,_){const E=C.startLineNumber-this.modifiedLineNumber,I=this.modifiedLineNumber+this.lineCount-C.endLineNumberExclusive;this.setState(E,I,_)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(C=10,_){const E=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+C,E),_)}showMoreBelow(C=10,_){const E=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+C,E),_)}showAll(C){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),C)}showModifiedLine(C,_,E){const I=C+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),T=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-C;_===0&&I<T||_===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+I,E):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+T,E)}showOriginalLine(C,_,E){const I=C-this.originalLineNumber,T=this.originalLineNumber+this.lineCount-C;_===0&&I<T||_===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+T-I,this.getMaxVisibleLineCountTop()),E):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+I-T,this.getMaxVisibleLineCountBottom()),E)}collapseAll(C){this._visibleLineCountTop.set(0,C),this._visibleLineCountBottom.set(0,C)}setState(C,_,E){C=Math.max(Math.min(C,this.lineCount),0),_=Math.max(Math.min(_,this.lineCount-C),0),this._visibleLineCountTop.set(C,E),this._visibleLineCountBottom.set(_,E)}}e.UnchangedRegion=r;function h(f,C,_,E){}function u(f,C,_,E){}}),define(ne[820],se([1,0,44,58,66,16,23,21,659,14,460]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new v.RawContextKey("selectionAnchorSet",!1);let a=b=class{static get(m){return m.getContribution(b.ID)}constructor(m,c){this.editor=m,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(c),this.modelChangeListener=m.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const m=this.editor.getPosition();this.editor.changeDecorations(c=>{this.decorationId&&c.removeDecoration(this.decorationId),this.decorationId=c.addDecoration(S.Selection.fromPositions(m,m),{description:"selection-anchor",stickiness:1,hoverMessage:new k.MarkdownString().appendText((0,w.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,L.alert)((0,w.localize)(1,null,m.lineNumber,m.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const m=this.editor.getModel().getDecorationRange(this.decorationId);m&&this.editor.setPosition(m.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const m=this.editor.getModel().getDecorationRange(this.decorationId);if(m){const c=this.editor.getPosition();this.editor.setSelection(S.Selection.fromPositions(m.getStartPosition(),c)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const m=this.decorationId;this.editor.changeDecorations(c=>{c.removeDecoration(m),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};a.ID="editor.contrib.selectionAnchorController",a=b=De([he(1,v.IContextKeyService)],a);class n extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,w.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2080),weight:100}})}async run(m,c){var d;(d=a.get(c))===null||d===void 0||d.setSelectionAnchor()}}class i extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,w.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}async run(m,c){var d;(d=a.get(c))===null||d===void 0||d.goToSelectionAnchor()}}class t extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,w.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,2089),weight:100}})}async run(m,c){var d;(d=a.get(c))===null||d===void 0||d.selectFromAnchorToCursor()}}class o extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,w.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}async run(m,c){var d;(d=a.get(c))===null||d===void 0||d.cancelSelectionAnchor()}}(0,D.registerEditorContribution)(a.ID,a,4),(0,D.registerEditorAction)(n),(0,D.registerEditorAction)(i),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(o)}),define(ne[821],se([1,0,16,21,561,661]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class S extends L.EditorAction{constructor(b,a){super(a),this.left=b}run(b,a){if(!a.hasModel())return;const n=[],i=a.getSelections();for(const t of i)n.push(new y.MoveCaretCommand(t,this.left));a.pushUndoStop(),a.executeCommands(this.id,n),a.pushUndoStop()}}class p extends S{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:k.EditorContextKeys.writable})}}class w extends S{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:k.EditorContextKeys.writable})}}(0,L.registerEditorAction)(p),(0,L.registerEditorAction)(w)}),define(ne[822],se([1,0,16,134,212,5,21,662]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends L.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:p.localize(0,null),alias:"Transpose Letters",precondition:S.EditorContextKeys.writable,kbOpts:{kbExpr:S.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(b,a){if(!a.hasModel())return;const n=a.getModel(),i=[],t=a.getSelections();for(const o of t){if(!o.isEmpty())continue;const g=o.startLineNumber,m=o.startColumn,c=n.getLineMaxColumn(g);if(g===1&&(m===1||m===2&&c===2))continue;const d=m===c?o.getPosition():y.MoveOperations.rightPosition(n,o.getPosition().lineNumber,o.getPosition().column),s=y.MoveOperations.leftPosition(n,d),l=y.MoveOperations.leftPosition(n,s),r=n.getValueInRange(D.Range.fromPositions(l,s)),h=n.getValueInRange(D.Range.fromPositions(s,d)),u=D.Range.fromPositions(l,d);i.push(new k.ReplaceCommand(u,h+r))}i.length>0&&(a.pushUndoStop(),a.executeCommands(this.id,i),a.pushUndoStop())}}(0,L.registerEditorAction)(w)}),define(ne[823],se([1,0,66,16,5,21,33,309,563,673,28]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class a extends k.EditorAction{constructor(m,c){super(c),this._type=m}run(m,c){const d=m.get(S.ILanguageConfigurationService);if(!c.hasModel())return;const s=c.getModel(),l=[],r=s.getOptions(),h=c.getOption(23),u=c.getSelections().map((C,_)=>({selection:C,index:_,ignoreFirstLine:!1}));u.sort((C,_)=>y.Range.compareRangesUsingStarts(C.selection,_.selection));let f=u[0];for(let C=1;C<u.length;C++){const _=u[C];f.selection.endLineNumber===_.selection.startLineNumber&&(f.index<_.index?_.ignoreFirstLine=!0:(f.ignoreFirstLine=!0,f=_))}for(const C of u)l.push(new w.LineCommentCommand(d,C.selection,r.tabSize,this._type,h.insertSpace,h.ignoreEmptyLines,C.ignoreFirstLine));c.pushUndoStop(),c.executeCommands(this.id,l),c.pushUndoStop()}}class n extends a{constructor(){super(0,{id:"editor.action.commentLine",label:v.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:b.MenuId.MenubarEditMenu,group:"5_insert",title:v.localize(1,null),order:1}})}}class i extends a{constructor(){super(1,{id:"editor.action.addCommentLine",label:v.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2081),weight:100}})}}class t extends a{constructor(){super(2,{id:"editor.action.removeCommentLine",label:v.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2099),weight:100}})}}class o extends k.EditorAction{constructor(){super({id:"editor.action.blockComment",label:v.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:b.MenuId.MenubarEditMenu,group:"5_insert",title:v.localize(5,null),order:2}})}run(m,c){const d=m.get(S.ILanguageConfigurationService);if(!c.hasModel())return;const s=c.getOption(23),l=[],r=c.getSelections();for(const h of r)l.push(new p.BlockCommentCommand(h,s.insertSpace,d));c.pushUndoStop(),c.executeCommands(this.id,l),c.pushUndoStop()}}(0,k.registerEditorAction)(n),(0,k.registerEditorAction)(i),(0,k.registerEditorAction)(t),(0,k.registerEditorAction)(o)}),define(ne[824],se([1,0,2,16,21,675]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class S{constructor(n){this.selections=n}equals(n){const i=this.selections.length,t=n.selections.length;if(i!==t)return!1;for(let o=0;o<i;o++)if(!this.selections[o].equalsSelection(n.selections[o]))return!1;return!0}}class p{constructor(n,i,t){this.cursorState=n,this.scrollTop=i,this.scrollLeft=t}}class w extends L.Disposable{static get(n){return n.getContribution(w.ID)}constructor(n){super(),this._editor=n,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(n.onDidChangeModel(i=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeModelContent(i=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeCursorSelection(i=>{if(this._isCursorUndoRedo||!i.oldSelections||i.oldModelVersionId!==i.modelVersionId)return;const t=new S(i.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(t)||(this._undoStack.push(new p(t,n.getScrollTop(),n.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new p(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new p(new S(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(n){this._isCursorUndoRedo=!0,this._editor.setSelections(n.cursorState.selections),this._editor.setScrollPosition({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=w,w.ID="editor.contrib.cursorUndoRedoController";class v extends k.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(n,i,t){var o;(o=w.get(i))===null||o===void 0||o.cursorUndo()}}e.CursorUndo=v;class b extends k.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(n,i,t){var o;(o=w.get(i))===null||o===void 0||o.cursorRedo()}}e.CursorRedo=b,(0,k.registerEditorContribution)(w.ID,w,0),(0,k.registerEditorAction)(v),(0,k.registerEditorAction)(b)}),define(ne[825],se([1,0,16,14,19,67,8,45,681]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const v=(0,S.createDecorator)("IEditorCancelService"),b=new k.RawContextKey("cancellableOperation",!1,(0,w.localize)(0,null));(0,p.registerSingleton)(v,class{constructor(){this._tokens=new WeakMap}add(n,i){let t=this._tokens.get(n);t||(t=n.invokeWithinContext(g=>{const m=b.bindTo(g.get(k.IContextKeyService)),c=new D.LinkedList;return{key:m,tokens:c}}),this._tokens.set(n,t));let o;return t.key.set(!0),o=t.tokens.push(i),()=>{o&&(o(),t.key.set(!t.tokens.isEmpty()),o=void 0)}}cancel(n){const i=this._tokens.get(n);if(!i)return;const t=i.tokens.pop();t&&(t.cancel(),i.key.set(!i.tokens.isEmpty()))}},1);class a extends y.CancellationTokenSource{constructor(i,t){super(t),this.editor=i,this._unregister=i.invokeWithinContext(o=>o.get(v).add(i,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=a,(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:b})}runEditorCommand(n,i){n.get(v).cancel(i)}})}),define(ne[109],se([1,0,11,5,19,2,825]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class p{constructor(a,n){if(this.flags=n,this.flags&1){const i=a.getModel();this.modelVersionId=i?L.format("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=a.getPosition():this.position=null,this.flags&2?this.selection=a.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=a.getScrollLeft(),this.scrollTop=a.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(a){if(!(a instanceof p))return!1;const n=a;return!(this.modelVersionId!==n.modelVersionId||this.scrollLeft!==n.scrollLeft||this.scrollTop!==n.scrollTop||!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position)||!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))}validate(a){return this._equals(new p(a,this.flags))}}e.EditorState=p;class w extends S.EditorKeybindingCancellationTokenSource{constructor(a,n,i,t){super(a,t),this._listener=new D.DisposableStore,n&4&&this._listener.add(a.onDidChangeCursorPosition(o=>{(!i||!k.Range.containsPosition(i,o.position))&&this.cancel()})),n&2&&this._listener.add(a.onDidChangeCursorSelection(o=>{(!i||!k.Range.containsRange(i,o.selection))&&this.cancel()})),n&8&&this._listener.add(a.onDidScrollChange(o=>this.cancel())),n&1&&(this._listener.add(a.onDidChangeModel(o=>this.cancel())),this._listener.add(a.onDidChangeModelContent(o=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=w;class v extends y.CancellationTokenSource{constructor(a,n){super(n),this._listener=a.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=v}),define(ne[146],se([1,0,13,19,12,2,22,142,5,23,18,51,109,664,25,49,88,61,119]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyCodeAction=e.ApplyCodeActionReason=e.getCodeActions=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.autoFixCommandId=e.quickFixCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.quickFixCommandId="editor.action.quickFix",e.autoFixCommandId="editor.action.autoFix",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class d extends D.Disposable{static codeActionsPreferredComparator(I,T){return I.isPreferred&&!T.isPreferred?-1:!I.isPreferred&&T.isPreferred?1:0}static codeActionsComparator({action:I},{action:T}){return I.isAI&&!T.isAI?1:!I.isAI&&T.isAI?-1:(0,L.isNonEmptyArray)(I.diagnostics)?(0,L.isNonEmptyArray)(T.diagnostics)?d.codeActionsPreferredComparator(I,T):-1:(0,L.isNonEmptyArray)(T.diagnostics)?1:d.codeActionsPreferredComparator(I,T)}constructor(I,T,A){super(),this.documentation=T,this._register(A),this.allActions=[...I].sort(d.codeActionsComparator),this.validActions=this.allActions.filter(({action:R})=>!R.disabled)}get hasAutoFix(){return this.validActions.some(({action:I})=>!!I.kind&&c.CodeActionKind.QuickFix.contains(new c.CodeActionKind(I.kind))&&!!I.isPreferred)}get hasAIFix(){return this.validActions.some(({action:I})=>!!I.isAI)}get allAIFixes(){return this.validActions.every(({action:I})=>!!I.isAI)}}const s={actions:[],documentation:void 0};async function l(E,I,T,A,R,M){var N;const P=A.filter||{},F={...P,excludes:[...P.excludes||[],c.CodeActionKind.Notebook]},O={only:(N=P.include)===null||N===void 0?void 0:N.value,trigger:A.type},B=new n.TextModelCancellationTokenSource(I,M),W=A.type===2,V=r(E,I,W?F:P),z=new D.DisposableStore,K=V.map(async x=>{try{R.report(x);const re=await x.provideCodeActions(I,T,O,B.token);if(re&&z.add(re),B.token.isCancellationRequested)return s;const ie=(re?.actions||[]).filter(X=>X&&(0,c.filtersAction)(P,X)),J=u(x,ie,P.include);return{actions:ie.map(X=>new c.CodeActionItem(X,x)),documentation:J}}catch(re){if((0,y.isCancellationError)(re))throw re;return(0,y.onUnexpectedExternalError)(re),s}}),j=E.onDidChange(()=>{const x=E.all(I);(0,L.equals)(x,V)||B.cancel()});try{const x=await Promise.all(K),re=x.map(J=>J.actions).flat(),ie=[...(0,L.coalesce)(x.map(J=>J.documentation)),...h(E,I,A,re)];return new d(re,ie,z)}finally{j.dispose(),B.dispose()}}e.getCodeActions=l;function r(E,I,T){return E.all(I).filter(A=>A.providedCodeActionKinds?A.providedCodeActionKinds.some(R=>(0,c.mayIncludeActionsOfKind)(T,new c.CodeActionKind(R))):!0)}function*h(E,I,T,A){var R,M,N;if(I&&A.length)for(const P of E.all(I))P._getAdditionalMenuItems&&(yield*(R=P._getAdditionalMenuItems)===null||R===void 0?void 0:R.call(P,{trigger:T.type,only:(N=(M=T.filter)===null||M===void 0?void 0:M.include)===null||N===void 0?void 0:N.value},A.map(F=>F.action)))}function u(E,I,T){if(!E.documentation)return;const A=E.documentation.map(R=>({kind:new c.CodeActionKind(R.kind),command:R.command}));if(T){let R;for(const M of A)M.kind.contains(T)&&(R?R.kind.contains(M.kind)&&(R=M):R=M);if(R)return R?.command}for(const R of I)if(R.kind){for(const M of A)if(M.kind.contains(new c.CodeActionKind(R.kind)))return M.command}}var f;(function(E){E.OnSave="onSave",E.FromProblemsView="fromProblemsView",E.FromCodeActions="fromCodeActions",E.FromAILightbulb="fromAILightbulb"})(f||(e.ApplyCodeActionReason=f={}));async function C(E,I,T,A,R=k.CancellationToken.None){var M;const N=E.get(p.IBulkEditService),P=E.get(t.ICommandService),F=E.get(m.ITelemetryService),O=E.get(o.INotificationService);if(F.publicLog2("codeAction.applyCodeAction",{codeActionTitle:I.action.title,codeActionKind:I.action.kind,codeActionIsPreferred:!!I.action.isPreferred,reason:T}),await I.resolve(R),!R.isCancellationRequested&&!(!((M=I.action.edit)===null||M===void 0)&&M.edits.length&&!(await N.apply(I.action.edit,{editor:A?.editor,label:I.action.title,quotableLabel:I.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:T!==f.OnSave,showPreview:A?.preview})).isApplied)&&I.action.command)try{await P.executeCommand(I.action.command.id,...I.action.command.arguments||[])}catch(B){const W=_(B);O.error(typeof W=="string"?W:i.localize(0,null))}}e.applyCodeAction=C;function _(E){return typeof E=="string"?E:E instanceof Error&&typeof E.message=="string"?E.message:void 0}t.CommandsRegistry.registerCommand("_executeCodeActionProvider",async function(E,I,T,A,R){if(!(I instanceof S.URI))throw(0,y.illegalArgument)();const{codeActionProvider:M}=E.get(b.ILanguageFeaturesService),N=E.get(a.IModelService).getModel(I);if(!N)throw(0,y.illegalArgument)();const P=v.Selection.isISelection(T)?v.Selection.liftSelection(T):w.Range.isIRange(T)?N.validateRange(T):void 0;if(!P)throw(0,y.illegalArgument)();const F=typeof A=="string"?new c.CodeActionKind(A):void 0,O=await l(M,N,P,{type:1,triggerAction:c.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:F}},g.Progress.None,k.CancellationToken.None),B=[],W=Math.min(O.validActions.length,typeof R=="number"?R:0);for(let V=0;V<W;V++)B.push(O.validActions[V].resolve(k.CancellationToken.None));try{return await Promise.all(B),O.validActions.map(V=>V.action)}finally{setTimeout(()=>O.dispose(),100)}})}),define(ne[826],se([1,0,96,146,119,34]),function(ee,e,L,k,y,D){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=void 0;let p=S=class{constructor(v){this.keybindingService=v}getResolver(){const v=new L.Lazy(()=>this.keybindingService.getKeybindings().filter(b=>S.codeActionCommands.indexOf(b.command)>=0).filter(b=>b.resolvedKeybinding).map(b=>{let a=b.commandArgs;return b.command===k.organizeImportsCommandId?a={kind:y.CodeActionKind.SourceOrganizeImports.value}:b.command===k.fixAllCommandId&&(a={kind:y.CodeActionKind.SourceFixAll.value}),{resolvedKeybinding:b.resolvedKeybinding,...y.CodeActionCommandArgs.fromUser(a,{kind:y.CodeActionKind.None,apply:"never"})}}));return b=>{if(b.kind){const a=this.bestKeybindingForCodeAction(b,v.value);return a?.resolvedKeybinding}}}bestKeybindingForCodeAction(v,b){if(!v.kind)return;const a=new y.CodeActionKind(v.kind);return b.filter(n=>n.kind.contains(a)).filter(n=>n.preferred?v.isPreferred:!0).reduceRight((n,i)=>n?n.kind.contains(i.kind)?i:n:i,void 0)}};e.CodeActionKeybindingResolver=p,p.codeActionCommands=[k.refactorCommandId,k.codeActionCommandId,k.sourceActionCommandId,k.organizeImportsCommandId,k.fixAllCommandId],e.CodeActionKeybindingResolver=p=S=De([he(0,D.IKeybindingService)],p)}),define(ne[367],se([1,0,15,12,7,2,48,36,9,23,14,88,119,146]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.APPLY_FIX_ALL_COMMAND_ID=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new b.RawContextKey("supportedCodeAction",""),e.APPLY_FIX_ALL_COMMAND_ID="_typescript.applyFixAllCodeAction";class t extends D.Disposable{constructor(d,s,l,r=250){super(),this._editor=d,this._markerService=s,this._signalChange=l,this._delay=r,this._autoTriggerTimer=this._register(new L.TimeoutTimer),this._register(this._markerService.onMarkerChanged(h=>this._onMarkerChanges(h))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(d){const s=this._getRangeOfSelectionUnlessWhitespaceEnclosed(d);this._signalChange(s?{trigger:d,selection:s}:void 0)}_onMarkerChanges(d){const s=this._editor.getModel();s&&d.some(l=>(0,S.isEqual)(l,s.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:n.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(d){if(!this._editor.hasModel())return;const s=this._editor.getSelection();if(d.type===1)return s;const l=this._editor.getOption(65).enabled;if(l!==p.ShowLightbulbIconMode.Off){{if(l===p.ShowLightbulbIconMode.On)return s;if(l===p.ShowLightbulbIconMode.OnCode){if(!s.isEmpty())return s;const h=this._editor.getModel(),{lineNumber:u,column:f}=s.getPosition(),C=h.getLineContent(u);if(C.length===0)return;if(f===1){if(/\s/.test(C[0]))return}else if(f===h.getLineMaxColumn(u)){if(/\s/.test(C[C.length-1]))return}else if(/\s/.test(C[f-2])&&/\s/.test(C[f-1]))return}}return s}}}var o;(function(c){c.Empty={type:0};class d{constructor(l,r,h){this.trigger=l,this.position=r,this._cancellablePromise=h,this.type=1,this.actions=h.catch(u=>{if((0,k.isCancellationError)(u))return g;throw u})}cancel(){this._cancellablePromise.cancel()}}c.Triggered=d})(o||(e.CodeActionsState=o={}));const g=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class m extends D.Disposable{constructor(d,s,l,r,h,u){super(),this._editor=d,this._registry=s,this._markerService=l,this._progressService=h,this._configurationService=u,this._codeActionOracle=this._register(new D.MutableDisposable),this._state=o.Empty,this._onDidChangeState=this._register(new y.Emitter),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(r),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration(f=>{f.hasChanged(65)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(o.Empty,!0))}_settingEnabledNearbyQuickfixes(){var d;const s=(d=this._editor)===null||d===void 0?void 0:d.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:s?.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(o.Empty);const d=this._editor.getModel();if(d&&this._registry.has(d)&&!this._editor.getOption(91)){const s=this._registry.all(d).flatMap(l=>{var r;return(r=l.providedCodeActionKinds)!==null&&r!==void 0?r:[]});this._supportedCodeActions.set(s.join(" ")),this._codeActionOracle.value=new t(this._editor,this._markerService,l=>{var r;if(!l){this.setState(o.Empty);return}const h=l.selection.getStartPosition(),u=(0,L.createCancelablePromise)(async f=>{var C,_,E,I,T,A,R,M,N,P;if(this._settingEnabledNearbyQuickfixes()&&l.trigger.type===1&&(l.trigger.triggerAction===n.CodeActionTriggerSource.QuickFix||!((_=(C=l.trigger.filter)===null||C===void 0?void 0:C.include)===null||_===void 0)&&_.contains(n.CodeActionKind.QuickFix))){const F=await(0,i.getCodeActions)(this._registry,d,l.selection,l.trigger,a.Progress.None,f),O=[...F.allActions];if(f.isCancellationRequested)return g;const B=(E=F.validActions)===null||E===void 0?void 0:E.some(V=>V.action.kind?n.CodeActionKind.QuickFix.contains(new n.CodeActionKind(V.action.kind)):!1),W=this._markerService.read({resource:d.uri});if(B){for(const V of F.validActions)!((T=(I=V.action.command)===null||I===void 0?void 0:I.arguments)===null||T===void 0)&&T.some(z=>typeof z=="string"&&z.includes(e.APPLY_FIX_ALL_COMMAND_ID))&&(V.action.diagnostics=[...W.filter(z=>z.relatedInformation)]);return{validActions:F.validActions,allActions:O,documentation:F.documentation,hasAutoFix:F.hasAutoFix,hasAIFix:F.hasAIFix,allAIFixes:F.allAIFixes,dispose:()=>{F.dispose()}}}else if(!B&&W.length>0){const V=l.selection.getPosition();let z=V,K=Number.MAX_VALUE;const j=[...F.validActions];for(const re of W){const ie=re.endColumn,J=re.endLineNumber,X=re.startLineNumber;if(J===V.lineNumber||X===V.lineNumber){z=new w.Position(J,ie);const Y={type:l.trigger.type,triggerAction:l.trigger.triggerAction,filter:{include:!((A=l.trigger.filter)===null||A===void 0)&&A.include?(R=l.trigger.filter)===null||R===void 0?void 0:R.include:n.CodeActionKind.QuickFix},autoApply:l.trigger.autoApply,context:{notAvailableMessage:((M=l.trigger.context)===null||M===void 0?void 0:M.notAvailableMessage)||"",position:z}},le=new v.Selection(z.lineNumber,z.column,z.lineNumber,z.column),de=await(0,i.getCodeActions)(this._registry,d,le,Y,a.Progress.None,f);if(de.validActions.length!==0){for(const ge of de.validActions)!((P=(N=ge.action.command)===null||N===void 0?void 0:N.arguments)===null||P===void 0)&&P.some(pe=>typeof pe=="string"&&pe.includes(e.APPLY_FIX_ALL_COMMAND_ID))&&(ge.action.diagnostics=[...W.filter(pe=>pe.relatedInformation)]);F.allActions.length===0&&O.push(...de.allActions),Math.abs(V.column-ie)<K?j.unshift(...de.validActions):j.push(...de.validActions)}K=Math.abs(V.column-ie)}}const x=j.filter((re,ie,J)=>J.findIndex(X=>X.action.title===re.action.title)===ie);return x.sort((re,ie)=>re.action.isPreferred&&!ie.action.isPreferred?-1:!re.action.isPreferred&&ie.action.isPreferred||re.action.isAI&&!ie.action.isAI?1:!re.action.isAI&&ie.action.isAI?-1:0),{validActions:x,allActions:O,documentation:F.documentation,hasAutoFix:F.hasAutoFix,hasAIFix:F.hasAIFix,allAIFixes:F.allAIFixes,dispose:()=>{F.dispose()}}}}return(0,i.getCodeActions)(this._registry,d,l.selection,l.trigger,a.Progress.None,f)});l.trigger.type===1&&((r=this._progressService)===null||r===void 0||r.showWhile(u,250)),this.setState(new o.Triggered(l.trigger,h,u))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:n.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(d){var s;(s=this._codeActionOracle.value)===null||s===void 0||s.trigger(d)}setState(d,s){d!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=d,!s&&!this._disposed&&this._onDidChangeState.fire(d))}}e.CodeActionModel=m}),define(ne[368],se([1,0,6,65,27,7,2,29,216,146,669,25,34,462]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var t;(function(g){g.Hidden={type:0};class m{constructor(d,s,l,r){this.actions=d,this.trigger=s,this.editorPosition=l,this.widgetPosition=r,this.type=1}}g.Showing=m})(t||(t={}));let o=i=class extends S.Disposable{constructor(m,c,d){super(),this._editor=m,this._keybindingService=c,this._onClick=this._register(new D.Emitter),this.onClick=this._onClick.event,this._state=t.Hidden,this._iconClasses=[],this._domNode=L.$("div.lightBulbWidget"),this._register(k.Gesture.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(s=>{const l=this._editor.getModel();(this.state.type!==1||!l||this.state.editorPosition.lineNumber>=l.getLineCount())&&this.hide()})),this._register(L.addStandardDisposableGenericMouseDownListener(this._domNode,s=>{if(this.state.type!==1)return;this._editor.focus(),s.preventDefault();const{top:l,height:r}=L.getDomNodePagePosition(this._domNode),h=this._editor.getOption(67);let u=Math.floor(h/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(u+=h),this._onClick.fire({x:s.posx,y:l+r+u,actions:this.state.actions,trigger:this.state.trigger})})),this._register(L.addDisposableListener(this._domNode,"mouseenter",s=>{(s.buttons&1)===1&&this.hide()})),this._register(D.Event.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var s,l,r,h;this._preferredKbLabel=(l=(s=this._keybindingService.lookupKeybinding(v.autoFixCommandId))===null||s===void 0?void 0:s.getLabel())!==null&&l!==void 0?l:void 0,this._quickFixKbLabel=(h=(r=this._keybindingService.lookupKeybinding(v.quickFixCommandId))===null||r===void 0?void 0:r.getLabel())!==null&&h!==void 0?h:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(m,c,d){if(m.validActions.length<=0)return this.hide();if(!this._editor.getOptions().get(65).enabled)return this.hide();const l=this._editor.getModel();if(!l)return this.hide();const{lineNumber:r,column:h}=l.validatePosition(d),u=l.getOptions().tabSize,f=this._editor.getOptions().get(50),C=l.getLineContent(r),_=(0,w.computeIndentLevel)(C,u),E=f.spaceWidth*_>22,I=R=>R>2&&this._editor.getTopForLineNumber(R)===this._editor.getTopForLineNumber(R-1);let T=r,A=1;if(!E){if(r>1&&!I(r-1))T-=1;else if(r<l.getLineCount()&&!I(r+1))T+=1;else if(h*f.spaceWidth<22)return this.hide();A=/^\S\s*$/.test(l.getLineContent(T))?2:1}this.state=new t.Showing(m,c,d,{position:{lineNumber:T,column:A},preference:i._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==t.Hidden&&(this.state=t.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(m){this._state=m,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;let m,c=!1;this.state.actions.allAIFixes?(m=y.Codicon.sparkleFilled,this.state.actions.validActions.length===1&&(c=!0)):this.state.actions.hasAutoFix?this.state.actions.hasAIFix?m=y.Codicon.lightbulbSparkleAutofix:m=y.Codicon.lightbulbAutofix:this.state.actions.hasAIFix?m=y.Codicon.lightbulbSparkle:m=y.Codicon.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,c),this._iconClasses=p.ThemeIcon.asClassNameArray(m),this._domNode.classList.add(...this._iconClasses)}_updateLightbulbTitle(m,c){this.state.type===1&&(c?this.title=b.localize(0,null,this.state.actions.validActions[0].action.title):m&&this._preferredKbLabel?this.title=b.localize(1,null,this._preferredKbLabel):!m&&this._quickFixKbLabel?this.title=b.localize(2,null,this._quickFixKbLabel):m||(this.title=b.localize(3,null)))}set title(m){this._domNode.title=m}};e.LightBulbWidget=o,o.ID="editor.contrib.lightbulbWidget",o._posPref=[0],e.LightBulbWidget=o=i=De([he(1,n.IKeybindingService),he(2,a.ICommandService)],o)}),define(ne[827],se([1,0,16,153,686]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:y.localize(0,null),alias:"Increase Editor Font Size",precondition:void 0})}run(v,b){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()+1)}}class S extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:y.localize(1,null),alias:"Decrease Editor Font Size",precondition:void 0})}run(v,b){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()-1)}}class p extends L.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:y.localize(2,null),alias:"Reset Editor Font Size",precondition:void 0})}run(v,b){k.EditorZoom.setZoomLevel(0)}}(0,L.registerEditorAction)(D),(0,L.registerEditorAction)(S),(0,L.registerEditorAction)(p)}),define(ne[369],se([1,0,13,19,12,52,67,20,22,109,157,9,5,23,123,70,313,25,770,8,18,60,124]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=void 0;function h(R,M,N){const P=[],F=new c.ExtensionIdentifierSet,O=R.ordered(N);for(const W of O)P.push(W),W.extensionId&&F.add(W.extensionId);const B=M.ordered(N);for(const W of B){if(W.extensionId){if(F.has(W.extensionId))continue;F.add(W.extensionId)}P.push({displayName:W.displayName,extensionId:W.extensionId,provideDocumentFormattingEdits(V,z,K){return W.provideDocumentRangeFormattingEdits(V,V.getFullModelRange(),z,K)}})}return P}e.getRealAndSyntheticDocumentFormattersOrdered=h;class u{static setFormatterSelector(M){return{dispose:u._selectors.unshift(M)}}static async select(M,N,P,F){if(M.length===0)return;const O=D.Iterable.first(u._selectors);if(O)return await O(M,N,P,F)}}e.FormattingConflicts=u,u._selectors=new S.LinkedList;async function f(R,M,N,P,F,O,B){const W=R.get(d.IInstantiationService),{documentRangeFormattingEditProvider:V}=R.get(s.ILanguageFeaturesService),z=(0,b.isCodeEditor)(M)?M.getModel():M,K=V.ordered(z),j=await u.select(K,z,P,2);j&&(F.report(j),await W.invokeFunction(C,j,M,N,O,B))}e.formatDocumentRangesWithSelectedProvider=f;async function C(R,M,N,P,F,O){var B,W;const V=R.get(t.IEditorWorkerService),z=R.get(l.ILogService),K=R.get(r.IAccessibilitySignalService);let j,x;(0,b.isCodeEditor)(N)?(j=N.getModel(),x=new v.EditorStateCancellationTokenSource(N,5,void 0,F)):(j=N,x=new v.TextModelCancellationTokenSource(N,F));const re=[];let ie=0;for(const de of(0,L.asArray)(P).sort(n.Range.compareRangesUsingStarts))ie>0&&n.Range.areIntersectingOrTouching(re[ie-1],de)?re[ie-1]=n.Range.fromPositions(re[ie-1].getStartPosition(),de.getEndPosition()):ie=re.push(de);const J=async de=>{var ge,pe;z.trace("[format][provideDocumentRangeFormattingEdits] (request)",(ge=M.extensionId)===null||ge===void 0?void 0:ge.value,de);const Q=await M.provideDocumentRangeFormattingEdits(j,de,j.getFormattingOptions(),x.token)||[];return z.trace("[format][provideDocumentRangeFormattingEdits] (response)",(pe=M.extensionId)===null||pe===void 0?void 0:pe.value,Q),Q},X=(de,ge)=>{if(!de.length||!ge.length)return!1;const pe=de.reduce((Q,U)=>n.Range.plusRange(Q,U.range),de[0].range);if(!ge.some(Q=>n.Range.intersectRanges(pe,Q.range)))return!1;for(const Q of de)for(const U of ge)if(n.Range.intersectRanges(Q.range,U.range))return!0;return!1},Y=[],le=[];try{if(typeof M.provideDocumentRangesFormattingEdits=="function"){z.trace("[format][provideDocumentRangeFormattingEdits] (request)",(B=M.extensionId)===null||B===void 0?void 0:B.value,re);const de=await M.provideDocumentRangesFormattingEdits(j,re,j.getFormattingOptions(),x.token)||[];z.trace("[format][provideDocumentRangeFormattingEdits] (response)",(W=M.extensionId)===null||W===void 0?void 0:W.value,de),le.push(de)}else{for(const de of re){if(x.token.isCancellationRequested)return!0;le.push(await J(de))}for(let de=0;de<re.length;++de)for(let ge=de+1;ge<re.length;++ge){if(x.token.isCancellationRequested)return!0;if(X(le[de],le[ge])){const pe=n.Range.plusRange(re[de],re[ge]),Q=await J(pe);re.splice(ge,1),re.splice(de,1),re.push(pe),le.splice(ge,1),le.splice(de,1),le.push(Q),de=0,ge=0}}}for(const de of le){if(x.token.isCancellationRequested)return!0;const ge=await V.computeMoreMinimalEdits(j.uri,de);ge&&Y.push(...ge)}}finally{x.dispose()}if(Y.length===0)return!1;if((0,b.isCodeEditor)(N))g.FormattingEdit.execute(N,Y,!0),N.revealPositionInCenterIfOutsideViewport(N.getPosition(),1);else{const[{range:de}]=Y,ge=new i.Selection(de.startLineNumber,de.startColumn,de.endLineNumber,de.endColumn);j.pushEditOperations([ge],Y.map(pe=>({text:pe.text,range:n.Range.lift(pe.range),forceMoveMarkers:!0})),pe=>{for(const{range:Q}of pe)if(n.Range.areIntersectingOrTouching(Q,ge))return[new i.Selection(Q.startLineNumber,Q.startColumn,Q.endLineNumber,Q.endColumn)];return null})}return K.playSignal(r.AccessibilitySignal.format,{userGesture:O}),!0}e.formatDocumentRangesWithProvider=C;async function _(R,M,N,P,F,O){const B=R.get(d.IInstantiationService),W=R.get(s.ILanguageFeaturesService),V=(0,b.isCodeEditor)(M)?M.getModel():M,z=h(W.documentFormattingEditProvider,W.documentRangeFormattingEditProvider,V),K=await u.select(z,V,N,1);K&&(P.report(K),await B.invokeFunction(E,K,M,N,F,O))}e.formatDocumentWithSelectedProvider=_;async function E(R,M,N,P,F,O){const B=R.get(t.IEditorWorkerService),W=R.get(r.IAccessibilitySignalService);let V,z;(0,b.isCodeEditor)(N)?(V=N.getModel(),z=new v.EditorStateCancellationTokenSource(N,5,void 0,F)):(V=N,z=new v.TextModelCancellationTokenSource(N,F));let K;try{const j=await M.provideDocumentFormattingEdits(V,V.getFormattingOptions(),z.token);if(K=await B.computeMoreMinimalEdits(V.uri,j),z.token.isCancellationRequested)return!0}finally{z.dispose()}if(!K||K.length===0)return!1;if((0,b.isCodeEditor)(N))g.FormattingEdit.execute(N,K,P!==2),P!==2&&N.revealPositionInCenterIfOutsideViewport(N.getPosition(),1);else{const[{range:j}]=K,x=new i.Selection(j.startLineNumber,j.startColumn,j.endLineNumber,j.endColumn);V.pushEditOperations([x],K.map(re=>({text:re.text,range:n.Range.lift(re.range),forceMoveMarkers:!0})),re=>{for(const{range:ie}of re)if(n.Range.areIntersectingOrTouching(ie,x))return[new i.Selection(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn)];return null})}return W.playSignal(r.AccessibilitySignal.format,{userGesture:O}),!0}e.formatDocumentWithProvider=E;async function I(R,M,N,P,F,O){const B=M.documentRangeFormattingEditProvider.ordered(N);for(const W of B){const V=await Promise.resolve(W.provideDocumentRangeFormattingEdits(N,P,F,O)).catch(y.onUnexpectedExternalError);if((0,L.isNonEmptyArray)(V))return await R.computeMoreMinimalEdits(N.uri,V)}}e.getDocumentRangeFormattingEditsUntilResult=I;async function T(R,M,N,P,F){const O=h(M.documentFormattingEditProvider,M.documentRangeFormattingEditProvider,N);for(const B of O){const W=await Promise.resolve(B.provideDocumentFormattingEdits(N,P,F)).catch(y.onUnexpectedExternalError);if((0,L.isNonEmptyArray)(W))return await R.computeMoreMinimalEdits(N.uri,W)}}e.getDocumentFormattingEditsUntilResult=T;function A(R,M,N,P,F,O,B){const W=M.onTypeFormattingEditProvider.ordered(N);return W.length===0||W[0].autoFormatTriggerCharacters.indexOf(F)<0?Promise.resolve(void 0):Promise.resolve(W[0].provideOnTypeFormattingEdits(N,P,F,O,B)).catch(y.onUnexpectedExternalError).then(V=>R.computeMoreMinimalEdits(N.uri,V))}e.getOnTypeFormattingEdits=A,m.CommandsRegistry.registerCommand("_executeFormatRangeProvider",async function(R,...M){const[N,P,F]=M;(0,p.assertType)(w.URI.isUri(N)),(0,p.assertType)(n.Range.isIRange(P));const O=R.get(o.ITextModelService),B=R.get(t.IEditorWorkerService),W=R.get(s.ILanguageFeaturesService),V=await O.createModelReference(N);try{return I(B,W,V.object.textEditorModel,n.Range.lift(P),F,k.CancellationToken.None)}finally{V.dispose()}}),m.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",async function(R,...M){const[N,P]=M;(0,p.assertType)(w.URI.isUri(N));const F=R.get(o.ITextModelService),O=R.get(t.IEditorWorkerService),B=R.get(s.ILanguageFeaturesService),W=await F.createModelReference(N);try{return T(O,B,W.object.textEditorModel,P,k.CancellationToken.None)}finally{W.dispose()}}),m.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",async function(R,...M){const[N,P,F,O]=M;(0,p.assertType)(w.URI.isUri(N)),(0,p.assertType)(a.Position.isIPosition(P)),(0,p.assertType)(typeof F=="string");const B=R.get(o.ITextModelService),W=R.get(t.IEditorWorkerService),V=R.get(s.ILanguageFeaturesService),z=await B.createModelReference(N);try{return A(W,V,z.object.textEditorModel,a.Position.lift(P),F,O,k.CancellationToken.None)}finally{z.dispose()}})}),define(ne[828],se([1,0,13,19,12,66,2,16,35,132,5,21,123,18,369,313,687,124,25,14,8,88]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormatOnType=void 0;let r=class{constructor(_,E,I,T){this._editor=_,this._languageFeaturesService=E,this._workerService=I,this._accessibilitySignalService=T,this._disposables=new S.DisposableStore,this._sessionDisposables=new S.DisposableStore,this._disposables.add(E.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(_.onDidChangeModel(()=>this._update())),this._disposables.add(_.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(_.onDidChangeConfiguration(A=>{A.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const _=this._editor.getModel(),[E]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(_);if(!E||!E.autoFormatTriggerCharacters)return;const I=new v.CharacterSet;for(const T of E.autoFormatTriggerCharacters)I.add(T.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(T=>{const A=T.charCodeAt(T.length-1);I.has(A)&&this._trigger(String.fromCharCode(A))}))}_trigger(_){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const E=this._editor.getModel(),I=this._editor.getPosition(),T=new k.CancellationTokenSource,A=this._editor.onDidChangeModelContent(R=>{if(R.isFlush){T.cancel(),A.dispose();return}for(let M=0,N=R.changes.length;M<N;M++)if(R.changes[M].range.endLineNumber<=I.lineNumber){T.cancel(),A.dispose();return}});(0,t.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,E,I,_,E.getFormattingOptions(),T.token).then(R=>{T.token.isCancellationRequested||(0,L.isNonEmptyArray)(R)&&(this._accessibilitySignalService.playSignal(m.AccessibilitySignal.format,{userGesture:!1}),o.FormattingEdit.execute(this._editor,R,!0))}).finally(()=>{A.dispose()})}};e.FormatOnType=r,r.ID="editor.contrib.autoFormat",e.FormatOnType=r=De([he(1,i.ILanguageFeaturesService),he(2,n.IEditorWorkerService),he(3,m.IAccessibilitySignalService)],r);let h=class{constructor(_,E,I){this.editor=_,this._languageFeaturesService=E,this._instantiationService=I,this._callOnDispose=new S.DisposableStore,this._callOnModel=new S.DisposableStore,this._callOnDispose.add(_.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(_.onDidChangeModel(()=>this._update())),this._callOnDispose.add(_.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(E.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:_})=>this._trigger(_)))}_trigger(_){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(t.formatDocumentRangesWithSelectedProvider,this.editor,_,2,l.Progress.None,k.CancellationToken.None,!1).catch(y.onUnexpectedError))}};h.ID="editor.contrib.formatOnPaste",h=De([he(1,i.ILanguageFeaturesService),he(2,s.IInstantiationService)],h);class u extends p.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:g.localize(0,null),alias:"Format Document",precondition:d.ContextKeyExpr.and(a.EditorContextKeys.notInCompositeEditor,a.EditorContextKeys.writable,a.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(_,E){if(E.hasModel()){const I=_.get(s.IInstantiationService);await _.get(l.IEditorProgressService).showWhile(I.invokeFunction(t.formatDocumentWithSelectedProvider,E,1,l.Progress.None,k.CancellationToken.None,!0),250)}}}class f extends p.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:g.localize(1,null),alias:"Format Selection",precondition:d.ContextKeyExpr.and(a.EditorContextKeys.writable,a.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:a.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(_,E){if(!E.hasModel())return;const I=_.get(s.IInstantiationService),T=E.getModel(),A=E.getSelections().map(M=>M.isEmpty()?new b.Range(M.startLineNumber,1,M.startLineNumber,T.getLineMaxColumn(M.startLineNumber)):M);await _.get(l.IEditorProgressService).showWhile(I.invokeFunction(t.formatDocumentRangesWithSelectedProvider,E,A,1,l.Progress.None,k.CancellationToken.None,!0),250)}}(0,p.registerEditorContribution)(r.ID,r,2),(0,p.registerEditorContribution)(h.ID,h,2),(0,p.registerEditorAction)(u),(0,p.registerEditorAction)(f),c.CommandsRegistry.registerCommand("editor.action.format",async C=>{const _=C.get(w.ICodeEditorService).getFocusedCodeEditor();if(!_||!_.hasModel())return;const E=C.get(c.ICommandService);_.getSelection().isEmpty()?await E.executeCommand("editor.action.formatDocument"):await E.executeCommand("editor.action.formatSelection")})}),define(ne[257],se([1,0,13,19,12,16,18,163]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;async function w(o,g,m,c){const s=m.ordered(o).map(r=>Promise.resolve(c(r,o,g)).then(void 0,h=>{(0,y.onUnexpectedExternalError)(h)})),l=await Promise.all(s);return(0,L.coalesce)(l.flat())}function v(o,g,m,c){return w(g,m,o,(d,s,l)=>d.provideDefinition(s,l,c))}e.getDefinitionsAtPosition=v;function b(o,g,m,c){return w(g,m,o,(d,s,l)=>d.provideDeclaration(s,l,c))}e.getDeclarationsAtPosition=b;function a(o,g,m,c){return w(g,m,o,(d,s,l)=>d.provideImplementation(s,l,c))}e.getImplementationsAtPosition=a;function n(o,g,m,c){return w(g,m,o,(d,s,l)=>d.provideTypeDefinition(s,l,c))}e.getTypeDefinitionsAtPosition=n;function i(o,g,m,c,d){return w(g,m,o,async(s,l,r)=>{const h=await s.provideReferences(l,r,{includeDeclaration:!0},d);if(!c||!h||h.length!==2)return h;const u=await s.provideReferences(l,r,{includeDeclaration:!1},d);return u&&u.length===1?u:h})}e.getReferencesAtPosition=i;async function t(o){const g=await o(),m=new p.ReferencesModel(g,""),c=m.references.map(d=>d.link);return m.dispose(),c}(0,D.registerModelAndPositionCommand)("_executeDefinitionProvider",(o,g,m)=>{const c=o.get(S.ILanguageFeaturesService),d=v(c.definitionProvider,g,m,k.CancellationToken.None);return t(()=>d)}),(0,D.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(o,g,m)=>{const c=o.get(S.ILanguageFeaturesService),d=n(c.typeDefinitionProvider,g,m,k.CancellationToken.None);return t(()=>d)}),(0,D.registerModelAndPositionCommand)("_executeDeclarationProvider",(o,g,m)=>{const c=o.get(S.ILanguageFeaturesService),d=b(c.declarationProvider,g,m,k.CancellationToken.None);return t(()=>d)}),(0,D.registerModelAndPositionCommand)("_executeReferenceProvider",(o,g,m)=>{const c=o.get(S.ILanguageFeaturesService),d=i(c.referenceProvider,g,m,!1,k.CancellationToken.None);return t(()=>d)}),(0,D.registerModelAndPositionCommand)("_executeImplementationProvider",(o,g,m)=>{const c=o.get(S.ILanguageFeaturesService),d=a(c.implementationProvider,g,m,k.CancellationToken.None);return t(()=>d)})}),define(ne[829],se([1,0,7,2,48,16,35,5,696,14,45,8,34,126,49]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new v.RawContextKey("hasSymbols",!1,(0,w.localize)(0,null)),e.ISymbolNavigationService=(0,a.createDecorator)("ISymbolNavigationService");let o=class{constructor(c,d,s,l){this._editorService=d,this._notificationService=s,this._keybindingService=l,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(c)}reset(){var c,d;this._ctxHasSymbols.reset(),(c=this._currentState)===null||c===void 0||c.dispose(),(d=this._currentMessage)===null||d===void 0||d.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(c){const d=c.parent.parent;if(d.references.length<=1){this.reset();return}this._currentModel=d,this._currentIdx=d.references.indexOf(c),this._ctxHasSymbols.set(!0),this._showMessage();const s=new g(this._editorService),l=s.onDidChange(r=>{if(this._ignoreEditorChange)return;const h=this._editorService.getActiveCodeEditor();if(!h)return;const u=h.getModel(),f=h.getPosition();if(!u||!f)return;let C=!1,_=!1;for(const E of d.references)if((0,y.isEqual)(E.uri,u.uri))C=!0,_=_||p.Range.containsPosition(E.range,f);else if(C)break;(!C||!_)&&this.reset()});this._currentState=(0,k.combinedDisposable)(s,l)}revealNext(c){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const d=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:d.uri,options:{selection:p.Range.collapseToStart(d.range),selectionRevealType:3}},c).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var c;(c=this._currentMessage)===null||c===void 0||c.dispose();const d=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),s=d?(0,w.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,d.getLabel()):(0,w.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(s)}};o=De([he(0,v.IContextKeyService),he(1,S.ICodeEditorService),he(2,t.INotificationService),he(3,n.IKeybindingService)],o),(0,b.registerSingleton)(e.ISymbolNavigationService,o,1),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(m,c){return m.get(e.ISymbolNavigationService).revealNext(c)}}),i.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(m){m.get(e.ISymbolNavigationService).reset()}});let g=class{constructor(c){this._listener=new Map,this._disposables=new k.DisposableStore,this._onDidChange=new L.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(c.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(c.onCodeEditorAdd(this._onDidAddEditor,this)),c.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,k.dispose)(this._listener.values())}_onDidAddEditor(c){this._listener.set(c,(0,k.combinedDisposable)(c.onDidChangeCursorPosition(d=>this._onDidChange.fire({editor:c})),c.onDidChangeModelContent(d=>this._onDidChange.fire({editor:c}))))}_onDidRemoveEditor(c){var d;(d=this._listener.get(c))===null||d===void 0||d.dispose(),this._listener.delete(c)}};g=De([he(0,S.ICodeEditorService)],g)}),define(ne[370],se([1,0,15,19,12,16,18]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class p{constructor(i,t,o){this.provider=i,this.hover=t,this.ordinal=o}}e.HoverProviderResult=p;async function w(n,i,t,o,g){try{const m=await Promise.resolve(n.provideHover(t,o,g));if(m&&a(m))return new p(n,m,i)}catch(m){(0,y.onUnexpectedExternalError)(m)}}function v(n,i,t,o){const m=n.ordered(i).map((c,d)=>w(c,d,i,t,o));return L.AsyncIterableObject.fromPromises(m).coalesce()}e.getHover=v;function b(n,i,t,o){return v(n,i,t,o).map(g=>g.hover).toPromise()}e.getHoverPromise=b,(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(n,i,t)=>{const o=n.get(S.ILanguageFeaturesService);return b(o.hoverProvider,i,t,k.CancellationToken.None)});function a(n){const i=typeof n.range<"u",t=typeof n.contents<"u"&&n.contents&&n.contents.length>0;return i&&t}}),define(ne[258],se([1,0,6,13,15,58,2,108,9,5,43,370,698,26,57,18]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const g=L.$;class m{constructor(l,r,h,u,f){this.owner=l,this.range=r,this.contents=h,this.isBeforeContent=u,this.ordinal=f}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}e.MarkdownHover=m;let c=class{constructor(l,r,h,u,f){this._editor=l,this._languageService=r,this._openerService=h,this._configurationService=u,this._languageFeaturesService=f,this.hoverOrdinal=3}createLoadingMessage(l){return new m(this,l.range,[new D.MarkdownString().appendText(n.localize(0,null))],!1,2e3)}computeSync(l,r){if(!this._editor.hasModel()||l.type!==1)return[];const h=this._editor.getModel(),u=l.range.startLineNumber,f=h.getLineMaxColumn(u),C=[];let _=1e3;const E=h.getLineLength(u),I=h.getLanguageIdAtPosition(l.range.startLineNumber,l.range.startColumn),T=this._editor.getOption(117),A=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:I});let R=!1;T>=0&&E>T&&l.range.startColumn>=T&&(R=!0,C.push(new m(this,l.range,[{value:n.localize(1,null)}],!1,_++))),!R&&typeof A=="number"&&E>=A&&C.push(new m(this,l.range,[{value:n.localize(2,null)}],!1,_++));let M=!1;for(const N of r){const P=N.range.startLineNumber===u?N.range.startColumn:1,F=N.range.endLineNumber===u?N.range.endColumn:f,O=N.options.hoverMessage;if(!O||(0,D.isEmptyMarkdownString)(O))continue;N.options.beforeContentClassName&&(M=!0);const B=new v.Range(l.range.startLineNumber,P,l.range.startLineNumber,F);C.push(new m(this,B,(0,k.asArray)(O),M,_++))}return C}computeAsync(l,r,h){if(!this._editor.hasModel()||l.type!==1)return y.AsyncIterableObject.EMPTY;const u=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(u))return y.AsyncIterableObject.EMPTY;const f=new w.Position(l.range.startLineNumber,l.range.startColumn);return(0,a.getHover)(this._languageFeaturesService.hoverProvider,u,f,h).filter(C=>!(0,D.isEmptyMarkdownString)(C.hover.contents)).map(C=>{const _=C.hover.range?v.Range.lift(C.hover.range):l.range;return new m(this,_,C.hover.contents,!1,C.ordinal)})}renderHoverParts(l,r){return d(l,r,this._editor,this._languageService,this._openerService)}};e.MarkdownHoverParticipant=c,e.MarkdownHoverParticipant=c=De([he(1,b.ILanguageService),he(2,t.IOpenerService),he(3,i.IConfigurationService),he(4,o.ILanguageFeaturesService)],c);function d(s,l,r,h,u){l.sort((C,_)=>C.ordinal-_.ordinal);const f=new S.DisposableStore;for(const C of l)for(const _ of C.contents){if((0,D.isEmptyMarkdownString)(_))continue;const E=g("div.hover-row.markdown-hover"),I=L.append(E,g("div.hover-contents")),T=f.add(new p.MarkdownRenderer({editor:r},h,u));f.add(T.onDidRenderAsync(()=>{I.className="hover-contents code-hover-contents",s.onContentsChanged()}));const A=f.add(T.render(_));I.appendChild(A.element),s.fragment.appendChild(E)}return f}e.renderMarkdownHovers=d}),define(ne[830],se([1,0,2,11,16,255,68,5,23,21,33,51,314,701,72,209,253]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.ChangeTabDisplaySize=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function m(R,M,N,P,F){if(R.getLineCount()===1&&R.getLineMaxColumn(1)===1)return[];const O=M.getLanguageConfiguration(R.getLanguageId()).indentationRules;if(!O)return[];for(P=Math.min(P,R.getLineCount());N<=P&&O.unIndentedLinePattern;){const X=R.getLineContent(N);if(!O.unIndentedLinePattern.test(X))break;N++}if(N>P-1)return[];const{tabSize:B,indentSize:W,insertSpaces:V}=R.getOptions(),z=(X,Y)=>(Y=Y||1,D.ShiftCommand.shiftIndent(X,X.length+Y,B,W,V)),K=(X,Y)=>(Y=Y||1,D.ShiftCommand.unshiftIndent(X,X.length+Y,B,W,V)),j=[];let x;const re=R.getLineContent(N);let ie=re;if(F!=null){x=F;const X=k.getLeadingWhitespace(re);ie=x+re.substring(X.length),O.decreaseIndentPattern&&O.decreaseIndentPattern.test(ie)&&(x=K(x),ie=x+re.substring(X.length)),re!==ie&&j.push(S.EditOperation.replaceMove(new w.Selection(N,1,N,X.length+1),(0,o.normalizeIndentation)(x,W,V)))}else x=k.getLeadingWhitespace(re);let J=x;O.increaseIndentPattern&&O.increaseIndentPattern.test(ie)?(J=z(J),x=z(x)):O.indentNextLinePattern&&O.indentNextLinePattern.test(ie)&&(J=z(J)),N++;for(let X=N;X<=P;X++){const Y=R.getLineContent(X),le=k.getLeadingWhitespace(Y),de=J+Y.substring(le.length);O.decreaseIndentPattern&&O.decreaseIndentPattern.test(de)&&(J=K(J),x=K(x)),le!==J&&j.push(S.EditOperation.replaceMove(new w.Selection(X,1,X,le.length+1),(0,o.normalizeIndentation)(J,W,V))),!(O.unIndentedLinePattern&&O.unIndentedLinePattern.test(Y))&&(O.increaseIndentPattern&&O.increaseIndentPattern.test(de)?(x=z(x),J=x):O.indentNextLinePattern&&O.indentNextLinePattern.test(de)?J=z(J):J=x)}return j}e.getReindentEditOperations=m;class c extends y.EditorAction{constructor(){super({id:c.ID,label:i.localize(0,null),alias:"Convert Indentation to Spaces",precondition:v.EditorContextKeys.writable})}run(M,N){const P=N.getModel();if(!P)return;const F=P.getOptions(),O=N.getSelection();if(!O)return;const B=new T(O,F.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[B]),N.pushUndoStop(),P.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=c,c.ID="editor.action.indentationToSpaces";class d extends y.EditorAction{constructor(){super({id:d.ID,label:i.localize(1,null),alias:"Convert Indentation to Tabs",precondition:v.EditorContextKeys.writable})}run(M,N){const P=N.getModel();if(!P)return;const F=P.getOptions(),O=N.getSelection();if(!O)return;const B=new A(O,F.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[B]),N.pushUndoStop(),P.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=d,d.ID="editor.action.indentationToTabs";class s extends y.EditorAction{constructor(M,N,P){super(P),this.insertSpaces=M,this.displaySizeOnly=N}run(M,N){const P=M.get(t.IQuickInputService),F=M.get(a.IModelService),O=N.getModel();if(!O)return;const B=F.getCreationOptions(O.getLanguageId(),O.uri,O.isForSimpleWidget),W=O.getOptions(),V=[1,2,3,4,5,6,7,8].map(K=>({id:K.toString(),label:K.toString(),description:K===B.tabSize&&K===W.tabSize?i.localize(2,null):K===B.tabSize?i.localize(3,null):K===W.tabSize?i.localize(4,null):void 0})),z=Math.min(O.getOptions().tabSize-1,7);setTimeout(()=>{P.pick(V,{placeHolder:i.localize(5,null),activeItem:V[z]}).then(K=>{if(K&&O&&!O.isDisposed()){const j=parseInt(K.label,10);this.displaySizeOnly?O.updateOptions({tabSize:j}):O.updateOptions({tabSize:j,indentSize:j,insertSpaces:this.insertSpaces})}})},50)}}e.ChangeIndentationSizeAction=s;class l extends s{constructor(){super(!1,!1,{id:l.ID,label:i.localize(6,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=l,l.ID="editor.action.indentUsingTabs";class r extends s{constructor(){super(!0,!1,{id:r.ID,label:i.localize(7,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=r,r.ID="editor.action.indentUsingSpaces";class h extends s{constructor(){super(!0,!0,{id:h.ID,label:i.localize(8,null),alias:"Change Tab Display Size",precondition:void 0})}}e.ChangeTabDisplaySize=h,h.ID="editor.action.changeTabDisplaySize";class u extends y.EditorAction{constructor(){super({id:u.ID,label:i.localize(9,null),alias:"Detect Indentation from Content",precondition:void 0})}run(M,N){const P=M.get(a.IModelService),F=N.getModel();if(!F)return;const O=P.getCreationOptions(F.getLanguageId(),F.uri,F.isForSimpleWidget);F.detectIndentation(O.insertSpaces,O.tabSize)}}e.DetectIndentation=u,u.ID="editor.action.detectIndentation";class f extends y.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:i.localize(10,null),alias:"Reindent Lines",precondition:v.EditorContextKeys.writable})}run(M,N){const P=M.get(b.ILanguageConfigurationService),F=N.getModel();if(!F)return;const O=m(F,P,1,F.getLineCount());O.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,O),N.pushUndoStop())}}e.ReindentLinesAction=f;class C extends y.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:i.localize(11,null),alias:"Reindent Selected Lines",precondition:v.EditorContextKeys.writable})}run(M,N){const P=M.get(b.ILanguageConfigurationService),F=N.getModel();if(!F)return;const O=N.getSelections();if(O===null)return;const B=[];for(const W of O){let V=W.startLineNumber,z=W.endLineNumber;if(V!==z&&W.endColumn===1&&z--,V===1){if(V===z)continue}else V--;const K=m(F,P,V,z);B.push(...K)}B.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,B),N.pushUndoStop())}}e.ReindentSelectedLinesAction=C;class _{constructor(M,N){this._initialSelection=N,this._edits=[],this._selectionId=null;for(const P of M)P.range&&typeof P.text=="string"&&this._edits.push(P)}getEditOperations(M,N){for(const F of this._edits)N.addEditOperation(p.Range.lift(F.range),F.text);let P=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(P=!0,this._selectionId=N.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(P=!0,this._selectionId=N.trackSelection(this._initialSelection,!1))),P||(this._selectionId=N.trackSelection(this._initialSelection))}computeCursorState(M,N){return N.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=_;let E=class{constructor(M,N){this.editor=M,this._languageConfigurationService=N,this.callOnDispose=new L.DisposableStore,this.callOnModel=new L.DisposableStore,this.callOnDispose.add(M.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(M.onDidChangeModel(()=>this.update())),this.callOnDispose.add(M.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:M})=>{this.trigger(M)}))}trigger(M){const N=this.editor.getSelections();if(N===null||N.length>1)return;const P=this.editor.getModel();if(!P||!P.tokenization.isCheapToTokenize(M.getStartPosition().lineNumber))return;const F=this.editor.getOption(12),{tabSize:O,indentSize:B,insertSpaces:W}=P.getOptions(),V=[],z={shiftIndent:re=>D.ShiftCommand.shiftIndent(re,re.length+1,O,B,W),unshiftIndent:re=>D.ShiftCommand.unshiftIndent(re,re.length+1,O,B,W)};let K=M.startLineNumber;for(;K<=M.endLineNumber;){if(this.shouldIgnoreLine(P,K)){K++;continue}break}if(K>M.endLineNumber)return;let j=P.getLineContent(K);if(!/\S/.test(j.substring(0,M.startColumn-1))){const re=(0,g.getGoodIndentForLine)(F,P,P.getLanguageId(),K,z,this._languageConfigurationService);if(re!==null){const ie=k.getLeadingWhitespace(j),J=n.getSpaceCnt(re,O),X=n.getSpaceCnt(ie,O);if(J!==X){const Y=n.generateIndent(J,O,W);V.push({range:new p.Range(K,1,K,ie.length+1),text:Y}),j=Y+j.substr(ie.length)}else{const Y=(0,g.getIndentMetadata)(P,K,this._languageConfigurationService);if(Y===0||Y===8)return}}}const x=K;for(;K<M.endLineNumber;){if(!/\S/.test(P.getLineContent(K+1))){K++;continue}break}if(K!==M.endLineNumber){const re={tokenization:{getLineTokens:J=>P.tokenization.getLineTokens(J),getLanguageId:()=>P.getLanguageId(),getLanguageIdAtPosition:(J,X)=>P.getLanguageIdAtPosition(J,X)},getLineContent:J=>J===x?j:P.getLineContent(J)},ie=(0,g.getGoodIndentForLine)(F,re,P.getLanguageId(),K+1,z,this._languageConfigurationService);if(ie!==null){const J=n.getSpaceCnt(ie,O),X=n.getSpaceCnt(k.getLeadingWhitespace(P.getLineContent(K+1)),O);if(J!==X){const Y=J-X;for(let le=K+1;le<=M.endLineNumber;le++){const de=P.getLineContent(le),ge=k.getLeadingWhitespace(de),Q=n.getSpaceCnt(ge,O)+Y,U=n.generateIndent(Q,O,W);U!==ge&&V.push({range:new p.Range(le,1,le,ge.length+1),text:U})}}}}if(V.length>0){this.editor.pushUndoStop();const re=new _(V,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",re),this.editor.pushUndoStop()}}shouldIgnoreLine(M,N){M.tokenization.forceTokenization(N);const P=M.getLineFirstNonWhitespaceColumn(N);if(P===0)return!0;const F=M.tokenization.getLineTokens(N);if(F.getCount()>0){const O=F.findTokenIndexAtOffset(P);if(O>=0&&F.getStandardTokenType(O)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};e.AutoIndentOnPaste=E,E.ID="editor.contrib.autoIndentOnPaste",e.AutoIndentOnPaste=E=De([he(1,b.ILanguageConfigurationService)],E);function I(R,M,N,P){if(R.getLineCount()===1&&R.getLineMaxColumn(1)===1)return;let F="";for(let B=0;B<N;B++)F+=" ";const O=new RegExp(F,"gi");for(let B=1,W=R.getLineCount();B<=W;B++){let V=R.getLineFirstNonWhitespaceColumn(B);if(V===0&&(V=R.getLineMaxColumn(B)),V===1)continue;const z=new p.Range(B,1,B,V),K=R.getValueInRange(z),j=P?K.replace(/\t/ig,F):K.replace(O,"	");M.addEditOperation(z,j)}}class T{constructor(M,N){this.selection=M,this.tabSize=N,this.selectionId=null}getEditOperations(M,N){this.selectionId=N.trackSelection(this.selection),I(M,N,this.tabSize,!0)}computeCursorState(M,N){return N.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=T;class A{constructor(M,N){this.selection=M,this.tabSize=N,this.selectionId=null}getEditOperations(M,N){this.selectionId=N.trackSelection(this.selection),I(M,N,this.tabSize,!1)}computeCursorState(M,N){return N.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=A,(0,y.registerEditorContribution)(E.ID,E,2),(0,y.registerEditorAction)(c),(0,y.registerEditorAction)(d),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(r),(0,y.registerEditorAction)(h),(0,y.registerEditorAction)(u),(0,y.registerEditorAction)(f),(0,y.registerEditorAction)(C)}),define(ne[831],se([1,0,16,214,21,708]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class S extends L.EditorAction{constructor(){super({id:"expandLineSelection",label:D.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:y.EditorContextKeys.textInputFocus,primary:2090}})}run(w,v,b){if(b=b||{},!v.hasModel())return;const a=v._getViewModel();a.model.pushStackElement(),a.setCursorStates(b.source,3,k.CursorMoveCommands.expandLineSelection(a,a.getCursorStates())),a.revealPrimaryCursor(b.source,!0)}}e.ExpandLineSelectionAction=S,(0,L.registerEditorAction)(S)}),define(ne[832],se([1,0,66,197,16,134,509,256,68,9,5,23,21,570,808,571,709,28,33]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.CamelCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class d extends y.EditorAction{constructor(le,de){super(de),this.down=le}run(le,de){if(!de.hasModel())return;const ge=de.getSelections().map((U,Z)=>({selection:U,index:Z,ignore:!1}));ge.sort((U,Z)=>b.Range.compareRangesUsingStarts(U.selection,Z.selection));let pe=ge[0];for(let U=1;U<ge.length;U++){const Z=ge[U];pe.selection.endLineNumber===Z.selection.startLineNumber&&(pe.index<Z.index?Z.ignore=!0:(pe.ignore=!0,pe=Z))}const Q=[];for(const U of ge)Q.push(new i.CopyLinesCommand(U.selection,this.down,U.ignore));de.pushUndoStop(),de.executeCommands(this.id,Q),de.pushUndoStop()}}class s extends d{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:g.localize(0,null),alias:"Copy Line Up",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:g.localize(1,null),order:1}})}}class l extends d{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:g.localize(2,null),alias:"Copy Line Down",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:g.localize(3,null),order:2}})}}class r extends y.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:g.localize(4,null),alias:"Duplicate Selection",precondition:n.EditorContextKeys.writable,menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:g.localize(5,null),order:5}})}run(le,de,ge){if(!de.hasModel())return;const pe=[],Q=de.getSelections(),U=de.getModel();for(const Z of Q)if(Z.isEmpty())pe.push(new i.CopyLinesCommand(Z,!0));else{const H=new a.Selection(Z.endLineNumber,Z.endColumn,Z.endLineNumber,Z.endColumn);pe.push(new D.ReplaceCommandThatSelectsText(H,U.getValueInRange(Z)))}de.pushUndoStop(),de.executeCommands(this.id,pe),de.pushUndoStop()}}e.DuplicateSelectionAction=r;class h extends y.EditorAction{constructor(le,de){super(de),this.down=le}run(le,de){const ge=le.get(c.ILanguageConfigurationService),pe=[],Q=de.getSelections()||[],U=de.getOption(12);for(const Z of Q)pe.push(new t.MoveLinesCommand(Z,this.down,U,ge));de.pushUndoStop(),de.executeCommands(this.id,pe),de.pushUndoStop()}}class u extends h{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:g.localize(6,null),alias:"Move Line Up",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:g.localize(7,null),order:3}})}}class f extends h{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:g.localize(8,null),alias:"Move Line Down",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:g.localize(9,null),order:4}})}}class C extends y.EditorAction{constructor(le,de){super(de),this.descending=le}run(le,de){const ge=de.getSelections()||[];for(const Q of ge)if(!o.SortLinesCommand.canRun(de.getModel(),Q,this.descending))return;const pe=[];for(let Q=0,U=ge.length;Q<U;Q++)pe[Q]=new o.SortLinesCommand(ge[Q],this.descending);de.pushUndoStop(),de.executeCommands(this.id,pe),de.pushUndoStop()}}e.AbstractSortLinesAction=C;class _ extends C{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:g.localize(10,null),alias:"Sort Lines Ascending",precondition:n.EditorContextKeys.writable})}}e.SortLinesAscendingAction=_;class E extends C{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:g.localize(11,null),alias:"Sort Lines Descending",precondition:n.EditorContextKeys.writable})}}e.SortLinesDescendingAction=E;class I extends y.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:g.localize(12,null),alias:"Delete Duplicate Lines",precondition:n.EditorContextKeys.writable})}run(le,de){if(!de.hasModel())return;const ge=de.getModel();if(ge.getLineCount()===1&&ge.getLineMaxColumn(1)===1)return;const pe=[],Q=[];let U=0;for(const Z of de.getSelections()){const H=new Set,q=[];for(let oe=Z.startLineNumber;oe<=Z.endLineNumber;oe++){const ae=ge.getLineContent(oe);H.has(ae)||(q.push(ae),H.add(ae))}const te=new a.Selection(Z.startLineNumber,1,Z.endLineNumber,ge.getLineMaxColumn(Z.endLineNumber)),G=Z.startLineNumber-U,$=new a.Selection(G,1,G+q.length-1,q[q.length-1].length);pe.push(w.EditOperation.replace(te,q.join(`
`))),Q.push($),U+=Z.endLineNumber-Z.startLineNumber+1-q.length}de.pushUndoStop(),de.executeEdits(this.id,pe,Q),de.pushUndoStop()}}e.DeleteDuplicateLinesAction=I;class T extends y.EditorAction{constructor(){super({id:T.ID,label:g.localize(13,null),alias:"Trim Trailing Whitespace",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2102),weight:100}})}run(le,de,ge){let pe=[];ge.reason==="auto-save"&&(pe=(de.getSelections()||[]).map(Z=>new v.Position(Z.positionLineNumber,Z.positionColumn)));const Q=de.getSelection();if(Q===null)return;const U=new S.TrimTrailingWhitespaceCommand(Q,pe);de.pushUndoStop(),de.executeCommands(this.id,[U]),de.pushUndoStop()}}e.TrimTrailingWhitespaceAction=T,T.ID="editor.action.trimTrailingWhitespace";class A extends y.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:g.localize(14,null),alias:"Delete Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run(le,de){if(!de.hasModel())return;const ge=this._getLinesToRemove(de),pe=de.getModel();if(pe.getLineCount()===1&&pe.getLineMaxColumn(1)===1)return;let Q=0;const U=[],Z=[];for(let H=0,q=ge.length;H<q;H++){const te=ge[H];let G=te.startLineNumber,$=te.endLineNumber,oe=1,ae=pe.getLineMaxColumn($);$<pe.getLineCount()?($+=1,ae=1):G>1&&(G-=1,oe=pe.getLineMaxColumn(G)),U.push(w.EditOperation.replace(new a.Selection(G,oe,$,ae),"")),Z.push(new a.Selection(G-Q,te.positionColumn,G-Q,te.positionColumn)),Q+=te.endLineNumber-te.startLineNumber+1}de.pushUndoStop(),de.executeEdits(this.id,U,Z),de.pushUndoStop()}_getLinesToRemove(le){const de=le.getSelections().map(Q=>{let U=Q.endLineNumber;return Q.startLineNumber<Q.endLineNumber&&Q.endColumn===1&&(U-=1),{startLineNumber:Q.startLineNumber,selectionStartColumn:Q.selectionStartColumn,endLineNumber:U,positionColumn:Q.positionColumn}});de.sort((Q,U)=>Q.startLineNumber===U.startLineNumber?Q.endLineNumber-U.endLineNumber:Q.startLineNumber-U.startLineNumber);const ge=[];let pe=de[0];for(let Q=1;Q<de.length;Q++)pe.endLineNumber+1>=de[Q].startLineNumber?pe.endLineNumber=de[Q].endLineNumber:(ge.push(pe),pe=de[Q]);return ge.push(pe),ge}}e.DeleteLinesAction=A;class R extends y.EditorAction{constructor(){super({id:"editor.action.indentLines",label:g.localize(15,null),alias:"Indent Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2142,weight:100}})}run(le,de){const ge=de._getViewModel();ge&&(de.pushUndoStop(),de.executeCommands(this.id,p.TypeOperations.indent(ge.cursorConfig,de.getModel(),de.getSelections())),de.pushUndoStop())}}e.IndentLinesAction=R;class M extends y.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:g.localize(16,null),alias:"Outdent Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2140,weight:100}})}run(le,de){k.CoreEditingCommands.Outdent.runEditorCommand(le,de,null)}}class N extends y.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:g.localize(17,null),alias:"Insert Line Above",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run(le,de){const ge=de._getViewModel();ge&&(de.pushUndoStop(),de.executeCommands(this.id,p.TypeOperations.lineInsertBefore(ge.cursorConfig,de.getModel(),de.getSelections())))}}e.InsertLineBeforeAction=N;class P extends y.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:g.localize(18,null),alias:"Insert Line Below",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run(le,de){const ge=de._getViewModel();ge&&(de.pushUndoStop(),de.executeCommands(this.id,p.TypeOperations.lineInsertAfter(ge.cursorConfig,de.getModel(),de.getSelections())))}}e.InsertLineAfterAction=P;class F extends y.EditorAction{run(le,de){if(!de.hasModel())return;const ge=de.getSelection(),pe=this._getRangesToDelete(de),Q=[];for(let H=0,q=pe.length-1;H<q;H++){const te=pe[H],G=pe[H+1];b.Range.intersectRanges(te,G)===null?Q.push(te):pe[H+1]=b.Range.plusRange(te,G)}Q.push(pe[pe.length-1]);const U=this._getEndCursorState(ge,Q),Z=Q.map(H=>w.EditOperation.replace(H,""));de.pushUndoStop(),de.executeEdits(this.id,Z,U),de.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=F;class O extends F{constructor(){super({id:"deleteAllLeft",label:g.localize(19,null),alias:"Delete All Left",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(le,de){let ge=null;const pe=[];let Q=0;return de.forEach(U=>{let Z;if(U.endColumn===1&&Q>0){const H=U.startLineNumber-Q;Z=new a.Selection(H,U.startColumn,H,U.startColumn)}else Z=new a.Selection(U.startLineNumber,U.startColumn,U.startLineNumber,U.startColumn);Q+=U.endLineNumber-U.startLineNumber,U.intersectRanges(le)?ge=Z:pe.push(Z)}),ge&&pe.unshift(ge),pe}_getRangesToDelete(le){const de=le.getSelections();if(de===null)return[];let ge=de;const pe=le.getModel();return pe===null?[]:(ge.sort(b.Range.compareRangesUsingStarts),ge=ge.map(Q=>{if(Q.isEmpty())if(Q.startColumn===1){const U=Math.max(1,Q.startLineNumber-1),Z=Q.startLineNumber===1?1:pe.getLineLength(U)+1;return new b.Range(U,Z,Q.startLineNumber,1)}else return new b.Range(Q.startLineNumber,1,Q.startLineNumber,Q.startColumn);else return new b.Range(Q.startLineNumber,1,Q.endLineNumber,Q.endColumn)}),ge)}}e.DeleteAllLeftAction=O;class B extends F{constructor(){super({id:"deleteAllRight",label:g.localize(20,null),alias:"Delete All Right",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(le,de){let ge=null;const pe=[];for(let Q=0,U=de.length,Z=0;Q<U;Q++){const H=de[Q],q=new a.Selection(H.startLineNumber-Z,H.startColumn,H.startLineNumber-Z,H.startColumn);H.intersectRanges(le)?ge=q:pe.push(q)}return ge&&pe.unshift(ge),pe}_getRangesToDelete(le){const de=le.getModel();if(de===null)return[];const ge=le.getSelections();if(ge===null)return[];const pe=ge.map(Q=>{if(Q.isEmpty()){const U=de.getLineMaxColumn(Q.startLineNumber);return Q.startColumn===U?new b.Range(Q.startLineNumber,Q.startColumn,Q.startLineNumber+1,1):new b.Range(Q.startLineNumber,Q.startColumn,Q.startLineNumber,U)}return Q});return pe.sort(b.Range.compareRangesUsingStarts),pe}}e.DeleteAllRightAction=B;class W extends y.EditorAction{constructor(){super({id:"editor.action.joinLines",label:g.localize(21,null),alias:"Join Lines",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(le,de){const ge=de.getSelections();if(ge===null)return;let pe=de.getSelection();if(pe===null)return;ge.sort(b.Range.compareRangesUsingStarts);const Q=[],U=ge.reduce(($,oe)=>$.isEmpty()?$.endLineNumber===oe.startLineNumber?(pe.equalsSelection($)&&(pe=oe),oe):oe.startLineNumber>$.endLineNumber+1?(Q.push($),oe):new a.Selection($.startLineNumber,$.startColumn,oe.endLineNumber,oe.endColumn):oe.startLineNumber>$.endLineNumber?(Q.push($),oe):new a.Selection($.startLineNumber,$.startColumn,oe.endLineNumber,oe.endColumn));Q.push(U);const Z=de.getModel();if(Z===null)return;const H=[],q=[];let te=pe,G=0;for(let $=0,oe=Q.length;$<oe;$++){const ae=Q[$],ue=ae.startLineNumber,ce=1;let fe=0,ve,Ce;const Se=Z.getLineLength(ae.endLineNumber)-ae.endColumn;if(ae.isEmpty()||ae.startLineNumber===ae.endLineNumber){const Ne=ae.getStartPosition();Ne.lineNumber<Z.getLineCount()?(ve=ue+1,Ce=Z.getLineMaxColumn(ve)):(ve=Ne.lineNumber,Ce=Z.getLineMaxColumn(Ne.lineNumber))}else ve=ae.endLineNumber,Ce=Z.getLineMaxColumn(ve);let _e=Z.getLineContent(ue);for(let Ne=ue+1;Ne<=ve;Ne++){const Oe=Z.getLineContent(Ne),xe=Z.getLineFirstNonWhitespaceColumn(Ne);if(xe>=1){let We=!0;_e===""&&(We=!1),We&&(_e.charAt(_e.length-1)===" "||_e.charAt(_e.length-1)==="	")&&(We=!1,_e=_e.replace(/[\s\uFEFF\xA0]+$/g," "));const ye=Oe.substr(xe-1);_e+=(We?" ":"")+ye,We?fe=ye.length+1:fe=ye.length}else fe=0}const Ie=new b.Range(ue,ce,ve,Ce);if(!Ie.isEmpty()){let Ne;ae.isEmpty()?(H.push(w.EditOperation.replace(Ie,_e)),Ne=new a.Selection(Ie.startLineNumber-G,_e.length-fe+1,ue-G,_e.length-fe+1)):ae.startLineNumber===ae.endLineNumber?(H.push(w.EditOperation.replace(Ie,_e)),Ne=new a.Selection(ae.startLineNumber-G,ae.startColumn,ae.endLineNumber-G,ae.endColumn)):(H.push(w.EditOperation.replace(Ie,_e)),Ne=new a.Selection(ae.startLineNumber-G,ae.startColumn,ae.startLineNumber-G,_e.length-Se)),b.Range.intersectRanges(Ie,pe)!==null?te=Ne:q.push(Ne)}G+=Ie.endLineNumber-Ie.startLineNumber}q.unshift(te),de.pushUndoStop(),de.executeEdits(this.id,H,q),de.pushUndoStop()}}e.JoinLinesAction=W;class V extends y.EditorAction{constructor(){super({id:"editor.action.transpose",label:g.localize(22,null),alias:"Transpose Characters around the Cursor",precondition:n.EditorContextKeys.writable})}run(le,de){const ge=de.getSelections();if(ge===null)return;const pe=de.getModel();if(pe===null)return;const Q=[];for(let U=0,Z=ge.length;U<Z;U++){const H=ge[U];if(!H.isEmpty())continue;const q=H.getStartPosition(),te=pe.getLineMaxColumn(q.lineNumber);if(q.column>=te){if(q.lineNumber===pe.getLineCount())continue;const G=new b.Range(q.lineNumber,Math.max(1,q.column-1),q.lineNumber+1,1),$=pe.getValueInRange(G).split("").reverse().join("");Q.push(new D.ReplaceCommand(new a.Selection(q.lineNumber,Math.max(1,q.column-1),q.lineNumber+1,1),$))}else{const G=new b.Range(q.lineNumber,Math.max(1,q.column-1),q.lineNumber,q.column+1),$=pe.getValueInRange(G).split("").reverse().join("");Q.push(new D.ReplaceCommandThatPreservesSelection(G,$,new a.Selection(q.lineNumber,q.column+1,q.lineNumber,q.column+1)))}}de.pushUndoStop(),de.executeCommands(this.id,Q),de.pushUndoStop()}}e.TransposeAction=V;class z extends y.EditorAction{run(le,de){const ge=de.getSelections();if(ge===null)return;const pe=de.getModel();if(pe===null)return;const Q=de.getOption(130),U=[];for(const Z of ge)if(Z.isEmpty()){const H=Z.getStartPosition(),q=de.getConfiguredWordAtPosition(H);if(!q)continue;const te=new b.Range(H.lineNumber,q.startColumn,H.lineNumber,q.endColumn),G=pe.getValueInRange(te);U.push(w.EditOperation.replace(te,this._modifyText(G,Q)))}else{const H=pe.getValueInRange(Z);U.push(w.EditOperation.replace(Z,this._modifyText(H,Q)))}de.pushUndoStop(),de.executeEdits(this.id,U),de.pushUndoStop()}}e.AbstractCaseAction=z;class K extends z{constructor(){super({id:"editor.action.transformToUppercase",label:g.localize(23,null),alias:"Transform to Uppercase",precondition:n.EditorContextKeys.writable})}_modifyText(le,de){return le.toLocaleUpperCase()}}e.UpperCaseAction=K;class j extends z{constructor(){super({id:"editor.action.transformToLowercase",label:g.localize(24,null),alias:"Transform to Lowercase",precondition:n.EditorContextKeys.writable})}_modifyText(le,de){return le.toLocaleLowerCase()}}e.LowerCaseAction=j;class x{constructor(le,de){this._pattern=le,this._flags=de,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class re extends z{constructor(){super({id:"editor.action.transformToTitlecase",label:g.localize(25,null),alias:"Transform to Title Case",precondition:n.EditorContextKeys.writable})}_modifyText(le,de){const ge=re.titleBoundary.get();return ge?le.toLocaleLowerCase().replace(ge,pe=>pe.toLocaleUpperCase()):le}}e.TitleCaseAction=re,re.titleBoundary=new x("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class ie extends z{constructor(){super({id:"editor.action.transformToSnakecase",label:g.localize(26,null),alias:"Transform to Snake Case",precondition:n.EditorContextKeys.writable})}_modifyText(le,de){const ge=ie.caseBoundary.get(),pe=ie.singleLetters.get();return!ge||!pe?le:le.replace(ge,"$1_$2").replace(pe,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=ie,ie.caseBoundary=new x("(\\p{Ll})(\\p{Lu})","gmu"),ie.singleLetters=new x("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class J extends z{constructor(){super({id:"editor.action.transformToCamelcase",label:g.localize(27,null),alias:"Transform to Camel Case",precondition:n.EditorContextKeys.writable})}_modifyText(le,de){const ge=J.wordBoundary.get();if(!ge)return le;const pe=le.split(ge);return pe.shift()+pe.map(U=>U.substring(0,1).toLocaleUpperCase()+U.substring(1)).join("")}}e.CamelCaseAction=J,J.wordBoundary=new x("[_\\s-]","gm");class X extends z{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(de=>de.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:g.localize(28,null),alias:"Transform to Kebab Case",precondition:n.EditorContextKeys.writable})}_modifyText(le,de){const ge=X.caseBoundary.get(),pe=X.singleLetters.get(),Q=X.underscoreBoundary.get();return!ge||!pe||!Q?le:le.replace(Q,"$1-$3").replace(ge,"$1-$2").replace(pe,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=X,X.caseBoundary=new x("(\\p{Ll})(\\p{Lu})","gmu"),X.singleLetters=new x("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),X.underscoreBoundary=new x("(\\S)(_)(\\S)","gm"),(0,y.registerEditorAction)(s),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(r),(0,y.registerEditorAction)(u),(0,y.registerEditorAction)(f),(0,y.registerEditorAction)(_),(0,y.registerEditorAction)(E),(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(T),(0,y.registerEditorAction)(A),(0,y.registerEditorAction)(R),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(N),(0,y.registerEditorAction)(P),(0,y.registerEditorAction)(O),(0,y.registerEditorAction)(B),(0,y.registerEditorAction)(W),(0,y.registerEditorAction)(V),(0,y.registerEditorAction)(K),(0,y.registerEditorAction)(j),ie.caseBoundary.isSupported()&&ie.singleLetters.isSupported()&&(0,y.registerEditorAction)(ie),J.wordBoundary.isSupported()&&(0,y.registerEditorAction)(J),re.titleBoundary.isSupported()&&(0,y.registerEditorAction)(re),X.isSupported()&&(0,y.registerEditorAction)(X)}),define(ne[833],se([1,0,2,16]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends L.Disposable{constructor(S){super(),this._editor=S,this._register(this._editor.onMouseDown(p=>{const w=this._editor.getOption(117);w>=0&&p.target.type===6&&p.target.position.column>=w&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}y.ID="editor.contrib.longLinesHelper",(0,k.registerEditorContribution)(y.ID,y,2)}),define(ne[168],se([1,0,191,44,7,58,2,16,5,108,712,14,57,6,481]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let o=t=class{static get(d){return d.getContribution(t.ID)}constructor(d,s,l){this._openerService=l,this._messageWidget=new S.MutableDisposable,this._messageListeners=new S.DisposableStore,this._mouseOverMessage=!1,this._editor=d,this._visible=t.MESSAGE_VISIBLE.bindTo(s)}dispose(){var d;(d=this._message)===null||d===void 0||d.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(d,s){(0,k.alert)((0,D.isMarkdownString)(d)?d.value:d),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,D.isMarkdownString)(d)?(0,L.renderMarkdown)(d,{actionHandler:{callback:r=>{this.closeMessage(),(0,v.openLinkFromMarkdown)(this._openerService,r,(0,D.isMarkdownString)(d)?d.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new m(this._editor,s,typeof d=="string"?d:this._message.element),this._messageListeners.add(y.Event.debounce(this._editor.onDidBlurEditorText,(r,h)=>h,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&i.isAncestor(i.getActiveElement(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let l;this._messageListeners.add(this._editor.onMouseMove(r=>{r.target.position&&(l?l.containsPosition(r.target.position)||this.closeMessage():l=new w.Range(s.lineNumber-3,1,r.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(m.fadeOut(this._messageWidget.value))}};e.MessageController=o,o.ID="editor.contrib.messageController",o.MESSAGE_VISIBLE=new a.RawContextKey("messageVisible",!1,b.localize(0,null)),e.MessageController=o=t=De([he(1,a.IContextKeyService),he(2,n.IOpenerService)],o);const g=p.EditorCommand.bindToContribution(o.get);(0,p.registerEditorCommand)(new g({id:"leaveEditorMessage",precondition:o.MESSAGE_VISIBLE,handler:c=>c.closeMessage(),kbOpts:{weight:130,primary:9}}));class m{static fadeOut(d){const s=()=>{d.dispose(),clearTimeout(l),d.getDomNode().removeEventListener("animationend",s)},l=setTimeout(s,110);return d.getDomNode().addEventListener("animationend",s),d.getDomNode().classList.add("fadeOut"),{dispose:s}}constructor(d,{lineNumber:s,column:l},r){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=d,this._editor.revealLinesInCenterIfOutsideViewport(s,s,0),this._position={lineNumber:s,column:l},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const h=document.createElement("div");h.classList.add("anchor","top"),this._domNode.appendChild(h);const u=document.createElement("div");typeof r=="string"?(u.classList.add("message"),u.textContent=r):(r.classList.add("message"),u.appendChild(r)),this._domNode.appendChild(u);const f=document.createElement("div");f.classList.add("anchor","below"),this._domNode.appendChild(f),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(d){this._domNode.classList.toggle("below",d===2)}}(0,p.registerEditorContribution)(o.ID,o,4)}),define(ne[834],se([1,0,58,2,16,168,719]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class p extends k.Disposable{constructor(v){super(),this.editor=v,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const v=D.MessageController.get(this.editor);if(v&&this.editor.hasModel()){let b=this.editor.getOptions().get(92);b||(this.editor.isSimpleWidget?b=new L.MarkdownString(S.localize(0,null)):b=new L.MarkdownString(S.localize(1,null))),v.showMessage(b,this.editor.getPosition())}}}e.ReadOnlyMessageController=p,p.ID="editor.contrib.readOnlyMessageController",(0,y.registerEditorContribution)(p.ID,p,2)}),define(ne[835],se([1,0,13,19,12,16,9,5,23,21,316,572,722,28,25,18,70,20,22]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=e.SmartSelectController=void 0;class s{constructor(_,E){this.index=_,this.ranges=E}mov(_){const E=this.index+(_?1:-1);if(E<0||E>=this.ranges.length)return this;const I=new s(E,this.ranges);return I.ranges[E].equalsRange(this.ranges[this.index])?I.mov(_):I}}let l=d=class{static get(_){return _.getContribution(d.ID)}constructor(_,E){this._editor=_,this._languageFeaturesService=E,this._ignoreSelection=!1}dispose(){var _;(_=this._selectionListener)===null||_===void 0||_.dispose()}async run(_){if(!this._editor.hasModel())return;const E=this._editor.getSelections(),I=this._editor.getModel();if(this._state||await f(this._languageFeaturesService.selectionRangeProvider,I,E.map(A=>A.getPosition()),this._editor.getOption(113),k.CancellationToken.None).then(A=>{var R;if(!(!L.isNonEmptyArray(A)||A.length!==E.length)&&!(!this._editor.hasModel()||!L.equals(this._editor.getSelections(),E,(M,N)=>M.equalsSelection(N)))){for(let M=0;M<A.length;M++)A[M]=A[M].filter(N=>N.containsPosition(E[M].getStartPosition())&&N.containsPosition(E[M].getEndPosition())),A[M].unshift(E[M]);this._state=A.map(M=>new s(0,M)),(R=this._selectionListener)===null||R===void 0||R.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var M;this._ignoreSelection||((M=this._selectionListener)===null||M===void 0||M.dispose(),this._state=void 0)})}}),!this._state)return;this._state=this._state.map(A=>A.mov(_));const T=this._state.map(A=>w.Selection.fromPositions(A.ranges[A.index].getStartPosition(),A.ranges[A.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(T)}finally{this._ignoreSelection=!1}}};e.SmartSelectController=l,l.ID="editor.contrib.smartSelectController",e.SmartSelectController=l=d=De([he(1,o.ILanguageFeaturesService)],l);class r extends D.EditorAction{constructor(_,E){super(E),this._forward=_}async run(_,E){const I=l.get(E);I&&await I.run(this._forward)}}class h extends r{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:n.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(1,null),order:2}})}}t.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class u extends r{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:n.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(l.ID,l,4),(0,D.registerEditorAction)(h),(0,D.registerEditorAction)(u);async function f(C,_,E,I,T){const A=C.all(_).concat(new a.WordSelectionRangeProvider(I.selectSubwords));A.length===1&&A.unshift(new b.BracketSelectionRangeProvider);const R=[],M=[];for(const N of A)R.push(Promise.resolve(N.provideSelectionRanges(_,E,T)).then(P=>{if(L.isNonEmptyArray(P)&&P.length===E.length)for(let F=0;F<E.length;F++){M[F]||(M[F]=[]);for(const O of P[F])p.Range.isIRange(O.range)&&p.Range.containsPosition(O.range,E[F])&&M[F].push(p.Range.lift(O.range))}},y.onUnexpectedExternalError));return await Promise.all(R),M.map(N=>{if(N.length===0)return[];N.sort((B,W)=>S.Position.isBefore(B.getStartPosition(),W.getStartPosition())?1:S.Position.isBefore(W.getStartPosition(),B.getStartPosition())||S.Position.isBefore(B.getEndPosition(),W.getEndPosition())?-1:S.Position.isBefore(W.getEndPosition(),B.getEndPosition())?1:0);const P=[];let F;for(const B of N)(!F||p.Range.containsRange(B,F)&&!p.Range.equalsRange(B,F))&&(P.push(B),F=B);if(!I.selectLeadingAndTrailingWhitespace)return P;const O=[P[0]];for(let B=1;B<P.length;B++){const W=P[B-1],V=P[B];if(V.startLineNumber!==W.startLineNumber||V.endLineNumber!==W.endLineNumber){const z=new p.Range(W.startLineNumber,_.getLineFirstNonWhitespaceColumn(W.startLineNumber),W.endLineNumber,_.getLineLastNonWhitespaceColumn(W.endLineNumber));z.containsRange(W)&&!z.equalsRange(W)&&V.containsRange(z)&&!V.equalsRange(z)&&O.push(z);const K=new p.Range(W.startLineNumber,1,W.endLineNumber,_.getLineMaxColumn(W.endLineNumber));K.containsRange(W)&&!K.equalsRange(z)&&V.containsRange(K)&&!V.equalsRange(K)&&O.push(K)}O.push(V)}return O})}e.provideSelectionRanges=f,t.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",async function(C,..._){const[E,I]=_;(0,m.assertType)(c.URI.isUri(E));const T=C.get(o.ILanguageFeaturesService).selectionRangeProvider,A=await C.get(g.ITextModelService).createModelReference(E);try{return f(T,A.object.textEditorModel,I,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},k.CancellationToken.None)}finally{A.dispose()}})}),define(ne[836],se([1,0,63,16,734]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:y.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(p,w){if(!w.hasModel())return;const v=w.getModel();v.tokenization.resetTokenization();const b=new L.StopWatch;v.tokenization.forceTokenization(v.getLineCount()),b.stop(),console.log(`tokenization took ${b.elapsed()}`)}}(0,k.registerEditorAction)(D)}),define(ne[837],se([1,0,2,48,16,35,736,164]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const w="ignoreUnusualLineTerminators";function v(n,i,t){n.setModelProperty(i.uri,w,t)}function b(n,i){return n.getModelProperty(i.uri,w)}let a=class extends L.Disposable{constructor(i,t,o){super(),this._editor=i,this._dialogService=t,this._codeEditorService=o,this._isPresentingDialog=!1,this._config=this._editor.getOption(126),this._register(this._editor.onDidChangeConfiguration(g=>{g.hasChanged(126)&&(this._config=this._editor.getOption(126),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(g=>{g.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}async _checkForUnusualLineTerminators(){if(this._config==="off"||!this._editor.hasModel())return;const i=this._editor.getModel();if(!i.mightContainUnusualLineTerminators()||b(this._codeEditorService,i)===!0||this._editor.getOption(91))return;if(this._config==="auto"){i.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let o;try{this._isPresentingDialog=!0,o=await this._dialogService.confirm({title:S.localize(0,null),message:S.localize(1,null),detail:S.localize(2,null,(0,k.basename)(i.uri)),primaryButton:S.localize(3,null),cancelButton:S.localize(4,null)})}finally{this._isPresentingDialog=!1}if(!o.confirmed){v(this._codeEditorService,i,!0);return}i.removeUnusualLineTerminators(this._editor.getSelections())}};e.UnusualLineTerminatorsDetector=a,a.ID="editor.contrib.unusualLineTerminatorsDetector",e.UnusualLineTerminatorsDetector=a=De([he(1,p.IDialogService),he(2,D.ICodeEditorService)],a),(0,y.registerEditorContribution)(a.ID,a,1)}),define(ne[371],se([1,0,16,134,36,76,184,154,9,5,23,21,33,739,71,14,195]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class m extends L.EditorCommand{constructor(J){super(J),this._inSelectionMode=J.inSelectionMode,this._wordNavigationType=J.wordNavigationType}runEditorCommand(J,X,Y){if(!X.hasModel())return;const le=(0,p.getMapForWordSeparators)(X.getOption(130)),de=X.getModel(),pe=X.getSelections().map(Q=>{const U=new w.Position(Q.positionLineNumber,Q.positionColumn),Z=this._move(le,de,U,this._wordNavigationType);return this._moveTo(Q,Z,this._inSelectionMode)});if(de.pushStackElement(),X._getViewModel().setCursorStates("moveWordCommand",3,pe.map(Q=>D.CursorState.fromModelSelection(Q))),pe.length===1){const Q=new w.Position(pe[0].positionLineNumber,pe[0].positionColumn);X.revealPosition(Q,0)}}_moveTo(J,X,Y){return Y?new b.Selection(J.selectionStartLineNumber,J.selectionStartColumn,X.lineNumber,X.column):new b.Selection(X.lineNumber,X.column,X.lineNumber,X.column)}}e.MoveWordCommand=m;class c extends m{_move(J,X,Y,le){return S.WordOperations.moveWordLeft(J,X,Y,le)}}e.WordLeftCommand=c;class d extends m{_move(J,X,Y,le){return S.WordOperations.moveWordRight(J,X,Y,le)}}e.WordRightCommand=d;class s extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=s;class l extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=l;class r extends c{constructor(){var J;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:o.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,(J=o.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,g.IsWindowsContext))===null||J===void 0?void 0:J.negate()),primary:2063,mac:{primary:527},weight:100}})}}e.CursorWordLeft=r;class h extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=h;class u extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=u;class f extends c{constructor(){var J;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:o.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,(J=o.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,g.IsWindowsContext))===null||J===void 0?void 0:J.negate()),primary:3087,mac:{primary:1551},weight:100}})}}e.CursorWordLeftSelect=f;class C extends c{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(J,X,Y,le){return super._move((0,p.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),X,Y,le)}}e.CursorWordAccessibilityLeft=C;class _ extends c{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(J,X,Y,le){return super._move((0,p.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),X,Y,le)}}e.CursorWordAccessibilityLeftSelect=_;class E extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=E;class I extends d{constructor(){var J;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:o.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,(J=o.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,g.IsWindowsContext))===null||J===void 0?void 0:J.negate()),primary:2065,mac:{primary:529},weight:100}})}}e.CursorWordEndRight=I;class T extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=T;class A extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=A;class R extends d{constructor(){var J;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:o.ContextKeyExpr.and(a.EditorContextKeys.textInputFocus,(J=o.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,g.IsWindowsContext))===null||J===void 0?void 0:J.negate()),primary:3089,mac:{primary:1553},weight:100}})}}e.CursorWordEndRightSelect=R;class M extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=M;class N extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(J,X,Y,le){return super._move((0,p.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),X,Y,le)}}e.CursorWordAccessibilityRight=N;class P extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(J,X,Y,le){return super._move((0,p.getMapForWordSeparators)(y.EditorOptions.wordSeparators.defaultValue),X,Y,le)}}e.CursorWordAccessibilityRightSelect=P;class F extends L.EditorCommand{constructor(J){super(J),this._whitespaceHeuristics=J.whitespaceHeuristics,this._wordNavigationType=J.wordNavigationType}runEditorCommand(J,X,Y){const le=J.get(n.ILanguageConfigurationService);if(!X.hasModel())return;const de=(0,p.getMapForWordSeparators)(X.getOption(130)),ge=X.getModel(),pe=X.getSelections(),Q=X.getOption(6),U=X.getOption(11),Z=le.getLanguageConfiguration(ge.getLanguageId()).getAutoClosingPairs(),H=X._getViewModel(),q=pe.map(te=>{const G=this._delete({wordSeparators:de,model:ge,selection:te,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:X.getOption(9),autoClosingBrackets:Q,autoClosingQuotes:U,autoClosingPairs:Z,autoClosedCharacters:H.getCursorAutoClosedCharacters()},this._wordNavigationType);return new k.ReplaceCommand(G,"")});X.pushUndoStop(),X.executeCommands(this.id,q),X.pushUndoStop()}}e.DeleteWordCommand=F;class O extends F{_delete(J,X){const Y=S.WordOperations.deleteWordLeft(J,X);return Y||new v.Range(1,1,1,1)}}e.DeleteWordLeftCommand=O;class B extends F{_delete(J,X){const Y=S.WordOperations.deleteWordRight(J,X);if(Y)return Y;const le=J.model.getLineCount(),de=J.model.getLineMaxColumn(le);return new v.Range(le,de,le,de)}}e.DeleteWordRightCommand=B;class W extends O{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:a.EditorContextKeys.writable})}}e.DeleteWordStartLeft=W;class V extends O{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:a.EditorContextKeys.writable})}}e.DeleteWordEndLeft=V;class z extends O{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}e.DeleteWordLeft=z;class K extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:a.EditorContextKeys.writable})}}e.DeleteWordStartRight=K;class j extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:a.EditorContextKeys.writable})}}e.DeleteWordEndRight=j;class x extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}e.DeleteWordRight=x;class re extends L.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:a.EditorContextKeys.writable,label:i.localize(0,null),alias:"Delete Word"})}run(J,X,Y){if(!X.hasModel())return;const le=(0,p.getMapForWordSeparators)(X.getOption(130)),de=X.getModel(),pe=X.getSelections().map(Q=>{const U=S.WordOperations.deleteInsideWord(le,de,Q);return new k.ReplaceCommand(U,"")});X.pushUndoStop(),X.executeCommands(this.id,pe),X.pushUndoStop()}}e.DeleteInsideWord=re,(0,L.registerEditorCommand)(new s),(0,L.registerEditorCommand)(new l),(0,L.registerEditorCommand)(new r),(0,L.registerEditorCommand)(new h),(0,L.registerEditorCommand)(new u),(0,L.registerEditorCommand)(new f),(0,L.registerEditorCommand)(new E),(0,L.registerEditorCommand)(new I),(0,L.registerEditorCommand)(new T),(0,L.registerEditorCommand)(new A),(0,L.registerEditorCommand)(new R),(0,L.registerEditorCommand)(new M),(0,L.registerEditorCommand)(new C),(0,L.registerEditorCommand)(new _),(0,L.registerEditorCommand)(new N),(0,L.registerEditorCommand)(new P),(0,L.registerEditorCommand)(new W),(0,L.registerEditorCommand)(new V),(0,L.registerEditorCommand)(new z),(0,L.registerEditorCommand)(new K),(0,L.registerEditorCommand)(new j),(0,L.registerEditorCommand)(new x),(0,L.registerEditorAction)(re)}),define(ne[838],se([1,0,16,184,5,21,371,25]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class w extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(m,c){const d=k.WordPartOperations.deleteWordPartLeft(m);return d||new y.Range(1,1,1,1)}}e.DeleteWordPartLeft=w;class v extends S.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(m,c){const d=k.WordPartOperations.deleteWordPartRight(m);if(d)return d;const s=m.model.getLineCount(),l=m.model.getLineMaxColumn(s);return new y.Range(s,l,s,l)}}e.DeleteWordPartRight=v;class b extends S.MoveWordCommand{_move(m,c,d,s){return k.WordPartOperations.moveWordPartLeft(m,c,d)}}e.WordPartLeftCommand=b;class a extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}e.CursorWordPartLeft=a,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class n extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}e.CursorWordPartLeftSelect=n,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class i extends S.MoveWordCommand{_move(m,c,d,s){return k.WordPartOperations.moveWordPartRight(m,c,d)}}e.WordPartRightCommand=i;class t extends i{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}e.CursorWordPartRight=t;class o extends i{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}e.CursorWordPartRightSelect=o,(0,L.registerEditorCommand)(new w),(0,L.registerEditorCommand)(new v),(0,L.registerEditorCommand)(new a),(0,L.registerEditorCommand)(new n),(0,L.registerEditorCommand)(new t),(0,L.registerEditorCommand)(new o)}),define(ne[839],se([1,0,6,2,16,17,493]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class S extends k.Disposable{constructor(v){super(),this.editor=v,this.widget=null,D.isIOS&&(this._register(v.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const v=!this.editor.getOption(91);!this.widget&&v?this.widget=new p(this.editor):this.widget&&!v&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=S,S.ID="editor.contrib.iPadShowKeyboard";class p extends k.Disposable{constructor(v){super(),this.editor=v,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(L.addDisposableListener(this._domNode,"touchstart",b=>{this.editor.focus()})),this._register(L.addDisposableListener(this._domNode,"focus",b=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return p.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}p.ID="editor.contrib.ShowKeyboardWidget",(0,y.registerEditorContribution)(S.ID,S,3)}),define(ne[840],se([1,0,6,39,2,16,30,136,162,43,143,99,494]),function(ee,e,L,k,y,D,S,p,w,v,b,a){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});let i=n=class extends y.Disposable{static get(d){return d.getContribution(n.ID)}constructor(d,s,l){super(),this._editor=d,this._languageService=l,this._widget=null,this._register(this._editor.onDidChangeModel(r=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(r=>this.stop())),this._register(S.TokenizationRegistry.onDidChange(r=>this.stop())),this._register(this._editor.onKeyUp(r=>r.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new m(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};i.ID="editor.contrib.inspectTokens",i=n=De([he(1,b.IStandaloneThemeService),he(2,v.ILanguageService)],i);class t extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:a.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(d,s){const l=i.get(s);l?.launch()}}function o(c){let d="";for(let s=0,l=c.length;s<l;s++){const r=c.charCodeAt(s);switch(r){case 9:d+="\u2192";break;case 32:d+="\xB7";break;default:d+=String.fromCharCode(r)}}return d}function g(c,d){const s=S.TokenizationRegistry.get(d);if(s)return s;const l=c.encodeLanguageId(d);return{getInitialState:()=>w.NullState,tokenize:(r,h,u)=>(0,w.nullTokenize)(d,u),tokenizeEncoded:(r,h,u)=>(0,w.nullTokenizeEncoded)(l,u)}}class m extends y.Disposable{constructor(d,s){super(),this.allowEditorOverflow=!0,this._editor=d,this._languageService=s,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=g(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(l=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return m._ID}_compute(d){const s=this._getTokensAtLine(d.lineNumber);let l=0;for(let C=s.tokens1.length-1;C>=0;C--){const _=s.tokens1[C];if(d.column-1>=_.offset){l=C;break}}let r=0;for(let C=s.tokens2.length>>>1;C>=0;C--)if(d.column-1>=s.tokens2[C<<1]){r=C;break}const h=this._model.getLineContent(d.lineNumber);let u="";if(l<s.tokens1.length){const C=s.tokens1[l].offset,_=l+1<s.tokens1.length?s.tokens1[l+1].offset:h.length;u=h.substring(C,_)}(0,L.reset)(this._domNode,(0,L.$)("h2.tm-token",void 0,o(u),(0,L.$)("span.tm-token-length",void 0,`${u.length} ${u.length===1?"char":"chars"}`))),(0,L.append)(this._domNode,(0,L.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const f=(r<<1)+1<s.tokens2.length?this._decodeMetadata(s.tokens2[(r<<1)+1]):null;(0,L.append)(this._domNode,(0,L.$)("table.tm-metadata-table",void 0,(0,L.$)("tbody",void 0,(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"language"),(0,L.$)("td.tm-metadata-value",void 0,`${f?f.languageId:"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"token type"),(0,L.$)("td.tm-metadata-value",void 0,`${f?this._tokenTypeToString(f.tokenType):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"font style"),(0,L.$)("td.tm-metadata-value",void 0,`${f?this._fontStyleToString(f.fontStyle):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"foreground"),(0,L.$)("td.tm-metadata-value",void 0,`${f?k.Color.Format.CSS.formatHex(f.foreground):"-?-"}`)),(0,L.$)("tr",void 0,(0,L.$)("td.tm-metadata-key",void 0,"background"),(0,L.$)("td.tm-metadata-value",void 0,`${f?k.Color.Format.CSS.formatHex(f.background):"-?-"}`))))),(0,L.append)(this._domNode,(0,L.$)("hr.tokens-inspect-separator")),l<s.tokens1.length&&(0,L.append)(this._domNode,(0,L.$)("span.tm-token-type",void 0,s.tokens1[l].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(d){const s=S.TokenizationRegistry.getColorMap(),l=p.TokenMetadata.getLanguageId(d),r=p.TokenMetadata.getTokenType(d),h=p.TokenMetadata.getFontStyle(d),u=p.TokenMetadata.getForeground(d),f=p.TokenMetadata.getBackground(d);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(l),tokenType:r,fontStyle:h,foreground:s[u],background:s[f]}}_tokenTypeToString(d){switch(d){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(d){let s="";return d&1&&(s+="italic "),d&2&&(s+="bold "),d&4&&(s+="underline "),d&8&&(s+="strikethrough "),s.length===0&&(s="---"),s}_getTokensAtLine(d){const s=this._getStateBeforeLine(d),l=this._tokenizationSupport.tokenize(this._model.getLineContent(d),!0,s),r=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(d),!0,s);return{startState:s,tokens1:l.tokens,tokens2:r.tokens,endState:l.endState}}_getStateBeforeLine(d){let s=this._tokenizationSupport.getInitialState();for(let l=1;l<d;l++)s=this._tokenizationSupport.tokenize(this._model.getLineContent(l),!0,s).endState;return s}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}m._ID="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(i.ID,i,4),(0,D.registerEditorAction)(t)}),define(ne[841],se([1,0,590,12,73,112,2,53,414,756,25,26,164,8,34,797,94,61]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m){"use strict";var c,d;Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let s=c=class extends o.PickerQuickAccessProvider{constructor(h,u,f,C,_,E){super(c.PREFIX,h),this.instantiationService=u,this.keybindingService=f,this.commandService=C,this.telemetryService=_,this.dialogService=E,this.commandsHistory=this._register(this.instantiationService.createInstance(l)),this.options=h}async _getPicks(h,u,f,C){var _,E,I,T;const A=await this.getCommandPicks(f);if(f.isCancellationRequested)return[];const R=(0,D.createSingleCallFunction)(()=>{const W=new w.TfIdfCalculator;W.updateDocuments(A.map(z=>({key:z.commandId,textChunks:[this.getTfIdfChunk(z)]})));const V=W.calculateScores(h,f);return(0,w.normalizeTfIdfScores)(V).filter(z=>z.score>c.TFIDF_THRESHOLD).slice(0,c.TFIDF_MAX_RESULTS)}),M=[];for(const W of A){const V=(_=c.WORD_FILTER(h,W.label))!==null&&_!==void 0?_:void 0,z=W.commandAlias&&(E=c.WORD_FILTER(h,W.commandAlias))!==null&&E!==void 0?E:void 0;if(V||z)W.highlights={label:V,detail:this.options.showAlias?z:void 0},M.push(W);else if(h===W.commandId)M.push(W);else if(h.length>=3){const K=R();if(f.isCancellationRequested)return[];const j=K.find(x=>x.key===W.commandId);j&&(W.tfIdfScore=j.score,M.push(W))}}const N=new Map;for(const W of M){const V=N.get(W.label);V?(W.description=W.commandId,V.description=V.commandId):N.set(W.label,W)}M.sort((W,V)=>{if(W.tfIdfScore&&V.tfIdfScore)return W.tfIdfScore===V.tfIdfScore?W.label.localeCompare(V.label):V.tfIdfScore-W.tfIdfScore;if(W.tfIdfScore)return 1;if(V.tfIdfScore)return-1;const z=this.commandsHistory.peek(W.commandId),K=this.commandsHistory.peek(V.commandId);if(z&&K)return z>K?-1:1;if(z)return-1;if(K)return 1;if(this.options.suggestedCommandIds){const j=this.options.suggestedCommandIds.has(W.commandId),x=this.options.suggestedCommandIds.has(V.commandId);if(j&&x)return 0;if(j)return-1;if(x)return 1}return W.label.localeCompare(V.label)});const P=[];let F=!1,O=!0,B=!!this.options.suggestedCommandIds;for(let W=0;W<M.length;W++){const V=M[W];W===0&&this.commandsHistory.peek(V.commandId)&&(P.push({type:"separator",label:(0,v.localize)(0,null)}),F=!0),O&&V.tfIdfScore!==void 0&&(P.push({type:"separator",label:(0,v.localize)(1,null)}),O=!1),B&&V.tfIdfScore===void 0&&!this.commandsHistory.peek(V.commandId)&&(!((I=this.options.suggestedCommandIds)===null||I===void 0)&&I.has(V.commandId))&&(P.push({type:"separator",label:(0,v.localize)(2,null)}),F=!0,B=!1),F&&V.tfIdfScore===void 0&&!this.commandsHistory.peek(V.commandId)&&!(!((T=this.options.suggestedCommandIds)===null||T===void 0)&&T.has(V.commandId))&&(P.push({type:"separator",label:(0,v.localize)(3,null)}),F=!1),P.push(this.toCommandPick(V,C))}return this.hasAdditionalCommandPicks(h,f)?{picks:P,additionalPicks:(async()=>{var W;const V=await this.getAdditionalCommandPicks(A,M,h,f);if(f.isCancellationRequested)return[];const z=V.map(K=>this.toCommandPick(K,C));return O&&((W=z[0])===null||W===void 0?void 0:W.type)!=="separator"&&z.unshift({type:"separator",label:(0,v.localize)(4,null)}),z})()}:P}toCommandPick(h,u){if(h.type==="separator")return h;const f=this.keybindingService.lookupKeybinding(h.commandId),C=f?(0,v.localize)(5,null,h.label,f.getAriaLabel()):h.label;return{...h,ariaLabel:C,detail:this.options.showAlias&&h.commandAlias!==h.label?h.commandAlias:void 0,keybinding:f,accept:async()=>{var _,E;this.commandsHistory.push(h.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:h.commandId,from:(_=u?.from)!==null&&_!==void 0?_:"quick open"});try{!((E=h.args)===null||E===void 0)&&E.length?await this.commandService.executeCommand(h.commandId,...h.args):await this.commandService.executeCommand(h.commandId)}catch(I){(0,k.isCancellationError)(I)||this.dialogService.error((0,v.localize)(6,null,h.label),(0,L.toErrorMessage)(I))}}}}getTfIdfChunk({label:h,commandAlias:u,commandDescription:f}){let C=h;return u&&u!==h&&(C+=` - ${u}`),f&&f.value!==h&&(C+=` - ${f.value===f.original?f.value:`${f.value} (${f.original})`}`),C}};e.AbstractCommandsQuickAccessProvider=s,s.PREFIX=">",s.TFIDF_THRESHOLD=.5,s.TFIDF_MAX_RESULTS=5,s.WORD_FILTER=(0,y.or)(y.matchesPrefix,y.matchesWords,y.matchesContiguousSubString),e.AbstractCommandsQuickAccessProvider=s=c=De([he(1,i.IInstantiationService),he(2,t.IKeybindingService),he(3,b.ICommandService),he(4,m.ITelemetryService),he(5,n.IDialogService)],s);let l=d=class extends S.Disposable{constructor(h,u){super(),this.storageService=h,this.configurationService=u,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(h=>this.updateConfiguration(h))),this._register(this.storageService.onWillSaveState(h=>{h.reason===g.WillSaveStateReason.SHUTDOWN&&this.saveState()}))}updateConfiguration(h){h&&!h.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=d.getConfiguredCommandHistoryLength(this.configurationService),d.cache&&d.cache.limit!==this.configuredCommandsHistoryLength&&(d.cache.limit=this.configuredCommandsHistoryLength,d.hasChanges=!0))}load(){const h=this.storageService.get(d.PREF_KEY_CACHE,0);let u;if(h)try{u=JSON.parse(h)}catch{}const f=d.cache=new p.LRUCache(this.configuredCommandsHistoryLength,1);if(u){let C;u.usesLRU?C=u.entries:C=u.entries.sort((_,E)=>_.value-E.value),C.forEach(_=>f.set(_.key,_.value))}d.counter=this.storageService.getNumber(d.PREF_KEY_COUNTER,0,d.counter)}push(h){d.cache&&(d.cache.set(h,d.counter++),d.hasChanges=!0)}peek(h){var u;return(u=d.cache)===null||u===void 0?void 0:u.peek(h)}saveState(){if(!d.cache||!d.hasChanges)return;const h={usesLRU:!0,entries:[]};d.cache.forEach((u,f)=>h.entries.push({key:f,value:u})),this.storageService.store(d.PREF_KEY_CACHE,JSON.stringify(h),0,0),this.storageService.store(d.PREF_KEY_COUNTER,d.counter,0,0),d.hasChanges=!1}static getConfiguredCommandHistoryLength(h){var u,f;const _=(f=(u=h.getValue().workbench)===null||u===void 0?void 0:u.commandPalette)===null||f===void 0?void 0:f.history;return typeof _=="number"?_:d.DEFAULT_COMMANDS_HISTORY_LENGTH}};e.CommandsHistory=l,l.DEFAULT_COMMANDS_HISTORY_LENGTH=50,l.PREF_KEY_CACHE="commandPalette.mru.cache",l.PREF_KEY_COUNTER="commandPalette.mru.counter",l.counter=1,l.hasChanges=!1,e.CommandsHistory=l=d=De([he(0,g.IStorageService),he(1,a.IConfigurationService)],l)}),define(ne[842],se([1,0,130,841]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class y extends k.AbstractCommandsQuickAccessProvider{constructor(S,p,w,v,b,a){super(S,p,w,v,b,a)}getCodeEditorCommandPicks(){const S=this.activeTextEditorControl;if(!S)return[];const p=[];for(const w of S.getSupportedActions())p.push({commandId:w.id,commandAlias:w.alias,label:(0,L.stripIcons)(w.label)||w.id});return p}}e.AbstractEditorCommandsQuickAccessProvider=y}),define(ne[843],se([1,0,37,145,99,35,842,8,34,25,61,164,16,21,72]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let o=class extends S.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){var c;return(c=this.codeEditorService.getFocusedCodeEditor())!==null&&c!==void 0?c:void 0}constructor(c,d,s,l,r,h){super({showAlias:!1},c,s,l,r,h),this.codeEditorService=d}async getCommandPicks(){return this.getCodeEditorCommandPicks()}hasAdditionalCommandPicks(){return!1}async getAdditionalCommandPicks(){return[]}};e.StandaloneCommandsQuickAccessProvider=o,e.StandaloneCommandsQuickAccessProvider=o=De([he(0,p.IInstantiationService),he(1,D.ICodeEditorService),he(2,w.IKeybindingService),he(3,v.ICommandService),he(4,b.ITelemetryService),he(5,a.IDialogService)],o);class g extends n.EditorAction{constructor(){super({id:g.ID,label:y.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(c){c.get(t.IQuickInputService).quickAccess.show(o.PREFIX)}}e.GotoLineAction=g,g.ID="editor.action.quickCommand",(0,n.registerEditorAction)(g),L.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:o.PREFIX,helpEntries:[{description:y.QuickCommandNLS.quickCommandHelp,commandId:g.ID}]})}),define(ne[31],se([1,0,90,15,39,7,762,250,37]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapError=e.minimapWarning=e.minimapInfo=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.checkboxSelectBorder=e.checkboxBorder=e.checkboxForeground=e.checkboxSelectBackground=e.checkboxBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeInactiveIndentGuidesStroke=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBetweenBackground=e.listDropOverBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffUnchangedTextBackground=e.diffUnchangedRegionForeground=e.diffUnchangedRegionBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAiForeground=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchResultsInfoForeground=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollShadow=e.editorStickyScrollBorder=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetBorder=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableWithDefault=e.asCssVariable=e.asCssVariableName=void 0;function v(A){return`--vscode-${A.replace(/\./g,"-")}`}e.asCssVariableName=v;function b(A){return`var(${v(A)})`}e.asCssVariable=b;function a(A,R){return`var(${v(A)}, ${R})`}e.asCssVariableWithDefault=a,e.Extensions={ColorContribution:"base.contributions.colors"};class n{constructor(){this._onDidChangeSchema=new D.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(R,M,N,P=!1,F){const O={id:R,description:N,defaults:M,needsTransparency:P,deprecationMessage:F};this.colorsById[R]=O;const B={type:"string",description:N,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return F&&(B.deprecationMessage=F),P&&(B.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",B.patternErrorMessage="This color must be transparent or it will obscure content"),this.colorSchema.properties[R]=B,this.colorReferenceSchema.enum.push(R),this.colorReferenceSchema.enumDescriptions.push(N),this._onDidChangeSchema.fire(),R}getColors(){return Object.keys(this.colorsById).map(R=>this.colorsById[R])}resolveDefaultColor(R,M){const N=this.colorsById[R];if(N&&N.defaults){const P=N.defaults[M.type];return E(P,M)}}getColorSchema(){return this.colorSchema}toString(){const R=(M,N)=>{const P=M.indexOf(".")===-1?0:1,F=N.indexOf(".")===-1?0:1;return P!==F?P-F:M.localeCompare(N)};return Object.keys(this.colorsById).sort(R).map(M=>`- \`${M}\`: ${this.colorsById[M].description}`).join(`
`)}}const i=new n;w.Registry.add(e.Extensions.ColorContribution,i);function t(A,R,M,N,P){return i.registerColor(A,R,M,N,P)}e.registerColor=t,e.foreground=t("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},S.localize(0,null)),e.disabledForeground=t("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},S.localize(1,null)),e.errorForeground=t("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},S.localize(2,null)),e.descriptionForeground=t("descriptionForeground",{light:"#717171",dark:u(e.foreground,.7),hcDark:u(e.foreground,.7),hcLight:u(e.foreground,.7)},S.localize(3,null)),e.iconForeground=t("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},S.localize(4,null)),e.focusBorder=t("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},S.localize(5,null)),e.contrastBorder=t("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},S.localize(6,null)),e.activeContrastBorder=t("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(7,null)),e.selectionBackground=t("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},S.localize(8,null)),e.textSeparatorForeground=t("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:y.Color.black,hcLight:"#292929"},S.localize(9,null)),e.textLinkForeground=t("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},S.localize(10,null)),e.textLinkActiveForeground=t("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},S.localize(11,null)),e.textPreformatForeground=t("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},S.localize(12,null)),e.textPreformatBackground=t("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},S.localize(13,null)),e.textBlockQuoteBackground=t("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},S.localize(14,null)),e.textBlockQuoteBorder=t("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:y.Color.white,hcLight:"#292929"},S.localize(15,null)),e.textCodeBlockBackground=t("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:y.Color.black,hcLight:"#F2F2F2"},S.localize(16,null)),e.widgetShadow=t("widget.shadow",{dark:u(y.Color.black,.36),light:u(y.Color.black,.16),hcDark:null,hcLight:null},S.localize(17,null)),e.widgetBorder=t("widget.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(18,null)),e.inputBackground=t("input.background",{dark:"#3C3C3C",light:y.Color.white,hcDark:y.Color.black,hcLight:y.Color.white},S.localize(19,null)),e.inputForeground=t("input.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(20,null)),e.inputBorder=t("input.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(21,null)),e.inputActiveOptionBorder=t("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(22,null)),e.inputActiveOptionHoverBackground=t("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},S.localize(23,null)),e.inputActiveOptionBackground=t("inputOption.activeBackground",{dark:u(e.focusBorder,.4),light:u(e.focusBorder,.2),hcDark:y.Color.transparent,hcLight:y.Color.transparent},S.localize(24,null)),e.inputActiveOptionForeground=t("inputOption.activeForeground",{dark:y.Color.white,light:y.Color.black,hcDark:e.foreground,hcLight:e.foreground},S.localize(25,null)),e.inputPlaceholderForeground=t("input.placeholderForeground",{light:u(e.foreground,.5),dark:u(e.foreground,.5),hcDark:u(e.foreground,.7),hcLight:u(e.foreground,.7)},S.localize(26,null)),e.inputValidationInfoBackground=t("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:y.Color.black,hcLight:y.Color.white},S.localize(27,null)),e.inputValidationInfoForeground=t("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(28,null)),e.inputValidationInfoBorder=t("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(29,null)),e.inputValidationWarningBackground=t("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:y.Color.black,hcLight:y.Color.white},S.localize(30,null)),e.inputValidationWarningForeground=t("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(31,null)),e.inputValidationWarningBorder=t("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(32,null)),e.inputValidationErrorBackground=t("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:y.Color.black,hcLight:y.Color.white},S.localize(33,null)),e.inputValidationErrorForeground=t("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},S.localize(34,null)),e.inputValidationErrorBorder=t("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(35,null)),e.selectBackground=t("dropdown.background",{dark:"#3C3C3C",light:y.Color.white,hcDark:y.Color.black,hcLight:y.Color.white},S.localize(36,null)),e.selectListBackground=t("dropdown.listBackground",{dark:null,light:null,hcDark:y.Color.black,hcLight:y.Color.white},S.localize(37,null)),e.selectForeground=t("dropdown.foreground",{dark:"#F0F0F0",light:e.foreground,hcDark:y.Color.white,hcLight:e.foreground},S.localize(38,null)),e.selectBorder=t("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(39,null)),e.buttonForeground=t("button.foreground",{dark:y.Color.white,light:y.Color.white,hcDark:y.Color.white,hcLight:y.Color.white},S.localize(40,null)),e.buttonSeparator=t("button.separator",{dark:u(e.buttonForeground,.4),light:u(e.buttonForeground,.4),hcDark:u(e.buttonForeground,.4),hcLight:u(e.buttonForeground,.4)},S.localize(41,null)),e.buttonBackground=t("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},S.localize(42,null)),e.buttonHoverBackground=t("button.hoverBackground",{dark:h(e.buttonBackground,.2),light:r(e.buttonBackground,.2),hcDark:e.buttonBackground,hcLight:e.buttonBackground},S.localize(43,null)),e.buttonBorder=t("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(44,null)),e.buttonSecondaryForeground=t("button.secondaryForeground",{dark:y.Color.white,light:y.Color.white,hcDark:y.Color.white,hcLight:e.foreground},S.localize(45,null)),e.buttonSecondaryBackground=t("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:y.Color.white},S.localize(46,null)),e.buttonSecondaryHoverBackground=t("button.secondaryHoverBackground",{dark:h(e.buttonSecondaryBackground,.2),light:r(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},S.localize(47,null)),e.badgeBackground=t("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:y.Color.black,hcLight:"#0F4A85"},S.localize(48,null)),e.badgeForeground=t("badge.foreground",{dark:y.Color.white,light:"#333",hcDark:y.Color.white,hcLight:y.Color.white},S.localize(49,null)),e.scrollbarShadow=t("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},S.localize(50,null)),e.scrollbarSliderBackground=t("scrollbarSlider.background",{dark:y.Color.fromHex("#797979").transparent(.4),light:y.Color.fromHex("#646464").transparent(.4),hcDark:u(e.contrastBorder,.6),hcLight:u(e.contrastBorder,.4)},S.localize(51,null)),e.scrollbarSliderHoverBackground=t("scrollbarSlider.hoverBackground",{dark:y.Color.fromHex("#646464").transparent(.7),light:y.Color.fromHex("#646464").transparent(.7),hcDark:u(e.contrastBorder,.8),hcLight:u(e.contrastBorder,.8)},S.localize(52,null)),e.scrollbarSliderActiveBackground=t("scrollbarSlider.activeBackground",{dark:y.Color.fromHex("#BFBFBF").transparent(.4),light:y.Color.fromHex("#000000").transparent(.6),hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(53,null)),e.progressBarBackground=t("progressBar.background",{dark:y.Color.fromHex("#0E70C0"),light:y.Color.fromHex("#0E70C0"),hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(54,null)),e.editorErrorBackground=t("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(55,null),!0),e.editorErrorForeground=t("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},S.localize(56,null)),e.editorErrorBorder=t("editorError.border",{dark:null,light:null,hcDark:y.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},S.localize(57,null)),e.editorWarningBackground=t("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(58,null),!0),e.editorWarningForeground=t("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},S.localize(59,null)),e.editorWarningBorder=t("editorWarning.border",{dark:null,light:null,hcDark:y.Color.fromHex("#FFCC00").transparent(.8),hcLight:y.Color.fromHex("#FFCC00").transparent(.8)},S.localize(60,null)),e.editorInfoBackground=t("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(61,null),!0),e.editorInfoForeground=t("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},S.localize(62,null)),e.editorInfoBorder=t("editorInfo.border",{dark:null,light:null,hcDark:y.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},S.localize(63,null)),e.editorHintForeground=t("editorHint.foreground",{dark:y.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},S.localize(64,null)),e.editorHintBorder=t("editorHint.border",{dark:null,light:null,hcDark:y.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},S.localize(65,null)),e.sashHoverBorder=t("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(66,null)),e.editorBackground=t("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:y.Color.black,hcLight:y.Color.white},S.localize(67,null)),e.editorForeground=t("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:y.Color.white,hcLight:e.foreground},S.localize(68,null)),e.editorStickyScrollBackground=t("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},S.localize(69,null)),e.editorStickyScrollHoverBackground=t("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:y.Color.fromHex("#0F4A85").transparent(.1)},S.localize(70,null)),e.editorStickyScrollBorder=t("editorStickyScroll.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(71,null)),e.editorStickyScrollShadow=t("editorStickyScroll.shadow",{dark:e.scrollbarShadow,light:e.scrollbarShadow,hcDark:e.scrollbarShadow,hcLight:e.scrollbarShadow},S.localize(72,null)),e.editorWidgetBackground=t("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:y.Color.white},S.localize(73,null)),e.editorWidgetForeground=t("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(74,null)),e.editorWidgetBorder=t("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(75,null)),e.editorWidgetResizeBorder=t("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},S.localize(76,null)),e.quickInputBackground=t("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(77,null)),e.quickInputForeground=t("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},S.localize(78,null)),e.quickInputTitleBackground=t("quickInputTitle.background",{dark:new y.Color(new y.RGBA(255,255,255,.105)),light:new y.Color(new y.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:y.Color.white},S.localize(79,null)),e.pickerGroupForeground=t("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:y.Color.white,hcLight:"#0F4A85"},S.localize(80,null)),e.pickerGroupBorder=t("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:y.Color.white,hcLight:"#0F4A85"},S.localize(81,null)),e.keybindingLabelBackground=t("keybindingLabel.background",{dark:new y.Color(new y.RGBA(128,128,128,.17)),light:new y.Color(new y.RGBA(221,221,221,.4)),hcDark:y.Color.transparent,hcLight:y.Color.transparent},S.localize(82,null)),e.keybindingLabelForeground=t("keybindingLabel.foreground",{dark:y.Color.fromHex("#CCCCCC"),light:y.Color.fromHex("#555555"),hcDark:y.Color.white,hcLight:e.foreground},S.localize(83,null)),e.keybindingLabelBorder=t("keybindingLabel.border",{dark:new y.Color(new y.RGBA(51,51,51,.6)),light:new y.Color(new y.RGBA(204,204,204,.4)),hcDark:new y.Color(new y.RGBA(111,195,223)),hcLight:e.contrastBorder},S.localize(84,null)),e.keybindingLabelBottomBorder=t("keybindingLabel.bottomBorder",{dark:new y.Color(new y.RGBA(68,68,68,.6)),light:new y.Color(new y.RGBA(187,187,187,.4)),hcDark:new y.Color(new y.RGBA(111,195,223)),hcLight:e.foreground},S.localize(85,null)),e.editorSelectionBackground=t("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},S.localize(86,null)),e.editorSelectionForeground=t("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:y.Color.white},S.localize(87,null)),e.editorInactiveSelection=t("editor.inactiveSelectionBackground",{light:u(e.editorSelectionBackground,.5),dark:u(e.editorSelectionBackground,.5),hcDark:u(e.editorSelectionBackground,.7),hcLight:u(e.editorSelectionBackground,.5)},S.localize(88,null),!0),e.editorSelectionHighlight=t("editor.selectionHighlightBackground",{light:_(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:_(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},S.localize(89,null),!0),e.editorSelectionHighlightBorder=t("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(90,null)),e.editorFindMatch=t("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},S.localize(91,null)),e.editorFindMatchHighlight=t("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},S.localize(92,null),!0),e.editorFindRangeHighlight=t("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},S.localize(93,null),!0),e.editorFindMatchBorder=t("editor.findMatchBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(94,null)),e.editorFindMatchHighlightBorder=t("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(95,null)),e.editorFindRangeHighlightBorder=t("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:u(e.activeContrastBorder,.4),hcLight:u(e.activeContrastBorder,.4)},S.localize(96,null),!0),e.searchEditorFindMatch=t("searchEditor.findMatchBackground",{light:u(e.editorFindMatchHighlight,.66),dark:u(e.editorFindMatchHighlight,.66),hcDark:e.editorFindMatchHighlight,hcLight:e.editorFindMatchHighlight},S.localize(97,null)),e.searchEditorFindMatchBorder=t("searchEditor.findMatchBorder",{light:u(e.editorFindMatchHighlightBorder,.66),dark:u(e.editorFindMatchHighlightBorder,.66),hcDark:e.editorFindMatchHighlightBorder,hcLight:e.editorFindMatchHighlightBorder},S.localize(98,null)),e.searchResultsInfoForeground=t("search.resultsInfoForeground",{light:e.foreground,dark:u(e.foreground,.65),hcDark:e.foreground,hcLight:e.foreground},S.localize(99,null)),e.editorHoverHighlight=t("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},S.localize(100,null),!0),e.editorHoverBackground=t("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(101,null)),e.editorHoverForeground=t("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},S.localize(102,null)),e.editorHoverBorder=t("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},S.localize(103,null)),e.editorHoverStatusBarBackground=t("editorHoverWidget.statusBarBackground",{dark:h(e.editorHoverBackground,.2),light:r(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(104,null)),e.editorActiveLinkForeground=t("editorLink.activeForeground",{dark:"#4E94CE",light:y.Color.blue,hcDark:y.Color.cyan,hcLight:"#292929"},S.localize(105,null)),e.editorInlayHintForeground=t("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:y.Color.white,hcLight:y.Color.black},S.localize(106,null)),e.editorInlayHintBackground=t("editorInlayHint.background",{dark:u(e.badgeBackground,.1),light:u(e.badgeBackground,.1),hcDark:u(y.Color.white,.1),hcLight:u(e.badgeBackground,.1)},S.localize(107,null)),e.editorInlayHintTypeForeground=t("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},S.localize(108,null)),e.editorInlayHintTypeBackground=t("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},S.localize(109,null)),e.editorInlayHintParameterForeground=t("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},S.localize(110,null)),e.editorInlayHintParameterBackground=t("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},S.localize(111,null)),e.editorLightBulbForeground=t("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},S.localize(112,null)),e.editorLightBulbAutoFixForeground=t("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},S.localize(113,null)),e.editorLightBulbAiForeground=t("editorLightBulbAi.foreground",{dark:e.editorLightBulbForeground,light:e.editorLightBulbForeground,hcDark:e.editorLightBulbForeground,hcLight:e.editorLightBulbForeground},S.localize(114,null)),e.defaultInsertColor=new y.Color(new y.RGBA(155,185,85,.2)),e.defaultRemoveColor=new y.Color(new y.RGBA(255,0,0,.2)),e.diffInserted=t("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},S.localize(115,null),!0),e.diffRemoved=t("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},S.localize(116,null),!0),e.diffInsertedLine=t("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},S.localize(117,null),!0),e.diffRemovedLine=t("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},S.localize(118,null),!0),e.diffInsertedLineGutter=t("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(119,null)),e.diffRemovedLineGutter=t("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(120,null)),e.diffOverviewRulerInserted=t("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(121,null)),e.diffOverviewRulerRemoved=t("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(122,null)),e.diffInsertedOutline=t("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},S.localize(123,null)),e.diffRemovedOutline=t("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},S.localize(124,null)),e.diffBorder=t("diffEditor.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(125,null)),e.diffDiagonalFill=t("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},S.localize(126,null)),e.diffUnchangedRegionBackground=t("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},S.localize(127,null)),e.diffUnchangedRegionForeground=t("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},S.localize(128,null)),e.diffUnchangedTextBackground=t("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},S.localize(129,null)),e.listFocusBackground=t("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(130,null)),e.listFocusForeground=t("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(131,null)),e.listFocusOutline=t("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(132,null)),e.listFocusAndSelectionOutline=t("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(133,null)),e.listActiveSelectionBackground=t("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:y.Color.fromHex("#0F4A85").transparent(.1)},S.localize(134,null)),e.listActiveSelectionForeground=t("list.activeSelectionForeground",{dark:y.Color.white,light:y.Color.white,hcDark:null,hcLight:null},S.localize(135,null)),e.listActiveSelectionIconForeground=t("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(136,null)),e.listInactiveSelectionBackground=t("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:y.Color.fromHex("#0F4A85").transparent(.1)},S.localize(137,null)),e.listInactiveSelectionForeground=t("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(138,null)),e.listInactiveSelectionIconForeground=t("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(139,null)),e.listInactiveFocusBackground=t("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(140,null)),e.listInactiveFocusOutline=t("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(141,null)),e.listHoverBackground=t("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:y.Color.white.transparent(.1),hcLight:y.Color.fromHex("#0F4A85").transparent(.1)},S.localize(142,null)),e.listHoverForeground=t("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(143,null)),e.listDropOverBackground=t("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},S.localize(144,null)),e.listDropBetweenBackground=t("list.dropBetweenBackground",{dark:e.iconForeground,light:e.iconForeground,hcDark:null,hcLight:null},S.localize(145,null)),e.listHighlightForeground=t("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:e.focusBorder,hcLight:e.focusBorder},S.localize(146,null)),e.listFocusHighlightForeground=t("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:C(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},S.localize(147,null)),e.listInvalidItemForeground=t("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},S.localize(148,null)),e.listErrorForeground=t("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},S.localize(149,null)),e.listWarningForeground=t("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},S.localize(150,null)),e.listFilterWidgetBackground=t("listFilterWidget.background",{light:r(e.editorWidgetBackground,0),dark:h(e.editorWidgetBackground,0),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(151,null)),e.listFilterWidgetOutline=t("listFilterWidget.outline",{dark:y.Color.transparent,light:y.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},S.localize(152,null)),e.listFilterWidgetNoMatchesOutline=t("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(153,null)),e.listFilterWidgetShadow=t("listFilterWidget.shadow",{dark:e.widgetShadow,light:e.widgetShadow,hcDark:e.widgetShadow,hcLight:e.widgetShadow},S.localize(154,null)),e.listFilterMatchHighlight=t("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hcDark:null,hcLight:null},S.localize(155,null)),e.listFilterMatchHighlightBorder=t("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hcDark:e.contrastBorder,hcLight:e.activeContrastBorder},S.localize(156,null)),e.treeIndentGuidesStroke=t("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},S.localize(157,null)),e.treeInactiveIndentGuidesStroke=t("tree.inactiveIndentGuidesStroke",{dark:u(e.treeIndentGuidesStroke,.4),light:u(e.treeIndentGuidesStroke,.4),hcDark:u(e.treeIndentGuidesStroke,.4),hcLight:u(e.treeIndentGuidesStroke,.4)},S.localize(158,null)),e.tableColumnsBorder=t("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},S.localize(159,null)),e.tableOddRowsBackgroundColor=t("tree.tableOddRowsBackground",{dark:u(e.foreground,.04),light:u(e.foreground,.04),hcDark:null,hcLight:null},S.localize(160,null)),e.listDeemphasizedForeground=t("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},S.localize(161,null)),e.checkboxBackground=t("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},S.localize(162,null)),e.checkboxSelectBackground=t("checkbox.selectBackground",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(163,null)),e.checkboxForeground=t("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},S.localize(164,null)),e.checkboxBorder=t("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},S.localize(165,null)),e.checkboxSelectBorder=t("checkbox.selectBorder",{dark:e.iconForeground,light:e.iconForeground,hcDark:e.iconForeground,hcLight:e.iconForeground},S.localize(166,null)),e._deprecatedQuickInputListFocusBackground=t("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,S.localize(167,null)),e.quickInputListFocusForeground=t("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},S.localize(168,null)),e.quickInputListFocusIconForeground=t("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hcDark:e.listActiveSelectionIconForeground,hcLight:e.listActiveSelectionIconForeground},S.localize(169,null)),e.quickInputListFocusBackground=t("quickInputList.focusBackground",{dark:f(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:f(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hcDark:null,hcLight:null},S.localize(170,null)),e.menuBorder=t("menu.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(171,null)),e.menuForeground=t("menu.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},S.localize(172,null)),e.menuBackground=t("menu.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},S.localize(173,null)),e.menuSelectionForeground=t("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},S.localize(174,null)),e.menuSelectionBackground=t("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hcDark:e.listActiveSelectionBackground,hcLight:e.listActiveSelectionBackground},S.localize(175,null)),e.menuSelectionBorder=t("menu.selectionBorder",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(176,null)),e.menuSeparatorBackground=t("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:e.contrastBorder,hcLight:e.contrastBorder},S.localize(177,null)),e.toolbarHoverBackground=t("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},S.localize(178,null)),e.toolbarHoverOutline=t("toolbar.hoverOutline",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},S.localize(179,null)),e.toolbarActiveBackground=t("toolbar.activeBackground",{dark:h(e.toolbarHoverBackground,.1),light:r(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},S.localize(180,null)),e.snippetTabstopHighlightBackground=t("editor.snippetTabstopHighlightBackground",{dark:new y.Color(new y.RGBA(124,124,124,.3)),light:new y.Color(new y.RGBA(10,50,100,.2)),hcDark:new y.Color(new y.RGBA(124,124,124,.3)),hcLight:new y.Color(new y.RGBA(10,50,100,.2))},S.localize(181,null)),e.snippetTabstopHighlightBorder=t("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(182,null)),e.snippetFinalTabstopHighlightBackground=t("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(183,null)),e.snippetFinalTabstopHighlightBorder=t("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new y.Color(new y.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},S.localize(184,null)),e.breadcrumbsForeground=t("breadcrumb.foreground",{light:u(e.foreground,.8),dark:u(e.foreground,.8),hcDark:u(e.foreground,.8),hcLight:u(e.foreground,.8)},S.localize(185,null)),e.breadcrumbsBackground=t("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},S.localize(186,null)),e.breadcrumbsFocusForeground=t("breadcrumb.focusForeground",{light:r(e.foreground,.2),dark:h(e.foreground,.1),hcDark:h(e.foreground,.1),hcLight:h(e.foreground,.1)},S.localize(187,null)),e.breadcrumbsActiveSelectionForeground=t("breadcrumb.activeSelectionForeground",{light:r(e.foreground,.2),dark:h(e.foreground,.1),hcDark:h(e.foreground,.1),hcLight:h(e.foreground,.1)},S.localize(188,null)),e.breadcrumbsPickerBackground=t("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},S.localize(189,null));const o=.5,g=y.Color.fromHex("#40C8AE").transparent(o),m=y.Color.fromHex("#40A6FF").transparent(o),c=y.Color.fromHex("#606060").transparent(.4),d=.4,s=1;e.mergeCurrentHeaderBackground=t("merge.currentHeaderBackground",{dark:g,light:g,hcDark:null,hcLight:null},S.localize(190,null),!0),e.mergeCurrentContentBackground=t("merge.currentContentBackground",{dark:u(e.mergeCurrentHeaderBackground,d),light:u(e.mergeCurrentHeaderBackground,d),hcDark:u(e.mergeCurrentHeaderBackground,d),hcLight:u(e.mergeCurrentHeaderBackground,d)},S.localize(191,null),!0),e.mergeIncomingHeaderBackground=t("merge.incomingHeaderBackground",{dark:m,light:m,hcDark:null,hcLight:null},S.localize(192,null),!0),e.mergeIncomingContentBackground=t("merge.incomingContentBackground",{dark:u(e.mergeIncomingHeaderBackground,d),light:u(e.mergeIncomingHeaderBackground,d),hcDark:u(e.mergeIncomingHeaderBackground,d),hcLight:u(e.mergeIncomingHeaderBackground,d)},S.localize(193,null),!0),e.mergeCommonHeaderBackground=t("merge.commonHeaderBackground",{dark:c,light:c,hcDark:null,hcLight:null},S.localize(194,null),!0),e.mergeCommonContentBackground=t("merge.commonContentBackground",{dark:u(e.mergeCommonHeaderBackground,d),light:u(e.mergeCommonHeaderBackground,d),hcDark:u(e.mergeCommonHeaderBackground,d),hcLight:u(e.mergeCommonHeaderBackground,d)},S.localize(195,null),!0),e.mergeBorder=t("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},S.localize(196,null)),e.overviewRulerCurrentContentForeground=t("editorOverviewRuler.currentContentForeground",{dark:u(e.mergeCurrentHeaderBackground,s),light:u(e.mergeCurrentHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(197,null)),e.overviewRulerIncomingContentForeground=t("editorOverviewRuler.incomingContentForeground",{dark:u(e.mergeIncomingHeaderBackground,s),light:u(e.mergeIncomingHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(198,null)),e.overviewRulerCommonContentForeground=t("editorOverviewRuler.commonContentForeground",{dark:u(e.mergeCommonHeaderBackground,s),light:u(e.mergeCommonHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},S.localize(199,null)),e.overviewRulerFindMatchForeground=t("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},S.localize(200,null),!0),e.overviewRulerSelectionHighlightForeground=t("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},S.localize(201,null),!0),e.minimapFindMatch=t("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},S.localize(202,null),!0),e.minimapSelectionOccurrenceHighlight=t("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},S.localize(203,null),!0),e.minimapSelection=t("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},S.localize(204,null),!0),e.minimapInfo=t("minimap.infoHighlight",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoBorder,hcLight:e.editorInfoBorder},S.localize(205,null)),e.minimapWarning=t("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningBorder,hcLight:e.editorWarningBorder},S.localize(206,null)),e.minimapError=t("minimap.errorHighlight",{dark:new y.Color(new y.RGBA(255,18,18,.7)),light:new y.Color(new y.RGBA(255,18,18,.7)),hcDark:new y.Color(new y.RGBA(255,50,50,1)),hcLight:"#B5200D"},S.localize(207,null)),e.minimapBackground=t("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},S.localize(208,null)),e.minimapForegroundOpacity=t("minimap.foregroundOpacity",{dark:y.Color.fromHex("#000f"),light:y.Color.fromHex("#000f"),hcDark:y.Color.fromHex("#000f"),hcLight:y.Color.fromHex("#000f")},S.localize(209,null)),e.minimapSliderBackground=t("minimapSlider.background",{light:u(e.scrollbarSliderBackground,.5),dark:u(e.scrollbarSliderBackground,.5),hcDark:u(e.scrollbarSliderBackground,.5),hcLight:u(e.scrollbarSliderBackground,.5)},S.localize(210,null)),e.minimapSliderHoverBackground=t("minimapSlider.hoverBackground",{light:u(e.scrollbarSliderHoverBackground,.5),dark:u(e.scrollbarSliderHoverBackground,.5),hcDark:u(e.scrollbarSliderHoverBackground,.5),hcLight:u(e.scrollbarSliderHoverBackground,.5)},S.localize(211,null)),e.minimapSliderActiveBackground=t("minimapSlider.activeBackground",{light:u(e.scrollbarSliderActiveBackground,.5),dark:u(e.scrollbarSliderActiveBackground,.5),hcDark:u(e.scrollbarSliderActiveBackground,.5),hcLight:u(e.scrollbarSliderActiveBackground,.5)},S.localize(212,null)),e.problemsErrorIconForeground=t("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},S.localize(213,null)),e.problemsWarningIconForeground=t("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},S.localize(214,null)),e.problemsInfoIconForeground=t("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},S.localize(215,null)),e.chartsForeground=t("charts.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},S.localize(216,null)),e.chartsLines=t("charts.lines",{dark:u(e.foreground,.5),light:u(e.foreground,.5),hcDark:u(e.foreground,.5),hcLight:u(e.foreground,.5)},S.localize(217,null)),e.chartsRed=t("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},S.localize(218,null)),e.chartsBlue=t("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},S.localize(219,null)),e.chartsYellow=t("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},S.localize(220,null)),e.chartsOrange=t("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hcDark:e.minimapFindMatch,hcLight:e.minimapFindMatch},S.localize(221,null)),e.chartsGreen=t("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},S.localize(222,null)),e.chartsPurple=t("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},S.localize(223,null));function l(A,R){var M,N,P,F;switch(A.op){case 0:return(M=E(A.value,R))===null||M===void 0?void 0:M.darken(A.factor);case 1:return(N=E(A.value,R))===null||N===void 0?void 0:N.lighten(A.factor);case 2:return(P=E(A.value,R))===null||P===void 0?void 0:P.transparent(A.factor);case 3:{const O=E(A.background,R);return O?(F=E(A.value,R))===null||F===void 0?void 0:F.makeOpaque(O):E(A.value,R)}case 4:for(const O of A.values){const B=E(O,R);if(B)return B}return;case 6:return E(R.defines(A.if)?A.then:A.else,R);case 5:{const O=E(A.value,R);if(!O)return;const B=E(A.background,R);return B?O.isDarkerThan(B)?y.Color.getLighterColor(O,B,A.factor).transparent(A.transparency):y.Color.getDarkerColor(O,B,A.factor).transparent(A.transparency):O.transparent(A.factor*A.transparency)}default:throw(0,L.assertNever)(A)}}e.executeTransform=l;function r(A,R){return{op:0,value:A,factor:R}}e.darken=r;function h(A,R){return{op:1,value:A,factor:R}}e.lighten=h;function u(A,R){return{op:2,value:A,factor:R}}e.transparent=u;function f(...A){return{op:4,values:A}}e.oneOf=f;function C(A,R,M){return{op:6,if:A,then:R,else:M}}e.ifDefinedThenElse=C;function _(A,R,M,N){return{op:5,value:A,background:R,factor:M,transparency:N}}function E(A,R){if(A!==null){if(typeof A=="string")return A[0]==="#"?y.Color.fromHex(A):R.getColor(A);if(A instanceof y.Color)return A;if(typeof A=="object")return l(A,R)}}e.resolveColorValue=E,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const I=w.Registry.as(p.Extensions.JSONContribution);I.registerSchema(e.workbenchColorsSchemaId,i.getColorSchema());const T=new k.RunOnceScheduler(()=>I.notifySchemaChanged(e.workbenchColorsSchemaId),200);i.onDidChangeSchema(()=>{T.isScheduled()||T.schedule()})}),define(ne[169],se([1,0,6,159,69,15,2,31]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class w{constructor(r,h){this.x=r,this.y=h,this._pageCoordinatesBrand=void 0}toClientCoordinates(r){return new v(this.x-r.scrollX,this.y-r.scrollY)}}e.PageCoordinates=w;class v{constructor(r,h){this.clientX=r,this.clientY=h,this._clientCoordinatesBrand=void 0}toPageCoordinates(r){return new w(this.clientX+r.scrollX,this.clientY+r.scrollY)}}e.ClientCoordinates=v;class b{constructor(r,h,u,f){this.x=r,this.y=h,this.width=u,this.height=f,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=b;class a{constructor(r,h){this.x=r,this.y=h,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=a;function n(l){const r=L.getDomNodePagePosition(l);return new b(r.left,r.top,r.width,r.height)}e.createEditorPagePosition=n;function i(l,r,h){const u=r.width/l.offsetWidth,f=r.height/l.offsetHeight,C=(h.x-r.x)/u,_=(h.y-r.y)/f;return new a(C,_)}e.createCoordinatesRelativeToEditor=i;class t extends y.StandardMouseEvent{constructor(r,h,u){super(L.getWindow(u),r),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=h,this.pos=new w(this.posx,this.posy),this.editorPos=n(u),this.relativePos=i(u,this.editorPos,this.pos)}}e.EditorMouseEvent=t;class o{constructor(r){this._editorViewDomNode=r}_create(r){return new t(r,!1,this._editorViewDomNode)}onContextMenu(r,h){return L.addDisposableListener(r,"contextmenu",u=>{h(this._create(u))})}onMouseUp(r,h){return L.addDisposableListener(r,"mouseup",u=>{h(this._create(u))})}onMouseDown(r,h){return L.addDisposableListener(r,L.EventType.MOUSE_DOWN,u=>{h(this._create(u))})}onPointerDown(r,h){return L.addDisposableListener(r,L.EventType.POINTER_DOWN,u=>{h(this._create(u),u.pointerId)})}onMouseLeave(r,h){return L.addDisposableListener(r,L.EventType.MOUSE_LEAVE,u=>{h(this._create(u))})}onMouseMove(r,h){return L.addDisposableListener(r,"mousemove",u=>h(this._create(u)))}}e.EditorMouseEventFactory=o;class g{constructor(r){this._editorViewDomNode=r}_create(r){return new t(r,!1,this._editorViewDomNode)}onPointerUp(r,h){return L.addDisposableListener(r,"pointerup",u=>{h(this._create(u))})}onPointerDown(r,h){return L.addDisposableListener(r,L.EventType.POINTER_DOWN,u=>{h(this._create(u),u.pointerId)})}onPointerLeave(r,h){return L.addDisposableListener(r,L.EventType.POINTER_LEAVE,u=>{h(this._create(u))})}onPointerMove(r,h){return L.addDisposableListener(r,"pointermove",u=>h(this._create(u)))}}e.EditorPointerEventFactory=g;class m extends S.Disposable{constructor(r){super(),this._editorViewDomNode=r,this._globalPointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(r,h,u,f,C){this._keydownListener=L.addStandardDisposableListener(r.ownerDocument,"keydown",_=>{_.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,_.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(r,h,u,_=>{f(new t(_,!0,this._editorViewDomNode))},_=>{this._keydownListener.dispose(),C(_)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=m;class c{constructor(r){this._editor=r,this._instanceId=++c._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new D.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(r){const h=this.getOrCreateRule(r);return h.increaseRefCount(),{className:h.className,dispose:()=>{h.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(r){const h=this.computeUniqueKey(r);let u=this._rules.get(h);if(!u){const f=this._counter++;u=new d(h,`dyn-rule-${this._instanceId}-${f}`,L.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,r),this._rules.set(h,u)}return u}computeUniqueKey(r){return JSON.stringify(r)}garbageCollect(){for(const r of this._rules.values())r.hasReferences()||(this._rules.delete(r.key),r.dispose())}}e.DynamicCssRules=c,c._idPool=0;class d{constructor(r,h,u,f){this.key=r,this.className=h,this.properties=f,this._referenceCount=0,this._styleElementDisposables=new S.DisposableStore,this._styleElement=L.createStyleSheet(u,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(r,h){let u=`.${r} {`;for(const f in h){const C=h[f];let _;typeof C=="object"?_=(0,p.asCssVariable)(C.id):_=C;const E=s(f);u+=`
	${E}: ${_};`}return u+=`
}`,u}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function s(l){return l.replace(/(^[A-Z])/,([r])=>r.toLowerCase()).replace(/([A-Z])/g,([r])=>`-${r.toLowerCase()}`)}}),define(ne[844],se([1,0,6,41,159,2,17,11,239,55,36,5,289,345,86,31,23,65,506,40,112,447]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const l=140,r=2;class h{constructor(M,N,P){const F=M.options,O=F.get(142),B=F.get(144),W=B.minimap,V=F.get(50),z=F.get(73);this.renderMinimap=W.renderMinimap,this.size=z.size,this.minimapHeightIsEditorHeight=W.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=F.get(105),this.paddingTop=F.get(84).top,this.paddingBottom=F.get(84).bottom,this.showSlider=z.showSlider,this.autohide=z.autohide,this.pixelRatio=O,this.typicalHalfwidthCharacterWidth=V.typicalHalfwidthCharacterWidth,this.lineHeight=F.get(67),this.minimapLeft=W.minimapLeft,this.minimapWidth=W.minimapWidth,this.minimapHeight=B.height,this.canvasInnerWidth=W.minimapCanvasInnerWidth,this.canvasInnerHeight=W.minimapCanvasInnerHeight,this.canvasOuterWidth=W.minimapCanvasOuterWidth,this.canvasOuterHeight=W.minimapCanvasOuterHeight,this.isSampling=W.minimapIsSampling,this.editorHeight=B.height,this.fontScale=W.minimapScale,this.minimapLineHeight=W.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,s.createSingleCallFunction)(()=>c.MinimapCharRendererFactory.create(this.fontScale,V.fontFamily)),this.defaultBackgroundColor=P.getColor(2),this.backgroundColor=h._getMinimapBackground(N,this.defaultBackgroundColor),this.foregroundAlpha=h._getMinimapForegroundOpacity(N)}static _getMinimapBackground(M,N){const P=M.getColor(o.minimapBackground);return P?new n.RGBA8(P.rgba.r,P.rgba.g,P.rgba.b,Math.round(255*P.rgba.a)):N}static _getMinimapForegroundOpacity(M){const N=M.getColor(o.minimapForegroundOpacity);return N?n.RGBA8._clamp(Math.round(255*N.rgba.a)):255}equals(M){return this.renderMinimap===M.renderMinimap&&this.size===M.size&&this.minimapHeightIsEditorHeight===M.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===M.scrollBeyondLastLine&&this.paddingTop===M.paddingTop&&this.paddingBottom===M.paddingBottom&&this.showSlider===M.showSlider&&this.autohide===M.autohide&&this.pixelRatio===M.pixelRatio&&this.typicalHalfwidthCharacterWidth===M.typicalHalfwidthCharacterWidth&&this.lineHeight===M.lineHeight&&this.minimapLeft===M.minimapLeft&&this.minimapWidth===M.minimapWidth&&this.minimapHeight===M.minimapHeight&&this.canvasInnerWidth===M.canvasInnerWidth&&this.canvasInnerHeight===M.canvasInnerHeight&&this.canvasOuterWidth===M.canvasOuterWidth&&this.canvasOuterHeight===M.canvasOuterHeight&&this.isSampling===M.isSampling&&this.editorHeight===M.editorHeight&&this.fontScale===M.fontScale&&this.minimapLineHeight===M.minimapLineHeight&&this.minimapCharWidth===M.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(M.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(M.backgroundColor)&&this.foregroundAlpha===M.foregroundAlpha}}class u{constructor(M,N,P,F,O,B,W,V,z){this.scrollTop=M,this.scrollHeight=N,this.sliderNeeded=P,this._computedSliderRatio=F,this.sliderTop=O,this.sliderHeight=B,this.topPaddingLineCount=W,this.startLineNumber=V,this.endLineNumber=z}getDesiredScrollTopFromDelta(M){return Math.round(this.scrollTop+M/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(M){return Math.round((M-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(M){const N=Math.max(this.startLineNumber,M.startLineNumber),P=Math.min(this.endLineNumber,M.endLineNumber);return N>P?null:[N,P]}getYForLineNumber(M,N){return+(M-this.startLineNumber+this.topPaddingLineCount)*N}static create(M,N,P,F,O,B,W,V,z,K,j){const x=M.pixelRatio,re=M.minimapLineHeight,ie=Math.floor(M.canvasInnerHeight/re),J=M.lineHeight;if(M.minimapHeightIsEditorHeight){let Q=V*M.lineHeight+M.paddingTop+M.paddingBottom;M.scrollBeyondLastLine&&(Q+=Math.max(0,O-M.lineHeight-M.paddingBottom));const U=Math.max(1,Math.floor(O*O/Q)),Z=Math.max(0,M.minimapHeight-U),H=Z/(K-O),q=z*H,te=Z>0,G=Math.floor(M.canvasInnerHeight/M.minimapLineHeight),$=Math.floor(M.paddingTop/M.lineHeight);return new u(z,K,te,H,q,U,$,1,Math.min(W,G))}let X;if(B&&P!==W){const Q=P-N+1;X=Math.floor(Q*re/x)}else{const Q=O/J;X=Math.floor(Q*re/x)}const Y=Math.floor(M.paddingTop/J);let le=Math.floor(M.paddingBottom/J);if(M.scrollBeyondLastLine){const Q=O/J;le=Math.max(le,Q-1)}let de;if(le>0){const Q=O/J;de=(Y+W+le-Q-1)*re/x}else de=Math.max(0,(Y+W)*re/x-X);de=Math.min(M.minimapHeight-X,de);const ge=de/(K-O),pe=z*ge;if(ie>=Y+W+le){const Q=de>0;return new u(z,K,Q,ge,pe,X,Y,1,W)}else{let Q;N>1?Q=N+Y:Q=Math.max(1,z/J);let U,Z=Math.max(1,Math.floor(Q-pe*x/re));Z<Y?(U=Y-Z+1,Z=1):(U=0,Z=Math.max(1,Z-Y)),j&&j.scrollHeight===K&&(j.scrollTop>z&&(Z=Math.min(Z,j.startLineNumber),U=Math.max(U,j.topPaddingLineCount)),j.scrollTop<z&&(Z=Math.max(Z,j.startLineNumber),U=Math.min(U,j.topPaddingLineCount)));const H=Math.min(W,Z-U+ie-1),q=(z-F)/J;let te;return z>=M.paddingTop?te=(N-Z+U+q)*re/x:te=z/M.paddingTop*(U+q)*re/x,new u(z,K,!0,ge,te,X,U,Z,H)}}}class f{constructor(M){this.dy=M}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}f.INVALID=new f(-1);class C{constructor(M,N,P){this.renderedLayout=M,this._imageData=N,this._renderedLines=new w.RenderedLinesCollection(()=>f.INVALID),this._renderedLines._set(M.startLineNumber,P)}linesEquals(M){if(!this.scrollEquals(M))return!1;const P=this._renderedLines._get().lines;for(let F=0,O=P.length;F<O;F++)if(P[F].dy===-1)return!1;return!0}scrollEquals(M){return this.renderedLayout.startLineNumber===M.startLineNumber&&this.renderedLayout.endLineNumber===M.endLineNumber}_get(){const M=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:M.rendLineNumberStart,lines:M.lines}}onLinesChanged(M,N){return this._renderedLines.onLinesChanged(M,N)}onLinesDeleted(M,N){this._renderedLines.onLinesDeleted(M,N)}onLinesInserted(M,N){this._renderedLines.onLinesInserted(M,N)}onTokensChanged(M){return this._renderedLines.onTokensChanged(M)}}class _{constructor(M,N,P,F){this._backgroundFillData=_._createBackgroundFillData(N,P,F),this._buffers=[M.createImageData(N,P),M.createImageData(N,P)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const M=this._buffers[this._lastUsedBuffer];return M.data.set(this._backgroundFillData),M}static _createBackgroundFillData(M,N,P){const F=P.r,O=P.g,B=P.b,W=P.a,V=new Uint8ClampedArray(M*N*4);let z=0;for(let K=0;K<N;K++)for(let j=0;j<M;j++)V[z]=F,V[z+1]=O,V[z+2]=B,V[z+3]=W,z+=4;return V}}class E{static compute(M,N,P){if(M.renderMinimap===0||!M.isSampling)return[null,[]];const{minimapLineCount:F}=b.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:N,scrollBeyondLastLine:M.scrollBeyondLastLine,paddingTop:M.paddingTop,paddingBottom:M.paddingBottom,height:M.editorHeight,lineHeight:M.lineHeight,pixelRatio:M.pixelRatio}),O=N/F,B=O/2;if(!P||P.minimapLines.length===0){const X=[];if(X[0]=1,F>1){for(let Y=0,le=F-1;Y<le;Y++)X[Y]=Math.round(Y*O+B);X[F-1]=N}return[new E(O,X),[]]}const W=P.minimapLines,V=W.length,z=[];let K=0,j=0,x=1;const re=10;let ie=[],J=null;for(let X=0;X<F;X++){const Y=Math.max(x,Math.round(X*O)),le=Math.max(Y,Math.round((X+1)*O));for(;K<V&&W[K]<Y;){if(ie.length<re){const ge=K+1+j;J&&J.type==="deleted"&&J._oldIndex===K-1?J.deleteToLineNumber++:(J={type:"deleted",_oldIndex:K,deleteFromLineNumber:ge,deleteToLineNumber:ge},ie.push(J)),j--}K++}let de;if(K<V&&W[K]<=le)de=W[K],K++;else if(X===0?de=1:X+1===F?de=N:de=Math.round(X*O+B),ie.length<re){const ge=K+1+j;J&&J.type==="inserted"&&J._i===X-1?J.insertToLineNumber++:(J={type:"inserted",_i:X,insertFromLineNumber:ge,insertToLineNumber:ge},ie.push(J)),j++}z[X]=de,x=de}if(ie.length<re)for(;K<V;){const X=K+1+j;J&&J.type==="deleted"&&J._oldIndex===K-1?J.deleteToLineNumber++:(J={type:"deleted",_oldIndex:K,deleteFromLineNumber:X,deleteToLineNumber:X},ie.push(J)),j--,K++}else ie=[{type:"flush"}];return[new E(O,z),ie]}constructor(M,N){this.samplingRatio=M,this.minimapLines=N}modelLineToMinimapLine(M){return Math.min(this.minimapLines.length,Math.max(1,Math.round(M/this.samplingRatio)))}modelLineRangeToMinimapLineRange(M,N){let P=this.modelLineToMinimapLine(M)-1;for(;P>0&&this.minimapLines[P-1]>=M;)P--;let F=this.modelLineToMinimapLine(N)-1;for(;F+1<this.minimapLines.length&&this.minimapLines[F+1]<=N;)F++;if(P===F){const O=this.minimapLines[P];if(O<M||O>N)return null}return[P+1,F+1]}decorationLineRangeToMinimapLineRange(M,N){let P=this.modelLineToMinimapLine(M),F=this.modelLineToMinimapLine(N);return M!==N&&F===P&&(F===this.minimapLines.length?P>1&&P--:F++),[P,F]}onLinesDeleted(M){const N=M.toLineNumber-M.fromLineNumber+1;let P=this.minimapLines.length,F=0;for(let O=this.minimapLines.length-1;O>=0&&!(this.minimapLines[O]<M.fromLineNumber);O--)this.minimapLines[O]<=M.toLineNumber?(this.minimapLines[O]=Math.max(1,M.fromLineNumber-1),P=Math.min(P,O),F=Math.max(F,O)):this.minimapLines[O]-=N;return[P,F]}onLinesInserted(M){const N=M.toLineNumber-M.fromLineNumber+1;for(let P=this.minimapLines.length-1;P>=0&&!(this.minimapLines[P]<M.fromLineNumber);P--)this.minimapLines[P]+=N}}class I extends v.ViewPart{constructor(M){super(M),this.tokensColorTracker=i.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new h(this._context.configuration,this._context.theme,this.tokensColorTracker);const[N]=E.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=N,this._shouldCheckSampling=!1,this._actual=new T(M.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const M=new h(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(M)?!1:(this.options=M,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(M){return this._onOptionsMaybeChanged()}onCursorStateChanged(M){return this._selections=M.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(M){return M.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(M){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(M){if(this._samplingState){const N=this._samplingState.modelLineRangeToMinimapLineRange(M.fromLineNumber,M.fromLineNumber+M.count-1);return N?this._actual.onLinesChanged(N[0],N[1]-N[0]+1):!1}else return this._actual.onLinesChanged(M.fromLineNumber,M.count)}onLinesDeleted(M){if(this._samplingState){const[N,P]=this._samplingState.onLinesDeleted(M);return N<=P&&this._actual.onLinesChanged(N+1,P-N+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(M.fromLineNumber,M.toLineNumber)}onLinesInserted(M){return this._samplingState?(this._samplingState.onLinesInserted(M),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(M.fromLineNumber,M.toLineNumber)}onScrollChanged(M){return this._actual.onScrollChanged()}onThemeChanged(M){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(M){if(this._samplingState){const N=[];for(const P of M.ranges){const F=this._samplingState.modelLineRangeToMinimapLineRange(P.fromLineNumber,P.toLineNumber);F&&N.push({fromLineNumber:F[0],toLineNumber:F[1]})}return N.length?this._actual.onTokensChanged(N):!1}else return this._actual.onTokensChanged(M.ranges)}onTokensColorsChanged(M){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(M){return this._actual.onZonesChanged()}prepareRender(M){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(M){let N=M.visibleRange.startLineNumber,P=M.visibleRange.endLineNumber;this._samplingState&&(N=this._samplingState.modelLineToMinimapLine(N),P=this._samplingState.modelLineToMinimapLine(P));const F={viewportContainsWhitespaceGaps:M.viewportData.whitespaceViewportData.length>0,scrollWidth:M.scrollWidth,scrollHeight:M.scrollHeight,viewportStartLineNumber:N,viewportEndLineNumber:P,viewportStartLineNumberVerticalOffset:M.getVerticalOffsetForLineNumber(N),scrollTop:M.scrollTop,scrollLeft:M.scrollLeft,viewportWidth:M.viewportWidth,viewportHeight:M.viewportHeight};this._actual.render(F)}_recreateLineSampling(){this._minimapSelections=null;const M=!!this._samplingState,[N,P]=E.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=N,M&&this._samplingState)for(const F of P)switch(F.type){case"deleted":this._actual.onLinesDeleted(F.deleteFromLineNumber,F.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(F.insertFromLineNumber,F.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(M){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineContent(M)}getLineMaxColumn(M){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineMaxColumn(M)}getMinimapLinesRenderingData(M,N,P){if(this._samplingState){const F=[];for(let O=0,B=N-M+1;O<B;O++)P[O]?F[O]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[M+O-1]):F[O]=null;return F}return this._context.viewModel.getMinimapLinesRenderingData(M,N,P).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const M of this._selections){const[N,P]=this._samplingState.decorationLineRangeToMinimapLineRange(M.startLineNumber,M.endLineNumber);this._minimapSelections.push(new g.Selection(N,M.startColumn,P,M.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(M,N){let P;if(this._samplingState){const O=this._samplingState.minimapLines[M-1],B=this._samplingState.minimapLines[N-1];P=new a.Range(O,1,B,this._context.viewModel.getLineMaxColumn(B))}else P=new a.Range(M,1,N,this._context.viewModel.getLineMaxColumn(N));const F=this._context.viewModel.getMinimapDecorationsInRange(P);if(this._samplingState){const O=[];for(const B of F){if(!B.options.minimap)continue;const W=B.range,V=this._samplingState.modelLineToMinimapLine(W.startLineNumber),z=this._samplingState.modelLineToMinimapLine(W.endLineNumber);O.push(new t.ViewModelDecoration(new a.Range(V,W.startColumn,z,W.endColumn),B.options))}return O}return F}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(M){this._samplingState&&(M=this._samplingState.minimapLines[M-1]),this._context.viewModel.revealRange("mouse",!1,new a.Range(M,1,M,1),1,0)}setScrollTop(M){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:M},1)}}e.Minimap=I;class T extends D.Disposable{constructor(M,N){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=M,this._model=N,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(o.minimapSelection),this._domNode=(0,k.createFastDomNode)(document.createElement("div")),v.PartFingerprints.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,k.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,k.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,k.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=L.addStandardDisposableListener(this._domNode.domNode,L.EventType.POINTER_DOWN,P=>{if(P.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(P.button===0&&this._lastRenderData){const z=L.getDomNodePagePosition(this._slider.domNode),K=z.top+z.height/2;this._startSliderDragging(P,K,this._lastRenderData.renderedLayout)}return}const O=this._model.options.minimapLineHeight,B=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*P.offsetY;let V=Math.floor(B/O)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;V=Math.min(V,this._model.getLineCount()),this._model.revealLineNumber(V)}),this._sliderPointerMoveMonitor=new y.GlobalPointerMoveMonitor,this._sliderPointerDownListener=L.addStandardDisposableListener(this._slider.domNode,L.EventType.POINTER_DOWN,P=>{P.preventDefault(),P.stopPropagation(),P.button===0&&this._lastRenderData&&this._startSliderDragging(P,P.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=m.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=L.addDisposableListener(this._domNode.domNode,m.EventType.Start,P=>{P.preventDefault(),P.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(P))},{passive:!1}),this._sliderTouchMoveListener=L.addDisposableListener(this._domNode.domNode,m.EventType.Change,P=>{P.preventDefault(),P.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(P)},{passive:!1}),this._sliderTouchEndListener=L.addStandardDisposableListener(this._domNode.domNode,m.EventType.End,P=>{P.preventDefault(),P.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(M,N,P){if(!M.target||!(M.target instanceof Element))return;const F=M.pageX;this._slider.toggleClassName("active",!0);const O=(B,W)=>{const V=L.getDomNodePagePosition(this._domNode.domNode),z=Math.min(Math.abs(W-F),Math.abs(W-V.left),Math.abs(W-V.left-V.width));if(S.isWindows&&z>l){this._model.setScrollTop(P.scrollTop);return}const K=B-N;this._model.setScrollTop(P.getDesiredScrollTopFromDelta(K))};M.pageY!==N&&O(M.pageY,F),this._sliderPointerMoveMonitor.startMonitoring(M.target,M.pointerId,M.buttons,B=>O(B.pageY,B.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(M){const N=this._domNode.domNode.getBoundingClientRect().top,P=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(M.pageY-N);this._model.setScrollTop(P)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const M=["minimap"];return this._model.options.showSlider==="always"?M.push("slider-always"):M.push("slider-mouseover"),this._model.options.autohide&&M.push("autohide"),M.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new _(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(M,N){return this._lastRenderData?this._lastRenderData.onLinesChanged(M,N):!1}onLinesDeleted(M,N){var P;return(P=this._lastRenderData)===null||P===void 0||P.onLinesDeleted(M,N),!0}onLinesInserted(M,N){var P;return(P=this._lastRenderData)===null||P===void 0||P.onLinesInserted(M,N),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(o.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(M){return this._lastRenderData?this._lastRenderData.onTokensChanged(M):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(M){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}M.scrollLeft+M.viewportWidth>=M.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const P=u.create(this._model.options,M.viewportStartLineNumber,M.viewportEndLineNumber,M.viewportStartLineNumberVerticalOffset,M.viewportHeight,M.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),M.scrollTop,M.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(P.sliderNeeded?"block":"none"),this._slider.setTop(P.sliderTop),this._slider.setHeight(P.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(P.sliderHeight),this.renderDecorations(P),this._lastRenderData=this.renderLines(P)}renderDecorations(M){if(this._renderDecorations){this._renderDecorations=!1;const N=this._model.getSelections();N.sort(a.Range.compareRangesUsingStarts);const P=this._model.getMinimapDecorationsInViewport(M.startLineNumber,M.endLineNumber);P.sort((x,re)=>(x.options.zIndex||0)-(re.options.zIndex||0));const{canvasInnerWidth:F,canvasInnerHeight:O}=this._model.options,B=this._model.options.minimapLineHeight,W=this._model.options.minimapCharWidth,V=this._model.getOptions().tabSize,z=this._decorationsCanvas.domNode.getContext("2d");z.clearRect(0,0,F,O);const K=new A(M.startLineNumber,M.endLineNumber,!1);this._renderSelectionLineHighlights(z,N,K,M,B),this._renderDecorationsLineHighlights(z,P,K,M,B);const j=new A(M.startLineNumber,M.endLineNumber,null);this._renderSelectionsHighlights(z,N,j,M,B,V,W,F),this._renderDecorationsHighlights(z,P,j,M,B,V,W,F)}}_renderSelectionLineHighlights(M,N,P,F,O){if(!this._selectionColor||this._selectionColor.isTransparent())return;M.fillStyle=this._selectionColor.transparent(.5).toString();let B=0,W=0;for(const V of N){const z=F.intersectWithViewport(V);if(!z)continue;const[K,j]=z;for(let ie=K;ie<=j;ie++)P.set(ie,!0);const x=F.getYForLineNumber(K,O),re=F.getYForLineNumber(j,O);W>=x||(W>B&&M.fillRect(b.MINIMAP_GUTTER_WIDTH,B,M.canvas.width,W-B),B=x),W=re}W>B&&M.fillRect(b.MINIMAP_GUTTER_WIDTH,B,M.canvas.width,W-B)}_renderDecorationsLineHighlights(M,N,P,F,O){const B=new Map;for(let W=N.length-1;W>=0;W--){const V=N[W],z=V.options.minimap;if(!z||z.position!==d.MinimapPosition.Inline)continue;const K=F.intersectWithViewport(V.range);if(!K)continue;const[j,x]=K,re=z.getColor(this._theme.value);if(!re||re.isTransparent())continue;let ie=B.get(re.toString());ie||(ie=re.transparent(.5).toString(),B.set(re.toString(),ie)),M.fillStyle=ie;for(let J=j;J<=x;J++){if(P.has(J))continue;P.set(J,!0);const X=F.getYForLineNumber(j,O);M.fillRect(b.MINIMAP_GUTTER_WIDTH,X,M.canvas.width,O)}}}_renderSelectionsHighlights(M,N,P,F,O,B,W,V){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const z of N){const K=F.intersectWithViewport(z);if(!K)continue;const[j,x]=K;for(let re=j;re<=x;re++)this.renderDecorationOnLine(M,P,z,this._selectionColor,F,re,O,O,B,W,V)}}_renderDecorationsHighlights(M,N,P,F,O,B,W,V){for(const z of N){const K=z.options.minimap;if(!K)continue;const j=F.intersectWithViewport(z.range);if(!j)continue;const[x,re]=j,ie=K.getColor(this._theme.value);if(!(!ie||ie.isTransparent()))for(let J=x;J<=re;J++)switch(K.position){case d.MinimapPosition.Inline:this.renderDecorationOnLine(M,P,z.range,ie,F,J,O,O,B,W,V);continue;case d.MinimapPosition.Gutter:{const X=F.getYForLineNumber(J,O);this.renderDecoration(M,ie,2,X,r,O);continue}}}}renderDecorationOnLine(M,N,P,F,O,B,W,V,z,K,j){const x=O.getYForLineNumber(B,V);if(x+W<0||x>this._model.options.canvasInnerHeight)return;const{startLineNumber:re,endLineNumber:ie}=P,J=re===B?P.startColumn:1,X=ie===B?P.endColumn:this._model.getLineMaxColumn(B),Y=this.getXOffsetForPosition(N,B,J,z,K,j),le=this.getXOffsetForPosition(N,B,X,z,K,j);this.renderDecoration(M,F,Y,x,le-Y,W)}getXOffsetForPosition(M,N,P,F,O,B){if(P===1)return b.MINIMAP_GUTTER_WIDTH;if((P-1)*O>=B)return B;let V=M.get(N);if(!V){const z=this._model.getLineContent(N);V=[b.MINIMAP_GUTTER_WIDTH];let K=b.MINIMAP_GUTTER_WIDTH;for(let j=1;j<z.length+1;j++){const x=z.charCodeAt(j-1),re=x===9?F*O:p.isFullWidthCharacter(x)?2*O:O,ie=K+re;if(ie>=B){V[j]=B;break}V[j]=ie,K=ie}M.set(N,V)}return P-1<V.length?V[P-1]:B}renderDecoration(M,N,P,F,O,B){M.fillStyle=N&&N.toString()||"",M.fillRect(P,F,O,B)}renderLines(M){const N=M.startLineNumber,P=M.endLineNumber,F=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(M)){const ae=this._lastRenderData._get();return new C(M,ae.imageData,ae.lines)}const O=this._getBuffer();if(!O)return null;const[B,W,V]=T._renderUntouchedLines(O,M.topPaddingLineCount,N,P,F,this._lastRenderData),z=this._model.getMinimapLinesRenderingData(N,P,V),K=this._model.getOptions().tabSize,j=this._model.options.defaultBackgroundColor,x=this._model.options.backgroundColor,re=this._model.options.foregroundAlpha,ie=this._model.tokensColorTracker,J=ie.backgroundIsLight(),X=this._model.options.renderMinimap,Y=this._model.options.charRenderer(),le=this._model.options.fontScale,de=this._model.options.minimapCharWidth,pe=(X===1?2:3)*le,Q=F>pe?Math.floor((F-pe)/2):0,U=x.a/255,Z=new n.RGBA8(Math.round((x.r-j.r)*U+j.r),Math.round((x.g-j.g)*U+j.g),Math.round((x.b-j.b)*U+j.b),255);let H=M.topPaddingLineCount*F;const q=[];for(let ae=0,ue=P-N+1;ae<ue;ae++)V[ae]&&T._renderLine(O,Z,x.a,J,X,de,ie,re,Y,H,Q,K,z[ae],le,F),q[ae]=new f(H),H+=F;const te=B===-1?0:B,$=(W===-1?O.height:W)-te;return this._canvas.domNode.getContext("2d").putImageData(O,0,0,0,te,O.width,$),new C(M,O,q)}static _renderUntouchedLines(M,N,P,F,O,B){const W=[];if(!B){for(let H=0,q=F-P+1;H<q;H++)W[H]=!0;return[-1,-1,W]}const V=B._get(),z=V.imageData.data,K=V.rendLineNumberStart,j=V.lines,x=j.length,re=M.width,ie=M.data,J=(F-P+1)*O*re*4;let X=-1,Y=-1,le=-1,de=-1,ge=-1,pe=-1,Q=N*O;for(let H=P;H<=F;H++){const q=H-P,te=H-K,G=te>=0&&te<x?j[te].dy:-1;if(G===-1){W[q]=!0,Q+=O;continue}const $=G*re*4,oe=(G+O)*re*4,ae=Q*re*4,ue=(Q+O)*re*4;de===$&&pe===ae?(de=oe,pe=ue):(le!==-1&&(ie.set(z.subarray(le,de),ge),X===-1&&le===0&&le===ge&&(X=de),Y===-1&&de===J&&le===ge&&(Y=le)),le=$,de=oe,ge=ae,pe=ue),W[q]=!1,Q+=O}le!==-1&&(ie.set(z.subarray(le,de),ge),X===-1&&le===0&&le===ge&&(X=de),Y===-1&&de===J&&le===ge&&(Y=le));const U=X===-1?-1:X/(re*4),Z=Y===-1?-1:Y/(re*4);return[U,Z,W]}static _renderLine(M,N,P,F,O,B,W,V,z,K,j,x,re,ie,J){const X=re.content,Y=re.tokens,le=M.width-B,de=J===1;let ge=b.MINIMAP_GUTTER_WIDTH,pe=0,Q=0;for(let U=0,Z=Y.getCount();U<Z;U++){const H=Y.getEndOffset(U),q=Y.getForeground(U),te=W.getColor(q);for(;pe<H;pe++){if(ge>le)return;const G=X.charCodeAt(pe);if(G===9){const $=x-(pe+Q)%x;Q+=$-1,ge+=$*B}else if(G===32)ge+=B;else{const $=p.isFullWidthCharacter(G)?2:1;for(let oe=0;oe<$;oe++)if(O===2?z.blockRenderChar(M,ge,K+j,te,V,N,P,de):z.renderChar(M,ge,K+j,G,te,V,N,P,ie,F,de),ge+=B,ge>le)return}}}}}class A{constructor(M,N,P){this._startLineNumber=M,this._endLineNumber=N,this._defaultValue=P,this._values=[];for(let F=0,O=this._endLineNumber-this._startLineNumber+1;F<O;F++)this._values[F]=P}has(M){return this.get(M)!==this._defaultValue}set(M,N){M<this._startLineNumber||M>this._endLineNumber||(this._values[M-this._startLineNumber]=N)}get(M){return M<this._startLineNumber||M>this._endLineNumber?this._defaultValue:this._values[M-this._startLineNumber]}}}),define(ne[845],se([1,0,643,31]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiDiffEditorBorder=e.multiDiffEditorBackground=e.multiDiffEditorHeaderBackground=void 0,e.multiDiffEditorHeaderBackground=(0,k.registerColor)("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},(0,L.localize)(0,null)),e.multiDiffEditorBackground=(0,k.registerColor)("multiDiffEditor.background",{dark:"editorBackground",light:"editorBackground",hcDark:"editorBackground",hcLight:"editorBackground"},(0,L.localize)(1,null)),e.multiDiffEditorBorder=(0,k.registerColor)("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},(0,L.localize)(2,null))}),define(ne[259],se([1,0,732,31,488]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,L.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,L.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,L.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,L.localize)(32,null))}),define(ne[846],se([1,0,27,119,668,180,259]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMenuItems=void 0;const D=Object.freeze({kind:k.CodeActionKind.Empty,title:(0,y.localize)(0,null)}),S=Object.freeze([{kind:k.CodeActionKind.QuickFix,title:(0,y.localize)(1,null)},{kind:k.CodeActionKind.RefactorExtract,title:(0,y.localize)(2,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.RefactorInline,title:(0,y.localize)(3,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.RefactorRewrite,title:(0,y.localize)(4,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.RefactorMove,title:(0,y.localize)(5,null),icon:L.Codicon.wrench},{kind:k.CodeActionKind.SurroundWith,title:(0,y.localize)(6,null),icon:L.Codicon.surroundWith},{kind:k.CodeActionKind.Source,title:(0,y.localize)(7,null),icon:L.Codicon.symbolFile},D]);function p(w,v,b){if(!v)return w.map(i=>{var t;return{kind:"action",item:i,group:D,disabled:!!i.action.disabled,label:i.action.disabled||i.action.title,canPreview:!!(!((t=i.action.edit)===null||t===void 0)&&t.edits.length)}});const a=S.map(i=>({group:i,actions:[]}));for(const i of w){const t=i.action.kind?new k.CodeActionKind(i.action.kind):k.CodeActionKind.None;for(const o of a)if(o.group.kind.contains(t)){o.actions.push(i);break}}const n=[];for(const i of a)if(i.actions.length){n.push({kind:"header",group:i.group});for(const t of i.actions){const o=i.group;n.push({kind:"action",item:t,group:t.action.isAI?{title:o.title,kind:o.kind,icon:L.Codicon.sparkle}:o,label:t.action.title,disabled:!!t.action.disabled,keybinding:b(t.action)})}}return n}e.toMenuItems=p}),define(ne[102],se([1,0,31,39]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultMenuStyles=e.defaultSelectBoxStyles=e.getListStyles=e.defaultListStyles=e.defaultBreadcrumbsWidgetStyles=e.defaultCountBadgeStyles=e.defaultFindWidgetStyles=e.defaultInputBoxStyles=e.defaultDialogStyles=e.defaultCheckboxStyles=e.defaultToggleStyles=e.defaultProgressBarStyles=e.defaultButtonStyles=e.defaultKeybindingLabelStyles=void 0;function y(S,p){const w={...p};for(const v in S){const b=S[v];w[v]=b!==void 0?(0,L.asCssVariable)(b):void 0}return w}e.defaultKeybindingLabelStyles={keybindingLabelBackground:(0,L.asCssVariable)(L.keybindingLabelBackground),keybindingLabelForeground:(0,L.asCssVariable)(L.keybindingLabelForeground),keybindingLabelBorder:(0,L.asCssVariable)(L.keybindingLabelBorder),keybindingLabelBottomBorder:(0,L.asCssVariable)(L.keybindingLabelBottomBorder),keybindingLabelShadow:(0,L.asCssVariable)(L.widgetShadow)},e.defaultButtonStyles={buttonForeground:(0,L.asCssVariable)(L.buttonForeground),buttonSeparator:(0,L.asCssVariable)(L.buttonSeparator),buttonBackground:(0,L.asCssVariable)(L.buttonBackground),buttonHoverBackground:(0,L.asCssVariable)(L.buttonHoverBackground),buttonSecondaryForeground:(0,L.asCssVariable)(L.buttonSecondaryForeground),buttonSecondaryBackground:(0,L.asCssVariable)(L.buttonSecondaryBackground),buttonSecondaryHoverBackground:(0,L.asCssVariable)(L.buttonSecondaryHoverBackground),buttonBorder:(0,L.asCssVariable)(L.buttonBorder)},e.defaultProgressBarStyles={progressBarBackground:(0,L.asCssVariable)(L.progressBarBackground)},e.defaultToggleStyles={inputActiveOptionBorder:(0,L.asCssVariable)(L.inputActiveOptionBorder),inputActiveOptionForeground:(0,L.asCssVariable)(L.inputActiveOptionForeground),inputActiveOptionBackground:(0,L.asCssVariable)(L.inputActiveOptionBackground)},e.defaultCheckboxStyles={checkboxBackground:(0,L.asCssVariable)(L.checkboxBackground),checkboxBorder:(0,L.asCssVariable)(L.checkboxBorder),checkboxForeground:(0,L.asCssVariable)(L.checkboxForeground)},e.defaultDialogStyles={dialogBackground:(0,L.asCssVariable)(L.editorWidgetBackground),dialogForeground:(0,L.asCssVariable)(L.editorWidgetForeground),dialogShadow:(0,L.asCssVariable)(L.widgetShadow),dialogBorder:(0,L.asCssVariable)(L.contrastBorder),errorIconForeground:(0,L.asCssVariable)(L.problemsErrorIconForeground),warningIconForeground:(0,L.asCssVariable)(L.problemsWarningIconForeground),infoIconForeground:(0,L.asCssVariable)(L.problemsInfoIconForeground),textLinkForeground:(0,L.asCssVariable)(L.textLinkForeground)},e.defaultInputBoxStyles={inputBackground:(0,L.asCssVariable)(L.inputBackground),inputForeground:(0,L.asCssVariable)(L.inputForeground),inputBorder:(0,L.asCssVariable)(L.inputBorder),inputValidationInfoBorder:(0,L.asCssVariable)(L.inputValidationInfoBorder),inputValidationInfoBackground:(0,L.asCssVariable)(L.inputValidationInfoBackground),inputValidationInfoForeground:(0,L.asCssVariable)(L.inputValidationInfoForeground),inputValidationWarningBorder:(0,L.asCssVariable)(L.inputValidationWarningBorder),inputValidationWarningBackground:(0,L.asCssVariable)(L.inputValidationWarningBackground),inputValidationWarningForeground:(0,L.asCssVariable)(L.inputValidationWarningForeground),inputValidationErrorBorder:(0,L.asCssVariable)(L.inputValidationErrorBorder),inputValidationErrorBackground:(0,L.asCssVariable)(L.inputValidationErrorBackground),inputValidationErrorForeground:(0,L.asCssVariable)(L.inputValidationErrorForeground)},e.defaultFindWidgetStyles={listFilterWidgetBackground:(0,L.asCssVariable)(L.listFilterWidgetBackground),listFilterWidgetOutline:(0,L.asCssVariable)(L.listFilterWidgetOutline),listFilterWidgetNoMatchesOutline:(0,L.asCssVariable)(L.listFilterWidgetNoMatchesOutline),listFilterWidgetShadow:(0,L.asCssVariable)(L.listFilterWidgetShadow),inputBoxStyles:e.defaultInputBoxStyles,toggleStyles:e.defaultToggleStyles},e.defaultCountBadgeStyles={badgeBackground:(0,L.asCssVariable)(L.badgeBackground),badgeForeground:(0,L.asCssVariable)(L.badgeForeground),badgeBorder:(0,L.asCssVariable)(L.contrastBorder)},e.defaultBreadcrumbsWidgetStyles={breadcrumbsBackground:(0,L.asCssVariable)(L.breadcrumbsBackground),breadcrumbsForeground:(0,L.asCssVariable)(L.breadcrumbsForeground),breadcrumbsHoverForeground:(0,L.asCssVariable)(L.breadcrumbsFocusForeground),breadcrumbsFocusForeground:(0,L.asCssVariable)(L.breadcrumbsFocusForeground),breadcrumbsFocusAndSelectionForeground:(0,L.asCssVariable)(L.breadcrumbsActiveSelectionForeground)},e.defaultListStyles={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,L.asCssVariable)(L.listFocusBackground),listFocusForeground:(0,L.asCssVariable)(L.listFocusForeground),listFocusOutline:(0,L.asCssVariable)(L.listFocusOutline),listActiveSelectionBackground:(0,L.asCssVariable)(L.listActiveSelectionBackground),listActiveSelectionForeground:(0,L.asCssVariable)(L.listActiveSelectionForeground),listActiveSelectionIconForeground:(0,L.asCssVariable)(L.listActiveSelectionIconForeground),listFocusAndSelectionOutline:(0,L.asCssVariable)(L.listFocusAndSelectionOutline),listFocusAndSelectionBackground:(0,L.asCssVariable)(L.listActiveSelectionBackground),listFocusAndSelectionForeground:(0,L.asCssVariable)(L.listActiveSelectionForeground),listInactiveSelectionBackground:(0,L.asCssVariable)(L.listInactiveSelectionBackground),listInactiveSelectionIconForeground:(0,L.asCssVariable)(L.listInactiveSelectionIconForeground),listInactiveSelectionForeground:(0,L.asCssVariable)(L.listInactiveSelectionForeground),listInactiveFocusBackground:(0,L.asCssVariable)(L.listInactiveFocusBackground),listInactiveFocusOutline:(0,L.asCssVariable)(L.listInactiveFocusOutline),listHoverBackground:(0,L.asCssVariable)(L.listHoverBackground),listHoverForeground:(0,L.asCssVariable)(L.listHoverForeground),listDropOverBackground:(0,L.asCssVariable)(L.listDropOverBackground),listDropBetweenBackground:(0,L.asCssVariable)(L.listDropBetweenBackground),listSelectionOutline:(0,L.asCssVariable)(L.activeContrastBorder),listHoverOutline:(0,L.asCssVariable)(L.activeContrastBorder),treeIndentGuidesStroke:(0,L.asCssVariable)(L.treeIndentGuidesStroke),treeInactiveIndentGuidesStroke:(0,L.asCssVariable)(L.treeInactiveIndentGuidesStroke),tableColumnsBorder:(0,L.asCssVariable)(L.tableColumnsBorder),tableOddRowsBackgroundColor:(0,L.asCssVariable)(L.tableOddRowsBackgroundColor)};function D(S){return y(S,e.defaultListStyles)}e.getListStyles=D,e.defaultSelectBoxStyles={selectBackground:(0,L.asCssVariable)(L.selectBackground),selectListBackground:(0,L.asCssVariable)(L.selectListBackground),selectForeground:(0,L.asCssVariable)(L.selectForeground),decoratorRightForeground:(0,L.asCssVariable)(L.pickerGroupForeground),selectBorder:(0,L.asCssVariable)(L.selectBorder),focusBorder:(0,L.asCssVariable)(L.focusBorder),listFocusBackground:(0,L.asCssVariable)(L.quickInputListFocusBackground),listInactiveSelectionIconForeground:(0,L.asCssVariable)(L.quickInputListFocusIconForeground),listFocusForeground:(0,L.asCssVariable)(L.quickInputListFocusForeground),listFocusOutline:(0,L.asCssVariableWithDefault)(L.activeContrastBorder,k.Color.transparent.toString()),listHoverBackground:(0,L.asCssVariable)(L.listHoverBackground),listHoverForeground:(0,L.asCssVariable)(L.listHoverForeground),listHoverOutline:(0,L.asCssVariable)(L.activeContrastBorder),selectListBorder:(0,L.asCssVariable)(L.editorWidgetBorder),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},e.defaultMenuStyles={shadowColor:(0,L.asCssVariable)(L.widgetShadow),borderColor:(0,L.asCssVariable)(L.menuBorder),foregroundColor:(0,L.asCssVariable)(L.menuForeground),backgroundColor:(0,L.asCssVariable)(L.menuBackground),selectionForegroundColor:(0,L.asCssVariable)(L.menuSelectionForeground),selectionBackgroundColor:(0,L.asCssVariable)(L.menuSelectionBackground),selectionBorderColor:(0,L.asCssVariable)(L.menuSelectionBorder),separatorColor:(0,L.asCssVariable)(L.menuSeparatorBackground),scrollbarShadow:(0,L.asCssVariable)(L.scrollbarShadow),scrollbarSliderBackground:(0,L.asCssVariable)(L.scrollbarSliderBackground),scrollbarSliderHoverBackground:(0,L.asCssVariable)(L.scrollbarSliderHoverBackground),scrollbarSliderActiveBackground:(0,L.asCssVariable)(L.scrollbarSliderActiveBackground)}}),define(ne[847],se([1,0,6,326,327,236,73,2,48,70,693,8,34,166,102,163]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let m=class{constructor(_){this._resolverService=_}hasChildren(_){return _ instanceof o.ReferencesModel||_ instanceof o.FileReferences}getChildren(_){if(_ instanceof o.ReferencesModel)return _.groups;if(_ instanceof o.FileReferences)return _.resolve(this._resolverService).then(E=>E.children);throw new Error("bad tree")}};e.DataSource=m,e.DataSource=m=De([he(0,v.ITextModelService)],m);class c{getHeight(){return 23}getTemplateId(_){return _ instanceof o.FileReferences?r.id:u.id}}e.Delegate=c;let d=class{constructor(_){this._keybindingService=_}getKeyboardNavigationLabel(_){var E;if(_ instanceof o.OneReference){const I=(E=_.parent.getPreview(_))===null||E===void 0?void 0:E.preview(_.range);if(I)return I.value}return(0,w.basename)(_.uri)}};e.StringRepresentationProvider=d,e.StringRepresentationProvider=d=De([he(0,n.IKeybindingService)],d);class s{getId(_){return _ instanceof o.OneReference?_.id:_.uri}}e.IdentityProvider=s;let l=class extends p.Disposable{constructor(_,E){super(),this._labelService=E;const I=document.createElement("div");I.classList.add("reference-file"),this.file=this._register(new D.IconLabel(I,{supportHighlights:!0})),this.badge=new k.CountBadge(L.append(I,L.$(".count")),{},t.defaultCountBadgeStyles),_.appendChild(I)}set(_,E){const I=(0,w.dirname)(_.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(_.uri),this._labelService.getUriLabel(I,{relative:!0}),{title:this._labelService.getUriLabel(_.uri),matches:E});const T=_.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat((0,b.localize)(0,null,T)):this.badge.setTitleFormat((0,b.localize)(1,null,T))}};l=De([he(1,i.ILabelService)],l);let r=g=class{constructor(_){this._instantiationService=_,this.templateId=g.id}renderTemplate(_){return this._instantiationService.createInstance(l,_)}renderElement(_,E,I){I.set(_.element,(0,S.createMatches)(_.filterData))}disposeTemplate(_){_.dispose()}};e.FileReferencesRenderer=r,r.id="FileReferencesRenderer",e.FileReferencesRenderer=r=g=De([he(0,a.IInstantiationService)],r);class h{constructor(_){this.label=new y.HighlightedLabel(_)}set(_,E){var I;const T=(I=_.parent.getPreview(_))===null||I===void 0?void 0:I.preview(_.range);if(!T||!T.value)this.label.set(`${(0,w.basename)(_.uri)}:${_.range.startLineNumber+1}:${_.range.startColumn+1}`);else{const{value:A,highlight:R}=T;E&&!S.FuzzyScore.isDefault(E)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(A,(0,S.createMatches)(E))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(A,[R]))}}}class u{constructor(){this.templateId=u.id}renderTemplate(_){return new h(_)}renderElement(_,E,I){I.set(_.element,_.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=u,u.id="OneReferenceRenderer";class f{getWidgetAriaLabel(){return(0,b.localize)(2,null)}getAriaLabel(_){return _.ariaMessage}}e.AccessibilityProvider=f}),define(ne[848],se([1,0,6,190,105,19,27,2,17,29,742,56,34,102,31,284]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionList=e.previewSelectedActionCommand=e.acceptSelectedActionCommand=void 0,e.acceptSelectedActionCommand="acceptSelectedCodeAction",e.previewSelectedActionCommand="previewSelectedCodeAction";class o{get templateId(){return"header"}renderTemplate(h){h.classList.add("group-header");const u=document.createElement("span");return h.append(u),{container:h,text:u}}renderElement(h,u,f){var C,_;f.text.textContent=(_=(C=h.group)===null||C===void 0?void 0:C.title)!==null&&_!==void 0?_:""}disposeTemplate(h){}}let g=class{get templateId(){return"action"}constructor(h,u){this._supportsPreview=h,this._keybindingService=u}renderTemplate(h){h.classList.add(this.templateId);const u=document.createElement("div");u.className="icon",h.append(u);const f=document.createElement("span");f.className="title",h.append(f);const C=new k.KeybindingLabel(h,w.OS);return{container:h,icon:u,text:f,keybinding:C}}renderElement(h,u,f){var C,_,E;if(!((C=h.group)===null||C===void 0)&&C.icon?(f.icon.className=v.ThemeIcon.asClassName(h.group.icon),h.group.icon.color&&(f.icon.style.color=(0,t.asCssVariable)(h.group.icon.color.id))):(f.icon.className=v.ThemeIcon.asClassName(S.Codicon.lightBulb),f.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!h.item||!h.label)return;f.text.textContent=l(h.label),f.keybinding.set(h.keybinding),L.setVisibility(!!h.keybinding,f.keybinding.element);const I=(_=this._keybindingService.lookupKeybinding(e.acceptSelectedActionCommand))===null||_===void 0?void 0:_.getLabel(),T=(E=this._keybindingService.lookupKeybinding(e.previewSelectedActionCommand))===null||E===void 0?void 0:E.getLabel();f.container.classList.toggle("option-disabled",h.disabled),h.disabled?f.container.title=h.label:I&&T?this._supportsPreview&&h.canPreview?f.container.title=(0,b.localize)(0,null,I,T):f.container.title=(0,b.localize)(1,null,I):f.container.title=""}disposeTemplate(h){}};g=De([he(1,n.IKeybindingService)],g);class m extends UIEvent{constructor(){super("acceptSelectedAction")}}class c extends UIEvent{constructor(){super("previewSelectedAction")}}function d(r){if(r.kind==="action")return r.label}let s=class extends p.Disposable{constructor(h,u,f,C,_,E){super(),this._delegate=C,this._contextViewService=_,this._keybindingService=E,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new D.CancellationTokenSource),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const I={getHeight:T=>T.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:T=>T.kind};this._list=this._register(new y.List(h,this.domNode,I,[new g(u,this._keybindingService),new o],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:d},accessibilityProvider:{getAriaLabel:T=>{if(T.kind==="action"){let A=T.label?l(T?.label):"";return T.disabled&&(A=(0,b.localize)(2,null,A,T.disabled)),A}return null},getWidgetAriaLabel:()=>(0,b.localize)(3,null),getRole:T=>T.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(i.defaultListStyles),this._register(this._list.onMouseClick(T=>this.onListClick(T))),this._register(this._list.onMouseOver(T=>this.onListHover(T))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(T=>this.onListSelection(T))),this._allMenuItems=f,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(h){return!h.disabled&&h.kind==="action"}hide(h){this._delegate.onHide(h),this.cts.cancel(),this._contextViewService.hideContextView()}layout(h){const u=this._allMenuItems.filter(T=>T.kind==="header").length,C=this._allMenuItems.length*this._actionLineHeight+u*this._headerLineHeight-u*this._actionLineHeight;this._list.layout(C);let _=h;if(this._allMenuItems.length>=50)_=380;else{const T=this._allMenuItems.map((A,R)=>{const M=this.domNode.ownerDocument.getElementById(this._list.getElementID(R));if(M){M.style.width="auto";const N=M.getBoundingClientRect().width;return M.style.width="",N}return 0});_=Math.max(...T,h)}const I=Math.min(C,this.domNode.ownerDocument.body.clientHeight*.7);return this._list.layout(I,_),this.domNode.style.height=`${I}px`,this._list.domFocus(),_}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(h){const u=this._list.getFocus();if(u.length===0)return;const f=u[0],C=this._list.element(f);if(!this.focusCondition(C))return;const _=h?new c:new m;this._list.setSelection([f],_)}onListSelection(h){if(!h.elements.length)return;const u=h.elements[0];u.item&&this.focusCondition(u)?this._delegate.onSelect(u.item,h.browserEvent instanceof c):this._list.setSelection([])}onFocus(){var h,u;const f=this._list.getFocus();if(f.length===0)return;const C=f[0],_=this._list.element(C);(u=(h=this._delegate).onFocus)===null||u===void 0||u.call(h,_.item)}async onListHover(h){const u=h.element;if(u&&u.item&&this.focusCondition(u)){if(this._delegate.onHover&&!u.disabled&&u.kind==="action"){const f=await this._delegate.onHover(u.item,this.cts.token);u.canPreview=f?f.canPreview:void 0}h.index&&this._list.splice(h.index,1,[u])}this._list.setFocus(typeof h.index=="number"?[h.index]:[])}onListClick(h){h.element&&this.focusCondition(h.element)&&this._list.setFocus([])}};e.ActionList=s,e.ActionList=s=De([he(4,a.IContextViewService),he(5,n.IKeybindingService)],s);function l(r){return r.replace(/\r\n|\r|\n/g," ")}}),define(ne[849],se([1,0,6,79,2,743,848,28,14,56,45,8,31,284]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IActionWidgetService=void 0,(0,n.registerColor)("actionBar.toggledBackground",{dark:n.inputActiveOptionBackground,light:n.inputActiveOptionBackground,hcDark:n.inputActiveOptionBackground,hcLight:n.inputActiveOptionBackground},(0,D.localize)(0,null));const i={Visible:new w.RawContextKey("codeActionMenuVisible",!1,(0,D.localize)(1,null))};e.IActionWidgetService=(0,a.createDecorator)("actionWidgetService");let t=class extends y.Disposable{get isVisible(){return i.Visible.getValue(this._contextKeyService)||!1}constructor(m,c,d){super(),this._contextViewService=m,this._contextKeyService=c,this._instantiationService=d,this._list=this._register(new y.MutableDisposable)}show(m,c,d,s,l,r,h){const u=i.Visible.bindTo(this._contextKeyService),f=this._instantiationService.createInstance(S.ActionList,m,c,d,s);this._contextViewService.showContextView({getAnchor:()=>l,render:C=>(u.set(!0),this._renderWidget(C,f,h??[])),onHide:C=>{u.reset(),this._onWidgetClosed(C)}},r,!1)}acceptSelected(m){var c;(c=this._list.value)===null||c===void 0||c.acceptSelected(m)}focusPrevious(){var m,c;(c=(m=this._list)===null||m===void 0?void 0:m.value)===null||c===void 0||c.focusPrevious()}focusNext(){var m,c;(c=(m=this._list)===null||m===void 0?void 0:m.value)===null||c===void 0||c.focusNext()}hide(){var m;(m=this._list.value)===null||m===void 0||m.hide(),this._list.clear()}_renderWidget(m,c,d){var s;const l=document.createElement("div");if(l.classList.add("action-widget"),m.appendChild(l),this._list.value=c,this._list.value)l.appendChild(this._list.value.domNode);else throw new Error("List has no value");const r=new y.DisposableStore,h=document.createElement("div"),u=m.appendChild(h);u.classList.add("context-view-block"),r.add(L.addDisposableListener(u,L.EventType.MOUSE_DOWN,T=>T.stopPropagation()));const f=document.createElement("div"),C=m.appendChild(f);C.classList.add("context-view-pointerBlock"),r.add(L.addDisposableListener(C,L.EventType.POINTER_MOVE,()=>C.remove())),r.add(L.addDisposableListener(C,L.EventType.MOUSE_DOWN,()=>C.remove()));let _=0;if(d.length){const T=this._createActionBar(".action-widget-action-bar",d);T&&(l.appendChild(T.getContainer().parentElement),r.add(T),_=T.getContainer().offsetWidth)}const E=(s=this._list.value)===null||s===void 0?void 0:s.layout(_);l.style.width=`${E}px`;const I=r.add(L.trackFocus(m));return r.add(I.onDidBlur(()=>this.hide())),r}_createActionBar(m,c){if(!c.length)return;const d=L.$(m),s=new k.ActionBar(d);return s.push(c,{icon:!1,label:!0}),s}_onWidgetClosed(m){var c;(c=this._list.value)===null||c===void 0||c.hide(m)}};t=De([he(0,v.IContextViewService),he(1,w.IContextKeyService),he(2,a.IInstantiationService)],t),(0,b.registerSingleton)(e.IActionWidgetService,t,1);const o=1100;(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"hideCodeActionWidget",title:(0,D.localize2)(2,"Hide action widget"),precondition:i.Visible,keybinding:{weight:o,primary:9,secondary:[1033]}})}run(g){g.get(e.IActionWidgetService).hide()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"selectPrevCodeAction",title:(0,D.localize2)(3,"Select previous action"),precondition:i.Visible,keybinding:{weight:o,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(g){const m=g.get(e.IActionWidgetService);m instanceof t&&m.focusPrevious()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"selectNextCodeAction",title:(0,D.localize2)(4,"Select next action"),precondition:i.Visible,keybinding:{weight:o,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(g){const m=g.get(e.IActionWidgetService);m instanceof t&&m.focusNext()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:S.acceptSelectedActionCommand,title:(0,D.localize2)(5,"Accept selected action"),precondition:i.Visible,keybinding:{weight:o,primary:3,secondary:[2137]}})}run(g){const m=g.get(e.IActionWidgetService);m instanceof t&&m.acceptSelected()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:S.previewSelectedActionCommand,title:(0,D.localize2)(6,"Preview selected action"),precondition:i.Visible,keybinding:{weight:o,primary:2051}})}run(g){const m=g.get(e.IActionWidgetService);m instanceof t&&m.acceptSelected(!0)}})}),define(ne[850],se([1,0,6,69,607,42,12,2,102]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class v{constructor(a,n,i,t){this.contextViewService=a,this.telemetryService=n,this.notificationService=i,this.keybindingService=t,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(a){this.options=a}showContextMenu(a){const n=a.getActions();if(!n.length)return;this.focusToReturn=(0,L.getActiveElement)();let i;const t=a.domForShadowRoot instanceof HTMLElement?a.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>a.getAnchor(),canRelayout:!1,anchorAlignment:a.anchorAlignment,anchorAxisAlignment:a.anchorAxisAlignment,render:o=>{var g;this.lastContainer=o;const m=a.getMenuClassName?a.getMenuClassName():"";m&&(o.className+=" "+m),this.options.blockMouse&&(this.block=o.appendChild((0,L.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(g=this.blockDisposable)===null||g===void 0||g.dispose(),this.blockDisposable=(0,L.addDisposableListener)(this.block,L.EventType.MOUSE_DOWN,l=>l.stopPropagation()));const c=new p.DisposableStore,d=a.actionRunner||new D.ActionRunner;d.onWillRun(l=>this.onActionRun(l,!a.skipTelemetry),this,c),d.onDidRun(this.onDidActionRun,this,c),i=new y.Menu(o,n,{actionViewItemProvider:a.getActionViewItem,context:a.getActionsContext?a.getActionsContext():null,actionRunner:d,getKeyBinding:a.getKeyBinding?a.getKeyBinding:l=>this.keybindingService.lookupKeybinding(l.id)},w.defaultMenuStyles),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,c),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,c);const s=(0,L.getWindow)(o);return c.add((0,L.addDisposableListener)(s,L.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),c.add((0,L.addDisposableListener)(s,L.EventType.MOUSE_DOWN,l=>{if(l.defaultPrevented)return;const r=new k.StandardMouseEvent(s,l);let h=r.target;if(!r.rightButton){for(;h;){if(h===o)return;h=h.parentElement}this.contextViewService.hideContextView(!0)}})),(0,p.combinedDisposable)(c,i)},focus:()=>{i?.focus(!!a.autoSelectFirstItem)},onHide:o=>{var g,m,c;(g=a.onHide)===null||g===void 0||g.call(a,!!o),this.block&&(this.block.remove(),this.block=null),(m=this.blockDisposable)===null||m===void 0||m.dispose(),this.blockDisposable=null,this.lastContainer&&((0,L.getActiveElement)()===this.lastContainer||(0,L.isAncestor)((0,L.getActiveElement)(),this.lastContainer))&&((c=this.focusToReturn)===null||c===void 0||c.focus()),this.lastContainer=null}},t,!!t)}onActionRun(a,n){n&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:a.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(a){a.error&&!(0,S.isCancellationError)(a.error)&&this.notificationService.error(a.error)}}e.ContextMenuHandler=v}),define(ne[198],se([1,0,6,604,105,608,192,612,611,332,7,2,754,26,101,14,195,56,8,34,37,102]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.WorkbenchTreeStickyScrollFocused=e.RawWorkbenchListFocusContextKey=e.WorkbenchListScrollAtBottomContextKey=e.WorkbenchListScrollAtTopContextKey=e.RawWorkbenchListScrollAtBoundaryContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,c.createDecorator)("listService");class r{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new a.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(ce){var fe,ve;ce!==this._lastFocusedWidget&&((fe=this._lastFocusedWidget)===null||fe===void 0||fe.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=ce,(ve=this._lastFocusedWidget)===null||ve===void 0||ve.getHTMLElement().classList.add("last-focused"))}register(ce,fe){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new y.DefaultStyleController((0,L.createStyleSheet)(),"").style(l.defaultListStyles)),this.lists.some(Ce=>Ce.widget===ce))throw new Error("Cannot register the same widget multiple times");const ve={widget:ce,extraContextKeys:fe};return this.lists.push(ve),(0,L.isActiveElement)(ce.getHTMLElement())&&this.setLastFocusedList(ce),(0,a.combinedDisposable)(ce.onDidFocus(()=>this.setLastFocusedList(ce)),(0,a.toDisposable)(()=>this.lists.splice(this.lists.indexOf(ve),1)),ce.onDidDispose(()=>{this.lists=this.lists.filter(Ce=>Ce!==ve),this._lastFocusedWidget===ce&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}e.ListService=r,e.RawWorkbenchListScrollAtBoundaryContextKey=new o.RawContextKey("listScrollAtBoundary","none"),e.WorkbenchListScrollAtTopContextKey=o.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("top"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.WorkbenchListScrollAtBottomContextKey=o.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("bottom"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.RawWorkbenchListFocusContextKey=new o.RawContextKey("listFocus",!0),e.WorkbenchTreeStickyScrollFocused=new o.RawContextKey("treestickyScrollFocused",!1),e.WorkbenchListSupportsMultiSelectContextKey=new o.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=o.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,o.ContextKeyExpr.not(g.InputFocusedContextKey),e.WorkbenchTreeStickyScrollFocused.negate()),e.WorkbenchListHasSelectionOrFocus=new o.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new o.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new o.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new o.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new o.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new o.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new o.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new o.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new o.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new o.RawContextKey("treeFindOpen",!1);const h="listTypeNavigationMode",u="listAutomaticKeyboardNavigation";function f(ue,ce){const fe=ue.createScoped(ce.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(fe),fe}function C(ue,ce){const fe=e.RawWorkbenchListScrollAtBoundaryContextKey.bindTo(ue),ve=()=>{const Ce=ce.scrollTop===0,Se=ce.scrollHeight-ce.renderHeight-ce.scrollTop<1;Ce&&Se?fe.set("both"):Ce?fe.set("top"):Se?fe.set("bottom"):fe.set("none")};return ve(),ce.onDidScroll(ve)}const _="workbench.list.multiSelectModifier",E="workbench.list.openMode",I="workbench.list.horizontalScrolling",T="workbench.list.defaultFindMode",A="workbench.list.typeNavigationMode",R="workbench.list.keyboardNavigation",M="workbench.list.scrollByPage",N="workbench.list.defaultFindMatchType",P="workbench.tree.indent",F="workbench.tree.renderIndentGuides",O="workbench.list.smoothScrolling",B="workbench.list.mouseWheelScrollSensitivity",W="workbench.list.fastScrollSensitivity",V="workbench.tree.expandMode",z="workbench.tree.enableStickyScroll",K="workbench.tree.stickyScrollMaxItemCount";function j(ue){return ue.getValue(_)==="alt"}class x extends a.Disposable{constructor(ce){super(),this.configurationService=ce,this.useAltAsMultipleSelectionModifier=j(ce),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(ce=>{ce.affectsConfiguration(_)&&(this.useAltAsMultipleSelectionModifier=j(this.configurationService))}))}isSelectionSingleChangeEvent(ce){return this.useAltAsMultipleSelectionModifier?ce.browserEvent.altKey:(0,y.isSelectionSingleChangeEvent)(ce)}isSelectionRangeChangeEvent(ce){return(0,y.isSelectionRangeChangeEvent)(ce)}}function re(ue,ce){var fe;const ve=ue.get(i.IConfigurationService),Ce=ue.get(d.IKeybindingService),Se=new a.DisposableStore;return[{...ce,keyboardNavigationDelegate:{mightProducePrintableCharacter(Ie){return Ce.mightProducePrintableCharacter(Ie)}},smoothScrolling:!!ve.getValue(O),mouseWheelScrollSensitivity:ve.getValue(B),fastScrollSensitivity:ve.getValue(W),multipleSelectionController:(fe=ce.multipleSelectionController)!==null&&fe!==void 0?fe:Se.add(new x(ve)),keyboardNavigationEventFilter:pe(Ce),scrollByPage:!!ve.getValue(M)},Se]}let ie=class extends y.List{constructor(ce,fe,ve,Ce,Se,_e,Ie,Ne,Oe){const xe=typeof Se.horizontalScrolling<"u"?Se.horizontalScrolling:!!Ne.getValue(I),[We,ye]=Oe.invokeFunction(re,Se);super(ce,fe,ve,Ce,{keyboardSupport:!1,...We,horizontalScrolling:xe}),this.disposables.add(ye),this.contextKeyService=f(_e,this),this.disposables.add(C(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Se.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Se.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Se.horizontalScrolling,this._useAltAsMultipleSelectionModifier=j(Ne),this.disposables.add(this.contextKeyService),this.disposables.add(Ie.register(this)),this.updateStyles(Se.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const me=this.getSelection(),be=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(me.length>0||be.length>0),this.listMultiSelection.set(me.length>1),this.listDoubleSelection.set(me.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const me=this.getSelection(),be=this.getFocus();this.listHasSelectionOrFocus.set(me.length>0||be.length>0)})),this.disposables.add(Ne.onDidChangeConfiguration(me=>{me.affectsConfiguration(_)&&(this._useAltAsMultipleSelectionModifier=j(Ne));let be={};if(me.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const Ae=!!Ne.getValue(I);be={...be,horizontalScrolling:Ae}}if(me.affectsConfiguration(M)){const Ae=!!Ne.getValue(M);be={...be,scrollByPage:Ae}}if(me.affectsConfiguration(O)){const Ae=!!Ne.getValue(O);be={...be,smoothScrolling:Ae}}if(me.affectsConfiguration(B)){const Ae=Ne.getValue(B);be={...be,mouseWheelScrollSensitivity:Ae}}if(me.affectsConfiguration(W)){const Ae=Ne.getValue(W);be={...be,fastScrollSensitivity:Ae}}Object.keys(be).length>0&&this.updateOptions(be)})),this.navigator=new le(this,{configurationService:Ne,...Se}),this.disposables.add(this.navigator)}updateOptions(ce){super.updateOptions(ce),ce.overrideStyles!==void 0&&this.updateStyles(ce.overrideStyles),ce.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!ce.multipleSelectionSupport)}updateStyles(ce){this.style(ce?(0,l.getListStyles)(ce):l.defaultListStyles)}};e.WorkbenchList=ie,e.WorkbenchList=ie=De([he(5,o.IContextKeyService),he(6,e.IListService),he(7,i.IConfigurationService),he(8,c.IInstantiationService)],ie);let J=class extends k.PagedList{constructor(ce,fe,ve,Ce,Se,_e,Ie,Ne,Oe){const xe=typeof Se.horizontalScrolling<"u"?Se.horizontalScrolling:!!Ne.getValue(I),[We,ye]=Oe.invokeFunction(re,Se);super(ce,fe,ve,Ce,{keyboardSupport:!1,...We,horizontalScrolling:xe}),this.disposables=new a.DisposableStore,this.disposables.add(ye),this.contextKeyService=f(_e,this),this.disposables.add(C(this.contextKeyService,this.widget)),this.horizontalScrolling=Se.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Se.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Se.selectionNavigation),this._useAltAsMultipleSelectionModifier=j(Ne),this.disposables.add(this.contextKeyService),this.disposables.add(Ie.register(this)),this.updateStyles(Se.overrideStyles),this.disposables.add(Ne.onDidChangeConfiguration(me=>{me.affectsConfiguration(_)&&(this._useAltAsMultipleSelectionModifier=j(Ne));let be={};if(me.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const Ae=!!Ne.getValue(I);be={...be,horizontalScrolling:Ae}}if(me.affectsConfiguration(M)){const Ae=!!Ne.getValue(M);be={...be,scrollByPage:Ae}}if(me.affectsConfiguration(O)){const Ae=!!Ne.getValue(O);be={...be,smoothScrolling:Ae}}if(me.affectsConfiguration(B)){const Ae=Ne.getValue(B);be={...be,mouseWheelScrollSensitivity:Ae}}if(me.affectsConfiguration(W)){const Ae=Ne.getValue(W);be={...be,fastScrollSensitivity:Ae}}Object.keys(be).length>0&&this.updateOptions(be)})),this.navigator=new le(this,{configurationService:Ne,...Se}),this.disposables.add(this.navigator)}updateOptions(ce){super.updateOptions(ce),ce.overrideStyles!==void 0&&this.updateStyles(ce.overrideStyles),ce.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!ce.multipleSelectionSupport)}updateStyles(ce){this.style(ce?(0,l.getListStyles)(ce):l.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchPagedList=J,e.WorkbenchPagedList=J=De([he(5,o.IContextKeyService),he(6,e.IListService),he(7,i.IConfigurationService),he(8,c.IInstantiationService)],J);let X=class extends D.Table{constructor(ce,fe,ve,Ce,Se,_e,Ie,Ne,Oe,xe){const We=typeof _e.horizontalScrolling<"u"?_e.horizontalScrolling:!!Oe.getValue(I),[ye,Me]=xe.invokeFunction(re,_e);super(ce,fe,ve,Ce,Se,{keyboardSupport:!1,...ye,horizontalScrolling:We}),this.disposables.add(Me),this.contextKeyService=f(Ie,this),this.disposables.add(C(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(_e.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!_e.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=_e.horizontalScrolling,this._useAltAsMultipleSelectionModifier=j(Oe),this.disposables.add(this.contextKeyService),this.disposables.add(Ne.register(this)),this.updateStyles(_e.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const be=this.getSelection(),Ae=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(be.length>0||Ae.length>0),this.listMultiSelection.set(be.length>1),this.listDoubleSelection.set(be.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const be=this.getSelection(),Ae=this.getFocus();this.listHasSelectionOrFocus.set(be.length>0||Ae.length>0)})),this.disposables.add(Oe.onDidChangeConfiguration(be=>{be.affectsConfiguration(_)&&(this._useAltAsMultipleSelectionModifier=j(Oe));let Ae={};if(be.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const Be=!!Oe.getValue(I);Ae={...Ae,horizontalScrolling:Be}}if(be.affectsConfiguration(M)){const Be=!!Oe.getValue(M);Ae={...Ae,scrollByPage:Be}}if(be.affectsConfiguration(O)){const Be=!!Oe.getValue(O);Ae={...Ae,smoothScrolling:Be}}if(be.affectsConfiguration(B)){const Be=Oe.getValue(B);Ae={...Ae,mouseWheelScrollSensitivity:Be}}if(be.affectsConfiguration(W)){const Be=Oe.getValue(W);Ae={...Ae,fastScrollSensitivity:Be}}Object.keys(Ae).length>0&&this.updateOptions(Ae)})),this.navigator=new de(this,{configurationService:Oe,..._e}),this.disposables.add(this.navigator)}updateOptions(ce){super.updateOptions(ce),ce.overrideStyles!==void 0&&this.updateStyles(ce.overrideStyles),ce.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!ce.multipleSelectionSupport)}updateStyles(ce){this.style(ce?(0,l.getListStyles)(ce):l.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchTable=X,e.WorkbenchTable=X=De([he(6,o.IContextKeyService),he(7,e.IListService),he(8,i.IConfigurationService),he(9,c.IInstantiationService)],X);class Y extends a.Disposable{constructor(ce,fe){var ve;super(),this.widget=ce,this._onDidOpen=this._register(new b.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(b.Event.filter(this.widget.onDidChangeSelection,Ce=>(0,L.isKeyboardEvent)(Ce.browserEvent))(Ce=>this.onSelectionFromKeyboard(Ce))),this._register(this.widget.onPointer(Ce=>this.onPointer(Ce.element,Ce.browserEvent))),this._register(this.widget.onMouseDblClick(Ce=>this.onMouseDblClick(Ce.element,Ce.browserEvent))),typeof fe?.openOnSingleClick!="boolean"&&fe?.configurationService?(this.openOnSingleClick=fe?.configurationService.getValue(E)!=="doubleClick",this._register(fe?.configurationService.onDidChangeConfiguration(Ce=>{Ce.affectsConfiguration(E)&&(this.openOnSingleClick=fe?.configurationService.getValue(E)!=="doubleClick")}))):this.openOnSingleClick=(ve=fe?.openOnSingleClick)!==null&&ve!==void 0?ve:!0}onSelectionFromKeyboard(ce){if(ce.elements.length!==1)return;const fe=ce.browserEvent,ve=typeof fe.preserveFocus=="boolean"?fe.preserveFocus:!0,Ce=typeof fe.pinned=="boolean"?fe.pinned:!ve;this._open(this.getSelectedElement(),ve,Ce,!1,ce.browserEvent)}onPointer(ce,fe){if(!this.openOnSingleClick||fe.detail===2)return;const Ce=fe.button===1,Se=!0,_e=Ce,Ie=fe.ctrlKey||fe.metaKey||fe.altKey;this._open(ce,Se,_e,Ie,fe)}onMouseDblClick(ce,fe){if(!fe)return;const ve=fe.target;if(ve.classList.contains("monaco-tl-twistie")||ve.classList.contains("monaco-icon-label")&&ve.classList.contains("folder-icon")&&fe.offsetX<16)return;const Se=!1,_e=!0,Ie=fe.ctrlKey||fe.metaKey||fe.altKey;this._open(ce,Se,_e,Ie,fe)}_open(ce,fe,ve,Ce,Se){ce&&this._onDidOpen.fire({editorOptions:{preserveFocus:fe,pinned:ve,revealIfVisible:!0},sideBySide:Ce,element:ce,browserEvent:Se})}}class le extends Y{constructor(ce,fe){super(ce,fe),this.widget=ce}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class de extends Y{constructor(ce,fe){super(ce,fe)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ge extends Y{constructor(ce,fe){super(ce,fe)}getSelectedElement(){var ce;return(ce=this.widget.getSelection()[0])!==null&&ce!==void 0?ce:void 0}}function pe(ue){let ce=!1;return fe=>{if(fe.toKeyCodeChord().isModifierKey())return!1;if(ce)return ce=!1,!1;const ve=ue.softDispatch(fe,fe.target);return ve.kind===1?(ce=!0,!1):(ce=!1,ve.kind===0)}}let Q=class extends v.ObjectTree{constructor(ce,fe,ve,Ce,Se,_e,Ie,Ne,Oe){const{options:xe,getTypeNavigationMode:We,disposable:ye}=_e.invokeFunction($,Se);super(ce,fe,ve,Ce,xe),this.disposables.add(ye),this.internals=new oe(this,Se,We,Se.overrideStyles,Ie,Ne,Oe),this.disposables.add(this.internals)}updateOptions(ce){super.updateOptions(ce),this.internals.updateOptions(ce)}};e.WorkbenchObjectTree=Q,e.WorkbenchObjectTree=Q=De([he(5,c.IInstantiationService),he(6,o.IContextKeyService),he(7,e.IListService),he(8,i.IConfigurationService)],Q);let U=class extends v.CompressibleObjectTree{constructor(ce,fe,ve,Ce,Se,_e,Ie,Ne,Oe){const{options:xe,getTypeNavigationMode:We,disposable:ye}=_e.invokeFunction($,Se);super(ce,fe,ve,Ce,xe),this.disposables.add(ye),this.internals=new oe(this,Se,We,Se.overrideStyles,Ie,Ne,Oe),this.disposables.add(this.internals)}updateOptions(ce={}){super.updateOptions(ce),ce.overrideStyles&&this.internals.updateStyleOverrides(ce.overrideStyles),this.internals.updateOptions(ce)}};e.WorkbenchCompressibleObjectTree=U,e.WorkbenchCompressibleObjectTree=U=De([he(5,c.IInstantiationService),he(6,o.IContextKeyService),he(7,e.IListService),he(8,i.IConfigurationService)],U);let Z=class extends w.DataTree{constructor(ce,fe,ve,Ce,Se,_e,Ie,Ne,Oe,xe){const{options:We,getTypeNavigationMode:ye,disposable:Me}=Ie.invokeFunction($,_e);super(ce,fe,ve,Ce,Se,We),this.disposables.add(Me),this.internals=new oe(this,_e,ye,_e.overrideStyles,Ne,Oe,xe),this.disposables.add(this.internals)}updateOptions(ce={}){super.updateOptions(ce),ce.overrideStyles!==void 0&&this.internals.updateStyleOverrides(ce.overrideStyles),this.internals.updateOptions(ce)}};e.WorkbenchDataTree=Z,e.WorkbenchDataTree=Z=De([he(6,c.IInstantiationService),he(7,o.IContextKeyService),he(8,e.IListService),he(9,i.IConfigurationService)],Z);let H=class extends p.AsyncDataTree{get onDidOpen(){return this.internals.onDidOpen}constructor(ce,fe,ve,Ce,Se,_e,Ie,Ne,Oe,xe){const{options:We,getTypeNavigationMode:ye,disposable:Me}=Ie.invokeFunction($,_e);super(ce,fe,ve,Ce,Se,We),this.disposables.add(Me),this.internals=new oe(this,_e,ye,_e.overrideStyles,Ne,Oe,xe),this.disposables.add(this.internals)}updateOptions(ce={}){super.updateOptions(ce),ce.overrideStyles&&this.internals.updateStyleOverrides(ce.overrideStyles),this.internals.updateOptions(ce)}};e.WorkbenchAsyncDataTree=H,e.WorkbenchAsyncDataTree=H=De([he(6,c.IInstantiationService),he(7,o.IContextKeyService),he(8,e.IListService),he(9,i.IConfigurationService)],H);let q=class extends p.CompressibleAsyncDataTree{constructor(ce,fe,ve,Ce,Se,_e,Ie,Ne,Oe,xe,We){const{options:ye,getTypeNavigationMode:Me,disposable:me}=Ne.invokeFunction($,Ie);super(ce,fe,ve,Ce,Se,_e,ye),this.disposables.add(me),this.internals=new oe(this,Ie,Me,Ie.overrideStyles,Oe,xe,We),this.disposables.add(this.internals)}updateOptions(ce){super.updateOptions(ce),this.internals.updateOptions(ce)}};e.WorkbenchCompressibleAsyncDataTree=q,e.WorkbenchCompressibleAsyncDataTree=q=De([he(7,c.IInstantiationService),he(8,o.IContextKeyService),he(9,e.IListService),he(10,i.IConfigurationService)],q);function te(ue){const ce=ue.getValue(T);if(ce==="highlight")return S.TreeFindMode.Highlight;if(ce==="filter")return S.TreeFindMode.Filter;const fe=ue.getValue(R);if(fe==="simple"||fe==="highlight")return S.TreeFindMode.Highlight;if(fe==="filter")return S.TreeFindMode.Filter}function G(ue){const ce=ue.getValue(N);if(ce==="fuzzy")return S.TreeFindMatchType.Fuzzy;if(ce==="contiguous")return S.TreeFindMatchType.Contiguous}function $(ue,ce){var fe;const ve=ue.get(i.IConfigurationService),Ce=ue.get(m.IContextViewService),Se=ue.get(o.IContextKeyService),_e=ue.get(c.IInstantiationService),Ie=()=>{const Me=Se.getContextKeyValue(h);if(Me==="automatic")return y.TypeNavigationMode.Automatic;if(Me==="trigger"||Se.getContextKeyValue(u)===!1)return y.TypeNavigationMode.Trigger;const be=ve.getValue(A);if(be==="automatic")return y.TypeNavigationMode.Automatic;if(be==="trigger")return y.TypeNavigationMode.Trigger},Ne=ce.horizontalScrolling!==void 0?ce.horizontalScrolling:!!ve.getValue(I),[Oe,xe]=_e.invokeFunction(re,ce),We=ce.paddingBottom,ye=ce.renderIndentGuides!==void 0?ce.renderIndentGuides:ve.getValue(F);return{getTypeNavigationMode:Ie,disposable:xe,options:{keyboardSupport:!1,...Oe,indent:typeof ve.getValue(P)=="number"?ve.getValue(P):void 0,renderIndentGuides:ye,smoothScrolling:!!ve.getValue(O),defaultFindMode:te(ve),defaultFindMatchType:G(ve),horizontalScrolling:Ne,scrollByPage:!!ve.getValue(M),paddingBottom:We,hideTwistiesOfChildlessElements:ce.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(fe=ce.expandOnlyOnTwistieClick)!==null&&fe!==void 0?fe:ve.getValue(V)==="doubleClick",contextViewProvider:Ce,findWidgetStyles:l.defaultFindWidgetStyles,enableStickyScroll:!!ve.getValue(z),stickyScrollMaxItemCount:Number(ve.getValue(K))}}}let oe=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(ce,fe,ve,Ce,Se,_e,Ie){var Ne;this.tree=ce,this.disposables=[],this.contextKeyService=f(Se,ce),this.disposables.push(C(this.contextKeyService,ce)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(fe.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!fe.selectionNavigation),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Ne=fe.findWidgetEnabled)!==null&&Ne!==void 0?Ne:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this.treeStickyScrollFocused=e.WorkbenchTreeStickyScrollFocused.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=j(Ie),this.updateStyleOverrides(Ce);const xe=()=>{const ye=ce.getFocus()[0];if(!ye)return;const Me=ce.getNode(ye);this.treeElementCanCollapse.set(Me.collapsible&&!Me.collapsed),this.treeElementHasParent.set(!!ce.getParentElement(ye)),this.treeElementCanExpand.set(Me.collapsible&&Me.collapsed),this.treeElementHasChild.set(!!ce.getFirstElementChild(ye))},We=new Set;We.add(h),We.add(u),this.disposables.push(this.contextKeyService,_e.register(ce),ce.onDidChangeSelection(()=>{const ye=ce.getSelection(),Me=ce.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(ye.length>0||Me.length>0),this.hasMultiSelection.set(ye.length>1),this.hasDoubleSelection.set(ye.length===2)})}),ce.onDidChangeFocus(()=>{const ye=ce.getSelection(),Me=ce.getFocus();this.hasSelectionOrFocus.set(ye.length>0||Me.length>0),xe()}),ce.onDidChangeCollapseState(xe),ce.onDidChangeModel(xe),ce.onDidChangeFindOpenState(ye=>this.treeFindOpen.set(ye)),ce.onDidChangeStickyScrollFocused(ye=>this.treeStickyScrollFocused.set(ye)),Ie.onDidChangeConfiguration(ye=>{let Me={};if(ye.affectsConfiguration(_)&&(this._useAltAsMultipleSelectionModifier=j(Ie)),ye.affectsConfiguration(P)){const me=Ie.getValue(P);Me={...Me,indent:me}}if(ye.affectsConfiguration(F)&&fe.renderIndentGuides===void 0){const me=Ie.getValue(F);Me={...Me,renderIndentGuides:me}}if(ye.affectsConfiguration(O)){const me=!!Ie.getValue(O);Me={...Me,smoothScrolling:me}}if(ye.affectsConfiguration(T)||ye.affectsConfiguration(R)){const me=te(Ie);Me={...Me,defaultFindMode:me}}if(ye.affectsConfiguration(A)||ye.affectsConfiguration(R)){const me=ve();Me={...Me,typeNavigationMode:me}}if(ye.affectsConfiguration(N)){const me=G(Ie);Me={...Me,defaultFindMatchType:me}}if(ye.affectsConfiguration(I)&&fe.horizontalScrolling===void 0){const me=!!Ie.getValue(I);Me={...Me,horizontalScrolling:me}}if(ye.affectsConfiguration(M)){const me=!!Ie.getValue(M);Me={...Me,scrollByPage:me}}if(ye.affectsConfiguration(V)&&fe.expandOnlyOnTwistieClick===void 0&&(Me={...Me,expandOnlyOnTwistieClick:Ie.getValue(V)==="doubleClick"}),ye.affectsConfiguration(z)){const me=Ie.getValue(z);Me={...Me,enableStickyScroll:me}}if(ye.affectsConfiguration(K)){const me=Math.max(1,Ie.getValue(K));Me={...Me,stickyScrollMaxItemCount:me}}if(ye.affectsConfiguration(B)){const me=Ie.getValue(B);Me={...Me,mouseWheelScrollSensitivity:me}}if(ye.affectsConfiguration(W)){const me=Ie.getValue(W);Me={...Me,fastScrollSensitivity:me}}Object.keys(Me).length>0&&ce.updateOptions(Me)}),this.contextKeyService.onDidChangeContext(ye=>{ye.affectsSome(We)&&ce.updateOptions({typeNavigationMode:ve()})})),this.navigator=new ge(ce,{configurationService:Ie,...fe}),this.disposables.push(this.navigator)}updateOptions(ce){ce.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!ce.multipleSelectionSupport)}updateStyleOverrides(ce){this.tree.style(ce?(0,l.getListStyles)(ce):l.defaultListStyles)}dispose(){this.disposables=(0,a.dispose)(this.disposables)}};oe=De([he(4,o.IContextKeyService),he(5,e.IListService),he(6,i.IConfigurationService)],oe),s.Registry.as(t.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,n.localize)(0,null),type:"object",properties:{[_]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,n.localize)(1,null),(0,n.localize)(2,null)],default:"ctrlCmd",description:(0,n.localize)(3,null)},[E]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,n.localize)(4,null)},[I]:{type:"boolean",default:!1,description:(0,n.localize)(5,null)},[M]:{type:"boolean",default:!1,description:(0,n.localize)(6,null)},[P]:{type:"number",default:8,minimum:4,maximum:40,description:(0,n.localize)(7,null)},[F]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,n.localize)(8,null)},[O]:{type:"boolean",default:!1,description:(0,n.localize)(9,null)},[B]:{type:"number",default:1,markdownDescription:(0,n.localize)(10,null)},[W]:{type:"number",default:5,markdownDescription:(0,n.localize)(11,null)},[T]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,n.localize)(12,null),(0,n.localize)(13,null)],default:"highlight",description:(0,n.localize)(14,null)},[R]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,n.localize)(15,null),(0,n.localize)(16,null),(0,n.localize)(17,null)],default:"highlight",description:(0,n.localize)(18,null),deprecated:!0,deprecationMessage:(0,n.localize)(19,null)},[N]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,n.localize)(20,null),(0,n.localize)(21,null)],default:"fuzzy",description:(0,n.localize)(22,null)},[V]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,n.localize)(23,null)},[z]:{type:"boolean",default:!0,description:(0,n.localize)(24,null)},[K]:{type:"number",minimum:1,default:7,markdownDescription:(0,n.localize)(25,null)},[A]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:(0,n.localize)(26,null)}}})}),define(ne[82],se([1,0,15,27,29,7,20,22,763,250,37]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var a;(function(s){function l(r,h){let u=r.defaults;for(;y.ThemeIcon.isThemeIcon(u);){const f=t.getIcon(u.id);if(!f)return;u=f.defaults}return u}s.getDefinition=l})(a||(e.IconContribution=a={}));var n;(function(s){function l(h){return{weight:h.weight,style:h.style,src:h.src.map(u=>({format:u.format,location:u.location.toString()}))}}s.toJSONObject=l;function r(h){const u=f=>(0,S.isString)(f)?f:void 0;if(h&&Array.isArray(h.src)&&h.src.every(f=>(0,S.isString)(f.format)&&(0,S.isString)(f.location)))return{weight:u(h.weight),style:u(h.style),src:h.src.map(f=>({format:f.format,location:p.URI.parse(f.location)}))}}s.fromJSONObject=r})(n||(e.IconFontDefinition=n={}));class i{constructor(){this._onDidChange=new D.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,w.localize)(0,null)},fontCharacter:{type:"string",description:(0,w.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${y.ThemeIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(l,r,h,u){const f=this.iconsById[l];if(f){if(h&&!f.description){f.description=h,this.iconSchema.properties[l].markdownDescription=`${h} $(${l})`;const E=this.iconReferenceSchema.enum.indexOf(l);E!==-1&&(this.iconReferenceSchema.enumDescriptions[E]=h),this._onDidChange.fire()}return f}const C={id:l,description:h,defaults:r,deprecationMessage:u};this.iconsById[l]=C;const _={$ref:"#/definitions/icons"};return u&&(_.deprecationMessage=u),h&&(_.markdownDescription=`${h}: $(${l})`),this.iconSchema.properties[l]=_,this.iconReferenceSchema.enum.push(l),this.iconReferenceSchema.enumDescriptions.push(h||""),this._onDidChange.fire(),{id:l}}getIcons(){return Object.keys(this.iconsById).map(l=>this.iconsById[l])}getIcon(l){return this.iconsById[l]}getIconSchema(){return this.iconSchema}toString(){const l=(f,C)=>f.id.localeCompare(C.id),r=f=>{for(;y.ThemeIcon.isThemeIcon(f.defaults);)f=this.iconsById[f.defaults.id];return`codicon codicon-${f?f.id:""}`},h=[];h.push("| preview     | identifier                        | default codicon ID                | description"),h.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const u=Object.keys(this.iconsById).map(f=>this.iconsById[f]);for(const f of u.filter(C=>!!C.description).sort(l))h.push(`|<i class="${r(f)}"></i>|${f.id}|${y.ThemeIcon.isThemeIcon(f.defaults)?f.defaults.id:f.id}|${f.description||""}|`);h.push("| preview     | identifier                        "),h.push("| ----------- | --------------------------------- |");for(const f of u.filter(C=>!y.ThemeIcon.isThemeIcon(C.defaults)).sort(l))h.push(`|<i class="${r(f)}"></i>|${f.id}|`);return h.join(`
`)}}const t=new i;b.Registry.add(e.Extensions.IconContribution,t);function o(s,l,r,h){return t.registerIcon(s,l,r,h)}e.registerIcon=o;function g(){return t}e.getIconRegistry=g;function m(){const s=(0,k.getCodiconFontCharacters)();for(const l in s){const r="\\"+s[l].toString(16);t.registerIcon(l,{fontCharacter:r})}}m(),e.iconsSchemaId="vscode://schemas/icons";const c=b.Registry.as(v.Extensions.JSONContribution);c.registerSchema(e.iconsSchemaId,t.getIconSchema());const d=new L.RunOnceScheduler(()=>c.notifySchemaChanged(e.iconsSchemaId),200);t.onDidChange(()=>{d.isScheduled()||d.schedule()}),e.widgetClose=o("widget-close",k.Codicon.close,(0,w.localize)(2,null)),e.gotoPreviousLocation=o("goto-previous-location",k.Codicon.arrowUp,(0,w.localize)(3,null)),e.gotoNextLocation=o("goto-next-location",k.Codicon.arrowDown,(0,w.localize)(4,null)),e.syncing=y.ThemeIcon.modify(k.Codicon.sync,"spin"),e.spinningLoading=y.ThemeIcon.modify(k.Codicon.loading,"spin")}),define(ne[851],se([1,0,6,95,79,78,42,13,27,2,32,29,74,87,36,64,75,9,5,115,43,97,122,86,632,124,8,82,454]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewerModelFromEditors=e.AccessibleDiffViewer=void 0;const E=(0,_.registerIcon)("diff-review-insert",w.Codicon.add,(0,u.localize)(0,null)),I=(0,_.registerIcon)("diff-review-remove",w.Codicon.remove,(0,u.localize)(1,null)),T=(0,_.registerIcon)("diff-review-close",w.Codicon.close,(0,u.localize)(2,null));let A=class extends v.Disposable{constructor(x,re,ie,J,X,Y,le,de,ge){super(),this._parentNode=x,this._visible=re,this._setVisible=ie,this._canClose=J,this._width=X,this._height=Y,this._diffs=le,this._models=de,this._instantiationService=ge,this._state=(0,b.derivedWithStore)(this,(pe,Q)=>{const U=this._visible.read(pe);if(this._parentNode.style.visibility=U?"visible":"hidden",!U)return null;const Z=Q.add(this._instantiationService.createInstance(R,this._diffs,this._models,this._setVisible,this._canClose)),H=Q.add(this._instantiationService.createInstance(z,this._parentNode,Z,this._width,this._height,this._models));return{model:Z,view:H}}).recomputeInitiallyAndOnChange(this._store)}next(){(0,b.transaction)(x=>{const re=this._visible.get();this._setVisible(!0,x),re&&this._state.get().model.nextGroup(x)})}prev(){(0,b.transaction)(x=>{this._setVisible(!0,x),this._state.get().model.previousGroup(x)})}close(){(0,b.transaction)(x=>{this._setVisible(!1,x)})}};e.AccessibleDiffViewer=A,A._ttPolicy=(0,k.createTrustedTypesPolicy)("diffReview",{createHTML:j=>j}),e.AccessibleDiffViewer=A=De([he(8,C.IInstantiationService)],A);let R=class extends v.Disposable{constructor(x,re,ie,J,X){super(),this._diffs=x,this._models=re,this._setVisible=ie,this.canClose=J,this._accessibilitySignalService=X,this._groups=(0,b.observableValue)(this,[]),this._currentGroupIdx=(0,b.observableValue)(this,0),this._currentElementIdx=(0,b.observableValue)(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((Y,le)=>this._groups.read(le)[Y]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((Y,le)=>{var de;return(de=this.currentGroup.read(le))===null||de===void 0?void 0:de.lines[Y]}),this._register((0,b.autorun)(Y=>{const le=this._diffs.read(Y);if(!le){this._groups.set([],void 0);return}const de=N(le,this._models.getOriginalModel().getLineCount(),this._models.getModifiedModel().getLineCount());(0,b.transaction)(ge=>{const pe=this._models.getModifiedPosition();if(pe){const Q=de.findIndex(U=>pe?.lineNumber<U.range.modified.endLineNumberExclusive);Q!==-1&&this._currentGroupIdx.set(Q,ge)}this._groups.set(de,ge)})})),this._register((0,b.autorun)(Y=>{const le=this.currentElement.read(Y);le?.type===P.Deleted?this._accessibilitySignalService.playSignal(f.AccessibilitySignal.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):le?.type===P.Added&&this._accessibilitySignalService.playSignal(f.AccessibilitySignal.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,b.autorun)(Y=>{var le;const de=this.currentElement.read(Y);if(de&&de.type!==P.Header){const ge=(le=de.modifiedLineNumber)!==null&&le!==void 0?le:de.diff.modified.startLineNumber;this._models.modifiedSetSelection(c.Range.fromPositions(new m.Position(ge,1)))}}))}_goToGroupDelta(x,re){const ie=this.groups.get();!ie||ie.length<=1||(0,b.subtransaction)(re,J=>{this._currentGroupIdx.set(g.OffsetRange.ofLength(ie.length).clipCyclic(this._currentGroupIdx.get()+x),J),this._currentElementIdx.set(0,J)})}nextGroup(x){this._goToGroupDelta(1,x)}previousGroup(x){this._goToGroupDelta(-1,x)}_goToLineDelta(x){const re=this.currentGroup.get();!re||re.lines.length<=1||(0,b.transaction)(ie=>{this._currentElementIdx.set(g.OffsetRange.ofLength(re.lines.length).clip(this._currentElementIdx.get()+x),ie)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(x){const re=this.currentGroup.get();if(!re)return;const ie=re.lines.indexOf(x);ie!==-1&&(0,b.transaction)(J=>{this._currentElementIdx.set(ie,J)})}revealCurrentElementInEditor(){if(!this.canClose.get())return;this._setVisible(!1,void 0);const x=this.currentElement.get();x&&(x.type===P.Deleted?this._models.originalReveal(c.Range.fromPositions(new m.Position(x.originalLineNumber,1))):this._models.modifiedReveal(x.type!==P.Header?c.Range.fromPositions(new m.Position(x.modifiedLineNumber,1)):void 0))}close(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())}};R=De([he(4,f.IAccessibilitySignalService)],R);const M=3;function N(j,x,re){const ie=[];for(const J of(0,p.groupAdjacentBy)(j,(X,Y)=>Y.modified.startLineNumber-X.modified.endLineNumberExclusive<2*M)){const X=[];X.push(new O);const Y=new o.LineRange(Math.max(1,J[0].original.startLineNumber-M),Math.min(J[J.length-1].original.endLineNumberExclusive+M,x+1)),le=new o.LineRange(Math.max(1,J[0].modified.startLineNumber-M),Math.min(J[J.length-1].modified.endLineNumberExclusive+M,re+1));(0,p.forEachAdjacent)(J,(pe,Q)=>{const U=new o.LineRange(pe?pe.original.endLineNumberExclusive:Y.startLineNumber,Q?Q.original.startLineNumber:Y.endLineNumberExclusive),Z=new o.LineRange(pe?pe.modified.endLineNumberExclusive:le.startLineNumber,Q?Q.modified.startLineNumber:le.endLineNumberExclusive);U.forEach(H=>{X.push(new V(H,Z.startLineNumber+(H-U.startLineNumber)))}),Q&&(Q.original.forEach(H=>{X.push(new B(Q,H))}),Q.modified.forEach(H=>{X.push(new W(Q,H))}))});const de=J[0].modified.join(J[J.length-1].modified),ge=J[0].original.join(J[J.length-1].original);ie.push(new F(new d.LineRangeMapping(de,ge),X))}return ie}var P;(function(j){j[j.Header=0]="Header",j[j.Unchanged=1]="Unchanged",j[j.Deleted=2]="Deleted",j[j.Added=3]="Added"})(P||(P={}));class F{constructor(x,re){this.range=x,this.lines=re}}class O{constructor(){this.type=P.Header}}class B{constructor(x,re){this.diff=x,this.originalLineNumber=re,this.type=P.Deleted,this.modifiedLineNumber=void 0}}class W{constructor(x,re){this.diff=x,this.modifiedLineNumber=re,this.type=P.Added,this.originalLineNumber=void 0}}class V{constructor(x,re){this.originalLineNumber=x,this.modifiedLineNumber=re,this.type=P.Unchanged}}let z=class extends v.Disposable{constructor(x,re,ie,J,X,Y){super(),this._element=x,this._model=re,this._width=ie,this._height=J,this._models=X,this._languageService=Y,this.domNode=this._element,this.domNode.className="monaco-component diff-review monaco-editor-background";const le=document.createElement("div");le.className="diff-review-actions",this._actionBar=this._register(new y.ActionBar(le)),this._register((0,b.autorun)(de=>{this._actionBar.clear(),this._model.canClose.read(de)&&this._actionBar.push(new S.Action("diffreview.close",(0,u.localize)(3,null),"close-diff-review "+a.ThemeIcon.asClassName(T),!0,async()=>re.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new D.DomScrollableElement(this._content,{})),(0,L.reset)(this.domNode,this._scrollbar.getDomNode(),le),this._register((0,b.autorun)(de=>{this._height.read(de),this._width.read(de),this._scrollbar.scanDomNode()})),this._register((0,v.toDisposable)(()=>{(0,L.reset)(this.domNode)})),this._register((0,i.applyStyle)(this.domNode,{width:this._width,height:this._height})),this._register((0,i.applyStyle)(this._content,{width:this._width,height:this._height})),this._register((0,b.autorunWithStore)((de,ge)=>{this._model.currentGroup.read(de),this._render(ge)})),this._register((0,L.addStandardDisposableListener)(this.domNode,"keydown",de=>{(de.equals(18)||de.equals(2066)||de.equals(530))&&(de.preventDefault(),this._model.goToNextLine()),(de.equals(16)||de.equals(2064)||de.equals(528))&&(de.preventDefault(),this._model.goToPreviousLine()),(de.equals(9)||de.equals(2057)||de.equals(521)||de.equals(1033))&&(de.preventDefault(),this._model.close()),(de.equals(10)||de.equals(3))&&(de.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(x){const re=this._models.getOriginalOptions(),ie=this._models.getModifiedOptions(),J=document.createElement("div");J.className="diff-review-table",J.setAttribute("role","list"),J.setAttribute("aria-label",(0,u.localize)(4,null)),(0,n.applyFontInfo)(J,ie.get(50)),(0,L.reset)(this._content,J);const X=this._models.getOriginalModel(),Y=this._models.getModifiedModel();if(!X||!Y)return;const le=X.getOptions(),de=Y.getOptions(),ge=ie.get(67),pe=this._model.currentGroup.get();for(const Q of pe?.lines||[]){if(!pe)break;let U;if(Q.type===P.Header){const H=document.createElement("div");H.className="diff-review-row",H.setAttribute("role","listitem");const q=pe.range,te=this._model.currentGroupIndex.get(),G=this._model.groups.get().length,$=ce=>ce===0?(0,u.localize)(5,null):ce===1?(0,u.localize)(6,null):(0,u.localize)(7,null,ce),oe=$(q.original.length),ae=$(q.modified.length);H.setAttribute("aria-label",(0,u.localize)(8,null,te+1,G,q.original.startLineNumber,oe,q.modified.startLineNumber,ae));const ue=document.createElement("div");ue.className="diff-review-cell diff-review-summary",ue.appendChild(document.createTextNode(`${te+1}/${G}: @@ -${q.original.startLineNumber},${q.original.length} +${q.modified.startLineNumber},${q.modified.length} @@`)),H.appendChild(ue),U=H}else U=this._createRow(Q,ge,this._width.get(),re,X,le,ie,Y,de);J.appendChild(U);const Z=(0,b.derived)(H=>this._model.currentElement.read(H)===Q);x.add((0,b.autorun)(H=>{const q=Z.read(H);U.tabIndex=q?0:-1,q&&U.focus()})),x.add((0,L.addDisposableListener)(U,"focus",()=>{this._model.goToLine(Q)}))}this._scrollbar.scanDomNode()}_createRow(x,re,ie,J,X,Y,le,de,ge){const pe=J.get(144),Q=pe.glyphMarginWidth+pe.lineNumbersWidth,U=le.get(144),Z=10+U.glyphMarginWidth+U.lineNumbersWidth;let H="diff-review-row",q="";const te="diff-review-spacer";let G=null;switch(x.type){case P.Added:H="diff-review-row line-insert",q=" char-insert",G=E;break;case P.Deleted:H="diff-review-row line-delete",q=" char-delete",G=I;break}const $=document.createElement("div");$.style.minWidth=ie+"px",$.className=H,$.setAttribute("role","listitem"),$.ariaLevel="";const oe=document.createElement("div");oe.className="diff-review-cell",oe.style.height=`${re}px`,$.appendChild(oe);const ae=document.createElement("span");ae.style.width=Q+"px",ae.style.minWidth=Q+"px",ae.className="diff-review-line-number"+q,x.originalLineNumber!==void 0?ae.appendChild(document.createTextNode(String(x.originalLineNumber))):ae.innerText="\xA0",oe.appendChild(ae);const ue=document.createElement("span");ue.style.width=Z+"px",ue.style.minWidth=Z+"px",ue.style.paddingRight="10px",ue.className="diff-review-line-number"+q,x.modifiedLineNumber!==void 0?ue.appendChild(document.createTextNode(String(x.modifiedLineNumber))):ue.innerText="\xA0",oe.appendChild(ue);const ce=document.createElement("span");if(ce.className=te,G){const Ce=document.createElement("span");Ce.className=a.ThemeIcon.asClassName(G),Ce.innerText="\xA0\xA0",ce.appendChild(Ce)}else ce.innerText="\xA0\xA0";oe.appendChild(ce);let fe;if(x.modifiedLineNumber!==void 0){let Ce=this._getLineHtml(de,le,ge.tabSize,x.modifiedLineNumber,this._languageService.languageIdCodec);A._ttPolicy&&(Ce=A._ttPolicy.createHTML(Ce)),oe.insertAdjacentHTML("beforeend",Ce),fe=de.getLineContent(x.modifiedLineNumber)}else{let Ce=this._getLineHtml(X,J,Y.tabSize,x.originalLineNumber,this._languageService.languageIdCodec);A._ttPolicy&&(Ce=A._ttPolicy.createHTML(Ce)),oe.insertAdjacentHTML("beforeend",Ce),fe=X.getLineContent(x.originalLineNumber)}fe.length===0&&(fe=(0,u.localize)(9,null));let ve="";switch(x.type){case P.Unchanged:x.originalLineNumber===x.modifiedLineNumber?ve=(0,u.localize)(10,null,fe,x.originalLineNumber):ve=(0,u.localize)(11,null,fe,x.originalLineNumber,x.modifiedLineNumber);break;case P.Added:ve=(0,u.localize)(12,null,fe,x.modifiedLineNumber);break;case P.Deleted:ve=(0,u.localize)(13,null,fe,x.originalLineNumber);break}return $.setAttribute("aria-label",ve),$}_getLineHtml(x,re,ie,J,X){const Y=x.getLineContent(J),le=re.get(50),de=l.LineTokens.createEmpty(Y,X),ge=h.ViewLineRenderingData.isBasicASCII(Y,x.mightContainNonBasicASCII()),pe=h.ViewLineRenderingData.containsRTL(Y,ge,x.mightContainRTL());return(0,r.renderViewLine2)(new r.RenderLineInput(le.isMonospace&&!re.get(33),le.canUseHalfwidthRightwardsArrow,Y,!1,ge,pe,0,de,[],ie,0,le.spaceWidth,le.middotWidth,le.wsmiddotWidth,re.get(117),re.get(99),re.get(94),re.get(51)!==t.EditorFontLigatures.OFF,null)).html}};z=De([he(5,s.ILanguageService)],z);class K{constructor(x){this.editors=x}getOriginalModel(){return this.editors.original.getModel()}getOriginalOptions(){return this.editors.original.getOptions()}originalReveal(x){this.editors.original.revealRange(x),this.editors.original.setSelection(x),this.editors.original.focus()}getModifiedModel(){return this.editors.modified.getModel()}getModifiedOptions(){return this.editors.modified.getOptions()}modifiedReveal(x){x&&(this.editors.modified.revealRange(x),this.editors.modified.setSelection(x)),this.editors.modified.focus()}modifiedSetSelection(x){this.editors.modified.setSelection(x)}modifiedFocus(){this.editors.modified.focus()}getModifiedPosition(){var x;return(x=this.editors.modified.getPosition())!==null&&x!==void 0?x:void 0}}e.AccessibleDiffViewerModelFromEditors=K}),define(ne[852],se([1,0,230,6,159,77,27,39,7,2,29,671,31,82,207]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.InsertButton=e.ColorPickerBody=e.ColorPickerHeader=void 0;const t=k.$;class o extends v.Disposable{constructor(f,C,_,E=!1){super(),this.model=C,this.showingStandaloneColorPicker=E,this._closeButton=null,this._domNode=t(".colorpicker-header"),k.append(f,this._domNode),this._pickedColorNode=k.append(this._domNode,t(".picked-color")),k.append(this._pickedColorNode,t("span.codicon.codicon-color-mode")),this._pickedColorPresentation=k.append(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const I=(0,a.localize)(0,null);this._pickedColorNode.setAttribute("title",I),this._originalColorNode=k.append(this._domNode,t(".original-color")),this._originalColorNode.style.backgroundColor=p.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=_.getColorTheme().getColor(n.editorHoverBackground)||p.Color.white,this._register(_.onDidColorThemeChange(T=>{this.backgroundColor=T.getColor(n.editorHoverBackground)||p.Color.white})),this._register(k.addDisposableListener(this._pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(this._originalColorNode,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(C.onDidChangeColor(this.onDidChangeColor,this)),this._register(C.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=p.Color.Format.CSS.format(C.color)||"",this._pickedColorNode.classList.toggle("light",C.color.rgba.a<.5?this.backgroundColor.isLighter():C.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new g(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(f){this._pickedColorNode.style.backgroundColor=p.Color.Format.CSS.format(f)||"",this._pickedColorNode.classList.toggle("light",f.rgba.a<.5?this.backgroundColor.isLighter():f.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=o;class g extends v.Disposable{constructor(f){super(),this._onClicked=this._register(new w.Emitter),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),k.append(f,this._button);const C=document.createElement("div");C.classList.add("close-button-inner-div"),k.append(this._button,C),k.append(C,t(".button"+b.ThemeIcon.asCSSSelector((0,i.registerIcon)("color-picker-close",S.Codicon.close,(0,a.localize)(1,null))))).classList.add("close-icon"),this._register(k.addDisposableListener(this._button,k.EventType.CLICK,()=>{this._onClicked.fire()}))}}class m extends v.Disposable{constructor(f,C,_,E=!1){super(),this.model=C,this.pixelRatio=_,this._insertButton=null,this._domNode=t(".colorpicker-body"),k.append(f,this._domNode),this._saturationBox=new c(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new s(this._domNode,this.model,E),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new l(this._domNode,this.model,E),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),E&&(this._insertButton=this._register(new r(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:f,v:C}){const _=this.model.color.hsva;this.model.color=new p.Color(new p.HSVA(_.h,f,C,_.a))}onDidOpacityChange(f){const C=this.model.color.hsva;this.model.color=new p.Color(new p.HSVA(C.h,C.s,C.v,f))}onDidHueChange(f){const C=this.model.color.hsva,_=(1-f)*360;this.model.color=new p.Color(new p.HSVA(_===360?0:_,C.s,C.v,C.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}e.ColorPickerBody=m;class c extends v.Disposable{constructor(f,C,_){super(),this.model=C,this.pixelRatio=_,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._domNode=t(".saturation-wrap"),k.append(f,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",k.append(this._domNode,this._canvas),this.selection=t(".saturation-selection"),k.append(this._domNode,this.selection),this.layout(),this._register(k.addDisposableListener(this._domNode,k.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(f){if(!f.target||!(f.target instanceof Element))return;this.monitor=this._register(new y.GlobalPointerMoveMonitor);const C=k.getDomNodePagePosition(this._domNode);f.target!==this.selection&&this.onDidChangePosition(f.offsetX,f.offsetY),this.monitor.startMonitoring(f.target,f.pointerId,f.buttons,E=>this.onDidChangePosition(E.pageX-C.left,E.pageY-C.top),()=>null);const _=k.addDisposableListener(f.target.ownerDocument,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),_.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(f,C){const _=Math.max(0,Math.min(1,f/this.width)),E=Math.max(0,Math.min(1,1-C/this.height));this.paintSelection(_,E),this._onDidChange.fire({s:_,v:E})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const f=this.model.color.hsva;this.paintSelection(f.s,f.v)}paint(){const f=this.model.color.hsva,C=new p.Color(new p.HSVA(f.h,1,1,1)),_=this._canvas.getContext("2d"),E=_.createLinearGradient(0,0,this._canvas.width,0);E.addColorStop(0,"rgba(255, 255, 255, 1)"),E.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),E.addColorStop(1,"rgba(255, 255, 255, 0)");const I=_.createLinearGradient(0,0,0,this._canvas.height);I.addColorStop(0,"rgba(0, 0, 0, 0)"),I.addColorStop(1,"rgba(0, 0, 0, 1)"),_.rect(0,0,this._canvas.width,this._canvas.height),_.fillStyle=p.Color.Format.CSS.format(C),_.fill(),_.fillStyle=E,_.fill(),_.fillStyle=I,_.fill()}paintSelection(f,C){this.selection.style.left=`${f*this.width}px`,this.selection.style.top=`${this.height-C*this.height}px`}onDidChangeColor(f){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const C=f.hsva;this.paintSelection(C.s,C.v)}}class d extends v.Disposable{constructor(f,C,_=!1){super(),this.model=C,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,_?(this.domNode=k.append(f,t(".standalone-strip")),this.overlay=k.append(this.domNode,t(".standalone-overlay"))):(this.domNode=k.append(f,t(".strip")),this.overlay=k.append(this.domNode,t(".overlay"))),this.slider=k.append(this.domNode,t(".slider")),this.slider.style.top="0px",this._register(k.addDisposableListener(this.domNode,k.EventType.POINTER_DOWN,E=>this.onPointerDown(E))),this._register(C.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const f=this.getValue(this.model.color);this.updateSliderPosition(f)}onDidChangeColor(f){const C=this.getValue(f);this.updateSliderPosition(C)}onPointerDown(f){if(!f.target||!(f.target instanceof Element))return;const C=this._register(new y.GlobalPointerMoveMonitor),_=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),f.target!==this.slider&&this.onDidChangeTop(f.offsetY),C.startMonitoring(f.target,f.pointerId,f.buttons,I=>this.onDidChangeTop(I.pageY-_.top),()=>null);const E=k.addDisposableListener(f.target.ownerDocument,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),E.dispose(),C.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(f){const C=Math.max(0,Math.min(1,1-f/this.height));this.updateSliderPosition(C),this._onDidChange.fire(C)}updateSliderPosition(f){this.slider.style.top=`${(1-f)*this.height}px`}}class s extends d{constructor(f,C,_=!1){super(f,C,_),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(f){super.onDidChangeColor(f);const{r:C,g:_,b:E}=f.rgba,I=new p.Color(new p.RGBA(C,_,E,1)),T=new p.Color(new p.RGBA(C,_,E,0));this.overlay.style.background=`linear-gradient(to bottom, ${I} 0%, ${T} 100%)`}getValue(f){return f.hsva.a}}class l extends d{constructor(f,C,_=!1){super(f,C,_),this.domNode.classList.add("hue-strip")}getValue(f){return 1-f.hsva.h/360}}class r extends v.Disposable{constructor(f){super(),this._onClicked=this._register(new w.Emitter),this.onClicked=this._onClicked.event,this._button=k.append(f,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(k.addDisposableListener(this._button,k.EventType.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}}e.InsertButton=r;class h extends D.Widget{constructor(f,C,_,E,I=!1){super(),this.model=C,this.pixelRatio=_,this._register(L.PixelRatio.getInstance(k.getWindow(f)).onDidChange(()=>this.layout()));const T=t(".colorpicker-widget");f.appendChild(T),this.header=this._register(new o(T,this.model,E,I)),this.body=this._register(new m(T,this.model,this.pixelRatio,I))}layout(){this.body.layout()}}e.ColorPickerWidget=h}),define(ne[853],se([1,0,6,44,78,27,7,2,11,20,43,108,247,715,14,57,31,82,29,482]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const s=L.$,l=(0,m.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,i.localize(0,null)),r=(0,m.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,i.localize(1,null));let h=d=class extends p.Disposable{constructor(f,C,_,E,I){super(),this.editor=f,this.model=C,this.renderDisposeables=this._register(new p.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new a.MarkdownRenderer({editor:f},I,E)),this.keyVisible=n.Context.Visible.bindTo(_),this.keyMultipleSignatures=n.Context.MultipleSignatures.bindTo(_)}createParameterHintDOMNodes(){const f=s(".editor-widget.parameter-hints-widget"),C=L.append(f,s(".phwrapper"));C.tabIndex=-1;const _=L.append(C,s(".controls")),E=L.append(_,s(".button"+c.ThemeIcon.asCSSSelector(r))),I=L.append(_,s(".overloads")),T=L.append(_,s(".button"+c.ThemeIcon.asCSSSelector(l)));this._register(L.addDisposableListener(E,"click",F=>{L.EventHelper.stop(F),this.previous()})),this._register(L.addDisposableListener(T,"click",F=>{L.EventHelper.stop(F),this.next()}));const A=s(".body"),R=new y.DomScrollableElement(A,{alwaysConsumeMouseWheel:!0});this._register(R),C.appendChild(R.getDomNode());const M=L.append(A,s(".signature")),N=L.append(A,s(".docs"));f.style.userSelect="text",this.domNodes={element:f,signature:M,overloads:I,docs:N,scrollbar:R},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(F=>{this.visible&&this.editor.layoutContentWidget(this)}));const P=()=>{if(!this.domNodes)return;const F=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${F.fontSize}px`,this.domNodes.element.style.lineHeight=`${F.lineHeight/F.fontSize}`};P(),this._register(S.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor),F=>F.filter(O=>O.hasChanged(50)))(P)),this._register(this.editor.onDidLayoutChange(F=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var f;(f=this.domNodes)===null||f===void 0||f.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var f;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(f=this.domNodes)===null||f===void 0||f.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(f){var C;if(this.renderDisposeables.clear(),!this.domNodes)return;const _=f.signatures.length>1;this.domNodes.element.classList.toggle("multiple",_),this.keyMultipleSignatures.set(_),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const E=f.signatures[f.activeSignature];if(!E)return;const I=L.append(this.domNodes.signature,s(".code")),T=this.editor.getOption(50);I.style.fontSize=`${T.fontSize}px`,I.style.fontFamily=T.fontFamily;const A=E.parameters.length>0,R=(C=E.activeParameter)!==null&&C!==void 0?C:f.activeParameter;if(A)this.renderParameters(I,E,R);else{const P=L.append(I,s("span"));P.textContent=E.label}const M=E.parameters[R];if(M?.documentation){const P=s("span.documentation");if(typeof M.documentation=="string")P.textContent=M.documentation;else{const F=this.renderMarkdownDocs(M.documentation);P.appendChild(F.element)}L.append(this.domNodes.docs,s("p",{},P))}if(E.documentation!==void 0)if(typeof E.documentation=="string")L.append(this.domNodes.docs,s("p",{},E.documentation));else{const P=this.renderMarkdownDocs(E.documentation);L.append(this.domNodes.docs,P.element)}const N=this.hasDocs(E,M);if(this.domNodes.signature.classList.toggle("has-docs",N),this.domNodes.docs.classList.toggle("empty",!N),this.domNodes.overloads.textContent=String(f.activeSignature+1).padStart(f.signatures.length.toString().length,"0")+"/"+f.signatures.length,M){let P="";const F=E.parameters[R];Array.isArray(F.label)?P=E.label.substring(F.label[0],F.label[1]):P=F.label,F.documentation&&(P+=typeof F.documentation=="string"?`, ${F.documentation}`:`, ${F.documentation.value}`),E.documentation&&(P+=typeof E.documentation=="string"?`, ${E.documentation}`:`, ${E.documentation.value}`),this.announcedLabel!==P&&(k.alert(i.localize(2,null,P)),this.announcedLabel=P)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(f){const C=this.renderDisposeables.add(this.markdownRenderer.render(f,{asyncRenderCallback:()=>{var _;(_=this.domNodes)===null||_===void 0||_.scrollbar.scanDomNode()}}));return C.element.classList.add("markdown-docs"),C}hasDocs(f,C){return!!(C&&typeof C.documentation=="string"&&(0,v.assertIsDefined)(C.documentation).length>0||C&&typeof C.documentation=="object"&&(0,v.assertIsDefined)(C.documentation).value.length>0||f.documentation&&typeof f.documentation=="string"&&(0,v.assertIsDefined)(f.documentation).length>0||f.documentation&&typeof f.documentation=="object"&&(0,v.assertIsDefined)(f.documentation.value).length>0)}renderParameters(f,C,_){const[E,I]=this.getParameterLabelOffsets(C,_),T=document.createElement("span");T.textContent=C.label.substring(0,E);const A=document.createElement("span");A.textContent=C.label.substring(E,I),A.className="parameter active";const R=document.createElement("span");R.textContent=C.label.substring(I),L.append(f,T,A,R)}getParameterLabelOffsets(f,C){const _=f.parameters[C];if(_){if(Array.isArray(_.label))return _.label;if(_.label.length){const E=new RegExp(`(\\W|^)${(0,w.escapeRegExpCharacters)(_.label)}(?=\\W|$)`,"g");E.test(f.label);const I=E.lastIndex-_.label.length;return I>=0?[I,E.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return d.ID}updateMaxHeight(){if(!this.domNodes)return;const C=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=C;const _=this.domNodes.element.getElementsByClassName("phwrapper");_.length&&(_[0].style.maxHeight=C)}};e.ParameterHintsWidget=h,h.ID="editor.widget.parameterHintsWidget",e.ParameterHintsWidget=h=d=De([he(2,t.IContextKeyService),he(3,o.IOpenerService),he(4,b.ILanguageService)],h),(0,g.registerColor)("editorHoverWidget.highlightForeground",{dark:g.listHighlightForeground,light:g.listHighlightForeground,hcDark:g.listHighlightForeground,hcLight:g.listHighlightForeground},i.localize(3,null))}),define(ne[854],se([1,0,96,2,16,21,30,18,778,247,714,14,8,853]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=e.ParameterHintsController=void 0;let o=t=class extends k.Disposable{static get(s){return s.getContribution(t.ID)}constructor(s,l,r){super(),this.editor=s,this.model=this._register(new w.ParameterHintsModel(s,r.signatureHelpProvider)),this._register(this.model.onChangedHints(h=>{var u;h?(this.widget.value.show(),this.widget.value.render(h)):(u=this.widget.rawValue)===null||u===void 0||u.hide()})),this.widget=new L.Lazy(()=>this._register(l.createInstance(i.ParameterHintsWidget,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var s;(s=this.widget.rawValue)===null||s===void 0||s.previous()}next(){var s;(s=this.widget.rawValue)===null||s===void 0||s.next()}trigger(s){this.model.trigger(s,0)}};e.ParameterHintsController=o,o.ID="editor.controller.parameterHints",e.ParameterHintsController=o=t=De([he(1,n.IInstantiationService),he(2,p.ILanguageFeaturesService)],o);class g extends y.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:b.localize(0,null),alias:"Trigger Parameter Hints",precondition:D.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(s,l){const r=o.get(l);r?.trigger({triggerKind:S.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=g,(0,y.registerEditorContribution)(o.ID,o,2),(0,y.registerEditorAction)(g);const m=175,c=y.EditorCommand.bindToContribution(o.get);(0,y.registerEditorCommand)(new c({id:"closeParameterHints",precondition:v.Context.Visible,handler:d=>d.cancel(),kbOpts:{weight:m,kbExpr:D.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,y.registerEditorCommand)(new c({id:"showPrevParameterHint",precondition:a.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSignatures),handler:d=>d.previous(),kbOpts:{weight:m,kbExpr:D.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,y.registerEditorCommand)(new c({id:"showNextParameterHint",precondition:a.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSignatures),handler:d=>d.next(),kbOpts:{weight:m,kbExpr:D.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(ne[855],se([1,0,6,79,42,2,108,8,796,82,29,489]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const a=26;let n=class extends D.Disposable{constructor(o,g){super(),this._editor=o,this.instantiationService=g,this.banner=this._register(this.instantiationService.createInstance(i))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(o){this.banner.show({...o,onClose:()=>{var g;this.hide(),(g=o.onClose)===null||g===void 0||g.call(o)}}),this._editor.setBanner(this.banner.element,a)}};e.BannerController=n,e.BannerController=n=De([he(1,p.IInstantiationService)],n);let i=class extends D.Disposable{constructor(o){super(),this.instantiationService=o,this.markdownRenderer=this.instantiationService.createInstance(S.MarkdownRenderer,{}),this.element=(0,L.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(o){if(o.ariaLabel)return o.ariaLabel;if(typeof o.message=="string")return o.message}getBannerMessage(o){if(typeof o=="string"){const g=(0,L.$)("span");return g.innerText=o,g}return this.markdownRenderer.render(o).element}clear(){(0,L.clearNode)(this.element)}show(o){(0,L.clearNode)(this.element);const g=this.getAriaLabel(o);g&&this.element.setAttribute("aria-label",g);const m=(0,L.append)(this.element,(0,L.$)("div.icon-container"));m.setAttribute("aria-hidden","true"),o.icon&&m.appendChild((0,L.$)(`div${b.ThemeIcon.asCSSSelector(o.icon)}`));const c=(0,L.append)(this.element,(0,L.$)("div.message-container"));if(c.setAttribute("aria-hidden","true"),c.appendChild(this.getBannerMessage(o.message)),this.messageActionsContainer=(0,L.append)(this.element,(0,L.$)("div.message-actions-container")),o.actions)for(const s of o.actions)this._register(this.instantiationService.createInstance(w.Link,this.messageActionsContainer,{...s,tabIndex:-1},{}));const d=(0,L.append)(this.element,(0,L.$)("div.action-container"));this.actionBar=this._register(new k.ActionBar(d)),this.actionBar.push(this._register(new y.Action("banner.close","Close Banner",b.ThemeIcon.asClassName(v.widgetClose),!0,()=>{typeof o.onClose=="function"&&o.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};i=De([he(0,p.IInstantiationService)],i)}),define(ne[856],se([1,0,6,7,2,29,82]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function p(v){const b=new y.DisposableStore,a=b.add(new k.Emitter),n=(0,S.getIconRegistry)();return b.add(n.onDidChange(()=>a.fire())),v&&b.add(v.onDidProductIconThemeChange(()=>a.fire())),{dispose:()=>b.dispose(),onDidChange:a.event,getCSS(){const i=v?v.getProductIconTheme():new w,t={},o=m=>{const c=i.getIcon(m);if(!c)return;const d=c.font;return d?(t[d.id]=d.definition,`.codicon-${m.id}:before { content: '${c.fontCharacter}'; font-family: ${(0,L.asCSSPropertyValue)(d.id)}; }`):`.codicon-${m.id}:before { content: '${c.fontCharacter}'; }`},g=[];for(const m of n.getIcons()){const c=o(m);c&&g.push(c)}for(const m in t){const c=t[m],d=c.weight?`font-weight: ${c.weight};`:"",s=c.style?`font-style: ${c.style};`:"",l=c.src.map(r=>`${(0,L.asCSSUrl)(r.location)} format('${r.format}')`).join(", ");g.push(`@font-face { src: ${l}; font-family: ${(0,L.asCSSPropertyValue)(m)};${d}${s} font-display: block; }`)}return g.join(`
`)}}}e.getIconsStyleSheet=p;class w{getIcon(b){const a=(0,S.getIconRegistry)();let n=b.defaults;for(;D.ThemeIcon.isThemeIcon(n);){const i=a.getIcon(n.id);if(!i)return;n=i.defaults}return n}}e.UnthemedProductIconTheme=w}),define(ne[89],se([1,0]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDark=e.isHighContrast=e.ColorScheme=void 0;var L;(function(D){D.DARK="dark",D.LIGHT="light",D.HIGH_CONTRAST_DARK="hcDark",D.HIGH_CONTRAST_LIGHT="hcLight"})(L||(e.ColorScheme=L={}));function k(D){return D===L.HIGH_CONTRAST_DARK||D===L.HIGH_CONTRAST_LIGHT}e.isHighContrast=k;function y(D){return D===L.DARK||D===L.HIGH_CONTRAST_DARK}e.isDark=y}),define(ne[260],se([1,0,59,41,17,503,152,139,122,89,36]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColumnOfNodeOffset=e.ViewLine=e.ViewLineOptions=void 0;const a=function(){return y.isNative?!0:!(y.isLinux||L.isFirefox||L.isSafari)}();let n=!0;class i{constructor(h,u){this.themeType=u;const f=h.options,C=f.get(50);f.get(38)==="off"?this.renderWhitespace=f.get(99):this.renderWhitespace="none",this.renderControlCharacters=f.get(94),this.spaceWidth=C.spaceWidth,this.middotWidth=C.middotWidth,this.wsmiddotWidth=C.wsmiddotWidth,this.useMonospaceOptimizations=C.isMonospace&&!f.get(33),this.canUseHalfwidthRightwardsArrow=C.canUseHalfwidthRightwardsArrow,this.lineHeight=f.get(67),this.stopRenderingLineAfter=f.get(117),this.fontLigatures=f.get(51)}equals(h){return this.themeType===h.themeType&&this.renderWhitespace===h.renderWhitespace&&this.renderControlCharacters===h.renderControlCharacters&&this.spaceWidth===h.spaceWidth&&this.middotWidth===h.middotWidth&&this.wsmiddotWidth===h.wsmiddotWidth&&this.useMonospaceOptimizations===h.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===h.canUseHalfwidthRightwardsArrow&&this.lineHeight===h.lineHeight&&this.stopRenderingLineAfter===h.stopRenderingLineAfter&&this.fontLigatures===h.fontLigatures}}e.ViewLineOptions=i;class t{constructor(h){this._options=h,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(h){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,k.createFastDomNode)(h);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(h){this._isMaybeInvalid=!0,this._options=h}onSelectionChanged(){return(0,v.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(h,u,f,C){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const _=f.getViewLineRenderingData(h),E=this._options,I=p.LineDecoration.filter(_.inlineDecorations,h,_.minColumn,_.maxColumn);let T=null;if((0,v.isHighContrast)(E.themeType)||this._options.renderWhitespace==="selection"){const N=f.selections;for(const P of N){if(P.endLineNumber<h||P.startLineNumber>h)continue;const F=P.startLineNumber===h?P.startColumn:_.minColumn,O=P.endLineNumber===h?P.endColumn:_.maxColumn;F<O&&((0,v.isHighContrast)(E.themeType)&&I.push(new p.LineDecoration(F,O,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(T||(T=[]),T.push(new w.LineRange(F-1,O-1))))}}const A=new w.RenderLineInput(E.useMonospaceOptimizations,E.canUseHalfwidthRightwardsArrow,_.content,_.continuesWithWrappedLine,_.isBasicASCII,_.containsRTL,_.minColumn-1,_.tokens,I,_.tabSize,_.startVisibleColumn,E.spaceWidth,E.middotWidth,E.wsmiddotWidth,E.stopRenderingLineAfter,E.renderWhitespace,E.renderControlCharacters,E.fontLigatures!==b.EditorFontLigatures.OFF,T);if(this._renderedViewLine&&this._renderedViewLine.input.equals(A))return!1;C.appendString('<div style="top:'),C.appendString(String(u)),C.appendString("px;height:"),C.appendString(String(this._options.lineHeight)),C.appendString('px;" class="'),C.appendString(t.CLASS_NAME),C.appendString('">');const R=(0,w.renderViewLine)(A,C);C.appendString("</div>");let M=null;return n&&a&&_.isBasicASCII&&E.useMonospaceOptimizations&&R.containsForeignElements===0&&(M=new o(this._renderedViewLine?this._renderedViewLine.domNode:null,A,R.characterMapping)),M||(M=c(this._renderedViewLine?this._renderedViewLine.domNode:null,A,R.characterMapping,R.containsRTL,R.containsForeignElements)),this._renderedViewLine=M,!0}layoutLine(h,u){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(u),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(h){return this._renderedViewLine?this._renderedViewLine.getWidth(h):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof o:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof o?this._renderedViewLine.monospaceAssumptionsAreValid():n}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof o&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(h,u,f,C){if(!this._renderedViewLine)return null;u=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,u)),f=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,f));const _=this._renderedViewLine.input.stopRenderingLineAfter;if(_!==-1&&u>_+1&&f>_+1)return new S.VisibleRanges(!0,[new S.FloatHorizontalRange(this.getWidth(C),0)]);_!==-1&&u>_+1&&(u=_+1),_!==-1&&f>_+1&&(f=_+1);const E=this._renderedViewLine.getVisibleRangesForRange(h,u,f,C);return E&&E.length>0?new S.VisibleRanges(!1,E):null}getColumnOfNodeOffset(h,u){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(h,u):1}}e.ViewLine=t,t.CLASS_NAME="view-line";class o{constructor(h,u,f){this._cachedWidth=-1,this.domNode=h,this.input=u;const C=Math.floor(u.lineContent.length/300);if(C>0){this._keyColumnPixelOffsetCache=new Float32Array(C);for(let _=0;_<C;_++)this._keyColumnPixelOffsetCache[_]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=f,this._charWidth=u.spaceWidth}getWidth(h){if(!this.domNode||this.input.lineContent.length<300){const u=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*u)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,h?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return n;if(this.input.lineContent.length<300){const h=this.getWidth(null),u=this.domNode.domNode.firstChild.offsetWidth;Math.abs(h-u)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),n=!1)}return n}toSlowRenderedLine(){return c(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(h,u,f,C){const _=this._getColumnPixelOffset(h,u,C),E=this._getColumnPixelOffset(h,f,C);return[new S.FloatHorizontalRange(_,E-_)]}_getColumnPixelOffset(h,u,f){if(u<=300){const A=this._characterMapping.getHorizontalOffset(u);return this._charWidth*A}const C=Math.floor((u-1)/300)-1,_=(C+1)*300+1;let E=-1;if(this._keyColumnPixelOffsetCache&&(E=this._keyColumnPixelOffsetCache[C],E===-1&&(E=this._actualReadPixelOffset(h,_,f),this._keyColumnPixelOffsetCache[C]=E)),E===-1){const A=this._characterMapping.getHorizontalOffset(u);return this._charWidth*A}const I=this._characterMapping.getHorizontalOffset(_),T=this._characterMapping.getHorizontalOffset(u);return E+this._charWidth*(T-I)}_getReadingTarget(h){return h.domNode.firstChild}_actualReadPixelOffset(h,u,f){if(!this.domNode)return-1;const C=this._characterMapping.getDomPosition(u),_=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(this.domNode),C.partIndex,C.charIndex,C.partIndex,C.charIndex,f);return!_||_.length===0?-1:_[0].left}getColumnOfNodeOffset(h,u){return l(this._characterMapping,h,u)}}class g{constructor(h,u,f,C,_){if(this.domNode=h,this.input=u,this._characterMapping=f,this._isWhitespaceOnly=/^\s*$/.test(u.lineContent),this._containsForeignElements=_,this._cachedWidth=-1,this._pixelOffsetCache=null,!C||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let E=0,I=this._characterMapping.length;E<=I;E++)this._pixelOffsetCache[E]=-1}}_getReadingTarget(h){return h.domNode.firstChild}getWidth(h){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,h?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(h,u,f,C){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const _=this._readPixelOffset(this.domNode,h,u,C);if(_===-1)return null;const E=this._readPixelOffset(this.domNode,h,f,C);return E===-1?null:[new S.FloatHorizontalRange(_,E-_)]}return this._readVisibleRangesForRange(this.domNode,h,u,f,C)}_readVisibleRangesForRange(h,u,f,C,_){if(f===C){const E=this._readPixelOffset(h,u,f,_);return E===-1?null:[new S.FloatHorizontalRange(E,0)]}else return this._readRawVisibleRangesForRange(h,f,C,_)}_readPixelOffset(h,u,f,C){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(C);const _=this._getReadingTarget(h);return _.firstChild?(C.markDidDomLayout(),_.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const _=this._pixelOffsetCache[f];if(_!==-1)return _;const E=this._actualReadPixelOffset(h,u,f,C);return this._pixelOffsetCache[f]=E,E}return this._actualReadPixelOffset(h,u,f,C)}_actualReadPixelOffset(h,u,f,C){if(this._characterMapping.length===0){const T=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(h),0,0,0,0,C);return!T||T.length===0?-1:T[0].left}if(f===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(C);const _=this._characterMapping.getDomPosition(f),E=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(h),_.partIndex,_.charIndex,_.partIndex,_.charIndex,C);if(!E||E.length===0)return-1;const I=E[0].left;if(this.input.isBasicASCII){const T=this._characterMapping.getHorizontalOffset(f),A=Math.round(this.input.spaceWidth*T);if(Math.abs(A-I)<=1)return A}return I}_readRawVisibleRangesForRange(h,u,f,C){if(u===1&&f===this._characterMapping.length)return[new S.FloatHorizontalRange(0,this.getWidth(C))];const _=this._characterMapping.getDomPosition(u),E=this._characterMapping.getDomPosition(f);return D.RangeUtil.readHorizontalRanges(this._getReadingTarget(h),_.partIndex,_.charIndex,E.partIndex,E.charIndex,C)}getColumnOfNodeOffset(h,u){return l(this._characterMapping,h,u)}}class m extends g{_readVisibleRangesForRange(h,u,f,C,_){const E=super._readVisibleRangesForRange(h,u,f,C,_);if(!E||E.length===0||f===C||f===1&&C===this._characterMapping.length)return E;if(!this.input.containsRTL){const I=this._readPixelOffset(h,u,C,_);if(I!==-1){const T=E[E.length-1];T.left<I&&(T.width=I-T.left)}}return E}}const c=function(){return L.isWebKit?d:s}();function d(r,h,u,f,C){return new m(r,h,u,f,C)}function s(r,h,u,f,C){return new g(r,h,u,f,C)}function l(r,h,u){const f=h.textContent.length;let C=-1;for(;h;)h=h.previousSibling,C++;return r.getColumn(new w.DomPosition(C,u),f)}e.getColumnOfNodeOffset=l}),define(ne[372],se([1,0,169,55,260,9,5,85,6,290]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class b{constructor(f=null){this.hitTarget=f,this.type=0}}class a{constructor(f,C,_){this.position=f,this.spanNode=C,this.injectedText=_,this.type=1}}var n;(function(u){function f(C,_,E){const I=C.getPositionFromDOMInfo(_,E);return I?new a(I,_,null):new b(_)}u.createFromDOMInfo=f})(n||(n={}));class i{constructor(f,C){this.lastViewCursorsRenderData=f,this.lastTextareaPosition=C}}e.PointerHandlerLastRenderData=i;class t{static _deduceRage(f,C=null){return!C&&f?new S.Range(f.lineNumber,f.column,f.lineNumber,f.column):C??null}static createUnknown(f,C,_){return{type:0,element:f,mouseColumn:C,position:_,range:this._deduceRage(_)}}static createTextarea(f,C){return{type:1,element:f,mouseColumn:C,position:null,range:null}}static createMargin(f,C,_,E,I,T){return{type:f,element:C,mouseColumn:_,position:E,range:I,detail:T}}static createViewZone(f,C,_,E,I){return{type:f,element:C,mouseColumn:_,position:E,range:this._deduceRage(E),detail:I}}static createContentText(f,C,_,E,I){return{type:6,element:f,mouseColumn:C,position:_,range:this._deduceRage(_,E),detail:I}}static createContentEmpty(f,C,_,E){return{type:7,element:f,mouseColumn:C,position:_,range:this._deduceRage(_),detail:E}}static createContentWidget(f,C,_){return{type:9,element:f,mouseColumn:C,position:null,range:null,detail:_}}static createScrollbar(f,C,_){return{type:11,element:f,mouseColumn:C,position:_,range:this._deduceRage(_)}}static createOverlayWidget(f,C,_){return{type:12,element:f,mouseColumn:C,position:null,range:null,detail:_}}static createOutsideEditor(f,C,_,E){return{type:13,element:null,mouseColumn:f,position:C,range:this._deduceRage(C),outsidePosition:_,outsideDistance:E}}static _typeToString(f){return f===1?"TEXTAREA":f===2?"GUTTER_GLYPH_MARGIN":f===3?"GUTTER_LINE_NUMBERS":f===4?"GUTTER_LINE_DECORATIONS":f===5?"GUTTER_VIEW_ZONE":f===6?"CONTENT_TEXT":f===7?"CONTENT_EMPTY":f===8?"CONTENT_VIEW_ZONE":f===9?"CONTENT_WIDGET":f===10?"OVERVIEW_RULER":f===11?"SCROLLBAR":f===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(f){return this._typeToString(f.type)+": "+f.position+" - "+f.range+" - "+JSON.stringify(f.detail)}}e.MouseTarget=t;class o{static isTextArea(f){return f.length===2&&f[0]===3&&f[1]===7}static isChildOfViewLines(f){return f.length>=4&&f[0]===3&&f[3]===8}static isStrictChildOfViewLines(f){return f.length>4&&f[0]===3&&f[3]===8}static isChildOfScrollableElement(f){return f.length>=2&&f[0]===3&&f[1]===6}static isChildOfMinimap(f){return f.length>=2&&f[0]===3&&f[1]===9}static isChildOfContentWidgets(f){return f.length>=4&&f[0]===3&&f[3]===1}static isChildOfOverflowGuard(f){return f.length>=1&&f[0]===3}static isChildOfOverflowingContentWidgets(f){return f.length>=1&&f[0]===2}static isChildOfOverlayWidgets(f){return f.length>=2&&f[0]===3&&f[1]===4}static isChildOfOverflowingOverlayWidgets(f){return f.length>=1&&f[0]===5}}class g{constructor(f,C,_){this.viewModel=f.viewModel;const E=f.configuration.options;this.layoutInfo=E.get(144),this.viewDomNode=C.viewDomNode,this.lineHeight=E.get(67),this.stickyTabStops=E.get(116),this.typicalHalfwidthCharacterWidth=E.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=_,this._context=f,this._viewHelper=C}getZoneAtCoord(f){return g.getZoneAtCoord(this._context,f)}static getZoneAtCoord(f,C){const _=f.viewLayout.getWhitespaceAtVerticalOffset(C);if(_){const E=_.verticalOffset+_.height/2,I=f.viewModel.getLineCount();let T=null,A,R=null;return _.afterLineNumber!==I&&(R=new D.Position(_.afterLineNumber+1,1)),_.afterLineNumber>0&&(T=new D.Position(_.afterLineNumber,f.viewModel.getLineMaxColumn(_.afterLineNumber))),R===null?A=T:T===null?A=R:C<E?A=T:A=R,{viewZoneId:_.id,afterLineNumber:_.afterLineNumber,positionBefore:T,positionAfter:R,position:A}}return null}getFullLineRangeAtCoord(f){if(this._context.viewLayout.isAfterLines(f)){const E=this._context.viewModel.getLineCount(),I=this._context.viewModel.getLineMaxColumn(E);return{range:new S.Range(E,I,E,I),isAfterLines:!0}}const C=this._context.viewLayout.getLineNumberAtVerticalOffset(f),_=this._context.viewModel.getLineMaxColumn(C);return{range:new S.Range(C,1,C,_),isAfterLines:!1}}getLineNumberAtVerticalOffset(f){return this._context.viewLayout.getLineNumberAtVerticalOffset(f)}isAfterLines(f){return this._context.viewLayout.isAfterLines(f)}isInTopPadding(f){return this._context.viewLayout.isInTopPadding(f)}isInBottomPadding(f){return this._context.viewLayout.isInBottomPadding(f)}getVerticalOffsetForLineNumber(f){return this._context.viewLayout.getVerticalOffsetForLineNumber(f)}findAttribute(f,C){return g._findAttribute(f,C,this._viewHelper.viewDomNode)}static _findAttribute(f,C,_){for(;f&&f!==f.ownerDocument.body;){if(f.hasAttribute&&f.hasAttribute(C))return f.getAttribute(C);if(f===_)return null;f=f.parentNode}return null}getLineWidth(f){return this._viewHelper.getLineWidth(f)}visibleRangeForPosition(f,C){return this._viewHelper.visibleRangeForPosition(f,C)}getPositionFromDOMInfo(f,C){return this._viewHelper.getPositionFromDOMInfo(f,C)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=g;class m{constructor(f,C,_,E){this.editorPos=C,this.pos=_,this.relativePos=E,this.mouseVerticalOffset=Math.max(0,f.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=f.getCurrentScrollLeft()+this.relativePos.x-f.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<f.layoutInfo.contentLeft&&this.relativePos.x>=f.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,l._getMouseColumn(this.mouseContentHorizontalOffset,f.typicalHalfwidthCharacterWidth))}}class c extends m{constructor(f,C,_,E,I){super(f,C,_,E),this._ctx=f,I?(this.target=I,this.targetPath=k.PartFingerprints.collect(I,f.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(f=null){return f&&f.column<this._ctx.viewModel.getLineMaxColumn(f.lineNumber)?p.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(f.lineNumber),f.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(f=null){return t.createUnknown(this.target,this._getMouseColumn(f),f)}fulfillTextarea(){return t.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(f,C,_,E){return t.createMargin(f,this.target,this._getMouseColumn(C),C,_,E)}fulfillViewZone(f,C,_){return t.createViewZone(f,this.target,this._getMouseColumn(C),C,_)}fulfillContentText(f,C,_){return t.createContentText(this.target,this._getMouseColumn(f),f,C,_)}fulfillContentEmpty(f,C){return t.createContentEmpty(this.target,this._getMouseColumn(f),f,C)}fulfillContentWidget(f){return t.createContentWidget(this.target,this._getMouseColumn(),f)}fulfillScrollbar(f){return t.createScrollbar(this.target,this._getMouseColumn(f),f)}fulfillOverlayWidget(f){return t.createOverlayWidget(this.target,this._getMouseColumn(),f)}withTarget(f){return new c(this._ctx,this.editorPos,this.pos,this.relativePos,f)}}const d={isAfterLines:!0};function s(u){return{isAfterLines:!1,horizontalDistanceToText:u}}class l{constructor(f,C){this._context=f,this._viewHelper=C}mouseTargetIsWidget(f){const C=f.target,_=k.PartFingerprints.collect(C,this._viewHelper.viewDomNode);return!!(o.isChildOfContentWidgets(_)||o.isChildOfOverflowingContentWidgets(_)||o.isChildOfOverlayWidgets(_)||o.isChildOfOverflowingOverlayWidgets(_))}createMouseTarget(f,C,_,E,I){const T=new g(this._context,this._viewHelper,f),A=new c(T,C,_,E,I);try{const R=l._createMouseTarget(T,A,!1);if(R.type===6&&T.stickyTabStops&&R.position!==null){const M=l._snapToSoftTabBoundary(R.position,T.viewModel),N=S.Range.fromPositions(M,M).plusRange(R.range);return A.fulfillContentText(M,N,R.detail)}return R}catch{return A.fulfillUnknown()}}static _createMouseTarget(f,C,_){if(C.target===null){if(_)return C.fulfillUnknown();const T=l._doHitTest(f,C);return T.type===1?l.createMouseTargetFromHitTestPosition(f,C,T.spanNode,T.position,T.injectedText):this._createMouseTarget(f,C.withTarget(T.hitTarget),!0)}const E=C;let I=null;return!o.isChildOfOverflowGuard(C.targetPath)&&!o.isChildOfOverflowingContentWidgets(C.targetPath)&&!o.isChildOfOverflowingOverlayWidgets(C.targetPath)&&(I=I||C.fulfillUnknown()),I=I||l._hitTestContentWidget(f,E),I=I||l._hitTestOverlayWidget(f,E),I=I||l._hitTestMinimap(f,E),I=I||l._hitTestScrollbarSlider(f,E),I=I||l._hitTestViewZone(f,E),I=I||l._hitTestMargin(f,E),I=I||l._hitTestViewCursor(f,E),I=I||l._hitTestTextArea(f,E),I=I||l._hitTestViewLines(f,E,_),I=I||l._hitTestScrollbar(f,E),I||C.fulfillUnknown()}static _hitTestContentWidget(f,C){if(o.isChildOfContentWidgets(C.targetPath)||o.isChildOfOverflowingContentWidgets(C.targetPath)){const _=f.findAttribute(C.target,"widgetId");return _?C.fulfillContentWidget(_):C.fulfillUnknown()}return null}static _hitTestOverlayWidget(f,C){if(o.isChildOfOverlayWidgets(C.targetPath)||o.isChildOfOverflowingOverlayWidgets(C.targetPath)){const _=f.findAttribute(C.target,"widgetId");return _?C.fulfillOverlayWidget(_):C.fulfillUnknown()}return null}static _hitTestViewCursor(f,C){if(C.target){const _=f.lastRenderData.lastViewCursorsRenderData;for(const E of _)if(C.target===E.domNode)return C.fulfillContentText(E.position,null,{mightBeForeignElement:!1,injectedText:null})}if(C.isInContentArea){const _=f.lastRenderData.lastViewCursorsRenderData,E=C.mouseContentHorizontalOffset,I=C.mouseVerticalOffset;for(const T of _){if(E<T.contentLeft||E>T.contentLeft+T.width)continue;const A=f.getVerticalOffsetForLineNumber(T.position.lineNumber);if(A<=I&&I<=A+T.height)return C.fulfillContentText(T.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(f,C){const _=f.getZoneAtCoord(C.mouseVerticalOffset);if(_){const E=C.isInContentArea?8:5;return C.fulfillViewZone(E,_.position,_)}return null}static _hitTestTextArea(f,C){return o.isTextArea(C.targetPath)?f.lastRenderData.lastTextareaPosition?C.fulfillContentText(f.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):C.fulfillTextarea():null}static _hitTestMargin(f,C){if(C.isInMarginArea){const _=f.getFullLineRangeAtCoord(C.mouseVerticalOffset),E=_.range.getStartPosition();let I=Math.abs(C.relativePos.x);const T={isAfterLines:_.isAfterLines,glyphMarginLeft:f.layoutInfo.glyphMarginLeft,glyphMarginWidth:f.layoutInfo.glyphMarginWidth,lineNumbersWidth:f.layoutInfo.lineNumbersWidth,offsetX:I};if(I-=f.layoutInfo.glyphMarginLeft,I<=f.layoutInfo.glyphMarginWidth){const A=f.viewModel.coordinatesConverter.convertViewPositionToModelPosition(_.range.getStartPosition()),R=f.viewModel.glyphLanes.getLanesAtLine(A.lineNumber);return T.glyphMarginLane=R[Math.floor(I/f.lineHeight)],C.fulfillMargin(2,E,_.range,T)}return I-=f.layoutInfo.glyphMarginWidth,I<=f.layoutInfo.lineNumbersWidth?C.fulfillMargin(3,E,_.range,T):(I-=f.layoutInfo.lineNumbersWidth,C.fulfillMargin(4,E,_.range,T))}return null}static _hitTestViewLines(f,C,_){if(!o.isChildOfViewLines(C.targetPath))return null;if(f.isInTopPadding(C.mouseVerticalOffset))return C.fulfillContentEmpty(new D.Position(1,1),d);if(f.isAfterLines(C.mouseVerticalOffset)||f.isInBottomPadding(C.mouseVerticalOffset)){const I=f.viewModel.getLineCount(),T=f.viewModel.getLineMaxColumn(I);return C.fulfillContentEmpty(new D.Position(I,T),d)}if(_){if(o.isStrictChildOfViewLines(C.targetPath)){const I=f.getLineNumberAtVerticalOffset(C.mouseVerticalOffset);if(f.viewModel.getLineLength(I)===0){const A=f.getLineWidth(I),R=s(C.mouseContentHorizontalOffset-A);return C.fulfillContentEmpty(new D.Position(I,1),R)}const T=f.getLineWidth(I);if(C.mouseContentHorizontalOffset>=T){const A=s(C.mouseContentHorizontalOffset-T),R=new D.Position(I,f.viewModel.getLineMaxColumn(I));return C.fulfillContentEmpty(R,A)}}return C.fulfillUnknown()}const E=l._doHitTest(f,C);return E.type===1?l.createMouseTargetFromHitTestPosition(f,C,E.spanNode,E.position,E.injectedText):this._createMouseTarget(f,C.withTarget(E.hitTarget),!0)}static _hitTestMinimap(f,C){if(o.isChildOfMinimap(C.targetPath)){const _=f.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),E=f.viewModel.getLineMaxColumn(_);return C.fulfillScrollbar(new D.Position(_,E))}return null}static _hitTestScrollbarSlider(f,C){if(o.isChildOfScrollableElement(C.targetPath)&&C.target&&C.target.nodeType===1){const _=C.target.className;if(_&&/\b(slider|scrollbar)\b/.test(_)){const E=f.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),I=f.viewModel.getLineMaxColumn(E);return C.fulfillScrollbar(new D.Position(E,I))}}return null}static _hitTestScrollbar(f,C){if(o.isChildOfScrollableElement(C.targetPath)){const _=f.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),E=f.viewModel.getLineMaxColumn(_);return C.fulfillScrollbar(new D.Position(_,E))}return null}getMouseColumn(f){const C=this._context.configuration.options,_=C.get(144),E=this._context.viewLayout.getCurrentScrollLeft()+f.x-_.contentLeft;return l._getMouseColumn(E,C.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(f,C){return f<0?1:Math.round(f/C)+1}static createMouseTargetFromHitTestPosition(f,C,_,E,I){const T=E.lineNumber,A=E.column,R=f.getLineWidth(T);if(C.mouseContentHorizontalOffset>R){const z=s(C.mouseContentHorizontalOffset-R);return C.fulfillContentEmpty(E,z)}const M=f.visibleRangeForPosition(T,A);if(!M)return C.fulfillUnknown(E);const N=M.left;if(Math.abs(C.mouseContentHorizontalOffset-N)<1)return C.fulfillContentText(E,null,{mightBeForeignElement:!!I,injectedText:I});const P=[];if(P.push({offset:M.left,column:A}),A>1){const z=f.visibleRangeForPosition(T,A-1);z&&P.push({offset:z.left,column:A-1})}const F=f.viewModel.getLineMaxColumn(T);if(A<F){const z=f.visibleRangeForPosition(T,A+1);z&&P.push({offset:z.left,column:A+1})}P.sort((z,K)=>z.offset-K.offset);const O=C.pos.toClientCoordinates(w.getWindow(f.viewDomNode)),B=_.getBoundingClientRect(),W=B.left<=O.clientX&&O.clientX<=B.right;let V=null;for(let z=1;z<P.length;z++){const K=P[z-1],j=P[z];if(K.offset<=C.mouseContentHorizontalOffset&&C.mouseContentHorizontalOffset<=j.offset){V=new S.Range(T,K.column,T,j.column);const x=Math.abs(K.offset-C.mouseContentHorizontalOffset),re=Math.abs(j.offset-C.mouseContentHorizontalOffset);E=x<re?new D.Position(T,K.column):new D.Position(T,j.column);break}}return C.fulfillContentText(E,V,{mightBeForeignElement:!W||!!I,injectedText:I})}static _doHitTestWithCaretRangeFromPoint(f,C){const _=f.getLineNumberAtVerticalOffset(C.mouseVerticalOffset),E=f.getVerticalOffsetForLineNumber(_),I=E+f.lineHeight;if(!(_===f.viewModel.getLineCount()&&C.mouseVerticalOffset>I)){const A=Math.floor((E+I)/2);let R=C.pos.y+(A-C.mouseVerticalOffset);R<=C.editorPos.y&&(R=C.editorPos.y+1),R>=C.editorPos.y+C.editorPos.height&&(R=C.editorPos.y+C.editorPos.height-1);const M=new L.PageCoordinates(C.pos.x,R),N=this._actualDoHitTestWithCaretRangeFromPoint(f,M.toClientCoordinates(w.getWindow(f.viewDomNode)));if(N.type===1)return N}return this._actualDoHitTestWithCaretRangeFromPoint(f,C.pos.toClientCoordinates(w.getWindow(f.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(f,C){const _=w.getShadowRoot(f.viewDomNode);let E;if(_?typeof _.caretRangeFromPoint>"u"?E=r(_,C.clientX,C.clientY):E=_.caretRangeFromPoint(C.clientX,C.clientY):E=f.viewDomNode.ownerDocument.caretRangeFromPoint(C.clientX,C.clientY),!E||!E.startContainer)return new b;const I=E.startContainer;if(I.nodeType===I.TEXT_NODE){const T=I.parentNode,A=T?T.parentNode:null,R=A?A.parentNode:null;return(R&&R.nodeType===R.ELEMENT_NODE?R.className:null)===y.ViewLine.CLASS_NAME?n.createFromDOMInfo(f,T,E.startOffset):new b(I.parentNode)}else if(I.nodeType===I.ELEMENT_NODE){const T=I.parentNode,A=T?T.parentNode:null;return(A&&A.nodeType===A.ELEMENT_NODE?A.className:null)===y.ViewLine.CLASS_NAME?n.createFromDOMInfo(f,I,I.textContent.length):new b(I)}return new b}static _doHitTestWithCaretPositionFromPoint(f,C){const _=f.viewDomNode.ownerDocument.caretPositionFromPoint(C.clientX,C.clientY);if(_.offsetNode.nodeType===_.offsetNode.TEXT_NODE){const E=_.offsetNode.parentNode,I=E?E.parentNode:null,T=I?I.parentNode:null;return(T&&T.nodeType===T.ELEMENT_NODE?T.className:null)===y.ViewLine.CLASS_NAME?n.createFromDOMInfo(f,_.offsetNode.parentNode,_.offset):new b(_.offsetNode.parentNode)}if(_.offsetNode.nodeType===_.offsetNode.ELEMENT_NODE){const E=_.offsetNode.parentNode,I=E&&E.nodeType===E.ELEMENT_NODE?E.className:null,T=E?E.parentNode:null,A=T&&T.nodeType===T.ELEMENT_NODE?T.className:null;if(I===y.ViewLine.CLASS_NAME){const R=_.offsetNode.childNodes[Math.min(_.offset,_.offsetNode.childNodes.length-1)];if(R)return n.createFromDOMInfo(f,R,0)}else if(A===y.ViewLine.CLASS_NAME)return n.createFromDOMInfo(f,_.offsetNode,0)}return new b(_.offsetNode)}static _snapToSoftTabBoundary(f,C){const _=C.getLineContent(f.lineNumber),{tabSize:E}=C.model.getOptions(),I=v.AtomicTabMoveOperations.atomicPosition(_,f.column-1,E,2);return I!==-1?new D.Position(f.lineNumber,I+1):f}static _doHitTest(f,C){let _=new b;if(typeof f.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?_=this._doHitTestWithCaretRangeFromPoint(f,C):f.viewDomNode.ownerDocument.caretPositionFromPoint&&(_=this._doHitTestWithCaretPositionFromPoint(f,C.pos.toClientCoordinates(w.getWindow(f.viewDomNode)))),_.type===1){const E=f.viewModel.getInjectedTextAt(_.position),I=f.viewModel.normalizePosition(_.position,2);(E||!I.equals(_.position))&&(_=new a(I,_.spanNode,E))}return _}}e.MouseTargetFactory=l;function r(u,f,C){const _=document.createRange();let E=u.elementFromPoint(f,C);if(E!==null){for(;E&&E.firstChild&&E.firstChild.nodeType!==E.firstChild.TEXT_NODE&&E.lastChild&&E.lastChild.firstChild;)E=E.lastChild;const I=E.getBoundingClientRect(),T=w.getWindow(E),A=T.getComputedStyle(E,null).getPropertyValue("font-style"),R=T.getComputedStyle(E,null).getPropertyValue("font-variant"),M=T.getComputedStyle(E,null).getPropertyValue("font-weight"),N=T.getComputedStyle(E,null).getPropertyValue("font-size"),P=T.getComputedStyle(E,null).getPropertyValue("line-height"),F=T.getComputedStyle(E,null).getPropertyValue("font-family"),O=`${A} ${R} ${M} ${N}/${P} ${F}`,B=E.innerText;let W=I.left,V=0,z;if(f>I.left+I.width)V=B.length;else{const K=h.getInstance();for(let j=0;j<B.length+1;j++){if(z=K.getCharWidth(B.charAt(j),O)/2,W+=z,f<W){V=j;break}W+=z}}_.setStart(E.firstChild,V),_.setEnd(E.firstChild,V)}return _}class h{static getInstance(){return h._INSTANCE||(h._INSTANCE=new h),h._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(f,C){const _=f+C;if(this._cache[_])return this._cache[_];const E=this._canvas.getContext("2d");E.font=C;const T=E.measureText(f).width;return this._cache[_]=T,T}}h._INSTANCE=null}),define(ne[857],se([1,0,6,69,2,17,372,169,153,9,23,158,78]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class i extends a.ViewEventHandler{constructor(d,s,l){super(),this._mouseLeaveMonitor=null,this._context=d,this.viewController=s,this.viewHelper=l,this.mouseTargetFactory=new S.MouseTargetFactory(this._context,l),this._mouseDownOperation=this._register(new t(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(u,f)=>this._createMouseTarget(u,f),u=>this._getMouseColumn(u))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(144).height;const r=new p.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(r.onContextMenu(this.viewHelper.viewDomNode,u=>this._onContextMenu(u,!0))),this._register(r.onMouseMove(this.viewHelper.viewDomNode,u=>{this._onMouseMove(u),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=L.addDisposableListener(this.viewHelper.viewDomNode.ownerDocument,"mousemove",f=>{this.viewHelper.viewDomNode.contains(f.target)||this._onMouseLeave(new p.EditorMouseEvent(f,!1,this.viewHelper.viewDomNode))}))})),this._register(r.onMouseUp(this.viewHelper.viewDomNode,u=>this._onMouseUp(u))),this._register(r.onMouseLeave(this.viewHelper.viewDomNode,u=>this._onMouseLeave(u)));let h=0;this._register(r.onPointerDown(this.viewHelper.viewDomNode,(u,f)=>{h=f})),this._register(L.addDisposableListener(this.viewHelper.viewDomNode,L.EventType.POINTER_UP,u=>{this._mouseDownOperation.onPointerUp()})),this._register(r.onMouseDown(this.viewHelper.viewDomNode,u=>this._onMouseDown(u,h))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const d=n.MouseWheelClassifier.INSTANCE;let s=0,l=w.EditorZoom.getZoomLevel(),r=!1,h=0;const u=C=>{if(this.viewController.emitMouseWheel(C),!this._context.configuration.options.get(76))return;const _=new k.StandardWheelEvent(C);if(d.acceptStandardWheelEvent(_),d.isPhysicalMouseWheel()){if(f(C)){const E=w.EditorZoom.getZoomLevel(),I=_.deltaY>0?1:-1;w.EditorZoom.setZoomLevel(E+I),_.preventDefault(),_.stopPropagation()}}else Date.now()-s>50&&(l=w.EditorZoom.getZoomLevel(),r=f(C),h=0),s=Date.now(),h+=_.deltaY,r&&(w.EditorZoom.setZoomLevel(l+h/5),_.preventDefault(),_.stopPropagation())};this._register(L.addDisposableListener(this.viewHelper.viewDomNode,L.EventType.MOUSE_WHEEL,u,{capture:!0,passive:!1}));function f(C){return D.isMacintosh?(C.metaKey||C.ctrlKey)&&!C.shiftKey&&!C.altKey:C.ctrlKey&&!C.metaKey&&!C.shiftKey&&!C.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(d){if(d.hasChanged(144)){const s=this._context.configuration.options.get(144).height;this._height!==s&&(this._height=s,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(d){return this._mouseDownOperation.onCursorStateChanged(d),!1}onFocusChanged(d){return!1}getTargetAtClientPoint(d,s){const r=new p.ClientCoordinates(d,s).toPageCoordinates(L.getWindow(this.viewHelper.viewDomNode)),h=(0,p.createEditorPagePosition)(this.viewHelper.viewDomNode);if(r.y<h.y||r.y>h.y+h.height||r.x<h.x||r.x>h.x+h.width)return null;const u=(0,p.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,h,r);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),h,r,u,null)}_createMouseTarget(d,s){let l=d.target;if(!this.viewHelper.viewDomNode.contains(l)){const r=L.getShadowRoot(this.viewHelper.viewDomNode);r&&(l=r.elementsFromPoint(d.posx,d.posy).find(h=>this.viewHelper.viewDomNode.contains(h)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),d.editorPos,d.pos,d.relativePos,s?l:null)}_getMouseColumn(d){return this.mouseTargetFactory.getMouseColumn(d.relativePos)}_onContextMenu(d,s){this.viewController.emitContextMenu({event:d,target:this._createMouseTarget(d,s)})}_onMouseMove(d){this.mouseTargetFactory.mouseTargetIsWidget(d)||d.preventDefault(),!(this._mouseDownOperation.isActive()||d.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:d,target:this._createMouseTarget(d,!0)})}_onMouseLeave(d){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:d,target:null})}_onMouseUp(d){this.viewController.emitMouseUp({event:d,target:this._createMouseTarget(d,!0)})}_onMouseDown(d,s){const l=this._createMouseTarget(d,!0),r=l.type===6||l.type===7,h=l.type===2||l.type===3||l.type===4,u=l.type===3,f=this._context.configuration.options.get(109),C=l.type===8||l.type===5,_=l.type===9;let E=d.leftButton||d.middleButton;D.isMacintosh&&d.leftButton&&d.ctrlKey&&(E=!1);const I=()=>{d.preventDefault(),this.viewHelper.focusTextArea()};if(E&&(r||u&&f))I(),this._mouseDownOperation.start(l.type,d,s);else if(h)d.preventDefault();else if(C){const T=l.detail;E&&this.viewHelper.shouldSuppressMouseDownOnViewZone(T.viewZoneId)&&(I(),this._mouseDownOperation.start(l.type,d,s),d.preventDefault())}else _&&this.viewHelper.shouldSuppressMouseDownOnWidget(l.detail)&&(I(),d.preventDefault());this.viewController.emitMouseDown({event:d,target:l})}}e.MouseHandler=i;class t extends y.Disposable{constructor(d,s,l,r,h,u){super(),this._context=d,this._viewController=s,this._viewHelper=l,this._mouseTargetFactory=r,this._createMouseTarget=h,this._getMouseColumn=u,this._mouseMoveMonitor=this._register(new p.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new o(this._context,this._viewHelper,this._mouseTargetFactory,(f,C,_)=>this._dispatchMouse(f,C,_))),this._mouseState=new m,this._currentSelection=new b.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(d){this._lastMouseEvent=d,this._mouseState.setModifiers(d);const s=this._findMousePosition(d,!1);s&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:d,target:s}):s.type===13&&(s.outsidePosition==="above"||s.outsidePosition==="below")?this._topBottomDragScrolling.start(s,d):(this._topBottomDragScrolling.stop(),this._dispatchMouse(s,!0,1)))}start(d,s,l){this._lastMouseEvent=s,this._mouseState.setStartedOnLineNumbers(d===3),this._mouseState.setStartButtons(s),this._mouseState.setModifiers(s);const r=this._findMousePosition(s,!0);if(!r||!r.position)return;this._mouseState.trySetCount(s.detail,r.position),s.detail=this._mouseState.count;const h=this._context.configuration.options;if(!h.get(91)&&h.get(35)&&!h.get(22)&&!this._mouseState.altKey&&s.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&r.type===6&&r.position&&this._currentSelection.containsPosition(r.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,l,s.buttons,u=>this._onMouseDownThenMove(u),u=>{const f=this._findMousePosition(this._lastMouseEvent,!1);L.isKeyboardEvent(u)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:f?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(r,s.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,l,s.buttons,u=>this._onMouseDownThenMove(u),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(d){this._currentSelection=d.selections[0]}_getPositionOutsideEditor(d){const s=d.editorPos,l=this._context.viewModel,r=this._context.viewLayout,h=this._getMouseColumn(d);if(d.posy<s.y){const f=s.y-d.posy,C=Math.max(r.getCurrentScrollTop()-f,0),_=S.HitTestContext.getZoneAtCoord(this._context,C);if(_){const I=this._helpPositionJumpOverViewZone(_);if(I)return S.MouseTarget.createOutsideEditor(h,I,"above",f)}const E=r.getLineNumberAtVerticalOffset(C);return S.MouseTarget.createOutsideEditor(h,new v.Position(E,1),"above",f)}if(d.posy>s.y+s.height){const f=d.posy-s.y-s.height,C=r.getCurrentScrollTop()+d.relativePos.y,_=S.HitTestContext.getZoneAtCoord(this._context,C);if(_){const I=this._helpPositionJumpOverViewZone(_);if(I)return S.MouseTarget.createOutsideEditor(h,I,"below",f)}const E=r.getLineNumberAtVerticalOffset(C);return S.MouseTarget.createOutsideEditor(h,new v.Position(E,l.getLineMaxColumn(E)),"below",f)}const u=r.getLineNumberAtVerticalOffset(r.getCurrentScrollTop()+d.relativePos.y);if(d.posx<s.x){const f=s.x-d.posx;return S.MouseTarget.createOutsideEditor(h,new v.Position(u,1),"left",f)}if(d.posx>s.x+s.width){const f=d.posx-s.x-s.width;return S.MouseTarget.createOutsideEditor(h,new v.Position(u,l.getLineMaxColumn(u)),"right",f)}return null}_findMousePosition(d,s){const l=this._getPositionOutsideEditor(d);if(l)return l;const r=this._createMouseTarget(d,s);if(!r.position)return null;if(r.type===8||r.type===5){const u=this._helpPositionJumpOverViewZone(r.detail);if(u)return S.MouseTarget.createViewZone(r.type,r.element,r.mouseColumn,u,r.detail)}return r}_helpPositionJumpOverViewZone(d){const s=new v.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),l=d.positionBefore,r=d.positionAfter;return l&&r?l.isBefore(s)?l:r:null}_dispatchMouse(d,s,l){d.position&&this._viewController.dispatchMouse({position:d.position,mouseColumn:d.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:l,inSelectionMode:s,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:d.type===6&&d.detail.injectedText!==null})}}class o extends y.Disposable{constructor(d,s,l,r){super(),this._context=d,this._viewHelper=s,this._mouseTargetFactory=l,this._dispatchMouse=r,this._operation=null}dispose(){super.dispose(),this.stop()}start(d,s){this._operation?this._operation.setPosition(d,s):this._operation=new g(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,d,s)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class g extends y.Disposable{constructor(d,s,l,r,h,u){super(),this._context=d,this._viewHelper=s,this._mouseTargetFactory=l,this._dispatchMouse=r,this._position=h,this._mouseEvent=u,this._lastTime=Date.now(),this._animationFrameDisposable=L.scheduleAtNextAnimationFrame(L.getWindow(u.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(d,s){this._position=d,this._mouseEvent=s}_tick(){const d=Date.now(),s=d-this._lastTime;return this._lastTime=d,s}_getScrollSpeed(){const d=this._context.configuration.options.get(67),s=this._context.configuration.options.get(144).height/d,l=this._position.outsideDistance/d;return l<=1.5?Math.max(30,s*(1+l)):l<=3?Math.max(60,s*(2+l)):Math.max(200,s*(7+l))}_execute(){const d=this._context.configuration.options.get(67),s=this._getScrollSpeed(),l=this._tick(),r=s*(l/1e3)*d,h=this._position.outsidePosition==="above"?-r:r;this._context.viewModel.viewLayout.deltaScrollNow(0,h),this._viewHelper.renderNow();const u=this._context.viewLayout.getLinesViewportData(),f=this._position.outsidePosition==="above"?u.startLineNumber:u.endLineNumber;let C;{const _=(0,p.createEditorPagePosition)(this._viewHelper.viewDomNode),E=this._context.configuration.options.get(144).horizontalScrollbarHeight,I=new p.PageCoordinates(this._mouseEvent.pos.x,_.y+_.height-E-.1),T=(0,p.createCoordinatesRelativeToEditor)(this._viewHelper.viewDomNode,_,I);C=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),_,I,T,null)}(!C.position||C.position.lineNumber!==f)&&(this._position.outsidePosition==="above"?C=S.MouseTarget.createOutsideEditor(this._position.mouseColumn,new v.Position(f,1),"above",this._position.outsideDistance):C=S.MouseTarget.createOutsideEditor(this._position.mouseColumn,new v.Position(f,this._context.viewModel.getLineMaxColumn(f)),"below",this._position.outsideDistance)),this._dispatchMouse(C,!0,2),this._animationFrameDisposable=L.scheduleAtNextAnimationFrame(L.getWindow(C.element),()=>this._execute())}}class m{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(d){this._altKey=d.altKey,this._ctrlKey=d.ctrlKey,this._metaKey=d.metaKey,this._shiftKey=d.shiftKey}setStartButtons(d){this._leftButton=d.leftButton,this._middleButton=d.middleButton}setStartedOnLineNumbers(d){this._startedOnLineNumbers=d}trySetCount(d,s){const l=new Date().getTime();l-this._lastSetMouseDownCountTime>m.CLEAR_MOUSE_DOWN_COUNT_TIME&&(d=1),this._lastSetMouseDownCountTime=l,d>this._lastMouseDownCount+1&&(d=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(s)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=s,this._lastMouseDownCount=Math.min(d,this._lastMouseDownPositionEqualCount)}}m.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(ne[858],se([1,0,225,6,65,50,2,17,857,196,169]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class a extends w.MouseHandler{constructor(o,g,m){super(o,g,m),this._register(y.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Tap,d=>this.onTap(d))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Change,d=>this.onChange(d))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Contextmenu,d=>this._onContextMenu(new b.EditorMouseEvent(d,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",d=>{const s=d.pointerType;if(s==="mouse"){this._lastPointerType="mouse";return}else s==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const c=new b.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(c.onPointerMove(this.viewHelper.viewDomNode,d=>this._onMouseMove(d))),this._register(c.onPointerUp(this.viewHelper.viewDomNode,d=>this._onMouseUp(d))),this._register(c.onPointerLeave(this.viewHelper.viewDomNode,d=>this._onMouseLeave(d))),this._register(c.onPointerDown(this.viewHelper.viewDomNode,(d,s)=>this._onMouseDown(d,s)))}onTap(o){!o.initialTarget||!this.viewHelper.linesContentDomNode.contains(o.initialTarget)||(o.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(o,!1))}onChange(o){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-o.translationX,-o.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(o,!0)}_dispatchGesture(o,g){const m=this._createMouseTarget(new b.EditorMouseEvent(o,!1,this.viewHelper.viewDomNode),!1);m.position&&this.viewController.dispatchMouse({position:m.position,mouseColumn:m.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:o.tapCount,inSelectionMode:g,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:m.type===6&&m.detail.injectedText!==null})}_onMouseDown(o,g){o.browserEvent.pointerType!=="touch"&&super._onMouseDown(o,g)}}e.PointerEventHandler=a;class n extends w.MouseHandler{constructor(o,g,m){super(o,g,m),this._register(y.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Tap,c=>this.onTap(c))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Change,c=>this.onChange(c))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,y.EventType.Contextmenu,c=>this._onContextMenu(new b.EditorMouseEvent(c,!1,this.viewHelper.viewDomNode),!1)))}onTap(o){o.preventDefault(),this.viewHelper.focusTextArea();const g=this._createMouseTarget(new b.EditorMouseEvent(o,!1,this.viewHelper.viewDomNode),!1);if(g.position){const m=document.createEvent("CustomEvent");m.initEvent(v.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(m),this.viewController.moveTo(g.position,1)}}onChange(o){this._context.viewModel.viewLayout.deltaScrollNow(-o.translationX,-o.translationY)}}class i extends S.Disposable{constructor(o,g,m){super(),(p.isIOS||p.isAndroid&&p.isMobile)&&L.BrowserFeatures.pointerEvents?this.handler=this._register(new a(o,g,m)):D.mainWindow.TouchEvent?this.handler=this._register(new n(o,g,m)):this.handler=this._register(new w.MouseHandler(o,g,m))}getTargetAtClientPoint(o,g){return this.handler.getTargetAtClientPoint(o,g)}}e.PointerHandler=i}),define(ne[859],se([1,0,206,15,17,74,152,239,55,502,260,9,5,443]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class i{constructor(){this._currentVisibleRange=new n.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(c){this._currentVisibleRange=c}}class t{constructor(c,d,s,l,r,h,u){this.minimalReveal=c,this.lineNumber=d,this.startColumn=s,this.endColumn=l,this.startScrollTop=r,this.stopScrollTop=h,this.scrollType=u,this.type="range",this.minLineNumber=d,this.maxLineNumber=d}}class o{constructor(c,d,s,l,r){this.minimalReveal=c,this.selections=d,this.startScrollTop=s,this.stopScrollTop=l,this.scrollType=r,this.type="selections";let h=d[0].startLineNumber,u=d[0].endLineNumber;for(let f=1,C=d.length;f<C;f++){const _=d[f];h=Math.min(h,_.startLineNumber),u=Math.max(u,_.endLineNumber)}this.minLineNumber=h,this.maxLineNumber=u}}class g extends w.ViewPart{constructor(c,d){super(c),this._linesContent=d,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new p.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const s=this._context.configuration,l=this._context.configuration.options,r=l.get(50),h=l.get(145);this._lineHeight=l.get(67),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._isViewportWrapping=h.isViewportWrapping,this._revealHorizontalRightPadding=l.get(100),this._cursorSurroundingLines=l.get(29),this._cursorSurroundingLinesStyle=l.get(30),this._canUseLayerHinting=!l.get(32),this._viewLineOptions=new b.ViewLineOptions(s,this._context.theme.type),w.PartFingerprints.write(this.domNode,8),this.domNode.setClassName(`view-lines ${L.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,D.applyFontInfo)(this.domNode,r),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new i,this._horizontalRevealRequest=null,this._stickyScrollEnabled=l.get(115).enabled,this._maxNumberStickyLines=l.get(115).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new b.ViewLine(this._viewLineOptions)}onConfigurationChanged(c){this._visibleLines.onConfigurationChanged(c),c.hasChanged(145)&&(this._maxLineWidth=0);const d=this._context.configuration.options,s=d.get(50),l=d.get(145);return this._lineHeight=d.get(67),this._typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,this._isViewportWrapping=l.isViewportWrapping,this._revealHorizontalRightPadding=d.get(100),this._cursorSurroundingLines=d.get(29),this._cursorSurroundingLinesStyle=d.get(30),this._canUseLayerHinting=!d.get(32),this._stickyScrollEnabled=d.get(115).enabled,this._maxNumberStickyLines=d.get(115).maxLineCount,(0,D.applyFontInfo)(this.domNode,s),this._onOptionsMaybeChanged(),c.hasChanged(144)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const c=this._context.configuration,d=new b.ViewLineOptions(c,this._context.theme.type);if(!this._viewLineOptions.equals(d)){this._viewLineOptions=d;const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let r=s;r<=l;r++)this._visibleLines.getVisibleLine(r).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(c){const d=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();let l=!1;for(let r=d;r<=s;r++)l=this._visibleLines.getVisibleLine(r).onSelectionChanged()||l;return l}onDecorationsChanged(c){{const d=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let l=d;l<=s;l++)this._visibleLines.getVisibleLine(l).onDecorationsChanged()}return!0}onFlushed(c){const d=this._visibleLines.onFlushed(c);return this._maxLineWidth=0,d}onLinesChanged(c){return this._visibleLines.onLinesChanged(c)}onLinesDeleted(c){return this._visibleLines.onLinesDeleted(c)}onLinesInserted(c){return this._visibleLines.onLinesInserted(c)}onRevealRangeRequest(c){const d=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),c.source,c.minimalReveal,c.range,c.selections,c.verticalType);if(d===-1)return!1;let s=this._context.viewLayout.validateScrollPosition({scrollTop:d});c.revealHorizontal?c.range&&c.range.startLineNumber!==c.range.endLineNumber?s={scrollTop:s.scrollTop,scrollLeft:0}:c.range?this._horizontalRevealRequest=new t(c.minimalReveal,c.range.startLineNumber,c.range.startColumn,c.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),s.scrollTop,c.scrollType):c.selections&&c.selections.length>0&&(this._horizontalRevealRequest=new o(c.minimalReveal,c.selections,this._context.viewLayout.getCurrentScrollTop(),s.scrollTop,c.scrollType)):this._horizontalRevealRequest=null;const r=Math.abs(this._context.viewLayout.getCurrentScrollTop()-s.scrollTop)<=this._lineHeight?1:c.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(s,r),!0}onScrollChanged(c){if(this._horizontalRevealRequest&&c.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&c.scrollTopChanged){const d=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),s=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(c.scrollTop<d||c.scrollTop>s)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(c.scrollWidth),this._visibleLines.onScrollChanged(c)||!0}onTokensChanged(c){return this._visibleLines.onTokensChanged(c)}onZonesChanged(c){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(c)}onThemeChanged(c){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(c,d){const s=this._getViewLineDomNode(c);if(s===null)return null;const l=this._getLineNumberFor(s);if(l===-1||l<1||l>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(l)===1)return new a.Position(l,1);const r=this._visibleLines.getStartLineNumber(),h=this._visibleLines.getEndLineNumber();if(l<r||l>h)return null;let u=this._visibleLines.getVisibleLine(l).getColumnOfNodeOffset(c,d);const f=this._context.viewModel.getLineMinColumn(l);return u<f&&(u=f),new a.Position(l,u)}_getViewLineDomNode(c){for(;c&&c.nodeType===1;){if(c.className===b.ViewLine.CLASS_NAME)return c;c=c.parentElement}return null}_getLineNumberFor(c){const d=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();for(let l=d;l<=s;l++){const r=this._visibleLines.getVisibleLine(l);if(c===r.getDomNode())return l}return-1}getLineWidth(c){const d=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();if(c<d||c>s)return-1;const l=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),r=this._visibleLines.getVisibleLine(c).getWidth(l);return this._updateLineWidthsSlowIfDomDidLayout(l),r}linesVisibleRangesForRange(c,d){if(this.shouldRender())return null;const s=c.endLineNumber,l=n.Range.intersectRanges(c,this._lastRenderedData.getCurrentVisibleRange());if(!l)return null;const r=[];let h=0;const u=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let f=0;d&&(f=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new a.Position(l.startLineNumber,1)).lineNumber);const C=this._visibleLines.getStartLineNumber(),_=this._visibleLines.getEndLineNumber();for(let E=l.startLineNumber;E<=l.endLineNumber;E++){if(E<C||E>_)continue;const I=E===l.startLineNumber?l.startColumn:1,T=E!==l.endLineNumber,A=T?this._context.viewModel.getLineMaxColumn(E):l.endColumn,R=this._visibleLines.getVisibleLine(E).getVisibleRangesForRange(E,I,A,u);if(R){if(d&&E<s){const M=f;f=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new a.Position(E+1,1)).lineNumber,M!==f&&(R.ranges[R.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}r[h++]=new S.LineVisibleRanges(R.outsideRenderedLine,E,S.HorizontalRange.from(R.ranges),T)}}return this._updateLineWidthsSlowIfDomDidLayout(u),h===0?null:r}_visibleRangesForLineRange(c,d,s){if(this.shouldRender()||c<this._visibleLines.getStartLineNumber()||c>this._visibleLines.getEndLineNumber())return null;const l=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),r=this._visibleLines.getVisibleLine(c).getVisibleRangesForRange(c,d,s,l);return this._updateLineWidthsSlowIfDomDidLayout(l),r}visibleRangeForPosition(c){const d=this._visibleRangesForLineRange(c.lineNumber,c.column,c.column);return d?new S.HorizontalPosition(d.outsideRenderedLine,d.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(c){c.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(c){const d=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();let l=1,r=!0;for(let h=d;h<=s;h++){const u=this._visibleLines.getVisibleLine(h);if(c&&!u.getWidthIsFast()){r=!1;continue}l=Math.max(l,u.getWidth(null))}return r&&d===1&&s===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(l),r}_checkMonospaceFontAssumptions(){let c=-1,d=-1;const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let r=s;r<=l;r++){const h=this._visibleLines.getVisibleLine(r);if(h.needsMonospaceFontCheck()){const u=h.getWidth(null);u>d&&(d=u,c=r)}}if(c!==-1&&!this._visibleLines.getVisibleLine(c).monospaceAssumptionsAreValid())for(let r=s;r<=l;r++)this._visibleLines.getVisibleLine(r).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(c){if(this._visibleLines.renderLines(c),this._lastRenderedData.setCurrentVisibleRange(c.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const s=this._horizontalRevealRequest;if(c.startLineNumber<=s.minLineNumber&&s.maxLineNumber<=c.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const l=this._computeScrollLeftToReveal(s);l&&(this._isViewportWrapping||this._ensureMaxLineWidth(l.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:l.scrollLeft},s.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),y.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const s=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let r=s;r<=l;r++)if(this._visibleLines.getVisibleLine(r).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const d=this._context.viewLayout.getCurrentScrollTop()-c.bigNumbersDelta;this._linesContent.setTop(-d),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(c){const d=Math.ceil(c);this._maxLineWidth<d&&(this._maxLineWidth=d,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(c,d,s,l,r,h){const u=c.top,f=c.height,C=u+f;let _,E,I;if(r&&r.length>0){let N=r[0].startLineNumber,P=r[0].endLineNumber;for(let F=1,O=r.length;F<O;F++){const B=r[F];N=Math.min(N,B.startLineNumber),P=Math.max(P,B.endLineNumber)}_=!1,E=this._context.viewLayout.getVerticalOffsetForLineNumber(N),I=this._context.viewLayout.getVerticalOffsetForLineNumber(P)+this._lineHeight}else if(l)_=!0,E=this._context.viewLayout.getVerticalOffsetForLineNumber(l.startLineNumber),I=this._context.viewLayout.getVerticalOffsetForLineNumber(l.endLineNumber)+this._lineHeight;else return-1;const T=(d==="mouse"||s)&&this._cursorSurroundingLinesStyle==="default";let A=0,R=0;if(T)s||(A=this._lineHeight);else{const N=Math.min(f/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?A=Math.max(N,this._maxNumberStickyLines)*this._lineHeight:A=N*this._lineHeight,R=Math.max(0,N-1)*this._lineHeight}s||(h===0||h===4)&&(R+=this._lineHeight),E-=A,I+=R;let M;if(I-E>f){if(!_)return-1;M=E}else if(h===5||h===6)if(h===6&&u<=E&&I<=C)M=u;else{const N=Math.max(5*this._lineHeight,f*.2),P=E-N,F=I-f;M=Math.max(F,P)}else if(h===1||h===2)if(h===2&&u<=E&&I<=C)M=u;else{const N=(E+I)/2;M=Math.max(0,N-f/2)}else M=this._computeMinimumScrolling(u,C,E,I,h===3,h===4);return M}_computeScrollLeftToReveal(c){const d=this._context.viewLayout.getCurrentViewport(),s=this._context.configuration.options.get(144),l=d.left,r=l+d.width-s.verticalScrollbarWidth;let h=1073741824,u=0;if(c.type==="range"){const C=this._visibleRangesForLineRange(c.lineNumber,c.startColumn,c.endColumn);if(!C)return null;for(const _ of C.ranges)h=Math.min(h,Math.round(_.left)),u=Math.max(u,Math.round(_.left+_.width))}else for(const C of c.selections){if(C.startLineNumber!==C.endLineNumber)return null;const _=this._visibleRangesForLineRange(C.startLineNumber,C.startColumn,C.endColumn);if(!_)return null;for(const E of _.ranges)h=Math.min(h,Math.round(E.left)),u=Math.max(u,Math.round(E.left+E.width))}return c.minimalReveal||(h=Math.max(0,h-g.HORIZONTAL_EXTRA_PX),u+=this._revealHorizontalRightPadding),c.type==="selections"&&u-h>d.width?null:{scrollLeft:this._computeMinimumScrolling(l,r,h,u),maxHorizontalOffset:u}}_computeMinimumScrolling(c,d,s,l,r,h){c=c|0,d=d|0,s=s|0,l=l|0,r=!!r,h=!!h;const u=d-c;if(l-s<u){if(r)return s;if(h)return Math.max(0,l-u);if(s<c)return s;if(l>d)return Math.max(0,l-u)}else return s;return c}}e.ViewLines=g,g.HORIZONTAL_EXTRA_PX=30}),define(ne[373],se([1,0,6,46,79,236,190,13,15,405,111,12,7,130,2,17,11,760,357,96,22,89,181]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const r=L.$;class h{constructor(M,N,P,F,O,B,W){var V,z,K;this._checked=!1,this._hidden=!1,this.hasCheckbox=F,this.index=P,this.fireButtonTriggered=O,this.fireSeparatorButtonTriggered=B,this._onChecked=W,this.onChecked=F?n.Event.map(n.Event.filter(this._onChecked.event,j=>j.listElement===this),j=>j.checked):n.Event.None,M.type==="separator"?this._separator=M:(this.item=M,N&&N.type==="separator"&&!N.buttons&&(this._separator=N),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=(V=this.item.highlights)===null||V===void 0?void 0:V.label,this._descriptionHighlights=(z=this.item.highlights)===null||z===void 0?void 0:z.description,this._detailHighlights=(K=this.item.highlights)===null||K===void 0?void 0:K.detail,this.saneTooltip=this.item.tooltip),this._init=new d.Lazy(()=>{var j;const x=(j=M.label)!==null&&j!==void 0?j:"",re=(0,i.parseLabelWithIcons)(x).text.trim(),ie=M.ariaLabel||[x,this.saneDescription,this.saneDetail].map(J=>(0,i.getCodiconAriaLabel)(J)).filter(J=>!!J).join(", ");return{saneLabel:x,saneSortLabel:re,saneAriaLabel:ie}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(M){this._element=M}get hidden(){return this._hidden}set hidden(M){this._hidden=M}get checked(){return this._checked}set checked(M){M!==this._checked&&(this._checked=M,this._onChecked.fire({listElement:this,checked:M}))}get separator(){return this._separator}set separator(M){this._separator=M}get labelHighlights(){return this._labelHighlights}set labelHighlights(M){this._labelHighlights=M}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(M){this._descriptionHighlights=M}get detailHighlights(){return this._detailHighlights}set detailHighlights(M){this._detailHighlights=M}}class u{constructor(M,N){this.themeService=M,this.hoverDelegate=N}get templateId(){return u.ID}renderTemplate(M){const N=Object.create(null);N.toDisposeElement=[],N.toDisposeTemplate=[],N.entry=L.append(M,r(".quick-input-list-entry"));const P=L.append(N.entry,r("label.quick-input-list-label"));N.toDisposeTemplate.push(L.addStandardDisposableListener(P,L.EventType.CLICK,z=>{N.checkbox.offsetParent||z.preventDefault()})),N.checkbox=L.append(P,r("input.quick-input-list-checkbox")),N.checkbox.type="checkbox",N.toDisposeTemplate.push(L.addStandardDisposableListener(N.checkbox,L.EventType.CHANGE,z=>{N.element.checked=N.checkbox.checked}));const F=L.append(P,r(".quick-input-list-rows")),O=L.append(F,r(".quick-input-list-row")),B=L.append(F,r(".quick-input-list-row"));N.label=new D.IconLabel(O,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),N.toDisposeTemplate.push(N.label),N.icon=L.prepend(N.label.element,r(".quick-input-list-icon"));const W=L.append(O,r(".quick-input-list-entry-keybinding"));N.keybinding=new S.KeybindingLabel(W,o.OS);const V=L.append(B,r(".quick-input-list-label-meta"));return N.detail=new D.IconLabel(V,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),N.toDisposeTemplate.push(N.detail),N.separator=L.append(N.entry,r(".quick-input-list-separator")),N.actionBar=new y.ActionBar(N.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),N.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),N.toDisposeTemplate.push(N.actionBar),N}renderElement(M,N,P){var F,O,B,W;P.element=M,M.element=(F=P.entry)!==null&&F!==void 0?F:void 0;const V=M.item?M.item:M.separator;P.checkbox.checked=M.checked,P.toDisposeElement.push(M.onChecked(J=>P.checkbox.checked=J));const{labelHighlights:z,descriptionHighlights:K,detailHighlights:j}=M;if(!((O=M.item)===null||O===void 0)&&O.iconPath){const J=(0,l.isDark)(this.themeService.getColorTheme().type)?M.item.iconPath.dark:(B=M.item.iconPath.light)!==null&&B!==void 0?B:M.item.iconPath.dark,X=s.URI.revive(J);P.icon.className="quick-input-list-icon",P.icon.style.backgroundImage=L.asCSSUrl(X)}else P.icon.style.backgroundImage="",P.icon.className=!((W=M.item)===null||W===void 0)&&W.iconClass?`quick-input-list-icon ${M.item.iconClass}`:"";let x;!M.saneTooltip&&M.saneDescription&&(x={markdown:{value:M.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:M.saneDescription});const re={matches:z||[],descriptionTitle:x,descriptionMatches:K||[],labelEscapeNewLines:!0};if(V.type!=="separator"?(re.extraClasses=V.iconClasses,re.italic=V.italic,re.strikethrough=V.strikethrough,P.entry.classList.remove("quick-input-list-separator-as-item")):P.entry.classList.add("quick-input-list-separator-as-item"),P.label.setLabel(M.saneLabel,M.saneDescription,re),P.keybinding.set(V.type==="separator"?void 0:V.keybinding),M.saneDetail){let J;M.saneTooltip||(J={markdown:{value:M.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:M.saneDetail}),P.detail.element.style.display="",P.detail.setLabel(M.saneDetail,void 0,{matches:j,title:J,labelEscapeNewLines:!0})}else P.detail.element.style.display="none";M.item&&M.separator&&M.separator.label?(P.separator.textContent=M.separator.label,P.separator.style.display=""):P.separator.style.display="none",P.entry.classList.toggle("quick-input-list-separator-border",!!M.separator);const ie=V.buttons;ie&&ie.length?(P.actionBar.push(ie.map((J,X)=>(0,c.quickInputButtonToAction)(J,`id-${X}`,()=>V.type!=="separator"?M.fireButtonTriggered({button:J,item:V}):M.fireSeparatorButtonTriggered({button:J,separator:V}))),{icon:!0,label:!1}),P.entry.classList.add("has-actions")):P.entry.classList.remove("has-actions")}disposeElement(M,N,P){P.toDisposeElement=(0,t.dispose)(P.toDisposeElement),P.actionBar.clear()}disposeTemplate(M){M.toDisposeElement=(0,t.dispose)(M.toDisposeElement),M.toDisposeTemplate=(0,t.dispose)(M.toDisposeTemplate)}}u.ID="listelement";class f{getHeight(M){return M.item?M.saneDetail?44:22:24}getTemplateId(M){return u.ID}}var C;(function(R){R[R.First=1]="First",R[R.Second=2]="Second",R[R.Last=3]="Last",R[R.Next=4]="Next",R[R.Previous=5]="Previous",R[R.NextPage=6]="NextPage",R[R.PreviousPage=7]="PreviousPage"})(C||(e.QuickInputListFocus=C={}));class _{constructor(M,N,P,F){this.parent=M,this.options=P,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new n.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new n.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new n.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new n.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new n.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new n.Emitter,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new n.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new n.Emitter,this.onLeave=this._onLeave.event,this._listElementChecked=new n.Emitter,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=N,this.container=L.append(this.parent,r(".quick-input-list"));const O=new f,B=new A;this.list=P.createList("QuickInput",this.container,O,[new u(F,P.hoverDelegate)],{identityProvider:{getId:V=>{var z,K,j,x,re,ie,J,X;return(X=(ie=(x=(K=(z=V.item)===null||z===void 0?void 0:z.id)!==null&&K!==void 0?K:(j=V.item)===null||j===void 0?void 0:j.label)!==null&&x!==void 0?x:(re=V.separator)===null||re===void 0?void 0:re.id)!==null&&ie!==void 0?ie:(J=V.separator)===null||J===void 0?void 0:J.label)!==null&&X!==void 0?X:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:B}),this.list.getHTMLElement().id=N,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(V=>{const z=new k.StandardKeyboardEvent(V);switch(z.keyCode){case 10:this.toggleCheckbox();break;case 31:(o.isMacintosh?V.metaKey:V.ctrlKey)&&this.list.setFocus((0,p.range)(this.list.length));break;case 16:{const K=this.list.getFocus();K.length===1&&K[0]===0&&this._onLeave.fire();break}case 18:{const K=this.list.getFocus();K.length===1&&K[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(z)})),this.disposables.push(this.list.onMouseDown(V=>{V.browserEvent.button!==2&&V.browserEvent.preventDefault()})),this.disposables.push(L.addDisposableListener(this.container,L.EventType.CLICK,V=>{(V.x||V.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(V=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(V=>{typeof V.index=="number"&&(V.browserEvent.preventDefault(),this.list.setSelection([V.index]))}));const W=new w.ThrottledDelayer(P.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(async V=>{var z;if(V.browserEvent.target instanceof HTMLAnchorElement){W.cancel();return}if(!(!(V.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&L.isAncestor(V.browserEvent.relatedTarget,(z=V.element)===null||z===void 0?void 0:z.element)))try{await W.trigger(async()=>{V.element&&this.showHover(V.element)})}catch(K){if(!(0,a.isCancellationError)(K))throw K}})),this.disposables.push(this.list.onMouseOut(V=>{var z;L.isAncestor(V.browserEvent.relatedTarget,(z=V.element)===null||z===void 0?void 0:z.element)||W.cancel()})),this.disposables.push(W),this.disposables.push(this._listElementChecked.event(V=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return n.Event.map(this.list.onDidChangeFocus,M=>M.elements.map(N=>N.item))}get onDidChangeSelection(){return n.Event.map(this.list.onDidChangeSelection,M=>({items:M.elements.map(N=>N.item),event:M.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(M){this.list.scrollTop=M}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(M){this.list.getHTMLElement().ariaLabel=M}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(M,N=!0){for(let P=0,F=M.length;P<F;P++){const O=M[P];if(!O.hidden)if(O.checked)N=!0;else return!1}return N}getCheckedCount(){let M=0;const N=this.elements;for(let P=0,F=N.length;P<F;P++)N[P].checked&&M++;return M}getVisibleCount(){let M=0;const N=this.elements;for(let P=0,F=N.length;P<F;P++)N[P].hidden||M++;return M}setAllVisibleChecked(M){try{this._fireCheckedEvents=!1,this.elements.forEach(N=>{N.hidden||(N.checked=M)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(M){this.elementDisposables=(0,t.dispose)(this.elementDisposables);const N=B=>this.fireButtonTriggered(B),P=B=>this.fireSeparatorButtonTriggered(B);this.inputElements=M;const F=new Map,O=this.parent.classList.contains("show-checkboxes");this.elements=M.reduce((B,W,V)=>{var z;const K=V>0?M[V-1]:void 0;if(W.type==="separator"&&!W.buttons)return B;const j=new h(W,K,V,O,N,P,this._listElementChecked),x=B.length;return B.push(j),F.set((z=j.item)!==null&&z!==void 0?z:j.separator,x),B},[]),this.elementsToIndexes=F,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(M=>M.item)}setFocusedElements(M){if(this.list.setFocus(M.filter(N=>this.elementsToIndexes.has(N)).map(N=>this.elementsToIndexes.get(N))),M.length>0){const N=this.list.getFocus()[0];typeof N=="number"&&this.list.reveal(N)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(M){this.list.setSelection(M.filter(N=>this.elementsToIndexes.has(N)).map(N=>this.elementsToIndexes.get(N)))}getCheckedElements(){return this.elements.filter(M=>M.checked).map(M=>M.item).filter(M=>!!M)}setCheckedElements(M){try{this._fireCheckedEvents=!1;const N=new Set;for(const P of M)N.add(P);for(const P of this.elements)P.checked=N.has(P.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(M){this.list.getHTMLElement().style.pointerEvents=M?"":"none"}focus(M){if(!this.list.length)return;switch(M===C.Second&&this.list.length<2&&(M=C.First),M){case C.First:this.list.scrollTop=0,this.list.focusFirst(void 0,P=>!!P.item);break;case C.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,P=>!!P.item);break;case C.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,P=>!!P.item);break;case C.Next:{this.list.focusNext(void 0,!0,void 0,F=>!!F.item);const P=this.list.getFocus()[0];P!==0&&!this.elements[P-1].item&&this.list.firstVisibleIndex>P-1&&this.list.reveal(P-1);break}case C.Previous:{this.list.focusPrevious(void 0,!0,void 0,F=>!!F.item);const P=this.list.getFocus()[0];P!==0&&!this.elements[P-1].item&&this.list.firstVisibleIndex>P-1&&this.list.reveal(P-1);break}case C.NextPage:this.list.focusNextPage(void 0,P=>!!P.item);break;case C.PreviousPage:this.list.focusPreviousPage(void 0,P=>!!P.item);break}const N=this.list.getFocus()[0];typeof N=="number"&&this.list.reveal(N)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(M){var N,P,F;this._lastHover&&!this._lastHover.isDisposed&&((P=(N=this.options.hoverDelegate).onDidHideHover)===null||P===void 0||P.call(N),(F=this._lastHover)===null||F===void 0||F.dispose()),!(!M.element||!M.saneTooltip)&&(this._lastHover=this.options.hoverDelegate.showHover({content:M.saneTooltip,target:M.element,linkHandler:O=>{this.options.linkOpenerDelegate(O)},appearance:{showPointer:!0},container:this.container,position:{hoverPosition:1}},!1))}layout(M){this.list.getHTMLElement().style.maxHeight=M?`${Math.floor(M/44)*44+6}px`:"",this.list.layout()}filter(M){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const N=M;if(M=M.trim(),!M||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(F=>{F.labelHighlights=void 0,F.descriptionHighlights=void 0,F.detailHighlights=void 0,F.hidden=!1;const O=F.index&&this.inputElements[F.index-1];F.item&&(F.separator=O&&O.type==="separator"&&!O.buttons?O:void 0)});else{let F;this.elements.forEach(O=>{var B,W,V,z;let K;this.matchOnLabelMode==="fuzzy"?K=this.matchOnLabel&&(B=(0,i.matchesFuzzyIconAware)(M,(0,i.parseLabelWithIcons)(O.saneLabel)))!==null&&B!==void 0?B:void 0:K=this.matchOnLabel&&(W=E(N,(0,i.parseLabelWithIcons)(O.saneLabel)))!==null&&W!==void 0?W:void 0;const j=this.matchOnDescription&&(V=(0,i.matchesFuzzyIconAware)(M,(0,i.parseLabelWithIcons)(O.saneDescription||"")))!==null&&V!==void 0?V:void 0,x=this.matchOnDetail&&(z=(0,i.matchesFuzzyIconAware)(M,(0,i.parseLabelWithIcons)(O.saneDetail||"")))!==null&&z!==void 0?z:void 0;if(K||j||x?(O.labelHighlights=K,O.descriptionHighlights=j,O.detailHighlights=x,O.hidden=!1):(O.labelHighlights=void 0,O.descriptionHighlights=void 0,O.detailHighlights=void 0,O.hidden=O.item?!O.item.alwaysShow:!0),O.item?O.separator=void 0:O.separator&&(O.hidden=!0),!this.sortByLabel){const re=O.index&&this.inputElements[O.index-1];F=re&&re.type==="separator"?re:F,F&&!O.hidden&&(O.separator=F,F=void 0)}})}const P=this.elements.filter(F=>!F.hidden);if(this.sortByLabel&&M){const F=M.toLowerCase();P.sort((O,B)=>T(O,B,F))}return this.elementsToIndexes=P.reduce((F,O,B)=>{var W;return F.set((W=O.item)!==null&&W!==void 0?W:O.separator,B),F},new Map),this.list.splice(0,this.list.length,P),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(P.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const M=this.list.getFocusedElements(),N=this.allVisibleChecked(M);for(const P of M)P.checked=!N}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(M){this.container.style.display=M?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,t.dispose)(this.elementDisposables),this.disposables=(0,t.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(M){this._onButtonTriggered.fire(M)}fireSeparatorButtonTriggered(M){this._onSeparatorButtonTriggered.fire(M)}style(M){this.list.style(M)}toggleHover(){const M=this.list.getFocusedElements()[0];if(!M?.saneTooltip)return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}const N=this.list.getFocusedElements()[0];if(!N)return;this.showHover(N);const P=new t.DisposableStore;P.add(this.list.onDidChangeFocus(F=>{F.indexes.length&&this.showHover(F.elements[0])})),this._lastHover&&P.add(this._lastHover),this._toggleHover=P,this.elementDisposables.push(this._toggleHover)}}e.QuickInputList=_,De([b.memoize],_.prototype,"onDidChangeFocus",null),De([b.memoize],_.prototype,"onDidChangeSelection",null);function E(R,M){const{text:N,iconOffsets:P}=M;if(!P||P.length===0)return I(R,N);const F=(0,g.ltrim)(N," "),O=N.length-F.length,B=I(R,F);if(B)for(const W of B){const V=P[W.start+O]+O;W.start+=V,W.end+=V}return B}function I(R,M){const N=M.toLowerCase().indexOf(R.toLowerCase());return N!==-1?[{start:N,end:N+R.length}]:null}function T(R,M,N){const P=R.labelHighlights||[],F=M.labelHighlights||[];return P.length&&!F.length?-1:!P.length&&F.length?1:P.length===0&&F.length===0?0:(0,v.compareAnything)(R.saneSortLabel,M.saneSortLabel,N)}class A{getWidgetAriaLabel(){return(0,m.localize)(0,null)}getAriaLabel(M){var N;return!((N=M.separator)===null||N===void 0)&&N.label?`${M.saneAriaLabel}, ${M.separator.label}`:M.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(M){return M.hasCheckbox?"checkbox":"option"}isChecked(M){if(M.hasCheckbox)return{value:M.checked,onDidChange:M.onChecked}}}}),define(ne[374],se([1,0,6,46,161,13,15,27,7,2,17,103,29,758,72,373,357,26,249,181]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputHoverDelegate=e.InputBox=e.QuickPick=e.backButton=void 0,e.backButton={iconClass:n.ThemeIcon.asClassName(p.Codicon.quickInputBack),tooltip:(0,i.localize)(0,null),handle:-1};class d extends v.Disposable{constructor(u){super(),this.ui=u,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=d.noPromptMessage,this._severity=a.default.Ignore,this.onDidTriggerButtonEmitter=this._register(new w.Emitter),this.onDidHideEmitter=this._register(new w.Emitter),this.onDisposeEmitter=this._register(new w.Emitter),this.visibleDisposables=this._register(new v.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(u){this._title=u,this.update()}get description(){return this._description}set description(u){this._description=u,this.update()}get step(){return this._steps}set step(u){this._steps=u,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(u){this._totalSteps=u,this.update()}get enabled(){return this._enabled}set enabled(u){this._enabled=u,this.update()}get contextKey(){return this._contextKey}set contextKey(u){this._contextKey=u,this.update()}get busy(){return this._busy}set busy(u){this._busy=u,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(u){const f=this._ignoreFocusOut!==u&&!b.isIOS;this._ignoreFocusOut=u&&!b.isIOS,f&&this.update()}get buttons(){return this._buttons}set buttons(u){this._buttons=u,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(u){this._toggles=u??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(u){this._validationMessage=u,this.update()}get severity(){return this._severity}set severity(u){this._severity=u,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(u=>{this.buttons.indexOf(u)!==-1&&this.onDidTriggerButtonEmitter.fire(u)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(u=t.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:u})}update(){var u,f;if(!this.visible)return;const C=this.getTitle();C&&this.ui.title.textContent!==C?this.ui.title.textContent=C:!C&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const _=this.getDescription();if(this.ui.description1.textContent!==_&&(this.ui.description1.textContent=_),this.ui.description2.textContent!==_&&(this.ui.description2.textContent=_),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?L.reset(this.ui.widget,this._widget):L.reset(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new S.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const I=this.buttons.filter(A=>A===e.backButton).map((A,R)=>(0,g.quickInputButtonToAction)(A,`id-${R}`,async()=>this.onDidTriggerButtonEmitter.fire(A)));this.ui.leftActionBar.push(I,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const T=this.buttons.filter(A=>A!==e.backButton).map((A,R)=>(0,g.quickInputButtonToAction)(A,`id-${R}`,async()=>this.onDidTriggerButtonEmitter.fire(A)));this.ui.rightActionBar.push(T,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const I=(f=(u=this.toggles)===null||u===void 0?void 0:u.filter(T=>T instanceof y.Toggle))!==null&&f!==void 0?f:[];this.ui.inputBox.toggles=I}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const E=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==E&&(this._lastValidationMessage=E,L.reset(this.ui.message),(0,g.renderQuickInputDescription)(E,this.ui.message,{callback:I=>{this.ui.linkOpenerDelegate(I)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,i.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(u){if(this.ui.inputBox.showDecoration(u),u!==a.default.Ignore){const f=this.ui.inputBox.stylesForType(u);this.ui.message.style.color=f.foreground?`${f.foreground}`:"",this.ui.message.style.backgroundColor=f.background?`${f.background}`:"",this.ui.message.style.border=f.border?`1px solid ${f.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}d.noPromptMessage=(0,i.localize)(1,null);class s extends d{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new w.Emitter),this.onWillAcceptEmitter=this._register(new w.Emitter),this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidCustomEmitter=this._register(new w.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=t.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new w.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new w.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new w.Emitter),this.onDidTriggerSeparatorButtonEmitter=this._register(new w.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=u=>u,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(u){this._quickNavigate=u,this.update()}get value(){return this._value}set value(u){this.doSetValue(u)}doSetValue(u,f){this._value!==u&&(this._value=u,f||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(u){this._ariaLabel=u,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(u){this._placeholder=u,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(u){this.ui.list.scrollTop=u}set items(u){this._items=u,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(u){this._canSelectMany=u,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(u){this._canAcceptInBackground=u}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(u){this._matchOnDescription=u,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(u){this._matchOnDetail=u,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(u){this._matchOnLabel=u,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(u){this._matchOnLabelMode=u,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(u){this._sortByLabel=u,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(u){this._keepScrollPosition=u}get itemActivation(){return this._itemActivation}set itemActivation(u){this._itemActivation=u}get activeItems(){return this._activeItems}set activeItems(u){this._activeItems=u,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(u){this._selectedItems=u,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?t.NO_KEY_MODS:this.ui.keyMods}set valueSelection(u){this._valueSelection=u,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(u){this._customButton=u,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(u){this._customButtonLabel=u,this.update()}get customHover(){return this._customButtonHover}set customHover(u){this._customButtonHover=u,this.update()}get ok(){return this._ok}set ok(u){this._ok=u,this.update()}get hideInput(){return!!this._hideInput}set hideInput(u){this._hideInput=u,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(o.QuickInputListFocus.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(u=>{this.doSetValue(u,!0)})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(u=>{switch(u.keyCode){case 18:this.ui.list.focus(o.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(u,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(o.QuickInputListFocus.Previous):this.ui.list.focus(o.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(u,!0);break;case 12:this.ui.list.focus(o.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(u,!0);break;case 11:this.ui.list.focus(o.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),L.EventHelper.stop(u,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(u.ctrlKey||u.metaKey)&&!u.shiftKey&&!u.altKey&&(this.ui.list.focus(o.QuickInputListFocus.First),L.EventHelper.stop(u,!0));break;case 13:(u.ctrlKey||u.metaKey)&&!u.shiftKey&&!u.altKey&&(this.ui.list.focus(o.QuickInputListFocus.Last),L.EventHelper.stop(u,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(u=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,D.equals)(u,this._activeItems,(f,C)=>f===C)||(this._activeItems=u,this.onDidChangeActiveEmitter.fire(u))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:u,event:f})=>{if(this.canSelectMany){u.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,D.equals)(u,this._selectedItems,(C,_)=>C===_)||(this._selectedItems=u,this.onDidChangeSelectionEmitter.fire(u),u.length&&this.handleAccept(L.isMouseEvent(f)&&f.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(u=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,D.equals)(u,this._selectedItems,(f,C)=>f===C)||(this._selectedItems=u,this.onDidChangeSelectionEmitter.fire(u)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(u=>this.onDidTriggerItemButtonEmitter.fire(u))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(u=>this.onDidTriggerSeparatorButtonEmitter.fire(u))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(u){let f=!1;this.onWillAcceptEmitter.fire({veto:()=>f=!0}),f||this.onDidAcceptEmitter.fire({inBackground:u})}registerQuickNavigation(){return L.addDisposableListener(this.ui.container,L.EventType.KEY_UP,u=>{if(this.canSelectMany||!this._quickNavigate)return;const f=new k.StandardKeyboardEvent(u),C=f.keyCode;this._quickNavigate.keybindings.some(I=>{const T=I.getChords();return T.length>1?!1:T[0].shiftKey&&C===4?!(f.ctrlKey||f.altKey||f.metaKey):!!(T[0].altKey&&C===6||T[0].ctrlKey&&C===5||T[0].metaKey&&C===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const u=this.keepScrollPosition?this.scrollTop:0,f=!!this.description,C={title:!!this.title||!!this.step||!!this.buttons.length,description:f,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||f,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(C),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let _=this.ariaLabel;if(!_&&C.inputBox&&(_=this.placeholder||s.DEFAULT_ARIA_LABEL,this.title&&(_+=` - ${this.title}`)),this.ui.list.ariaLabel!==_&&(this.ui.list.ariaLabel=_??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case t.ItemActivation.NONE:this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.SECOND:this.ui.list.focus(o.QuickInputListFocus.Second),this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.LAST:this.ui.list.focus(o.QuickInputListFocus.Last),this._itemActivation=t.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",C.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(o.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=u)}}e.QuickPick=s,s.DEFAULT_ARIA_LABEL=(0,i.localize)(3,null);class l extends d{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new w.Emitter),this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(u){this._value=u||"",this.update()}get placeholder(){return this._placeholder}set placeholder(u){this._placeholder=u,this.update()}get password(){return this._password}set password(u){this._password=u,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(u=>{u!==this.value&&(this._value=u,this.onDidValueChangeEmitter.fire(u))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const u={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(u),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}e.InputBox=l;let r=class extends c.WorkbenchHoverDelegate{constructor(u,f){super("element",!1,C=>this.getOverrideOptions(C),u,f)}getOverrideOptions(u){var f;const C=(u.content instanceof HTMLElement?(f=u.content.textContent)!==null&&f!==void 0?f:"":typeof u.content=="string"?u.content:u.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:C,skipFadeInAnimation:!0}}}};e.QuickInputHoverDelegate=r,e.QuickInputHoverDelegate=r=De([he(0,m.IConfigurationService),he(1,c.IHoverService)],r)}),define(ne[860],se([1,0,6,79,235,326,600,19,7,2,103,759,72,798,373,374,50]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const m=L.$;class c extends v.Disposable{get container(){return this._container}constructor(s,l,r){super(),this.options=s,this.themeService=l,this.layoutService=r,this.enabled=!0,this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidCustomEmitter=this._register(new w.Emitter),this.onDidTriggerButtonEmitter=this._register(new w.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new w.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new w.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=s.idPrefix,this._container=s.container,this.styles=s.styles,this._register(w.Event.runAndSubscribe(L.onDidRegisterWindow,({window:h,disposables:u})=>this.registerKeyModsListeners(h,u),{window:g.mainWindow,disposables:this._store})),this._register(L.onWillUnregisterWindow(h=>{this.ui&&L.getWindow(this.ui.container)===h&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(s,l){const r=h=>{this.keyMods.ctrlCmd=h.ctrlKey||h.metaKey,this.keyMods.alt=h.altKey};for(const h of[L.EventType.KEY_DOWN,L.EventType.KEY_UP,L.EventType.MOUSE_DOWN])l.add(L.addDisposableListener(s,h,r,!0))}getUI(s){if(this.ui)return s&&L.getWindow(this._container)!==L.getWindow(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const l=L.append(this._container,m(".quick-input-widget.show-file-icons"));l.tabIndex=-1,l.style.display="none";const r=L.createStyleSheet(l),h=L.append(l,m(".quick-input-titlebar")),u=this._register(new k.ActionBar(h,{hoverDelegate:this.options.hoverDelegate}));u.domNode.classList.add("quick-input-left-action-bar");const f=L.append(h,m(".quick-input-title")),C=this._register(new k.ActionBar(h,{hoverDelegate:this.options.hoverDelegate}));C.domNode.classList.add("quick-input-right-action-bar");const _=L.append(l,m(".quick-input-header")),E=L.append(_,m("input.quick-input-check-all"));E.type="checkbox",E.setAttribute("aria-label",(0,a.localize)(0,null)),this._register(L.addStandardDisposableListener(E,L.EventType.CHANGE,X=>{const Y=E.checked;ie.setAllVisibleChecked(Y)})),this._register(L.addDisposableListener(E,L.EventType.CLICK,X=>{(X.x||X.y)&&R.setFocus()}));const I=L.append(_,m(".quick-input-description")),T=L.append(_,m(".quick-input-and-message")),A=L.append(T,m(".quick-input-filter")),R=this._register(new i.QuickInputBox(A,this.styles.inputBox,this.styles.toggle));R.setAttribute("aria-describedby",`${this.idPrefix}message`);const M=L.append(A,m(".quick-input-visible-count"));M.setAttribute("aria-live","polite"),M.setAttribute("aria-atomic","true");const N=new D.CountBadge(M,{countFormat:(0,a.localize)(1,null)},this.styles.countBadge),P=L.append(A,m(".quick-input-count"));P.setAttribute("aria-live","polite");const F=new D.CountBadge(P,{countFormat:(0,a.localize)(2,null)},this.styles.countBadge),O=L.append(_,m(".quick-input-action")),B=this._register(new y.Button(O,this.styles.button));B.label=(0,a.localize)(3,null),this._register(B.onDidClick(X=>{this.onDidAcceptEmitter.fire()}));const W=L.append(_,m(".quick-input-action")),V=this._register(new y.Button(W,{...this.styles.button,supportIcons:!0}));V.label=(0,a.localize)(4,null),this._register(V.onDidClick(X=>{this.onDidCustomEmitter.fire()}));const z=L.append(T,m(`#${this.idPrefix}message.quick-input-message`)),K=this._register(new S.ProgressBar(l,this.styles.progressBar));K.getContainer().classList.add("quick-input-progress");const j=L.append(l,m(".quick-input-html-widget"));j.tabIndex=-1;const x=L.append(l,m(".quick-input-description")),re=this.idPrefix+"list",ie=this._register(new t.QuickInputList(l,re,this.options,this.themeService));R.setAttribute("aria-controls",re),this._register(ie.onDidChangeFocus(()=>{var X;R.setAttribute("aria-activedescendant",(X=ie.getActiveDescendant())!==null&&X!==void 0?X:"")})),this._register(ie.onChangedAllVisibleChecked(X=>{E.checked=X})),this._register(ie.onChangedVisibleCount(X=>{N.setCount(X)})),this._register(ie.onChangedCheckedCount(X=>{F.setCount(X)})),this._register(ie.onLeave(()=>{setTimeout(()=>{this.controller&&(R.setFocus(),this.controller instanceof o.QuickPick&&this.controller.canSelectMany&&ie.clearFocus())},0)}));const J=L.trackFocus(l);return this._register(J),this._register(L.addDisposableListener(l,L.EventType.FOCUS,X=>{L.isAncestor(X.relatedTarget,l)||(this.previousFocusElement=X.relatedTarget instanceof HTMLElement?X.relatedTarget:void 0)},!0)),this._register(J.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(n.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(L.addDisposableListener(l,L.EventType.FOCUS,X=>{R.setFocus()})),this._register(L.addStandardDisposableListener(l,L.EventType.KEY_DOWN,X=>{if(!L.isAncestor(X.target,j))switch(X.keyCode){case 3:L.EventHelper.stop(X,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:L.EventHelper.stop(X,!0),this.hide(n.QuickInputHideReason.Gesture);break;case 2:if(!X.altKey&&!X.ctrlKey&&!X.metaKey){const Y=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(l.classList.contains("show-checkboxes")?Y.push("input"):Y.push("input[type=text]"),this.getUI().list.isDisplayed()&&Y.push(".monaco-list"),this.getUI().message&&Y.push(".quick-input-message a"),this.getUI().widget){if(L.isAncestor(X.target,this.getUI().widget))break;Y.push(".quick-input-html-widget")}const le=l.querySelectorAll(Y.join(", "));X.shiftKey&&X.target===le[0]?(L.EventHelper.stop(X,!0),ie.clearFocus()):!X.shiftKey&&L.isAncestor(X.target,le[le.length-1])&&(L.EventHelper.stop(X,!0),le[0].focus())}break;case 10:X.ctrlKey&&(L.EventHelper.stop(X,!0),this.getUI().list.toggleHover());break}})),this.ui={container:l,styleSheet:r,leftActionBar:u,titleBar:h,title:f,description1:x,description2:I,widget:j,rightActionBar:C,checkAll:E,inputContainer:T,filterContainer:A,inputBox:R,visibleCountContainer:M,visibleCount:N,countContainer:P,count:F,okContainer:O,ok:B,message:z,customButtonContainer:W,customButton:V,list:ie,progressBar:K,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:X=>this.show(X),hide:()=>this.hide(),setVisibilities:X=>this.setVisibilities(X),setEnabled:X=>this.setEnabled(X),setContextKey:X=>this.options.setContextKey(X),linkOpenerDelegate:X=>this.options.linkOpenerDelegate(X)},this.updateStyles(),this.ui}reparentUI(s){this.ui&&(this._container=s,L.append(this._container,this.ui.container))}pick(s,l={},r=p.CancellationToken.None){return new Promise((h,u)=>{let f=I=>{var T;f=h,(T=l.onKeyMods)===null||T===void 0||T.call(l,C.keyMods),h(I)};if(r.isCancellationRequested){f(void 0);return}const C=this.createQuickPick();let _;const E=[C,C.onDidAccept(()=>{if(C.canSelectMany)f(C.selectedItems.slice()),C.hide();else{const I=C.activeItems[0];I&&(f(I),C.hide())}}),C.onDidChangeActive(I=>{const T=I[0];T&&l.onDidFocus&&l.onDidFocus(T)}),C.onDidChangeSelection(I=>{if(!C.canSelectMany){const T=I[0];T&&(f(T),C.hide())}}),C.onDidTriggerItemButton(I=>l.onDidTriggerItemButton&&l.onDidTriggerItemButton({...I,removeItem:()=>{const T=C.items.indexOf(I.item);if(T!==-1){const A=C.items.slice(),R=A.splice(T,1),M=C.activeItems.filter(P=>P!==R[0]),N=C.keepScrollPosition;C.keepScrollPosition=!0,C.items=A,M&&(C.activeItems=M),C.keepScrollPosition=N}}})),C.onDidTriggerSeparatorButton(I=>{var T;return(T=l.onDidTriggerSeparatorButton)===null||T===void 0?void 0:T.call(l,I)}),C.onDidChangeValue(I=>{_&&!I&&(C.activeItems.length!==1||C.activeItems[0]!==_)&&(C.activeItems=[_])}),r.onCancellationRequested(()=>{C.hide()}),C.onDidHide(()=>{(0,v.dispose)(E),f(void 0)})];C.title=l.title,C.canSelectMany=!!l.canPickMany,C.placeholder=l.placeHolder,C.ignoreFocusOut=!!l.ignoreFocusLost,C.matchOnDescription=!!l.matchOnDescription,C.matchOnDetail=!!l.matchOnDetail,C.matchOnLabel=l.matchOnLabel===void 0||l.matchOnLabel,C.quickNavigate=l.quickNavigate,C.hideInput=!!l.hideInput,C.contextKey=l.contextKey,C.busy=!0,Promise.all([s,l.activeItem]).then(([I,T])=>{_=T,C.busy=!1,C.items=I,C.canSelectMany&&(C.selectedItems=I.filter(A=>A.type!=="separator"&&A.picked)),_&&(C.activeItems=[_])}),C.show(),Promise.resolve(s).then(void 0,I=>{u(I),C.hide()})})}createQuickPick(){const s=this.getUI(!0);return new o.QuickPick(s)}createInputBox(){const s=this.getUI(!0);return new o.InputBox(s)}show(s){const l=this.getUI(!0);this.onShowEmitter.fire();const r=this.controller;this.controller=s,r?.didHide(),this.setEnabled(!0),l.leftActionBar.clear(),l.title.textContent="",l.description1.textContent="",l.description2.textContent="",L.reset(l.widget),l.rightActionBar.clear(),l.checkAll.checked=!1,l.inputBox.placeholder="",l.inputBox.password=!1,l.inputBox.showDecoration(b.default.Ignore),l.visibleCount.setCount(0),l.count.setCount(0),L.reset(l.message),l.progressBar.stop(),l.list.setElements([]),l.list.matchOnDescription=!1,l.list.matchOnDetail=!1,l.list.matchOnLabel=!0,l.list.sortByLabel=!0,l.ignoreFocusOut=!1,l.inputBox.toggles=void 0;const h=this.options.backKeybindingLabel();o.backButton.tooltip=h?(0,a.localize)(5,null,h):(0,a.localize)(6,null),l.container.style.display="",this.updateLayout(),l.inputBox.setFocus()}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(s){const l=this.getUI();l.title.style.display=s.title?"":"none",l.description1.style.display=s.description&&(s.inputBox||s.checkAll)?"":"none",l.description2.style.display=s.description&&!(s.inputBox||s.checkAll)?"":"none",l.checkAll.style.display=s.checkAll?"":"none",l.inputContainer.style.display=s.inputBox?"":"none",l.filterContainer.style.display=s.inputBox?"":"none",l.visibleCountContainer.style.display=s.visibleCount?"":"none",l.countContainer.style.display=s.count?"":"none",l.okContainer.style.display=s.ok?"":"none",l.customButtonContainer.style.display=s.customButton?"":"none",l.message.style.display=s.message?"":"none",l.progressBar.getContainer().style.display=s.progressBar?"":"none",l.list.display(!!s.list),l.container.classList.toggle("show-checkboxes",!!s.checkBox),l.container.classList.toggle("hidden-input",!s.inputBox&&!s.description),this.updateLayout()}setEnabled(s){if(s!==this.enabled){this.enabled=s;for(const l of this.getUI().leftActionBar.viewItems)l.action.enabled=s;for(const l of this.getUI().rightActionBar.viewItems)l.action.enabled=s;this.getUI().checkAll.disabled=!s,this.getUI().inputBox.enabled=s,this.getUI().ok.enabled=s,this.getUI().list.enabled=s}}hide(s){var l,r;const h=this.controller;if(!h)return;const u=(l=this.ui)===null||l===void 0?void 0:l.container,f=u&&!L.isAncestorOfActiveElement(u);if(this.controller=null,this.onHideEmitter.fire(),u&&(u.style.display="none"),!f){let C=this.previousFocusElement;for(;C&&!C.offsetParent;)C=(r=C.parentElement)!==null&&r!==void 0?r:void 0;C?.offsetParent?(C.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}h.didHide(s)}layout(s,l){this.dimension=s,this.titleBarOffset=l,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const s=this.ui.container.style,l=Math.min(this.dimension.width*.62,c.MAX_WIDTH);s.width=l+"px",s.marginLeft="-"+l/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(s){this.styles=s,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:s,quickInputBackground:l,quickInputForeground:r,widgetBorder:h,widgetShadow:u}=this.styles.widget;this.ui.titleBar.style.backgroundColor=s??"",this.ui.container.style.backgroundColor=l??"",this.ui.container.style.color=r??"",this.ui.container.style.border=h?`1px solid ${h}`:"",this.ui.container.style.boxShadow=u?`0 0 8px 2px ${u}`:"",this.ui.list.style(this.styles.list);const f=[];this.styles.pickerGroup.pickerGroupBorder&&f.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&f.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&f.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(f.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&f.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&f.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&f.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&f.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&f.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),f.push("}"));const C=f.join(`
`);C!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=C)}}}e.QuickInputController=c,c.MAX_WIDTH=600}),define(ne[24],se([1,0,7,2,8,37,89]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.themeColorFromId=e.IThemeService=void 0,e.IThemeService=(0,y.createDecorator)("themeService");function p(i){return{id:i}}e.themeColorFromId=p;function w(i){switch(i){case S.ColorScheme.DARK:return"vs-dark";case S.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case S.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=w,e.Extensions={ThemingContribution:"base.contributions.theming"};class v{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new L.Emitter}onColorThemeChange(t){return this.themingParticipants.push(t),this.onThemingParticipantAddedEmitter.fire(t),(0,k.toDisposable)(()=>{const o=this.themingParticipants.indexOf(t);this.themingParticipants.splice(o,1)})}getThemingParticipants(){return this.themingParticipants}}const b=new v;D.Registry.add(e.Extensions.ThemingContribution,b);function a(i){return b.onColorThemeChange(i)}e.registerThemingParticipant=a;class n extends k.Disposable{constructor(t){super(),this.themeService=t,this.theme=t.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(o=>this.onThemeChange(o)))}onThemeChange(t){this.theme=t,this.updateStyles()}updateStyles(){}}e.Themable=n}),define(ne[861],se([1,0,7,2,67,24]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let S=class extends k.Disposable{constructor(v){super(),this._themeService=v,this._onWillCreateCodeEditor=this._register(new L.Emitter),this._onCodeEditorAdd=this._register(new L.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new L.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new L.Emitter),this._onDiffEditorAdd=this._register(new L.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new L.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new y.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(v){this._codeEditors[v.getId()]=v,this._onCodeEditorAdd.fire(v)}removeCodeEditor(v){delete this._codeEditors[v.getId()]&&this._onCodeEditorRemove.fire(v)}listCodeEditors(){return Object.keys(this._codeEditors).map(v=>this._codeEditors[v])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(v){this._diffEditors[v.getId()]=v,this._onDiffEditorAdd.fire(v)}listDiffEditors(){return Object.keys(this._diffEditors).map(v=>this._diffEditors[v])}getFocusedCodeEditor(){let v=null;const b=this.listCodeEditors();for(const a of b){if(a.hasTextFocus())return a;a.hasWidgetFocus()&&(v=a)}return v}removeDecorationType(v){const b=this._decorationOptionProviders.get(v);b&&(b.refCount--,b.refCount<=0&&(this._decorationOptionProviders.delete(v),b.dispose(),this.listCodeEditors().forEach(a=>a.removeDecorationsByType(v))))}setModelProperty(v,b,a){const n=v.toString();let i;this._modelProperties.has(n)?i=this._modelProperties.get(n):(i=new Map,this._modelProperties.set(n,i)),i.set(b,a)}getModelProperty(v,b){const a=v.toString();if(this._modelProperties.has(a))return this._modelProperties.get(a).get(b)}async openCodeEditor(v,b,a){for(const n of this._codeEditorOpenHandlers){const i=await n(v,b,a);if(i!==null)return i}return null}registerCodeEditorOpenHandler(v){const b=this._codeEditorOpenHandlers.unshift(v);return(0,k.toDisposable)(b)}};e.AbstractCodeEditorService=S,e.AbstractCodeEditorService=S=De([he(0,D.IThemeService)],S);class p{constructor(v){this._styleSheet=v}}e.GlobalStyleSheet=p}),define(ne[862],se([1,0,45,24,31,249,56,8,799,2,6,34,46,71,125,50]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverService=void 0;let g=class{constructor(s,l,r,h,u,f){this._instantiationService=s,this._contextViewService=l,this._keybindingService=h,this._layoutService=u,this._accessibilityService=f,r.onDidShowContextMenu(()=>this.hideHover())}showHover(s,l,r){var h,u,f,C;if(m(this._currentHoverOptions)===m(s)||this._currentHover&&(!((u=(h=this._currentHoverOptions)===null||h===void 0?void 0:h.persistence)===null||u===void 0)&&u.sticky))return;this._currentHoverOptions=s,this._lastHoverOptions=s;const _=s.trapFocus||this._accessibilityService.isScreenReaderOptimized(),E=(0,b.getActiveElement)();r||(_&&E?this._lastFocusedElementBeforeOpen=E:this._lastFocusedElementBeforeOpen=void 0);const I=new v.DisposableStore,T=this._instantiationService.createInstance(w.HoverWidget,s);if(!((f=s.persistence)===null||f===void 0)&&f.sticky&&(T.isLocked=!0),T.onDispose(()=>{var R,M;((R=this._currentHover)===null||R===void 0?void 0:R.domNode)&&(0,b.isAncestorOfActiveElement)(this._currentHover.domNode)&&((M=this._lastFocusedElementBeforeOpen)===null||M===void 0||M.focus()),this._currentHoverOptions===s&&(this._currentHoverOptions=void 0),I.dispose()}),!s.container){const R=s.target instanceof HTMLElement?s.target:s.target.targetElements[0];s.container=this._layoutService.getContainer((0,b.getWindow)(R))}const A=this._contextViewService;if(A.showContextView(new c(T,l),s.container),T.onRequestLayout(()=>A.layout()),!((C=s.persistence)===null||C===void 0)&&C.sticky)I.add((0,b.addDisposableListener)((0,b.getWindow)(s.container).document,b.EventType.MOUSE_DOWN,R=>{(0,b.isAncestor)(R.target,T.domNode)||this.doHideHover()}));else{if("targetElements"in s.target)for(const M of s.target.targetElements)I.add((0,b.addDisposableListener)(M,b.EventType.CLICK,()=>this.hideHover()));else I.add((0,b.addDisposableListener)(s.target,b.EventType.CLICK,()=>this.hideHover()));const R=(0,b.getActiveElement)();if(R){const M=(0,b.getWindow)(R).document;I.add((0,b.addDisposableListener)(R,b.EventType.KEY_DOWN,N=>{var P;return this._keyDown(N,T,!!(!((P=s.persistence)===null||P===void 0)&&P.hideOnKeyDown))})),I.add((0,b.addDisposableListener)(M,b.EventType.KEY_DOWN,N=>{var P;return this._keyDown(N,T,!!(!((P=s.persistence)===null||P===void 0)&&P.hideOnKeyDown))})),I.add((0,b.addDisposableListener)(R,b.EventType.KEY_UP,N=>this._keyUp(N,T))),I.add((0,b.addDisposableListener)(M,b.EventType.KEY_UP,N=>this._keyUp(N,T)))}}if("IntersectionObserver"in o.mainWindow){const R=new IntersectionObserver(N=>this._intersectionChange(N,T),{threshold:0}),M="targetElements"in s.target?s.target.targetElements[0]:s.target;R.observe(M),I.add((0,v.toDisposable)(()=>R.disconnect()))}return this._currentHover=T,T}hideHover(){var s;!((s=this._currentHover)===null||s===void 0)&&s.isLocked||!this._currentHoverOptions||this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewService.hideContextView()}_intersectionChange(s,l){s[s.length-1].isIntersecting||l.dispose()}_keyDown(s,l,r){var h,u;if(s.key==="Alt"){l.isLocked=!0;return}const f=new n.StandardKeyboardEvent(s);this._keybindingService.resolveKeyboardEvent(f).getSingleModifierDispatchChords().some(_=>!!_)||this._keybindingService.softDispatch(f,f.target).kind!==0||r&&(!(!((h=this._currentHoverOptions)===null||h===void 0)&&h.trapFocus)||s.key!=="Tab")&&(this.hideHover(),(u=this._lastFocusedElementBeforeOpen)===null||u===void 0||u.focus())}_keyUp(s,l){var r;s.key==="Alt"&&(l.isLocked=!1,l.isMouseIn||(this.hideHover(),(r=this._lastFocusedElementBeforeOpen)===null||r===void 0||r.focus()))}};e.HoverService=g,e.HoverService=g=De([he(0,p.IInstantiationService),he(1,S.IContextViewService),he(2,S.IContextMenuService),he(3,a.IKeybindingService),he(4,t.ILayoutService),he(5,i.IAccessibilityService)],g);function m(d){var s;if(d!==void 0)return(s=d?.id)!==null&&s!==void 0?s:d}class c{get anchorPosition(){return this._hover.anchor}constructor(s,l=!1){this._hover=s,this._focus=l}render(s){return this._hover.render(s),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}(0,L.registerSingleton)(D.IHoverService,g,1),(0,k.registerThemingParticipant)((d,s)=>{const l=d.getColor(y.editorHoverBorder);l&&(s.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${l.transparent(.5)}; }`),s.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${l.transparent(.5)}; }`))})}),define(ne[863],se([1,0,6,41,78,55,24]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class p extends D.ViewPart{constructor(v,b,a,n){super(v);const i=this._context.configuration.options,t=i.get(103),o=i.get(75),g=i.get(40),m=i.get(106),c={listenOnDomNode:a.domNode,className:"editor-scrollable "+(0,S.getThemeTypeSelector)(v.theme.type),useShadows:!1,lazyRender:!0,vertical:t.vertical,horizontal:t.horizontal,verticalHasArrows:t.verticalHasArrows,horizontalHasArrows:t.horizontalHasArrows,verticalScrollbarSize:t.verticalScrollbarSize,verticalSliderSize:t.verticalSliderSize,horizontalScrollbarSize:t.horizontalScrollbarSize,horizontalSliderSize:t.horizontalSliderSize,handleMouseWheel:t.handleMouseWheel,alwaysConsumeMouseWheel:t.alwaysConsumeMouseWheel,arrowSize:t.arrowSize,mouseWheelScrollSensitivity:o,fastScrollSensitivity:g,scrollPredominantAxis:m,scrollByPage:t.scrollByPage};this.scrollbar=this._register(new y.SmoothScrollableElement(b.domNode,c,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=(0,k.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(s,l,r)=>{const h={};if(l){const u=s.scrollTop;u&&(h.scrollTop=this._context.viewLayout.getCurrentScrollTop()+u,s.scrollTop=0)}if(r){const u=s.scrollLeft;u&&(h.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+u,s.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(h,1)};this._register(L.addDisposableListener(a.domNode,"scroll",s=>d(a.domNode,!0,!0))),this._register(L.addDisposableListener(b.domNode,"scroll",s=>d(b.domNode,!0,!1))),this._register(L.addDisposableListener(n.domNode,"scroll",s=>d(n.domNode,!0,!1))),this._register(L.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",s=>d(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const v=this._context.configuration.options,b=v.get(144);this.scrollbarDomNode.setLeft(b.contentLeft),v.get(73).side==="right"?this.scrollbarDomNode.setWidth(b.contentWidth+b.minimap.minimapWidth):this.scrollbarDomNode.setWidth(b.contentWidth),this.scrollbarDomNode.setHeight(b.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(v){this.scrollbar.delegateVerticalScrollbarPointerDown(v)}delegateScrollFromMouseWheelEvent(v){this.scrollbar.delegateScrollFromMouseWheelEvent(v)}onConfigurationChanged(v){if(v.hasChanged(103)||v.hasChanged(75)||v.hasChanged(40)){const b=this._context.configuration.options,a=b.get(103),n=b.get(75),i=b.get(40),t=b.get(106),o={vertical:a.vertical,horizontal:a.horizontal,verticalScrollbarSize:a.verticalScrollbarSize,horizontalScrollbarSize:a.horizontalScrollbarSize,scrollByPage:a.scrollByPage,handleMouseWheel:a.handleMouseWheel,mouseWheelScrollSensitivity:n,fastScrollSensitivity:i,scrollPredominantAxis:t};this.scrollbar.updateOptions(o)}return v.hasChanged(144)&&this._setLayout(),!0}onScrollChanged(v){return!0}onThemeChanged(v){return this.scrollbar.updateClassName("editor-scrollable "+(0,S.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(v){}render(v){this.scrollbar.renderNow()}}e.EditorScrollbar=p}),define(ne[864],se([1,0,118,31,24,451]),function(ee,e,L,k,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(n){this.left=n.left,this.width=n.width,this.startStyle=null,this.endStyle=null}}class S{constructor(n,i){this.lineNumber=n,this.ranges=i}}function p(a){return new D(a)}function w(a){return new S(a.lineNumber,a.ranges.map(p))}class v extends L.DynamicViewOverlay{constructor(n){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=n;const i=this._context.configuration.options;this._lineHeight=i.get(67),this._roundedSelection=i.get(101),this._typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const i=this._context.configuration.options;return this._lineHeight=i.get(67),this._roundedSelection=i.get(101),this._typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(n){return this._selections=n.selections.slice(0),!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}_visibleRangesHaveGaps(n){for(let i=0,t=n.length;i<t;i++)if(n[i].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(n,i,t){const o=this._typicalHalfwidthCharacterWidth/4;let g=null,m=null;if(t&&t.length>0&&i.length>0){const c=i[0].lineNumber;if(c===n.startLineNumber)for(let s=0;!g&&s<t.length;s++)t[s].lineNumber===c&&(g=t[s].ranges[0]);const d=i[i.length-1].lineNumber;if(d===n.endLineNumber)for(let s=t.length-1;!m&&s>=0;s--)t[s].lineNumber===d&&(m=t[s].ranges[0]);g&&!g.startStyle&&(g=null),m&&!m.startStyle&&(m=null)}for(let c=0,d=i.length;c<d;c++){const s=i[c].ranges[0],l=s.left,r=s.left+s.width,h={top:0,bottom:0},u={top:0,bottom:0};if(c>0){const f=i[c-1].ranges[0].left,C=i[c-1].ranges[0].left+i[c-1].ranges[0].width;b(l-f)<o?h.top=2:l>f&&(h.top=1),b(r-C)<o?u.top=2:f<r&&r<C&&(u.top=1)}else g&&(h.top=g.startStyle.top,u.top=g.endStyle.top);if(c+1<d){const f=i[c+1].ranges[0].left,C=i[c+1].ranges[0].left+i[c+1].ranges[0].width;b(l-f)<o?h.bottom=2:f<l&&l<C&&(h.bottom=1),b(r-C)<o?u.bottom=2:r<C&&(u.bottom=1)}else m&&(h.bottom=m.startStyle.bottom,u.bottom=m.endStyle.bottom);s.startStyle=h,s.endStyle=u}}_getVisibleRangesWithStyle(n,i,t){const g=(i.linesVisibleRangesForRange(n,!0)||[]).map(w);return!this._visibleRangesHaveGaps(g)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(i.visibleRange,g,t),g}_createSelectionPiece(n,i,t,o,g){return'<div class="cslr '+t+'" style="top:'+n.toString()+"px;left:"+o.toString()+"px;width:"+g.toString()+"px;height:"+i+'px;"></div>'}_actualRenderOneSelection(n,i,t,o){if(o.length===0)return;const g=!!o[0].ranges[0].startStyle,m=this._lineHeight.toString(),c=(this._lineHeight-1).toString(),d=o[0].lineNumber,s=o[o.length-1].lineNumber;for(let l=0,r=o.length;l<r;l++){const h=o[l],u=h.lineNumber,f=u-i,C=t&&(u===s||u===d)?c:m,_=t&&u===d?1:0;let E="",I="";for(let T=0,A=h.ranges.length;T<A;T++){const R=h.ranges[T];if(g){const N=R.startStyle,P=R.endStyle;if(N.top===1||N.bottom===1){E+=this._createSelectionPiece(_,C,v.SELECTION_CLASS_NAME,R.left-v.ROUNDED_PIECE_WIDTH,v.ROUNDED_PIECE_WIDTH);let F=v.EDITOR_BACKGROUND_CLASS_NAME;N.top===1&&(F+=" "+v.SELECTION_TOP_RIGHT),N.bottom===1&&(F+=" "+v.SELECTION_BOTTOM_RIGHT),E+=this._createSelectionPiece(_,C,F,R.left-v.ROUNDED_PIECE_WIDTH,v.ROUNDED_PIECE_WIDTH)}if(P.top===1||P.bottom===1){E+=this._createSelectionPiece(_,C,v.SELECTION_CLASS_NAME,R.left+R.width,v.ROUNDED_PIECE_WIDTH);let F=v.EDITOR_BACKGROUND_CLASS_NAME;P.top===1&&(F+=" "+v.SELECTION_TOP_LEFT),P.bottom===1&&(F+=" "+v.SELECTION_BOTTOM_LEFT),E+=this._createSelectionPiece(_,C,F,R.left+R.width,v.ROUNDED_PIECE_WIDTH)}}let M=v.SELECTION_CLASS_NAME;if(g){const N=R.startStyle,P=R.endStyle;N.top===0&&(M+=" "+v.SELECTION_TOP_LEFT),N.bottom===0&&(M+=" "+v.SELECTION_BOTTOM_LEFT),P.top===0&&(M+=" "+v.SELECTION_TOP_RIGHT),P.bottom===0&&(M+=" "+v.SELECTION_BOTTOM_RIGHT)}I+=this._createSelectionPiece(_,C,M,R.left,R.width)}n[f][0]+=E,n[f][1]+=I}}prepareRender(n){const i=[],t=n.visibleRange.startLineNumber,o=n.visibleRange.endLineNumber;for(let m=t;m<=o;m++){const c=m-t;i[c]=["",""]}const g=[];for(let m=0,c=this._selections.length;m<c;m++){const d=this._selections[m];if(d.isEmpty()){g[m]=null;continue}const s=this._getVisibleRangesWithStyle(d,n,this._previousFrameVisibleRangesWithStyle[m]);g[m]=s,this._actualRenderOneSelection(i,t,this._selections.length>1,s)}this._previousFrameVisibleRangesWithStyle=g,this._renderResult=i.map(([m,c])=>m+c)}render(n,i){if(!this._renderResult)return"";const t=i-n;return t<0||t>=this._renderResult.length?"":this._renderResult[t]}}e.SelectionsOverlay=v,v.SELECTION_CLASS_NAME="selected-text",v.SELECTION_TOP_LEFT="top-left-radius",v.SELECTION_BOTTOM_LEFT="bottom-left-radius",v.SELECTION_TOP_RIGHT="top-right-radius",v.SELECTION_BOTTOM_RIGHT="bottom-right-radius",v.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",v.ROUNDED_PIECE_WIDTH=10,(0,y.registerThemingParticipant)((a,n)=>{const i=a.getColor(k.editorSelectionForeground);i&&!i.isTransparent()&&n.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${i}; }`)});function b(a){return a<0?-a:a}}),define(ne[375],se([1,0,6,41,203,2,32,87,9,308,31,24]),function(ee,e,L,k,y,D,S,p,w,v,b,a){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerFeature=void 0;let i=n=class extends D.Disposable{constructor(o,g,m,c,d,s,l){super(),this._editors=o,this._rootElement=g,this._diffModel=m,this._rootWidth=c,this._rootHeight=d,this._modifiedEditorLayoutInfo=s,this._themeService=l,this.width=n.ENTIRE_DIFF_OVERVIEW_WIDTH;const r=(0,S.observableFromEvent)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),h=(0,S.derived)(C=>{const _=r.read(C),E=_.getColor(b.diffOverviewRulerInserted)||(_.getColor(b.diffInserted)||b.defaultInsertColor).transparent(2),I=_.getColor(b.diffOverviewRulerRemoved)||(_.getColor(b.diffRemoved)||b.defaultRemoveColor).transparent(2);return{insertColor:E,removeColor:I}}),u=(0,k.createFastDomNode)(document.createElement("div"));u.setClassName("diffViewport"),u.setPosition("absolute");const f=(0,L.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:n.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register((0,p.appendRemoveOnDispose)(f,u.domNode)),this._register((0,L.addStandardDisposableListener)(f,L.EventType.POINTER_DOWN,C=>{this._editors.modified.delegateVerticalScrollbarPointerDown(C)})),this._register((0,L.addDisposableListener)(f,L.EventType.MOUSE_WHEEL,C=>{this._editors.modified.delegateScrollFromMouseWheelEvent(C)},{passive:!1})),this._register((0,p.appendRemoveOnDispose)(this._rootElement,f)),this._register((0,S.autorunWithStore)((C,_)=>{const E=this._diffModel.read(C),I=this._editors.original.createOverviewRuler("original diffOverviewRuler");I&&(_.add(I),_.add((0,p.appendRemoveOnDispose)(f,I.getDomNode())));const T=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(T&&(_.add(T),_.add((0,p.appendRemoveOnDispose)(f,T.getDomNode()))),!I||!T)return;const A=(0,S.observableSignalFromEvent)("viewZoneChanged",this._editors.original.onDidChangeViewZones),R=(0,S.observableSignalFromEvent)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),M=(0,S.observableSignalFromEvent)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),N=(0,S.observableSignalFromEvent)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);_.add((0,S.autorun)(P=>{var F;A.read(P),R.read(P),M.read(P),N.read(P);const O=h.read(P),B=(F=E?.diff.read(P))===null||F===void 0?void 0:F.mappings;function W(K,j,x){const re=x._getViewModel();return re?K.filter(ie=>ie.length>0).map(ie=>{const J=re.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(ie.startLineNumber,1)),X=re.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(ie.endLineNumberExclusive,1)),Y=X.lineNumber-J.lineNumber;return new v.OverviewRulerZone(J.lineNumber,X.lineNumber,Y,j.toString())}):[]}const V=W((B||[]).map(K=>K.lineRangeMapping.original),O.removeColor,this._editors.original),z=W((B||[]).map(K=>K.lineRangeMapping.modified),O.insertColor,this._editors.modified);I?.setZones(V),T?.setZones(z)})),_.add((0,S.autorun)(P=>{const F=this._rootHeight.read(P),O=this._rootWidth.read(P),B=this._modifiedEditorLayoutInfo.read(P);if(B){const W=n.ENTIRE_DIFF_OVERVIEW_WIDTH-2*n.ONE_OVERVIEW_WIDTH;I.setLayout({top:0,height:F,right:W+n.ONE_OVERVIEW_WIDTH,width:n.ONE_OVERVIEW_WIDTH}),T.setLayout({top:0,height:F,right:0,width:n.ONE_OVERVIEW_WIDTH});const V=this._editors.modifiedScrollTop.read(P),z=this._editors.modifiedScrollHeight.read(P),K=this._editors.modified.getOption(103),j=new y.ScrollbarState(K.verticalHasArrows?K.arrowSize:0,K.verticalScrollbarSize,0,B.height,z,V);u.setTop(j.getSliderPosition()),u.setHeight(j.getSliderSize())}else u.setTop(0),u.setHeight(0);f.style.height=F+"px",f.style.left=O-n.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",u.setWidth(n.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};e.OverviewRulerFeature=i,i.ONE_OVERVIEW_WIDTH=15,i.ENTIRE_DIFF_OVERVIEW_WIDTH=n.ONE_OVERVIEW_WIDTH*2,e.OverviewRulerFeature=i=n=De([he(6,a.IThemeService)],i)}),define(ne[865],se([1,0,7,2,32,375,36,633,8,34,9]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorEditors=void 0;let a=class extends k.Disposable{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(i,t,o,g,m,c,d){super(),this.originalEditorElement=i,this.modifiedEditorElement=t,this._options=o,this._createInnerEditor=m,this._instantiationService=c,this._keybindingService=d,this._onDidContentSizeChange=this._register(new L.Emitter),this.original=this._register(this._createLeftHandSideEditor(o.editorOptions.get(),g.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(o.editorOptions.get(),g.modifiedEditor||{})),this.modifiedModel=(0,y.observableFromEvent)(this.modified.onDidChangeModel,()=>this.modified.getModel()),this.modifiedScrollTop=(0,y.observableFromEvent)(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=(0,y.observableFromEvent)(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedSelections=(0,y.observableFromEvent)(this.modified.onDidChangeCursorSelection,()=>{var s;return(s=this.modified.getSelections())!==null&&s!==void 0?s:[]}),this.modifiedCursor=(0,y.derivedOpts)({owner:this,equalityComparer:b.Position.equals},s=>{var l,r;return(r=(l=this.modifiedSelections.read(s)[0])===null||l===void 0?void 0:l.getPosition())!==null&&r!==void 0?r:new b.Position(1,1)}),this.originalCursor=(0,y.observableFromEvent)(this.original.onDidChangeCursorPosition,()=>{var s;return(s=this.original.getPosition())!==null&&s!==void 0?s:new b.Position(1,1)}),this._register((0,y.autorunHandleChanges)({createEmptyChangeSummary:()=>({}),handleChange:(s,l)=>(s.didChange(o.editorOptions)&&Object.assign(l,s.change.changedOptions),!0)},(s,l)=>{o.editorOptions.read(s),this._options.renderSideBySide.read(s),this.modified.updateOptions(this._adjustOptionsForRightHandSide(s,l)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(s,l))}))}_createLeftHandSideEditor(i,t){const o=this._adjustOptionsForLeftHandSide(void 0,i),g=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,o,t);return g.setContextValue("isInDiffLeftEditor",!0),g}_createRightHandSideEditor(i,t){const o=this._adjustOptionsForRightHandSide(void 0,i),g=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,o,t);return g.setContextValue("isInDiffRightEditor",!0),g}_constructInnerEditor(i,t,o,g){const m=this._createInnerEditor(i,t,o,g);return this._register(m.onDidContentSizeChange(c=>{const d=this.original.getContentWidth()+this.modified.getContentWidth()+D.OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH,s=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:s,contentWidth:d,contentHeightChanged:c.contentHeightChanged,contentWidthChanged:c.contentWidthChanged})})),m}_adjustOptionsForLeftHandSide(i,t){const o=this._adjustOptionsForSubEditor(t);return this._options.renderSideBySide.get()?(o.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},o.wordWrapOverride1=this._options.diffWordWrap.get()):(o.wordWrapOverride1="off",o.wordWrapOverride2="off",o.stickyScroll={enabled:!1},o.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),o.glyphMargin=this._options.renderSideBySide.get(),t.originalAriaLabel&&(o.ariaLabel=t.originalAriaLabel),o.ariaLabel=this._updateAriaLabel(o.ariaLabel),o.readOnly=!this._options.originalEditable.get(),o.dropIntoEditor={enabled:!o.readOnly},o.extraEditorClassName="original-in-monaco-diff-editor",o}_adjustOptionsForRightHandSide(i,t){const o=this._adjustOptionsForSubEditor(t);return t.modifiedAriaLabel&&(o.ariaLabel=t.modifiedAriaLabel),o.ariaLabel=this._updateAriaLabel(o.ariaLabel),o.wordWrapOverride1=this._options.diffWordWrap.get(),o.revealHorizontalRightPadding=S.EditorOptions.revealHorizontalRightPadding.defaultValue+D.OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH,o.scrollbar.verticalHasArrows=!1,o.extraEditorClassName="modified-in-monaco-diff-editor",o}_adjustOptionsForSubEditor(i){const t={...i,dimension:{height:0,width:0}};return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar={...t.scrollbar||{}},t.folding=!1,t.codeLens=this._options.diffCodeLens.get(),t.fixedOverflowWidgets=!0,t.minimap={...t.minimap||{}},t.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?t.stickyScroll={enabled:!1}:t.stickyScroll=this._options.editorOptions.get().stickyScroll,t}_updateAriaLabel(i){var t;i||(i="");const o=(0,p.localize)(0,null,(t=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||t===void 0?void 0:t.getAriaLabel());return this._options.accessibilityVerbose.get()?i+o:i?i.replaceAll(o,""):""}};e.DiffEditorEditors=a,e.DiffEditorEditors=a=De([he(5,w.IInstantiationService),he(6,v.IKeybindingService)],a)}),define(ne[83],se([1,0,648,39,31,24]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorDimmedLineNumber=e.editorActiveLineNumber=e.editorActiveIndentGuide6=e.editorActiveIndentGuide5=e.editorActiveIndentGuide4=e.editorActiveIndentGuide3=e.editorActiveIndentGuide2=e.editorActiveIndentGuide1=e.editorIndentGuide6=e.editorIndentGuide5=e.editorIndentGuide4=e.editorIndentGuide3=e.editorIndentGuide2=e.editorIndentGuide1=e.deprecatedEditorActiveIndentGuides=e.deprecatedEditorIndentGuides=e.editorLineNumbers=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,y.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(0,null)),e.editorLineHighlightBorder=(0,y.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:y.contrastBorder},L.localize(1,null)),e.editorRangeHighlight=(0,y.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},L.localize(2,null),!0),e.editorRangeHighlightBorder=(0,y.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(3,null),!0),e.editorSymbolHighlight=(0,y.registerColor)("editor.symbolHighlightBackground",{dark:y.editorFindMatchHighlight,light:y.editorFindMatchHighlight,hcDark:null,hcLight:null},L.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,y.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(5,null),!0),e.editorCursorForeground=(0,y.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hcDark:k.Color.white,hcLight:"#0F4A85"},L.localize(6,null)),e.editorCursorBackground=(0,y.registerColor)("editorCursor.background",null,L.localize(7,null)),e.editorWhitespaces=(0,y.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},L.localize(8,null)),e.editorLineNumbers=(0,y.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:k.Color.white,hcLight:"#292929"},L.localize(9,null)),e.deprecatedEditorIndentGuides=(0,y.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},L.localize(10,null),!1,L.localize(11,null)),e.deprecatedEditorActiveIndentGuides=(0,y.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},L.localize(12,null),!1,L.localize(13,null)),e.editorIndentGuide1=(0,y.registerColor)("editorIndentGuide.background1",{dark:e.deprecatedEditorIndentGuides,light:e.deprecatedEditorIndentGuides,hcDark:e.deprecatedEditorIndentGuides,hcLight:e.deprecatedEditorIndentGuides},L.localize(14,null)),e.editorIndentGuide2=(0,y.registerColor)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(15,null)),e.editorIndentGuide3=(0,y.registerColor)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(16,null)),e.editorIndentGuide4=(0,y.registerColor)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(17,null)),e.editorIndentGuide5=(0,y.registerColor)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(18,null)),e.editorIndentGuide6=(0,y.registerColor)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(19,null)),e.editorActiveIndentGuide1=(0,y.registerColor)("editorIndentGuide.activeBackground1",{dark:e.deprecatedEditorActiveIndentGuides,light:e.deprecatedEditorActiveIndentGuides,hcDark:e.deprecatedEditorActiveIndentGuides,hcLight:e.deprecatedEditorActiveIndentGuides},L.localize(20,null)),e.editorActiveIndentGuide2=(0,y.registerColor)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(21,null)),e.editorActiveIndentGuide3=(0,y.registerColor)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(22,null)),e.editorActiveIndentGuide4=(0,y.registerColor)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(23,null)),e.editorActiveIndentGuide5=(0,y.registerColor)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(24,null)),e.editorActiveIndentGuide6=(0,y.registerColor)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(25,null));const S=(0,y.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},L.localize(26,null),!1,L.localize(27,null));e.editorActiveLineNumber=(0,y.registerColor)("editorLineNumber.activeForeground",{dark:S,light:S,hcDark:S,hcLight:S},L.localize(28,null)),e.editorDimmedLineNumber=(0,y.registerColor)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(29,null)),e.editorRuler=(0,y.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hcDark:k.Color.white,hcLight:"#292929"},L.localize(30,null)),e.editorCodeLensForeground=(0,y.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},L.localize(31,null)),e.editorBracketMatchBackground=(0,y.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},L.localize(32,null)),e.editorBracketMatchBorder=(0,y.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:y.contrastBorder,hcLight:y.contrastBorder},L.localize(33,null)),e.editorOverviewRulerBorder=(0,y.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},L.localize(34,null)),e.editorOverviewRulerBackground=(0,y.registerColor)("editorOverviewRuler.background",null,L.localize(35,null)),e.editorGutter=(0,y.registerColor)("editorGutter.background",{dark:y.editorBackground,light:y.editorBackground,hcDark:y.editorBackground,hcLight:y.editorBackground},L.localize(36,null)),e.editorUnnecessaryCodeBorder=(0,y.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:y.contrastBorder},L.localize(37,null)),e.editorUnnecessaryCodeOpacity=(0,y.registerColor)("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},L.localize(38,null)),e.ghostTextBorder=(0,y.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:k.Color.fromHex("#292929").transparent(.8)},L.localize(39,null)),e.ghostTextForeground=(0,y.registerColor)("editorGhostText.foreground",{dark:k.Color.fromHex("#ffffff56"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},L.localize(40,null)),e.ghostTextBackground=(0,y.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(41,null));const p=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,y.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:p,light:p,hcDark:p,hcLight:p},L.localize(42,null),!0),e.overviewRulerError=(0,y.registerColor)("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},L.localize(43,null)),e.overviewRulerWarning=(0,y.registerColor)("editorOverviewRuler.warningForeground",{dark:y.editorWarningForeground,light:y.editorWarningForeground,hcDark:y.editorWarningBorder,hcLight:y.editorWarningBorder},L.localize(44,null)),e.overviewRulerInfo=(0,y.registerColor)("editorOverviewRuler.infoForeground",{dark:y.editorInfoForeground,light:y.editorInfoForeground,hcDark:y.editorInfoBorder,hcLight:y.editorInfoBorder},L.localize(45,null)),e.editorBracketHighlightingForeground1=(0,y.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},L.localize(46,null)),e.editorBracketHighlightingForeground2=(0,y.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},L.localize(47,null)),e.editorBracketHighlightingForeground3=(0,y.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},L.localize(48,null)),e.editorBracketHighlightingForeground4=(0,y.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(49,null)),e.editorBracketHighlightingForeground5=(0,y.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(50,null)),e.editorBracketHighlightingForeground6=(0,y.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(51,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,y.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new k.Color(new k.RGBA(255,18,18,.8)),light:new k.Color(new k.RGBA(255,18,18,.8)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:""},L.localize(52,null)),e.editorBracketPairGuideBackground1=(0,y.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(53,null)),e.editorBracketPairGuideBackground2=(0,y.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(54,null)),e.editorBracketPairGuideBackground3=(0,y.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(55,null)),e.editorBracketPairGuideBackground4=(0,y.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(56,null)),e.editorBracketPairGuideBackground5=(0,y.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(57,null)),e.editorBracketPairGuideBackground6=(0,y.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(58,null)),e.editorBracketPairGuideActiveBackground1=(0,y.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(59,null)),e.editorBracketPairGuideActiveBackground2=(0,y.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(60,null)),e.editorBracketPairGuideActiveBackground3=(0,y.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(61,null)),e.editorBracketPairGuideActiveBackground4=(0,y.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(62,null)),e.editorBracketPairGuideActiveBackground5=(0,y.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(63,null)),e.editorBracketPairGuideActiveBackground6=(0,y.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},L.localize(64,null)),e.editorUnicodeHighlightBorder=(0,y.registerColor)("editorUnicodeHighlight.border",{dark:y.editorWarningForeground,light:y.editorWarningForeground,hcDark:y.editorWarningForeground,hcLight:y.editorWarningForeground},L.localize(65,null)),e.editorUnicodeHighlightBackground=(0,y.registerColor)("editorUnicodeHighlight.background",{dark:y.editorWarningBackground,light:y.editorWarningBackground,hcDark:y.editorWarningBackground,hcLight:y.editorWarningBackground},L.localize(66,null)),(0,D.registerThemingParticipant)((w,v)=>{const b=w.getColor(y.editorBackground),a=w.getColor(e.editorLineHighlight),n=a&&!a.isTransparent()?a:b;n&&v.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${n}; }`)})}),define(ne[866],se([1,0,118,83,13,24,23,89,9,438]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class v extends L.DynamicViewOverlay{constructor(i){super(),this._context=i;const t=this._context.configuration.options,o=t.get(144);this._lineHeight=t.get(67),this._renderLineHighlight=t.get(96),this._renderLineHighlightOnlyWhenFocus=t.get(97),this._wordWrap=o.isViewportWrapping,this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new S.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const t=new Set;for(const m of this._selections)t.add(m.positionLineNumber);const o=Array.from(t);o.sort((m,c)=>m-c),y.equals(this._cursorLineNumbers,o)||(this._cursorLineNumbers=o,i=!0);const g=this._selections.every(m=>m.isEmpty());return this._selectionIsEmpty!==g&&(this._selectionIsEmpty=g,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const t=this._context.configuration.options,o=t.get(144);return this._lineHeight=t.get(67),this._renderLineHighlight=t.get(96),this._renderLineHighlightOnlyWhenFocus=t.get(97),this._wordWrap=o.isViewportWrapping,this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const t=i.visibleRange.startLineNumber,o=i.visibleRange.endLineNumber,g=[];for(let c=t;c<=o;c++){const d=c-t;g[d]=""}if(this._wordWrap){const c=this._renderOne(i,!1);for(const d of this._cursorLineNumbers){const s=this._context.viewModel.coordinatesConverter,l=s.convertViewPositionToModelPosition(new w.Position(d,1)).lineNumber,r=s.convertModelPositionToViewPosition(new w.Position(l,1)).lineNumber,h=s.convertModelPositionToViewPosition(new w.Position(l,this._context.viewModel.model.getLineMaxColumn(l))).lineNumber,u=Math.max(r,t),f=Math.min(h,o);for(let C=u;C<=f;C++){const _=C-t;g[_]=c}}}const m=this._renderOne(i,!0);for(const c of this._cursorLineNumbers){if(c<t||c>o)continue;const d=c-t;g[d]=m}this._renderData=g}render(i,t){if(!this._renderData)return"";const o=t-i;return o>=this._renderData.length?"":this._renderData[o]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=v;class b extends v{_renderOne(i,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(t?" current-line-exact":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=b;class a extends v{_renderOne(i,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&t?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=a,(0,D.registerThemingParticipant)((n,i)=>{const t=n.getColor(k.editorLineHighlight);if(t&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||n.defines(k.editorLineHighlightBorder)){const o=n.getColor(k.editorLineHighlightBorder);o&&(i.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${o}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${o}; }`),(0,p.isHighContrast)(n.type)&&(i.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}})}),define(ne[867],se([1,0,118,83,24,9,13,20,305,218,441]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class b extends L.DynamicViewOverlay{constructor(i){super(),this._context=i,this._primaryPosition=null;const t=this._context.configuration.options,o=t.get(145),g=t.get(50);this._lineHeight=t.get(67),this._spaceWidth=g.spaceWidth,this._maxIndentLeft=o.wrappingColumn===-1?-1:o.wrappingColumn*g.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const t=this._context.configuration.options,o=t.get(145),g=t.get(50);return this._lineHeight=t.get(67),this._spaceWidth=g.spaceWidth,this._maxIndentLeft=o.wrappingColumn===-1?-1:o.wrappingColumn*g.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(i){var t;const g=i.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(g)?!1:(this._primaryPosition=g,!0)}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var t,o,g,m;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const c=i.visibleRange.startLineNumber,d=i.visibleRange.endLineNumber,s=i.scrollWidth,l=this._lineHeight,r=this._primaryPosition,h=this.getGuidesByLine(c,Math.min(d+1,this._context.viewModel.getLineCount()),r),u=[];for(let f=c;f<=d;f++){const C=f-c,_=h[C];let E="";const I=(o=(t=i.visibleRangeForPosition(new D.Position(f,1)))===null||t===void 0?void 0:t.left)!==null&&o!==void 0?o:0;for(const T of _){const A=T.column===-1?I+(T.visibleColumn-1)*this._spaceWidth:i.visibleRangeForPosition(new D.Position(f,T.column)).left;if(A>s||this._maxIndentLeft>0&&A>this._maxIndentLeft)break;const R=T.horizontalLine?T.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",M=T.horizontalLine?((m=(g=i.visibleRangeForPosition(new D.Position(f,T.horizontalLine.endColumn)))===null||g===void 0?void 0:g.left)!==null&&m!==void 0?m:A+this._spaceWidth)-A:this._spaceWidth;E+=`<div class="core-guide ${T.className} ${R}" style="left:${A}px;height:${l}px;width:${M}px"></div>`}u[C]=E}this._renderResult=u}getGuidesByLine(i,t,o){const g=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(i,t,o,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?v.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?v.HorizontalGuidesState.EnabledForActive:v.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,m=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(i,t):null;let c=0,d=0,s=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&o){const h=this._context.viewModel.getActiveIndentGuide(o.lineNumber,i,t);c=h.startLineNumber,d=h.endLineNumber,s=h.indent}const{indentSize:l}=this._context.viewModel.model.getOptions(),r=[];for(let h=i;h<=t;h++){const u=new Array;r.push(u);const f=g?g[h-i]:[],C=new S.ArrayQueue(f),_=m?m[h-i]:0;for(let E=1;E<=_;E++){const I=(E-1)*l+1,T=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||f.length===0)&&c<=h&&h<=d&&E===s;u.push(...C.takeWhile(R=>R.visibleColumn<I)||[]);const A=C.peek();(!A||A.visibleColumn!==I||A.horizontalLine)&&u.push(new v.IndentGuide(I,-1,`core-guide-indent lvl-${(E-1)%30}`+(T?" indent-active":""),null,-1,-1))}u.push(...C.takeWhile(E=>!0)||[])}return r}render(i,t){if(!this._renderResult)return"";const o=t-i;return o<0||o>=this._renderResult.length?"":this._renderResult[o]}}e.IndentGuidesOverlay=b;function a(n){if(!(n&&n.isTransparent()))return n}(0,y.registerThemingParticipant)((n,i)=>{const t=[{bracketColor:k.editorBracketHighlightingForeground1,guideColor:k.editorBracketPairGuideBackground1,guideColorActive:k.editorBracketPairGuideActiveBackground1},{bracketColor:k.editorBracketHighlightingForeground2,guideColor:k.editorBracketPairGuideBackground2,guideColorActive:k.editorBracketPairGuideActiveBackground2},{bracketColor:k.editorBracketHighlightingForeground3,guideColor:k.editorBracketPairGuideBackground3,guideColorActive:k.editorBracketPairGuideActiveBackground3},{bracketColor:k.editorBracketHighlightingForeground4,guideColor:k.editorBracketPairGuideBackground4,guideColorActive:k.editorBracketPairGuideActiveBackground4},{bracketColor:k.editorBracketHighlightingForeground5,guideColor:k.editorBracketPairGuideBackground5,guideColorActive:k.editorBracketPairGuideActiveBackground5},{bracketColor:k.editorBracketHighlightingForeground6,guideColor:k.editorBracketPairGuideBackground6,guideColorActive:k.editorBracketPairGuideActiveBackground6}],o=new w.BracketPairGuidesClassNames,g=[{indentColor:k.editorIndentGuide1,indentColorActive:k.editorActiveIndentGuide1},{indentColor:k.editorIndentGuide2,indentColorActive:k.editorActiveIndentGuide2},{indentColor:k.editorIndentGuide3,indentColorActive:k.editorActiveIndentGuide3},{indentColor:k.editorIndentGuide4,indentColorActive:k.editorActiveIndentGuide4},{indentColor:k.editorIndentGuide5,indentColorActive:k.editorActiveIndentGuide5},{indentColor:k.editorIndentGuide6,indentColorActive:k.editorActiveIndentGuide6}],m=t.map(d=>{var s,l;const r=n.getColor(d.bracketColor),h=n.getColor(d.guideColor),u=n.getColor(d.guideColorActive),f=a((s=a(h))!==null&&s!==void 0?s:r?.transparent(.3)),C=a((l=a(u))!==null&&l!==void 0?l:r);if(!(!f||!C))return{guideColor:f,guideColorActive:C}}).filter(p.isDefined),c=g.map(d=>{const s=n.getColor(d.indentColor),l=n.getColor(d.indentColorActive),r=a(s),h=a(l);if(!(!r||!h))return{indentColor:r,indentColorActive:h}}).filter(p.isDefined);if(m.length>0){for(let d=0;d<30;d++){const s=m[d%m.length];i.addRule(`.monaco-editor .${o.getInlineClassNameOfLevel(d).replace(/ /g,".")} { --guide-color: ${s.guideColor}; --guide-color-active: ${s.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${o.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${o.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${o.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(c.length>0){for(let d=0;d<30;d++){const s=c[d%c.length];i.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${d} { --indent-color: ${s.indentColor}; --indent-color-active: ${s.indentColorActive}; }`)}i.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),i.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})}),define(ne[376],se([1,0,17,118,9,5,24,83,442]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class w extends k.DynamicViewOverlay{constructor(b){super(),this._context=b,this._readConfig(),this._lastCursorModelPosition=new y.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const b=this._context.configuration.options;this._lineHeight=b.get(67);const a=b.get(68);this._renderLineNumbers=a.renderType,this._renderCustomLineNumbers=a.renderFn,this._renderFinalNewline=b.get(95);const n=b.get(144);this._lineNumbersLeft=n.lineNumbersLeft,this._lineNumbersWidth=n.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){return this._readConfig(),!0}onCursorStateChanged(b){const a=b.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(a);let n=!1;return this._activeLineNumber!==a.lineNumber&&(this._activeLineNumber=a.lineNumber,n=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(n=!0),n}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged}onZonesChanged(b){return!0}onDecorationsChanged(b){return b.affectsLineNumber}_getLineRenderLineNumber(b){const a=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(b,1));if(a.column!==1)return"";const n=a.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(n);if(this._renderLineNumbers===2){const i=Math.abs(this._lastCursorModelPosition.lineNumber-n);return i===0?'<span class="relative-current-line-number">'+n+"</span>":String(i)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===n||n%10===0?String(n):"":String(n)}prepareRender(b){if(this._renderLineNumbers===0){this._renderResult=null;return}const a=L.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",n=b.visibleRange.startLineNumber,i=b.visibleRange.endLineNumber,t=this._context.viewModel.getDecorationsInViewport(b.visibleRange).filter(c=>!!c.options.lineNumberClassName);t.sort((c,d)=>D.Range.compareRangesUsingEnds(c.range,d.range));let o=0;const g=this._context.viewModel.getLineCount(),m=[];for(let c=n;c<=i;c++){const d=c-n;let s=this._getLineRenderLineNumber(c),l="";for(;o<t.length&&t[o].range.endLineNumber<c;)o++;for(let r=o;r<t.length;r++){const{range:h,options:u}=t[r];h.startLineNumber<=c&&(l+=" "+u.lineNumberClassName)}if(!s&&!l){m[d]="";continue}c===g&&this._context.viewModel.getLineLength(c)===0&&(this._renderFinalNewline==="off"&&(s=""),this._renderFinalNewline==="dimmed"&&(l+=" dimmed-line-number")),c===this._activeLineNumber&&(l+=" active-line-number"),m[d]=`<div class="${w.CLASS_NAME}${a}${l}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${s}</div>`}this._renderResult=m}render(b,a){if(!this._renderResult)return"";const n=a-b;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}e.LineNumbersOverlay=w,w.CLASS_NAME="line-numbers",(0,S.registerThemingParticipant)((v,b)=>{const a=v.getColor(p.editorLineNumbers),n=v.getColor(p.editorDimmedLineNumber);n?b.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${n}; }`):a&&b.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${a.transparent(.4)}; }`)})}),define(ne[868],se([1,0,628,59,41,17,11,74,196,288,55,376,307,36,154,9,5,23,206,30,39,278,34,8,436]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class u{constructor(I,T,A,R,M){this._context=I,this.modelLineNumber=T,this.distanceToModelLineStart=A,this.widthOfHiddenLineTextBefore=R,this.distanceToModelLineEnd=M,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(I){const T=new o.Position(this.modelLineNumber,this.distanceToModelLineStart+1),A=new o.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(T),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(A),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=I.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=I.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(I){return this._previousPresentation||(I?this._previousPresentation=I:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const f=k.isFirefox;let C=class extends b.ViewPart{constructor(I,T,A,R,M){super(I),this._keybindingService=R,this._instantiationService=M,this._primaryCursorPosition=new o.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=T,this._visibleRangeProvider=A,this._scrollLeft=0,this._scrollTop=0;const N=this._context.configuration.options,P=N.get(144);this._setAccessibilityOptions(N),this._contentLeft=P.contentLeft,this._contentWidth=P.contentWidth,this._contentHeight=P.height,this._fontInfo=N.get(50),this._lineHeight=N.get(67),this._emptySelectionClipboard=N.get(37),this._copyWithSyntaxHighlighting=N.get(25),this._visibleTextArea=null,this._selections=[new m.Selection(1,1,1,1)],this._modelSelections=[new m.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,y.createFastDomNode)(document.createElement("textarea")),b.PartFingerprints.write(this.textArea,7),this.textArea.setClassName(`inputarea ${c.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:F}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${F*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(N)),this.textArea.setAttribute("aria-required",N.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(N.get(124))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",L.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",N.get(91)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,y.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const O={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:V=>this._context.viewModel.getLineMaxColumn(V),getValueInRange:(V,z)=>this._context.viewModel.getValueInRange(V,z),getValueLengthInRange:(V,z)=>this._context.viewModel.getValueLengthInRange(V,z),modifyPosition:(V,z)=>this._context.viewModel.modifyPosition(V,z)},B={getDataToCopy:()=>{const V=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.isWindows),z=this._context.viewModel.model.getEOL(),K=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),j=Array.isArray(V)?V:null,x=Array.isArray(V)?V.join(z):V;let re,ie=null;if(w.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&x.length<65536){const J=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);J&&(re=J.html,ie=J.mode)}return{isFromEmptySelection:K,multicursorText:j,text:x,html:re,mode:ie}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const V=this._selections[0];if(D.isMacintosh&&V.isEmpty()){const K=V.getStartPosition();let j=this._getWordBeforePosition(K);if(j.length===0&&(j=this._getCharacterBeforePosition(K)),j.length>0)return new v.TextAreaState(j,j.length,j.length,g.Range.fromPositions(K),0)}if(D.isMacintosh&&!V.isEmpty()&&O.getValueLengthInRange(V,0)<500){const K=O.getValueInRange(V,0);return new v.TextAreaState(K,0,K.length,V,0)}if(k.isSafari&&!V.isEmpty()){const K="vscode-placeholder";return new v.TextAreaState(K,0,K.length,null,void 0)}return v.TextAreaState.EMPTY}if(k.isAndroid){const V=this._selections[0];if(V.isEmpty()){const z=V.getStartPosition(),[K,j]=this._getAndroidWordAtPosition(z);if(K.length>0)return new v.TextAreaState(K,j,j,g.Range.fromPositions(z),0)}return v.TextAreaState.EMPTY}return v.PagedScreenReaderStrategy.fromEditorSelection(O,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(V,z,K)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(V,z,K)},W=this._register(new w.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(w.TextAreaInput,B,W,D.OS,{isAndroid:k.isAndroid,isChrome:k.isChrome,isFirefox:k.isFirefox,isSafari:k.isSafari})),this._register(this._textAreaInput.onKeyDown(V=>{this._viewController.emitKeyDown(V)})),this._register(this._textAreaInput.onKeyUp(V=>{this._viewController.emitKeyUp(V)})),this._register(this._textAreaInput.onPaste(V=>{let z=!1,K=null,j=null;V.metadata&&(z=this._emptySelectionClipboard&&!!V.metadata.isFromEmptySelection,K=typeof V.metadata.multicursorText<"u"?V.metadata.multicursorText:null,j=V.metadata.mode),this._viewController.paste(V.text,z,K,j)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(V=>{V.replacePrevCharCnt||V.replaceNextCharCnt||V.positionDelta?(v._debugComposition&&console.log(` => compositionType: <<${V.text}>>, ${V.replacePrevCharCnt}, ${V.replaceNextCharCnt}, ${V.positionDelta}`),this._viewController.compositionType(V.text,V.replacePrevCharCnt,V.replaceNextCharCnt,V.positionDelta)):(v._debugComposition&&console.log(` => type: <<${V.text}>>`),this._viewController.type(V.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(V=>{this._viewController.setSelection(V)})),this._register(this._textAreaInput.onCompositionStart(V=>{const z=this.textArea.domNode,K=this._modelSelections[0],{distanceToModelLineStart:j,widthOfHiddenTextBefore:x}=(()=>{const ie=z.value.substring(0,Math.min(z.selectionStart,z.selectionEnd)),J=ie.lastIndexOf(`
`),X=ie.substring(J+1),Y=X.lastIndexOf("	"),le=X.length-Y-1,de=K.getStartPosition(),ge=Math.min(de.column-1,le),pe=de.column-1-ge,Q=X.substring(0,X.length-ge),{tabSize:U}=this._context.viewModel.model.getOptions(),Z=_(this.textArea.domNode.ownerDocument,Q,this._fontInfo,U);return{distanceToModelLineStart:pe,widthOfHiddenTextBefore:Z}})(),{distanceToModelLineEnd:re}=(()=>{const ie=z.value.substring(Math.max(z.selectionStart,z.selectionEnd)),J=ie.indexOf(`
`),X=J===-1?ie:ie.substring(0,J),Y=X.indexOf("	"),le=Y===-1?X.length:X.length-Y-1,de=K.getEndPosition(),ge=Math.min(this._context.viewModel.model.getLineMaxColumn(de.lineNumber)-de.column,le);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(de.lineNumber)-de.column-ge}})();this._context.viewModel.revealRange("keyboard",!0,g.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new u(this._context,K.startLineNumber,j,x,re),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${c.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(V=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${c.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(l.IME.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(I){this._textAreaInput.writeNativeTextAreaContent(I)}dispose(){super.dispose()}_getAndroidWordAtPosition(I){const T='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',A=this._context.viewModel.getLineContent(I.lineNumber),R=(0,t.getMapForWordSeparators)(T);let M=!0,N=I.column,P=!0,F=I.column,O=0;for(;O<50&&(M||P);){if(M&&N<=1&&(M=!1),M){const B=A.charCodeAt(N-2);R.get(B)!==0?M=!1:N--}if(P&&F>A.length&&(P=!1),P){const B=A.charCodeAt(F-1);R.get(B)!==0?P=!1:F++}O++}return[A.substring(N-1,F-1),I.column-N]}_getWordBeforePosition(I){const T=this._context.viewModel.getLineContent(I.lineNumber),A=(0,t.getMapForWordSeparators)(this._context.configuration.options.get(130));let R=I.column,M=0;for(;R>1;){const N=T.charCodeAt(R-2);if(A.get(N)!==0||M>50)return T.substring(R-1,I.column-1);M++,R--}return T.substring(0,I.column-1)}_getCharacterBeforePosition(I){if(I.column>1){const A=this._context.viewModel.getLineContent(I.lineNumber).charAt(I.column-2);if(!S.isHighSurrogate(A.charCodeAt(0)))return A}return""}_getAriaLabel(I){var T,A,R;if(I.get(2)===1){const N=(T=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||T===void 0?void 0:T.getAriaLabel(),P=(A=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||A===void 0?void 0:A.getAriaLabel(),F=(R=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||R===void 0?void 0:R.getAriaLabel(),O=L.localize(1,null);return N?L.localize(2,null,O,N):P?L.localize(3,null,O,P):F?L.localize(4,null,O,F):O}return I.get(4)}_setAccessibilityOptions(I){this._accessibilitySupport=I.get(2);const T=I.get(3);this._accessibilitySupport===2&&T===i.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=T;const R=I.get(144).wrappingColumn;if(R!==-1&&this._accessibilitySupport!==1){const M=I.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(R*M.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=f?0:1}onConfigurationChanged(I){const T=this._context.configuration.options,A=T.get(144);this._setAccessibilityOptions(T),this._contentLeft=A.contentLeft,this._contentWidth=A.contentWidth,this._contentHeight=A.height,this._fontInfo=T.get(50),this._lineHeight=T.get(67),this._emptySelectionClipboard=T.get(37),this._copyWithSyntaxHighlighting=T.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:R}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${R*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(T)),this.textArea.setAttribute("aria-required",T.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(T.get(124))),(I.hasChanged(34)||I.hasChanged(91))&&this._ensureReadOnlyAttribute(),I.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(I){return this._selections=I.selections.slice(0),this._modelSelections=I.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return this._scrollLeft=I.scrollLeft,this._scrollTop=I.scrollTop,!0}onZonesChanged(I){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(I){I.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",I.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),I.role&&this.textArea.setAttribute("role",I.role)}_ensureReadOnlyAttribute(){const I=this._context.configuration.options;!l.IME.enabled||I.get(34)&&I.get(91)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(I){var T;this._primaryCursorPosition=new o.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=I.visibleRangeForPosition(this._primaryCursorPosition),(T=this._visibleTextArea)===null||T===void 0||T.prepareRender(I)}render(I){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var I;if(this._visibleTextArea){const R=this._visibleTextArea.visibleTextareaStart,M=this._visibleTextArea.visibleTextareaEnd,N=this._visibleTextArea.startPosition,P=this._visibleTextArea.endPosition;if(N&&P&&R&&M&&M.left>=this._scrollLeft&&R.left<=this._scrollLeft+this._contentWidth){const F=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,O=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let B=this._visibleTextArea.widthOfHiddenLineTextBefore,W=this._contentLeft+R.left-this._scrollLeft,V=M.left-R.left+1;if(W<this._contentLeft){const ie=this._contentLeft-W;W+=ie,B+=ie,V-=ie}V>this._contentWidth&&(V=this._contentWidth);const z=this._context.viewModel.getViewLineData(N.lineNumber),K=z.tokens.findTokenIndexAtOffset(N.column-1),j=z.tokens.findTokenIndexAtOffset(P.column-1),x=K===j,re=this._visibleTextArea.definePresentation(x?z.tokens.getPresentation(K):null);this.textArea.domNode.scrollTop=O*this._lineHeight,this.textArea.domNode.scrollLeft=B,this._doRender({lastRenderPosition:null,top:F,left:W,width:V,height:this._lineHeight,useCover:!1,color:(d.TokenizationRegistry.getColorMap()||[])[re.foreground],italic:re.italic,bold:re.bold,underline:re.underline,strikethrough:re.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const T=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(T<this._contentLeft||T>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const A=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(A<0||A>this._contentHeight){this._renderAtTopLeft();return}if(D.isMacintosh||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:A,left:this._textAreaWrapping?this._contentLeft:T,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const R=(I=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&I!==void 0?I:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=R*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:A,left:this._textAreaWrapping?this._contentLeft:T,width:this._textAreaWidth,height:f?0:1,useCover:!1})}_newlinecount(I){let T=0,A=-1;do{if(A=I.indexOf(`
`,A+1),A===-1)break;T++}while(!0);return T}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:f?0:1,useCover:!0})}_doRender(I){this._lastRenderPosition=I.lastRenderPosition;const T=this.textArea,A=this.textAreaCover;(0,p.applyFontInfo)(T,this._fontInfo),T.setTop(I.top),T.setLeft(I.left),T.setWidth(I.width),T.setHeight(I.height),T.setColor(I.color?s.Color.Format.CSS.formatHex(I.color):""),T.setFontStyle(I.italic?"italic":""),I.bold&&T.setFontWeight("bold"),T.setTextDecoration(`${I.underline?" underline":""}${I.strikethrough?" line-through":""}`),A.setTop(I.useCover?I.top:0),A.setLeft(I.useCover?I.left:0),A.setWidth(I.useCover?I.width:0),A.setHeight(I.useCover?I.height:0);const R=this._context.configuration.options;R.get(57)?A.setClassName("monaco-editor-background textAreaCover "+n.Margin.OUTER_CLASS_NAME):R.get(68).renderType!==0?A.setClassName("monaco-editor-background textAreaCover "+a.LineNumbersOverlay.CLASS_NAME):A.setClassName("monaco-editor-background textAreaCover")}};e.TextAreaHandler=C,e.TextAreaHandler=C=De([he(3,r.IKeybindingService),he(4,h.IInstantiationService)],C);function _(E,I,T,A){if(I.length===0)return 0;const R=E.createElement("div");R.style.position="absolute",R.style.top="-50000px",R.style.width="50000px";const M=E.createElement("span");(0,p.applyFontInfo)(M,T),M.style.whiteSpace="pre",M.style.tabSize=`${A*T.spaceWidth}px`,M.append(I),R.appendChild(M),E.body.appendChild(R);const N=M.offsetWidth;return E.body.removeChild(R),N}}),define(ne[869],se([1,0,41,39,55,9,30,83,86,13]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class b{constructor(i,t){const o=i.options;this.lineHeight=o.get(67),this.pixelRatio=o.get(142),this.overviewRulerLanes=o.get(83),this.renderBorder=o.get(82);const g=t.getColor(p.editorOverviewRulerBorder);this.borderColor=g?g.toString():null,this.hideCursor=o.get(59);const m=t.getColor(p.editorCursorForeground);this.cursorColor=m?m.transparent(.7).toString():null,this.themeType=t.type;const c=o.get(73),d=c.enabled,s=c.side,l=t.getColor(p.editorOverviewRulerBackground),r=S.TokenizationRegistry.getDefaultBackground();l?this.backgroundColor=l:d&&s==="right"?this.backgroundColor=r:this.backgroundColor=null;const u=o.get(144).overviewRuler;this.top=u.top,this.right=u.right,this.domWidth=u.width,this.domHeight=u.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[f,C]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=f,this.w=C}_initLanes(i,t,o){const g=t-i;if(o>=3){const m=Math.floor(g/3),c=Math.floor(g/3),d=g-m-c,s=i,l=s+m,r=s+m+d;return[[0,s,l,s,r,s,l,s],[0,m,d,m+d,c,m+d+c,d+c,m+d+c]]}else if(o===2){const m=Math.floor(g/2),c=g-m,d=i,s=d+m;return[[0,d,d,d,s,d,d,d],[0,m,m,m,c,m+c,m+c,m+c]]}else{const m=i,c=g;return[[0,m,m,m,m,m,m,m],[0,c,c,c,c,c,c,c]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&k.Color.equals(this.backgroundColor,i.backgroundColor)&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class a extends y.ViewPart{constructor(i){super(i),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=(0,L.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=S.TokenizationRegistry.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[new D.Position(1,1)]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const t=new b(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(i){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(i){this._cursorPositions=[];for(let t=0,o=i.selections.length;t<o;t++)this._cursorPositions[t]=i.selections[t].getPosition();return this._cursorPositions.sort(D.Position.compare),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(i){return i.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(i){return this._markRenderingIsNeeded()}onScrollChanged(i){return i.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(i){return this._markRenderingIsNeeded()}onThemeChanged(i){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render(),this._actualShouldRender=0}_render(){const i=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(i?k.Color.Format.CSS.formatHexA(i):""),this._domNode.setDisplay("none");return}const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(w.OverviewRulerDecorationsGroup.compareByRenderingProps),this._actualShouldRender===1&&!w.OverviewRulerDecorationsGroup.equalsArr(this._renderedDecorations,t)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!(0,v.equals)(this._renderedCursorPositions,this._cursorPositions,(C,_)=>C.lineNumber===_.lineNumber)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const o=this._settings.canvasWidth,g=this._settings.canvasHeight,m=this._settings.lineHeight,c=this._context.viewLayout,d=this._context.viewLayout.getScrollHeight(),s=g/d,l=6*this._settings.pixelRatio|0,r=l/2|0,h=this._domNode.domNode.getContext("2d");i?i.isOpaque()?(h.fillStyle=k.Color.Format.CSS.formatHexA(i),h.fillRect(0,0,o,g)):(h.clearRect(0,0,o,g),h.fillStyle=k.Color.Format.CSS.formatHexA(i),h.fillRect(0,0,o,g)):h.clearRect(0,0,o,g);const u=this._settings.x,f=this._settings.w;for(const C of t){const _=C.color,E=C.data;h.fillStyle=_;let I=0,T=0,A=0;for(let R=0,M=E.length/3;R<M;R++){const N=E[3*R],P=E[3*R+1],F=E[3*R+2];let O=c.getVerticalOffsetForLineNumber(P)*s|0,B=(c.getVerticalOffsetForLineNumber(F)+m)*s|0;if(B-O<l){let V=(O+B)/2|0;V<r?V=r:V+r>g&&(V=g-r),O=V-r,B=V+r}O>A+1||N!==I?(R!==0&&h.fillRect(u[I],T,f[I],A-T),I=N,T=O,A=B):B>A&&(A=B)}h.fillRect(u[I],T,f[I],A-T)}if(!this._settings.hideCursor&&this._settings.cursorColor){const C=2*this._settings.pixelRatio|0,_=C/2|0,E=this._settings.x[7],I=this._settings.w[7];h.fillStyle=this._settings.cursorColor;let T=-100,A=-100;for(let R=0,M=this._cursorPositions.length;R<M;R++){const N=this._cursorPositions[R];let P=c.getVerticalOffsetForLineNumber(N.lineNumber)*s|0;P<_?P=_:P+_>g&&(P=g-_);const F=P-_,O=F+C;F>A+1?(R!==0&&h.fillRect(E,T,I,A-T),T=F,A=O):O>A&&(A=O)}h.fillRect(E,T,I,A-T)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(h.beginPath(),h.lineWidth=1,h.strokeStyle=this._settings.borderColor,h.moveTo(0,0),h.lineTo(0,g),h.stroke(),h.moveTo(0,0),h.lineTo(o,0),h.stroke())}}e.DecorationsOverviewRuler=a}),define(ne[870],se([1,0,41,15,55,646,36,83,24,89,6,452]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class a extends y.ViewPart{constructor(i){super(i);const t=this._context.configuration.options;this._readOnly=t.get(91),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new D.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,L.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new b.WindowIntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const t=this._context.configuration.options;this._readOnly=t.get(91),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let o=0,g=this._secondaryCursors.length;o<g;o++)this._secondaryCursors[o].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,t,o){const g=this._secondaryCursors.length!==t.length||this._cursorSmoothCaretAnimation==="explicit"&&o!==3;if(this._primaryCursor.onCursorPositionChanged(i,g),this._updateBlinking(),this._secondaryCursors.length<t.length){const m=t.length-this._secondaryCursors.length;for(let c=0;c<m;c++){const d=new D.ViewCursor(this._context);this._domNode.domNode.insertBefore(d.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(d)}}else if(this._secondaryCursors.length>t.length){const m=this._secondaryCursors.length-t.length;for(let c=0;c<m;c++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let m=0;m<t.length;m++)this._secondaryCursors[m].onCursorPositionChanged(t[m],g)}onCursorStateChanged(i){const t=[];for(let g=0,m=i.selections.length;g<m;g++)t[g]=i.selections[g].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),i.reason);const o=i.selections[0].isEmpty();return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const t=o=>{for(let g=0,m=i.ranges.length;g<m;g++)if(i.ranges[g].fromLineNumber<=o.lineNumber&&o.lineNumber<=i.ranges[g].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const o of this._secondaryCursors)if(t(o.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),t=i===0,o=i===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!o&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},a.BLINK_INTERVAL,(0,b.getWindow)(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},a.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case S.TextEditorCursorStyle.Line:i+=" cursor-line-style";break;case S.TextEditorCursorStyle.Block:i+=" cursor-block-style";break;case S.TextEditorCursorStyle.Underline:i+=" cursor-underline-style";break;case S.TextEditorCursorStyle.LineThin:i+=" cursor-line-thin-style";break;case S.TextEditorCursorStyle.BlockOutline:i+=" cursor-block-outline-style";break;case S.TextEditorCursorStyle.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let t=0,o=this._secondaryCursors.length;t<o;t++)this._secondaryCursors[t].prepareRender(i)}render(i){const t=[];let o=0;const g=this._primaryCursor.render(i);g&&(t[o++]=g);for(let m=0,c=this._secondaryCursors.length;m<c;m++){const d=this._secondaryCursors[m].render(i);d&&(t[o++]=d)}this._renderData=t}getLastRenderData(){return this._renderData}}e.ViewCursors=a,a.BLINK_INTERVAL=500,(0,w.registerThemingParticipant)((n,i)=>{const t=n.getColor(p.editorCursorForeground);if(t){let o=n.getColor(p.editorCursorBackground);o||(o=t.opposite()),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${o}; }`),(0,v.isHighContrast)(n.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${o}; border-right: 1px solid ${o}; }`)}})}),define(ne[871],se([1,0,118,11,122,9,83,453]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WhitespaceOverlay=void 0;class p extends L.DynamicViewOverlay{constructor(b){super(),this._context=b,this._options=new w(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(b){const a=new w(this._context.configuration);return this._options.equals(a)?b.hasChanged(144):(this._options=a,!0)}onCursorStateChanged(b){return this._selection=b.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(b){return!0}onFlushed(b){return!0}onLinesChanged(b){return!0}onLinesDeleted(b){return!0}onLinesInserted(b){return!0}onScrollChanged(b){return b.scrollTopChanged}onZonesChanged(b){return!0}prepareRender(b){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const a=b.visibleRange.startLineNumber,i=b.visibleRange.endLineNumber-a+1,t=new Array(i);for(let g=0;g<i;g++)t[g]=!0;const o=this._context.viewModel.getMinimapLinesRenderingData(b.viewportData.startLineNumber,b.viewportData.endLineNumber,t);this._renderResult=[];for(let g=b.viewportData.startLineNumber;g<=b.viewportData.endLineNumber;g++){const m=g-b.viewportData.startLineNumber,c=o.data[m];let d=null;if(this._options.renderWhitespace==="selection"){const s=this._selection;for(const l of s){if(l.endLineNumber<g||l.startLineNumber>g)continue;const r=l.startLineNumber===g?l.startColumn:c.minColumn,h=l.endLineNumber===g?l.endColumn:c.maxColumn;r<h&&(d||(d=[]),d.push(new y.LineRange(r-1,h-1)))}}this._renderResult[m]=this._applyRenderWhitespace(b,g,d,c)}}_applyRenderWhitespace(b,a,n,i){if(this._options.renderWhitespace==="selection"&&!n||this._options.renderWhitespace==="trailing"&&i.continuesWithWrappedLine)return"";const t=this._context.theme.getColor(S.editorWhitespaces),o=this._options.renderWithSVG,g=i.content,m=this._options.stopRenderingLineAfter===-1?g.length:Math.min(this._options.stopRenderingLineAfter,g.length),c=i.continuesWithWrappedLine,d=i.minColumn-1,s=this._options.renderWhitespace==="boundary",l=this._options.renderWhitespace==="trailing",r=this._options.lineHeight,h=this._options.middotWidth,u=this._options.wsmiddotWidth,f=this._options.spaceWidth,C=Math.abs(u-f),_=Math.abs(h-f),E=C<_?11825:183,I=this._options.canUseHalfwidthRightwardsArrow;let T="",A=!1,R=k.firstNonWhitespaceIndex(g),M;R===-1?(A=!0,R=m,M=m):M=k.lastNonWhitespaceIndex(g);let N=0,P=n&&n[N],F=0;for(let O=d;O<m;O++){const B=g.charCodeAt(O);if(P&&O>=P.endOffset&&(N++,P=n&&n[N]),B!==9&&B!==32||l&&!A&&O<=M)continue;if(s&&O>=R&&O<=M&&B===32){const V=O-1>=0?g.charCodeAt(O-1):0,z=O+1<m?g.charCodeAt(O+1):0;if(V!==32&&z!==32)continue}if(s&&c&&O===m-1){const V=O-1>=0?g.charCodeAt(O-1):0;if(B===32&&V!==32&&V!==9)continue}if(n&&(!P||P.startOffset>O||P.endOffset<=O))continue;const W=b.visibleRangeForPosition(new D.Position(a,O+1));W&&(o?(F=Math.max(F,W.left),B===9?T+=this._renderArrow(r,f,W.left):T+=`<circle cx="${(W.left+f/2).toFixed(2)}" cy="${(r/2).toFixed(2)}" r="${(f/7).toFixed(2)}" />`):B===9?T+=`<div class="mwh" style="left:${W.left}px;height:${r}px;">${I?"\uFFEB":"\u2192"}</div>`:T+=`<div class="mwh" style="left:${W.left}px;height:${r}px;">${String.fromCharCode(E)}</div>`)}return o?(F=Math.round(F+f),`<svg style="position:absolute;width:${F}px;height:${r}px" viewBox="0 0 ${F} ${r}" xmlns="http://www.w3.org/2000/svg" fill="${t}">`+T+"</svg>"):T}_renderArrow(b,a,n){const i=a/7,t=a,o=b/2,g=n,m={x:0,y:i/2},c={x:100/125*t,y:m.y},d={x:c.x-.2*c.x,y:c.y+.2*c.x},s={x:d.x+.1*c.x,y:d.y+.1*c.x},l={x:s.x+.35*c.x,y:s.y-.35*c.x},r={x:l.x,y:-l.y},h={x:s.x,y:-s.y},u={x:d.x,y:-d.y},f={x:c.x,y:-c.y},C={x:m.x,y:-m.y};return`<path d="M ${[m,c,d,s,l,r,h,u,f,C].map(I=>`${(g+I.x).toFixed(2)} ${(o+I.y).toFixed(2)}`).join(" L ")}" />`}render(b,a){if(!this._renderResult)return"";const n=a-b;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}e.WhitespaceOverlay=p;class w{constructor(b){const a=b.options,n=a.get(50),i=a.get(38);i==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):i==="svg"?(this.renderWhitespace=a.get(99),this.renderWithSVG=!0):(this.renderWhitespace=a.get(99),this.renderWithSVG=!1),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=a.get(67),this.stopRenderingLineAfter=a.get(117)}equals(b){return this.renderWhitespace===b.renderWhitespace&&this.renderWithSVG===b.renderWithSVG&&this.spaceWidth===b.spaceWidth&&this.middotWidth===b.middotWidth&&this.wsmiddotWidth===b.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===b.canUseHalfwidthRightwardsArrow&&this.lineHeight===b.lineHeight&&this.stopRenderingLineAfter===b.stopRenderingLineAfter}}}),define(ne[872],se([1,0,6,41,273,12,372,858,868,152,818,620,55,287,545,615,866,546,863,219,867,376,859,547,307,548,844,616,869,558,549,550,864,870,551,871,9,5,23,40,158,554,559,8,24]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_,E,I,T,A,R,M,N,P,F,O,B,W,V,z,K,j,x){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;let re=class extends V.ViewEventHandler{constructor(Y,le,de,ge,pe,Q,U){super(),this._instantiationService=U,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new B.Selection(1,1,1,1)],this._renderAnimationFrame=null;const Z=new b.ViewController(le,ge,pe,Y);this._context=new K.ViewContext(le,de,ge),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(w.TextAreaHandler,this._context,Z,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,k.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,k.createFastDomNode)(document.createElement("div")),n.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new c.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new r.ViewLines(this._context,this._linesContent),this._viewZones=new N.ViewZones(this._context),this._viewParts.push(this._viewZones);const H=new E.DecorationsOverviewRuler(this._context);this._viewParts.push(H);const q=new A.ScrollDecorationViewPart(this._context);this._viewParts.push(q);const te=new a.ContentViewOverlays(this._context);this._viewParts.push(te),te.addDynamicOverlay(new g.CurrentLineHighlightOverlay(this._context)),te.addDynamicOverlay(new R.SelectionsOverlay(this._context)),te.addDynamicOverlay(new s.IndentGuidesOverlay(this._context)),te.addDynamicOverlay(new m.DecorationsOverlay(this._context)),te.addDynamicOverlay(new P.WhitespaceOverlay(this._context));const G=new a.MarginViewOverlays(this._context);this._viewParts.push(G),G.addDynamicOverlay(new g.CurrentLineMarginHighlightOverlay(this._context)),G.addDynamicOverlay(new f.MarginViewLineDecorationsOverlay(this._context)),G.addDynamicOverlay(new h.LinesDecorationsOverlay(this._context)),G.addDynamicOverlay(new l.LineNumbersOverlay(this._context)),this._glyphMarginWidgets=new d.GlyphMarginWidgets(this._context),this._viewParts.push(this._glyphMarginWidgets);const $=new u.Margin(this._context);$.getDomNode().appendChild(this._viewZones.marginDomNode),$.getDomNode().appendChild(G.getDomNode()),$.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push($),this._contentWidgets=new o.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new M.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new _.ViewOverlayWidgets(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const oe=new T.Rulers(this._context);this._viewParts.push(oe);const ae=new t.BlockDecorations(this._context);this._viewParts.push(ae);const ue=new C.Minimap(this._context);if(this._viewParts.push(ue),H){const ce=this._scrollbar.getOverviewRulerLayoutInfo();ce.parent.insertBefore(H.getDomNode(),ce.insertBefore)}this._linesContent.appendChild(te.getDomNode()),this._linesContent.appendChild(oe.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild($.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(q.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(ue.getDomNode()),this._overflowGuardContainer.appendChild(ae.domNode),this.domNode.appendChild(this._overflowGuardContainer),Q?(Q.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),Q.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new p.PointerHandler(this._context,Z,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const Y=this._context.viewModel.model,le=this._context.viewModel.glyphLanes;let de=[],ge=0;de=de.concat(Y.getAllMarginDecorations().map(pe=>{var Q,U,Z;const H=(U=(Q=pe.options.glyphMargin)===null||Q===void 0?void 0:Q.position)!==null&&U!==void 0?U:W.GlyphMarginLane.Center;return ge=Math.max(ge,pe.range.endLineNumber),{range:pe.range,lane:H,persist:(Z=pe.options.glyphMargin)===null||Z===void 0?void 0:Z.persistLane}})),de=de.concat(this._glyphMarginWidgets.getWidgets().map(pe=>{const Q=Y.validateRange(pe.preference.range);return ge=Math.max(ge,Q.endLineNumber),{range:Q,lane:pe.preference.lane}})),de.sort((pe,Q)=>O.Range.compareRangesUsingStarts(pe.range,Q.range)),le.reset(ge);for(const pe of de)le.push(pe.lane,pe.range,pe.persist);return le}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:Y=>{this._textAreaHandler.textArea.domNode.dispatchEvent(Y)},getLastRenderData:()=>{const Y=this._viewCursors.getLastRenderData()||[],le=this._textAreaHandler.getLastRenderData();return new S.PointerHandlerLastRenderData(Y,le)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:Y=>this._viewZones.shouldSuppressMouseDownOnViewZone(Y),shouldSuppressMouseDownOnWidget:Y=>this._contentWidgets.shouldSuppressMouseDownOnWidget(Y),getPositionFromDOMInfo:(Y,le)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(Y,le)),visibleRangeForPosition:(Y,le)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new F.Position(Y,le))),getLineWidth:Y=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(Y))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:Y=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(Y))}}_applyLayout(){const le=this._context.configuration.options.get(144);this.domNode.setWidth(le.width),this.domNode.setHeight(le.height),this._overflowGuardContainer.setWidth(le.width),this._overflowGuardContainer.setHeight(le.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const Y=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(141)+" "+(0,x.getThemeTypeSelector)(this._context.theme.type)+Y}handleEvents(Y){super.handleEvents(Y),this._scheduleRender()}onConfigurationChanged(Y){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(Y){return this._selections=Y.selections,!1}onDecorationsChanged(Y){return Y.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(Y){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(Y){return this._context.theme.update(Y.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const Y of this._viewParts)Y.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new D.BugIndicatingError;if(this._renderAnimationFrame===null){const Y=this._createCoordinatedRendering();this._renderAnimationFrame=J.INSTANCE.scheduleCoordinatedRendering({window:L.getWindow(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new D.BugIndicatingError;try{return Y.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new D.BugIndicatingError;return Y.renderText()},prepareRender:(le,de)=>{if(this._store.isDisposed)throw new D.BugIndicatingError;return Y.prepareRender(le,de)},render:(le,de)=>{if(this._store.isDisposed)throw new D.BugIndicatingError;return Y.render(le,de)}})}}_flushAccumulatedAndRenderNow(){const Y=this._createCoordinatedRendering();ie(()=>Y.prepareRenderText());const le=ie(()=>Y.renderText());if(le){const[de,ge]=le;ie(()=>Y.prepareRender(de,ge)),ie(()=>Y.render(de,ge))}}_getViewPartsToRender(){const Y=[];let le=0;for(const de of this._viewParts)de.shouldRender()&&(Y[le++]=de);return Y}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const Y=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(Y.requiredLanes)}y.inputLatency.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let Y=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&Y.length===0)return null;const le=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(le.startLineNumber,le.endLineNumber,le.centeredLineNumber);const de=new z.ViewportData(this._selections,le,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(de),this._viewLines.shouldRender()&&(this._viewLines.renderText(de),this._viewLines.onDidRender(),Y=this._getViewPartsToRender()),[Y,new v.RenderingContext(this._context.viewLayout,de,this._viewLines)]},prepareRender:(Y,le)=>{for(const de of Y)de.prepareRender(le)},render:(Y,le)=>{for(const de of Y)de.render(le),de.onDidRender()}}}delegateVerticalScrollbarPointerDown(Y){this._scrollbar.delegateVerticalScrollbarPointerDown(Y)}delegateScrollFromMouseWheelEvent(Y){this._scrollbar.delegateScrollFromMouseWheelEvent(Y)}restoreState(Y){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:Y.scrollTop,scrollLeft:Y.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(Y,le){const de=this._context.viewModel.model.validatePosition({lineNumber:Y,column:le}),ge=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(de);this._flushAccumulatedAndRenderNow();const pe=this._viewLines.visibleRangeForPosition(new F.Position(ge.lineNumber,ge.column));return pe?pe.left:-1}getTargetAtClientPoint(Y,le){const de=this._pointerHandler.getTargetAtClientPoint(Y,le);return de?i.ViewUserInputEvents.convertViewToModelMouseTarget(de,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(Y){return new I.OverviewRuler(this._context,Y)}change(Y){this._viewZones.changeViewZones(Y),this._scheduleRender()}render(Y,le){if(le){this._viewLines.forceShouldRender();for(const de of this._viewParts)de.forceShouldRender()}Y?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(Y){this._textAreaHandler.writeScreenReaderContent(Y)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(Y){this._textAreaHandler.setAriaOptions(Y)}addContentWidget(Y){this._contentWidgets.addWidget(Y.widget),this.layoutContentWidget(Y),this._scheduleRender()}layoutContentWidget(Y){var le,de,ge,pe,Q,U,Z,H;this._contentWidgets.setWidgetPosition(Y.widget,(de=(le=Y.position)===null||le===void 0?void 0:le.position)!==null&&de!==void 0?de:null,(pe=(ge=Y.position)===null||ge===void 0?void 0:ge.secondaryPosition)!==null&&pe!==void 0?pe:null,(U=(Q=Y.position)===null||Q===void 0?void 0:Q.preference)!==null&&U!==void 0?U:null,(H=(Z=Y.position)===null||Z===void 0?void 0:Z.positionAffinity)!==null&&H!==void 0?H:null),this._scheduleRender()}removeContentWidget(Y){this._contentWidgets.removeWidget(Y.widget),this._scheduleRender()}addOverlayWidget(Y){this._overlayWidgets.addWidget(Y.widget),this.layoutOverlayWidget(Y),this._scheduleRender()}layoutOverlayWidget(Y){const le=Y.position?Y.position.preference:null;this._overlayWidgets.setWidgetPosition(Y.widget,le)&&this._scheduleRender()}removeOverlayWidget(Y){this._overlayWidgets.removeWidget(Y.widget),this._scheduleRender()}addGlyphMarginWidget(Y){this._glyphMarginWidgets.addWidget(Y.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(Y){const le=Y.position;this._glyphMarginWidgets.setWidgetPosition(Y.widget,le)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(Y){this._glyphMarginWidgets.removeWidget(Y.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};e.View=re,e.View=re=De([he(6,j.IInstantiationService)],re);function ie(X){try{return X()}catch(Y){return(0,D.onUnexpectedError)(Y),null}}class J{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(Y){return this._coordinatedRenderings.push(Y),this._scheduleRender(Y.window),{dispose:()=>{const le=this._coordinatedRenderings.indexOf(Y);if(le!==-1&&(this._coordinatedRenderings.splice(le,1),this._coordinatedRenderings.length===0)){for(const[de,ge]of this._animationFrameRunners)ge.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(Y){if(!this._animationFrameRunners.has(Y)){const le=()=>{this._animationFrameRunners.delete(Y),this._onRenderScheduled()};this._animationFrameRunners.set(Y,L.runAtThisOrScheduleAtNextAnimationFrame(Y,le,100))}}_onRenderScheduled(){const Y=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const de of Y)ie(()=>de.prepareRenderText());const le=[];for(let de=0,ge=Y.length;de<ge;de++){const pe=Y[de];le[de]=ie(()=>pe.renderText())}for(let de=0,ge=Y.length;de<ge;de++){const pe=Y[de],Q=le[de];if(!Q)continue;const[U,Z]=Q;ie(()=>pe.prepareRender(U,Z))}for(let de=0,ge=Y.length;de<ge;de++){const pe=Y[de],Q=le[de];if(!Q)continue;const[U,Z]=Q;ie(()=>pe.render(U,Z))}}}J.INSTANCE=new J}),define(ne[873],se([1,0,7,2,5,83,24]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class p extends k.Disposable{constructor(b){super(),this.textModel=b,this.colorProvider=new w,this.onDidChangeEmitter=new L.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=b.getOptions().bracketPairColorizationOptions,this._register(b.bracketPairs.onDidChange(a=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(b){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(b,a,n,i){return i?[]:a===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(b,!0).map(o=>({id:`bracket${o.range.toString()}-${o.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(o,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:o.range})).toArray():[]}getAllDecorations(b,a){return b===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new y.Range(1,1,this.textModel.getLineCount(),1),b,a):[]}}e.ColorizedBracketPairsDecorationProvider=p;class w{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(b,a){return b.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(a?b.nestingLevelOfEqualBracketType:b.nestingLevel)}getInlineClassNameOfLevel(b){return`bracket-highlighting-${b%30}`}}(0,S.registerThemingParticipant)((v,b)=>{const a=[D.editorBracketHighlightingForeground1,D.editorBracketHighlightingForeground2,D.editorBracketHighlightingForeground3,D.editorBracketHighlightingForeground4,D.editorBracketHighlightingForeground5,D.editorBracketHighlightingForeground6],n=new w;b.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${v.getColor(D.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const i=a.map(t=>v.getColor(t)).filter(t=>!!t).filter(t=>!t.isTransparent());for(let t=0;t<30;t++){const o=i[t%i.length];b.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(t)} { color: ${o}; }`)}})}),define(ne[874],se([1,0,100,2,40,24,83,51,5,47,7,31,53,275]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;let t=class extends k.Disposable{constructor(m,c){super(),this._markerService=c,this._onDidChangeMarker=this._register(new b.Emitter),this._markerDecorations=new n.ResourceMap,m.getModels().forEach(d=>this._onModelAdded(d)),this._register(m.onModelAdded(this._onModelAdded,this)),this._register(m.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(m=>m.dispose()),this._markerDecorations.clear()}getMarker(m,c){const d=this._markerDecorations.get(m);return d&&d.getMarker(c)||null}_handleMarkerChange(m){m.forEach(c=>{const d=this._markerDecorations.get(c);d&&this._updateDecorations(d)})}_onModelAdded(m){const c=new o(m);this._markerDecorations.set(m.uri,c),this._updateDecorations(c)}_onModelRemoved(m){var c;const d=this._markerDecorations.get(m.uri);d&&(d.dispose(),this._markerDecorations.delete(m.uri)),(m.uri.scheme===v.Schemas.inMemory||m.uri.scheme===v.Schemas.internal||m.uri.scheme===v.Schemas.vscode)&&((c=this._markerService)===null||c===void 0||c.read({resource:m.uri}).map(s=>s.owner).forEach(s=>this._markerService.remove(s,[m.uri])))}_updateDecorations(m){const c=this._markerService.read({resource:m.model.uri,take:500});m.update(c)&&this._onDidChangeMarker.fire(m.model)}};e.MarkerDecorationsService=t,e.MarkerDecorationsService=t=De([he(0,p.IModelService),he(1,L.IMarkerService)],t);class o extends k.Disposable{constructor(m){super(),this.model=m,this._map=new n.BidirectionalMap,this._register((0,k.toDisposable)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(m){const{added:c,removed:d}=(0,i.diffSets)(new Set(this._map.keys()),new Set(m));if(c.length===0&&d.length===0)return!1;const s=d.map(h=>this._map.get(h)),l=c.map(h=>({range:this._createDecorationRange(this.model,h),options:this._createDecorationOption(h)})),r=this.model.deltaDecorations(s,l);for(const h of d)this._map.delete(h);for(let h=0;h<r.length;h++)this._map.set(c[h],r[h]);return!0}getMarker(m){return this._map.getKey(m.id)}_createDecorationRange(m,c){let d=w.Range.lift(c);if(c.severity===L.MarkerSeverity.Hint&&!this._hasMarkerTag(c,1)&&!this._hasMarkerTag(c,2)&&(d=d.setEndPosition(d.startLineNumber,d.startColumn+2)),d=m.validateRange(d),d.isEmpty()){const s=m.getLineLastNonWhitespaceColumn(d.startLineNumber)||m.getLineMaxColumn(d.startLineNumber);if(s===1||d.endColumn>=s)return d;const l=m.getWordAtPosition(d.getStartPosition());l&&(d=new w.Range(d.startLineNumber,l.startColumn,d.endLineNumber,l.endColumn))}else if(c.endColumn===Number.MAX_VALUE&&c.startColumn===1&&d.startLineNumber===d.endLineNumber){const s=m.getLineFirstNonWhitespaceColumn(c.startLineNumber);s<d.endColumn&&(d=new w.Range(d.startLineNumber,s,d.endLineNumber,d.endColumn),c.startColumn=s)}return d}_createDecorationOption(m){let c,d,s,l,r;switch(m.severity){case L.MarkerSeverity.Hint:this._hasMarkerTag(m,2)?c=void 0:this._hasMarkerTag(m,1)?c="squiggly-unnecessary":c="squiggly-hint",s=0;break;case L.MarkerSeverity.Info:c="squiggly-info",d=(0,D.themeColorFromId)(S.overviewRulerInfo),s=10,r={color:(0,D.themeColorFromId)(a.minimapInfo),position:y.MinimapPosition.Inline};break;case L.MarkerSeverity.Warning:c="squiggly-warning",d=(0,D.themeColorFromId)(S.overviewRulerWarning),s=20,r={color:(0,D.themeColorFromId)(a.minimapWarning),position:y.MinimapPosition.Inline};break;case L.MarkerSeverity.Error:default:c="squiggly-error",d=(0,D.themeColorFromId)(S.overviewRulerError),s=30,r={color:(0,D.themeColorFromId)(a.minimapError),position:y.MinimapPosition.Inline};break}return m.tags&&(m.tags.indexOf(1)!==-1&&(l="squiggly-inline-unnecessary"),m.tags.indexOf(2)!==-1&&(l="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:c,showIfCollapsed:!0,overviewRuler:{color:d,position:y.OverviewRulerLane.Right},minimap:r,zIndex:s,inlineClassName:l}}_hasMarkerTag(m,c){return m.tags?m.tags.indexOf(c)>=0:!1}}}),define(ne[261],se([1,0,136,24,60,543,43]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let p=class{constructor(n,i,t,o){this._legend=n,this._themeService=i,this._languageService=t,this._logService=o,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new b}getMetadata(n,i,t){const o=this._languageService.languageIdCodec.encodeLanguageId(t),g=this._hashTable.get(n,i,o);let m;if(g)m=g.metadata,this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${n} / ${i}: foreground ${L.TokenMetadata.getForeground(m)}, fontStyle ${L.TokenMetadata.getFontStyle(m).toString(2)}`);else{let c=this._legend.tokenTypes[n];const d=[];if(c){let s=i;for(let r=0;s>0&&r<this._legend.tokenModifiers.length;r++)s&1&&d.push(this._legend.tokenModifiers[r]),s=s>>1;s>0&&this._logService.getLevel()===y.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${i.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),d.push("not-in-legend"));const l=this._themeService.getColorTheme().getTokenStyleMetadata(c,d,t);if(typeof l>"u")m=2147483647;else{if(m=0,typeof l.italic<"u"){const r=(l.italic?1:0)<<11;m|=r|1}if(typeof l.bold<"u"){const r=(l.bold?2:0)<<11;m|=r|2}if(typeof l.underline<"u"){const r=(l.underline?4:0)<<11;m|=r|4}if(typeof l.strikethrough<"u"){const r=(l.strikethrough?8:0)<<11;m|=r|8}if(l.foreground){const r=l.foreground<<15;m|=r|16}m===0&&(m=2147483647)}}else this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${n} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),m=2147483647,c="not-in-legend";this._hashTable.add(n,i,o,m),this._logService.getLevel()===y.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${n} (${c}) / ${i} (${d.join(" ")}): foreground ${L.TokenMetadata.getForeground(m)}, fontStyle ${L.TokenMetadata.getFontStyle(m).toString(2)}`)}return m}warnOverlappingSemanticTokens(n,i){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${n}, column ${i}`))}warnInvalidLengthSemanticTokens(n,i){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${n}, column ${i}`))}warnInvalidEditStart(n,i,t,o,g){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${n}, resultId: ${i}) at edit #${t}: The provided start offset ${o} is outside the previous data (length ${g}).`))}};e.SemanticTokensProviderStyling=p,e.SemanticTokensProviderStyling=p=De([he(1,k.IThemeService),he(2,S.ILanguageService),he(3,y.ILogService)],p);function w(a,n,i){const t=a.data,o=a.data.length/5|0,g=Math.max(Math.ceil(o/1024),400),m=[];let c=0,d=1,s=0;for(;c<o;){const l=c;let r=Math.min(l+g,o);if(r<o){let I=r;for(;I-1>l&&t[5*I]===0;)I--;if(I-1===l){let T=r;for(;T+1<o&&t[5*T]===0;)T++;r=T}else r=I}let h=new Uint32Array((r-l)*4),u=0,f=0,C=0,_=0;for(;c<r;){const I=5*c,T=t[I],A=t[I+1],R=d+T|0,M=T===0?s+A|0:A,N=t[I+2],P=M+N|0,F=t[I+3],O=t[I+4];if(P<=M)n.warnInvalidLengthSemanticTokens(R,M+1);else if(C===R&&_>M)n.warnOverlappingSemanticTokens(R,M+1);else{const B=n.getMetadata(F,O,i);B!==2147483647&&(f===0&&(f=R),h[u]=R-f,h[u+1]=M,h[u+2]=P,h[u+3]=B,u+=4,C=R,_=P)}d=R,s=M,c++}u!==h.length&&(h=h.subarray(0,u));const E=D.SparseMultilineTokens.create(f,h);m.push(E)}return m}e.toMultilineTokens2=w;class v{constructor(n,i,t,o){this.tokenTypeIndex=n,this.tokenModifierSet=i,this.languageId=t,this.metadata=o,this.next=null}}class b{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=b._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<b._SIZES.length?2/3*this._currentLength:0),this._elements=[],b._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(n,i){for(let t=0;t<i;t++)n[t]=null}_hash2(n,i){return(n<<5)-n+i|0}_hashFunc(n,i,t){return this._hash2(this._hash2(n,i),t)%this._currentLength}get(n,i,t){const o=this._hashFunc(n,i,t);let g=this._elements[o];for(;g;){if(g.tokenTypeIndex===n&&g.tokenModifierSet===i&&g.languageId===t)return g;g=g.next}return null}add(n,i,t,o){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const g=this._elements;this._currentLengthIndex++,this._currentLength=b._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<b._SIZES.length?2/3*this._currentLength:0),this._elements=[],b._nullOutEntries(this._elements,this._currentLength);for(const m of g){let c=m;for(;c;){const d=c.next;c.next=null,this._add(c),c=d}}}this._add(new v(n,i,t,o))}_add(n){const i=this._hashFunc(n.tokenTypeIndex,n.tokenModifierSet,n.languageId);n.next=this._elements[i],this._elements[i]=n}}b._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ne[875],se([1,0,2,43,24,60,261,244,45]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensStylingService=void 0;let v=class extends L.Disposable{constructor(a,n,i){super(),this._themeService=a,this._logService=n,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(a){return this._caches.has(a)||this._caches.set(a,new S.SemanticTokensProviderStyling(a.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(a)}};e.SemanticTokensStylingService=v,e.SemanticTokensStylingService=v=De([he(0,y.IThemeService),he(1,D.ILogService),he(2,k.ILanguageService)],v),(0,w.registerSingleton)(p.ISemanticTokensStylingService,v,1)}),define(ne[377],se([1,0,112,2,157,40,83,24,44]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class v{constructor(a){this.options=a,this.rangeHighlightDecorationId=void 0}provide(a,n){var i;const t=new k.DisposableStore;a.canAcceptInBackground=!!(!((i=this.options)===null||i===void 0)&&i.canAcceptInBackground),a.matchOnLabel=a.matchOnDescription=a.matchOnDetail=a.sortByLabel=!1;const o=t.add(new k.MutableDisposable);return o.value=this.doProvide(a,n),t.add(this.onDidActiveTextEditorControlChange(()=>{o.value=void 0,o.value=this.doProvide(a,n)})),t}doProvide(a,n){var i;const t=new k.DisposableStore,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){const g={editor:o},m=(0,y.getCodeEditor)(o);if(m){let c=(i=o.saveViewState())!==null&&i!==void 0?i:void 0;t.add(m.onDidChangeCursorPosition(()=>{var d;c=(d=o.saveViewState())!==null&&d!==void 0?d:void 0})),g.restoreViewState=()=>{c&&o===this.activeTextEditorControl&&o.restoreViewState(c)},t.add((0,L.createSingleCallFunction)(n.onCancellationRequested)(()=>{var d;return(d=g.restoreViewState)===null||d===void 0?void 0:d.call(g)}))}t.add((0,k.toDisposable)(()=>this.clearDecorations(o))),t.add(this.provideWithTextEditor(g,a,n))}else t.add(this.provideWithoutTextEditor(a,n));return t}canProvideWithTextEditor(a){return!0}gotoLocation({editor:a},n){a.setSelection(n.range),a.revealRangeInCenter(n.range,0),n.preserveFocus||a.focus();const i=a.getModel();i&&"getLineContent"in i&&(0,w.status)(`${i.getLineContent(n.range.startLineNumber)}`)}getModel(a){var n;return(0,y.isDiffEditor)(a)?(n=a.getModel())===null||n===void 0?void 0:n.modified:a.getModel()}addDecorations(a,n){a.changeDecorations(i=>{const t=[];this.rangeHighlightDecorationId&&(t.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),t.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const o=[{range:n,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:n,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,p.themeColorFromId)(S.overviewRulerRangeHighlight),position:D.OverviewRulerLane.Full}}}],[g,m]=i.deltaDecorations(t,o);this.rangeHighlightDecorationId={rangeHighlightId:g,overviewRulerDecorationId:m}})}clearDecorations(a){const n=this.rangeHighlightDecorationId;n&&(a.changeDecorations(i=>{i.deltaDecorations([n.overviewRulerDecorationId,n.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=v}),define(ne[876],se([1,0,2,157,377,717]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class S extends y.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(w){const v=(0,D.localize)(0,null);return w.items=[{label:v}],w.ariaLabel=v,L.Disposable.None}provideWithTextEditor(w,v,b){const a=w.editor,n=new L.DisposableStore;n.add(v.onDidAccept(o=>{const[g]=v.selectedItems;if(g){if(!this.isValidLineNumber(a,g.lineNumber))return;this.gotoLocation(w,{range:this.toRange(g.lineNumber,g.column),keyMods:v.keyMods,preserveFocus:o.inBackground}),o.inBackground||v.hide()}}));const i=()=>{const o=this.parsePosition(a,v.value.trim().substr(S.PREFIX.length)),g=this.getPickLabel(a,o.lineNumber,o.column);if(v.items=[{lineNumber:o.lineNumber,column:o.column,label:g}],v.ariaLabel=g,!this.isValidLineNumber(a,o.lineNumber)){this.clearDecorations(a);return}const m=this.toRange(o.lineNumber,o.column);a.revealRangeInCenter(m,0),this.addDecorations(a,m)};i(),n.add(v.onDidChangeValue(()=>i()));const t=(0,k.getCodeEditor)(a);return t&&t.getOptions().get(68).renderType===2&&(t.updateOptions({lineNumbers:"on"}),n.add((0,L.toDisposable)(()=>t.updateOptions({lineNumbers:"relative"})))),n}toRange(w=1,v=1){return{startLineNumber:w,startColumn:v,endLineNumber:w,endColumn:v}}parsePosition(w,v){const b=v.split(/,|:|#/).map(n=>parseInt(n,10)).filter(n=>!isNaN(n)),a=this.lineCount(w)+1;return{lineNumber:b[0]>0?b[0]:a+b[0],column:b[1]}}getPickLabel(w,v,b){if(this.isValidLineNumber(w,v))return this.isValidColumn(w,v,b)?(0,D.localize)(1,null,v,b):(0,D.localize)(2,null,v);const a=w.getPosition()||{lineNumber:1,column:1},n=this.lineCount(w);return n>1?(0,D.localize)(3,null,a.lineNumber,a.column,n):(0,D.localize)(4,null,a.lineNumber,a.column)}isValidLineNumber(w,v){return!v||typeof v!="number"?!1:v>0&&v<=this.lineCount(w)}isValidColumn(w,v,b){if(!b||typeof b!="number")return!1;const a=this.getModel(w);if(!a)return!1;const n={lineNumber:v,column:b};return a.validatePosition(n).equals(n)}lineCount(w){var v,b;return(b=(v=this.getModel(w))===null||v===void 0?void 0:v.getLineCount())!==null&&b!==void 0?b:0}}e.AbstractGotoLineQuickAccessProvider=S,S.PREFIX=":"}),define(ne[877],se([1,0,15,19,27,29,596,2,11,5,30,167,377,718,18,62]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let m=g=class extends n.AbstractEditorNavigationQuickAccessProvider{constructor(l,r,h=Object.create(null)){super(h),this._languageFeaturesService=l,this._outlineModelService=r,this.options=h,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(l){return this.provideLabelPick(l,(0,i.localize)(0,null)),p.Disposable.None}provideWithTextEditor(l,r,h){const u=l.editor,f=this.getModel(u);return f?this._languageFeaturesService.documentSymbolProvider.has(f)?this.doProvideWithEditorSymbols(l,f,r,h):this.doProvideWithoutEditorSymbols(l,f,r,h):p.Disposable.None}doProvideWithoutEditorSymbols(l,r,h,u){const f=new p.DisposableStore;return this.provideLabelPick(h,(0,i.localize)(1,null)),(async()=>!await this.waitForLanguageSymbolRegistry(r,f)||u.isCancellationRequested||f.add(this.doProvideWithEditorSymbols(l,r,h,u)))(),f}provideLabelPick(l,r){l.items=[{label:r,index:0,kind:14}],l.ariaLabel=r}async waitForLanguageSymbolRegistry(l,r){if(this._languageFeaturesService.documentSymbolProvider.has(l))return!0;const h=new L.DeferredPromise,u=r.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(l)&&(u.dispose(),h.complete(!0))}));return r.add((0,p.toDisposable)(()=>h.complete(!1))),h.p}doProvideWithEditorSymbols(l,r,h,u){var f;const C=l.editor,_=new p.DisposableStore;_.add(h.onDidAccept(A=>{const[R]=h.selectedItems;R&&R.range&&(this.gotoLocation(l,{range:R.range.selection,keyMods:h.keyMods,preserveFocus:A.inBackground}),A.inBackground||h.hide())})),_.add(h.onDidTriggerItemButton(({item:A})=>{A&&A.range&&(this.gotoLocation(l,{range:A.range.selection,keyMods:h.keyMods,forceSideBySide:!0}),h.hide())}));const E=this.getDocumentSymbols(r,u);let I;const T=async A=>{I?.dispose(!0),h.busy=!1,I=new k.CancellationTokenSource(u),h.busy=!0;try{const R=(0,S.prepareQuery)(h.value.substr(g.PREFIX.length).trim()),M=await this.doGetSymbolPicks(E,R,void 0,I.token);if(u.isCancellationRequested)return;if(M.length>0){if(h.items=M,A&&R.original.length===0){const N=(0,o.findLast)(M,P=>!!(P.type!=="separator"&&P.range&&v.Range.containsPosition(P.range.decoration,A)));N&&(h.activeItems=[N])}}else R.original.length>0?this.provideLabelPick(h,(0,i.localize)(2,null)):this.provideLabelPick(h,(0,i.localize)(3,null))}finally{u.isCancellationRequested||(h.busy=!1)}};return _.add(h.onDidChangeValue(()=>T(void 0))),T((f=C.getSelection())===null||f===void 0?void 0:f.getPosition()),_.add(h.onDidChangeActive(()=>{const[A]=h.activeItems;A&&A.range&&(C.revealRangeInCenter(A.range.selection,0),this.addDecorations(C,A.range.decoration))})),_}async doGetSymbolPicks(l,r,h,u){var f,C;const _=await l;if(u.isCancellationRequested)return[];const E=r.original.indexOf(g.SCOPE_PREFIX)===0,I=E?1:0;let T,A;r.values&&r.values.length>1?(T=(0,S.pieceToQuery)(r.values[0]),A=(0,S.pieceToQuery)(r.values.slice(1))):T=r;let R;const M=(C=(f=this.options)===null||f===void 0?void 0:f.openSideBySideDirection)===null||C===void 0?void 0:C.call(f);M&&(R=[{iconClass:M==="right"?D.ThemeIcon.asClassName(y.Codicon.splitHorizontal):D.ThemeIcon.asClassName(y.Codicon.splitVertical),tooltip:M==="right"?(0,i.localize)(4,null):(0,i.localize)(5,null)}]);const N=[];for(let O=0;O<_.length;O++){const B=_[O],W=(0,w.trim)(B.name),V=`$(${b.SymbolKinds.toIcon(B.kind).id}) ${W}`,z=V.length-W.length;let K=B.containerName;h?.extraContainerLabel&&(K?K=`${h.extraContainerLabel} \u2022 ${K}`:K=h.extraContainerLabel);let j,x,re,ie;if(r.original.length>I){let X=!1;if(T!==r&&([j,x]=(0,S.scoreFuzzy2)(V,{...r,values:void 0},I,z),typeof j=="number"&&(X=!0)),typeof j!="number"&&([j,x]=(0,S.scoreFuzzy2)(V,T,I,z),typeof j!="number"))continue;if(!X&&A){if(K&&A.original.length>0&&([re,ie]=(0,S.scoreFuzzy2)(K,A)),typeof re!="number")continue;typeof j=="number"&&(j+=re)}}const J=B.tags&&B.tags.indexOf(1)>=0;N.push({index:O,kind:B.kind,score:j,label:V,ariaLabel:(0,b.getAriaLabelForSymbol)(B.name,B.kind),description:K,highlights:J?void 0:{label:x,description:ie},range:{selection:v.Range.collapseToStart(B.selectionRange),decoration:B.range},strikethrough:J,buttons:R})}const P=N.sort((O,B)=>E?this.compareByKindAndScore(O,B):this.compareByScore(O,B));let F=[];if(E){let V=function(){B&&typeof O=="number"&&W>0&&(B.label=(0,w.format)(d[O]||c,W))},O,B,W=0;for(const z of P)O!==z.kind?(V(),O=z.kind,W=1,B={type:"separator"},F.push(B)):W++,F.push(z);V()}else P.length>0&&(F=[{label:(0,i.localize)(6,null,N.length),type:"separator"},...P]);return F}compareByScore(l,r){if(typeof l.score!="number"&&typeof r.score=="number")return 1;if(typeof l.score=="number"&&typeof r.score!="number")return-1;if(typeof l.score=="number"&&typeof r.score=="number"){if(l.score>r.score)return-1;if(l.score<r.score)return 1}return l.index<r.index?-1:l.index>r.index?1:0}compareByKindAndScore(l,r){const h=d[l.kind]||c,u=d[r.kind]||c,f=h.localeCompare(u);return f===0?this.compareByScore(l,r):f}async getDocumentSymbols(l,r){const h=await this._outlineModelService.getOrCreate(l,r);return r.isCancellationRequested?[]:h.asListOfDocumentSymbols()}};e.AbstractGotoSymbolQuickAccessProvider=m,m.PREFIX="@",m.SCOPE_PREFIX=":",m.PREFIX_BY_CATEGORY=`${g.PREFIX}${g.SCOPE_PREFIX}`,e.AbstractGotoSymbolQuickAccessProvider=m=g=De([he(0,t.ILanguageFeaturesService),he(1,a.IOutlineModelService)],m);const c=(0,i.localize)(7,null),d={5:(0,i.localize)(8,null),11:(0,i.localize)(9,null),8:(0,i.localize)(10,null),12:(0,i.localize)(11,null),4:(0,i.localize)(12,null),22:(0,i.localize)(13,null),23:(0,i.localize)(14,null),24:(0,i.localize)(15,null),10:(0,i.localize)(16,null),2:(0,i.localize)(17,null),3:(0,i.localize)(18,null),25:(0,i.localize)(19,null),1:(0,i.localize)(20,null),6:(0,i.localize)(21,null),9:(0,i.localize)(22,null),21:(0,i.localize)(23,null),14:(0,i.localize)(24,null),0:(0,i.localize)(25,null),17:(0,i.localize)(26,null),15:(0,i.localize)(27,null),16:(0,i.localize)(28,null),18:(0,i.localize)(29,null),19:(0,i.localize)(30,null),7:(0,i.localize)(31,null),13:(0,i.localize)(32,null)}}),define(ne[878],se([1,0,6,44,104,105,13,15,27,2,20,9,30,721,14,34,60,102,31,24,484]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_FOCUSED=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0;const s=!1;e.CONTEXT_RENAME_INPUT_VISIBLE=new t.RawContextKey("renameInputVisible",!1,(0,i.localize)(0,null)),e.CONTEXT_RENAME_INPUT_FOCUSED=new t.RawContextKey("renameInputFocused",!1,(0,i.localize)(1,null));let l=class{constructor(f,C,_,E,I,T){this._editor=f,this._acceptKeybindings=C,this._themeService=_,this._keybindingService=E,this._logService=T,this._disposables=new v.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(I),this._focusedContextKey=e.CONTEXT_RENAME_INPUT_FOCUSED.bindTo(I),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(A=>{A.hasChanged(50)&&this._updateFont()})),this._disposables.add(_.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,i.localize)(2,null)),this._disposables.add((0,L.addDisposableListener)(this._input,"focus",()=>{this._focusedContextKey.set(!0)})),this._disposables.add((0,L.addDisposableListener)(this._input,"blur",()=>{this._focusedContextKey.reset()})),this._domNode.appendChild(this._input),this._candidatesView=this._disposables.add(new r(this._domNode,{fontInfo:this._editor.getOption(50),onSelectionChange:()=>this.acceptInput(!1)})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(f){var C,_,E,I;if(!this._input||!this._domNode)return;const T=f.getColor(c.widgetShadow),A=f.getColor(c.widgetBorder);this._domNode.style.backgroundColor=String((C=f.getColor(c.editorWidgetBackground))!==null&&C!==void 0?C:""),this._domNode.style.boxShadow=T?` 0 0 8px 2px ${T}`:"",this._domNode.style.border=A?`1px solid ${A}`:"",this._domNode.style.color=String((_=f.getColor(c.inputForeground))!==null&&_!==void 0?_:""),this._input.style.backgroundColor=String((E=f.getColor(c.inputBackground))!==null&&E!==void 0?E:"");const R=f.getColor(c.inputBorder);this._input.style.borderWidth=R?"1px":"0px",this._input.style.borderStyle=R?"solid":"none",this._input.style.borderColor=(I=R?.toString())!==null&&I!==void 0?I:"none"}_updateFont(){if(!this._input||!this._label||!this._candidatesView)return;const f=this._editor.getOption(50);this._input.style.fontFamily=f.fontFamily,this._input.style.fontWeight=f.fontWeight,this._input.style.fontSize=`${f.fontSize}px`,this._candidatesView.updateFont(f),this._label.style.fontSize=`${this._computeLabelFontSize(f.fontSize)}px`}_computeLabelFontSize(f){return f*.8}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;const f=(0,L.getClientArea)(this.getDomNode().ownerDocument.body),C=(0,L.getDomNodePagePosition)(this._editor.getDomNode()),_=this._getTopForPosition();this._nPxAvailableAbove=_+C.top,this._nPxAvailableBelow=f.height-this._nPxAvailableAbove;const E=this._editor.getOption(67),{totalHeight:I}=h.getLayoutInfo({lineHeight:E}),T=this._nPxAvailableBelow>I*6?[2,1]:[1,2];return{position:this._position,preference:T}}beforeRender(){var f,C;const[_,E]=this._acceptKeybindings;return this._label.innerText=(0,i.localize)(3,null,(f=this._keybindingService.lookupKeybinding(_))===null||f===void 0?void 0:f.getLabel(),(C=this._keybindingService.lookupKeybinding(E))===null||C===void 0?void 0:C.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(f){if(this._trace("invoking afterRender, position: ",f?"not null":"null"),f===null){this.cancelInput(!0,"afterRender (because position is null)");return}if(!this._editor.hasModel()||!this._editor.getDomNode())return;(0,b.assertType)(this._candidatesView),(0,b.assertType)(this._nPxAvailableAbove!==void 0),(0,b.assertType)(this._nPxAvailableBelow!==void 0);const C=(0,L.getTotalHeight)(this._input),_=(0,L.getTotalHeight)(this._label);let E;f===2?E=this._nPxAvailableBelow:E=this._nPxAvailableAbove,this._candidatesView.layout({height:E-_-C,width:(0,L.getTotalWidth)(this._input)})}acceptInput(f){var C;this._trace("invoking acceptInput"),(C=this._currentAcceptInput)===null||C===void 0||C.call(this,f)}cancelInput(f,C){var _;this._trace(`invoking cancelInput, caller: ${C}, _currentCancelInput: ${this._currentAcceptInput?"not undefined":"undefined"}`),(_=this._currentCancelInput)===null||_===void 0||_.call(this,f)}focusNextRenameSuggestion(){var f;(f=this._candidatesView)===null||f===void 0||f.focusNext()}focusPreviousRenameSuggestion(){var f;!((f=this._candidatesView)===null||f===void 0)&&f.focusPrevious()||this._input.focus()}getInput(f,C,_,E,I,T,A){this._domNode.classList.toggle("preview",I),this._position=new a.Position(f.startLineNumber,f.startColumn),this._input.value=C,this._input.setAttribute("selectionStart",_.toString()),this._input.setAttribute("selectionEnd",E.toString()),this._input.size=Math.max((f.endColumn-f.startColumn)*1.1,20);const R=new v.DisposableStore;return R.add((0,v.toDisposable)(()=>A.dispose(!0))),this._updateRenameCandidates(T,C,A.token),new Promise(M=>{this._currentCancelInput=N=>{var P;return this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,(P=this._candidatesView)===null||P===void 0||P.clearCandidates(),M(N),!0},this._currentAcceptInput=N=>{this._trace("invoking _currentAcceptInput"),(0,b.assertType)(this._input!==void 0),(0,b.assertType)(this._candidatesView!==void 0);const P=this._candidatesView.nCandidates;let F,O;const B=this._candidatesView.focusedCandidate;if(B!==void 0?(this._trace("using new name from renameSuggestion"),F=B,O="renameSuggestion"):(this._trace("using new name from inputField"),F=this._input.value,O="inputField"),F===C||F.trim().length===0){this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)");return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._candidatesView.clearCandidates(),M({newName:F,wantsPreview:I&&N,source:O,nRenameSuggestions:P})},R.add(A.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),s||R.add(this._editor.onDidBlurEditorWidget(()=>{var N;return this.cancelInput(!(!((N=this._domNode)===null||N===void 0)&&N.ownerDocument.hasFocus()),"editor.onDidBlurEditorWidget")})),this._show()}).finally(()=>{R.dispose(),this._hide()})}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}async _updateRenameCandidates(f,C,_){const E=(...M)=>this._trace("_updateRenameCandidates",...M);E("start");const I=await(0,p.raceCancellation)(Promise.allSettled(f),_);if(I===void 0){E("returning early - received updateRenameCandidates results - undefined");return}const T=I.flatMap(M=>M.status==="fulfilled"&&(0,b.isDefined)(M.value)?M.value:[]);E(`received updateRenameCandidates results - total (unfiltered) ${T.length} candidates.`);const A=S.distinct(T,M=>M.newSymbolName);E(`distinct candidates - ${A.length} candidates.`);const R=A.filter(({newSymbolName:M})=>{var N;return M.trim().length>0&&M!==((N=this._input)===null||N===void 0?void 0:N.value)&&M!==C});if(E(`valid distinct candidates - ${T.length} candidates.`),R.length<1){E("returning early - no valid distinct candidates");return}E("setting candidates"),this._candidatesView.setCandidates(R),E("asking editor to re-layout"),this._editor.layoutContentWidget(this)}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){const f=this._editor.getVisibleRanges();let C;return f.length>0?C=f[0].startLineNumber:(this._logService.warn("RenameInputField#_getTopForPosition: this should not happen - visibleRanges is empty"),C=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(C)}_trace(...f){this._logService.trace("RenameInputField",...f)}};e.RenameInputField=l,e.RenameInputField=l=De([he(2,d.IThemeService),he(3,o.IKeybindingService),he(4,t.IContextKeyService),he(5,g.ILogService)],l);class r{constructor(f,C){this._disposables=new v.DisposableStore,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=C.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=C.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),this._listContainer.style.fontFamily=C.fontInfo.fontFamily,this._listContainer.style.fontWeight=C.fontInfo.fontWeight,this._listContainer.style.fontSize=`${C.fontInfo.fontSize}px`,f.appendChild(this._listContainer);const _=this,E=new class{getTemplateId(T){return"candidate"}getHeight(T){return _._candidateViewHeight}},I=new class{constructor(){this.templateId="candidate"}renderTemplate(T){return new h(T,{lineHeight:_._lineHeight})}renderElement(T,A,R){R.model=T}disposeTemplate(T){T.dispose()}};this._listWidget=new D.List("NewSymbolNameCandidates",this._listContainer,E,[I],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1}),this._disposables.add(this._listWidget.onDidChangeSelection(T=>{T.elements.length>0&&C.onSelectionChange()})),this._disposables.add(this._listWidget.onDidBlur(T=>{this._listWidget.setFocus([])})),this._listWidget.style(m.defaultListStyles)}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:f,width:C}){this._availableHeight=f,this._minimumWidth=C}setCandidates(f){this._listWidget.splice(0,0,f);const C=this._pickListHeight(f.length),_=this._pickListWidth(f);this._listWidget.layout(C,_),this._listContainer.style.height=`${C}px`,this._listContainer.style.width=`${_}px`,k.status((0,i.localize)(4,null,f.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(this._listWidget.length===0)return;const f=this._listWidget.getSelectedElements()[0];if(f!==void 0)return f.newSymbolName;const C=this._listWidget.getFocusedElements()[0];if(C!==void 0)return C.newSymbolName}updateFont(f){this._listContainer.style.fontFamily=f.fontFamily,this._listContainer.style.fontWeight=f.fontWeight,this._listContainer.style.fontSize=`${f.fontSize}px`,this._lineHeight=f.lineHeight,this._listWidget.rerender()}focusNext(){this._listWidget.length!==0&&(this._listWidget.isDOMFocused()?this._listWidget.focusNext():(this._listWidget.domFocus(),this._listWidget.focusFirst()),this._listWidget.reveal(this._listWidget.getFocus()[0]))}focusPrevious(){if(this._listWidget.length===0)return!1;this._listWidget.domFocus();const f=this._listWidget.getFocus()[0];return f!==0&&(this._listWidget.focusPrevious(),this._listWidget.reveal(this._listWidget.getFocus()[0])),f>0}get _candidateViewHeight(){const{totalHeight:f}=h.getLayoutInfo({lineHeight:this._lineHeight});return f}_pickListHeight(f){const C=this._candidateViewHeight*f;return Math.min(C,this._availableHeight,this._candidateViewHeight*7)}_pickListWidth(f){const C=Math.ceil(Math.max(...f.map(E=>E.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+C+10)}}class h{constructor(f,{lineHeight:C}){this.domNode=document.createElement("div"),this.domNode.style.display="flex",this.domNode.style.alignItems="center",this.domNode.style.height=`${C}px`,this.domNode.style.padding=`${h._PADDING}px`,this._icon=document.createElement("div"),this._icon.style.display="flex",this._icon.style.alignItems="center",this._icon.style.width=this._icon.style.height=`${C*.8}px`,this.domNode.appendChild(this._icon),this._label=document.createElement("div"),this._icon.style.display="flex",this._icon.style.alignItems="center",this._label.style.marginLeft="5px",this.domNode.appendChild(this._label),f.appendChild(this.domNode)}set model(f){var C;this._icon.children.length===0&&this._icon.appendChild((0,y.renderIcon)(w.Codicon.sparkle)),this._label.innerText=f.newSymbolName}static getLayoutInfo({lineHeight:f}){return{totalHeight:f+h._PADDING*2}}dispose(){}}h._PADDING=2}),define(ne[879],se([1,0,44,15,19,12,2,20,22,16,142,35,9,5,21,18,194,109,168,720,28,101,14,8,60,49,88,37,61,878]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_,E,I){"use strict";var T;Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class A{constructor(O,B,W){this.model=O,this.position=B,this._providerRenameIdx=0,this._providers=W.ordered(O)}hasProvider(){return this._providers.length>0}async resolveRenameLocation(O){const B=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const V=this._providers[this._providerRenameIdx];if(!V.resolveRenameLocation)break;const z=await V.resolveRenameLocation(this.model,this.position,O);if(z){if(z.rejectReason){B.push(z.rejectReason);continue}return z}}this._providerRenameIdx=0;const W=this.model.getWordAtPosition(this.position);return W?{range:new i.Range(this.position.lineNumber,W.startColumn,this.position.lineNumber,W.endColumn),text:W.word,rejectReason:B.length>0?B.join(`
`):void 0}:{range:i.Range.fromPositions(this.position),text:"",rejectReason:B.length>0?B.join(`
`):void 0}}async provideRenameEdits(O,B){return this._provideRenameEdits(O,this._providerRenameIdx,[],B)}async _provideRenameEdits(O,B,W,V){const z=this._providers[B];if(!z)return{edits:[],rejectReason:W.join(`
`)};const K=await z.provideRenameEdits(this.model,this.position,O,V);if(K){if(K.rejectReason)return this._provideRenameEdits(O,B+1,W.concat(K.rejectReason),V)}else return this._provideRenameEdits(O,B+1,W.concat(d.localize(0,null)),V);return K}}async function R(F,O,B,W){const V=new A(O,B,F),z=await V.resolveRenameLocation(y.CancellationToken.None);return z?.rejectReason?{edits:[],rejectReason:z.rejectReason}:V.provideRenameEdits(W,y.CancellationToken.None)}e.rename=R;let M=T=class{static get(O){return O.getContribution(T.ID)}constructor(O,B,W,V,z,K,j,x,re){this.editor=O,this._instaService=B,this._notificationService=W,this._bulkEditService=V,this._progressService=z,this._logService=K,this._configService=j,this._languageFeaturesService=x,this._telemetryService=re,this._disposableStore=new S.DisposableStore,this._cts=new y.CancellationTokenSource,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(I.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}async run(){var O,B;const W=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new y.CancellationTokenSource,!this.editor.hasModel()){W("editor has no model");return}const V=this.editor.getPosition(),z=new A(this.editor.getModel(),V,this._languageFeaturesService.renameProvider);if(!z.hasProvider()){W("skeleton has no provider");return}const K=new m.EditorStateCancellationTokenSource(this.editor,5,void 0,this._cts.token);let j;try{W("resolving rename location");const U=z.resolveRenameLocation(K.token);this._progressService.showWhile(U,250),j=await U,W("resolved rename location")}catch(U){W("resolve rename location failed",JSON.stringify(U,null,"	")),(O=c.MessageController.get(this.editor))===null||O===void 0||O.showMessage(U||d.localize(1,null),V);return}finally{K.dispose()}if(!j){W("returning early - no loc");return}if(j.rejectReason){W(`returning early - rejected with reason: ${j.rejectReason}`,j.rejectReason),(B=c.MessageController.get(this.editor))===null||B===void 0||B.showMessage(j.rejectReason,V);return}if(K.token.isCancellationRequested){W("returning early - cts1 cancelled");return}const x=new m.EditorStateCancellationTokenSource(this.editor,5,j.range,this._cts.token),re=this.editor.getModel(),ie=new y.CancellationTokenSource(x.token),J=this._languageFeaturesService.newSymbolNamesProvider.all(re),X=J.map(U=>U.provideNewSymbolNames(re,j.range,ie.token));W(`requested new symbol names from ${J.length} providers`);const Y=this.editor.getSelection();let le=0,de=j.text.length;!i.Range.isEmpty(Y)&&!i.Range.spansMultipleLines(Y)&&i.Range.containsRange(j.range,Y)&&(le=Math.max(0,Y.startColumn-j.range.startColumn),de=Math.min(j.range.endColumn,Y.endColumn)-j.range.startColumn),W("creating rename input field and awaiting its result");const ge=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),pe=await this._renameInputField.getInput(j.range,j.text,le,de,ge,X,ie);if(W("received response from rename input field"),J.length>0&&this._reportTelemetry(J.length,re.getLanguageId(),pe),typeof pe=="boolean"){W(`returning early - rename input field response - ${pe}`),pe&&this.editor.focus(),x.dispose();return}this.editor.focus(),W("requesting rename edits");const Q=(0,k.raceCancellation)(z.provideRenameEdits(pe.newName,x.token),x.token).then(async U=>{if(!U){W("returning early - no rename edits result");return}if(!this.editor.hasModel()){W("returning early - no model after rename edits are provided");return}if(U.rejectReason){W(`returning early - rejected with reason: ${U.rejectReason}`),this._notificationService.info(U.rejectReason);return}this.editor.setSelection(i.Range.fromPositions(this.editor.getSelection().getPosition())),W("applying edits"),this._bulkEditService.apply(U,{editor:this.editor,showPreview:pe.wantsPreview,label:d.localize(2,null,j?.text,pe.newName),code:"undoredo.rename",quotableLabel:d.localize(3,null,j?.text,pe.newName),respectAutoSaveConfig:!0}).then(Z=>{W("edits applied"),Z.ariaSummary&&(0,L.alert)(d.localize(4,null,j.text,pe.newName,Z.ariaSummary))}).catch(Z=>{W(`error when applying edits ${JSON.stringify(Z,null,"	")}`),this._notificationService.error(d.localize(5,null)),this._logService.error(Z)})},U=>{W("error when providing rename edits",JSON.stringify(U,null,"	")),this._notificationService.error(d.localize(6,null)),this._logService.error(U)}).finally(()=>{x.dispose()});return W("returning rename operation"),this._progressService.showWhile(Q,250),Q}acceptRenameInput(O){this._renameInputField.acceptInput(O)}cancelRenameInput(){this._renameInputField.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameInputField.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameInputField.focusPreviousRenameSuggestion()}_reportTelemetry(O,B,W){const V=typeof W=="boolean"?{kind:"cancelled",languageId:B,nRenameSuggestionProviders:O}:{kind:"accepted",languageId:B,nRenameSuggestionProviders:O,source:W.source,nRenameSuggestions:W.nRenameSuggestions,wantsPreview:W.wantsPreview};this._telemetryService.publicLog2("renameInvokedEvent",V)}};M.ID="editor.contrib.renameController",M=T=De([he(1,h.IInstantiationService),he(2,f.INotificationService),he(3,b.IBulkEditService),he(4,C.IEditorProgressService),he(5,u.ILogService),he(6,g.ITextResourceConfigurationService),he(7,o.ILanguageFeaturesService),he(8,E.ITelemetryService)],M);class N extends v.EditorAction{constructor(){super({id:"editor.action.rename",label:d.localize(7,null),alias:"Rename Symbol",precondition:r.ContextKeyExpr.and(t.EditorContextKeys.writable,t.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:t.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(O,B){const W=O.get(a.ICodeEditorService),[V,z]=Array.isArray(B)&&B||[void 0,void 0];return w.URI.isUri(V)&&n.Position.isIPosition(z)?W.openCodeEditor({resource:V},W.getActiveCodeEditor()).then(K=>{K&&(K.setPosition(z),K.invokeWithinContext(j=>(this.reportTelemetry(j,K),this.run(j,K))))},D.onUnexpectedError):super.runCommand(O,B)}run(O,B){const W=O.get(u.ILogService),V=M.get(B);return V?(W.trace("[RenameAction] got controller, running..."),V.run()):(W.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}}e.RenameAction=N,(0,v.registerEditorContribution)(M.ID,M,4),(0,v.registerEditorAction)(N);const P=v.EditorCommand.bindToContribution(M.get);(0,v.registerEditorCommand)(new P({id:"acceptRenameInput",precondition:I.CONTEXT_RENAME_INPUT_VISIBLE,handler:F=>F.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:r.ContextKeyExpr.and(t.EditorContextKeys.focus,r.ContextKeyExpr.not("isComposing")),primary:3}})),(0,v.registerEditorCommand)(new P({id:"acceptRenameInputWithPreview",precondition:r.ContextKeyExpr.and(I.CONTEXT_RENAME_INPUT_VISIBLE,r.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:F=>F.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:r.ContextKeyExpr.and(t.EditorContextKeys.focus,r.ContextKeyExpr.not("isComposing")),primary:1027}})),(0,v.registerEditorCommand)(new P({id:"cancelRenameInput",precondition:I.CONTEXT_RENAME_INPUT_VISIBLE,handler:F=>F.cancelRenameInput(),kbOpts:{weight:199,kbExpr:t.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,s.registerAction2)(class extends s.Action2{constructor(){super({id:"focusNextRenameSuggestion",title:{...d.localize2(9,"Focus Next Rename Suggestion")},precondition:I.CONTEXT_RENAME_INPUT_VISIBLE,keybinding:[{primary:2,secondary:[18],weight:199}]})}run(O){const B=O.get(a.ICodeEditorService).getFocusedCodeEditor();if(!B)return;const W=M.get(B);W&&W.focusNextRenameSuggestion()}}),(0,s.registerAction2)(class extends s.Action2{constructor(){super({id:"focusPreviousRenameSuggestion",title:{...d.localize2(10,"Focus Previous Rename Suggestion")},precondition:I.CONTEXT_RENAME_INPUT_VISIBLE,keybinding:[{when:I.CONTEXT_RENAME_INPUT_FOCUSED,primary:6,weight:199},{when:I.CONTEXT_RENAME_INPUT_FOCUSED.toNegated(),primary:1026,secondary:[16],weight:199}]})}run(O){const B=O.get(a.ICodeEditorService).getFocusedCodeEditor();if(!B)return;const W=M.get(B);W&&W.focusPreviousRenameSuggestion()}}),(0,v.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(F,O,B,...W){const[V]=W;(0,p.assertType)(typeof V=="string");const{renameProvider:z}=F.get(o.ILanguageFeaturesService);return R(z,O,B,V)}),(0,v.registerModelAndPositionCommand)("_executePrepareRename",async function(F,O,B){const{renameProvider:W}=F.get(o.ILanguageFeaturesService),z=await new A(O,B,W).resolveRenameLocation(y.CancellationToken.None);if(z?.rejectReason)throw new Error(z.rejectReason);return z}),_.Registry.as(l.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:d.localize(8,null),default:!0,type:"boolean"}}})}),define(ne[880],se([1,0,2,12,51,26,15,19,24,261,351,80,63,18,244,135,315]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensFeature=void 0;let c=class extends L.Disposable{constructor(r,h,u,f,C,_){super(),this._watchers=Object.create(null);const E=A=>{this._watchers[A.uri.toString()]=new d(A,r,u,C,_)},I=(A,R)=>{R.dispose(),delete this._watchers[A.uri.toString()]},T=()=>{for(const A of h.getModels()){const R=this._watchers[A.uri.toString()];(0,g.isSemanticColoringEnabled)(A,u,f)?R||E(A):R&&I(A,R)}};h.getModels().forEach(A=>{(0,g.isSemanticColoringEnabled)(A,u,f)&&E(A)}),this._register(h.onModelAdded(A=>{(0,g.isSemanticColoringEnabled)(A,u,f)&&E(A)})),this._register(h.onModelRemoved(A=>{const R=this._watchers[A.uri.toString()];R&&I(A,R)})),this._register(f.onDidChangeConfiguration(A=>{A.affectsConfiguration(g.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&T()})),this._register(u.onDidColorThemeChange(T))}dispose(){for(const r of Object.values(this._watchers))r.dispose();super.dispose()}};e.DocumentSemanticTokensFeature=c,e.DocumentSemanticTokensFeature=c=De([he(0,t.ISemanticTokensStylingService),he(1,y.IModelService),he(2,w.IThemeService),he(3,D.IConfigurationService),he(4,a.ILanguageFeatureDebounceService),he(5,i.ILanguageFeaturesService)],c);let d=m=class extends L.Disposable{constructor(r,h,u,f,C){super(),this._semanticTokensStylingService=h,this._isDisposed=!1,this._model=r,this._provider=C.documentSemanticTokensProvider,this._debounceInformation=f.for(this._provider,"DocumentSemanticTokens",{min:m.REQUEST_MIN_DELAY,max:m.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new S.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),m.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const _=()=>{(0,L.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const E of this._provider.all(r))typeof E.onDidChange=="function"&&this._documentProvidersChangeListeners.push(E.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};_(),this._register(this._provider.onDidChange(()=>{_(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(u.onDidColorThemeChange(E=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,L.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,b.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const r=new p.CancellationTokenSource,h=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,u=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,f=(0,b.getDocumentSemanticTokens)(this._provider,this._model,h,u,r.token);this._currentDocumentRequestCancellationTokenSource=r,this._providersChangedDuringRequest=!1;const C=[],_=this._model.onDidChangeContent(I=>{C.push(I)}),E=new n.StopWatch(!1);f.then(I=>{if(this._debounceInformation.update(this._model,E.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,_.dispose(),!I)this._setDocumentSemanticTokens(null,null,null,C);else{const{provider:T,tokens:A}=I,R=this._semanticTokensStylingService.getStyling(T);this._setDocumentSemanticTokens(T,A||null,R,C)}},I=>{I&&(k.isCancellationError(I)||typeof I.message=="string"&&I.message.indexOf("busy")!==-1)||k.onUnexpectedError(I),this._currentDocumentRequestCancellationTokenSource=null,_.dispose(),(C.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(r,h,u,f,C){C=Math.min(C,u.length-f,r.length-h);for(let _=0;_<C;_++)u[f+_]=r[h+_]}_setDocumentSemanticTokens(r,h,u,f){const C=this._currentDocumentResponse,_=()=>{(f.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){r&&h&&r.releaseDocumentSemanticTokens(h.resultId);return}if(!r||!u){this._model.tokenization.setSemanticTokens(null,!1);return}if(!h){this._model.tokenization.setSemanticTokens(null,!0),_();return}if((0,b.isSemanticTokensEdits)(h)){if(!C){this._model.tokenization.setSemanticTokens(null,!0);return}if(h.edits.length===0)h={resultId:h.resultId,data:C.data};else{let E=0;for(const M of h.edits)E+=(M.data?M.data.length:0)-M.deleteCount;const I=C.data,T=new Uint32Array(I.length+E);let A=I.length,R=T.length;for(let M=h.edits.length-1;M>=0;M--){const N=h.edits[M];if(N.start>I.length){u.warnInvalidEditStart(C.resultId,h.resultId,M,N.start,I.length),this._model.tokenization.setSemanticTokens(null,!0);return}const P=A-(N.start+N.deleteCount);P>0&&(m._copy(I,A-P,T,R-P,P),R-=P),N.data&&(m._copy(N.data,0,T,R-N.data.length,N.data.length),R-=N.data.length),A=N.start}A>0&&m._copy(I,0,T,0,A),h={resultId:h.resultId,data:T}}}if((0,b.isSemanticTokens)(h)){this._currentDocumentResponse=new s(r,h.resultId,h.data);const E=(0,v.toMultilineTokens2)(h,u,this._model.getLanguageId());if(f.length>0)for(const I of f)for(const T of E)for(const A of I.changes)T.applyEdit(A.range,A.text);this._model.tokenization.setSemanticTokens(E,!0)}else this._model.tokenization.setSemanticTokens(null,!0);_()}};d.REQUEST_MIN_DELAY=300,d.REQUEST_MAX_DELAY=2e3,d=m=De([he(1,t.ISemanticTokensStylingService),he(2,w.IThemeService),he(3,a.ILanguageFeatureDebounceService),he(4,i.ILanguageFeaturesService)],d);class s{constructor(r,h,u){this.provider=r,this.resultId=h,this.data=u}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,o.registerEditorFeature)(c)}),define(ne[881],se([1,0,15,2,16,351,315,261,26,24,80,63,18,244]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportSemanticTokensContribution=void 0;let t=class extends k.Disposable{constructor(g,m,c,d,s,l){super(),this._semanticTokensStylingService=m,this._themeService=c,this._configurationService=d,this._editor=g,this._provider=l.documentRangeSemanticTokensProvider,this._debounceInformation=s.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new L.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const r=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{r()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),r()})),this._register(this._editor.onDidChangeModelContent(h=>{this._cancelAll(),r()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),r()})),this._register(this._configurationService.onDidChangeConfiguration(h=>{h.affectsConfiguration(S.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),r())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),r()})),r()}_cancelAll(){for(const g of this._outstandingRequests)g.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(g){for(let m=0,c=this._outstandingRequests.length;m<c;m++)if(this._outstandingRequests[m]===g){this._outstandingRequests.splice(m,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const g=this._editor.getModel();if(g.tokenization.hasCompleteSemanticTokens())return;if(!(0,S.isSemanticColoringEnabled)(g,this._themeService,this._configurationService)){g.tokenization.hasSomeSemanticTokens()&&g.tokenization.setSemanticTokens(null,!1);return}if(!(0,D.hasDocumentRangeSemanticTokensProvider)(this._provider,g)){g.tokenization.hasSomeSemanticTokens()&&g.tokenization.setSemanticTokens(null,!1);return}const m=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(m.map(c=>this._requestRange(g,c)))}_requestRange(g,m){const c=g.getVersionId(),d=(0,L.createCancelablePromise)(l=>Promise.resolve((0,D.getDocumentRangeSemanticTokens)(this._provider,g,m,l))),s=new a.StopWatch(!1);return d.then(l=>{if(this._debounceInformation.update(g,s.elapsed()),!l||!l.tokens||g.isDisposed()||g.getVersionId()!==c)return;const{provider:r,tokens:h}=l,u=this._semanticTokensStylingService.getStyling(r);g.tokenization.setPartialSemanticTokens(m,(0,p.toMultilineTokens2)(h,u,g.getLanguageId()))}).then(()=>this._removeOutstandingRequest(d),()=>this._removeOutstandingRequest(d)),d}};e.ViewportSemanticTokensContribution=t,t.ID="editor.contrib.viewportSemanticTokens",e.ViewportSemanticTokensContribution=t=De([he(1,i.ISemanticTokensStylingService),he(2,v.IThemeService),he(3,w.IConfigurationService),he(4,b.ILanguageFeatureDebounceService),he(5,n.ILanguageFeaturesService)],t),(0,y.registerEditorContribution)(t.ID,t,1)}),define(ne[882],se([1,0,6,236,27,29,7,73,2,22,30,802,51,43,730,347,82,24,362]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.getAriaId=void 0;function s(f){return`suggest-aria-id:${f}`}e.getAriaId=s;const l=(0,g.registerIcon)("suggest-more-info",y.Codicon.chevronRight,t.localize(0,null)),r=new(d=class{extract(C,_){if(C.textLabel.match(d._regexStrict))return _[0]=C.textLabel,!0;if(C.completion.detail&&C.completion.detail.match(d._regexStrict))return _[0]=C.completion.detail,!0;if(C.completion.documentation){const E=typeof C.completion.documentation=="string"?C.completion.documentation:C.completion.documentation.value,I=d._regexRelaxed.exec(E);if(I&&(I.index===0||I.index+I[0].length===E.length))return _[0]=I[0],!0}return!1}},d._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,d._regexStrict=new RegExp(`^${d._regexRelaxed.source}$`,"i"),d);let h=class{constructor(C,_,E,I){this._editor=C,this._modelService=_,this._languageService=E,this._themeService=I,this._onDidToggleDetails=new S.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(C){const _=new w.DisposableStore,E=C;E.classList.add("show-file-icons");const I=(0,L.append)(C,(0,L.$)(".icon")),T=(0,L.append)(I,(0,L.$)("span.colorspan")),A=(0,L.append)(C,(0,L.$)(".contents")),R=(0,L.append)(A,(0,L.$)(".main")),M=(0,L.append)(R,(0,L.$)(".icon-label.codicon")),N=(0,L.append)(R,(0,L.$)("span.left")),P=(0,L.append)(R,(0,L.$)("span.right")),F=new k.IconLabel(N,{supportHighlights:!0,supportIcons:!0});_.add(F);const O=(0,L.append)(N,(0,L.$)("span.signature-label")),B=(0,L.append)(N,(0,L.$)("span.qualifier-label")),W=(0,L.append)(P,(0,L.$)("span.details-label")),V=(0,L.append)(P,(0,L.$)("span.readMore"+D.ThemeIcon.asCSSSelector(l)));return V.title=t.localize(1,null),{root:E,left:N,right:P,icon:I,colorspan:T,iconLabel:F,iconContainer:M,parametersLabel:O,qualifierLabel:B,detailsLabel:W,readMore:V,disposables:_,configureFont:()=>{const K=this._editor.getOptions(),j=K.get(50),x=j.getMassagedFontFamily(),re=j.fontFeatureSettings,ie=K.get(119)||j.fontSize,J=K.get(120)||j.lineHeight,X=j.fontWeight,Y=j.letterSpacing,le=`${ie}px`,de=`${J}px`,ge=`${Y}px`;E.style.fontSize=le,E.style.fontWeight=X,E.style.letterSpacing=ge,R.style.fontFamily=x,R.style.fontFeatureSettings=re,R.style.lineHeight=de,I.style.height=de,I.style.width=de,V.style.height=de,V.style.width=de}}}renderElement(C,_,E){E.configureFont();const{completion:I}=C;E.root.id=s(_),E.colorspan.style.backgroundColor="";const T={labelEscapeNewLines:!0,matches:(0,p.createMatches)(C.score)},A=[];if(I.kind===19&&r.extract(C,A))E.icon.className="icon customcolor",E.iconContainer.className="icon hide",E.colorspan.style.backgroundColor=A[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){E.icon.className="icon hide",E.iconContainer.className="icon hide";const R=(0,a.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:C.textLabel}),o.FileKind.FILE),M=(0,a.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:I.detail}),o.FileKind.FILE);T.extraClasses=R.length>M.length?R:M}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(E.icon.className="icon hide",E.iconContainer.className="icon hide",T.extraClasses=[(0,a.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:C.textLabel}),o.FileKind.FOLDER),(0,a.getIconClasses)(this._modelService,this._languageService,v.URI.from({scheme:"fake",path:I.detail}),o.FileKind.FOLDER)].flat()):(E.icon.className="icon hide",E.iconContainer.className="",E.iconContainer.classList.add("suggest-icon",...D.ThemeIcon.asClassNameArray(b.CompletionItemKinds.toIcon(I.kind))));I.tags&&I.tags.indexOf(1)>=0&&(T.extraClasses=(T.extraClasses||[]).concat(["deprecated"]),T.matches=[]),E.iconLabel.setLabel(C.textLabel,void 0,T),typeof I.label=="string"?(E.parametersLabel.textContent="",E.detailsLabel.textContent=u(I.detail||""),E.root.classList.add("string-label")):(E.parametersLabel.textContent=u(I.label.detail||""),E.detailsLabel.textContent=u(I.label.description||""),E.root.classList.remove("string-label")),this._editor.getOption(118).showInlineDetails?(0,L.show)(E.detailsLabel):(0,L.hide)(E.detailsLabel),(0,c.canExpandCompletionItem)(C)?(E.right.classList.add("can-expand-details"),(0,L.show)(E.readMore),E.readMore.onmousedown=R=>{R.stopPropagation(),R.preventDefault()},E.readMore.onclick=R=>{R.stopPropagation(),R.preventDefault(),this._onDidToggleDetails.fire()}):(E.right.classList.remove("can-expand-details"),(0,L.hide)(E.readMore),E.readMore.onmousedown=null,E.readMore.onclick=null)}disposeTemplate(C){C.disposables.dispose()}};e.ItemRenderer=h,e.ItemRenderer=h=De([he(1,n.IModelService),he(2,i.ILanguageService),he(3,m.IThemeService)],h);function u(f){return f.replace(/\r\n|\r|\n/g,"")}}),define(ne[883],se([1,0,876,37,145,35,99,7,16,21,72]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let a=class extends L.AbstractGotoLineQuickAccessProvider{constructor(t){super(),this.editorService=t,this.onDidActiveTextEditorControlChange=p.Event.None}get activeTextEditorControl(){var t;return(t=this.editorService.getFocusedCodeEditor())!==null&&t!==void 0?t:void 0}};e.StandaloneGotoLineQuickAccessProvider=a,e.StandaloneGotoLineQuickAccessProvider=a=De([he(0,D.ICodeEditorService)],a);class n extends w.EditorAction{constructor(){super({id:n.ID,label:S.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(t){t.get(b.IQuickInputService).quickAccess.show(a.PREFIX)}}e.GotoLineAction=n,n.ID="editor.action.gotoLine",(0,w.registerEditorAction)(n),k.Registry.as(y.Extensions.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:a.PREFIX,helpEntries:[{description:S.GoToLineNLS.gotoLineActionLabel,commandId:n.ID}]})}),define(ne[884],se([1,0,877,37,145,35,99,7,16,21,72,167,18,180,259]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let i=class extends L.AbstractGotoSymbolQuickAccessProvider{constructor(g,m,c){super(m,c),this.editorService=g,this.onDidActiveTextEditorControlChange=p.Event.None}get activeTextEditorControl(){var g;return(g=this.editorService.getFocusedCodeEditor())!==null&&g!==void 0?g:void 0}};e.StandaloneGotoSymbolQuickAccessProvider=i,e.StandaloneGotoSymbolQuickAccessProvider=i=De([he(0,D.ICodeEditorService),he(1,n.ILanguageFeaturesService),he(2,a.IOutlineModelService)],i);class t extends w.EditorAction{constructor(){super({id:t.ID,label:S.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:v.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(g){g.get(b.IQuickInputService).quickAccess.show(L.AbstractGotoSymbolQuickAccessProvider.PREFIX,{itemActivation:b.ItemActivation.NONE})}}e.GotoSymbolAction=t,t.ID="editor.action.quickOutline",(0,w.registerEditorAction)(t),k.Registry.as(y.Extensions.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:S.QuickOutlineNLS.quickOutlineActionLabel,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:t.ID},{description:S.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:L.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(ne[378],se([1,0,6,47,861,35,14,45,24]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let v=class extends y.AbstractCodeEditorService{constructor(a,n){super(n),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=a.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(i,t,o)=>t?this.doOpenEditor(t,i):null))}_checkContextKey(){let a=!1;for(const n of this.listCodeEditors())if(!n.isSimpleWidget){a=!0;break}this._editorIsOpen.set(a)}setActiveCodeEditor(a){this._activeCodeEditor=a}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(a,n){if(!this.findModel(a,n.resource)){if(n.resource){const o=n.resource.scheme;if(o===k.Schemas.http||o===k.Schemas.https)return(0,L.windowOpenNoOpener)(n.resource.toString()),a}return null}const t=n.options?n.options.selection:null;if(t)if(typeof t.endLineNumber=="number"&&typeof t.endColumn=="number")a.setSelection(t),a.revealRangeInCenter(t,1);else{const o={lineNumber:t.startLineNumber,column:t.startColumn};a.setPosition(o),a.revealPositionInCenter(o,1)}return a}findModel(a,n){const i=a.getModel();return i&&i.uri.toString()!==n.toString()?null:i}};e.StandaloneCodeEditorService=v,e.StandaloneCodeEditorService=v=De([he(0,S.IContextKeyService),he(1,w.IThemeService)],v),(0,p.registerSingleton)(D.ICodeEditorService,v,0)}),define(ne[885],se([1,0,83,31]),function(ee,e,L,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[L.editorIndentGuide1]:"#D3D3D3",[L.editorActiveIndentGuide1]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[L.editorIndentGuide1]:"#404040",[L.editorActiveIndentGuide1]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[L.editorIndentGuide1]:"#FFFFFF",[L.editorActiveIndentGuide1]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFF",[k.editorForeground]:"#292929",[L.editorIndentGuide1]:"#292929",[L.editorActiveIndentGuide1]:"#292929"}}}),define(ne[379],se([1,0,6,59,39,7,30,136,528,885,37,31,24,2,89,856,50]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const m=b.Registry.as(a.Extensions.ColorContribution),c=b.Registry.as(n.Extensions.ThemingContribution);class d{constructor(f,C){this.semanticHighlighting=!1,this.themeData=C;const _=C.base;f.length>0?(s(f)?this.id=f:this.id=_+" "+f,this.themeName=f):(this.id=_,this.themeName=_),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const f=new Map;for(const C in this.themeData.colors)f.set(C,y.Color.fromHex(this.themeData.colors[C]));if(this.themeData.inherit){const C=l(this.themeData.base);for(const _ in C.colors)f.has(_)||f.set(_,y.Color.fromHex(C.colors[_]))}this.colors=f}return this.colors}getColor(f,C){const _=this.getColors().get(f);if(_)return _;if(C!==!1)return this.getDefault(f)}getDefault(f){let C=this.defaultColors[f];return C||(C=m.resolveDefaultColor(f,this),this.defaultColors[f]=C,C)}defines(f){return this.getColors().has(f)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return t.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_LIGHT;default:return t.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let f=[],C=[];if(this.themeData.inherit){const I=l(this.themeData.base);f=I.rules,I.encodedTokensColors&&(C=I.encodedTokensColors)}const _=this.themeData.colors["editor.foreground"],E=this.themeData.colors["editor.background"];if(_||E){const I={token:""};_&&(I.foreground=_),E&&(I.background=E),f.push(I)}f=f.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(C=this.themeData.encodedTokensColors),this._tokenTheme=w.TokenTheme.createFromRawTokenTheme(f,C)}return this._tokenTheme}getTokenStyleMetadata(f,C,_){const I=this.tokenTheme._match([f].concat(C).join(".")).metadata,T=p.TokenMetadata.getForeground(I),A=p.TokenMetadata.getFontStyle(I);return{foreground:T,italic:!!(A&1),bold:!!(A&2),underline:!!(A&4),strikethrough:!!(A&8)}}}function s(u){return u===e.VS_LIGHT_THEME_NAME||u===e.VS_DARK_THEME_NAME||u===e.HC_BLACK_THEME_NAME||u===e.HC_LIGHT_THEME_NAME}function l(u){switch(u){case e.VS_LIGHT_THEME_NAME:return v.vs;case e.VS_DARK_THEME_NAME:return v.vs_dark;case e.HC_BLACK_THEME_NAME:return v.hc_black;case e.HC_LIGHT_THEME_NAME:return v.hc_light}}function r(u){const f=l(u);return new d(u,f)}class h extends i.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new D.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new D.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new o.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,r(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,r(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,r(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,r(e.HC_LIGHT_THEME_NAME));const f=this._register((0,o.getIconsStyleSheet)(this));this._codiconCSS=f.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),this._register(f.onDidChange(()=>{this._codiconCSS=f.getCSS(),this._updateCSS()})),(0,k.addMatchMediaChangeListener)(g.mainWindow,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(f){return L.isInShadowDOM(f)?this._registerShadowDomContainer(f):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=L.createStyleSheet(void 0,f=>{f.className="monaco-colors",f.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),i.Disposable.None}_registerShadowDomContainer(f){const C=L.createStyleSheet(f,_=>{_.className="monaco-colors",_.textContent=this._allCSS});return this._styleElements.push(C),{dispose:()=>{for(let _=0;_<this._styleElements.length;_++)if(this._styleElements[_]===C){this._styleElements.splice(_,1);return}}}}defineTheme(f,C){if(!/^[a-z0-9\-]+$/i.test(f))throw new Error("Illegal theme name!");if(!s(C.base)&&!s(f))throw new Error("Illegal theme base!");this._knownThemes.set(f,new d(f,C)),s(f)&&this._knownThemes.forEach(_=>{_.base===f&&_.notifyBaseUpdated()}),this._theme.themeName===f&&this.setTheme(f)}getColorTheme(){return this._theme}setColorMapOverride(f){this._colorMapOverride=f,this._updateThemeOrColorMap()}setTheme(f){let C;this._knownThemes.has(f)?C=this._knownThemes.get(f):C=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(C)}_updateActualTheme(f){!f||this._theme===f||(this._theme=f,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const f=g.mainWindow.matchMedia("(forced-colors: active)").matches;if(f!==(0,t.isHighContrast)(this._theme.type)){let C;(0,t.isDark)(this._theme.type)?C=f?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:C=f?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(C))}}}setAutoDetectHighContrast(f){this._autoDetectHighContrast=f,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const f=[],C={},_={addRule:T=>{C[T]||(f.push(T),C[T]=!0)}};c.getThemingParticipants().forEach(T=>T(this._theme,_,this._environment));const E=[];for(const T of m.getColors()){const A=this._theme.getColor(T.id,!0);A&&E.push(`${(0,a.asCssVariableName)(T.id)}: ${A.toString()};`)}_.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${E.join(`
`)} }`);const I=this._colorMapOverride||this._theme.tokenTheme.getColorMap();_.addRule((0,w.generateTokensCSSForColorMap)(I)),this._themeCSS=f.join(`
`),this._updateCSS(),S.TokenizationRegistry.setColorMap(I),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(f=>f.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=h}),define(ne[886],se([1,0,16,143,99,89,379]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class p extends L.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:y.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(v,b){const a=v.get(k.IStandaloneThemeService),n=a.getColorTheme();(0,D.isHighContrast)(n.type)?(a.setTheme(this._originalThemeName||((0,D.isDark)(n.type)?S.VS_DARK_THEME_NAME:S.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(a.setTheme((0,D.isDark)(n.type)?S.HC_BLACK_THEME_NAME:S.HC_LIGHT_THEME_NAME),this._originalThemeName=n.themeName)}}(0,L.registerEditorAction)(p)}),define(ne[110],se([1,0,6,46,141,330,42,224,2,17,744,28,766,14,56,8,34,49,94,24,29,89,20,31,102,71,497]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=e.createAndFillInContextMenuActions=void 0;function C(N,P,F,O){const B=N.getActions(P),W=L.ModifierKeyEmitter.getInstance(),V=W.keyStatus.altKey||(v.isWindows||v.isLinux)&&W.keyStatus.shiftKey;E(B,F,V,O?z=>z===O:z=>z==="navigation")}e.createAndFillInContextMenuActions=C;function _(N,P,F,O,B,W){const V=N.getActions(P);E(V,F,!1,typeof O=="string"?K=>K===O:O,B,W)}e.createAndFillInActionBarActions=_;function E(N,P,F,O=V=>V==="navigation",B=()=>!1,W=!1){let V,z;Array.isArray(P)?(V=P,z=P):(V=P.primary,z=P.secondary);const K=new Set;for(const[j,x]of N){let re;O(j)?(re=V,re.length>0&&W&&re.push(new S.Separator)):(re=z,re.length>0&&re.push(new S.Separator));for(let ie of x){F&&(ie=ie instanceof a.MenuItemAction&&ie.alt?ie.alt:ie);const J=re.push(ie);ie instanceof S.SubmenuAction&&K.add({group:j,action:ie,index:J-1})}}for(const{group:j,action:x,index:re}of K){const ie=O(j)?V:z,J=x.actions;B(x,j,ie.length)&&ie.splice(re,1,...J)}}let I=class extends y.ActionViewItem{constructor(P,F,O,B,W,V,z,K){super(void 0,P,{icon:!!(P.class||P.item.icon),label:!P.class&&!P.item.icon,draggable:F?.draggable,keybinding:F?.keybinding,hoverDelegate:F?.hoverDelegate}),this._keybindingService=O,this._notificationService=B,this._contextKeyService=W,this._themeService=V,this._contextMenuService=z,this._accessibilityService=K,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new w.MutableDisposable),this._altKey=L.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(P){P.preventDefault(),P.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(F){this._notificationService.error(F)}}render(P){if(super.render(P),P.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let F=!1;const O=()=>{var B;const W=!!(!((B=this._menuItemAction.alt)===null||B===void 0)&&B.enabled)&&(!this._accessibilityService.isMotionReduced()||F)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&F);W!==this._wantsAltCommand&&(this._wantsAltCommand=W,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(O)),this._register((0,L.addDisposableListener)(P,"mouseleave",B=>{F=!1,O()})),this._register((0,L.addDisposableListener)(P,"mouseenter",B=>{F=!0,O()})),O()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var P;const F=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),O=F&&F.getLabel(),B=this._commandAction.tooltip||this._commandAction.label;let W=O?(0,b.localize)(0,null,B,O):B;if(!this._wantsAltCommand&&(!((P=this._menuItemAction.alt)===null||P===void 0)&&P.enabled)){const V=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,z=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),K=z&&z.getLabel(),j=K?(0,b.localize)(1,null,V,K):V;W=(0,b.localize)(2,null,W,p.UILabelProvider.modifierLabels[v.OS].altKey,j)}return W}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(P){this._itemClassDispose.value=void 0;const{element:F,label:O}=this;if(!F||!O)return;const B=this._commandAction.checked&&(0,n.isICommandActionToggleInfo)(P.toggled)&&P.toggled.icon?P.toggled.icon:P.icon;if(B)if(s.ThemeIcon.isThemeIcon(B)){const W=s.ThemeIcon.asClassNameArray(B);O.classList.add(...W),this._itemClassDispose.value=(0,w.toDisposable)(()=>{O.classList.remove(...W)})}else O.style.backgroundImage=(0,l.isDark)(this._themeService.getColorTheme().type)?(0,L.asCSSUrl)(B.dark):(0,L.asCSSUrl)(B.light),O.classList.add("icon"),this._itemClassDispose.value=(0,w.combinedDisposable)((0,w.toDisposable)(()=>{O.style.backgroundImage="",O.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};e.MenuEntryActionViewItem=I,e.MenuEntryActionViewItem=I=De([he(2,g.IKeybindingService),he(3,m.INotificationService),he(4,i.IContextKeyService),he(5,d.IThemeService),he(6,t.IContextMenuService),he(7,f.IAccessibilityService)],I);let T=class extends D.DropdownMenuActionViewItem{constructor(P,F,O,B,W){var V,z,K;const j={...F,menuAsChild:(V=F?.menuAsChild)!==null&&V!==void 0?V:!1,classNames:(z=F?.classNames)!==null&&z!==void 0?z:s.ThemeIcon.isThemeIcon(P.item.icon)?s.ThemeIcon.asClassName(P.item.icon):void 0,keybindingProvider:(K=F?.keybindingProvider)!==null&&K!==void 0?K:x=>O.lookupKeybinding(x.id)};super(P,{getActions:()=>P.actions},B,j),this._keybindingService=O,this._contextMenuService=B,this._themeService=W}render(P){super.render(P),(0,r.assertType)(this.element),P.classList.add("menu-entry");const F=this._action,{icon:O}=F.item;if(O&&!s.ThemeIcon.isThemeIcon(O)){this.element.classList.add("icon");const B=()=>{this.element&&(this.element.style.backgroundImage=(0,l.isDark)(this._themeService.getColorTheme().type)?(0,L.asCSSUrl)(O.dark):(0,L.asCSSUrl)(O.light))};B(),this._register(this._themeService.onDidColorThemeChange(()=>{B()}))}}};e.SubmenuEntryActionViewItem=T,e.SubmenuEntryActionViewItem=T=De([he(2,g.IKeybindingService),he(3,t.IContextMenuService),he(4,d.IThemeService)],T);let A=class extends y.BaseActionViewItem{constructor(P,F,O,B,W,V,z,K){var j,x,re;super(null,P),this._keybindingService=O,this._notificationService=B,this._contextMenuService=W,this._menuService=V,this._instaService=z,this._storageService=K,this._container=null,this._options=F,this._storageKey=`${P.item.submenu.id}_lastActionId`;let ie;const J=F?.persistLastActionId?K.get(this._storageKey,1):void 0;J&&(ie=P.actions.find(Y=>J===Y.id)),ie||(ie=P.actions[0]),this._defaultAction=this._instaService.createInstance(I,ie,{keybinding:this._getDefaultActionKeybindingLabel(ie)});const X={keybindingProvider:Y=>this._keybindingService.lookupKeybinding(Y.id),...F,menuAsChild:(j=F?.menuAsChild)!==null&&j!==void 0?j:!0,classNames:(x=F?.classNames)!==null&&x!==void 0?x:["codicon","codicon-chevron-down"],actionRunner:(re=F?.actionRunner)!==null&&re!==void 0?re:new S.ActionRunner};this._dropdown=new D.DropdownMenuActionViewItem(P,P.actions,this._contextMenuService,X),this._register(this._dropdown.actionRunner.onDidRun(Y=>{Y.action instanceof a.MenuItemAction&&this.update(Y.action)}))}update(P){var F;!((F=this._options)===null||F===void 0)&&F.persistLastActionId&&this._storageService.store(this._storageKey,P.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(I,P,{keybinding:this._getDefaultActionKeybindingLabel(P)}),this._defaultAction.actionRunner=new class extends S.ActionRunner{async runAction(O,B){await O.run(void 0)}},this._container&&this._defaultAction.render((0,L.prepend)(this._container,(0,L.$)(".action-container")))}_getDefaultActionKeybindingLabel(P){var F;let O;if(!((F=this._options)===null||F===void 0)&&F.renderKeybindingWithDefaultActionLabel){const B=this._keybindingService.lookupKeybinding(P.id);B&&(O=`(${B.getLabel()})`)}return O}setActionContext(P){super.setActionContext(P),this._defaultAction.setActionContext(P),this._dropdown.setActionContext(P)}render(P){this._container=P,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const F=(0,L.$)(".action-container");this._defaultAction.render((0,L.append)(this._container,F)),this._register((0,L.addDisposableListener)(F,L.EventType.KEY_DOWN,B=>{const W=new k.StandardKeyboardEvent(B);W.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),W.stopPropagation())}));const O=(0,L.$)(".dropdown-action-container");this._dropdown.render((0,L.append)(this._container,O)),this._register((0,L.addDisposableListener)(O,L.EventType.KEY_DOWN,B=>{var W;const V=new k.StandardKeyboardEvent(B);V.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(W=this._defaultAction.element)===null||W===void 0||W.focus(),V.stopPropagation())}))}focus(P){P?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(P){P?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};e.DropdownWithDefaultActionViewItem=A,e.DropdownWithDefaultActionViewItem=A=De([he(2,g.IKeybindingService),he(3,m.INotificationService),he(4,t.IContextMenuService),he(5,a.IMenuService),he(6,o.IInstantiationService),he(7,c.IStorageService)],A);let R=class extends y.SelectActionViewItem{constructor(P,F){super(null,P,P.actions.map(O=>({text:O.id===S.Separator.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":O.label,isDisabled:!O.enabled})),0,F,u.defaultSelectBoxStyles,{ariaLabel:P.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,P.actions.findIndex(O=>O.checked)))}render(P){super.render(P),P.style.borderColor=(0,h.asCssVariable)(h.selectBorder)}runAction(P,F){const O=this.action.actions[F];O&&this.actionRunner.run(O)}};R=De([he(1,t.IContextViewService)],R);function M(N,P,F){return P instanceof a.MenuItemAction?N.createInstance(I,P,F):P instanceof a.SubmenuItemAction?P.item.isSelection?N.createInstance(R,P):P.item.rememberDefaultAction?N.createInstance(A,P,{...F,persistLastActionId:!0}):N.createInstance(T,P,F):void 0}e.createActionViewItem=M}),define(ne[887],se([1,0,6,79,2,731,110,28,14,8]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class b extends S.MenuEntryActionViewItem{updateLabel(){const i=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!i)return super.updateLabel();this.label&&(this.label.textContent=(0,D.localize)(0,null,this._action.label,b.symbolPrintEnter(i)))}static symbolPrintEnter(i){var t;return(t=i.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}}let a=class{constructor(i,t,o,g,m){this._menuId=t,this._menuService=g,this._contextKeyService=m,this._menuDisposables=new y.DisposableStore,this.element=L.append(i,L.$(".suggest-status-bar"));const c=d=>d instanceof p.MenuItemAction?o.createInstance(b,d,void 0):void 0;this._leftActions=new k.ActionBar(this.element,{actionViewItemProvider:c}),this._rightActions=new k.ActionBar(this.element,{actionViewItemProvider:c}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const i=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const o=[],g=[];for(const[m,c]of i.getActions())m==="left"?o.push(...c):g.push(...c);this._leftActions.clear(),this._leftActions.push(o),this._rightActions.clear(),this._rightActions.push(g)};this._menuDisposables.add(i.onDidChange(()=>t())),this._menuDisposables.add(i)}hide(){this._menuDisposables.clear()}};e.SuggestWidgetStatus=a,e.SuggestWidgetStatus=a=De([he(2,v.IInstantiationService),he(3,p.IMenuService),he(4,w.IContextKeyService)],a)}),define(ne[262],se([1,0,6,69,610,42,13,275,12,7,52,2,745,110,28,14,56,34,61]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuWorkbenchToolBar=e.WorkbenchToolBar=void 0;let d=class extends y.ToolBar{constructor(r,h,u,f,C,_,E){super(r,C,{getKeyBinding:T=>{var A;return(A=_.lookupKeybinding(T.id))!==null&&A!==void 0?A:void 0},...h,allowContextMenu:!0,skipTelemetry:typeof h?.telemetrySource=="string"}),this._options=h,this._menuService=u,this._contextKeyService=f,this._contextMenuService=C,this._sessionDisposables=this._store.add(new a.DisposableStore);const I=h?.telemetrySource;I&&this._store.add(this.actionBar.onDidRun(T=>E.publicLog2("workbenchActionExecuted",{id:T.action.id,from:I})))}setActions(r,h=[],u){var f,C,_;this._sessionDisposables.clear();const E=r.slice(),I=h.slice(),T=[];let A=0;const R=[];let M=!1;if(((f=this._options)===null||f===void 0?void 0:f.hiddenItemStrategy)!==-1)for(let N=0;N<E.length;N++){const P=E[N];!(P instanceof t.MenuItemAction)&&!(P instanceof t.SubmenuItemAction)||P.hideActions&&(T.push(P.hideActions.toggle),P.hideActions.toggle.checked&&A++,P.hideActions.isHidden&&(M=!0,E[N]=void 0,((C=this._options)===null||C===void 0?void 0:C.hiddenItemStrategy)!==0&&(R[N]=P)))}if(((_=this._options)===null||_===void 0?void 0:_.overflowBehavior)!==void 0){const N=(0,p.intersection)(new Set(this._options.overflowBehavior.exempted),b.Iterable.map(E,O=>O?.id)),P=this._options.overflowBehavior.maxItems-N.size;let F=0;for(let O=0;O<E.length;O++){const B=E[O];B&&(F++,!N.has(B.id)&&F>=P&&(E[O]=void 0,R[O]=B))}}(0,S.coalesceInPlace)(E),(0,S.coalesceInPlace)(R),super.setActions(E,D.Separator.join(R,I)),T.length>0&&this._sessionDisposables.add((0,L.addDisposableListener)(this.getElement(),"contextmenu",N=>{var P,F,O,B,W;const V=new k.StandardMouseEvent((0,L.getWindow)(this.getElement()),N),z=this.getItemAction(V.target);if(!z)return;V.preventDefault(),V.stopPropagation();let K=!1;if(A===1&&((P=this._options)===null||P===void 0?void 0:P.hiddenItemStrategy)===0){K=!0;for(let re=0;re<T.length;re++)if(T[re].checked){T[re]=(0,D.toAction)({id:z.id,label:z.label,checked:!0,enabled:!1,run(){}});break}}let j;if(!K&&(z instanceof t.MenuItemAction||z instanceof t.SubmenuItemAction)){if(!z.hideActions)return;j=z.hideActions.hide}else j=(0,D.toAction)({id:"label",label:(0,n.localize)(0,null),enabled:!1,run(){}});const x=D.Separator.join([j],T);!((F=this._options)===null||F===void 0)&&F.resetMenu&&!u&&(u=[this._options.resetMenu]),M&&u&&(x.push(new D.Separator),x.push((0,D.toAction)({id:"resetThisMenu",label:(0,n.localize)(1,null),run:()=>this._menuService.resetHiddenStates(u)}))),this._contextMenuService.showContextMenu({getAnchor:()=>V,getActions:()=>x,menuId:(O=this._options)===null||O===void 0?void 0:O.contextMenu,menuActionOptions:{renderShortTitle:!0,...(B=this._options)===null||B===void 0?void 0:B.menuOptions},skipTelemetry:typeof((W=this._options)===null||W===void 0?void 0:W.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};e.WorkbenchToolBar=d,e.WorkbenchToolBar=d=De([he(2,t.IMenuService),he(3,o.IContextKeyService),he(4,g.IContextMenuService),he(5,m.IKeybindingService),he(6,c.ITelemetryService)],d);let s=class extends d{constructor(r,h,u,f,C,_,E,I){super(r,{resetMenu:h,...u},f,C,_,E,I),this._onDidChangeMenuItems=this._store.add(new v.Emitter);const T=this._store.add(f.createMenu(h,C,{emitEventsForSubmenuChanges:!0})),A=()=>{var R,M,N;const P=[],F=[];(0,i.createAndFillInActionBarActions)(T,u?.menuOptions,{primary:P,secondary:F},(R=u?.toolbarOptions)===null||R===void 0?void 0:R.primaryGroup,(M=u?.toolbarOptions)===null||M===void 0?void 0:M.shouldInlineSubmenu,(N=u?.toolbarOptions)===null||N===void 0?void 0:N.useSeparatorsInPrimaryActions),r.classList.toggle("has-no-actions",P.length===0&&F.length===0),super.setActions(P,F)};this._store.add(T.onDidChange(()=>{A(),this._onDidChangeMenuItems.fire(this)})),A()}setActions(){throw new w.BugIndicatingError("This toolbar is populated from a menu.")}};e.MenuWorkbenchToolBar=s,e.MenuWorkbenchToolBar=s=De([he(3,t.IMenuService),he(4,o.IContextKeyService),he(5,g.IContextMenuService),he(6,m.IKeybindingService),he(7,c.ITelemetryService)],s)}),define(ne[263],se([1,0,6,141,190,42,13,15,27,2,32,17,29,9,30,222,707,110,262,28,25,14,56,8,34,61,82,475]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineSuggestionHintsContentWidget=e.InlineCompletionsHintsWidget=void 0;let E=class extends v.Disposable{constructor(F,O,B){super(),this.editor=F,this.model=O,this.instantiationService=B,this.alwaysShowToolbar=(0,b.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,b.derived)(this,W=>{var V,z,K;const j=(V=this.model.read(W))===null||V===void 0?void 0:V.primaryGhostText.read(W);if(!this.alwaysShowToolbar.read(W)||!j||j.parts.length===0)return this.sessionPosition=void 0,null;const x=j.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==j.lineNumber&&(this.sessionPosition=void 0);const re=new i.Position(j.lineNumber,Math.min(x,(K=(z=this.sessionPosition)===null||z===void 0?void 0:z.column)!==null&&K!==void 0?K:Number.MAX_SAFE_INTEGER));return this.sessionPosition=re,re}),this._register((0,b.autorunWithStore)((W,V)=>{const z=this.model.read(W);if(!z||!this.alwaysShowToolbar.read(W))return;const K=V.add(this.instantiationService.createInstance(A,this.editor,!0,this.position,z.selectedInlineCompletionIndex,z.inlineCompletionsCount,z.selectedInlineCompletion.map(j=>{var x;return(x=j?.inlineCompletion.source.inlineCompletions.commands)!==null&&x!==void 0?x:[]})));F.addContentWidget(K),V.add((0,v.toDisposable)(()=>F.removeContentWidget(K))),V.add((0,b.autorun)(j=>{this.position.read(j)&&z.lastTriggerKind.read(j)!==t.InlineCompletionTriggerKind.Explicit&&z.triggerExplicitly()}))}))}};e.InlineCompletionsHintsWidget=E,e.InlineCompletionsHintsWidget=E=De([he(2,h.IInstantiationService)],E);const I=(0,C.registerIcon)("inline-suggestion-hints-next",w.Codicon.chevronRight,(0,g.localize)(0,null)),T=(0,C.registerIcon)("inline-suggestion-hints-previous",w.Codicon.chevronLeft,(0,g.localize)(1,null));let A=_=class extends v.Disposable{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(F,O,B){const W=new D.Action(F,O,B,!0,()=>this._commandService.executeCommand(F)),V=this.keybindingService.lookupKeybinding(F,this._contextKeyService);let z=O;return V&&(z=(0,g.localize)(2,null,O,V.getLabel())),W.tooltip=z,W}constructor(F,O,B,W,V,z,K,j,x,re,ie){super(),this.editor=F,this.withBorder=O,this._position=B,this._currentSuggestionIdx=W,this._suggestionCount=V,this._extraCommands=z,this._commandService=K,this.keybindingService=x,this._contextKeyService=re,this._menuService=ie,this.id=`InlineSuggestionHintsContentWidget${_.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,L.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,L.h)("div@toolBar")]),this.previousAction=this.createCommandAction(o.showPreviousInlineSuggestionActionId,(0,g.localize)(3,null),n.ThemeIcon.asClassName(T)),this.availableSuggestionCountAction=new D.Action("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(o.showNextInlineSuggestionActionId,(0,g.localize)(4,null),n.ThemeIcon.asClassName(I)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(d.MenuId.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new p.RunOnceScheduler(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new p.RunOnceScheduler(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[],this.toolBar=this._register(j.createInstance(N,this.nodes.toolBar,d.MenuId.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:J=>J.startsWith("primary")},actionViewItemProvider:(J,X)=>{if(J instanceof d.MenuItemAction)return j.createInstance(M,J,void 0);if(J===this.availableSuggestionCountAction){const Y=new R(void 0,J,{label:!0,icon:!1});return Y.setClass("availableSuggestionCount"),Y}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(J=>{_._dropDownVisible=J})),this._register((0,b.autorun)(J=>{this._position.read(J),this.editor.layoutContentWidget(this)})),this._register((0,b.autorun)(J=>{const X=this._suggestionCount.read(J),Y=this._currentSuggestionIdx.read(J);X!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${Y+1}/${X}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),X!==void 0&&X>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,b.autorun)(J=>{const X=this._extraCommands.read(J);if((0,S.equals)(this.lastCommands,X))return;this.lastCommands=X;const Y=X.map(le=>({class:void 0,id:le.id,enabled:!0,tooltip:le.tooltip||"",label:le.title,run:de=>this._commandService.executeCommand(le.id)}));for(const[le,de]of this.inlineCompletionsActionsMenus.getActions())for(const ge of de)ge instanceof d.MenuItemAction&&Y.push(ge);Y.length>0&&Y.unshift(new D.Separator),this.toolBar.setAdditionalSecondaryActions(Y)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineSuggestionHintsContentWidget=A,A._dropDownVisible=!1,A.id=0,e.InlineSuggestionHintsContentWidget=A=_=De([he(6,s.ICommandService),he(7,h.IInstantiationService),he(8,u.IKeybindingService),he(9,l.IContextKeyService),he(10,d.IMenuService)],A);class R extends k.ActionViewItem{constructor(){super(...arguments),this._className=void 0}setClass(F){this._className=F}render(F){super.render(F),this._className&&F.classList.add(this._className)}updateTooltip(){}}class M extends m.MenuEntryActionViewItem{updateLabel(){const F=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!F)return super.updateLabel();if(this.label){const O=(0,L.h)("div.keybinding").root;new y.KeybindingLabel(O,a.OS,{disableTitle:!0,...y.unthemedKeybindingLabelOptions}).set(F),this.label.textContent=this._action.label,this.label.appendChild(O),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}}let N=class extends c.WorkbenchToolBar{constructor(F,O,B,W,V,z,K,j){super(F,{resetMenu:O,...B},W,V,z,K,j),this.menuId=O,this.options2=B,this.menuService=W,this.contextKeyService=V,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var F,O,B,W,V,z,K;const j=[],x=[];(0,m.createAndFillInActionBarActions)(this.menu,(F=this.options2)===null||F===void 0?void 0:F.menuOptions,{primary:j,secondary:x},(B=(O=this.options2)===null||O===void 0?void 0:O.toolbarOptions)===null||B===void 0?void 0:B.primaryGroup,(V=(W=this.options2)===null||W===void 0?void 0:W.toolbarOptions)===null||V===void 0?void 0:V.shouldInlineSubmenu,(K=(z=this.options2)===null||z===void 0?void 0:z.toolbarOptions)===null||K===void 0?void 0:K.useSeparatorsInPrimaryActions),x.push(...this.additionalActions),j.unshift(...this.prependedPrimaryActions),this.setActions(j,x)}setPrependedPrimaryActions(F){(0,S.equals)(this.prependedPrimaryActions,F,(O,B)=>O===B)||(this.prependedPrimaryActions=F,this.updateToolbar())}setAdditionalSecondaryActions(F){(0,S.equals)(this.additionalActions,F,(O,B)=>O===B)||(this.additionalActions=F,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=N,e.CustomizedMenuWorkbenchToolBar=N=De([he(3,d.IMenuService),he(4,l.IContextKeyService),he(5,r.IContextMenuService),he(6,u.IKeybindingService),he(7,f.ITelemetryService)],N)}),define(ne[380],se([1,0,6,190,42,13,2,32,17,9,110,262,28,14,56,8,34,61,477]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineEditHintsContentWidget=e.InlineEditHintsWidget=void 0;let d=class extends S.Disposable{constructor(u,f,C){super(),this.editor=u,this.model=f,this.instantiationService=C,this.alwaysShowToolbar=(0,p.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,p.derived)(this,_=>{var E,I,T;const A=(E=this.model.read(_))===null||E===void 0?void 0:E.widget.model.ghostText.read(_);if(!this.alwaysShowToolbar.read(_)||!A||A.parts.length===0)return this.sessionPosition=void 0,null;const R=A.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==A.lineNumber&&(this.sessionPosition=void 0);const M=new v.Position(A.lineNumber,Math.min(R,(T=(I=this.sessionPosition)===null||I===void 0?void 0:I.column)!==null&&T!==void 0?T:Number.MAX_SAFE_INTEGER));return this.sessionPosition=M,M}),this._register((0,p.autorunWithStore)((_,E)=>{if(!this.model.read(_)||!this.alwaysShowToolbar.read(_))return;const T=E.add(this.instantiationService.createInstance(s,this.editor,!0,this.position));u.addContentWidget(T),E.add((0,S.toDisposable)(()=>u.removeContentWidget(T)))}))}};e.InlineEditHintsWidget=d,e.InlineEditHintsWidget=d=De([he(2,o.IInstantiationService)],d);let s=c=class extends S.Disposable{constructor(u,f,C,_,E,I){super(),this.editor=u,this.withBorder=f,this._position=C,this._contextKeyService=E,this._menuService=I,this.id=`InlineEditHintsContentWidget${c.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,L.h)("div.inlineEditHints",{className:this.withBorder?".withBorder":""},[(0,L.h)("div@toolBar")]),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(n.MenuId.InlineEditActions,this._contextKeyService)),this.toolBar=this._register(_.createInstance(r,this.nodes.toolBar,this.editor,n.MenuId.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:T=>T.startsWith("primary")},actionViewItemProvider:(T,A)=>{if(T instanceof n.MenuItemAction)return _.createInstance(l,T,void 0)},telemetrySource:"InlineEditToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(T=>{c._dropDownVisible=T})),this._register((0,p.autorun)(T=>{this._position.read(T),this.editor.layoutContentWidget(this)})),this._register((0,p.autorun)(T=>{const A=[];for(const[R,M]of this.inlineCompletionsActionsMenus.getActions())for(const N of M)N instanceof n.MenuItemAction&&A.push(N);A.length>0&&A.unshift(new y.Separator),this.toolBar.setAdditionalSecondaryActions(A)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineEditHintsContentWidget=s,s._dropDownVisible=!1,s.id=0,e.InlineEditHintsContentWidget=s=c=De([he(3,o.IInstantiationService),he(4,i.IContextKeyService),he(5,n.IMenuService)],s);class l extends b.MenuEntryActionViewItem{updateLabel(){const u=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!u)return super.updateLabel();if(this.label){const f=(0,L.h)("div.keybinding").root;new k.KeybindingLabel(f,w.OS,{disableTitle:!0,...k.unthemedKeybindingLabelOptions}).set(u),this.label.textContent=this._action.label,this.label.appendChild(f),this.label.classList.add("inlineEditStatusBarItemLabel")}}updateTooltip(){}}let r=class extends a.WorkbenchToolBar{constructor(u,f,C,_,E,I,T,A,R){super(u,{resetMenu:C,..._},E,I,T,A,R),this.editor=f,this.menuId=C,this.options2=_,this.menuService=E,this.contextKeyService=I,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this._store.add(this.editor.onDidChangeCursorPosition(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var u,f,C,_,E,I,T;const A=[],R=[];(0,b.createAndFillInActionBarActions)(this.menu,(u=this.options2)===null||u===void 0?void 0:u.menuOptions,{primary:A,secondary:R},(C=(f=this.options2)===null||f===void 0?void 0:f.toolbarOptions)===null||C===void 0?void 0:C.primaryGroup,(E=(_=this.options2)===null||_===void 0?void 0:_.toolbarOptions)===null||E===void 0?void 0:E.shouldInlineSubmenu,(T=(I=this.options2)===null||I===void 0?void 0:I.toolbarOptions)===null||T===void 0?void 0:T.useSeparatorsInPrimaryActions),R.push(...this.additionalActions),A.unshift(...this.prependedPrimaryActions),this.setActions(A,R)}setAdditionalSecondaryActions(u){(0,D.equals)(this.additionalActions,u,(f,C)=>f===C)||(this.additionalActions=u,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=r,e.CustomizedMenuWorkbenchToolBar=r=De([he(4,n.IMenuService),he(5,i.IContextKeyService),he(6,t.IContextMenuService),he(7,g.IKeybindingService),he(8,m.ITelemetryService)],r)}),define(ne[264],se([1,0,2,32,68,9,5,775,14,8,30,18,19,189,25,380,6,26]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditController=e.InlineEditWidget=void 0;class d{constructor(h,u){this.widget=h,this.edit=u}dispose(){this.widget.dispose()}}e.InlineEditWidget=d;let s=c=class extends L.Disposable{static get(h){return h.getContribution(c.ID)}constructor(h,u,f,C,_,E){super(),this.editor=h,this.instantiationService=u,this.contextKeyService=f,this.languageFeaturesService=C,this._commandService=_,this._configurationService=E,this._isVisibleContext=c.inlineEditVisibleContext.bindTo(this.contextKeyService),this._isCursorAtInlineEditContext=c.cursorAtInlineEditContext.bindTo(this.contextKeyService),this._currentEdit=this._register((0,k.disposableObservableValue)(this,void 0)),this._isAccepting=!1,this._enabled=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).enabled),this._fontFamily=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).fontFamily),this._backgroundColoring=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).backgroundColoring);const I=(0,k.observableSignalFromEvent)("InlineEditController.modelContentChangedSignal",h.onDidChangeModelContent);this._register((0,k.autorun)(N=>{this._enabled.read(N)&&(I.read(N),this.getInlineEdit(h,!0))}));const T=(0,k.observableFromEvent)(h.onDidChangeCursorPosition,()=>h.getPosition());this._register((0,k.autorun)(N=>{if(!this._enabled.read(N))return;const P=T.read(N);P&&this.checkCursorPosition(P)})),this._register((0,k.autorun)(N=>{const P=this._currentEdit.read(N);if(this._isCursorAtInlineEditContext.set(!1),!P){this._isVisibleContext.set(!1);return}this._isVisibleContext.set(!0);const F=h.getPosition();F&&this.checkCursorPosition(F)}));const A=(0,k.observableSignalFromEvent)("InlineEditController.editorBlurSignal",h.onDidBlurEditorWidget);this._register((0,k.autorun)(N=>{var P;this._enabled.read(N)&&(A.read(N),!(this._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")||h.getOption(63).keepOnBlur)&&((P=this._currentRequestCts)===null||P===void 0||P.dispose(),this._currentRequestCts=void 0,this.clear(!1)))}));const R=(0,k.observableSignalFromEvent)("InlineEditController.editorFocusSignal",h.onDidFocusEditorText);this._register((0,k.autorun)(N=>{this._enabled.read(N)&&(R.read(N),this.getInlineEdit(h,!0))}));const M=this._register((0,g.createStyleSheet2)());this._register((0,k.autorun)(N=>{const P=this._fontFamily.read(N);M.setStyle(P===""||P==="default"?"":`
.monaco-editor .inline-edit-decoration,
.monaco-editor .inline-edit-decoration-preview,
.monaco-editor .inline-edit {
	font-family: ${P};
}`)})),this._register(new o.InlineEditHintsWidget(this.editor,this._currentEdit,this.instantiationService))}checkCursorPosition(h){var u;if(!this._currentEdit){this._isCursorAtInlineEditContext.set(!1);return}const f=(u=this._currentEdit.get())===null||u===void 0?void 0:u.edit;if(!f){this._isCursorAtInlineEditContext.set(!1);return}this._isCursorAtInlineEditContext.set(S.Range.containsPosition(f.range,h))}validateInlineEdit(h,u){var f,C;if(u.text.includes(`
`)&&u.range.startLineNumber!==u.range.endLineNumber&&u.range.startColumn!==u.range.endColumn){if(u.range.startColumn!==1)return!1;const E=u.range.endLineNumber,I=u.range.endColumn,T=(C=(f=h.getModel())===null||f===void 0?void 0:f.getLineLength(E))!==null&&C!==void 0?C:0;if(I!==T+1)return!1}return!0}async fetchInlineEdit(h,u){this._currentRequestCts&&this._currentRequestCts.dispose(!0);const f=h.getModel();if(!f)return;const C=f.getVersionId(),_=this.languageFeaturesService.inlineEditProvider.all(f);if(_.length===0)return;const E=_[0];this._currentRequestCts=new n.CancellationTokenSource;const I=this._currentRequestCts.token,T=u?b.InlineEditTriggerKind.Automatic:b.InlineEditTriggerKind.Invoke;if(u&&await l(50,I),I.isCancellationRequested||f.isDisposed()||f.getVersionId()!==C)return;const R=await E.provideInlineEdit(f,{triggerKind:T},I);if(R&&!(I.isCancellationRequested||f.isDisposed()||f.getVersionId()!==C)&&this.validateInlineEdit(h,R))return R}async getInlineEdit(h,u){var f;this._isCursorAtInlineEditContext.set(!1),this.clear(),this._isAccepting=!1;const C=await this.fetchInlineEdit(h,u);if(!C)return;const _=C.range.endLineNumber,E=C.range.endColumn,I=new i.GhostText(_,[new i.GhostTextPart(E,C.text,!1)]),T=this.instantiationService.createInstance(p.GhostTextWidget,this.editor,{ghostText:(0,k.constObservable)(I),minReservedLineCount:(0,k.constObservable)(0),targetTextModel:(0,k.constObservable)((f=this.editor.getModel())!==null&&f!==void 0?f:void 0),range:(0,k.constObservable)(C.range),backgroundColoring:this._backgroundColoring});this._currentEdit.set(new d(T,C),void 0)}async trigger(){await this.getInlineEdit(this.editor,!1)}async jumpBack(){this._jumpBackPosition&&(this.editor.setPosition(this._jumpBackPosition),this.editor.revealPositionInCenterIfOutsideViewport(this._jumpBackPosition))}accept(){var h;this._isAccepting=!0;const u=(h=this._currentEdit.get())===null||h===void 0?void 0:h.edit;if(!u)return;let f=u.text;u.text.startsWith(`
`)&&(f=u.text.substring(1)),this.editor.pushUndoStop(),this.editor.executeEdits("acceptCurrent",[y.EditOperation.replace(S.Range.lift(u.range),f)]),u.accepted&&this._commandService.executeCommand(u.accepted.id,...u.accepted.arguments||[]),this.freeEdit(u),this._currentEdit.set(void 0,void 0)}jumpToCurrent(){var h,u;this._jumpBackPosition=(h=this.editor.getSelection())===null||h===void 0?void 0:h.getStartPosition();const f=(u=this._currentEdit.get())===null||u===void 0?void 0:u.edit;if(!f)return;const C=D.Position.lift({lineNumber:f.range.startLineNumber,column:f.range.startColumn});this.editor.setPosition(C),this.editor.revealPositionInCenterIfOutsideViewport(C)}clear(h=!0){var u;const f=(u=this._currentEdit.get())===null||u===void 0?void 0:u.edit;f&&f?.rejected&&!this._isAccepting&&h&&this._commandService.executeCommand(f.rejected.id,...f.rejected.arguments||[]),f&&this.freeEdit(f),this._currentEdit.set(void 0,void 0)}freeEdit(h){const u=this.editor.getModel();if(!u)return;const f=this.languageFeaturesService.inlineEditProvider.all(u);f.length!==0&&f[0].freeInlineEdit(h)}shouldShowHoverAt(h){const u=this._currentEdit.get();if(!u)return!1;const f=u.edit,C=u.widget.model;if(S.Range.containsPosition(f.range,h.getStartPosition())||S.Range.containsPosition(f.range,h.getEndPosition()))return!0;const E=C.ghostText.get();return E?E.parts.some(I=>h.containsPosition(new D.Position(E.lineNumber,I.column))):!1}shouldShowHoverAtViewZone(h){var u,f;return(f=(u=this._currentEdit.get())===null||u===void 0?void 0:u.widget.ownsViewZone(h))!==null&&f!==void 0?f:!1}};e.InlineEditController=s,s.ID="editor.contrib.inlineEditController",s.inlineEditVisibleKey="inlineEditVisible",s.inlineEditVisibleContext=new w.RawContextKey(c.inlineEditVisibleKey,!1),s.cursorAtInlineEditKey="cursorAtInlineEdit",s.cursorAtInlineEditContext=new w.RawContextKey(c.cursorAtInlineEditKey,!1),e.InlineEditController=s=c=De([he(1,v.IInstantiationService),he(2,w.IContextKeyService),he(3,a.ILanguageFeaturesService),he(4,t.ICommandService),he(5,m.IConfigurationService)],s);function l(r,h){return new Promise(u=>{let f;const C=setTimeout(()=>{f&&f.dispose(),u()},r);h&&(f=h.onCancellationRequested(()=>{clearTimeout(C),f&&f.dispose(),u()}))})}}),define(ne[888],se([1,0,16,21,569,264,28,14]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RejectInlineEdit=e.JumpBackInlineEdit=e.JumpToInlineEdit=e.TriggerInlineEdit=e.AcceptInlineEdit=void 0;class w extends L.EditorAction{constructor(){super({id:y.inlineEditAcceptId,label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:p.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:p.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.inlineEditVisibleContext,D.InlineEditController.cursorAtInlineEditContext)}],menuOpts:[{menuId:S.MenuId.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})}async run(t,o){const g=D.InlineEditController.get(o);g?.accept()}}e.AcceptInlineEdit=w;class v extends L.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,p.ContextKeyExpr.not(D.InlineEditController.inlineEditVisibleKey));super({id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t}})}async run(t,o){const g=D.InlineEditController.get(o);g?.trigger()}}e.TriggerInlineEdit=v;class b extends L.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.inlineEditVisibleContext,p.ContextKeyExpr.not(D.InlineEditController.cursorAtInlineEditKey));super({id:y.inlineEditJumpToId,label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t},menuOpts:[{menuId:S.MenuId.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:t}]})}async run(t,o){const g=D.InlineEditController.get(o);g?.jumpToCurrent()}}e.JumpToInlineEdit=b;class a extends L.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.cursorAtInlineEditContext);super({id:y.inlineEditJumpBackId,label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:t,kbOpts:{weight:110,primary:2646,kbExpr:t},menuOpts:[{menuId:S.MenuId.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:t}]})}async run(t,o){const g=D.InlineEditController.get(o);g?.jumpBack()}}e.JumpBackInlineEdit=a;class n extends L.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.inlineEditVisibleContext);super({id:y.inlineEditRejectId,label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:t,kbOpts:{weight:100,primary:9,kbExpr:t},menuOpts:[{menuId:S.MenuId.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})}async run(t,o){const g=D.InlineEditController.get(o);g?.clear()}}e.RejectInlineEdit=n}),define(ne[889],se([1,0,2,32,93,8,61,264,380]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditHoverParticipant=e.InlineEditHover=void 0;class v{constructor(n,i,t){this.owner=n,this.range=i,this.controller=t}isValidForHoverAnchor(n){return n.type===1&&this.range.startColumn<=n.range.startColumn&&this.range.endColumn>=n.range.endColumn}}e.InlineEditHover=v;let b=class{constructor(n,i,t){this._editor=n,this._instantiationService=i,this._telemetryService=t,this.hoverOrdinal=5}suggestHoverAnchor(n){const i=p.InlineEditController.get(this._editor);if(!i)return null;const t=n.target;if(t.type===8){const o=t.detail;if(i.shouldShowHoverAtViewZone(o.viewZoneId)){const g=t.range;return new y.HoverForeignElementAnchor(1e3,this,g,n.event.posx,n.event.posy,!1)}}return t.type===7&&i.shouldShowHoverAt(t.range)?new y.HoverForeignElementAnchor(1e3,this,t.range,n.event.posx,n.event.posy,!1):t.type===6&&t.detail.mightBeForeignElement&&i.shouldShowHoverAt(t.range)?new y.HoverForeignElementAnchor(1e3,this,t.range,n.event.posx,n.event.posy,!1):null}computeSync(n,i){if(this._editor.getOption(63).showToolbar!=="onHover")return[];const t=p.InlineEditController.get(this._editor);return t&&t.shouldShowHoverAt(n.range)?[new v(this,n.range,t)]:[]}renderHoverParts(n,i){const t=new L.DisposableStore;this._telemetryService.publicLog2("inlineEditHover.shown");const o=this._instantiationService.createInstance(w.InlineEditHintsContentWidget,this._editor,!1,(0,k.constObservable)(null));return n.fragment.appendChild(o.getDomNode()),t.add(o),t}};e.InlineEditHoverParticipant=b,e.InlineEditHoverParticipant=b=De([he(1,D.IInstantiationService),he(2,S.ITelemetryService)],b)}),define(ne[890],se([1,0,16,93,888,889,264]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorAction)(y.AcceptInlineEdit),(0,L.registerEditorAction)(y.RejectInlineEdit),(0,L.registerEditorAction)(y.JumpToInlineEdit),(0,L.registerEditorAction)(y.JumpBackInlineEdit),(0,L.registerEditorAction)(y.TriggerInlineEdit),(0,L.registerEditorContribution)(S.InlineEditController.ID,S.InlineEditController,3),k.HoverParticipantRegistry.register(D.InlineEditHoverParticipant)}),define(ne[891],se([1,0,6,42,7,2,110,28,14,34,49,61,850,56]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuMenuDelegate=e.ContextMenuService=void 0;let t=class extends D.Disposable{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new n.ContextMenuHandler(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(m,c,d,s,l,r){super(),this.telemetryService=m,this.notificationService=c,this.contextViewService=d,this.keybindingService=s,this.menuService=l,this.contextKeyService=r,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new y.Emitter),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new y.Emitter)}configure(m){this.contextMenuHandler.configure(m)}showContextMenu(m){m=o.transform(m,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...m,onHide:c=>{var d;(d=m.onHide)===null||d===void 0||d.call(m,c),this._onDidHideContextMenu.fire()}}),L.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};e.ContextMenuService=t,e.ContextMenuService=t=De([he(0,a.ITelemetryService),he(1,b.INotificationService),he(2,i.IContextViewService),he(3,v.IKeybindingService),he(4,p.IMenuService),he(5,w.IContextKeyService)],t);var o;(function(g){function m(d){return d&&d.menuId instanceof p.MenuId}function c(d,s,l){if(!m(d))return d;const{menuId:r,menuActionOptions:h,contextKeyService:u}=d;return{...d,getActions:()=>{const f=[];if(r){const C=s.createMenu(r,u??l);(0,S.createAndFillInContextMenuActions)(C,h,f),C.dispose()}return d.getActions?k.Separator.join(d.getActions(),f):f}}}g.transform=c})(o||(e.ContextMenuMenuDelegate=o={}))}),define(ne[892],se([1,0,19,7,14,8,125,198,57,813,102,31,24,374,860,26,6]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let m=class extends n.Themable{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(v.QuickAccessController))),this._quickAccess}constructor(d,s,l,r,h){super(l),this.instantiationService=d,this.contextKeyService=s,this.layoutService=r,this.configurationService=h,this._onShow=this._register(new k.Emitter),this._onHide=this._register(new k.Emitter),this.contexts=new Map}createController(d=this.layoutService,s){const l={idPrefix:"quickInput_",container:d.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:h=>this.setContextKey(h),linkOpenerDelegate:h=>{this.instantiationService.invokeFunction(u=>{u.get(w.IOpenerService).open(h,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>d.focus(),createList:(h,u,f,C,_)=>this.instantiationService.createInstance(p.WorkbenchList,h,u,f,C,_),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(i.QuickInputHoverDelegate))},r=this._register(new t.QuickInputController({...l,...s},this.themeService,this.layoutService));return r.layout(d.activeContainerDimension,d.activeContainerOffset.quickPickTop),this._register(d.onDidLayoutActiveContainer(h=>{(0,g.getWindow)(d.activeContainer)===(0,g.getWindow)(r.container)&&r.layout(h,d.activeContainerOffset.quickPickTop)})),this._register(d.onDidChangeActiveContainer(()=>{r.isVisible()||r.layout(d.activeContainerDimension,d.activeContainerOffset.quickPickTop)})),this._register(r.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(r.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),r}setContextKey(d){let s;d&&(s=this.contexts.get(d),s||(s=new y.RawContextKey(d,!1).bindTo(this.contextKeyService),this.contexts.set(d,s))),!(s&&s.get())&&(this.resetContextKeys(),s?.set(!0))}resetContextKeys(){this.contexts.forEach(d=>{d.get()&&d.reset()})}pick(d,s={},l=L.CancellationToken.None){return this.controller.pick(d,s,l)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,a.asCssVariable)(a.quickInputBackground),quickInputForeground:(0,a.asCssVariable)(a.quickInputForeground),quickInputTitleBackground:(0,a.asCssVariable)(a.quickInputTitleBackground),widgetBorder:(0,a.asCssVariable)(a.widgetBorder),widgetShadow:(0,a.asCssVariable)(a.widgetShadow)},inputBox:b.defaultInputBoxStyles,toggle:b.defaultToggleStyles,countBadge:b.defaultCountBadgeStyles,button:b.defaultButtonStyles,progressBar:b.defaultProgressBarStyles,keybindingLabel:b.defaultKeybindingLabelStyles,list:(0,b.getListStyles)({listBackground:a.quickInputBackground,listFocusBackground:a.quickInputListFocusBackground,listFocusForeground:a.quickInputListFocusForeground,listInactiveFocusForeground:a.quickInputListFocusForeground,listInactiveSelectionIconForeground:a.quickInputListFocusIconForeground,listInactiveFocusBackground:a.quickInputListFocusBackground,listFocusOutline:a.activeContrastBorder,listInactiveFocusOutline:a.activeContrastBorder}),pickerGroup:{pickerGroupBorder:(0,a.asCssVariable)(a.pickerGroupBorder),pickerGroupForeground:(0,a.asCssVariable)(a.pickerGroupForeground)}}}};e.QuickInputService=m,e.QuickInputService=m=De([he(0,D.IInstantiationService),he(1,y.IContextKeyService),he(2,n.IThemeService),he(3,S.ILayoutService),he(4,o.IConfigurationService)],m)}),define(ne[893],se([1,0,7,16,24,19,8,14,356,35,892,112,26,495]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=void 0;let i=class extends b.QuickInputService{constructor(c,d,s,l,r,h){super(d,s,l,new w.EditorScopedLayoutService(c.getContainerDomNode(),r),h),this.host=void 0;const u=o.get(c);if(u){const f=u.widget;this.host={_serviceBrand:void 0,get mainContainer(){return f.getDomNode()},getContainer(){return f.getDomNode()},get containers(){return[f.getDomNode()]},get activeContainer(){return f.getDomNode()},get mainContainerDimension(){return c.getLayoutInfo()},get activeContainerDimension(){return c.getLayoutInfo()},get onDidLayoutMainContainer(){return c.onDidLayoutChange},get onDidLayoutActiveContainer(){return c.onDidLayoutChange},get onDidLayoutContainer(){return L.Event.map(c.onDidLayoutChange,C=>({container:f.getDomNode(),dimension:C}))},get onDidChangeActiveContainer(){return L.Event.None},get onDidAddContainer(){return L.Event.None},get whenActiveContainerStylesLoaded(){return Promise.resolve()},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>c.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};i=De([he(1,S.IInstantiationService),he(2,p.IContextKeyService),he(3,y.IThemeService),he(4,v.ICodeEditorService),he(5,n.IConfigurationService)],i);let t=class{get activeService(){const c=this.codeEditorService.getFocusedCodeEditor();if(!c)throw new Error("Quick input service needs a focused editor to work.");let d=this.mapEditorToService.get(c);if(!d){const s=d=this.instantiationService.createInstance(i,c);this.mapEditorToService.set(c,d),(0,a.createSingleCallFunction)(c.onDidDispose)(()=>{s.dispose(),this.mapEditorToService.delete(c)})}return d}get quickAccess(){return this.activeService.quickAccess}constructor(c,d){this.instantiationService=c,this.codeEditorService=d,this.mapEditorToService=new Map}pick(c,d={},s=D.CancellationToken.None){return this.activeService.pick(c,d,s)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};e.StandaloneQuickInputService=t,e.StandaloneQuickInputService=t=De([he(0,S.IInstantiationService),he(1,v.ICodeEditorService)],t);class o{static get(c){return c.getContribution(o.ID)}constructor(c){this.editor=c,this.widget=new g(this.editor)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=o,o.ID="editor.controller.quickInput";class g{constructor(c){this.codeEditor=c,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return g.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=g,g.ID="editor.contrib.quickInputWidget",(0,k.registerEditorContribution)(o.ID,o,4)}),define(ne[199],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,L.createDecorator)("undoRedoService");class k{constructor(p,w){this.resource=p,this.elements=w}}e.ResourceEditStackSnapshot=k;class y{constructor(){this.id=y._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=y,y._ID=0,y.None=new y;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=D,D._ID=0,D.None=new D}),define(ne[38],se([1,0,13,39,12,7,2,11,22,133,209,64,9,5,23,182,43,33,40,623,873,346,305,533,534,337,624,187,652,117,199]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_,E,I,T){"use strict";var A;Object.defineProperty(e,"__esModule",{value:!0}),e.AttachedViews=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationGlyphMarginOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.createTextBuffer=e.createTextBufferFactoryFromSnapshot=e.createTextBufferFactory=void 0;function R(te){const G=new C.PieceTreeTextBufferBuilder;return G.acceptChunk(te),G.finish()}e.createTextBufferFactory=R;function M(te){const G=new C.PieceTreeTextBufferBuilder;let $;for(;typeof($=te.read())=="string";)G.acceptChunk($);return G.finish()}e.createTextBufferFactoryFromSnapshot=M;function N(te,G){let $;return typeof te=="string"?$=R(te):c.isITextSnapshot(te)?$=M(te):$=te,$.create(G)}e.createTextBuffer=N;let P=0;const F=999,O=1e4;class B{constructor(G){this._source=G,this._eos=!1}read(){if(this._eos)return null;const G=[];let $=0,oe=0;do{const ae=this._source.read();if(ae===null)return this._eos=!0,$===0?null:G.join("");if(ae.length>0&&(G[$++]=ae,oe+=ae.length),oe>=64*1024)return G.join("")}while(!0)}}const W=()=>{throw new Error("Invalid change accessor")};let V=A=class extends S.Disposable{static resolveOptions(G,$){if($.detectIndentation){const oe=(0,h.guessIndentation)(G,$.tabSize,$.insertSpaces);return new c.TextModelResolvedOptions({tabSize:oe.tabSize,indentSize:"tabSize",insertSpaces:oe.insertSpaces,trimAutoWhitespace:$.trimAutoWhitespace,defaultEOL:$.defaultEOL,bracketPairColorizationOptions:$.bracketPairColorizationOptions})}return new c.TextModelResolvedOptions($)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(G){return this._eventEmitter.slowEvent($=>G($.contentChangedEvent))}onDidChangeContentOrInjectedText(G){return(0,S.combinedDisposable)(this._eventEmitter.fastEvent($=>G($)),this._onDidChangeInjectedText.event($=>G($)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(G,$,oe,ae=null,ue,ce,fe){super(),this._undoRedoService=ue,this._languageService=ce,this._languageConfigurationService=fe,this._onWillDispose=this._register(new D.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new U(Ne=>this.handleBeforeFireDecorationsChangedEvent(Ne))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new D.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new D.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new D.Emitter),this._eventEmitter=this._register(new Z),this._languageSelectionListener=this._register(new S.MutableDisposable),this._deltaDecorationCallCnt=0,this._attachedViews=new H,P++,this.id="$model"+P,this.isForSimpleWidget=oe.isForSimpleWidget,typeof ae>"u"||ae===null?this._associatedResource=w.URI.parse("inmemory://model/"+P):this._associatedResource=ae,this._attachedEditorCount=0;const{textBuffer:ve,disposable:Ce}=N(G,oe.defaultEOL);this._buffer=ve,this._bufferDisposable=Ce,this._options=A.resolveOptions(this._buffer,oe);const Se=typeof $=="string"?$:$.languageId;typeof $!="string"&&(this._languageSelectionListener.value=$.onDidChange(()=>this._setLanguage($.languageId))),this._bracketPairs=this._register(new d.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new r.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new s.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new E.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,Se,this._attachedViews);const _e=this._buffer.getLineCount(),Ie=this._buffer.getValueLengthInRange(new i.Range(1,1,_e,this._buffer.getLineLength(_e)+1),0);oe.largeFileOptimizations?(this._isTooLargeForTokenization=Ie>A.LARGE_FILE_SIZE_THRESHOLD||_e>A.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=Ie>A.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=Ie>A._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=p.singleLetterHash(P),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new re,this._commandManager=new l.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(Se)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const G=new f.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);G.dispose(),this._buffer=G,this._bufferDisposable=S.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(G,$){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent($),this._bracketPairs.handleDidChangeContent($),this._eventEmitter.fire(new I.InternalModelContentChangeEvent(G,$)))}setValue(G){if(this._assertNotDisposed(),G==null)throw(0,y.illegalArgument)();const{textBuffer:$,disposable:oe}=N(G,this._options.defaultEOL);this._setValueFromTextBuffer($,oe)}_createContentChanged2(G,$,oe,ae,ue,ce,fe,ve){return{changes:[{range:G,rangeOffset:$,rangeLength:oe,text:ae}],eol:this._buffer.getEOL(),isEolChange:ve,versionId:this.getVersionId(),isUndoing:ue,isRedoing:ce,isFlush:fe}}_setValueFromTextBuffer(G,$){this._assertNotDisposed();const oe=this.getFullModelRange(),ae=this.getValueLengthInRange(oe),ue=this.getLineCount(),ce=this.getLineMaxColumn(ue);this._buffer=G,this._bufferDisposable.dispose(),this._bufferDisposable=$,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new re,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,ue,ce),0,ae,this.getValue(),!1,!1,!0,!1))}setEOL(G){this._assertNotDisposed();const $=G===1?`\r
`:`
`;if(this._buffer.getEOL()===$)return;const oe=this.getFullModelRange(),ae=this.getValueLengthInRange(oe),ue=this.getLineCount(),ce=this.getLineMaxColumn(ue);this._onBeforeEOLChange(),this._buffer.setEOL($),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,ue,ce),0,ae,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const G=this.getVersionId(),$=this._decorationsTree.collectNodesPostOrder();for(let oe=0,ae=$.length;oe<ae;oe++){const ue=$[oe],ce=ue.range,fe=ue.cachedAbsoluteStart-ue.start,ve=this._buffer.getOffsetAt(ce.startLineNumber,ce.startColumn),Ce=this._buffer.getOffsetAt(ce.endLineNumber,ce.endColumn);ue.cachedAbsoluteStart=ve,ue.cachedAbsoluteEnd=Ce,ue.cachedVersionId=G,ue.start=ve-fe,ue.end=Ce-fe,(0,u.recomputeMaxEnd)(ue)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(G){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(G)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let G=0,$=0;const oe=this._buffer.getLineCount();for(let ae=1;ae<=oe;ae++){const ue=this._buffer.getLineLength(ae);ue>=O?$+=ue:G+=ue}return $>G}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(G){this._assertNotDisposed();const $=typeof G.tabSize<"u"?G.tabSize:this._options.tabSize,oe=typeof G.indentSize<"u"?G.indentSize:this._options.originalIndentSize,ae=typeof G.insertSpaces<"u"?G.insertSpaces:this._options.insertSpaces,ue=typeof G.trimAutoWhitespace<"u"?G.trimAutoWhitespace:this._options.trimAutoWhitespace,ce=typeof G.bracketColorizationOptions<"u"?G.bracketColorizationOptions:this._options.bracketPairColorizationOptions,fe=new c.TextModelResolvedOptions({tabSize:$,indentSize:oe,insertSpaces:ae,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:ue,bracketPairColorizationOptions:ce});if(this._options.equals(fe))return;const ve=this._options.createChangeEvent(fe);this._options=fe,this._bracketPairs.handleDidChangeOptions(ve),this._decorationProvider.handleDidChangeOptions(ve),this._onDidChangeOptions.fire(ve)}detectIndentation(G,$){this._assertNotDisposed();const oe=(0,h.guessIndentation)(this._buffer,$,G);this.updateOptions({insertSpaces:oe.insertSpaces,tabSize:oe.tabSize,indentSize:oe.tabSize})}normalizeIndentation(G){return this._assertNotDisposed(),(0,b.normalizeIndentation)(G,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(G=null){const $=this.findMatches(p.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(G,$.map(oe=>({range:oe.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(G){this._assertNotDisposed();const $=this._validatePosition(G.lineNumber,G.column,0);return this._buffer.getOffsetAt($.lineNumber,$.column)}getPositionAt(G){this._assertNotDisposed();const $=Math.min(this._buffer.getLength(),Math.max(0,G));return this._buffer.getPositionAt($)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(G){this._versionId=G}_overwriteAlternativeVersionId(G){this._alternativeVersionId=G}_overwriteInitialUndoRedoSnapshot(G){this._initialUndoRedoSnapshot=G}getValue(G,$=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new y.BugIndicatingError("Operation would exceed heap memory limits");const oe=this.getFullModelRange(),ae=this.getValueInRange(oe,G);return $?this._buffer.getBOM()+ae:ae}createSnapshot(G=!1){return new B(this._buffer.createSnapshot(G))}getValueLength(G,$=!1){this._assertNotDisposed();const oe=this.getFullModelRange(),ae=this.getValueLengthInRange(oe,G);return $?this._buffer.getBOM().length+ae:ae}getValueInRange(G,$=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(G),$)}getValueLengthInRange(G,$=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(G),$)}getCharacterCountInRange(G,$=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(G),$)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(G){if(this._assertNotDisposed(),G<1||G>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineContent(G)}getLineLength(G){if(this._assertNotDisposed(),G<1||G>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(G)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new y.BugIndicatingError("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(G){return this._assertNotDisposed(),1}getLineMaxColumn(G){if(this._assertNotDisposed(),G<1||G>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(G)+1}getLineFirstNonWhitespaceColumn(G){if(this._assertNotDisposed(),G<1||G>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(G)}getLineLastNonWhitespaceColumn(G){if(this._assertNotDisposed(),G<1||G>this.getLineCount())throw new y.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(G)}_validateRangeRelaxedNoAllocations(G){const $=this._buffer.getLineCount(),oe=G.startLineNumber,ae=G.startColumn;let ue=Math.floor(typeof oe=="number"&&!isNaN(oe)?oe:1),ce=Math.floor(typeof ae=="number"&&!isNaN(ae)?ae:1);if(ue<1)ue=1,ce=1;else if(ue>$)ue=$,ce=this.getLineMaxColumn(ue);else if(ce<=1)ce=1;else{const _e=this.getLineMaxColumn(ue);ce>=_e&&(ce=_e)}const fe=G.endLineNumber,ve=G.endColumn;let Ce=Math.floor(typeof fe=="number"&&!isNaN(fe)?fe:1),Se=Math.floor(typeof ve=="number"&&!isNaN(ve)?ve:1);if(Ce<1)Ce=1,Se=1;else if(Ce>$)Ce=$,Se=this.getLineMaxColumn(Ce);else if(Se<=1)Se=1;else{const _e=this.getLineMaxColumn(Ce);Se>=_e&&(Se=_e)}return oe===ue&&ae===ce&&fe===Ce&&ve===Se&&G instanceof i.Range&&!(G instanceof t.Selection)?G:new i.Range(ue,ce,Ce,Se)}_isValidPosition(G,$,oe){if(typeof G!="number"||typeof $!="number"||isNaN(G)||isNaN($)||G<1||$<1||(G|0)!==G||($|0)!==$)return!1;const ae=this._buffer.getLineCount();if(G>ae)return!1;if($===1)return!0;const ue=this.getLineMaxColumn(G);if($>ue)return!1;if(oe===1){const ce=this._buffer.getLineCharCode(G,$-2);if(p.isHighSurrogate(ce))return!1}return!0}_validatePosition(G,$,oe){const ae=Math.floor(typeof G=="number"&&!isNaN(G)?G:1),ue=Math.floor(typeof $=="number"&&!isNaN($)?$:1),ce=this._buffer.getLineCount();if(ae<1)return new n.Position(1,1);if(ae>ce)return new n.Position(ce,this.getLineMaxColumn(ce));if(ue<=1)return new n.Position(ae,1);const fe=this.getLineMaxColumn(ae);if(ue>=fe)return new n.Position(ae,fe);if(oe===1){const ve=this._buffer.getLineCharCode(ae,ue-2);if(p.isHighSurrogate(ve))return new n.Position(ae,ue-1)}return new n.Position(ae,ue)}validatePosition(G){return this._assertNotDisposed(),G instanceof n.Position&&this._isValidPosition(G.lineNumber,G.column,1)?G:this._validatePosition(G.lineNumber,G.column,1)}_isValidRange(G,$){const oe=G.startLineNumber,ae=G.startColumn,ue=G.endLineNumber,ce=G.endColumn;if(!this._isValidPosition(oe,ae,0)||!this._isValidPosition(ue,ce,0))return!1;if($===1){const fe=ae>1?this._buffer.getLineCharCode(oe,ae-2):0,ve=ce>1&&ce<=this._buffer.getLineLength(ue)?this._buffer.getLineCharCode(ue,ce-2):0,Ce=p.isHighSurrogate(fe),Se=p.isHighSurrogate(ve);return!Ce&&!Se}return!0}validateRange(G){if(this._assertNotDisposed(),G instanceof i.Range&&!(G instanceof t.Selection)&&this._isValidRange(G,1))return G;const oe=this._validatePosition(G.startLineNumber,G.startColumn,0),ae=this._validatePosition(G.endLineNumber,G.endColumn,0),ue=oe.lineNumber,ce=oe.column,fe=ae.lineNumber,ve=ae.column;{const Ce=ce>1?this._buffer.getLineCharCode(ue,ce-2):0,Se=ve>1&&ve<=this._buffer.getLineLength(fe)?this._buffer.getLineCharCode(fe,ve-2):0,_e=p.isHighSurrogate(Ce),Ie=p.isHighSurrogate(Se);return!_e&&!Ie?new i.Range(ue,ce,fe,ve):ue===fe&&ce===ve?new i.Range(ue,ce-1,fe,ve-1):_e&&Ie?new i.Range(ue,ce-1,fe,ve+1):_e?new i.Range(ue,ce-1,fe,ve):new i.Range(ue,ce,fe,ve+1)}return new i.Range(ue,ce,fe,ve)}modifyPosition(G,$){this._assertNotDisposed();const oe=this.getOffsetAt(G)+$;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,oe)))}getFullModelRange(){this._assertNotDisposed();const G=this.getLineCount();return new i.Range(1,1,G,this.getLineMaxColumn(G))}findMatchesLineByLine(G,$,oe,ae){return this._buffer.findMatchesLineByLine(G,$,oe,ae)}findMatches(G,$,oe,ae,ue,ce,fe=F){this._assertNotDisposed();let ve=null;$!==null&&(Array.isArray($)||($=[$]),$.every(_e=>i.Range.isIRange(_e))&&(ve=$.map(_e=>this.validateRange(_e)))),ve===null&&(ve=[this.getFullModelRange()]),ve=ve.sort((_e,Ie)=>_e.startLineNumber-Ie.startLineNumber||_e.startColumn-Ie.startColumn);const Ce=[];Ce.push(ve.reduce((_e,Ie)=>i.Range.areIntersecting(_e,Ie)?_e.plusRange(Ie):(Ce.push(_e),Ie)));let Se;if(!oe&&G.indexOf(`
`)<0){const Ie=new _.SearchParams(G,oe,ae,ue).parseSearchRequest();if(!Ie)return[];Se=Ne=>this.findMatchesLineByLine(Ne,Ie,ce,fe)}else Se=_e=>_.TextModelSearch.findMatches(this,new _.SearchParams(G,oe,ae,ue),_e,ce,fe);return Ce.map(Se).reduce((_e,Ie)=>_e.concat(Ie),[])}findNextMatch(G,$,oe,ae,ue,ce){this._assertNotDisposed();const fe=this.validatePosition($);if(!oe&&G.indexOf(`
`)<0){const Ce=new _.SearchParams(G,oe,ae,ue).parseSearchRequest();if(!Ce)return null;const Se=this.getLineCount();let _e=new i.Range(fe.lineNumber,fe.column,Se,this.getLineMaxColumn(Se)),Ie=this.findMatchesLineByLine(_e,Ce,ce,1);return _.TextModelSearch.findNextMatch(this,new _.SearchParams(G,oe,ae,ue),fe,ce),Ie.length>0||(_e=new i.Range(1,1,fe.lineNumber,this.getLineMaxColumn(fe.lineNumber)),Ie=this.findMatchesLineByLine(_e,Ce,ce,1),Ie.length>0)?Ie[0]:null}return _.TextModelSearch.findNextMatch(this,new _.SearchParams(G,oe,ae,ue),fe,ce)}findPreviousMatch(G,$,oe,ae,ue,ce){this._assertNotDisposed();const fe=this.validatePosition($);return _.TextModelSearch.findPreviousMatch(this,new _.SearchParams(G,oe,ae,ue),fe,ce)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(G){if((this.getEOL()===`
`?0:1)!==G)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(G)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(G){return G instanceof c.ValidAnnotatedEditOperation?G:new c.ValidAnnotatedEditOperation(G.identifier||null,this.validateRange(G.range),G.text,G.forceMoveMarkers||!1,G.isAutoWhitespaceEdit||!1,G._isTracked||!1)}_validateEditOperations(G){const $=[];for(let oe=0,ae=G.length;oe<ae;oe++)$[oe]=this._validateEditOperation(G[oe]);return $}pushEditOperations(G,$,oe,ae){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(G,this._validateEditOperations($),oe,ae)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(G,$,oe,ae){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const ue=$.map(fe=>({range:this.validateRange(fe.range),text:fe.text}));let ce=!0;if(G)for(let fe=0,ve=G.length;fe<ve;fe++){const Ce=G[fe];let Se=!1;for(let _e=0,Ie=ue.length;_e<Ie;_e++){const Ne=ue[_e].range,Oe=Ne.startLineNumber>Ce.endLineNumber,xe=Ce.startLineNumber>Ne.endLineNumber;if(!Oe&&!xe){Se=!0;break}}if(!Se){ce=!1;break}}if(ce)for(let fe=0,ve=this._trimAutoWhitespaceLines.length;fe<ve;fe++){const Ce=this._trimAutoWhitespaceLines[fe],Se=this.getLineMaxColumn(Ce);let _e=!0;for(let Ie=0,Ne=ue.length;Ie<Ne;Ie++){const Oe=ue[Ie].range,xe=ue[Ie].text;if(!(Ce<Oe.startLineNumber||Ce>Oe.endLineNumber)&&!(Ce===Oe.startLineNumber&&Oe.startColumn===Se&&Oe.isEmpty()&&xe&&xe.length>0&&xe.charAt(0)===`
`)&&!(Ce===Oe.startLineNumber&&Oe.startColumn===1&&Oe.isEmpty()&&xe&&xe.length>0&&xe.charAt(xe.length-1)===`
`)){_e=!1;break}}if(_e){const Ie=new i.Range(Ce,1,Ce,Se);$.push(new c.ValidAnnotatedEditOperation(null,Ie,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(G,$,oe,ae)}_applyUndo(G,$,oe,ae){const ue=G.map(ce=>{const fe=this.getPositionAt(ce.newPosition),ve=this.getPositionAt(ce.newEnd);return{range:new i.Range(fe.lineNumber,fe.column,ve.lineNumber,ve.column),text:ce.oldText}});this._applyUndoRedoEdits(ue,$,!0,!1,oe,ae)}_applyRedo(G,$,oe,ae){const ue=G.map(ce=>{const fe=this.getPositionAt(ce.oldPosition),ve=this.getPositionAt(ce.oldEnd);return{range:new i.Range(fe.lineNumber,fe.column,ve.lineNumber,ve.column),text:ce.newText}});this._applyUndoRedoEdits(ue,$,!1,!0,oe,ae)}_applyUndoRedoEdits(G,$,oe,ae,ue,ce){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=oe,this._isRedoing=ae,this.applyEdits(G,!1),this.setEOL($),this._overwriteAlternativeVersionId(ue)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ce),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(G,$=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const oe=this._validateEditOperations(G);return this._doApplyEdits(oe,$)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(G,$){const oe=this._buffer.getLineCount(),ae=this._buffer.applyEdits(G,this._options.trimAutoWhitespace,$),ue=this._buffer.getLineCount(),ce=ae.changes;if(this._trimAutoWhitespaceLines=ae.trimAutoWhitespaceLineNumbers,ce.length!==0){for(let Ce=0,Se=ce.length;Ce<Se;Ce++){const _e=ce[Ce];this._decorationsTree.acceptReplace(_e.rangeOffset,_e.rangeLength,_e.text.length,_e.forceMoveMarkers)}const fe=[];this._increaseVersionId();let ve=oe;for(let Ce=0,Se=ce.length;Ce<Se;Ce++){const _e=ce[Ce],[Ie]=(0,v.countEOL)(_e.text);this._onDidChangeDecorations.fire();const Ne=_e.range.startLineNumber,Oe=_e.range.endLineNumber,xe=Oe-Ne,We=Ie,ye=Math.min(xe,We),Me=We-xe,me=ue-ve-Me+Ne,be=me,Ae=me+We,Be=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new n.Position(be,1)),this.getOffsetAt(new n.Position(Ae,this.getLineMaxColumn(Ae))),0),Ke=I.LineInjectedText.fromDecorations(Be),qe=new L.ArrayQueue(Ke);for(let Ge=ye;Ge>=0;Ge--){const st=Ne+Ge,Xe=me+Ge;qe.takeFromEndWhile(nt=>nt.lineNumber>Xe);const ot=qe.takeFromEndWhile(nt=>nt.lineNumber===Xe);fe.push(new I.ModelRawLineChanged(st,this.getLineContent(Xe),ot))}if(ye<xe){const Ge=Ne+ye;fe.push(new I.ModelRawLinesDeleted(Ge+1,Oe))}if(ye<We){const Ge=new L.ArrayQueue(Ke),st=Ne+ye,Xe=We-ye,ot=ue-ve-Xe+st+1,nt=[],rt=[];for(let at=0;at<Xe;at++){const ut=ot+at;rt[at]=this.getLineContent(ut),Ge.takeWhile(dt=>dt.lineNumber<ut),nt[at]=Ge.takeWhile(dt=>dt.lineNumber===ut)}fe.push(new I.ModelRawLinesInserted(st+1,Ne+We,rt,nt))}ve+=Me}this._emitContentChangedEvent(new I.ModelRawContentChangedEvent(fe,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ce,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return ae.reverseEdits===null?void 0:ae.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(G){if(G===null||G.size===0)return;const oe=Array.from(G).map(ae=>new I.ModelRawLineChanged(ae,this.getLineContent(ae),this._getInjectedTextInLine(ae)));this._onDidChangeInjectedText.fire(new I.ModelInjectedTextChangedEvent(oe))}changeDecorations(G,$=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations($,G)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(G,$){const oe={addDecoration:(ue,ce)=>this._deltaDecorationsImpl(G,[],[{range:ue,options:ce}])[0],changeDecoration:(ue,ce)=>{this._changeDecorationImpl(ue,ce)},changeDecorationOptions:(ue,ce)=>{this._changeDecorationOptionsImpl(ue,Q(ce))},removeDecoration:ue=>{this._deltaDecorationsImpl(G,[ue],[])},deltaDecorations:(ue,ce)=>ue.length===0&&ce.length===0?[]:this._deltaDecorationsImpl(G,ue,ce)};let ae=null;try{ae=$(oe)}catch(ue){(0,y.onUnexpectedError)(ue)}return oe.addDecoration=W,oe.changeDecoration=W,oe.changeDecorationOptions=W,oe.removeDecoration=W,oe.deltaDecorations=W,ae}deltaDecorations(G,$,oe=0){if(this._assertNotDisposed(),G||(G=[]),G.length===0&&$.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,y.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(oe,G,$)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(G){return this.getDecorationRange(G)}_setTrackedRange(G,$,oe){const ae=G?this._decorations[G]:null;if(!ae)return $?this._deltaDecorationsImpl(0,[],[{range:$,options:pe[oe]}],!0)[0]:null;if(!$)return this._decorationsTree.delete(ae),delete this._decorations[ae.id],null;const ue=this._validateRangeRelaxedNoAllocations($),ce=this._buffer.getOffsetAt(ue.startLineNumber,ue.startColumn),fe=this._buffer.getOffsetAt(ue.endLineNumber,ue.endColumn);return this._decorationsTree.delete(ae),ae.reset(this.getVersionId(),ce,fe,ue),ae.setOptions(pe[oe]),this._decorationsTree.insert(ae),ae.id}removeAllDecorationsWithOwnerId(G){if(this._isDisposed)return;const $=this._decorationsTree.collectNodesFromOwner(G);for(let oe=0,ae=$.length;oe<ae;oe++){const ue=$[oe];this._decorationsTree.delete(ue),delete this._decorations[ue.id]}}getDecorationOptions(G){const $=this._decorations[G];return $?$.options:null}getDecorationRange(G){const $=this._decorations[G];return $?this._decorationsTree.getNodeRange(this,$):null}getLineDecorations(G,$=0,oe=!1){return G<1||G>this.getLineCount()?[]:this.getLinesDecorations(G,G,$,oe)}getLinesDecorations(G,$,oe=0,ae=!1,ue=!1){const ce=this.getLineCount(),fe=Math.min(ce,Math.max(1,G)),ve=Math.min(ce,Math.max(1,$)),Ce=this.getLineMaxColumn(ve),Se=new i.Range(fe,1,ve,Ce),_e=this._getDecorationsInRange(Se,oe,ae,ue);return(0,L.pushMany)(_e,this._decorationProvider.getDecorationsInRange(Se,oe,ae)),_e}getDecorationsInRange(G,$=0,oe=!1,ae=!1,ue=!1){const ce=this.validateRange(G),fe=this._getDecorationsInRange(ce,$,oe,ue);return(0,L.pushMany)(fe,this._decorationProvider.getDecorationsInRange(ce,$,oe,ae)),fe}getOverviewRulerDecorations(G=0,$=!1){return this._decorationsTree.getAll(this,G,$,!0,!1)}getInjectedTextDecorations(G=0){return this._decorationsTree.getAllInjectedText(this,G)}_getInjectedTextInLine(G){const $=this._buffer.getOffsetAt(G,1),oe=$+this._buffer.getLineLength(G),ae=this._decorationsTree.getInjectedTextInInterval(this,$,oe,0);return I.LineInjectedText.fromDecorations(ae).filter(ue=>ue.lineNumber===G)}getAllDecorations(G=0,$=!1){let oe=this._decorationsTree.getAll(this,G,$,!1,!1);return oe=oe.concat(this._decorationProvider.getAllDecorations(G,$)),oe}getAllMarginDecorations(G=0){return this._decorationsTree.getAll(this,G,!1,!1,!0)}_getDecorationsInRange(G,$,oe,ae){const ue=this._buffer.getOffsetAt(G.startLineNumber,G.startColumn),ce=this._buffer.getOffsetAt(G.endLineNumber,G.endColumn);return this._decorationsTree.getAllInInterval(this,ue,ce,$,oe,ae)}getRangeAt(G,$){return this._buffer.getRangeAt(G,$-G)}_changeDecorationImpl(G,$){const oe=this._decorations[G];if(!oe)return;if(oe.options.after){const fe=this.getDecorationRange(G);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.endLineNumber)}if(oe.options.before){const fe=this.getDecorationRange(G);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.startLineNumber)}const ae=this._validateRangeRelaxedNoAllocations($),ue=this._buffer.getOffsetAt(ae.startLineNumber,ae.startColumn),ce=this._buffer.getOffsetAt(ae.endLineNumber,ae.endColumn);this._decorationsTree.delete(oe),oe.reset(this.getVersionId(),ue,ce,ae),this._decorationsTree.insert(oe),this._onDidChangeDecorations.checkAffectedAndFire(oe.options),oe.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ae.endLineNumber),oe.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ae.startLineNumber)}_changeDecorationOptionsImpl(G,$){const oe=this._decorations[G];if(!oe)return;const ae=!!(oe.options.overviewRuler&&oe.options.overviewRuler.color),ue=!!($.overviewRuler&&$.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(oe.options),this._onDidChangeDecorations.checkAffectedAndFire($),oe.options.after||$.after){const ve=this._decorationsTree.getNodeRange(this,oe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber)}if(oe.options.before||$.before){const ve=this._decorationsTree.getNodeRange(this,oe);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber)}const ce=ae!==ue,fe=j($)!==x(oe);ce||fe?(this._decorationsTree.delete(oe),oe.setOptions($),this._decorationsTree.insert(oe)):oe.setOptions($)}_deltaDecorationsImpl(G,$,oe,ae=!1){const ue=this.getVersionId(),ce=$.length;let fe=0;const ve=oe.length;let Ce=0;this._onDidChangeDecorations.beginDeferredEmit();try{const Se=new Array(ve);for(;fe<ce||Ce<ve;){let _e=null;if(fe<ce){do _e=this._decorations[$[fe++]];while(!_e&&fe<ce);if(_e){if(_e.options.after){const Ie=this._decorationsTree.getNodeRange(this,_e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ie.endLineNumber)}if(_e.options.before){const Ie=this._decorationsTree.getNodeRange(this,_e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ie.startLineNumber)}this._decorationsTree.delete(_e),ae||this._onDidChangeDecorations.checkAffectedAndFire(_e.options)}}if(Ce<ve){if(!_e){const ye=++this._lastDecorationId,Me=`${this._instanceId};${ye}`;_e=new u.IntervalNode(Me,0,0),this._decorations[Me]=_e}const Ie=oe[Ce],Ne=this._validateRangeRelaxedNoAllocations(Ie.range),Oe=Q(Ie.options),xe=this._buffer.getOffsetAt(Ne.startLineNumber,Ne.startColumn),We=this._buffer.getOffsetAt(Ne.endLineNumber,Ne.endColumn);_e.ownerId=G,_e.reset(ue,xe,We,Ne),_e.setOptions(Oe),_e.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ne.endLineNumber),_e.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ne.startLineNumber),ae||this._onDidChangeDecorations.checkAffectedAndFire(Oe),this._decorationsTree.insert(_e),Se[Ce]=_e.id,Ce++}else _e&&delete this._decorations[_e.id]}return Se}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(G,$){typeof G=="string"?(this._languageSelectionListener.clear(),this._setLanguage(G,$)):(this._languageSelectionListener.value=G.onDidChange(()=>this._setLanguage(G.languageId,$)),this._setLanguage(G.languageId,$))}_setLanguage(G,$){this.tokenization.setLanguageId(G,$),this._languageService.requestRichLanguageFeatures(G)}getLanguageIdAtPosition(G,$){return this.tokenization.getLanguageIdAtPosition(G,$)}getWordAtPosition(G){return this._tokenizationTextModelPart.getWordAtPosition(G)}getWordUntilPosition(G){return this._tokenizationTextModelPart.getWordUntilPosition(G)}normalizePosition(G,$){return G}getLineIndentColumn(G){return z(this.getLineContent(G))+1}};e.TextModel=V,V._MODEL_SYNC_LIMIT=50*1024*1024,V.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,V.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,V.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,V.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:o.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:o.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:o.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:o.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:o.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:o.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},e.TextModel=V=A=De([he(4,T.IUndoRedoService),he(5,g.ILanguageService),he(6,m.ILanguageConfigurationService)],V);function z(te){let G=0;for(const $ of te)if($===" "||$==="	")G++;else break;return G}function K(te){return!!(te.options.overviewRuler&&te.options.overviewRuler.color)}function j(te){return!!te.after||!!te.before}function x(te){return!!te.options.after||!!te.options.before}class re{constructor(){this._decorationsTree0=new u.IntervalTree,this._decorationsTree1=new u.IntervalTree,this._injectedTextDecorationsTree=new u.IntervalTree}ensureAllNodesHaveRanges(G){this.getAll(G,0,!1,!1,!1)}_ensureNodesHaveRanges(G,$){for(const oe of $)oe.range===null&&(oe.range=G.getRangeAt(oe.cachedAbsoluteStart,oe.cachedAbsoluteEnd));return $}getAllInInterval(G,$,oe,ae,ue,ce){const fe=G.getVersionId(),ve=this._intervalSearch($,oe,ae,ue,fe,ce);return this._ensureNodesHaveRanges(G,ve)}_intervalSearch(G,$,oe,ae,ue,ce){const fe=this._decorationsTree0.intervalSearch(G,$,oe,ae,ue,ce),ve=this._decorationsTree1.intervalSearch(G,$,oe,ae,ue,ce),Ce=this._injectedTextDecorationsTree.intervalSearch(G,$,oe,ae,ue,ce);return fe.concat(ve).concat(Ce)}getInjectedTextInInterval(G,$,oe,ae){const ue=G.getVersionId(),ce=this._injectedTextDecorationsTree.intervalSearch($,oe,ae,!1,ue,!1);return this._ensureNodesHaveRanges(G,ce).filter(fe=>fe.options.showIfCollapsed||!fe.range.isEmpty())}getAllInjectedText(G,$){const oe=G.getVersionId(),ae=this._injectedTextDecorationsTree.search($,!1,oe,!1);return this._ensureNodesHaveRanges(G,ae).filter(ue=>ue.options.showIfCollapsed||!ue.range.isEmpty())}getAll(G,$,oe,ae,ue){const ce=G.getVersionId(),fe=this._search($,oe,ae,ce,ue);return this._ensureNodesHaveRanges(G,fe)}_search(G,$,oe,ae,ue){if(oe)return this._decorationsTree1.search(G,$,ae,ue);{const ce=this._decorationsTree0.search(G,$,ae,ue),fe=this._decorationsTree1.search(G,$,ae,ue),ve=this._injectedTextDecorationsTree.search(G,$,ae,ue);return ce.concat(fe).concat(ve)}}collectNodesFromOwner(G){const $=this._decorationsTree0.collectNodesFromOwner(G),oe=this._decorationsTree1.collectNodesFromOwner(G),ae=this._injectedTextDecorationsTree.collectNodesFromOwner(G);return $.concat(oe).concat(ae)}collectNodesPostOrder(){const G=this._decorationsTree0.collectNodesPostOrder(),$=this._decorationsTree1.collectNodesPostOrder(),oe=this._injectedTextDecorationsTree.collectNodesPostOrder();return G.concat($).concat(oe)}insert(G){x(G)?this._injectedTextDecorationsTree.insert(G):K(G)?this._decorationsTree1.insert(G):this._decorationsTree0.insert(G)}delete(G){x(G)?this._injectedTextDecorationsTree.delete(G):K(G)?this._decorationsTree1.delete(G):this._decorationsTree0.delete(G)}getNodeRange(G,$){const oe=G.getVersionId();return $.cachedVersionId!==oe&&this._resolveNode($,oe),$.range===null&&($.range=G.getRangeAt($.cachedAbsoluteStart,$.cachedAbsoluteEnd)),$.range}_resolveNode(G,$){x(G)?this._injectedTextDecorationsTree.resolveNode(G,$):K(G)?this._decorationsTree1.resolveNode(G,$):this._decorationsTree0.resolveNode(G,$)}acceptReplace(G,$,oe,ae){this._decorationsTree0.acceptReplace(G,$,oe,ae),this._decorationsTree1.acceptReplace(G,$,oe,ae),this._injectedTextDecorationsTree.acceptReplace(G,$,oe,ae)}}function ie(te){return te.replace(/[^a-z0-9\-_]/gi," ")}class J{constructor(G){this.color=G.color||"",this.darkColor=G.darkColor||""}}class X extends J{constructor(G){super(G),this._resolvedColor=null,this.position=typeof G.position=="number"?G.position:c.OverviewRulerLane.Center}getColor(G){return this._resolvedColor||(G.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,G):this._resolvedColor=this._resolveColor(this.color,G)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(G,$){if(typeof G=="string")return G;const oe=G?$.getColor(G.id):null;return oe?oe.toString():""}}e.ModelDecorationOverviewRulerOptions=X;class Y{constructor(G){var $;this.position=($=G?.position)!==null&&$!==void 0?$:c.GlyphMarginLane.Center,this.persistLane=G?.persistLane}}e.ModelDecorationGlyphMarginOptions=Y;class le extends J{constructor(G){super(G),this.position=G.position}getColor(G){return this._resolvedColor||(G.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,G):this._resolvedColor=this._resolveColor(this.color,G)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(G,$){return typeof G=="string"?k.Color.fromHex(G):$.getColor(G.id)}}e.ModelDecorationMinimapOptions=le;class de{static from(G){return G instanceof de?G:new de(G)}constructor(G){this.content=G.content||"",this.inlineClassName=G.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=G.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=G.attachedData||null,this.cursorStops=G.cursorStops||null}}e.ModelDecorationInjectedTextOptions=de;class ge{static register(G){return new ge(G)}static createDynamic(G){return new ge(G)}constructor(G){var $,oe,ae,ue,ce,fe;this.description=G.description,this.blockClassName=G.blockClassName?ie(G.blockClassName):null,this.blockDoesNotCollapse=($=G.blockDoesNotCollapse)!==null&&$!==void 0?$:null,this.blockIsAfterEnd=(oe=G.blockIsAfterEnd)!==null&&oe!==void 0?oe:null,this.blockPadding=(ae=G.blockPadding)!==null&&ae!==void 0?ae:null,this.stickiness=G.stickiness||0,this.zIndex=G.zIndex||0,this.className=G.className?ie(G.className):null,this.shouldFillLineOnLineBreak=(ue=G.shouldFillLineOnLineBreak)!==null&&ue!==void 0?ue:null,this.hoverMessage=G.hoverMessage||null,this.glyphMarginHoverMessage=G.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=G.lineNumberHoverMessage||null,this.isWholeLine=G.isWholeLine||!1,this.showIfCollapsed=G.showIfCollapsed||!1,this.collapseOnReplaceEdit=G.collapseOnReplaceEdit||!1,this.overviewRuler=G.overviewRuler?new X(G.overviewRuler):null,this.minimap=G.minimap?new le(G.minimap):null,this.glyphMargin=G.glyphMarginClassName?new Y(G.glyphMargin):null,this.glyphMarginClassName=G.glyphMarginClassName?ie(G.glyphMarginClassName):null,this.linesDecorationsClassName=G.linesDecorationsClassName?ie(G.linesDecorationsClassName):null,this.lineNumberClassName=G.lineNumberClassName?ie(G.lineNumberClassName):null,this.linesDecorationsTooltip=G.linesDecorationsTooltip?p.htmlAttributeEncodeValue(G.linesDecorationsTooltip):null,this.firstLineDecorationClassName=G.firstLineDecorationClassName?ie(G.firstLineDecorationClassName):null,this.marginClassName=G.marginClassName?ie(G.marginClassName):null,this.inlineClassName=G.inlineClassName?ie(G.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=G.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=G.beforeContentClassName?ie(G.beforeContentClassName):null,this.afterContentClassName=G.afterContentClassName?ie(G.afterContentClassName):null,this.after=G.after?de.from(G.after):null,this.before=G.before?de.from(G.before):null,this.hideInCommentTokens=(ce=G.hideInCommentTokens)!==null&&ce!==void 0?ce:!1,this.hideInStringTokens=(fe=G.hideInStringTokens)!==null&&fe!==void 0?fe:!1}}e.ModelDecorationOptions=ge,ge.EMPTY=ge.register({description:"empty"});const pe=[ge.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),ge.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),ge.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),ge.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function Q(te){return te instanceof ge?te:ge.createDynamic(te)}class U extends S.Disposable{constructor(G){super(),this.handleBeforeFire=G,this._actual=this._register(new D.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var G;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(G=this._affectedInjectedTextLines)===null||G===void 0||G.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(G){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(G)}checkAffectedAndFire(G){var $,oe;this._affectsMinimap||(this._affectsMinimap=!!(!(($=G.minimap)===null||$===void 0)&&$.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(!((oe=G.overviewRuler)===null||oe===void 0)&&oe.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!G.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!G.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const G={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(G)}}class Z extends S.Disposable{constructor(){super(),this._fastEmitter=this._register(new D.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new D.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(G=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=G;const $=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire($),this._slowEmitter.fire($)}}fire(G){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(G):this._deferredEvent=G;return}this._fastEmitter.fire(G),this._slowEmitter.fire(G)}}class H{constructor(){this._onDidChangeVisibleRanges=new D.Emitter,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const G=new q($=>{this._onDidChangeVisibleRanges.fire({view:G,state:$})});return this._views.add(G),G}detachView(G){this._views.delete(G),this._onDidChangeVisibleRanges.fire({view:G,state:void 0})}}e.AttachedViews=H;class q{constructor(G){this.handleStateChange=G}setVisibleLines(G,$){const oe=G.map(ae=>new a.LineRange(ae.startLineNumber,ae.endLineNumber+1));this.handleStateChange({visibleLineRanges:oe,stabilized:$})}}}),define(ne[265],se([1,0,27,29,38,641,31,82]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffDeleteDecorationEmpty=e.diffWholeLineDeleteDecoration=e.diffDeleteDecoration=e.diffAddDecorationEmpty=e.diffWholeLineAddDecoration=e.diffAddDecoration=e.diffLineDeleteDecorationBackground=e.diffLineAddDecorationBackground=e.diffLineDeleteDecorationBackgroundWithIndicator=e.diffLineAddDecorationBackgroundWithIndicator=e.diffRemoveIcon=e.diffInsertIcon=e.diffEditorUnchangedRegionShadow=e.diffMoveBorderActive=e.diffMoveBorder=void 0,e.diffMoveBorder=(0,S.registerColor)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,D.localize)(0,null)),e.diffMoveBorderActive=(0,S.registerColor)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,D.localize)(1,null)),e.diffEditorUnchangedRegionShadow=(0,S.registerColor)("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},(0,D.localize)(2,null)),e.diffInsertIcon=(0,p.registerIcon)("diff-insert",L.Codicon.add,(0,D.localize)(3,null)),e.diffRemoveIcon=(0,p.registerIcon)("diff-remove",L.Codicon.remove,(0,D.localize)(4,null)),e.diffLineAddDecorationBackgroundWithIndicator=y.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+k.ThemeIcon.asClassName(e.diffInsertIcon),marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackgroundWithIndicator=y.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+k.ThemeIcon.asClassName(e.diffRemoveIcon),marginClassName:"gutter-delete"}),e.diffLineAddDecorationBackground=y.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackground=y.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),e.diffAddDecoration=y.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),e.diffWholeLineAddDecoration=y.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),e.diffAddDecorationEmpty=y.ModelDecorationOptions.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),e.diffDeleteDecoration=y.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),e.diffWholeLineDeleteDecoration=y.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),e.diffDeleteDecorationEmpty=y.ModelDecorationOptions.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"})}),define(ne[894],se([1,0,2,32,340,265,87]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorDecorations=void 0;class p extends L.Disposable{constructor(v,b,a,n){super(),this._editors=v,this._diffModel=b,this._options=a,this._decorations=(0,k.derived)(this,i=>{var t;const o=(t=this._diffModel.read(i))===null||t===void 0?void 0:t.diff.read(i);if(!o)return null;const g=this._diffModel.read(i).movedTextToCompare.read(i),m=this._options.renderIndicators.read(i),c=this._options.showEmptyDecorations.read(i),d=[],s=[];if(!g)for(const r of o.mappings)if(r.lineRangeMapping.original.isEmpty||d.push({range:r.lineRangeMapping.original.toInclusiveRange(),options:m?D.diffLineDeleteDecorationBackgroundWithIndicator:D.diffLineDeleteDecorationBackground}),r.lineRangeMapping.modified.isEmpty||s.push({range:r.lineRangeMapping.modified.toInclusiveRange(),options:m?D.diffLineAddDecorationBackgroundWithIndicator:D.diffLineAddDecorationBackground}),r.lineRangeMapping.modified.isEmpty||r.lineRangeMapping.original.isEmpty)r.lineRangeMapping.original.isEmpty||d.push({range:r.lineRangeMapping.original.toInclusiveRange(),options:D.diffWholeLineDeleteDecoration}),r.lineRangeMapping.modified.isEmpty||s.push({range:r.lineRangeMapping.modified.toInclusiveRange(),options:D.diffWholeLineAddDecoration});else for(const h of r.lineRangeMapping.innerChanges||[])r.lineRangeMapping.original.contains(h.originalRange.startLineNumber)&&d.push({range:h.originalRange,options:h.originalRange.isEmpty()&&c?D.diffDeleteDecorationEmpty:D.diffDeleteDecoration}),r.lineRangeMapping.modified.contains(h.modifiedRange.startLineNumber)&&s.push({range:h.modifiedRange,options:h.modifiedRange.isEmpty()&&c?D.diffAddDecorationEmpty:D.diffAddDecoration});if(g)for(const r of g.changes){const h=r.original.toInclusiveRange();h&&d.push({range:h,options:m?D.diffLineDeleteDecorationBackgroundWithIndicator:D.diffLineDeleteDecorationBackground});const u=r.modified.toInclusiveRange();u&&s.push({range:u,options:m?D.diffLineAddDecorationBackgroundWithIndicator:D.diffLineAddDecorationBackground});for(const f of r.innerChanges||[])d.push({range:f.originalRange,options:D.diffDeleteDecoration}),s.push({range:f.modifiedRange,options:D.diffAddDecoration})}const l=this._diffModel.read(i).activeMovedText.read(i);for(const r of o.movedTexts)d.push({range:r.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(r===l?" currentMove":""),blockPadding:[y.MovedBlocksLinesFeature.movedCodeBlockPadding,0,y.MovedBlocksLinesFeature.movedCodeBlockPadding,y.MovedBlocksLinesFeature.movedCodeBlockPadding]}}),s.push({range:r.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(r===l?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:d,modifiedDecorations:s}}),this._register((0,S.applyObservableDecorations)(this._editors.original,this._decorations.map(i=>i?.originalDecorations||[]))),this._register((0,S.applyObservableDecorations)(this._editors.modified,this._decorations.map(i=>i?.modifiedDecorations||[])))}}e.DiffEditorDecorations=p}),define(ne[895],se([1,0,6,13,15,27,2,32,29,20,74,265,366,635,658,87,64,9,86,107,56]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorViewZones=void 0;let l=class extends S.Disposable{constructor(f,C,_,E,I,T,A,R,M,N){super(),this._targetWindow=f,this._editors=C,this._diffModel=_,this._options=E,this._diffEditorWidget=I,this._canIgnoreViewZoneUpdateEvent=T,this._origViewZonesToIgnore=A,this._modViewZonesToIgnore=R,this._clipboardService=M,this._contextMenuService=N,this._originalTopPadding=(0,p.observableValue)(this,0),this._originalScrollOffset=(0,p.observableValue)(this,0),this._originalScrollOffsetAnimated=(0,o.animatedObservable)(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,p.observableValue)(this,0),this._modifiedScrollOffset=(0,p.observableValue)(this,0),this._modifiedScrollOffsetAnimated=(0,o.animatedObservable)(this._targetWindow,this._modifiedScrollOffset,this._store);const P=(0,p.observableValue)("invalidateAlignmentsState",0),F=this._register(new y.RunOnceScheduler(()=>{P.set(P.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(j=>{this._canIgnoreViewZoneUpdateEvent()||F.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(j=>{this._canIgnoreViewZoneUpdateEvent()||F.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(j=>{(j.hasChanged(145)||j.hasChanged(67))&&F.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(j=>{(j.hasChanged(145)||j.hasChanged(67))&&F.schedule()}));const O=this._diffModel.map(j=>j?(0,p.observableFromEvent)(j.model.original.onDidChangeTokens,()=>j.model.original.tokenization.backgroundTokenizationState===2):void 0).map((j,x)=>j?.read(x)),B=(0,p.derived)(j=>{const x=this._diffModel.read(j),re=x?.diff.read(j);if(!x||!re)return null;P.read(j);const J=this._options.renderSideBySide.read(j);return r(this._editors.original,this._editors.modified,re.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,J)}),W=(0,p.derived)(j=>{var x;const re=(x=this._diffModel.read(j))===null||x===void 0?void 0:x.movedTextToCompare.read(j);if(!re)return null;P.read(j);const ie=re.changes.map(J=>new n.DiffMapping(J));return r(this._editors.original,this._editors.modified,ie,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function V(){const j=document.createElement("div");return j.className="diagonal-fill",j}const z=this._register(new S.DisposableStore);this.viewZones=(0,p.derivedWithStore)(this,(j,x)=>{var re,ie,J,X,Y,le,de,ge;z.clear();const pe=B.read(j)||[],Q=[],U=[],Z=this._modifiedTopPadding.read(j);Z>0&&U.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:Z,showInHiddenAreas:!0,suppressMouseDown:!0});const H=this._originalTopPadding.read(j);H>0&&Q.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:H,showInHiddenAreas:!0,suppressMouseDown:!0});const q=this._options.renderSideBySide.read(j),te=q||(re=this._editors.modified._getViewModel())===null||re===void 0?void 0:re.createLineBreaksComputer();if(te){const ve=this._editors.original.getModel();for(const Ce of pe)if(Ce.diff)for(let Se=Ce.originalRange.startLineNumber;Se<Ce.originalRange.endLineNumberExclusive;Se++){if(Se>ve.getLineCount())return{orig:Q,mod:U};te?.addRequest(ve.getLineContent(Se),null,null)}}const G=(ie=te?.finalize())!==null&&ie!==void 0?ie:[];let $=0;const oe=this._editors.modified.getOption(67),ae=(J=this._diffModel.read(j))===null||J===void 0?void 0:J.movedTextToCompare.read(j),ue=(Y=(X=this._editors.original.getModel())===null||X===void 0?void 0:X.mightContainNonBasicASCII())!==null&&Y!==void 0?Y:!1,ce=(de=(le=this._editors.original.getModel())===null||le===void 0?void 0:le.mightContainRTL())!==null&&de!==void 0?de:!1,fe=t.RenderOptions.fromEditor(this._editors.modified);for(const ve of pe)if(ve.diff&&!q){if(!ve.originalRange.isEmpty){O.read(j);const Se=document.createElement("div");Se.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const _e=this._editors.original.getModel();if(ve.originalRange.endLineNumberExclusive-1>_e.getLineCount())return{orig:Q,mod:U};const Ie=new t.LineSource(ve.originalRange.mapToLineArray(ye=>_e.tokenization.getLineTokens(ye)),ve.originalRange.mapToLineArray(ye=>G[$++]),ue,ce),Ne=[];for(const ye of ve.diff.innerChanges||[])Ne.push(new c.InlineDecoration(ye.originalRange.delta(-(ve.diff.original.startLineNumber-1)),a.diffDeleteDecoration.className,0));const Oe=(0,t.renderLines)(Ie,fe,Ne,Se),xe=document.createElement("div");if(xe.className="inline-deleted-margin-view-zone",(0,b.applyFontInfo)(xe,fe.fontInfo),this._options.renderIndicators.read(j))for(let ye=0;ye<Oe.heightInLines;ye++){const Me=document.createElement("div");Me.className=`delete-sign ${w.ThemeIcon.asClassName(a.diffRemoveIcon)}`,Me.setAttribute("style",`position:absolute;top:${ye*oe}px;width:${fe.lineDecorationsWidth}px;height:${oe}px;right:0;`),xe.appendChild(Me)}let We;z.add(new i.InlineDiffDeletedCodeMargin(()=>(0,v.assertIsDefined)(We),xe,this._editors.modified,ve.diff,this._diffEditorWidget,Oe.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let ye=0;ye<Oe.viewLineCounts.length;ye++){const Me=Oe.viewLineCounts[ye];Me>1&&Q.push({afterLineNumber:ve.originalRange.startLineNumber+ye,domNode:V(),heightInPx:(Me-1)*oe,showInHiddenAreas:!0,suppressMouseDown:!0})}U.push({afterLineNumber:ve.modifiedRange.startLineNumber-1,domNode:Se,heightInPx:Oe.heightInLines*oe,minWidthInPx:Oe.minWidthInPx,marginDomNode:xe,setZoneId(ye){We=ye},showInHiddenAreas:!0,suppressMouseDown:!0})}const Ce=document.createElement("div");Ce.className="gutter-delete",Q.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:V(),heightInPx:ve.modifiedHeightInPx,marginDomNode:Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const Ce=ve.modifiedHeightInPx-ve.originalHeightInPx;if(Ce>0){if(ae?.lineRangeMapping.original.delta(-1).deltaLength(2).contains(ve.originalRange.endLineNumberExclusive-1))continue;Q.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:V(),heightInPx:Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let Se=function(){const Ie=document.createElement("div");return Ie.className="arrow-revert-change "+w.ThemeIcon.asClassName(D.Codicon.arrowRight),x.add((0,L.addDisposableListener)(Ie,"mousedown",Ne=>Ne.stopPropagation())),x.add((0,L.addDisposableListener)(Ie,"click",Ne=>{Ne.stopPropagation(),I.revert(ve.diff)})),(0,L.$)("div",{},Ie)};if(ae?.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(ve.modifiedRange.endLineNumberExclusive-1))continue;let _e;ve.diff&&ve.diff.modified.isEmpty&&this._options.shouldRenderRevertArrows.read(j)&&(_e=Se()),U.push({afterLineNumber:ve.modifiedRange.endLineNumberExclusive-1,domNode:V(),heightInPx:-Ce,marginDomNode:_e,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const ve of(ge=W.read(j))!==null&&ge!==void 0?ge:[]){if(!ae?.lineRangeMapping.original.intersect(ve.originalRange)||!ae?.lineRangeMapping.modified.intersect(ve.modifiedRange))continue;const Ce=ve.modifiedHeightInPx-ve.originalHeightInPx;Ce>0?Q.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:V(),heightInPx:Ce,showInHiddenAreas:!0,suppressMouseDown:!0}):U.push({afterLineNumber:ve.modifiedRange.endLineNumberExclusive-1,domNode:V(),heightInPx:-Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:Q,mod:U}});let K=!1;this._register(this._editors.original.onDidScrollChange(j=>{j.scrollLeftChanged&&!K&&(K=!0,this._editors.modified.setScrollLeft(j.scrollLeft),K=!1)})),this._register(this._editors.modified.onDidScrollChange(j=>{j.scrollLeftChanged&&!K&&(K=!0,this._editors.original.setScrollLeft(j.scrollLeft),K=!1)})),this._originalScrollTop=(0,p.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,p.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,p.autorun)(j=>{const x=this._originalScrollTop.read(j)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(j))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(j));x!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(x,1)})),this._register((0,p.autorun)(j=>{const x=this._modifiedScrollTop.read(j)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(j))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(j));x!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(x,1)})),this._register((0,p.autorun)(j=>{var x;const re=(x=this._diffModel.read(j))===null||x===void 0?void 0:x.movedTextToCompare.read(j);let ie=0;if(re){const J=this._editors.original.getTopForLineNumber(re.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();ie=this._editors.modified.getTopForLineNumber(re.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-J}ie>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(ie,void 0)):ie<0?(this._modifiedTopPadding.set(-ie,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-ie,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+ie,void 0,!0)}))}};e.DiffEditorViewZones=l,e.DiffEditorViewZones=l=De([he(8,d.IClipboardService),he(9,s.IContextMenuService)],l);function r(u,f,C,_,E,I){const T=new k.ArrayQueue(h(u,_)),A=new k.ArrayQueue(h(f,E)),R=u.getOption(67),M=f.getOption(67),N=[];let P=0,F=0;function O(B,W){for(;;){let V=T.peek(),z=A.peek();if(V&&V.lineNumber>=B&&(V=void 0),z&&z.lineNumber>=W&&(z=void 0),!V&&!z)break;const K=V?V.lineNumber-P:Number.MAX_VALUE,j=z?z.lineNumber-F:Number.MAX_VALUE;K<j?(T.dequeue(),z={lineNumber:V.lineNumber-P+F,heightInPx:0}):K>j?(A.dequeue(),V={lineNumber:z.lineNumber-F+P,heightInPx:0}):(T.dequeue(),A.dequeue()),N.push({originalRange:g.LineRange.ofLength(V.lineNumber,1),modifiedRange:g.LineRange.ofLength(z.lineNumber,1),originalHeightInPx:R+V.heightInPx,modifiedHeightInPx:M+z.heightInPx,diff:void 0})}}for(const B of C){let j=function(x,re){var ie,J,X,Y;if(x<K||re<z)return;if(V)V=!1;else if(x===K||re===z)return;const le=new g.LineRange(K,x),de=new g.LineRange(z,re);if(le.isEmpty&&de.isEmpty)return;const ge=(J=(ie=T.takeWhile(Q=>Q.lineNumber<x))===null||ie===void 0?void 0:ie.reduce((Q,U)=>Q+U.heightInPx,0))!==null&&J!==void 0?J:0,pe=(Y=(X=A.takeWhile(Q=>Q.lineNumber<re))===null||X===void 0?void 0:X.reduce((Q,U)=>Q+U.heightInPx,0))!==null&&Y!==void 0?Y:0;N.push({originalRange:le,modifiedRange:de,originalHeightInPx:le.length*R+ge,modifiedHeightInPx:de.length*M+pe,diff:B.lineRangeMapping}),K=x,z=re};const W=B.lineRangeMapping;O(W.original.startLineNumber,W.modified.startLineNumber);let V=!0,z=W.modified.startLineNumber,K=W.original.startLineNumber;if(I)for(const x of W.innerChanges||[]){x.originalRange.startColumn>1&&x.modifiedRange.startColumn>1&&j(x.originalRange.startLineNumber,x.modifiedRange.startLineNumber);const re=u.getModel(),ie=x.originalRange.endLineNumber<=re.getLineCount()?re.getLineMaxColumn(x.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;x.originalRange.endColumn<ie&&j(x.originalRange.endLineNumber,x.modifiedRange.endLineNumber)}j(W.original.endLineNumberExclusive,W.modified.endLineNumberExclusive),P=W.original.endLineNumberExclusive,F=W.modified.endLineNumberExclusive}return O(Number.MAX_VALUE,Number.MAX_VALUE),N}function h(u,f){const C=[],_=[],E=u.getOption(145).wrappingColumn!==-1,I=u._getViewModel().coordinatesConverter,T=u.getOption(67);if(E)for(let R=1;R<=u.getModel().getLineCount();R++){const M=I.getModelLineViewLineCount(R);M>1&&_.push({lineNumber:R,heightInPx:T*(M-1)})}for(const R of u.getWhitespaces()){if(f.has(R.id))continue;const M=R.afterLineNumber===0?0:I.convertViewPositionToModelPosition(new m.Position(R.afterLineNumber,1)).lineNumber;C.push({lineNumber:M,heightInPx:R.height})}return(0,o.joinCombine)(C,_,R=>R.lineNumber,(R,M)=>({lineNumber:R.lineNumber,heightInPx:R.heightInPx+M.heightInPx}))}}),define(ne[896],se([1,0,7,2,17,38,182,81,43,194,26,199,114,346,47,54,33]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultModelSHA1Computer=e.ModelService=void 0;function c(u){return u.toString()}class d{constructor(f,C,_){this.model=f,this._modelEventListeners=new k.DisposableStore,this.model=f,this._modelEventListeners.add(f.onWillDispose(()=>C(f))),this._modelEventListeners.add(f.onDidChangeLanguage(E=>_(f,E)))}dispose(){this._modelEventListeners.dispose()}}const s=y.isLinux||y.isMacintosh?1:2;class l{constructor(f,C,_,E,I,T,A,R){this.uri=f,this.initialUndoRedoSnapshot=C,this.time=_,this.sharesUndoRedoStack=E,this.heapSize=I,this.sha1=T,this.versionId=A,this.alternativeVersionId=R}}let r=m=class extends k.Disposable{constructor(f,C,_,E,I){super(),this._configurationService=f,this._resourcePropertiesService=C,this._undoRedoService=_,this._languageService=E,this._languageConfigurationService=I,this._onModelAdded=this._register(new L.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new L.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new L.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(T=>this._updateModelOptions(T))),this._updateModelOptions(void 0)}static _readModelOptions(f,C){var _;let E=S.EDITOR_MODEL_DEFAULTS.tabSize;if(f.editor&&typeof f.editor.tabSize<"u"){const O=parseInt(f.editor.tabSize,10);isNaN(O)||(E=O),E<1&&(E=1)}let I="tabSize";if(f.editor&&typeof f.editor.indentSize<"u"&&f.editor.indentSize!=="tabSize"){const O=parseInt(f.editor.indentSize,10);isNaN(O)||(I=Math.max(O,1))}let T=S.EDITOR_MODEL_DEFAULTS.insertSpaces;f.editor&&typeof f.editor.insertSpaces<"u"&&(T=f.editor.insertSpaces==="false"?!1:!!f.editor.insertSpaces);let A=s;const R=f.eol;R===`\r
`?A=2:R===`
`&&(A=1);let M=S.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;f.editor&&typeof f.editor.trimAutoWhitespace<"u"&&(M=f.editor.trimAutoWhitespace==="false"?!1:!!f.editor.trimAutoWhitespace);let N=S.EDITOR_MODEL_DEFAULTS.detectIndentation;f.editor&&typeof f.editor.detectIndentation<"u"&&(N=f.editor.detectIndentation==="false"?!1:!!f.editor.detectIndentation);let P=S.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;f.editor&&typeof f.editor.largeFileOptimizations<"u"&&(P=f.editor.largeFileOptimizations==="false"?!1:!!f.editor.largeFileOptimizations);let F=S.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return!((_=f.editor)===null||_===void 0)&&_.bracketPairColorization&&typeof f.editor.bracketPairColorization=="object"&&(F={enabled:!!f.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!f.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:C,tabSize:E,indentSize:I,insertSpaces:T,detectIndentation:N,defaultEOL:A,trimAutoWhitespace:M,largeFileOptimizations:P,bracketPairColorizationOptions:F}}_getEOL(f,C){if(f)return this._resourcePropertiesService.getEOL(f,C);const _=this._configurationService.getValue("files.eol",{overrideIdentifier:C});return _&&typeof _=="string"&&_!=="auto"?_:y.OS===3||y.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const f=this._configurationService.getValue("files.restoreUndoStack");return typeof f=="boolean"?f:!0}getCreationOptions(f,C,_){const E=typeof f=="string"?f:f.languageId;let I=this._modelCreationOptionsByLanguageAndResource[E+C];if(!I){const T=this._configurationService.getValue("editor",{overrideIdentifier:E,resource:C}),A=this._getEOL(C,E);I=m._readModelOptions({editor:T,eol:A},_),this._modelCreationOptionsByLanguageAndResource[E+C]=I}return I}_updateModelOptions(f){const C=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const _=Object.keys(this._models);for(let E=0,I=_.length;E<I;E++){const T=_[E],A=this._models[T],R=A.model.getLanguageId(),M=A.model.uri;if(f&&!f.affectsConfiguration("editor",{overrideIdentifier:R,resource:M})&&!f.affectsConfiguration("files.eol",{overrideIdentifier:R,resource:M}))continue;const N=C[R+M],P=this.getCreationOptions(R,M,A.model.isForSimpleWidget);m._setModelOptionsForModel(A.model,P,N)}}static _setModelOptionsForModel(f,C,_){_&&_.defaultEOL!==C.defaultEOL&&f.getLineCount()===1&&f.setEOL(C.defaultEOL===1?0:1),!(_&&_.detectIndentation===C.detectIndentation&&_.insertSpaces===C.insertSpaces&&_.tabSize===C.tabSize&&_.indentSize===C.indentSize&&_.trimAutoWhitespace===C.trimAutoWhitespace&&(0,o.equals)(_.bracketPairColorizationOptions,C.bracketPairColorizationOptions))&&(C.detectIndentation?(f.detectIndentation(C.insertSpaces,C.tabSize),f.updateOptions({trimAutoWhitespace:C.trimAutoWhitespace,bracketColorizationOptions:C.bracketPairColorizationOptions})):f.updateOptions({insertSpaces:C.insertSpaces,tabSize:C.tabSize,indentSize:C.indentSize,trimAutoWhitespace:C.trimAutoWhitespace,bracketColorizationOptions:C.bracketPairColorizationOptions}))}_insertDisposedModel(f){this._disposedModels.set(c(f.uri),f),this._disposedModelsHeapSize+=f.heapSize}_removeDisposedModel(f){const C=this._disposedModels.get(c(f));return C&&(this._disposedModelsHeapSize-=C.heapSize),this._disposedModels.delete(c(f)),C}_ensureDisposedModelsHeapSize(f){if(this._disposedModelsHeapSize>f){const C=[];for(this._disposedModels.forEach(_=>{_.sharesUndoRedoStack||C.push(_)}),C.sort((_,E)=>_.time-E.time);C.length>0&&this._disposedModelsHeapSize>f;){const _=C.shift();this._removeDisposedModel(_.uri),_.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(_.initialUndoRedoSnapshot)}}}_createModelData(f,C,_,E){const I=this.getCreationOptions(C,_,E),T=new D.TextModel(f,C,I,_,this._undoRedoService,this._languageService,this._languageConfigurationService);if(_&&this._disposedModels.has(c(_))){const M=this._removeDisposedModel(_),N=this._undoRedoService.getElements(_),P=this._getSHA1Computer(),F=P.canComputeSHA1(T)?P.computeSHA1(T)===M.sha1:!1;if(F||M.sharesUndoRedoStack){for(const O of N.past)(0,i.isEditStackElement)(O)&&O.matchesResource(_)&&O.setModel(T);for(const O of N.future)(0,i.isEditStackElement)(O)&&O.matchesResource(_)&&O.setModel(T);this._undoRedoService.setElementsValidFlag(_,!0,O=>(0,i.isEditStackElement)(O)&&O.matchesResource(_)),F&&(T._overwriteVersionId(M.versionId),T._overwriteAlternativeVersionId(M.alternativeVersionId),T._overwriteInitialUndoRedoSnapshot(M.initialUndoRedoSnapshot))}else M.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(M.initialUndoRedoSnapshot)}const A=c(T.uri);if(this._models[A])throw new Error("ModelService: Cannot add model because it already exists!");const R=new d(T,M=>this._onWillDispose(M),(M,N)=>this._onDidChangeLanguage(M,N));return this._models[A]=R,R}createModel(f,C,_,E=!1){let I;return C?I=this._createModelData(f,C,_,E):I=this._createModelData(f,p.PLAINTEXT_LANGUAGE_ID,_,E),this._onModelAdded.fire(I.model),I.model}getModels(){const f=[],C=Object.keys(this._models);for(let _=0,E=C.length;_<E;_++){const I=C[_];f.push(this._models[I].model)}return f}getModel(f){const C=c(f),_=this._models[C];return _?_.model:null}_schemaShouldMaintainUndoRedoElements(f){return f.scheme===t.Schemas.file||f.scheme===t.Schemas.vscodeRemote||f.scheme===t.Schemas.vscodeUserData||f.scheme===t.Schemas.vscodeNotebookCell||f.scheme==="fake-fs"}_onWillDispose(f){const C=c(f.uri),_=this._models[C],E=this._undoRedoService.getUriComparisonKey(f.uri)!==f.uri.toString();let I=!1,T=0;if(E||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(f.uri)){const M=this._undoRedoService.getElements(f.uri);if(M.past.length>0||M.future.length>0){for(const N of M.past)(0,i.isEditStackElement)(N)&&N.matchesResource(f.uri)&&(I=!0,T+=N.heapSize(f.uri),N.setModel(f.uri));for(const N of M.future)(0,i.isEditStackElement)(N)&&N.matchesResource(f.uri)&&(I=!0,T+=N.heapSize(f.uri),N.setModel(f.uri))}}const A=m.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,R=this._getSHA1Computer();if(I)if(!E&&(T>A||!R.canComputeSHA1(f))){const M=_.model.getInitialUndoRedoSnapshot();M!==null&&this._undoRedoService.restoreSnapshot(M)}else this._ensureDisposedModelsHeapSize(A-T),this._undoRedoService.setElementsValidFlag(f.uri,!1,M=>(0,i.isEditStackElement)(M)&&M.matchesResource(f.uri)),this._insertDisposedModel(new l(f.uri,_.model.getInitialUndoRedoSnapshot(),Date.now(),E,T,R.computeSHA1(f),f.getVersionId(),f.getAlternativeVersionId()));else if(!E){const M=_.model.getInitialUndoRedoSnapshot();M!==null&&this._undoRedoService.restoreSnapshot(M)}delete this._models[C],_.dispose(),delete this._modelCreationOptionsByLanguageAndResource[f.getLanguageId()+f.uri],this._onModelRemoved.fire(f)}_onDidChangeLanguage(f,C){const _=C.oldLanguage,E=f.getLanguageId(),I=this.getCreationOptions(_,f.uri,f.isForSimpleWidget),T=this.getCreationOptions(E,f.uri,f.isForSimpleWidget);m._setModelOptionsForModel(f,T,I),this._onModelModeChanged.fire({model:f,oldLanguageId:_})}_getSHA1Computer(){return new h}};e.ModelService=r,r.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,e.ModelService=r=m=De([he(0,b.IConfigurationService),he(1,v.ITextResourcePropertiesService),he(2,a.IUndoRedoService),he(3,w.ILanguageService),he(4,g.ILanguageConfigurationService)],r);class h{canComputeSHA1(f){return f.getValueLength()<=h.MAX_MODEL_SIZE}computeSHA1(f){const C=new n.StringSHA1,_=f.createSnapshot();let E;for(;E=_.read();)C.update(E);return C.digest()}}e.DefaultModelSHA1Computer=h,h.MAX_MODEL_SIZE=10*1024*1024}),define(ne[897],se([1,0,13,9,5,218,38,117,220,556,299,86]),function(ee,e,L,k,y,D,S,p,w,v,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class n{constructor(s,l,r,h,u,f,C,_,E,I){this._editorId=s,this.model=l,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=r,this._monospaceLineBreaksComputerFactory=h,this.fontInfo=u,this.tabSize=f,this.wrappingStrategy=C,this.wrappingColumn=_,this.wrappingIndent=E,this.wordBreak=I,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new g(this)}_constructLines(s,l){this.modelLineProjections=[],s&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const r=this.model.getLinesContent(),h=this.model.getInjectedTextDecorations(this._editorId),u=r.length,f=this.createLineBreaksComputer(),C=new L.ArrayQueue(p.LineInjectedText.fromDecorations(h));for(let N=0;N<u;N++){const P=C.takeWhile(F=>F.lineNumber===N+1);f.addRequest(r[N],P,l?l[N]:null)}const _=f.finalize(),E=[],I=this.hiddenAreasDecorationIds.map(N=>this.model.getDecorationRange(N)).sort(y.Range.compareRangesUsingStarts);let T=1,A=0,R=-1,M=R+1<I.length?A+1:u+2;for(let N=0;N<u;N++){const P=N+1;P===M&&(R++,T=I[R].startLineNumber,A=I[R].endLineNumber,M=R+1<I.length?A+1:u+2);const F=P>=T&&P<=A,O=(0,v.createModelLineProjection)(_[N],!F);E[N]=O.getViewLineCount(),this.modelLineProjections[N]=O}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new b.ConstantTimePrefixSumComputer(E)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(s=>this.model.getDecorationRange(s))}setHiddenAreas(s){const l=s.map(A=>this.model.validateRange(A)),r=i(l),h=this.hiddenAreasDecorationIds.map(A=>this.model.getDecorationRange(A)).sort(y.Range.compareRangesUsingStarts);if(r.length===h.length){let A=!1;for(let R=0;R<r.length;R++)if(!r[R].equalsRange(h[R])){A=!0;break}if(!A)return!1}const u=r.map(A=>({range:A,options:S.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,u);const f=r;let C=1,_=0,E=-1,I=E+1<f.length?_+1:this.modelLineProjections.length+2,T=!1;for(let A=0;A<this.modelLineProjections.length;A++){const R=A+1;R===I&&(E++,C=f[E].startLineNumber,_=f[E].endLineNumber,I=E+1<f.length?_+1:this.modelLineProjections.length+2);let M=!1;if(R>=C&&R<=_?this.modelLineProjections[A].isVisible()&&(this.modelLineProjections[A]=this.modelLineProjections[A].setVisible(!1),M=!0):(T=!0,this.modelLineProjections[A].isVisible()||(this.modelLineProjections[A]=this.modelLineProjections[A].setVisible(!0),M=!0)),M){const N=this.modelLineProjections[A].getViewLineCount();this.projectedModelLineLineCounts.setValue(A,N)}}return T||this.setHiddenAreas([]),!0}modelPositionIsVisible(s,l){return s<1||s>this.modelLineProjections.length?!1:this.modelLineProjections[s-1].isVisible()}getModelLineViewLineCount(s){return s<1||s>this.modelLineProjections.length?1:this.modelLineProjections[s-1].getViewLineCount()}setTabSize(s){return this.tabSize===s?!1:(this.tabSize=s,this._constructLines(!1,null),!0)}setWrappingSettings(s,l,r,h,u){const f=this.fontInfo.equals(s),C=this.wrappingStrategy===l,_=this.wrappingColumn===r,E=this.wrappingIndent===h,I=this.wordBreak===u;if(f&&C&&_&&E&&I)return!1;const T=f&&C&&!_&&E&&I;this.fontInfo=s,this.wrappingStrategy=l,this.wrappingColumn=r,this.wrappingIndent=h,this.wordBreak=u;let A=null;if(T){A=[];for(let R=0,M=this.modelLineProjections.length;R<M;R++)A[R]=this.modelLineProjections[R].getProjectionData()}return this._constructLines(!1,A),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(s,l,r){if(!s||s<=this._validModelVersionId)return null;const h=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,u=this.projectedModelLineLineCounts.getPrefixSum(r);return this.modelLineProjections.splice(l-1,r-l+1),this.projectedModelLineLineCounts.removeValues(l-1,r-l+1),new w.ViewLinesDeletedEvent(h,u)}onModelLinesInserted(s,l,r,h){if(!s||s<=this._validModelVersionId)return null;const u=l>2&&!this.modelLineProjections[l-2].isVisible(),f=l===1?1:this.projectedModelLineLineCounts.getPrefixSum(l-1)+1;let C=0;const _=[],E=[];for(let I=0,T=h.length;I<T;I++){const A=(0,v.createModelLineProjection)(h[I],!u);_.push(A);const R=A.getViewLineCount();C+=R,E[I]=R}return this.modelLineProjections=this.modelLineProjections.slice(0,l-1).concat(_).concat(this.modelLineProjections.slice(l-1)),this.projectedModelLineLineCounts.insertValues(l-1,E),new w.ViewLinesInsertedEvent(f,f+C-1)}onModelLineChanged(s,l,r){if(s!==null&&s<=this._validModelVersionId)return[!1,null,null,null];const h=l-1,u=this.modelLineProjections[h].getViewLineCount(),f=this.modelLineProjections[h].isVisible(),C=(0,v.createModelLineProjection)(r,f);this.modelLineProjections[h]=C;const _=this.modelLineProjections[h].getViewLineCount();let E=!1,I=0,T=-1,A=0,R=-1,M=0,N=-1;u>_?(I=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,T=I+_-1,M=T+1,N=M+(u-_)-1,E=!0):u<_?(I=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,T=I+u-1,A=T+1,R=A+(_-u)-1,E=!0):(I=this.projectedModelLineLineCounts.getPrefixSum(l-1)+1,T=I+_-1),this.projectedModelLineLineCounts.setValue(h,_);const P=I<=T?new w.ViewLinesChangedEvent(I,T-I+1):null,F=A<=R?new w.ViewLinesInsertedEvent(A,R):null,O=M<=N?new w.ViewLinesDeletedEvent(M,N):null;return[E,P,F,O]}acceptVersionId(s){this._validModelVersionId=s,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(s){if(s<1)return 1;const l=this.getViewLineCount();return s>l?l:s|0}getActiveIndentGuide(s,l,r){s=this._toValidViewLineNumber(s),l=this._toValidViewLineNumber(l),r=this._toValidViewLineNumber(r);const h=this.convertViewPositionToModelPosition(s,this.getViewLineMinColumn(s)),u=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),f=this.convertViewPositionToModelPosition(r,this.getViewLineMinColumn(r)),C=this.model.guides.getActiveIndentGuide(h.lineNumber,u.lineNumber,f.lineNumber),_=this.convertModelPositionToViewPosition(C.startLineNumber,1),E=this.convertModelPositionToViewPosition(C.endLineNumber,this.model.getLineMaxColumn(C.endLineNumber));return{startLineNumber:_.lineNumber,endLineNumber:E.lineNumber,indent:C.indent}}getViewLineInfo(s){s=this._toValidViewLineNumber(s);const l=this.projectedModelLineLineCounts.getIndexOf(s-1),r=l.index,h=l.remainder;return new t(r+1,h)}getMinColumnOfViewLine(s){return this.modelLineProjections[s.modelLineNumber-1].getViewLineMinColumn(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(s){return this.modelLineProjections[s.modelLineNumber-1].getViewLineMaxColumn(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(s){const l=this.modelLineProjections[s.modelLineNumber-1],r=l.getViewLineMinColumn(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx),h=l.getModelColumnOfViewPosition(s.modelLineWrappedLineIdx,r);return new k.Position(s.modelLineNumber,h)}getModelEndPositionOfViewLine(s){const l=this.modelLineProjections[s.modelLineNumber-1],r=l.getViewLineMaxColumn(this.model,s.modelLineNumber,s.modelLineWrappedLineIdx),h=l.getModelColumnOfViewPosition(s.modelLineWrappedLineIdx,r);return new k.Position(s.modelLineNumber,h)}getViewLineInfosGroupedByModelRanges(s,l){const r=this.getViewLineInfo(s),h=this.getViewLineInfo(l),u=new Array;let f=this.getModelStartPositionOfViewLine(r),C=new Array;for(let _=r.modelLineNumber;_<=h.modelLineNumber;_++){const E=this.modelLineProjections[_-1];if(E.isVisible()){const I=_===r.modelLineNumber?r.modelLineWrappedLineIdx:0,T=_===h.modelLineNumber?h.modelLineWrappedLineIdx+1:E.getViewLineCount();for(let A=I;A<T;A++)C.push(new t(_,A))}if(!E.isVisible()&&f){const I=new k.Position(_-1,this.model.getLineMaxColumn(_-1)+1),T=y.Range.fromPositions(f,I);u.push(new o(T,C)),C=[],f=null}else E.isVisible()&&!f&&(f=new k.Position(_,1))}if(f){const _=y.Range.fromPositions(f,this.getModelEndPositionOfViewLine(h));u.push(new o(_,C))}return u}getViewLinesBracketGuides(s,l,r,h){const u=r?this.convertViewPositionToModelPosition(r.lineNumber,r.column):null,f=[];for(const C of this.getViewLineInfosGroupedByModelRanges(s,l)){const _=C.modelRange.startLineNumber,E=this.model.guides.getLinesBracketGuides(_,C.modelRange.endLineNumber,u,h);for(const I of C.viewLines){const A=E[I.modelLineNumber-_].map(R=>{if(R.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,R.forWrappedLinesAfterColumn).lineNumber>=I.modelLineWrappedLineIdx||R.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,R.forWrappedLinesBeforeOrAtColumn).lineNumber<I.modelLineWrappedLineIdx)return;if(!R.horizontalLine)return R;let M=-1;if(R.column!==-1){const F=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,R.column);if(F.lineNumber===I.modelLineWrappedLineIdx)M=F.column;else if(F.lineNumber<I.modelLineWrappedLineIdx)M=this.getMinColumnOfViewLine(I);else if(F.lineNumber>I.modelLineWrappedLineIdx)return}const N=this.convertModelPositionToViewPosition(I.modelLineNumber,R.horizontalLine.endColumn),P=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,R.horizontalLine.endColumn);return P.lineNumber===I.modelLineWrappedLineIdx?new D.IndentGuide(R.visibleColumn,M,R.className,new D.IndentGuideHorizontalLine(R.horizontalLine.top,N.column),-1,-1):P.lineNumber<I.modelLineWrappedLineIdx||R.visibleColumn!==-1?void 0:new D.IndentGuide(R.visibleColumn,M,R.className,new D.IndentGuideHorizontalLine(R.horizontalLine.top,this.getMaxColumnOfViewLine(I)),-1,-1)});f.push(A.filter(R=>!!R))}}return f}getViewLinesIndentGuides(s,l){s=this._toValidViewLineNumber(s),l=this._toValidViewLineNumber(l);const r=this.convertViewPositionToModelPosition(s,this.getViewLineMinColumn(s)),h=this.convertViewPositionToModelPosition(l,this.getViewLineMaxColumn(l));let u=[];const f=[],C=[],_=r.lineNumber-1,E=h.lineNumber-1;let I=null;for(let M=_;M<=E;M++){const N=this.modelLineProjections[M];if(N.isVisible()){const P=N.getViewLineNumberOfModelPosition(0,M===_?r.column:1),F=N.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(M+1)),O=F-P+1;let B=0;O>1&&N.getViewLineMinColumn(this.model,M+1,F)===1&&(B=P===0?1:2),f.push(O),C.push(B),I===null&&(I=new k.Position(M+1,0))}else I!==null&&(u=u.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,M)),I=null)}I!==null&&(u=u.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,h.lineNumber)),I=null);const T=l-s+1,A=new Array(T);let R=0;for(let M=0,N=u.length;M<N;M++){let P=u[M];const F=Math.min(T-R,f[M]),O=C[M];let B;O===2?B=0:O===1?B=1:B=F;for(let W=0;W<F;W++)W===B&&(P=0),A[R++]=P}return A}getViewLineContent(s){const l=this.getViewLineInfo(s);return this.modelLineProjections[l.modelLineNumber-1].getViewLineContent(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineLength(s){const l=this.getViewLineInfo(s);return this.modelLineProjections[l.modelLineNumber-1].getViewLineLength(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMinColumn(s){const l=this.getViewLineInfo(s);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineMaxColumn(s){const l=this.getViewLineInfo(s);return this.modelLineProjections[l.modelLineNumber-1].getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLineData(s){const l=this.getViewLineInfo(s);return this.modelLineProjections[l.modelLineNumber-1].getViewLineData(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getViewLinesData(s,l,r){s=this._toValidViewLineNumber(s),l=this._toValidViewLineNumber(l);const h=this.projectedModelLineLineCounts.getIndexOf(s-1);let u=s;const f=h.index,C=h.remainder,_=[];for(let E=f,I=this.model.getLineCount();E<I;E++){const T=this.modelLineProjections[E];if(!T.isVisible())continue;const A=E===f?C:0;let R=T.getViewLineCount()-A,M=!1;if(u+R>l&&(M=!0,R=l-u+1),T.getViewLinesData(this.model,E+1,A,R,u-s,r,_),u+=R,M)break}return _}validateViewPosition(s,l,r){s=this._toValidViewLineNumber(s);const h=this.projectedModelLineLineCounts.getIndexOf(s-1),u=h.index,f=h.remainder,C=this.modelLineProjections[u],_=C.getViewLineMinColumn(this.model,u+1,f),E=C.getViewLineMaxColumn(this.model,u+1,f);l<_&&(l=_),l>E&&(l=E);const I=C.getModelColumnOfViewPosition(f,l);return this.model.validatePosition(new k.Position(u+1,I)).equals(r)?new k.Position(s,l):this.convertModelPositionToViewPosition(r.lineNumber,r.column)}validateViewRange(s,l){const r=this.validateViewPosition(s.startLineNumber,s.startColumn,l.getStartPosition()),h=this.validateViewPosition(s.endLineNumber,s.endColumn,l.getEndPosition());return new y.Range(r.lineNumber,r.column,h.lineNumber,h.column)}convertViewPositionToModelPosition(s,l){const r=this.getViewLineInfo(s),h=this.modelLineProjections[r.modelLineNumber-1].getModelColumnOfViewPosition(r.modelLineWrappedLineIdx,l);return this.model.validatePosition(new k.Position(r.modelLineNumber,h))}convertViewRangeToModelRange(s){const l=this.convertViewPositionToModelPosition(s.startLineNumber,s.startColumn),r=this.convertViewPositionToModelPosition(s.endLineNumber,s.endColumn);return new y.Range(l.lineNumber,l.column,r.lineNumber,r.column)}convertModelPositionToViewPosition(s,l,r=2,h=!1,u=!1){const f=this.model.validatePosition(new k.Position(s,l)),C=f.lineNumber,_=f.column;let E=C-1,I=!1;if(u)for(;E<this.modelLineProjections.length&&!this.modelLineProjections[E].isVisible();)E++,I=!0;else for(;E>0&&!this.modelLineProjections[E].isVisible();)E--,I=!0;if(E===0&&!this.modelLineProjections[E].isVisible())return new k.Position(h?0:1,1);const T=1+this.projectedModelLineLineCounts.getPrefixSum(E);let A;return I?u?A=this.modelLineProjections[E].getViewPositionOfModelPosition(T,1,r):A=this.modelLineProjections[E].getViewPositionOfModelPosition(T,this.model.getLineMaxColumn(E+1),r):A=this.modelLineProjections[C-1].getViewPositionOfModelPosition(T,_,r),A}convertModelRangeToViewRange(s,l=0){if(s.isEmpty()){const r=this.convertModelPositionToViewPosition(s.startLineNumber,s.startColumn,l);return y.Range.fromPositions(r)}else{const r=this.convertModelPositionToViewPosition(s.startLineNumber,s.startColumn,1),h=this.convertModelPositionToViewPosition(s.endLineNumber,s.endColumn,0);return new y.Range(r.lineNumber,r.column,h.lineNumber,h.column)}}getViewLineNumberOfModelPosition(s,l){let r=s-1;if(this.modelLineProjections[r].isVisible()){const u=1+this.projectedModelLineLineCounts.getPrefixSum(r);return this.modelLineProjections[r].getViewLineNumberOfModelPosition(u,l)}for(;r>0&&!this.modelLineProjections[r].isVisible();)r--;if(r===0&&!this.modelLineProjections[r].isVisible())return 1;const h=1+this.projectedModelLineLineCounts.getPrefixSum(r);return this.modelLineProjections[r].getViewLineNumberOfModelPosition(h,this.model.getLineMaxColumn(r+1))}getDecorationsInRange(s,l,r,h,u){const f=this.convertViewPositionToModelPosition(s.startLineNumber,s.startColumn),C=this.convertViewPositionToModelPosition(s.endLineNumber,s.endColumn);if(C.lineNumber-f.lineNumber<=s.endLineNumber-s.startLineNumber)return this.model.getDecorationsInRange(new y.Range(f.lineNumber,1,C.lineNumber,C.column),l,r,h,u);let _=[];const E=f.lineNumber-1,I=C.lineNumber-1;let T=null;for(let N=E;N<=I;N++)if(this.modelLineProjections[N].isVisible())T===null&&(T=new k.Position(N+1,N===E?f.column:1));else if(T!==null){const F=this.model.getLineMaxColumn(N);_=_.concat(this.model.getDecorationsInRange(new y.Range(T.lineNumber,T.column,N,F),l,r,h)),T=null}T!==null&&(_=_.concat(this.model.getDecorationsInRange(new y.Range(T.lineNumber,T.column,C.lineNumber,C.column),l,r,h)),T=null),_.sort((N,P)=>{const F=y.Range.compareRangesUsingStarts(N.range,P.range);return F===0?N.id<P.id?-1:N.id>P.id?1:0:F});const A=[];let R=0,M=null;for(const N of _){const P=N.id;M!==P&&(M=P,A[R++]=N)}return A}getInjectedTextAt(s){const l=this.getViewLineInfo(s.lineNumber);return this.modelLineProjections[l.modelLineNumber-1].getInjectedTextAt(l.modelLineWrappedLineIdx,s.column)}normalizePosition(s,l){const r=this.getViewLineInfo(s.lineNumber);return this.modelLineProjections[r.modelLineNumber-1].normalizePosition(r.modelLineWrappedLineIdx,s,l)}getLineIndentColumn(s){const l=this.getViewLineInfo(s);return l.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(l.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=n;function i(d){if(d.length===0)return[];const s=d.slice();s.sort(y.Range.compareRangesUsingStarts);const l=[];let r=s[0].startLineNumber,h=s[0].endLineNumber;for(let u=1,f=s.length;u<f;u++){const C=s[u];C.startLineNumber>h+1?(l.push(new y.Range(r,1,h,1)),r=C.startLineNumber,h=C.endLineNumber):C.endLineNumber>h&&(h=C.endLineNumber)}return l.push(new y.Range(r,1,h,1)),l}class t{constructor(s,l){this.modelLineNumber=s,this.modelLineWrappedLineIdx=l}}class o{constructor(s,l){this.modelRange=s,this.viewLines=l}}class g{constructor(s){this._lines=s}convertViewPositionToModelPosition(s){return this._lines.convertViewPositionToModelPosition(s.lineNumber,s.column)}convertViewRangeToModelRange(s){return this._lines.convertViewRangeToModelRange(s)}validateViewPosition(s,l){return this._lines.validateViewPosition(s.lineNumber,s.column,l)}validateViewRange(s,l){return this._lines.validateViewRange(s,l)}convertModelPositionToViewPosition(s,l,r,h){return this._lines.convertModelPositionToViewPosition(s.lineNumber,s.column,l,r,h)}convertModelRangeToViewRange(s,l){return this._lines.convertModelRangeToViewRange(s,l)}modelPositionIsVisible(s){return this._lines.modelPositionIsVisible(s.lineNumber,s.column)}getModelLineViewLineCount(s){return this._lines.getModelLineViewLineCount(s)}getViewLineNumberOfModelPosition(s,l){return this._lines.getViewLineNumberOfModelPosition(s,l)}}class m{constructor(s){this.model=s}dispose(){}createCoordinatesConverter(){return new c(this)}getHiddenAreas(){return[]}setHiddenAreas(s){return!1}setTabSize(s){return!1}setWrappingSettings(s,l,r,h){return!1}createLineBreaksComputer(){const s=[];return{addRequest:(l,r,h)=>{s.push(null)},finalize:()=>s}}onModelFlushed(){}onModelLinesDeleted(s,l,r){return new w.ViewLinesDeletedEvent(l,r)}onModelLinesInserted(s,l,r,h){return new w.ViewLinesInsertedEvent(l,r)}onModelLineChanged(s,l,r){return[!1,new w.ViewLinesChangedEvent(l,1),null,null]}acceptVersionId(s){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(s,l,r){return{startLineNumber:s,endLineNumber:s,indent:0}}getViewLinesBracketGuides(s,l,r){return new Array(l-s+1).fill([])}getViewLinesIndentGuides(s,l){const r=l-s+1,h=new Array(r);for(let u=0;u<r;u++)h[u]=0;return h}getViewLineContent(s){return this.model.getLineContent(s)}getViewLineLength(s){return this.model.getLineLength(s)}getViewLineMinColumn(s){return this.model.getLineMinColumn(s)}getViewLineMaxColumn(s){return this.model.getLineMaxColumn(s)}getViewLineData(s){const l=this.model.tokenization.getLineTokens(s),r=l.getLineContent();return new a.ViewLineData(r,!1,1,r.length+1,0,l.inflate(),null)}getViewLinesData(s,l,r){const h=this.model.getLineCount();s=Math.min(Math.max(1,s),h),l=Math.min(Math.max(1,l),h);const u=[];for(let f=s;f<=l;f++){const C=f-s;u[C]=r[C]?this.getViewLineData(f):null}return u}getDecorationsInRange(s,l,r,h,u){return this.model.getDecorationsInRange(s,l,r,h,u)}normalizePosition(s,l){return this.model.normalizePosition(s,l)}getLineIndentColumn(s){return this.model.getLineIndentColumn(s)}getInjectedTextAt(s){return null}}e.ViewModelLinesFromModelAsIs=m;class c{constructor(s){this._lines=s}_validPosition(s){return this._lines.model.validatePosition(s)}_validRange(s){return this._lines.model.validateRange(s)}convertViewPositionToModelPosition(s){return this._validPosition(s)}convertViewRangeToModelRange(s){return this._validRange(s)}validateViewPosition(s,l){return this._validPosition(l)}validateViewRange(s,l){return this._validRange(l)}convertModelPositionToViewPosition(s){return this._validPosition(s)}convertModelRangeToViewRange(s){return this._validRange(s)}modelPositionIsVisible(s){const l=this._lines.model.getLineCount();return!(s.lineNumber<1||s.lineNumber>l)}getModelLineViewLineCount(s){return 1}getViewLineNumberOfModelPosition(s,l){return s}}}),define(ne[898],se([1,0,13,15,39,2,17,11,36,801,76,9,5,117,30,81,343,220,560,345,86,342,221,897,555]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const f=!0;class C extends D.Disposable{constructor(N,P,F,O,B,W,V,z,K){if(super(),this.languageConfigurationService=V,this._themeService=z,this._attachedView=K,this.hiddenAreasModel=new I,this.previousHiddenAreas=[],this._editorId=N,this._configuration=P,this.model=F,this._eventDispatcher=new r.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new b.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new k.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=_.create(this.model),this.glyphLanes=new u.GlyphMarginLanesModel(0),f&&this.model.isTooLargeForTokenization())this._lines=new h.ViewModelLinesFromModelAsIs(this.model);else{const j=this._configuration.options,x=j.get(50),re=j.get(138),ie=j.get(145),J=j.get(137),X=j.get(129);this._lines=new h.ViewModelLinesFromProjectedModel(this._editorId,this.model,O,B,x,this.model.getOptions().tabSize,re,ie.wrappingColumn,J,X)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new v.CursorsController(F,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new c.ViewLayout(this._configuration,this.getLineCount(),W)),this._register(this.viewLayout.onDidScroll(j=>{j.scrollTopChanged&&this._handleVisibleLinesChanged(),j.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new m.ViewScrollChangedEvent(j)),this._eventDispatcher.emitOutgoingEvent(new r.ScrollChangedEvent(j.oldScrollWidth,j.oldScrollLeft,j.oldScrollHeight,j.oldScrollTop,j.scrollWidth,j.scrollLeft,j.scrollHeight,j.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(j=>{this._eventDispatcher.emitOutgoingEvent(j)})),this._decorations=new l.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(j=>{try{const x=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(x,j)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(d.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new m.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(j=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new m.ViewThemeChangedEvent(j))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(N){this._eventDispatcher.addViewEventHandler(N)}removeViewEventHandler(N){this._eventDispatcher.removeViewEventHandler(N)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const N=this.viewLayout.getLinesViewportData(),P=new n.Range(N.startLineNumber,this.getLineMinColumn(N.startLineNumber),N.endLineNumber,this.getLineMaxColumn(N.endLineNumber));return this._toModelVisibleRanges(P)}visibleLinesStabilized(){const N=this.getModelVisibleRanges();this._attachedView.setVisibleLines(N,!0)}_handleVisibleLinesChanged(){const N=this.getModelVisibleRanges();this._attachedView.setVisibleLines(N,!1)}setHasFocus(N){this._hasFocus=N,this._cursor.setHasFocus(N),this._eventDispatcher.emitSingleViewEvent(new m.ViewFocusChangedEvent(N)),this._eventDispatcher.emitOutgoingEvent(new r.FocusChangedEvent(!N,N))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new m.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new m.ViewCompositionEndEvent)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const N=new a.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),P=this.coordinatesConverter.convertViewPositionToModelPosition(N);return new R(P,this._viewportStart.startLineDelta)}return new R(null,0)}_onConfigurationChanged(N,P){const F=this._captureStableViewport(),O=this._configuration.options,B=O.get(50),W=O.get(138),V=O.get(145),z=O.get(137),K=O.get(129);this._lines.setWrappingSettings(B,W,V.wrappingColumn,z,K)&&(N.emitViewEvent(new m.ViewFlushedEvent),N.emitViewEvent(new m.ViewLineMappingChangedEvent),N.emitViewEvent(new m.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(N),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),P.hasChanged(91)&&(this._decorations.reset(),N.emitViewEvent(new m.ViewDecorationsChangedEvent(null))),P.hasChanged(98)&&(this._decorations.reset(),N.emitViewEvent(new m.ViewDecorationsChangedEvent(null))),N.emitViewEvent(new m.ViewConfigurationChangedEvent(P)),this.viewLayout.onConfigurationChanged(P),F.recoverViewportStart(this.coordinatesConverter,this.viewLayout),b.CursorConfiguration.shouldRecreate(P)&&(this.cursorConfig=new b.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(N=>{try{const F=this._eventDispatcher.beginEmitViewEvents();let O=!1,B=!1;const W=N instanceof i.InternalModelContentChangeEvent?N.rawContentChangedEvent.changes:N.changes,V=N instanceof i.InternalModelContentChangeEvent?N.rawContentChangedEvent.versionId:null,z=this._lines.createLineBreaksComputer();for(const x of W)switch(x.changeType){case 4:{for(let re=0;re<x.detail.length;re++){const ie=x.detail[re];let J=x.injectedTexts[re];J&&(J=J.filter(X=>!X.ownerId||X.ownerId===this._editorId)),z.addRequest(ie,J,null)}break}case 2:{let re=null;x.injectedText&&(re=x.injectedText.filter(ie=>!ie.ownerId||ie.ownerId===this._editorId)),z.addRequest(x.detail,re,null);break}}const K=z.finalize(),j=new L.ArrayQueue(K);for(const x of W)switch(x.changeType){case 1:{this._lines.onModelFlushed(),F.emitViewEvent(new m.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),O=!0;break}case 3:{const re=this._lines.onModelLinesDeleted(V,x.fromLineNumber,x.toLineNumber);re!==null&&(F.emitViewEvent(re),this.viewLayout.onLinesDeleted(re.fromLineNumber,re.toLineNumber)),O=!0;break}case 4:{const re=j.takeCount(x.detail.length),ie=this._lines.onModelLinesInserted(V,x.fromLineNumber,x.toLineNumber,re);ie!==null&&(F.emitViewEvent(ie),this.viewLayout.onLinesInserted(ie.fromLineNumber,ie.toLineNumber)),O=!0;break}case 2:{const re=j.dequeue(),[ie,J,X,Y]=this._lines.onModelLineChanged(V,x.lineNumber,re);B=ie,J&&F.emitViewEvent(J),X&&(F.emitViewEvent(X),this.viewLayout.onLinesInserted(X.fromLineNumber,X.toLineNumber)),Y&&(F.emitViewEvent(Y),this.viewLayout.onLinesDeleted(Y.fromLineNumber,Y.toLineNumber));break}case 5:break}V!==null&&this._lines.acceptVersionId(V),this.viewLayout.onHeightMaybeChanged(),!O&&B&&(F.emitViewEvent(new m.ViewLineMappingChangedEvent),F.emitViewEvent(new m.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(F),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const P=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&P){const F=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(F){const O=this.coordinatesConverter.convertModelPositionToViewPosition(F.getStartPosition()),B=this.viewLayout.getVerticalOffsetForLineNumber(O.lineNumber);this.viewLayout.setScrollPosition({scrollTop:B+this._viewportStart.startLineDelta},1)}}try{const F=this._eventDispatcher.beginEmitViewEvents();N instanceof i.InternalModelContentChangeEvent&&F.emitOutgoingEvent(new r.ModelContentChangedEvent(N.contentChangedEvent)),this._cursor.onModelContentChanged(F,N)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(N=>{const P=[];for(let F=0,O=N.ranges.length;F<O;F++){const B=N.ranges[F],W=this.coordinatesConverter.convertModelPositionToViewPosition(new a.Position(B.fromLineNumber,1)).lineNumber,V=this.coordinatesConverter.convertModelPositionToViewPosition(new a.Position(B.toLineNumber,this.model.getLineMaxColumn(B.toLineNumber))).lineNumber;P[F]={fromLineNumber:W,toLineNumber:V}}this._eventDispatcher.emitSingleViewEvent(new m.ViewTokensChangedEvent(P)),this._eventDispatcher.emitOutgoingEvent(new r.ModelTokensChangedEvent(N))})),this._register(this.model.onDidChangeLanguageConfiguration(N=>{this._eventDispatcher.emitSingleViewEvent(new m.ViewLanguageConfigurationEvent),this.cursorConfig=new b.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new r.ModelLanguageConfigurationChangedEvent(N))})),this._register(this.model.onDidChangeLanguage(N=>{this.cursorConfig=new b.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new r.ModelLanguageChangedEvent(N))})),this._register(this.model.onDidChangeOptions(N=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const P=this._eventDispatcher.beginEmitViewEvents();P.emitViewEvent(new m.ViewFlushedEvent),P.emitViewEvent(new m.ViewLineMappingChangedEvent),P.emitViewEvent(new m.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(P),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new b.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new r.ModelOptionsChangedEvent(N))})),this._register(this.model.onDidChangeDecorations(N=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new m.ViewDecorationsChangedEvent(N)),this._eventDispatcher.emitOutgoingEvent(new r.ModelDecorationsChangedEvent(N))}))}setHiddenAreas(N,P){var F;this.hiddenAreasModel.setHiddenAreas(P,N);const O=this.hiddenAreasModel.getMergedRanges();if(O===this.previousHiddenAreas)return;this.previousHiddenAreas=O;const B=this._captureStableViewport();let W=!1;try{const V=this._eventDispatcher.beginEmitViewEvents();W=this._lines.setHiddenAreas(O),W&&(V.emitViewEvent(new m.ViewFlushedEvent),V.emitViewEvent(new m.ViewLineMappingChangedEvent),V.emitViewEvent(new m.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(V),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const z=(F=B.viewportStartModelPosition)===null||F===void 0?void 0:F.lineNumber;z&&O.some(j=>j.startLineNumber<=z&&z<=j.endLineNumber)||B.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),W&&this._eventDispatcher.emitOutgoingEvent(new r.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const N=this._configuration.options.get(144),P=this._configuration.options.get(67),F=Math.max(20,Math.round(N.height/P)),O=this.viewLayout.getLinesViewportData(),B=Math.max(1,O.completelyVisibleStartLineNumber-F),W=Math.min(this.getLineCount(),O.completelyVisibleEndLineNumber+F);return this._toModelVisibleRanges(new n.Range(B,this.getLineMinColumn(B),W,this.getLineMaxColumn(W)))}getVisibleRanges(){const N=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(N)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(N){const P=this.coordinatesConverter.convertViewRangeToModelRange(N),F=this._lines.getHiddenAreas();if(F.length===0)return[P];const O=[];let B=0,W=P.startLineNumber,V=P.startColumn;const z=P.endLineNumber,K=P.endColumn;for(let j=0,x=F.length;j<x;j++){const re=F[j].startLineNumber,ie=F[j].endLineNumber;ie<W||re>z||(W<re&&(O[B++]=new n.Range(W,V,re-1,this.model.getLineMaxColumn(re-1))),W=ie+1,V=1)}return(W<z||W===z&&V<K)&&(O[B++]=new n.Range(W,V,z,K)),O}getCompletelyVisibleViewRange(){const N=this.viewLayout.getLinesViewportData(),P=N.completelyVisibleStartLineNumber,F=N.completelyVisibleEndLineNumber;return new n.Range(P,this.getLineMinColumn(P),F,this.getLineMaxColumn(F))}getCompletelyVisibleViewRangeAtScrollTop(N){const P=this.viewLayout.getLinesViewportDataAtScrollTop(N),F=P.completelyVisibleStartLineNumber,O=P.completelyVisibleEndLineNumber;return new n.Range(F,this.getLineMinColumn(F),O,this.getLineMaxColumn(O))}saveState(){const N=this.viewLayout.saveState(),P=N.scrollTop,F=this.viewLayout.getLineNumberAtVerticalOffset(P),O=this.coordinatesConverter.convertViewPositionToModelPosition(new a.Position(F,this.getLineMinColumn(F))),B=this.viewLayout.getVerticalOffsetForLineNumber(F)-P;return{scrollLeft:N.scrollLeft,firstPosition:O,firstPositionDeltaTop:B}}reduceRestoreState(N){if(typeof N.firstPosition>"u")return this._reduceRestoreStateCompatibility(N);const P=this.model.validatePosition(N.firstPosition),F=this.coordinatesConverter.convertModelPositionToViewPosition(P),O=this.viewLayout.getVerticalOffsetForLineNumber(F.lineNumber)-N.firstPositionDeltaTop;return{scrollLeft:N.scrollLeft,scrollTop:O}}_reduceRestoreStateCompatibility(N){return{scrollLeft:N.scrollLeft,scrollTop:N.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(N,P,F){this._viewportStart.update(this,N)}getActiveIndentGuide(N,P,F){return this._lines.getActiveIndentGuide(N,P,F)}getLinesIndentGuides(N,P){return this._lines.getViewLinesIndentGuides(N,P)}getBracketGuidesInRangeByLine(N,P,F,O){return this._lines.getViewLinesBracketGuides(N,P,F,O)}getLineContent(N){return this._lines.getViewLineContent(N)}getLineLength(N){return this._lines.getViewLineLength(N)}getLineMinColumn(N){return this._lines.getViewLineMinColumn(N)}getLineMaxColumn(N){return this._lines.getViewLineMaxColumn(N)}getLineFirstNonWhitespaceColumn(N){const P=p.firstNonWhitespaceIndex(this.getLineContent(N));return P===-1?0:P+1}getLineLastNonWhitespaceColumn(N){const P=p.lastNonWhitespaceIndex(this.getLineContent(N));return P===-1?0:P+2}getMinimapDecorationsInRange(N){return this._decorations.getMinimapDecorationsInRange(N)}getDecorationsInViewport(N){return this._decorations.getDecorationsViewportData(N).decorations}getInjectedTextAt(N){return this._lines.getInjectedTextAt(N)}getViewportViewLineRenderingData(N,P){const O=this._decorations.getDecorationsViewportData(N).inlineDecorations[P-N.startLineNumber];return this._getViewLineRenderingData(P,O)}getViewLineRenderingData(N){const P=this._decorations.getInlineDecorationsOnLine(N);return this._getViewLineRenderingData(N,P)}_getViewLineRenderingData(N,P){const F=this.model.mightContainRTL(),O=this.model.mightContainNonBasicASCII(),B=this.getTabSize(),W=this._lines.getViewLineData(N);return W.inlineDecorations&&(P=[...P,...W.inlineDecorations.map(V=>V.toInlineDecoration(N))]),new s.ViewLineRenderingData(W.minColumn,W.maxColumn,W.content,W.continuesWithWrappedLine,F,O,W.tokens,P,B,W.startVisibleColumn)}getViewLineData(N){return this._lines.getViewLineData(N)}getMinimapLinesRenderingData(N,P,F){const O=this._lines.getViewLinesData(N,P,F);return new s.MinimapLinesRenderingData(this.getTabSize(),O)}getAllOverviewRulerDecorations(N){const P=this.model.getOverviewRulerDecorations(this._editorId,(0,w.filterValidationDecorations)(this._configuration.options)),F=new E;for(const O of P){const B=O.options,W=B.overviewRuler;if(!W)continue;const V=W.position;if(V===0)continue;const z=W.getColor(N.value),K=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.startLineNumber,O.range.startColumn),j=this.coordinatesConverter.getViewLineNumberOfModelPosition(O.range.endLineNumber,O.range.endColumn);F.accept(z,B.zIndex,K,j,V)}return F.asArray}_invalidateDecorationsColorCache(){const N=this.model.getOverviewRulerDecorations();for(const P of N){const F=P.options.overviewRuler;F?.invalidateCachedColor();const O=P.options.minimap;O?.invalidateCachedColor()}}getValueInRange(N,P){const F=this.coordinatesConverter.convertViewRangeToModelRange(N);return this.model.getValueInRange(F,P)}getValueLengthInRange(N,P){const F=this.coordinatesConverter.convertViewRangeToModelRange(N);return this.model.getValueLengthInRange(F,P)}modifyPosition(N,P){const F=this.coordinatesConverter.convertViewPositionToModelPosition(N),O=this.model.modifyPosition(F,P);return this.coordinatesConverter.convertModelPositionToViewPosition(O)}deduceModelPositionRelativeToViewPosition(N,P,F){const O=this.coordinatesConverter.convertViewPositionToModelPosition(N);this.model.getEOL().length===2&&(P<0?P-=F:P+=F);const W=this.model.getOffsetAt(O)+P;return this.model.getPositionAt(W)}getPlainTextToCopy(N,P,F){const O=F?`\r
`:this.model.getEOL();N=N.slice(0),N.sort(n.Range.compareRangesUsingStarts);let B=!1,W=!1;for(const z of N)z.isEmpty()?B=!0:W=!0;if(!W){if(!P)return"";const z=N.map(j=>j.startLineNumber);let K="";for(let j=0;j<z.length;j++)j>0&&z[j-1]===z[j]||(K+=this.model.getLineContent(z[j])+O);return K}if(B&&P){const z=[];let K=0;for(const j of N){const x=j.startLineNumber;j.isEmpty()?x!==K&&z.push(this.model.getLineContent(x)):z.push(this.model.getValueInRange(j,F?2:0)),K=x}return z.length===1?z[0]:z}const V=[];for(const z of N)z.isEmpty()||V.push(this.model.getValueInRange(z,F?2:0));return V.length===1?V[0]:V}getRichTextToCopy(N,P){const F=this.model.getLanguageId();if(F===o.PLAINTEXT_LANGUAGE_ID||N.length!==1)return null;let O=N[0];if(O.isEmpty()){if(!P)return null;const j=O.startLineNumber;O=new n.Range(j,this.model.getLineMinColumn(j),j,this.model.getLineMaxColumn(j))}const B=this._configuration.options.get(50),W=this._getColorMap(),z=/[:;\\\/<>]/.test(B.fontFamily)||B.fontFamily===w.EDITOR_FONT_DEFAULTS.fontFamily;let K;return z?K=w.EDITOR_FONT_DEFAULTS.fontFamily:(K=B.fontFamily,K=K.replace(/"/g,"'"),/[,']/.test(K)||/[+ ]/.test(K)&&(K=`'${K}'`),K=`${K}, ${w.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:F,html:`<div style="color: ${W[1]};background-color: ${W[2]};font-family: ${K};font-weight: ${B.fontWeight};font-size: ${B.fontSize}px;line-height: ${B.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(O,W)+"</div>"}}_getHTMLToCopy(N,P){const F=N.startLineNumber,O=N.startColumn,B=N.endLineNumber,W=N.endColumn,V=this.getTabSize();let z="";for(let K=F;K<=B;K++){const j=this.model.tokenization.getLineTokens(K),x=j.getLineContent(),re=K===F?O-1:0,ie=K===B?W-1:x.length;x===""?z+="<br>":z+=(0,g.tokenizeLineToHTML)(x,j.inflate(),P,re,ie,V,S.isWindows)}return z}_getColorMap(){const N=t.TokenizationRegistry.getColorMap(),P=["#000000"];if(N)for(let F=1,O=N.length;F<O;F++)P[F]=y.Color.Format.CSS.formatHex(N[F]);return P}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(N,P,F){return this._withViewEventsCollector(O=>this._cursor.setStates(O,N,P,F))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(N){this._cursor.setCursorColumnSelectData(N)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(N){this._cursor.setPrevEditOperationType(N)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(N,P,F=0){this._withViewEventsCollector(O=>this._cursor.setSelections(O,N,P,F))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(N){this._withViewEventsCollector(P=>this._cursor.restoreState(P,N))}_executeCursorEdit(N){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new r.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(N)}executeEdits(N,P,F){this._executeCursorEdit(O=>this._cursor.executeEdits(O,N,P,F))}startComposition(){this._executeCursorEdit(N=>this._cursor.startComposition(N))}endComposition(N){this._executeCursorEdit(P=>this._cursor.endComposition(P,N))}type(N,P){this._executeCursorEdit(F=>this._cursor.type(F,N,P))}compositionType(N,P,F,O,B){this._executeCursorEdit(W=>this._cursor.compositionType(W,N,P,F,O,B))}paste(N,P,F,O){this._executeCursorEdit(B=>this._cursor.paste(B,N,P,F,O))}cut(N){this._executeCursorEdit(P=>this._cursor.cut(P,N))}executeCommand(N,P){this._executeCursorEdit(F=>this._cursor.executeCommand(F,N,P))}executeCommands(N,P){this._executeCursorEdit(F=>this._cursor.executeCommands(F,N,P))}revealPrimaryCursor(N,P,F=!1){this._withViewEventsCollector(O=>this._cursor.revealPrimary(O,N,F,0,P,0))}revealTopMostCursor(N){const P=this._cursor.getTopMostViewPosition(),F=new n.Range(P.lineNumber,P.column,P.lineNumber,P.column);this._withViewEventsCollector(O=>O.emitViewEvent(new m.ViewRevealRangeRequestEvent(N,!1,F,null,0,!0,0)))}revealBottomMostCursor(N){const P=this._cursor.getBottomMostViewPosition(),F=new n.Range(P.lineNumber,P.column,P.lineNumber,P.column);this._withViewEventsCollector(O=>O.emitViewEvent(new m.ViewRevealRangeRequestEvent(N,!1,F,null,0,!0,0)))}revealRange(N,P,F,O,B){this._withViewEventsCollector(W=>W.emitViewEvent(new m.ViewRevealRangeRequestEvent(N,!1,F,null,O,P,B)))}changeWhitespace(N){this.viewLayout.changeWhitespace(N)&&(this._eventDispatcher.emitSingleViewEvent(new m.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new r.ViewZonesChangedEvent))}_withViewEventsCollector(N){try{const P=this._eventDispatcher.beginEmitViewEvents();return N(P)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(N,P){return this._lines.normalizePosition(N,P)}getLineIndentColumn(N){return this._lines.getLineIndentColumn(N)}}e.ViewModel=C;class _{static create(N){const P=N._setTrackedRange(null,new n.Range(1,1,1,1),1);return new _(N,1,!1,P,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(N,P,F,O,B){this._model=N,this._viewLineNumber=P,this._isValid=F,this._modelTrackedRange=O,this._startLineDelta=B}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(N,P){const F=N.coordinatesConverter.convertViewPositionToModelPosition(new a.Position(P,N.getLineMinColumn(P))),O=N.model._setTrackedRange(this._modelTrackedRange,new n.Range(F.lineNumber,F.column,F.lineNumber,F.column),1),B=N.viewLayout.getVerticalOffsetForLineNumber(P),W=N.viewLayout.getCurrentScrollTop();this._viewLineNumber=P,this._isValid=!0,this._modelTrackedRange=O,this._startLineDelta=W-B}invalidate(){this._isValid=!1}}class E{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(N,P,F,O,B){const W=this._asMap[N];if(W){const V=W.data,z=V[V.length-3],K=V[V.length-1];if(z===B&&K+1>=F){O>K&&(V[V.length-1]=O);return}V.push(B,F,O)}else{const V=new s.OverviewRulerDecorationsGroup(N,P,[B,F,O]);this._asMap[N]=V,this.asArray.push(V)}}}class I{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(N,P){const F=this.hiddenAreas.get(N);F&&A(F,P)||(this.hiddenAreas.set(N,P),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const N=Array.from(this.hiddenAreas.values()).reduce((P,F)=>T(P,F),[]);return A(this.ranges,N)?this.ranges:(this.ranges=N,this.ranges)}}function T(M,N){const P=[];let F=0,O=0;for(;F<M.length&&O<N.length;){const B=M[F],W=N[O];if(B.endLineNumber<W.startLineNumber-1)P.push(M[F++]);else if(W.endLineNumber<B.startLineNumber-1)P.push(N[O++]);else{const V=Math.min(B.startLineNumber,W.startLineNumber),z=Math.max(B.endLineNumber,W.endLineNumber);P.push(new n.Range(V,1,z,1)),F++,O++}}for(;F<M.length;)P.push(M[F++]);for(;O<N.length;)P.push(N[O++]);return P}function A(M,N){if(M.length!==N.length)return!1;for(let P=0;P<M.length;P++)if(!M[P].equalsRange(N[P]))return!1;return!0}class R{constructor(N,P){this.viewportStartModelPosition=N,this.startLineDelta=P}recoverViewportStart(N,P){if(!this.viewportStartModelPosition)return;const F=N.convertModelPositionToViewPosition(this.viewportStartModelPosition),O=P.getVerticalOffsetForLineNumber(F.lineNumber);P.setScrollPosition({scrollTop:O+this.startLineDelta},1)}}}),define(ne[200],se([1,0,6,12,7,2,47,74,781,208,16,35,872,619,287,617,36,85,83,9,5,23,184,295,183,21,33,38,18,557,898,631,71,25,14,8,165,49,31,24,817,458]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_,E,I,T,A,R,M,N,P,F,O,B,W){"use strict";var V;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let z=0;class K{constructor(H,q,te,G,$,oe){this.model=H,this.viewModel=q,this.view=te,this.hasRealView=G,this.listenersToRemove=$,this.attachedView=oe}dispose(){(0,D.dispose)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let j=V=class extends D.Disposable{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(H,q,te,G,$,oe,ae,ue,ce,fe,ve,Ce){var Se;super(),this.languageConfigurationService=ve,this._deliveryQueue=(0,y.createEventDeliveryQueue)(),this._contributions=this._register(new o.CodeEditorContributions),this._onDidDispose=this._register(new y.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new re(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new x({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new x({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new re(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new re(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new re(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new re(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new re(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new re(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new re(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new re(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new re(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new re(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new y.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),$.willCreateCodeEditor();const _e={...q};this._domElement=H,this._overflowWidgetsDomNode=_e.overflowWidgetsDomNode,delete _e.overflowWidgetsDomNode,this._id=++z,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=te.telemetryData,this._configuration=this._register(this._createConfiguration(te.isSimpleWidget||!1,_e,fe)),this._register(this._configuration.onDidChange(Oe=>{this._onDidChangeConfiguration.fire(Oe);const xe=this._configuration.options;if(Oe.hasChanged(144)){const We=xe.get(144);this._onDidLayoutChange.fire(We)}})),this._contextKeyService=this._register(ae.createScoped(this._domElement)),this._notificationService=ce,this._codeEditorService=$,this._commandService=oe,this._themeService=ue,this._register(new ie(this,this._contextKeyService)),this._register(new J(this,this._contextKeyService,Ce)),this._instantiationService=G.createChild(new F.ServiceCollection([N.IContextKeyService,this._contextKeyService])),this._modelData=null,this._focusTracker=new X(H,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let Ie;Array.isArray(te.contributions)?Ie=te.contributions:Ie=b.EditorExtensionsRegistry.getEditorContributions(),this._contributions.initialize(this,Ie,this._instantiationService);for(const Oe of b.EditorExtensionsRegistry.getEditorActions()){if(this._actions.has(Oe.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${Oe.id}`));continue}const xe=new h.InternalEditorAction(Oe.id,Oe.label,Oe.alias,Oe.metadata,(Se=Oe.precondition)!==null&&Se!==void 0?Se:void 0,We=>this._instantiationService.invokeFunction(ye=>Promise.resolve(Oe.runEditorCommand(ye,this,We))),this._contextKeyService);this._actions.set(xe.id,xe)}const Ne=()=>!this._configuration.options.get(91)&&this._configuration.options.get(36).enabled;this._register(new L.DragAndDropObserver(this._domElement,{onDragOver:Oe=>{if(!Ne())return;const xe=this.getTargetAtClientPoint(Oe.clientX,Oe.clientY);xe?.position&&this.showDropIndicatorAt(xe.position)},onDrop:async Oe=>{if(!Ne()||(this.removeDropIndicator(),!Oe.dataTransfer))return;const xe=this.getTargetAtClientPoint(Oe.clientX,Oe.clientY);xe?.position&&this._onDropIntoEditor.fire({position:xe.position,event:Oe})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(H){var q;(q=this._modelData)===null||q===void 0||q.view.writeScreenReaderContent(H)}_createConfiguration(H,q,te){return new w.EditorConfiguration(H,q,this._domElement,te)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return u.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(H){return this._instantiationService.invokeFunction(H)}updateOptions(H){this._configuration.updateOptions(H||{})}getOptions(){return this._configuration.options}getOption(H){return this._configuration.options.get(H)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(H){return this._modelData?r.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(130),H):null}getValue(H=null){if(!this._modelData)return"";const q=!!(H&&H.preserveBOM);let te=0;return H&&H.lineEnding&&H.lineEnding===`
`?te=1:H&&H.lineEnding&&H.lineEnding===`\r
`&&(te=2),this._modelData.model.getValue(te,q)}setValue(H){this._modelData&&this._modelData.model.setValue(H)}getModel(){return this._modelData?this._modelData.model:null}setModel(H=null){var q;const te=H;if(this._modelData===null&&te===null||this._modelData&&this._modelData.model===te)return;const G={oldModelUrl:((q=this._modelData)===null||q===void 0?void 0:q.model.uri)||null,newModelUrl:te?.uri||null};this._onWillChangeModel.fire(G);const $=this.hasTextFocus(),oe=this._detachModel();this._attachModel(te),$&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire(G),this._postDetachModelCleanup(oe),this._contributionsDisposable=this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const H in this._decorationTypeSubtypes){const q=this._decorationTypeSubtypes[H];for(const te in q)this._removeDecorationType(H+"-"+te)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(H,q,te,G){const $=H.model.validatePosition({lineNumber:q,column:te}),oe=H.viewModel.coordinatesConverter.convertModelPositionToViewPosition($);return H.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(oe.lineNumber,G)}getTopForLineNumber(H,q=!1){return this._modelData?V._getVerticalOffsetForPosition(this._modelData,H,1,q):-1}getTopForPosition(H,q){return this._modelData?V._getVerticalOffsetForPosition(this._modelData,H,q,!1):-1}static _getVerticalOffsetForPosition(H,q,te,G=!1){const $=H.model.validatePosition({lineNumber:q,column:te}),oe=H.viewModel.coordinatesConverter.convertModelPositionToViewPosition($);return H.viewModel.viewLayout.getVerticalOffsetForLineNumber(oe.lineNumber,G)}getBottomForLineNumber(H,q=!1){return this._modelData?V._getVerticalOffsetAfterPosition(this._modelData,H,1,q):-1}setHiddenAreas(H,q){var te;(te=this._modelData)===null||te===void 0||te.viewModel.setHiddenAreas(H.map(G=>s.Range.lift(G)),q)}getVisibleColumnFromPosition(H){if(!this._modelData)return H.column;const q=this._modelData.model.validatePosition(H),te=this._modelData.model.getOptions().tabSize;return m.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(q.lineNumber),q.column,te)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(H,q="api"){if(this._modelData){if(!d.Position.isIPosition(H))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(q,[{selectionStartLineNumber:H.lineNumber,selectionStartColumn:H.column,positionLineNumber:H.lineNumber,positionColumn:H.column}])}}_sendRevealRange(H,q,te,G){if(!this._modelData)return;if(!s.Range.isIRange(H))throw new Error("Invalid arguments");const $=this._modelData.model.validateRange(H),oe=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange($);this._modelData.viewModel.revealRange("api",te,oe,q,G)}revealLine(H,q=0){this._revealLine(H,0,q)}revealLineInCenter(H,q=0){this._revealLine(H,1,q)}revealLineInCenterIfOutsideViewport(H,q=0){this._revealLine(H,2,q)}revealLineNearTop(H,q=0){this._revealLine(H,5,q)}_revealLine(H,q,te){if(typeof H!="number")throw new Error("Invalid arguments");this._sendRevealRange(new s.Range(H,1,H,1),q,!1,te)}revealPosition(H,q=0){this._revealPosition(H,0,!0,q)}revealPositionInCenter(H,q=0){this._revealPosition(H,1,!0,q)}revealPositionInCenterIfOutsideViewport(H,q=0){this._revealPosition(H,2,!0,q)}revealPositionNearTop(H,q=0){this._revealPosition(H,5,!0,q)}_revealPosition(H,q,te,G){if(!d.Position.isIPosition(H))throw new Error("Invalid arguments");this._sendRevealRange(new s.Range(H.lineNumber,H.column,H.lineNumber,H.column),q,te,G)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(H,q="api"){const te=l.Selection.isISelection(H),G=s.Range.isIRange(H);if(!te&&!G)throw new Error("Invalid arguments");if(te)this._setSelectionImpl(H,q);else if(G){const $={selectionStartLineNumber:H.startLineNumber,selectionStartColumn:H.startColumn,positionLineNumber:H.endLineNumber,positionColumn:H.endColumn};this._setSelectionImpl($,q)}}_setSelectionImpl(H,q){if(!this._modelData)return;const te=new l.Selection(H.selectionStartLineNumber,H.selectionStartColumn,H.positionLineNumber,H.positionColumn);this._modelData.viewModel.setSelections(q,[te])}revealLines(H,q,te=0){this._revealLines(H,q,0,te)}revealLinesInCenter(H,q,te=0){this._revealLines(H,q,1,te)}revealLinesInCenterIfOutsideViewport(H,q,te=0){this._revealLines(H,q,2,te)}revealLinesNearTop(H,q,te=0){this._revealLines(H,q,5,te)}_revealLines(H,q,te,G){if(typeof H!="number"||typeof q!="number")throw new Error("Invalid arguments");this._sendRevealRange(new s.Range(H,1,q,1),te,!1,G)}revealRange(H,q=0,te=!1,G=!0){this._revealRange(H,te?1:0,G,q)}revealRangeInCenter(H,q=0){this._revealRange(H,1,!0,q)}revealRangeInCenterIfOutsideViewport(H,q=0){this._revealRange(H,2,!0,q)}revealRangeNearTop(H,q=0){this._revealRange(H,5,!0,q)}revealRangeNearTopIfOutsideViewport(H,q=0){this._revealRange(H,6,!0,q)}revealRangeAtTop(H,q=0){this._revealRange(H,3,!0,q)}_revealRange(H,q,te,G){if(!s.Range.isIRange(H))throw new Error("Invalid arguments");this._sendRevealRange(s.Range.lift(H),q,te,G)}setSelections(H,q="api",te=0){if(this._modelData){if(!H||H.length===0)throw new Error("Invalid arguments");for(let G=0,$=H.length;G<$;G++)if(!l.Selection.isISelection(H[G]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(q,H,te)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(H,q=1){if(this._modelData){if(typeof H!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:H},q)}}setScrollTop(H,q=1){if(this._modelData){if(typeof H!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:H},q)}}setScrollPosition(H,q=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(H,q)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const H=this._contributions.saveViewState(),q=this._modelData.viewModel.saveCursorState(),te=this._modelData.viewModel.saveState();return{cursorState:q,viewState:te,contributionsState:H}}restoreViewState(H){if(!this._modelData||!this._modelData.hasRealView)return;const q=H;if(q&&q.cursorState&&q.viewState){const te=q.cursorState;Array.isArray(te)?te.length>0&&this._modelData.viewModel.restoreCursorState(te):this._modelData.viewModel.restoreCursorState([te]),this._contributions.restoreViewState(q.contributionsState||{});const G=this._modelData.viewModel.reduceRestoreState(q.viewState);this._modelData.view.restoreState(G)}}handleInitialized(){var H;(H=this._getViewModel())===null||H===void 0||H.visibleLinesStabilized()}getContribution(H){return this._contributions.get(H)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let H=this.getActions();return H=H.filter(q=>q.isSupported()),H}getAction(H){return this._actions.get(H)||null}trigger(H,q,te){switch(te=te||{},q){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(H);return;case"type":{const $=te;this._type(H,$.text||"");return}case"replacePreviousChar":{const $=te;this._compositionType(H,$.text||"",$.replaceCharCnt||0,0,0);return}case"compositionType":{const $=te;this._compositionType(H,$.text||"",$.replacePrevCharCnt||0,$.replaceNextCharCnt||0,$.positionDelta||0);return}case"paste":{const $=te;this._paste(H,$.text||"",$.pasteOnNewLine||!1,$.multicursorText||null,$.mode||null);return}case"cut":this._cut(H);return}const G=this.getAction(q);if(G){Promise.resolve(G.run(te)).then(void 0,k.onUnexpectedError);return}this._modelData&&(this._triggerEditorCommand(H,q,te)||this._triggerCommand(q,te))}_triggerCommand(H,q){this._commandService.executeCommand(H,q)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(H){this._modelData&&(this._modelData.viewModel.endComposition(H),this._onDidCompositionEnd.fire())}_type(H,q){!this._modelData||q.length===0||(H==="keyboard"&&this._onWillType.fire(q),this._modelData.viewModel.type(q,H),H==="keyboard"&&this._onDidType.fire(q))}_compositionType(H,q,te,G,$){this._modelData&&this._modelData.viewModel.compositionType(q,te,G,$,H)}_paste(H,q,te,G,$){if(!this._modelData||q.length===0)return;const oe=this._modelData.viewModel,ae=oe.getSelection().getStartPosition();oe.paste(q,te,G,H);const ue=oe.getSelection().getStartPosition();H==="keyboard"&&this._onDidPaste.fire({range:new s.Range(ae.lineNumber,ae.column,ue.lineNumber,ue.column),languageId:$})}_cut(H){this._modelData&&this._modelData.viewModel.cut(H)}_triggerEditorCommand(H,q,te){const G=b.EditorExtensionsRegistry.getEditorCommand(q);return G?(te=te||{},te.source=H,this._instantiationService.invokeFunction($=>{Promise.resolve(G.runEditorCommand($,this,te)).then(void 0,k.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(H,q,te){if(!this._modelData||this._configuration.options.get(91))return!1;let G;return te?Array.isArray(te)?G=()=>te:G=te:G=()=>null,this._modelData.viewModel.executeEdits(H,q,G),!0}executeCommand(H,q){this._modelData&&this._modelData.viewModel.executeCommand(q,H)}executeCommands(H,q){this._modelData&&this._modelData.viewModel.executeCommands(q,H)}createDecorationsCollection(H){return new Y(this,H)}changeDecorations(H){return this._modelData?this._modelData.model.changeDecorations(H,this._id):null}getLineDecorations(H){return this._modelData?this._modelData.model.getLineDecorations(H,this._id,(0,g.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(H){return this._modelData?this._modelData.model.getDecorationsInRange(H,this._id,(0,g.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(H,q){return this._modelData?H.length===0&&q.length===0?H:this._modelData.model.deltaDecorations(H,q,this._id):[]}removeDecorations(H){!this._modelData||H.length===0||this._modelData.model.changeDecorations(q=>{q.deltaDecorations(H,[])})}removeDecorationsByType(H){const q=this._decorationTypeKeysToIds[H];q&&this.changeDecorations(te=>te.deltaDecorations(q,[])),this._decorationTypeKeysToIds.hasOwnProperty(H)&&delete this._decorationTypeKeysToIds[H],this._decorationTypeSubtypes.hasOwnProperty(H)&&delete this._decorationTypeSubtypes[H]}getLayoutInfo(){return this._configuration.options.get(144)}createOverviewRuler(H){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(H)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(H){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(H)}delegateScrollFromMouseWheelEvent(H){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(H)}layout(H,q=!1){this._configuration.observeContainer(H),q||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(H){const q={widget:H,position:H.getPosition()};this._contentWidgets.hasOwnProperty(H.getId())&&console.warn("Overwriting a content widget with the same id:"+H.getId()),this._contentWidgets[H.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(q)}layoutContentWidget(H){const q=H.getId();if(this._contentWidgets.hasOwnProperty(q)){const te=this._contentWidgets[q];te.position=H.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(te)}}removeContentWidget(H){const q=H.getId();if(this._contentWidgets.hasOwnProperty(q)){const te=this._contentWidgets[q];delete this._contentWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(te)}}addOverlayWidget(H){const q={widget:H,position:H.getPosition()};this._overlayWidgets.hasOwnProperty(H.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[H.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(q)}layoutOverlayWidget(H){const q=H.getId();if(this._overlayWidgets.hasOwnProperty(q)){const te=this._overlayWidgets[q];te.position=H.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(te)}}removeOverlayWidget(H){const q=H.getId();if(this._overlayWidgets.hasOwnProperty(q)){const te=this._overlayWidgets[q];delete this._overlayWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(te)}}addGlyphMarginWidget(H){const q={widget:H,position:H.getPosition()};this._glyphMarginWidgets.hasOwnProperty(H.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[H.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(q)}layoutGlyphMarginWidget(H){const q=H.getId();if(this._glyphMarginWidgets.hasOwnProperty(q)){const te=this._glyphMarginWidgets[q];te.position=H.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(te)}}removeGlyphMarginWidget(H){const q=H.getId();if(this._glyphMarginWidgets.hasOwnProperty(q)){const te=this._glyphMarginWidgets[q];delete this._glyphMarginWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(te)}}changeViewZones(H){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(H)}getTargetAtClientPoint(H,q){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(H,q)}getScrolledVisiblePosition(H){if(!this._modelData||!this._modelData.hasRealView)return null;const q=this._modelData.model.validatePosition(H),te=this._configuration.options,G=te.get(144),$=V._getVerticalOffsetForPosition(this._modelData,q.lineNumber,q.column)-this.getScrollTop(),oe=this._modelData.view.getOffsetForColumn(q.lineNumber,q.column)+G.glyphMarginWidth+G.lineNumbersWidth+G.decorationsWidth-this.getScrollLeft();return{top:$,left:oe,height:te.get(67)}}getOffsetForColumn(H,q){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(H,q)}render(H=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,H)}setAriaOptions(H){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(H)}applyFontInfo(H){(0,p.applyFontInfo)(H,this._configuration.options.get(50))}setBanner(H,q){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=H,this._configuration.setReservedHeight(H?q:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(H){if(!H){this._modelData=null;return}const q=[];this._domElement.setAttribute("data-mode-id",H.getLanguageId()),this._configuration.setIsDominatedByLongLines(H.isDominatedByLongLines()),this._configuration.setModelLineCount(H.getLineCount());const te=H.onBeforeAttached(),G=new T.ViewModel(this._id,this._configuration,H,i.DOMLineBreaksComputerFactory.create(L.getWindow(this._domElement)),I.MonospaceLineBreaksComputerFactory.create(this._configuration.options),ae=>L.scheduleAtNextAnimationFrame(L.getWindow(this._domElement),ae),this.languageConfigurationService,this._themeService,te);q.push(H.onWillDispose(()=>this.setModel(null))),q.push(G.onEvent(ae=>{switch(ae.kind){case 0:this._onDidContentSizeChange.fire(ae);break;case 1:this._editorTextFocus.setValue(ae.hasFocus);break;case 2:this._onDidScrollChange.fire(ae);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(ae.reachedMaxCursorCount){const ve=this.getOption(80),Ce=A.localize(0,null,ve);this._notificationService.prompt(O.Severity.Warning,Ce,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:A.localize(1,null),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const ue=[];for(let ve=0,Ce=ae.selections.length;ve<Ce;ve++)ue[ve]=ae.selections[ve].getPosition();const ce={position:ue[0],secondaryPositions:ue.slice(1),reason:ae.reason,source:ae.source};this._onDidChangeCursorPosition.fire(ce);const fe={selection:ae.selections[0],secondarySelections:ae.selections.slice(1),modelVersionId:ae.modelVersionId,oldSelections:ae.oldSelections,oldModelVersionId:ae.oldModelVersionId,source:ae.source,reason:ae.reason};this._onDidChangeCursorSelection.fire(fe);break}case 7:this._onDidChangeModelDecorations.fire(ae.event);break;case 8:this._domElement.setAttribute("data-mode-id",H.getLanguageId()),this._onDidChangeModelLanguage.fire(ae.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(ae.event);break;case 10:this._onDidChangeModelContent.fire(ae.event);break;case 11:this._onDidChangeModelOptions.fire(ae.event);break;case 12:this._onDidChangeModelTokens.fire(ae.event);break}}));const[$,oe]=this._createView(G);if(oe){this._domElement.appendChild($.domNode.domNode);let ae=Object.keys(this._contentWidgets);for(let ue=0,ce=ae.length;ue<ce;ue++){const fe=ae[ue];$.addContentWidget(this._contentWidgets[fe])}ae=Object.keys(this._overlayWidgets);for(let ue=0,ce=ae.length;ue<ce;ue++){const fe=ae[ue];$.addOverlayWidget(this._overlayWidgets[fe])}ae=Object.keys(this._glyphMarginWidgets);for(let ue=0,ce=ae.length;ue<ce;ue++){const fe=ae[ue];$.addGlyphMarginWidget(this._glyphMarginWidgets[fe])}$.render(!1,!0),$.domNode.domNode.setAttribute("data-uri",H.uri.toString())}this._modelData=new K(H,G,$,oe,q,te)}_createView(H){let q;this.isSimpleWidget?q={paste:($,oe,ae,ue)=>{this._paste("keyboard",$,oe,ae,ue)},type:$=>{this._type("keyboard",$)},compositionType:($,oe,ae,ue)=>{this._compositionType("keyboard",$,oe,ae,ue)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:q={paste:($,oe,ae,ue)=>{const ce={text:$,pasteOnNewLine:oe,multicursorText:ae,mode:ue};this._commandService.executeCommand("paste",ce)},type:$=>{const oe={text:$};this._commandService.executeCommand("type",oe)},compositionType:($,oe,ae,ue)=>{if(ae||ue){const ce={text:$,replacePrevCharCnt:oe,replaceNextCharCnt:ae,positionDelta:ue};this._commandService.executeCommand("compositionType",ce)}else{const ce={text:$,replaceCharCnt:oe};this._commandService.executeCommand("replacePreviousChar",ce)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const te=new t.ViewUserInputEvents(H.coordinatesConverter);return te.onKeyDown=$=>this._onKeyDown.fire($),te.onKeyUp=$=>this._onKeyUp.fire($),te.onContextMenu=$=>this._onContextMenu.fire($),te.onMouseMove=$=>this._onMouseMove.fire($),te.onMouseLeave=$=>this._onMouseLeave.fire($),te.onMouseDown=$=>this._onMouseDown.fire($),te.onMouseUp=$=>this._onMouseUp.fire($),te.onMouseDrag=$=>this._onMouseDrag.fire($),te.onMouseDrop=$=>this._onMouseDrop.fire($),te.onMouseDropCanceled=$=>this._onMouseDropCanceled.fire($),te.onMouseWheel=$=>this._onMouseWheel.fire($),[new n.View(q,this._configuration,this._themeService.getColorTheme(),H,te,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(H){H?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){var H;if((H=this._contributionsDisposable)===null||H===void 0||H.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;const q=this._modelData.model,te=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),te&&this._domElement.contains(te)&&this._domElement.removeChild(te),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),q}_removeDecorationType(H){this._codeEditorService.removeDecorationType(H)}hasModel(){return this._modelData!==null}showDropIndicatorAt(H){const q=[{range:new s.Range(H.lineNumber,H.column,H.lineNumber,H.column),options:V.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(q),this.revealPosition(H,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(H,q){this._contextKeyService.createKey(H,q)}};e.CodeEditorWidget=j,j.dropIntoEditorDecorationOptions=_.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),e.CodeEditorWidget=j=V=De([he(3,P.IInstantiationService),he(4,a.ICodeEditorService),he(5,M.ICommandService),he(6,N.IContextKeyService),he(7,W.IThemeService),he(8,O.INotificationService),he(9,R.IAccessibilityService),he(10,C.ILanguageConfigurationService),he(11,E.ILanguageFeaturesService)],j);class x extends D.Disposable{constructor(H){super(),this._emitterOptions=H,this._onDidChangeToTrue=this._register(new y.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new y.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(H){const q=H?2:1;this._value!==q&&(this._value=q,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=x;class re extends y.Emitter{constructor(H,q){super({deliveryQueue:q}),this._contributions=H}fire(H){this._contributions.onBeforeInteractionEvent(),super.fire(H)}}class ie extends D.Disposable{constructor(H,q){super(),this._editor=H,q.createKey("editorId",H.getId()),this._editorSimpleInput=f.EditorContextKeys.editorSimpleInput.bindTo(q),this._editorFocus=f.EditorContextKeys.focus.bindTo(q),this._textInputFocus=f.EditorContextKeys.textInputFocus.bindTo(q),this._editorTextFocus=f.EditorContextKeys.editorTextFocus.bindTo(q),this._tabMovesFocus=f.EditorContextKeys.tabMovesFocus.bindTo(q),this._editorReadonly=f.EditorContextKeys.readOnly.bindTo(q),this._inDiffEditor=f.EditorContextKeys.inDiffEditor.bindTo(q),this._editorColumnSelection=f.EditorContextKeys.columnSelection.bindTo(q),this._hasMultipleSelections=f.EditorContextKeys.hasMultipleSelections.bindTo(q),this._hasNonEmptySelection=f.EditorContextKeys.hasNonEmptySelection.bindTo(q),this._canUndo=f.EditorContextKeys.canUndo.bindTo(q),this._canRedo=f.EditorContextKeys.canRedo.bindTo(q),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(v.TabFocus.onDidChangeTabFocus(te=>this._tabMovesFocus.set(te))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const H=this._editor.getOptions();this._tabMovesFocus.set(v.TabFocus.getTabFocusMode()),this._editorReadonly.set(H.get(91)),this._inDiffEditor.set(H.get(61)),this._editorColumnSelection.set(H.get(22))}_updateFromSelection(){const H=this._editor.getSelections();H?(this._hasMultipleSelections.set(H.length>1),this._hasNonEmptySelection.set(H.some(q=>!q.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const H=this._editor.getModel();this._canUndo.set(!!(H&&H.canUndo())),this._canRedo.set(!!(H&&H.canRedo()))}}class J extends D.Disposable{constructor(H,q,te){super(),this._editor=H,this._contextKeyService=q,this._languageFeaturesService=te,this._langId=f.EditorContextKeys.languageId.bindTo(q),this._hasCompletionItemProvider=f.EditorContextKeys.hasCompletionItemProvider.bindTo(q),this._hasCodeActionsProvider=f.EditorContextKeys.hasCodeActionsProvider.bindTo(q),this._hasCodeLensProvider=f.EditorContextKeys.hasCodeLensProvider.bindTo(q),this._hasDefinitionProvider=f.EditorContextKeys.hasDefinitionProvider.bindTo(q),this._hasDeclarationProvider=f.EditorContextKeys.hasDeclarationProvider.bindTo(q),this._hasImplementationProvider=f.EditorContextKeys.hasImplementationProvider.bindTo(q),this._hasTypeDefinitionProvider=f.EditorContextKeys.hasTypeDefinitionProvider.bindTo(q),this._hasHoverProvider=f.EditorContextKeys.hasHoverProvider.bindTo(q),this._hasDocumentHighlightProvider=f.EditorContextKeys.hasDocumentHighlightProvider.bindTo(q),this._hasDocumentSymbolProvider=f.EditorContextKeys.hasDocumentSymbolProvider.bindTo(q),this._hasReferenceProvider=f.EditorContextKeys.hasReferenceProvider.bindTo(q),this._hasRenameProvider=f.EditorContextKeys.hasRenameProvider.bindTo(q),this._hasSignatureHelpProvider=f.EditorContextKeys.hasSignatureHelpProvider.bindTo(q),this._hasInlayHintsProvider=f.EditorContextKeys.hasInlayHintsProvider.bindTo(q),this._hasDocumentFormattingProvider=f.EditorContextKeys.hasDocumentFormattingProvider.bindTo(q),this._hasDocumentSelectionFormattingProvider=f.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(q),this._hasMultipleDocumentFormattingProvider=f.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(q),this._hasMultipleDocumentSelectionFormattingProvider=f.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(q),this._isInEmbeddedEditor=f.EditorContextKeys.isInEmbeddedEditor.bindTo(q);const G=()=>this._update();this._register(H.onDidChangeModel(G)),this._register(H.onDidChangeModelLanguage(G)),this._register(te.completionProvider.onDidChange(G)),this._register(te.codeActionProvider.onDidChange(G)),this._register(te.codeLensProvider.onDidChange(G)),this._register(te.definitionProvider.onDidChange(G)),this._register(te.declarationProvider.onDidChange(G)),this._register(te.implementationProvider.onDidChange(G)),this._register(te.typeDefinitionProvider.onDidChange(G)),this._register(te.hoverProvider.onDidChange(G)),this._register(te.documentHighlightProvider.onDidChange(G)),this._register(te.documentSymbolProvider.onDidChange(G)),this._register(te.referenceProvider.onDidChange(G)),this._register(te.renameProvider.onDidChange(G)),this._register(te.documentFormattingEditProvider.onDidChange(G)),this._register(te.documentRangeFormattingEditProvider.onDidChange(G)),this._register(te.signatureHelpProvider.onDidChange(G)),this._register(te.inlayHintsProvider.onDidChange(G)),G()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInEmbeddedEditor.reset()})}_update(){const H=this._editor.getModel();if(!H){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(H.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(H)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(H)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(H)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(H)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(H)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(H)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(H)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(H)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(H)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(H)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(H)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(H)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(H)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(H)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(H)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(H)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(H)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(H).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(H).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(H).length>1),this._isInEmbeddedEditor.set(H.uri.scheme===S.Schemas.walkThroughSnippet||H.uri.scheme===S.Schemas.vscodeChatCodeBlock)})}}e.EditorModeContext=J;class X extends D.Disposable{constructor(H,q){super(),this._onChange=this._register(new y.Emitter),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(L.trackFocus(H)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),q&&(this._overflowWidgetsDomNode=this._register(L.trackFocus(q)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const H=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==H&&(this._hadFocus=H,this._onChange.fire(void 0))}hasFocus(){var H;return(H=this._hadFocus)!==null&&H!==void 0?H:!1}}class Y{get length(){return this._decorationIds.length}constructor(H,q){this._editor=H,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(q)&&q.length>0&&this.set(q)}onDidChange(H,q,te){return this._editor.onDidChangeModelDecorations(G=>{this._isChangingDecorations||H.call(q,G)},te)}getRange(H){return!this._editor.hasModel()||H>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[H])}getRanges(){if(!this._editor.hasModel())return[];const H=this._editor.getModel(),q=[];for(const te of this._decorationIds){const G=H.getDecorationRange(te);G&&q.push(G)}return q}has(H){return this._decorationIds.includes(H.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(H){try{this._isChangingDecorations=!0,this._editor.changeDecorations(q=>{this._decorationIds=q.deltaDecorations(this._decorationIds,H)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(H){let q=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(te=>{q=te.deltaDecorations([],H),this._decorationIds=this._decorationIds.concat(q)})}finally{this._isChangingDecorations=!1}return q}}const le=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),de=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ge(Z){return le+encodeURIComponent(Z.toString())+de}const pe=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Q=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function U(Z){return pe+encodeURIComponent(Z.toString())+Q}(0,W.registerThemingParticipant)((Z,H)=>{const q=Z.getColor(B.editorErrorForeground);q&&H.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ge(q)}") repeat-x bottom left; }`);const te=Z.getColor(B.editorWarningForeground);te&&H.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ge(te)}") repeat-x bottom left; }`);const G=Z.getColor(B.editorInfoForeground);G&&H.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ge(G)}") repeat-x bottom left; }`);const $=Z.getColor(B.editorHintForeground);$&&H.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${U($)}") no-repeat bottom left; }`);const oe=Z.getColor(c.editorUnnecessaryCodeOpacity);oe&&H.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${oe.rgba.a}; }`)})}),define(ne[266],se([1,0,6,62,12,7,2,32,174,16,35,131,200,851,894,618,348,895,340,375,87,9,5,183,21,124,14,8,165,88,507,865,647,366,640,455]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_,E,I,T,A,R,M,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;let P=class extends T.DelegatingEditor{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(B,W,V,z,K,j,x,re){var ie;super(),this._domElement=B,this._parentContextKeyService=z,this._parentInstantiationService=K,this._accessibilitySignalService=x,this._editorProgressService=re,this.elements=(0,L.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,L.h)("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[(0,L.$)("span",{},"No Changes")]),(0,L.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,L.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,L.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=(0,p.observableValue)(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=D.Event.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new E.ServiceCollection([C.IContextKeyService,this._contextKeyService])),this._boundarySashes=(0,p.observableValue)(this,void 0),this._accessibleDiffViewerShouldBeVisible=(0,p.observableValue)(this,!1),this._accessibleDiffViewerVisible=(0,p.derived)(this,H=>this._options.onlyShowAccessibleDiffViewer.read(H)?!0:this._accessibleDiffViewerShouldBeVisible.read(H)),this._movedBlocksLinesPart=(0,p.observableValue)(this,void 0),this._layoutInfo=(0,p.derived)(this,H=>{var q,te,G,$,oe;const ae=this._rootSizeObserver.width.read(H),ue=this._rootSizeObserver.height.read(H),ce=(q=this._sash.read(H))===null||q===void 0?void 0:q.sashLeft.read(H),fe=ce??Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),ve=ae-fe-((G=(te=this._overviewRulerPart.read(H))===null||te===void 0?void 0:te.width)!==null&&G!==void 0?G:0),Ce=(oe=($=this._movedBlocksLinesPart.read(H))===null||$===void 0?void 0:$.width.read(H))!==null&&oe!==void 0?oe:0,Se=fe-Ce;return this.elements.original.style.width=Se+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=ve+"px",this.elements.modified.style.left=fe+"px",this._editors.original.layout({width:Se,height:ue},!0),this._editors.modified.layout({width:ve,height:ue},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((H,q)=>H?.diff.read(q)),this.onDidUpdateDiff=D.Event.fromObservableLight(this._diffValue),j.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register((0,S.toDisposable)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new s.ObservableElementSizeObserver(this.elements.root,W.dimension)),this._rootSizeObserver.setAutomaticLayout((ie=W.automaticLayout)!==null&&ie!==void 0?ie:!1),this._options=new R.DiffEditorOptions(W),this._register((0,p.autorun)(H=>{this._options.setWidth(this._rootSizeObserver.width.read(H))})),this._contextKeyService.createKey(u.EditorContextKeys.isEmbeddedDiffEditor.key,!1),this._register((0,s.bindContextKey)(u.EditorContextKeys.isEmbeddedDiffEditor,this._contextKeyService,H=>this._options.isInEmbeddedEditor.read(H))),this._register((0,s.bindContextKey)(u.EditorContextKeys.comparingMovedCode,this._contextKeyService,H=>{var q;return!!(!((q=this._diffModel.read(H))===null||q===void 0)&&q.movedTextToCompare.read(H))})),this._register((0,s.bindContextKey)(u.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,H=>this._options.couldShowInlineViewBecauseOfSize.read(H))),this._register((0,s.bindContextKey)(u.EditorContextKeys.hasChanges,this._contextKeyService,H=>{var q,te,G;return((G=(te=(q=this._diffModel.read(H))===null||q===void 0?void 0:q.diff.read(H))===null||te===void 0?void 0:te.mappings.length)!==null&&G!==void 0?G:0)>0})),this._editors=this._register(this._instantiationService.createInstance(A.DiffEditorEditors,this.elements.original,this.elements.modified,this._options,V,(H,q,te,G)=>this._createInnerEditor(H,q,te,G))),this._overviewRulerPart=(0,w.derivedDisposable)(this,H=>this._options.renderOverviewRuler.read(H)?this._instantiationService.createInstance((0,s.readHotReloadableExport)(d.OverviewRulerFeature,H),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(q=>q.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store),this._sash=(0,w.derivedDisposable)(this,H=>{const q=this._options.renderSideBySide.read(H);return this.elements.root.classList.toggle("side-by-side",q),q?new o.DiffEditorSash(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((te,G)=>{var $,oe;return te-((oe=($=this._overviewRulerPart.read(G))===null||$===void 0?void 0:$.width)!==null&&oe!==void 0?oe:0)})},this._boundarySashes):void 0}).recomputeInitiallyAndOnChange(this._store);const J=(0,w.derivedDisposable)(this,H=>this._instantiationService.createInstance((0,s.readHotReloadableExport)(g.HideUnchangedRegionsFeature,H),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);(0,w.derivedDisposable)(this,H=>this._instantiationService.createInstance((0,s.readHotReloadableExport)(t.DiffEditorDecorations,H),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const X=new Set,Y=new Set;let le=!1;const de=(0,w.derivedDisposable)(this,H=>this._instantiationService.createInstance((0,s.readHotReloadableExport)(m.DiffEditorViewZones,H),(0,L.getWindow)(this._domElement),this._editors,this._diffModel,this._options,this,()=>le||J.get().isUpdatingHiddenAreas,X,Y)).recomputeInitiallyAndOnChange(this._store),ge=(0,p.derived)(this,H=>{const q=de.read(H).viewZones.read(H).orig,te=J.read(H).viewZones.read(H).origViewZones;return q.concat(te)}),pe=(0,p.derived)(this,H=>{const q=de.read(H).viewZones.read(H).mod,te=J.read(H).viewZones.read(H).modViewZones;return q.concat(te)});this._register((0,s.applyViewZones)(this._editors.original,ge,H=>{le=H},X));let Q;this._register((0,s.applyViewZones)(this._editors.modified,pe,H=>{le=H,le?Q=a.StableEditorScrollState.capture(this._editors.modified):(Q?.restore(this._editors.modified),Q=void 0)},Y)),this._accessibleDiffViewer=(0,w.derivedDisposable)(this,H=>this._instantiationService.createInstance((0,s.readHotReloadableExport)(i.AccessibleDiffViewer,H),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(q,te)=>this._accessibleDiffViewerShouldBeVisible.set(q,te),this._options.onlyShowAccessibleDiffViewer.map(q=>!q),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((q,te)=>{var G;return(G=q?.diff.read(te))===null||G===void 0?void 0:G.mappings.map($=>$.lineRangeMapping)}),new i.AccessibleDiffViewerModelFromEditors(this._editors))).recomputeInitiallyAndOnChange(this._store);const U=this._accessibleDiffViewerVisible.map(H=>H?"hidden":"visible");this._register((0,s.applyStyle)(this.elements.modified,{visibility:U})),this._register((0,s.applyStyle)(this.elements.original,{visibility:U})),this._createDiffEditorContributions(),j.addDiffEditor(this),this._register((0,p.recomputeInitiallyAndOnChange)(this._layoutInfo)),(0,w.derivedDisposable)(this,H=>new((0,s.readHotReloadableExport)(c.MovedBlocksLinesFeature,H))(this.elements.root,this._diffModel,this._layoutInfo.map(q=>q.originalEditor),this._layoutInfo.map(q=>q.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,H=>{this._movedBlocksLinesPart.set(H,void 0)}),this._register((0,s.applyStyle)(this.elements.overlay,{width:this._layoutInfo.map((H,q)=>H.originalEditor.width+(this._options.renderSideBySide.read(q)?0:H.modifiedEditor.width)),visibility:(0,p.derived)(H=>{var q,te;return this._options.hideUnchangedRegions.read(H)&&((te=(q=this._diffModel.read(H))===null||q===void 0?void 0:q.diff.read(H))===null||te===void 0?void 0:te.mappings.length)===0?"visible":"hidden"})})),this._register(D.Event.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,H=>{var q,te;if(H?.reason===3){const G=(te=(q=this._diffModel.get())===null||q===void 0?void 0:q.diff.get())===null||te===void 0?void 0:te.mappings.find($=>$.lineRangeMapping.modified.contains(H.position.lineNumber));G?.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(f.AccessibilitySignal.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):G?.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(f.AccessibilitySignal.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):G&&this._accessibilitySignalService.playSignal(f.AccessibilitySignal.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));const Z=this._diffModel.map(this,(H,q)=>{if(H)return H.diff.read(q)===void 0&&!H.isDiffUpToDate.read(q)});this._register((0,p.autorunWithStore)((H,q)=>{if(Z.read(H)===!0){const te=this._editorProgressService.show(!0,1e3);q.add((0,S.toDisposable)(()=>te.done()))}})),this._register((0,S.toDisposable)(()=>{var H;this._shouldDisposeDiffModel&&((H=this._diffModel.get())===null||H===void 0||H.dispose())})),this._register(new N.RevertButtonsFeature(this._editors,this._diffModel,this._options,this))}_createInnerEditor(B,W,V,z){return B.createInstance(n.CodeEditorWidget,W,V,z)}_createDiffEditorContributions(){const B=v.EditorExtensionsRegistry.getDiffEditorContributions();for(const W of B)try{this._register(this._instantiationService.createInstance(W.ctor,this))}catch(V){(0,y.onUnexpectedError)(V)}}get _targetEditor(){return this._editors.modified}getEditorType(){return h.EditorType.IDiffEditor}layout(B){this._rootSizeObserver.observe(B)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var B;const W=this._editors.original.saveViewState(),V=this._editors.modified.saveViewState();return{original:W,modified:V,modelState:(B=this._diffModel.get())===null||B===void 0?void 0:B.serializeState()}}restoreViewState(B){var W;if(B&&B.original&&B.modified){const V=B;this._editors.original.restoreViewState(V.original),this._editors.modified.restoreViewState(V.modified),V.modelState&&((W=this._diffModel.get())===null||W===void 0||W.restoreSerializedState(V.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(B){return this._instantiationService.createInstance(M.DiffEditorViewModel,B,this._options)}getModel(){var B,W;return(W=(B=this._diffModel.get())===null||B===void 0?void 0:B.model)!==null&&W!==void 0?W:null}setModel(B,W){!B&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const V=B?"model"in B?{model:B,shouldDispose:!1}:{model:this.createViewModel(B),shouldDispose:!0}:void 0;this._diffModel.get()!==V?.model&&(0,p.subtransaction)(W,z=>{var K;p.observableFromEvent.batchEventsGlobally(z,()=>{this._editors.original.setModel(V?V.model.model.original:null),this._editors.modified.setModel(V?V.model.model.modified:null)});const j=this._diffModel.get(),x=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=(K=V?.shouldDispose)!==null&&K!==void 0?K:!1,this._diffModel.set(V?.model,z),x&&j?.dispose()})}updateOptions(B){this._options.updateOptions(B)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var B;const W=(B=this._diffModel.get())===null||B===void 0?void 0:B.diff.get();return W?F(W):null}revert(B){if(B.innerChanges){this.revertRangeMappings(B.innerChanges);return}const W=this._diffModel.get();!W||!W.isDiffUpToDate.get()||this._editors.modified.executeEdits("diffEditor",[{range:B.modified.toExclusiveRange(),text:W.model.original.getValueInRange(B.original.toExclusiveRange())}])}revertRangeMappings(B){const W=this._diffModel.get();if(!W||!W.isDiffUpToDate.get())return;const V=B.map(z=>({range:z.modifiedRange,text:W.model.original.getValueInRange(z.originalRange)}));this._editors.modified.executeEdits("diffEditor",V)}_goTo(B){this._editors.modified.setPosition(new l.Position(B.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(B.lineRangeMapping.modified.toExclusiveRange())}goToDiff(B){var W,V,z,K;const j=(V=(W=this._diffModel.get())===null||W===void 0?void 0:W.diff.get())===null||V===void 0?void 0:V.mappings;if(!j||j.length===0)return;const x=this._editors.modified.getPosition().lineNumber;let re;B==="next"?re=(z=j.find(ie=>ie.lineRangeMapping.modified.startLineNumber>x))!==null&&z!==void 0?z:j[0]:re=(K=(0,k.findLast)(j,ie=>ie.lineRangeMapping.modified.startLineNumber<x))!==null&&K!==void 0?K:j[j.length-1],this._goTo(re),re.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(f.AccessibilitySignal.diffLineDeleted,{source:"diffEditor.goToDiff"}):re.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(f.AccessibilitySignal.diffLineInserted,{source:"diffEditor.goToDiff"}):re&&this._accessibilitySignalService.playSignal(f.AccessibilitySignal.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const B=this._diffModel.get();B&&this.waitForDiff().then(()=>{var W;const V=(W=B.diff.get())===null||W===void 0?void 0:W.mappings;!V||V.length===0||this._goTo(V[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const B=this._diffModel.get();B&&await B.waitForDiff()}mapToOtherSide(){var B,W;const V=this._editors.modified.hasWidgetFocus(),z=V?this._editors.modified:this._editors.original,K=V?this._editors.original:this._editors.modified;let j;const x=z.getSelection();if(x){const re=(W=(B=this._diffModel.get())===null||B===void 0?void 0:B.diff.get())===null||W===void 0?void 0:W.mappings.map(ie=>V?ie.lineRangeMapping.flip():ie.lineRangeMapping);if(re){const ie=(0,s.translatePosition)(x.getStartPosition(),re),J=(0,s.translatePosition)(x.getEndPosition(),re);j=r.Range.plusRange(ie,J)}}return{destination:K,destinationSelection:j}}switchSide(){const{destination:B,destinationSelection:W}=this.mapToOtherSide();B.focus(),W&&B.setSelection(W)}exitCompareMove(){const B=this._diffModel.get();B&&B.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var B;const W=(B=this._diffModel.get())===null||B===void 0?void 0:B.unchangedRegions.get();W&&(0,p.transaction)(V=>{for(const z of W)z.collapseAll(V)})}showAllUnchangedRegions(){var B;const W=(B=this._diffModel.get())===null||B===void 0?void 0:B.unchangedRegions.get();W&&(0,p.transaction)(V=>{for(const z of W)z.showAll(V)})}};e.DiffEditorWidget=P,e.DiffEditorWidget=P=De([he(3,C.IContextKeyService),he(4,_.IInstantiationService),he(5,b.ICodeEditorService),he(6,f.IAccessibilitySignalService),he(7,I.IEditorProgressService)],P);function F(O){return O.mappings.map(B=>{const W=B.lineRangeMapping;let V,z,K,j,x=W.innerChanges;return W.original.isEmpty?(V=W.original.startLineNumber-1,z=0,x=void 0):(V=W.original.startLineNumber,z=W.original.endLineNumberExclusive-1),W.modified.isEmpty?(K=W.modified.startLineNumber-1,j=0,x=void 0):(K=W.modified.startLineNumber,j=W.modified.endLineNumberExclusive-1),{originalStartLineNumber:V,originalEndLineNumber:z,modifiedStartLineNumber:K,modifiedEndLineNumber:j,charChanges:x?.map(re=>({originalStartLineNumber:re.originalRange.startLineNumber,originalStartColumn:re.originalRange.startColumn,originalEndLineNumber:re.originalRange.endLineNumber,originalEndColumn:re.originalRange.endColumn,modifiedStartLineNumber:re.modifiedRange.startLineNumber,modifiedStartColumn:re.modifiedRange.startColumn,modifiedEndLineNumber:re.modifiedRange.endLineNumber,modifiedEndColumn:re.modifiedRange.endColumn}))}})}}),define(ne[899],se([1,0,6,27,16,35,266,21,636,28,25,26,14,265]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findFocusedDiffEditor=e.AccessibleDiffViewerPrev=e.AccessibleDiffViewerNext=e.ShowAllUnchangedRegions=e.CollapseAllUnchangedRegions=e.ExitCompareMove=e.SwitchSide=e.ToggleUseInlineViewWhenSpaceIsLimited=e.ToggleShowMovedCodeBlocks=e.ToggleCollapseUnchangedRegions=void 0;class i extends v.Action2{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:(0,w.localize2)(3,"Toggle Collapse Unchanged Regions"),icon:k.Codicon.map,toggled:n.ContextKeyExpr.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:n.ContextKeyExpr.has("isInDiffEditor"),menu:{when:n.ContextKeyExpr.has("isInDiffEditor"),id:v.MenuId.EditorTitle,order:22,group:"navigation"}})}run(_,...E){const I=_.get(a.IConfigurationService),T=!I.getValue("diffEditor.hideUnchangedRegions.enabled");I.updateValue("diffEditor.hideUnchangedRegions.enabled",T)}}e.ToggleCollapseUnchangedRegions=i,(0,v.registerAction2)(i);class t extends v.Action2{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:(0,w.localize2)(4,"Toggle Show Moved Code Blocks"),precondition:n.ContextKeyExpr.has("isInDiffEditor")})}run(_,...E){const I=_.get(a.IConfigurationService),T=!I.getValue("diffEditor.experimental.showMoves");I.updateValue("diffEditor.experimental.showMoves",T)}}e.ToggleShowMovedCodeBlocks=t,(0,v.registerAction2)(t);class o extends v.Action2{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:(0,w.localize2)(5,"Toggle Use Inline View When Space Is Limited"),precondition:n.ContextKeyExpr.has("isInDiffEditor")})}run(_,...E){const I=_.get(a.IConfigurationService),T=!I.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");I.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",T)}}e.ToggleUseInlineViewWhenSpaceIsLimited=o,(0,v.registerAction2)(o),v.MenuRegistry.appendMenuItem(v.MenuId.EditorTitle,{command:{id:new o().desc.id,title:(0,w.localize)(0,null),toggled:n.ContextKeyExpr.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:n.ContextKeyExpr.has("isInDiffEditor")},order:11,group:"1_diff",when:n.ContextKeyExpr.and(p.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,n.ContextKeyExpr.has("isInDiffEditor"))}),v.MenuRegistry.appendMenuItem(v.MenuId.EditorTitle,{command:{id:new t().desc.id,title:(0,w.localize)(1,null),icon:k.Codicon.move,toggled:n.ContextKeyEqualsExpr.create("config.diffEditor.experimental.showMoves",!0),precondition:n.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"1_diff",when:n.ContextKeyExpr.has("isInDiffEditor")});const g=(0,w.localize2)(6,"Diff Editor");class m extends y.EditorAction2{constructor(){super({id:"diffEditor.switchSide",title:(0,w.localize2)(7,"Switch Side"),icon:k.Codicon.arrowSwap,precondition:n.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:g})}runEditorCommand(_,E,I){const T=u(_);if(T instanceof S.DiffEditorWidget){if(I&&I.dryRun)return{destinationSelection:T.mapToOtherSide().destinationSelection};T.switchSide()}}}e.SwitchSide=m,(0,v.registerAction2)(m);class c extends y.EditorAction2{constructor(){super({id:"diffEditor.exitCompareMove",title:(0,w.localize2)(8,"Exit Compare Move"),icon:k.Codicon.close,precondition:p.EditorContextKeys.comparingMovedCode,f1:!1,category:g,keybinding:{weight:1e4,primary:9}})}runEditorCommand(_,E,...I){const T=u(_);T instanceof S.DiffEditorWidget&&T.exitCompareMove()}}e.ExitCompareMove=c,(0,v.registerAction2)(c);class d extends y.EditorAction2{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:(0,w.localize2)(9,"Collapse All Unchanged Regions"),icon:k.Codicon.fold,precondition:n.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:g})}runEditorCommand(_,E,...I){const T=u(_);T instanceof S.DiffEditorWidget&&T.collapseAllUnchangedRegions()}}e.CollapseAllUnchangedRegions=d,(0,v.registerAction2)(d);class s extends y.EditorAction2{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:(0,w.localize2)(10,"Show All Unchanged Regions"),icon:k.Codicon.unfold,precondition:n.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:g})}runEditorCommand(_,E,...I){const T=u(_);T instanceof S.DiffEditorWidget&&T.showAllUnchangedRegions()}}e.ShowAllUnchangedRegions=s,(0,v.registerAction2)(s);const l=(0,w.localize2)(11,"Accessible Diff Viewer");class r extends v.Action2{constructor(){super({id:r.id,title:(0,w.localize2)(12,"Go to Next Difference"),category:l,precondition:n.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(_){const E=u(_);E?.accessibleDiffViewerNext()}}e.AccessibleDiffViewerNext=r,r.id="editor.action.accessibleDiffViewer.next",v.MenuRegistry.appendMenuItem(v.MenuId.EditorTitle,{command:{id:r.id,title:(0,w.localize)(2,null),precondition:n.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"2_diff",when:n.ContextKeyExpr.and(p.EditorContextKeys.accessibleDiffViewerVisible.negate(),n.ContextKeyExpr.has("isInDiffEditor"))});class h extends v.Action2{constructor(){super({id:h.id,title:(0,w.localize2)(13,"Go to Previous Difference"),category:l,precondition:n.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(_){const E=u(_);E?.accessibleDiffViewerPrev()}}e.AccessibleDiffViewerPrev=h,h.id="editor.action.accessibleDiffViewer.prev";function u(C){const E=C.get(D.ICodeEditorService).listDiffEditors(),I=(0,L.getActiveElement)();if(I)for(const T of E){const A=T.getContainerDomNode();if(f(A,I))return T}return null}e.findFocusedDiffEditor=u;function f(C,_){let E=_;for(;E;){if(E===C)return!0;E=E.parentElement}return!1}b.CommandsRegistry.registerCommandAlias("editor.action.diffReview.next",r.id),(0,v.registerAction2)(r),b.CommandsRegistry.registerCommandAlias("editor.action.diffReview.prev",h.id),(0,v.registerAction2)(h)}),define(ne[170],se([1,0,54,35,200,33,18,71,25,14,8,49,24]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let i=class extends y.CodeEditorWidget{constructor(o,g,m,c,d,s,l,r,h,u,f,C,_){super(o,{...c.getRawOptions(),overflowWidgetsDomNode:c.getOverflowWidgetsDomNode()},m,d,s,l,r,h,u,f,C,_),this._parentEditor=c,this._overwriteOptions=g,super.updateOptions(this._overwriteOptions),this._register(c.onDidChangeConfiguration(E=>this._onParentConfigurationChanged(E)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(o){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(o){L.mixin(this._overwriteOptions,o,!0),super.updateOptions(this._overwriteOptions)}};e.EmbeddedCodeEditorWidget=i,e.EmbeddedCodeEditorWidget=i=De([he(4,b.IInstantiationService),he(5,k.ICodeEditorService),he(6,w.ICommandService),he(7,v.IContextKeyService),he(8,n.IThemeService),he(9,a.INotificationService),he(10,p.IAccessibilityService),he(11,D.ILanguageConfigurationService),he(12,S.ILanguageFeaturesService)],i)}),define(ne[381],se([1,0,6,235,27,2,32,129,266,262,28,8,588,110]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorItemTemplate=e.TemplateData=void 0;class t{constructor(c,d){this.viewModel=c,this.deltaScrollVertical=d}getId(){return this.viewModel}}e.TemplateData=t;let o=class extends D.Disposable{constructor(c,d,s,l){super(),this._container=c,this._overflowWidgetsDomNode=d,this._workbenchUIElementFactory=s,this._instantiationService=l,this._viewModel=(0,p.observableValue)(this,void 0),this._collapsed=(0,S.derived)(this,h=>{var u;return(u=this._viewModel.read(h))===null||u===void 0?void 0:u.collapsed.read(h)}),this._editorContentHeight=(0,p.observableValue)(this,500),this.contentHeight=(0,S.derived)(this,h=>(this._collapsed.read(h)?0:this._editorContentHeight.read(h))+this._outerEditorHeight),this._modifiedContentWidth=(0,p.observableValue)(this,0),this._modifiedWidth=(0,p.observableValue)(this,0),this._originalContentWidth=(0,p.observableValue)(this,0),this._originalWidth=(0,p.observableValue)(this,0),this.maxScroll=(0,S.derived)(this,h=>{const u=this._modifiedContentWidth.read(h)-this._modifiedWidth.read(h),f=this._originalContentWidth.read(h)-this._originalWidth.read(h);return u>f?{maxScroll:u,width:this._modifiedWidth.read(h)}:{maxScroll:f,width:this._originalWidth.read(h)}}),this._elements=(0,L.h)("div.multiDiffEntry",[(0,L.h)("div.header@header",[(0,L.h)("div.header-content",[(0,L.h)("div.collapse-button@collapseButton"),(0,L.h)("div.file-path",[(0,L.h)("div.title.modified.show-file-icons@primaryPath",[]),(0,L.h)("div.status.deleted@status",["R"]),(0,L.h)("div.title.original.show-file-icons@secondaryPath",[])]),(0,L.h)("div.actions@actions")])]),(0,L.h)("div.editorParent",[(0,L.h)("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(w.DiffEditorWidget,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=g(this.editor.getModifiedEditor()),this.isOriginalFocused=g(this.editor.getOriginalEditor()),this.isFocused=(0,S.derived)(this,h=>this.isModifedFocused.read(h)||this.isOriginalFocused.read(h)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=new D.DisposableStore,this._headerHeight=48,this._lastScrollTop=-1,this._isSettingScrollTop=!1;const r=new k.Button(this._elements.collapseButton,{});this._register((0,S.autorun)(h=>{r.element.className="",r.icon=this._collapsed.read(h)?y.Codicon.chevronRight:y.Codicon.chevronDown})),this._register(r.onDidClick(()=>{var h;(h=this._viewModel.get())===null||h===void 0||h.collapsed.set(!this._collapsed.get(),void 0)})),this._register((0,S.autorun)(h=>{this._elements.editor.style.display=this._collapsed.read(h)?"none":"block"})),this._register(this.editor.getModifiedEditor().onDidLayoutChange(h=>{const u=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(u,void 0)})),this._register(this.editor.getOriginalEditor().onDidLayoutChange(h=>{const u=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(u,void 0)})),this._register(this.editor.onDidContentSizeChange(h=>{(0,p.globalTransaction)(u=>{this._editorContentHeight.set(h.contentHeight,u),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),u),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),u)})})),this._register(this.editor.getOriginalEditor().onDidScrollChange(h=>{if(this._isSettingScrollTop||!h.scrollTopChanged||!this._data)return;const u=h.scrollTop-this._lastScrollTop;this._data.deltaScrollVertical(u)})),this._register((0,S.autorun)(h=>{const u=this.isFocused.read(h);this._elements.root.classList.toggle("focused",u)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=this._headerHeight,this._register(this._instantiationService.createInstance(v.MenuWorkbenchToolBar,this._elements.actions,b.MenuId.MultiDiffEditorFileToolbar,{actionRunner:this._register(new n.ActionRunnerWithContext(()=>{var h;return(h=this._viewModel.get())===null||h===void 0?void 0:h.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:h=>h.startsWith("navigation")},actionViewItemProvider:(h,u)=>(0,i.createActionViewItem)(l,h,u)}))}setScrollLeft(c){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(c):this.editor.getOriginalEditor().setScrollLeft(c)}setData(c){this._data=c;function d(l){return{...l,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}const s=c.viewModel.entry.value;s.onOptionsDidChange&&this._dataStore.add(s.onOptionsDidChange(()=>{var l;this.editor.updateOptions(d((l=s.options)!==null&&l!==void 0?l:{}))})),(0,p.globalTransaction)(l=>{var r,h,u,f;(r=this._resourceLabel)===null||r===void 0||r.setUri((h=c.viewModel.modifiedUri)!==null&&h!==void 0?h:c.viewModel.originalUri,{strikethrough:c.viewModel.modifiedUri===void 0});let C=!1,_=!1,E=!1,I="";c.viewModel.modifiedUri&&c.viewModel.originalUri&&c.viewModel.modifiedUri.path!==c.viewModel.originalUri.path?(I="R",C=!0):c.viewModel.modifiedUri?c.viewModel.originalUri||(I="A",E=!0):(I="D",_=!0),this._elements.status.classList.toggle("renamed",C),this._elements.status.classList.toggle("deleted",_),this._elements.status.classList.toggle("added",E),this._elements.status.innerText=I,(u=this._resourceLabel2)===null||u===void 0||u.setUri(C?c.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(c.viewModel,l),this.editor.setModel(c.viewModel.diffEditorViewModel,l),this.editor.updateOptions(d((f=s.options)!==null&&f!==void 0?f:{}))})}render(c,d,s,l){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${c.start}px`,this._elements.root.style.height=`${c.length}px`,this._elements.root.style.width=`${d}px`,this._elements.root.style.position="absolute";const r=c.length-this._headerHeight,h=Math.max(0,Math.min(l.start-c.start,r));this._elements.header.style.transform=`translateY(${h}px)`,(0,p.globalTransaction)(u=>{this.editor.layout({width:d-2*8-2*1,height:c.length-this._outerEditorHeight})});try{this._isSettingScrollTop=!0,this._lastScrollTop=s,this.editor.getOriginalEditor().setScrollTop(s)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",h>0||s>0),this._elements.header.classList.toggle("collapsed",h===r)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};e.DiffEditorItemTemplate=o,e.DiffEditorItemTemplate=o=De([he(3,a.IInstantiationService)],o);function g(m){return(0,S.observableFromEvent)(c=>{const d=new D.DisposableStore;return d.add(m.onDidFocusEditorWidget(()=>c(!0))),d.add(m.onDidBlurEditorWidget(()=>c(!1))),d},()=>m.hasWidgetFocus())}}),define(ne[900],se([1,0,6,78,62,2,32,129,151,87,75,23,21,14,8,165,381,508,459]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiDiffEditorWidgetImpl=void 0;let c=class extends D.Disposable{constructor(l,r,h,u,f,C){super(),this._element=l,this._dimension=r,this._viewModel=h,this._workbenchUIElementFactory=u,this._parentContextKeyService=f,this._parentInstantiationService=C,this._elements=(0,L.h)("div.monaco-component.multiDiffEditor",[(0,L.h)("div@content",{style:{overflow:"hidden"}}),(0,L.h)("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new v.ObservableElementSizeObserver(this._element,void 0)),this._objectPool=this._register(new m.ObjectPool(E=>{const I=this._instantiationService.createInstance(g.DiffEditorItemTemplate,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return I.setData(E),I})),this._scrollable=this._register(new w.Scrollable({forceIntegerValues:!1,scheduleAtNextAnimationFrame:E=>(0,L.scheduleAtNextAnimationFrame)((0,L.getWindow)(this._element),E),smoothScrollDuration:100})),this._scrollableElement=this._register(new k.SmoothScrollableElement(this._elements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this.scrollTop=(0,S.observableFromEvent)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=(0,S.observableFromEvent)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItems=(0,S.derivedWithStore)(this,(E,I)=>{const T=this._viewModel.read(E);return T?T.items.read(E).map(R=>{var M;const N=I.add(new d(R,this._objectPool,this.scrollLeft,F=>{this._scrollableElement.setScrollPosition({scrollTop:this._scrollableElement.getScrollPosition().scrollTop+F})})),P=(M=this._lastDocStates)===null||M===void 0?void 0:M[N.getKey()];return P&&(0,p.transaction)(F=>{N.setViewState(P,F)}),N}):[]}),this._spaceBetweenPx=0,this._totalHeight=this._viewItems.map(this,(E,I)=>E.reduce((T,A)=>T+A.contentHeight.read(I)+this._spaceBetweenPx,0)),this.activeDiffItem=(0,S.derived)(this,E=>this._viewItems.read(E).find(I=>{var T;return(T=I.template.read(E))===null||T===void 0?void 0:T.isFocused.read(E)})),this.lastActiveDiffItem=(0,S.derivedObservableWithCache)((E,I)=>{var T;return(T=this.activeDiffItem.read(E))!==null&&T!==void 0?T:I}),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new o.ServiceCollection([i.IContextKeyService,this._contextKeyService])),this._lastDocStates={},this._contextKeyService.createKey(n.EditorContextKeys.inMultiDiffEditor.key,!0),this._register((0,S.autorunWithStore)((E,I)=>{const T=this._viewModel.read(E);if(T&&T.contextKeys)for(const[A,R]of Object.entries(T.contextKeys)){const M=this._contextKeyService.createKey(A,void 0);M.set(R),I.add((0,D.toDisposable)(()=>M.reset()))}}));const _=this._parentContextKeyService.createKey(n.EditorContextKeys.multiDiffEditorAllCollapsed.key,!1);this._register((0,S.autorun)(E=>{const I=this._viewModel.read(E);if(I){const T=I.items.read(E).every(A=>A.collapsed.read(E));_.set(T)}})),this._register((0,S.autorun)(E=>{const I=this.lastActiveDiffItem.read(E);(0,p.transaction)(T=>{var A;(A=this._viewModel.read(E))===null||A===void 0||A.activeDiffItem.set(I?.viewModel,T)})})),this._register((0,S.autorun)(E=>{const I=this._dimension.read(E);this._sizeObserver.observe(I)})),this._elements.content.style.position="relative",this._register((0,S.autorun)(E=>{const I=this._sizeObserver.height.read(E);this._elements.root.style.height=`${I}px`;const T=this._totalHeight.read(E);this._elements.content.style.height=`${T}px`;const A=this._sizeObserver.width.read(E);let R=A;const M=this._viewItems.read(E),N=(0,y.findFirstMaxBy)(M,P=>P.maxScroll.read(E).maxScroll);if(N){const P=N.maxScroll.read(E);R=A+P.maxScroll}this._scrollableElement.setScrollDimensions({width:A,height:I,scrollHeight:T,scrollWidth:R})})),l.replaceChildren(this._scrollableElement.getDomNode()),this._register((0,D.toDisposable)(()=>{l.replaceChildren()})),this._register(this._register((0,S.autorun)(E=>{(0,p.globalTransaction)(I=>{this.render(E)})})))}render(l){const r=this.scrollTop.read(l);let h=0,u=0,f=0;const C=this._sizeObserver.height.read(l),_=b.OffsetRange.ofStartAndLength(r,C),E=this._sizeObserver.width.read(l);for(const I of this._viewItems.read(l)){const T=I.contentHeight.read(l),A=Math.min(T,C),R=b.OffsetRange.ofStartAndLength(u,A),M=b.OffsetRange.ofStartAndLength(f,T);if(M.isBefore(_))h-=T-A,I.hide();else if(M.isAfter(_))I.hide();else{const N=Math.max(0,Math.min(_.start-M.start,T-A));h-=N;const P=b.OffsetRange.ofStartAndLength(r+h,C);I.render(R,N,E,P)}u+=A+this._spaceBetweenPx,f+=T+this._spaceBetweenPx}this._elements.content.style.transform=`translateY(${-(r+h)}px)`}};e.MultiDiffEditorWidgetImpl=c,e.MultiDiffEditorWidgetImpl=c=De([he(4,i.IContextKeyService),he(5,t.IInstantiationService)],c);class d extends D.Disposable{constructor(l,r,h,u){super(),this.viewModel=l,this._objectPool=r,this._scrollLeft=h,this._deltaScrollVertical=u,this._templateRef=this._register((0,p.disposableObservableValue)(this,void 0)),this.contentHeight=(0,S.derived)(this,f=>{var C,_,E;return(E=(_=(C=this._templateRef.read(f))===null||C===void 0?void 0:C.object.contentHeight)===null||_===void 0?void 0:_.read(f))!==null&&E!==void 0?E:this.viewModel.lastTemplateData.read(f).contentHeight}),this.maxScroll=(0,S.derived)(this,f=>{var C,_;return(_=(C=this._templateRef.read(f))===null||C===void 0?void 0:C.object.maxScroll.read(f))!==null&&_!==void 0?_:{maxScroll:0,scrollWidth:0}}),this.template=(0,S.derived)(this,f=>{var C;return(C=this._templateRef.read(f))===null||C===void 0?void 0:C.object}),this._isHidden=(0,S.observableValue)(this,!1),this._register((0,S.autorun)(f=>{var C;const _=this._scrollLeft.read(f);(C=this._templateRef.read(f))===null||C===void 0||C.object.setScrollLeft(_)})),this._register((0,S.autorun)(f=>{const C=this._templateRef.read(f);!C||!this._isHidden.read(f)||C.object.isFocused.read(f)||this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var l;return`VirtualViewItem(${(l=this.viewModel.entry.value.modified)===null||l===void 0?void 0:l.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(l,r){var h;this.viewModel.collapsed.set(l.collapsed,r),this._updateTemplateData(r);const u=this.viewModel.lastTemplateData.get(),f=(h=l.selections)===null||h===void 0?void 0:h.map(a.Selection.liftSelection);this.viewModel.lastTemplateData.set({...u,selections:f},r);const C=this._templateRef.get();C&&f&&C.object.editor.setSelections(f)}_updateTemplateData(l){var r;const h=this._templateRef.get();h&&this.viewModel.lastTemplateData.set({contentHeight:h.object.contentHeight.get(),selections:(r=h.object.editor.getSelections())!==null&&r!==void 0?r:void 0},l)}_clear(){const l=this._templateRef.get();l&&(0,p.transaction)(r=>{this._updateTemplateData(r),l.object.hide(),this._templateRef.set(void 0,r)})}hide(){this._isHidden.set(!0,void 0)}render(l,r,h,u){this._isHidden.set(!1,void 0);let f=this._templateRef.get();if(!f){f=this._objectPool.getUnusedObj(new g.TemplateData(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(f,void 0);const C=this.viewModel.lastTemplateData.get().selections;C&&f.object.editor.setSelections(C)}f.object.render(l,h,r,u)}}}),define(ne[901],se([1,0,2,32,87,900,8,381,845]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiDiffEditorWidget=void 0;let w=class extends L.Disposable{constructor(b,a,n){super(),this._element=b,this._workbenchUIElementFactory=a,this._instantiationService=n,this._dimension=(0,k.observableValue)(this,void 0),this._viewModel=(0,k.observableValue)(this,void 0),this._widgetImpl=(0,k.derivedWithStore)(this,(i,t)=>((0,y.readHotReloadableExport)(p.DiffEditorItemTemplate,i),t.add(this._instantiationService.createInstance((0,y.readHotReloadableExport)(D.MultiDiffEditorWidgetImpl,i),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register((0,k.recomputeInitiallyAndOnChange)(this._widgetImpl))}};e.MultiDiffEditorWidget=w,e.MultiDiffEditorWidget=w=De([he(2,S.IInstantiationService)],w)}),define(ne[902],se([1,0,15,2,16,9,5,23,21,40,38,660,28,31,24,461]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const o=(0,i.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},a.localize(0,null));class g extends y.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:a.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3165,weight:100}})}run(r,h){var u;(u=s.get(h))===null||u===void 0||u.jumpToBracket()}}class m extends y.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:a.localize(2,null),alias:"Select to Bracket",precondition:void 0,metadata:{description:a.localize2(5,"Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(r,h,u){var f;let C=!0;u&&u.selectBrackets===!1&&(C=!1),(f=s.get(h))===null||f===void 0||f.selectToBracket(C)}}class c extends y.EditorAction{constructor(){super({id:"editor.action.removeBrackets",label:a.localize(3,null),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2561,weight:100}})}run(r,h){var u;(u=s.get(h))===null||u===void 0||u.removeBrackets(this.id)}}class d{constructor(r,h,u){this.position=r,this.brackets=h,this.options=u}}class s extends k.Disposable{static get(r){return r.getContribution(s.ID)}constructor(r){super(),this._editor=r,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new L.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(72),this._updateBracketsSoon.schedule(),this._register(r.onDidChangeCursorPosition(h=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(r.onDidChangeModelContent(h=>{this._updateBracketsSoon.schedule()})),this._register(r.onDidChangeModel(h=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(r.onDidChangeModelLanguageConfiguration(h=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(r.onDidChangeConfiguration(h=>{h.hasChanged(72)&&(this._matchBrackets=this._editor.getOption(72),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(r.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(r.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const r=this._editor.getModel(),h=this._editor.getSelections().map(u=>{const f=u.getStartPosition(),C=r.bracketPairs.matchBracket(f);let _=null;if(C)C[0].containsPosition(f)&&!C[1].containsPosition(f)?_=C[1].getStartPosition():C[1].containsPosition(f)&&(_=C[0].getStartPosition());else{const E=r.bracketPairs.findEnclosingBrackets(f);if(E)_=E[1].getStartPosition();else{const I=r.bracketPairs.findNextBracket(f);I&&I.range&&(_=I.range.getStartPosition())}}return _?new p.Selection(_.lineNumber,_.column,_.lineNumber,_.column):new p.Selection(f.lineNumber,f.column,f.lineNumber,f.column)});this._editor.setSelections(h),this._editor.revealRange(h[0])}selectToBracket(r){if(!this._editor.hasModel())return;const h=this._editor.getModel(),u=[];this._editor.getSelections().forEach(f=>{const C=f.getStartPosition();let _=h.bracketPairs.matchBracket(C);if(!_&&(_=h.bracketPairs.findEnclosingBrackets(C),!_)){const T=h.bracketPairs.findNextBracket(C);T&&T.range&&(_=h.bracketPairs.matchBracket(T.range.getStartPosition()))}let E=null,I=null;if(_){_.sort(S.Range.compareRangesUsingStarts);const[T,A]=_;if(E=r?T.getStartPosition():T.getEndPosition(),I=r?A.getEndPosition():A.getStartPosition(),A.containsPosition(C)){const R=E;E=I,I=R}}E&&I&&u.push(new p.Selection(E.lineNumber,E.column,I.lineNumber,I.column))}),u.length>0&&(this._editor.setSelections(u),this._editor.revealRange(u[0]))}removeBrackets(r){if(!this._editor.hasModel())return;const h=this._editor.getModel();this._editor.getSelections().forEach(u=>{const f=u.getPosition();let C=h.bracketPairs.matchBracket(f);C||(C=h.bracketPairs.findEnclosingBrackets(f)),C&&(this._editor.pushUndoStop(),this._editor.executeEdits(r,[{range:C[0],text:""},{range:C[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const r=[];let h=0;for(const u of this._lastBracketsData){const f=u.brackets;f&&(r[h++]={range:f[0],options:u.options},r[h++]={range:f[1],options:u.options})}this._decorations.set(r)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const r=this._editor.getSelections();if(r.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const h=this._editor.getModel(),u=h.getVersionId();let f=[];this._lastVersionId===u&&(f=this._lastBracketsData);const C=[];let _=0;for(let R=0,M=r.length;R<M;R++){const N=r[R];N.isEmpty()&&(C[_++]=N.getStartPosition())}C.length>1&&C.sort(D.Position.compare);const E=[];let I=0,T=0;const A=f.length;for(let R=0,M=C.length;R<M;R++){const N=C[R];for(;T<A&&f[T].position.isBefore(N);)T++;if(T<A&&f[T].position.equals(N))E[I++]=f[T];else{let P=h.bracketPairs.matchBracket(N,20),F=s._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!P&&this._matchBrackets==="always"&&(P=h.bracketPairs.findEnclosingBrackets(N,20),F=s._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),E[I++]=new d(N,P,F)}}this._lastBracketsData=E,this._lastVersionId=u}}e.BracketMatchingController=s,s.ID="editor.contrib.bracketMatchingController",s._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=b.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,t.themeColorFromId)(o),position:v.OverviewRulerLane.Center}}),s._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=b.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,y.registerEditorContribution)(s.ID,s,1),(0,y.registerEditorAction)(m),(0,y.registerEditorAction)(g),(0,y.registerEditorAction)(c),n.MenuRegistry.appendMenuItem(n.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:a.localize(4,null)},order:2})}),define(ne[267],se([1,0,6,44,12,96,2,9,38,18,146,826,846,368,168,667,849,25,26,14,8,100,88,31,89,24,119,367]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionController=void 0;const I="quickfix-edit-highlight";let T=E=class extends S.Disposable{static get(R){return R.getContribution(E.ID)}constructor(R,M,N,P,F,O,B,W,V,z){super(),this._commandService=B,this._configurationService=W,this._actionWidgetService=V,this._instantiationService=z,this._activeCodeActions=this._register(new S.MutableDisposable),this._showDisabled=!1,this._disposed=!1,this._editor=R,this._model=this._register(new _.CodeActionModel(this._editor,F.codeActionProvider,M,N,O,W)),this._register(this._model.onDidChangeState(K=>this.update(K))),this._lightBulbWidget=new D.Lazy(()=>{const K=this._editor.getContribution(i.LightBulbWidget.ID);return K&&this._register(K.onClick(j=>this.showCodeActionsFromLightbulb(j.actions,j))),K}),this._resolver=P.createInstance(a.CodeActionKeybindingResolver),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}async showCodeActionsFromLightbulb(R,M){if(R.allAIFixes&&R.validActions.length===1){const N=R.validActions[0],P=N.action.command;P&&P.id==="inlineChat.start"&&P.arguments&&P.arguments.length>=1&&(P.arguments[0]={...P.arguments[0],autoSend:!1}),await this._applyCodeAction(N,!1,!1,b.ApplyCodeActionReason.FromAILightbulb);return}await this.showCodeActionList(R,M,{includeDisabledActions:!1,fromLightbulb:!0})}showCodeActions(R,M,N){return this.showCodeActionList(M,N,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(R,M,N,P){var F;if(!this._editor.hasModel())return;(F=t.MessageController.get(this._editor))===null||F===void 0||F.closeMessage();const O=this._editor.getPosition();this._trigger({type:1,triggerAction:M,filter:N,autoApply:P,context:{notAvailableMessage:R,position:O}})}_trigger(R){return this._model.trigger(R)}async _applyCodeAction(R,M,N,P){try{await this._instantiationService.invokeFunction(b.applyCodeAction,R,P,{preview:N,editor:this._editor})}finally{M&&this._trigger({type:2,triggerAction:C.CodeActionTriggerSource.QuickFix,filter:{}})}}async update(R){var M,N,P,F,O,B,W;if(R.type!==1){(M=this._lightBulbWidget.rawValue)===null||M===void 0||M.hide();return}let V;try{V=await R.actions}catch(z){(0,y.onUnexpectedError)(z);return}if(!this._disposed)if((N=this._lightBulbWidget.value)===null||N===void 0||N.update(V,R.trigger,R.position),R.trigger.type===1){if(!((P=R.trigger.filter)===null||P===void 0)&&P.include){const K=this.tryGetValidActionToApply(R.trigger,V);if(K){try{(F=this._lightBulbWidget.value)===null||F===void 0||F.hide(),await this._applyCodeAction(K,!1,!1,b.ApplyCodeActionReason.FromCodeActions)}finally{V.dispose()}return}if(R.trigger.context){const j=this.getInvalidActionThatWouldHaveBeenApplied(R.trigger,V);if(j&&j.action.disabled){(O=t.MessageController.get(this._editor))===null||O===void 0||O.showMessage(j.action.disabled,R.trigger.context.position),V.dispose();return}}}const z=!!(!((B=R.trigger.filter)===null||B===void 0)&&B.include);if(R.trigger.context&&(!V.allActions.length||!z&&!V.validActions.length)){(W=t.MessageController.get(this._editor))===null||W===void 0||W.showMessage(R.trigger.context.notAvailableMessage,R.trigger.context.position),this._activeCodeActions.value=V,V.dispose();return}this._activeCodeActions.value=V,this.showCodeActionList(V,this.toCoords(R.position),{includeDisabledActions:z,fromLightbulb:!1})}else this._actionWidgetService.isVisible?V.dispose():this._activeCodeActions.value=V}getInvalidActionThatWouldHaveBeenApplied(R,M){if(M.allActions.length&&(R.autoApply==="first"&&M.validActions.length===0||R.autoApply==="ifSingle"&&M.allActions.length===1))return M.allActions.find(({action:N})=>N.disabled)}tryGetValidActionToApply(R,M){if(M.validActions.length&&(R.autoApply==="first"&&M.validActions.length>0||R.autoApply==="ifSingle"&&M.validActions.length===1))return M.validActions[0]}async showCodeActionList(R,M,N){const P=this._editor.createDecorationsCollection(),F=this._editor.getDomNode();if(!F)return;const O=N.includeDisabledActions&&(this._showDisabled||R.validActions.length===0)?R.allActions:R.validActions;if(!O.length)return;const B=p.Position.isIPosition(M)?this.toCoords(M):M,W={onSelect:async(V,z)=>{this._applyCodeAction(V,!0,!!z,b.ApplyCodeActionReason.FromCodeActions),this._actionWidgetService.hide(),P.clear()},onHide:()=>{var V;(V=this._editor)===null||V===void 0||V.focus(),P.clear()},onHover:async(V,z)=>{var K;if(!z.isCancellationRequested)return{canPreview:!!(!((K=V.action.edit)===null||K===void 0)&&K.edits.length)}},onFocus:V=>{var z,K;if(V&&V.action){const j=V.action.ranges,x=V.action.diagnostics;if(P.clear(),j&&j.length>0){const re=x&&x?.length>1?x.map(ie=>({range:ie,options:E.DECORATION})):j.map(ie=>({range:ie,options:E.DECORATION}));P.set(re)}else if(x&&x.length>0){const re=x.map(J=>({range:J,options:E.DECORATION}));P.set(re);const ie=x[0];if(ie.startLineNumber&&ie.startColumn){const J=(K=(z=this._editor.getModel())===null||z===void 0?void 0:z.getWordAtPosition({lineNumber:ie.startLineNumber,column:ie.startColumn}))===null||K===void 0?void 0:K.word;k.status((0,o.localize)(0,null,J,ie.startLineNumber,ie.startColumn))}}}else P.clear()}};this._actionWidgetService.show("codeActionWidget",!0,(0,n.toMenuItems)(O,this._shouldShowHeaders(),this._resolver.getResolver()),W,B,F,this._getActionBarActions(R,M,N))}toCoords(R){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(R,1),this._editor.render();const M=this._editor.getScrolledVisiblePosition(R),N=(0,L.getDomNodePagePosition)(this._editor.getDomNode()),P=N.left+M.left,F=N.top+M.top+M.height;return{x:P,y:F}}_shouldShowHeaders(){var R;const M=(R=this._editor)===null||R===void 0?void 0:R.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:M?.uri})}_getActionBarActions(R,M,N){if(N.fromLightbulb)return[];const P=R.documentation.map(F=>{var O;return{id:F.id,label:F.title,tooltip:(O=F.tooltip)!==null&&O!==void 0?O:"",class:void 0,enabled:!0,run:()=>{var B;return this._commandService.executeCommand(F.id,...(B=F.arguments)!==null&&B!==void 0?B:[])}}});return N.includeDisabledActions&&R.validActions.length>0&&R.allActions.length!==R.validActions.length&&P.push(this._showDisabled?{id:"hideMoreActions",label:(0,o.localize)(1,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(R,M,N))}:{id:"showMoreActions",label:(0,o.localize)(2,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(R,M,N))}),P}};e.CodeActionController=T,T.ID="editor.contrib.codeActionController",T.DECORATION=w.ModelDecorationOptions.register({description:"quickfix-highlight",className:I}),e.CodeActionController=T=E=De([he(1,l.IMarkerService),he(2,d.IContextKeyService),he(3,s.IInstantiationService),he(4,v.ILanguageFeaturesService),he(5,r.IEditorProgressService),he(6,m.ICommandService),he(7,c.IConfigurationService),he(8,g.IActionWidgetService),he(9,s.IInstantiationService)],T),(0,f.registerThemingParticipant)((A,R)=>{((P,F)=>{F&&R.addRule(`.monaco-editor ${P} { background-color: ${F}; }`)})(".quickfix-edit-highlight",A.getColor(h.editorFindMatchHighlight));const N=A.getColor(h.editorFindMatchHighlightBorder);N&&R.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${(0,u.isHighContrast)(A.type)?"dotted":"solid"} ${N}; box-sizing: border-box; }`)})}),define(ne[903],se([1,0,11,16,21,146,665,14,119,267,367]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=void 0;function a(l){return p.ContextKeyExpr.regex(b.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,L.escapeRegExpCharacters)(l.value)+"\\b"))}const n={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:S.localize(0,null)},apply:{type:"string",description:S.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[S.localize(2,null),S.localize(3,null),S.localize(4,null)]},preferred:{type:"boolean",default:!1,description:S.localize(5,null)}}};function i(l,r,h,u,f=w.CodeActionTriggerSource.Default){if(l.hasModel()){const C=v.CodeActionController.get(l);C?.manualTriggerAtCurrentPosition(r,f,h,u)}}class t extends k.EditorAction{constructor(){super({id:D.quickFixCommandId,label:S.localize(6,null),alias:"Quick Fix...",precondition:p.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:2137,weight:100}})}run(r,h){return i(h,S.localize(7,null),void 0,void 0,w.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=t;class o extends k.EditorCommand{constructor(){super({id:D.codeActionCommandId,precondition:p.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:n}]}})}runEditorCommand(r,h,u){const f=w.CodeActionCommandArgs.fromUser(u,{kind:w.CodeActionKind.Empty,apply:"ifSingle"});return i(h,typeof u?.kind=="string"?f.preferred?S.localize(8,null,u.kind):S.localize(9,null,u.kind):f.preferred?S.localize(10,null):S.localize(11,null),{include:f.kind,includeSourceActions:!0,onlyIncludePreferredActions:f.preferred},f.apply)}}e.CodeActionCommand=o;class g extends k.EditorAction{constructor(){super({id:D.refactorCommandId,label:S.localize(12,null),alias:"Refactor...",precondition:p.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:p.ContextKeyExpr.and(y.EditorContextKeys.writable,a(w.CodeActionKind.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:n}]}})}run(r,h,u){const f=w.CodeActionCommandArgs.fromUser(u,{kind:w.CodeActionKind.Refactor,apply:"never"});return i(h,typeof u?.kind=="string"?f.preferred?S.localize(13,null,u.kind):S.localize(14,null,u.kind):f.preferred?S.localize(15,null):S.localize(16,null),{include:w.CodeActionKind.Refactor.contains(f.kind)?f.kind:w.CodeActionKind.None,onlyIncludePreferredActions:f.preferred},f.apply,w.CodeActionTriggerSource.Refactor)}}e.RefactorAction=g;class m extends k.EditorAction{constructor(){super({id:D.sourceActionCommandId,label:S.localize(17,null),alias:"Source Action...",precondition:p.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:p.ContextKeyExpr.and(y.EditorContextKeys.writable,a(w.CodeActionKind.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:n}]}})}run(r,h,u){const f=w.CodeActionCommandArgs.fromUser(u,{kind:w.CodeActionKind.Source,apply:"never"});return i(h,typeof u?.kind=="string"?f.preferred?S.localize(18,null,u.kind):S.localize(19,null,u.kind):f.preferred?S.localize(20,null):S.localize(21,null),{include:w.CodeActionKind.Source.contains(f.kind)?f.kind:w.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:f.preferred},f.apply,w.CodeActionTriggerSource.SourceAction)}}e.SourceAction=m;class c extends k.EditorAction{constructor(){super({id:D.organizeImportsCommandId,label:S.localize(22,null),alias:"Organize Imports",precondition:p.ContextKeyExpr.and(y.EditorContextKeys.writable,a(w.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:1581,weight:100}})}run(r,h){return i(h,S.localize(23,null),{include:w.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",w.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=c;class d extends k.EditorAction{constructor(){super({id:D.fixAllCommandId,label:S.localize(24,null),alias:"Fix All",precondition:p.ContextKeyExpr.and(y.EditorContextKeys.writable,a(w.CodeActionKind.SourceFixAll))})}run(r,h){return i(h,S.localize(25,null),{include:w.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",w.CodeActionTriggerSource.FixAll)}}e.FixAllAction=d;class s extends k.EditorAction{constructor(){super({id:D.autoFixCommandId,label:S.localize(26,null),alias:"Auto Fix...",precondition:p.ContextKeyExpr.and(y.EditorContextKeys.writable,a(w.CodeActionKind.QuickFix)),kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(r,h){return i(h,S.localize(27,null),{include:w.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",w.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=s}),define(ne[904],se([1,0,16,251,903,267,368,666,101,37]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(D.CodeActionController.ID,D.CodeActionController,3),(0,L.registerEditorContribution)(S.LightBulbWidget.ID,S.LightBulbWidget,4),(0,L.registerEditorAction)(y.QuickFixAction),(0,L.registerEditorAction)(y.RefactorAction),(0,L.registerEditorAction)(y.SourceAction),(0,L.registerEditorAction)(y.OrganizeImportsAction),(0,L.registerEditorAction)(y.AutoFixAction),(0,L.registerEditorAction)(y.FixAllAction),(0,L.registerEditorCommand)(new y.CodeActionCommand),v.Registry.as(w.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:p.localize(0,null),default:!0}}}),v.Registry.as(w.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:p.localize(1,null),default:!0}}})}),define(ne[905],se([1,0,6,104,5,38,463]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class S{constructor(n,i,t){this.afterColumn=1073741824,this.afterLineNumber=n,this.heightInPx=i,this._onHeight=t,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(n){this._lastHeight===void 0?this._lastHeight=n:this._lastHeight!==n&&(this._lastHeight=n,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class p{constructor(n,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=n,this._id=`codelens.widget-${p._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(n,i){this._commands.clear();const t=[];let o=!1;for(let g=0;g<n.length;g++){const m=n[g];if(m&&(o=!0,m.command)){const c=(0,k.renderLabelWithIcons)(m.command.title.trim());if(m.command.id){const d=`c${p._idPool++}`;t.push(L.$("a",{id:d,title:m.command.tooltip,role:"button"},...c)),this._commands.set(d,m.command)}else t.push(L.$("span",{title:m.command.tooltip},...c));g+1<n.length&&t.push(L.$("span",void 0,"\xA0|\xA0"))}}o?(L.reset(this._domNode,...t),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):L.reset(this._domNode,L.$("span",void 0,"no commands"))}getCommand(n){return n.parentElement===this._domNode?this._commands.get(n.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(n){const i=this._editor.getModel().getLineFirstNonWhitespaceColumn(n);this._widgetPosition={position:{lineNumber:n,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}p._idPool=0;class w{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(n,i){this._addDecorations.push(n),this._addDecorationsCallbacks.push(i)}removeDecoration(n){this._removeDecorations.push(n)}commit(n){const i=n.deltaDecorations(this._removeDecorations,this._addDecorations);for(let t=0,o=i.length;t<o;t++)this._addDecorationsCallbacks[t](i[t])}}e.CodeLensHelper=w;const v=D.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class b{constructor(n,i,t,o,g,m){this._isDisposed=!1,this._editor=i,this._data=n,this._decorationIds=[];let c;const d=[];this._data.forEach((s,l)=>{s.symbol.command&&d.push(s.symbol),t.addDecoration({range:s.symbol.range,options:v},r=>this._decorationIds[l]=r),c?c=y.Range.plusRange(c,s.symbol.range):c=y.Range.lift(s.symbol.range)}),this._viewZone=new S(c.startLineNumber-1,g,m),this._viewZoneId=o.addZone(this._viewZone),d.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(d,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new p(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(n,i){this._decorationIds.forEach(n.removeDecoration,n),this._decorationIds=[],i?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((n,i)=>{const t=this._editor.getModel().getDecorationRange(n),o=this._data[i].symbol;return!!(t&&y.Range.isEmpty(o.range)===t.isEmpty())})}updateCodeLensSymbols(n,i){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=n,this._data.forEach((t,o)=>{i.addDecoration({range:t.symbol.range,options:v},g=>this._decorationIds[o]=g)})}updateHeight(n,i){this._viewZone.heightInPx=n,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(n){if(!this._viewZone.isVisible())return null;for(let i=0;i<this._decorationIds.length;i++){const t=n.getDecorationRange(this._decorationIds[i]);t&&(this._data[i].symbol.range=t)}return this._data}updateCommands(n){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(n,!0);for(let i=0;i<this._data.length;i++){const t=n[i];if(t){const{symbol:o}=this._data[i];o.command=t.command||o.command}}}getCommand(n){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(n)}getLineNumber(){const n=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return n?n.startLineNumber:-1}update(n){if(this.isValid()){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,n.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=b}),define(ne[906],se([1,0,15,12,2,131,16,36,21,350,815,905,670,25,49,72,80,18]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let c=class{constructor(s,l,r,h,u,f){this._editor=s,this._languageFeaturesService=l,this._commandService=h,this._notificationService=u,this._codeLensCache=f,this._disposables=new y.DisposableStore,this._localToDispose=new y.DisposableStore,this._lenses=[],this._oldCodeLensModels=new y.DisposableStore,this._provideCodeLensDebounce=r.for(l.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=r.for(l.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new L.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(C=>{(C.hasChanged(50)||C.hasChanged(19)||C.hasChanged(18))&&this._updateLensStyle(),C.hasChanged(17)&&this._onModelChange()})),this._disposables.add(l.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var s;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(s=this._currentCodeLensModel)===null||s===void 0||s.dispose()}_getLayoutInfo(){const s=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52));let l=this._editor.getOption(19);return(!l||l<5)&&(l=this._editor.getOption(52)*.9|0),{fontSize:l,codeLensHeight:l*s|0}}_updateLensStyle(){const{codeLensHeight:s,fontSize:l}=this._getLayoutInfo(),r=this._editor.getOption(18),h=this._editor.getOption(50),{style:u}=this._editor.getContainerDomNode();u.setProperty("--vscode-editorCodeLens-lineHeight",`${s}px`),u.setProperty("--vscode-editorCodeLens-fontSize",`${l}px`),u.setProperty("--vscode-editorCodeLens-fontFeatureSettings",h.fontFeatureSettings),r&&(u.setProperty("--vscode-editorCodeLens-fontFamily",r),u.setProperty("--vscode-editorCodeLens-fontFamilyDefault",p.EDITOR_FONT_DEFAULTS.fontFamily)),this._editor.changeViewZones(f=>{for(const C of this._lenses)C.updateHeight(s,f)})}_localDispose(){var s,l,r;(s=this._getCodeLensModelPromise)===null||s===void 0||s.cancel(),this._getCodeLensModelPromise=void 0,(l=this._resolveCodeLensesPromise)===null||l===void 0||l.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(r=this._currentCodeLensModel)===null||r===void 0||r.dispose()}_onModelChange(){this._localDispose();const s=this._editor.getModel();if(!s||!this._editor.getOption(17)||s.isTooLargeForTokenization())return;const l=this._codeLensCache.get(s);if(l&&this._renderCodeLensSymbols(l),!this._languageFeaturesService.codeLensProvider.has(s)){l&&(0,L.disposableTimeout)(()=>{const h=this._codeLensCache.get(s);l===h&&(this._codeLensCache.delete(s),this._onModelChange())},30*1e3,this._localToDispose);return}for(const h of this._languageFeaturesService.codeLensProvider.all(s))if(typeof h.onDidChange=="function"){const u=h.onDidChange(()=>r.schedule());this._localToDispose.add(u)}const r=new L.RunOnceScheduler(()=>{var h;const u=Date.now();(h=this._getCodeLensModelPromise)===null||h===void 0||h.cancel(),this._getCodeLensModelPromise=(0,L.createCancelablePromise)(f=>(0,v.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,s,f)),this._getCodeLensModelPromise.then(f=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=f,this._codeLensCache.put(s,f);const C=this._provideCodeLensDebounce.update(s,Date.now()-u);r.delay=C,this._renderCodeLensSymbols(f),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(s));this._localToDispose.add(r),this._localToDispose.add((0,y.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var h;this._editor.changeDecorations(u=>{this._editor.changeViewZones(f=>{const C=[];let _=-1;this._lenses.forEach(I=>{!I.isValid()||_===I.getLineNumber()?C.push(I):(I.update(f),_=I.getLineNumber())});const E=new a.CodeLensHelper;C.forEach(I=>{I.dispose(E,f),this._lenses.splice(this._lenses.indexOf(I),1)}),E.commit(u)})}),r.schedule(),this._resolveCodeLensesScheduler.cancel(),(h=this._resolveCodeLensesPromise)===null||h===void 0||h.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{r.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{r.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(h=>{h.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,y.toDisposable)(()=>{if(this._editor.getModel()){const h=D.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(u=>{this._editor.changeViewZones(f=>{this._disposeAllLenses(u,f)})}),h.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(h=>{if(h.target.type!==9)return;let u=h.target.element;if(u?.tagName==="SPAN"&&(u=u.parentElement),u?.tagName==="A")for(const f of this._lenses){const C=f.getCommand(u);if(C){this._commandService.executeCommand(C.id,...C.arguments||[]).catch(_=>this._notificationService.error(_));break}}})),r.schedule()}_disposeAllLenses(s,l){const r=new a.CodeLensHelper;for(const h of this._lenses)h.dispose(r,l);s&&r.commit(s),this._lenses.length=0}_renderCodeLensSymbols(s){if(!this._editor.hasModel())return;const l=this._editor.getModel().getLineCount(),r=[];let h;for(const C of s.lenses){const _=C.symbol.range.startLineNumber;_<1||_>l||(h&&h[h.length-1].symbol.range.startLineNumber===_?h.push(C):(h=[C],r.push(h)))}if(!r.length&&!this._lenses.length)return;const u=D.StableEditorScrollState.capture(this._editor),f=this._getLayoutInfo();this._editor.changeDecorations(C=>{this._editor.changeViewZones(_=>{const E=new a.CodeLensHelper;let I=0,T=0;for(;T<r.length&&I<this._lenses.length;){const A=r[T][0].symbol.range.startLineNumber,R=this._lenses[I].getLineNumber();R<A?(this._lenses[I].dispose(E,_),this._lenses.splice(I,1)):R===A?(this._lenses[I].updateCodeLensSymbols(r[T],E),T++,I++):(this._lenses.splice(I,0,new a.CodeLensWidget(r[T],this._editor,E,_,f.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),I++,T++)}for(;I<this._lenses.length;)this._lenses[I].dispose(E,_),this._lenses.splice(I,1);for(;T<r.length;)this._lenses.push(new a.CodeLensWidget(r[T],this._editor,E,_,f.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++;E.commit(C)})}),u.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var s;(s=this._resolveCodeLensesPromise)===null||s===void 0||s.cancel(),this._resolveCodeLensesPromise=void 0;const l=this._editor.getModel();if(!l)return;const r=[],h=[];if(this._lenses.forEach(C=>{const _=C.computeIfNecessary(l);_&&(r.push(_),h.push(C))}),r.length===0)return;const u=Date.now(),f=(0,L.createCancelablePromise)(C=>{const _=r.map((E,I)=>{const T=new Array(E.length),A=E.map((R,M)=>!R.symbol.command&&typeof R.provider.resolveCodeLens=="function"?Promise.resolve(R.provider.resolveCodeLens(l,R.symbol,C)).then(N=>{T[M]=N},k.onUnexpectedExternalError):(T[M]=R.symbol,Promise.resolve(void 0)));return Promise.all(A).then(()=>{!C.isCancellationRequested&&!h[I].isDisposed()&&h[I].updateCommands(T)})});return Promise.all(_)});this._resolveCodeLensesPromise=f,this._resolveCodeLensesPromise.then(()=>{const C=this._resolveCodeLensesDebounce.update(l,Date.now()-u);this._resolveCodeLensesScheduler.delay=C,this._currentCodeLensModel&&this._codeLensCache.put(l,this._currentCodeLensModel),this._oldCodeLensModels.clear(),f===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},C=>{(0,k.onUnexpectedError)(C),f===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}async getModel(){var s;return await this._getCodeLensModelPromise,await this._resolveCodeLensesPromise,!((s=this._currentCodeLensModel)===null||s===void 0)&&s.isDisposed?void 0:this._currentCodeLensModel}};e.CodeLensContribution=c,c.ID="css.editor.codeLens",e.CodeLensContribution=c=De([he(1,m.ILanguageFeaturesService),he(2,g.ILanguageFeatureDebounceService),he(3,i.ICommandService),he(4,t.INotificationService),he(5,b.ICodeLensCache)],c),(0,S.registerEditorContribution)(c.ID,c,1),(0,S.registerEditorAction)(class extends S.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:w.EditorContextKeys.hasCodeLensProvider,label:(0,n.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}async run(s,l){if(!l.hasModel())return;const r=s.get(o.IQuickInputService),h=s.get(i.ICommandService),u=s.get(t.INotificationService),f=l.getSelection().positionLineNumber,C=l.getContribution(c.ID);if(!C)return;const _=await C.getModel();if(!_)return;const E=[];for(const A of _.lenses)A.symbol.command&&A.symbol.range.startLineNumber===f&&E.push({label:A.symbol.command.title,command:A.symbol.command});if(E.length===0)return;const I=await r.pick(E,{canPickMany:!1,placeHolder:(0,n.localize)(1,null)});if(!I)return;let T=I.command;if(_.isDisposed){const A=await C.getModel(),R=A?.lenses.find(M=>{var N;return M.symbol.range.startLineNumber===f&&((N=M.symbol.command)===null||N===void 0?void 0:N.title)===T.title});if(!R||!R.symbol.command)return;T=R.symbol.command}try{await h.executeCommand(T.id,...T.arguments||[])}catch(A){u.error(A)}}})}),define(ne[382],se([1,0,15,39,12,7,2,63,11,169,16,5,38,80,18,361,26]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DecoratorLimitReporter=e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});let c=m=class extends S.Disposable{constructor(l,r,h,u){super(),this._editor=l,this._configurationService=r,this._languageFeaturesService=h,this._localToDispose=this._register(new S.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new v.DynamicCssRules(this._editor),this._decoratorLimitReporter=new d,this._colorDecorationClassRefs=this._register(new S.DisposableStore),this._debounceInformation=u.for(h.colorProvider,"Document Colors",{min:m.RECOMPUTE_TIME}),this._register(l.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(l.onDidChangeModelLanguage(()=>this.updateColors())),this._register(h.colorProvider.onDidChange(()=>this.updateColors())),this._register(l.onDidChangeConfiguration(f=>{const C=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(146);const _=C!==this._isColorDecoratorsEnabled||f.hasChanged(21),E=f.hasChanged(146);(_||E)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(146),this.updateColors()}isEnabled(){const l=this._editor.getModel();if(!l)return!1;const r=l.getLanguageId(),h=this._configurationService.getValue(r);if(h&&typeof h=="object"){const u=h.colorDecorators;if(u&&u.enable!==void 0&&!u.enable)return u.enable}return this._editor.getOption(20)}static get(l){return l.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const l=this._editor.getModel();!l||!this._languageFeaturesService.colorProvider.has(l)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new L.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(l)))})),this.beginCompute())}async beginCompute(){this._computePromise=(0,L.createCancelablePromise)(async l=>{const r=this._editor.getModel();if(!r)return[];const h=new p.StopWatch(!1),u=await(0,o.getColors)(this._languageFeaturesService.colorProvider,r,l,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(r,h.elapsed()),u});try{const l=await this._computePromise;this.updateDecorations(l),this.updateColorDecorators(l),this._computePromise=null}catch(l){(0,y.onUnexpectedError)(l)}}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(l){const r=l.map(h=>({range:{startLineNumber:h.colorInfo.range.startLineNumber,startColumn:h.colorInfo.range.startColumn,endLineNumber:h.colorInfo.range.endLineNumber,endColumn:h.colorInfo.range.endColumn},options:n.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(h=>{this._decorationsIds=h.deltaDecorations(this._decorationsIds,r),this._colorDatas=new Map,this._decorationsIds.forEach((u,f)=>this._colorDatas.set(u,l[f]))})}updateColorDecorators(l){this._colorDecorationClassRefs.clear();const r=[],h=this._editor.getOption(21);for(let f=0;f<l.length&&r.length<h;f++){const{red:C,green:_,blue:E,alpha:I}=l[f].colorInfo.color,T=new k.RGBA(Math.round(C*255),Math.round(_*255),Math.round(E*255),I),A=`rgba(${T.r}, ${T.g}, ${T.b}, ${T.a})`,R=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:A}));r.push({range:{startLineNumber:l[f].colorInfo.range.startLineNumber,startColumn:l[f].colorInfo.range.startColumn,endLineNumber:l[f].colorInfo.range.endLineNumber,endColumn:l[f].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:w.noBreakWhitespace,inlineClassName:`${R.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}const u=h<l.length?h:!1;this._decoratorLimitReporter.update(l.length,u),this._colorDecoratorIds.set(r)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(l){const r=this._editor.getModel();if(!r)return null;const h=r.getDecorationsInRange(a.Range.fromPositions(l,l)).filter(u=>this._colorDatas.has(u.id));return h.length===0?null:this._colorDatas.get(h[0].id)}isColorDecoration(l){return this._colorDecoratorIds.has(l)}};e.ColorDetector=c,c.ID="editor.contrib.colorDetector",c.RECOMPUTE_TIME=1e3,e.ColorDetector=c=m=De([he(1,g.IConfigurationService),he(2,t.ILanguageFeaturesService),he(3,i.ILanguageFeatureDebounceService)],c);class d{constructor(){this._onDidChange=new D.Emitter,this._computed=0,this._limited=!1}update(l,r){(l!==this._computed||r!==this._limited)&&(this._computed=l,this._limited=r,this._onDidChange.fire())}}e.DecoratorLimitReporter=d,(0,b.registerEditorContribution)(c.ID,c,1)}),define(ne[383],se([1,0,15,19,39,2,5,361,382,562,852,24,6]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerParticipant=e.StandaloneColorPickerHover=e.ColorHoverParticipant=e.ColorHover=void 0;class i{constructor(r,h,u,f){this.owner=r,this.range=h,this.model=u,this.provider=f,this.forceShowAtRange=!0}isValidForHoverAnchor(r){return r.type===1&&this.range.startColumn<=r.range.startColumn&&this.range.endColumn>=r.range.endColumn}}e.ColorHover=i;let t=class{constructor(r,h){this._editor=r,this._themeService=h,this.hoverOrdinal=2}computeSync(r,h){return[]}computeAsync(r,h,u){return L.AsyncIterableObject.fromPromise(this._computeAsync(r,h,u))}async _computeAsync(r,h,u){if(!this._editor.hasModel())return[];const f=w.ColorDetector.get(this._editor);if(!f)return[];for(const C of h){if(!f.isColorDecoration(C))continue;const _=f.getColorData(C.range.getStartPosition());if(_)return[await m(this,this._editor.getModel(),_.colorInfo,_.provider)]}return[]}renderHoverParts(r,h){return c(this,this._editor,this._themeService,h,r)}};e.ColorHoverParticipant=t,e.ColorHoverParticipant=t=De([he(1,a.IThemeService)],t);class o{constructor(r,h,u,f){this.owner=r,this.range=h,this.model=u,this.provider=f}}e.StandaloneColorPickerHover=o;let g=class{constructor(r,h){this._editor=r,this._themeService=h,this._color=null}async createColorHover(r,h,u){if(!this._editor.hasModel()||!w.ColorDetector.get(this._editor))return null;const C=await(0,p.getColors)(u,this._editor.getModel(),k.CancellationToken.None);let _=null,E=null;for(const R of C){const M=R.colorInfo;S.Range.containsRange(M.range,r.range)&&(_=M,E=R.provider)}const I=_??r,T=E??h,A=!!_;return{colorHover:await m(this,this._editor.getModel(),I,T),foundInEditor:A}}async updateEditorModel(r){if(!this._editor.hasModel())return;const h=r.model;let u=new S.Range(r.range.startLineNumber,r.range.startColumn,r.range.endLineNumber,r.range.endColumn);this._color&&(await s(this._editor.getModel(),h,this._color,u,r),u=d(this._editor,u,h))}renderHoverParts(r,h){return c(this,this._editor,this._themeService,h,r)}set color(r){this._color=r}get color(){return this._color}};e.StandaloneColorPickerParticipant=g,e.StandaloneColorPickerParticipant=g=De([he(1,a.IThemeService)],g);async function m(l,r,h,u){const f=r.getValueInRange(h.range),{red:C,green:_,blue:E,alpha:I}=h.color,T=new y.RGBA(Math.round(C*255),Math.round(_*255),Math.round(E*255),I),A=new y.Color(T),R=await(0,p.getColorPresentations)(r,h,u,k.CancellationToken.None),M=new v.ColorPickerModel(A,[],0);return M.colorPresentations=R||[],M.guessColorPresentation(A,f),l instanceof t?new i(l,S.Range.lift(h.range),M,u):new o(l,S.Range.lift(h.range),M,u)}function c(l,r,h,u,f){if(u.length===0||!r.hasModel())return D.Disposable.None;if(f.setMinimumDimensions){const M=r.getOption(67)+8;f.setMinimumDimensions(new n.Dimension(302,M))}const C=new D.DisposableStore,_=u[0],E=r.getModel(),I=_.model,T=C.add(new b.ColorPickerWidget(f.fragment,I,r.getOption(142),h,l instanceof g));f.setColorPicker(T);let A=!1,R=new S.Range(_.range.startLineNumber,_.range.startColumn,_.range.endLineNumber,_.range.endColumn);if(l instanceof g){const M=u[0].model.color;l.color=M,s(E,I,M,R,_),C.add(I.onColorFlushed(N=>{l.color=N}))}else C.add(I.onColorFlushed(async M=>{await s(E,I,M,R,_),A=!0,R=d(r,R,I)}));return C.add(I.onDidChangeColor(M=>{s(E,I,M,R,_)})),C.add(r.onDidChangeModelContent(M=>{A?A=!1:(f.hide(),r.focus())})),C}function d(l,r,h){var u,f;const C=[],_=(u=h.presentation.textEdit)!==null&&u!==void 0?u:{range:r,text:h.presentation.label,forceMoveMarkers:!1};C.push(_),h.presentation.additionalTextEdits&&C.push(...h.presentation.additionalTextEdits);const E=S.Range.lift(_.range),I=l.getModel()._setTrackedRange(null,E,3);return l.executeEdits("colorpicker",C),l.pushUndoStop(),(f=l.getModel()._getTrackedRange(I))!==null&&f!==void 0?f:E}async function s(l,r,h,u,f){const C=await(0,p.getColorPresentations)(l,{range:u,color:{red:h.rgba.r/255,green:h.rgba.g/255,blue:h.rgba.b/255,alpha:h.rgba.a}},f.provider,k.CancellationToken.None);r.colorPresentations=C||[]}}),define(ne[907],se([1,0,2,17,16,9,5,23,38,564,464]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function b(n){return k.isMacintosh?n.altKey:n.ctrlKey}class a extends L.Disposable{constructor(i){super(),this._editor=i,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(i){!this._editor.getOption(35)||this._editor.getOption(22)||(b(i)&&(this._modifierPressed=!0),this._mouseDown&&b(i)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(i){!this._editor.getOption(35)||this._editor.getOption(22)||(b(i)&&(this._modifierPressed=!1),this._mouseDown&&i.keyCode===a.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(i){this._mouseDown=!0}_onEditorMouseUp(i){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(i){const t=i.target;if(this._dragSelection===null){const g=(this._editor.getSelections()||[]).filter(m=>t.position&&m.containsPosition(t.position));if(g.length===1)this._dragSelection=g[0];else return}b(i.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(i){if(i.target&&(this._hitContent(i.target)||this._hitMargin(i.target))&&i.target.position){const t=new D.Position(i.target.position.lineNumber,i.target.position.column);if(this._dragSelection===null){let o=null;if(i.event.shiftKey){const g=this._editor.getSelection();if(g){const{selectionStartLineNumber:m,selectionStartColumn:c}=g;o=[new p.Selection(m,c,t.lineNumber,t.column)]}}else o=(this._editor.getSelections()||[]).map(g=>g.containsPosition(t)?new p.Selection(t.lineNumber,t.column,t.lineNumber,t.column):g);this._editor.setSelections(o||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(b(i.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(a.ID,new v.DragAndDropCommand(this._dragSelection,t,b(i.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(i){this._dndDecorationIds.set([{range:new S.Range(i.lineNumber,i.column,i.lineNumber,i.column),options:a._DECORATION_OPTIONS}]),this._editor.revealPosition(i,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(i){return i.type===6||i.type===7}_hitMargin(i){return i.type===2||i.type===3||i.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=a,a.ID="editor.contrib.dragAndDrop",a.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,a._DECORATION_OPTIONS=w.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,y.registerEditorContribution)(a.ID,a,2)}),define(ne[908],se([1,0,5,40,38,31,24]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class p{constructor(v){this._editor=v,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const v=this._findScopeDecorationIds.map(b=>this._editor.getModel().getDecorationRange(b)).filter(b=>!!b);if(v.length)return v}return null}getStartPosition(){return this._startPosition}setStartPosition(v){this._startPosition=v,this.setCurrentFindMatch(null)}_getDecorationIndex(v){const b=this._decorations.indexOf(v);return b>=0?b+1:1}getDecorationRangeAt(v){const b=v<this._decorations.length?this._decorations[v]:null;return b?this._editor.getModel().getDecorationRange(b):null}getCurrentMatchesPosition(v){const b=this._editor.getModel().getDecorationsInRange(v);for(const a of b){const n=a.options;if(n===p._FIND_MATCH_DECORATION||n===p._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(a.id)}return 0}setCurrentFindMatch(v){let b=null,a=0;if(v)for(let n=0,i=this._decorations.length;n<i;n++){const t=this._editor.getModel().getDecorationRange(this._decorations[n]);if(v.equalsRange(t)){b=this._decorations[n],a=n+1;break}}return(this._highlightedDecorationId!==null||b!==null)&&this._editor.changeDecorations(n=>{if(this._highlightedDecorationId!==null&&(n.changeDecorationOptions(this._highlightedDecorationId,p._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),b!==null&&(this._highlightedDecorationId=b,n.changeDecorationOptions(this._highlightedDecorationId,p._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),b!==null){let i=this._editor.getModel().getDecorationRange(b);if(i.startLineNumber!==i.endLineNumber&&i.endColumn===1){const t=i.endLineNumber-1,o=this._editor.getModel().getLineMaxColumn(t);i=new L.Range(i.startLineNumber,i.startColumn,t,o)}this._rangeHighlightDecorationId=n.addDecoration(i,p._RANGE_HIGHLIGHT_DECORATION)}}),a}set(v,b){this._editor.changeDecorations(a=>{let n=p._FIND_MATCH_DECORATION;const i=[];if(v.length>1e3){n=p._FIND_MATCH_NO_OVERVIEW_DECORATION;const o=this._editor.getModel().getLineCount(),m=this._editor.getLayoutInfo().height/o,c=Math.max(2,Math.ceil(3/m));let d=v[0].range.startLineNumber,s=v[0].range.endLineNumber;for(let l=1,r=v.length;l<r;l++){const h=v[l].range;s+c>=h.startLineNumber?h.endLineNumber>s&&(s=h.endLineNumber):(i.push({range:new L.Range(d,1,s,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),d=h.startLineNumber,s=h.endLineNumber)}i.push({range:new L.Range(d,1,s,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const t=new Array(v.length);for(let o=0,g=v.length;o<g;o++)t[o]={range:v[o].range,options:n};this._decorations=a.deltaDecorations(this._decorations,t),this._overviewRulerApproximateDecorations=a.deltaDecorations(this._overviewRulerApproximateDecorations,i),this._rangeHighlightDecorationId&&(a.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(o=>a.removeDecoration(o)),this._findScopeDecorationIds=[]),b?.length&&(this._findScopeDecorationIds=b.map(o=>a.addDecoration(o,p._FIND_SCOPE_DECORATION)))})}matchBeforePosition(v){if(this._decorations.length===0)return null;for(let b=this._decorations.length-1;b>=0;b--){const a=this._decorations[b],n=this._editor.getModel().getDecorationRange(a);if(!(!n||n.endLineNumber>v.lineNumber)){if(n.endLineNumber<v.lineNumber)return n;if(!(n.endColumn>v.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(v){if(this._decorations.length===0)return null;for(let b=0,a=this._decorations.length;b<a;b++){const n=this._decorations[b],i=this._editor.getModel().getDecorationRange(n);if(!(!i||i.startLineNumber<v.lineNumber)){if(i.startLineNumber>v.lineNumber)return i;if(!(i.startColumn<v.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let v=[];return v=v.concat(this._decorations),v=v.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&v.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&v.push(this._rangeHighlightDecorationId),v}}e.FindDecorations=p,p._CURRENT_FIND_MATCH_DECORATION=y.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:k.MinimapPosition.Inline}}),p._FIND_MATCH_DECORATION=y.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,S.themeColorFromId)(D.minimapFindMatch),position:k.MinimapPosition.Inline}}),p._FIND_MATCH_NO_OVERVIEW_DECORATION=y.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),p._FIND_MATCH_ONLY_OVERVIEW_DECORATION=y.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,S.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),p._RANGE_HIGHLIGHT_DECORATION=y.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),p._FIND_SCOPE_DECORATION=y.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(ne[201],se([1,0,62,15,2,134,9,5,23,187,908,565,566,14]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new i.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new i.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new i.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},e.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},e.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},e.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},e.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const t=240;class o{constructor(m,c){this._toDispose=new y.DisposableStore,this._editor=m,this._state=c,this._isDisposed=!1,this._startSearchingTimer=new k.TimeoutTimer,this._decorations=new b.FindDecorations(m),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new k.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(d=>{(d.reason===3||d.reason===5||d.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(d=>{this._ignoreModelContentChanged||(d.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(d=>this._onStateChanged(d))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,y.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(m){this._isDisposed||this._editor.hasModel()&&(m.searchString||m.isReplaceRevealed||m.isRegex||m.wholeWord||m.matchCase||m.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{m.searchScope?this.research(m.moveCursor,this._state.searchScope):this.research(m.moveCursor)},t)):m.searchScope?this.research(m.moveCursor,this._state.searchScope):this.research(m.moveCursor))}static _getSearchRange(m,c){return c||m.getFullModelRange()}research(m,c){let d=null;typeof c<"u"?c!==null&&(Array.isArray(c)?d=c:d=[c]):d=this._decorations.getFindScopes(),d!==null&&(d=d.map(h=>{if(h.startLineNumber!==h.endLineNumber){let u=h.endLineNumber;return h.endColumn===1&&(u=u-1),new p.Range(h.startLineNumber,1,u,this._editor.getModel().getLineMaxColumn(u))}return h}));const s=this._findMatches(d,!1,e.MATCHES_LIMIT);this._decorations.set(s,d);const l=this._editor.getSelection();let r=this._decorations.getCurrentMatchesPosition(l);if(r===0&&s.length>0){const h=(0,L.findFirstIdxMonotonousOrArrLen)(s.map(u=>u.range),u=>p.Range.compareRangesUsingStarts(u,l)>=0);r=h>0?h-1+1:r}this._state.changeMatchInfo(r,this._decorations.getCount(),void 0),m&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const m=this._decorations.getFindScope();return m&&this._editor.revealRangeInCenterIfOutsideViewport(m,0),!0}return!1}_setCurrentFindMatch(m){const c=this._decorations.setCurrentFindMatch(m);this._state.changeMatchInfo(c,this._decorations.getCount(),m),this._editor.setSelection(m),this._editor.revealRangeInCenterIfOutsideViewport(m,0)}_prevSearchPosition(m){const c=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:d,column:s}=m;const l=this._editor.getModel();return c||s===1?(d===1?d=l.getLineCount():d--,s=l.getLineMaxColumn(d)):s--,new S.Position(d,s)}_moveToPrevMatch(m,c=!1){if(!this._state.canNavigateBack()){const C=this._decorations.matchAfterPosition(m);C&&this._setCurrentFindMatch(C);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let C=this._decorations.matchBeforePosition(m);C&&C.isEmpty()&&C.getStartPosition().equals(m)&&(m=this._prevSearchPosition(m),C=this._decorations.matchBeforePosition(m)),C&&this._setCurrentFindMatch(C);return}if(this._cannotFind())return;const d=this._decorations.getFindScope(),s=o._getSearchRange(this._editor.getModel(),d);s.getEndPosition().isBefore(m)&&(m=s.getEndPosition()),m.isBefore(s.getStartPosition())&&(m=s.getEndPosition());const{lineNumber:l,column:r}=m,h=this._editor.getModel();let u=new S.Position(l,r),f=h.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(130):null,!1);if(f&&f.range.isEmpty()&&f.range.getStartPosition().equals(u)&&(u=this._prevSearchPosition(u),f=h.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(130):null,!1)),!!f){if(!c&&!s.containsRange(f.range))return this._moveToPrevMatch(f.range.getStartPosition(),!0);this._setCurrentFindMatch(f.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(m){const c=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:d,column:s}=m;const l=this._editor.getModel();return c||s===l.getLineMaxColumn(d)?(d===l.getLineCount()?d=1:d++,s=1):s++,new S.Position(d,s)}_moveToNextMatch(m){if(!this._state.canNavigateForward()){const d=this._decorations.matchBeforePosition(m);d&&this._setCurrentFindMatch(d);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let d=this._decorations.matchAfterPosition(m);d&&d.isEmpty()&&d.getStartPosition().equals(m)&&(m=this._nextSearchPosition(m),d=this._decorations.matchAfterPosition(m)),d&&this._setCurrentFindMatch(d);return}const c=this._getNextMatch(m,!1,!0);c&&this._setCurrentFindMatch(c.range)}_getNextMatch(m,c,d,s=!1){if(this._cannotFind())return null;const l=this._decorations.getFindScope(),r=o._getSearchRange(this._editor.getModel(),l);r.getEndPosition().isBefore(m)&&(m=r.getStartPosition()),m.isBefore(r.getStartPosition())&&(m=r.getStartPosition());const{lineNumber:h,column:u}=m,f=this._editor.getModel();let C=new S.Position(h,u),_=f.findNextMatch(this._state.searchString,C,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(130):null,c);return d&&_&&_.range.isEmpty()&&_.range.getStartPosition().equals(C)&&(C=this._nextSearchPosition(C),_=f.findNextMatch(this._state.searchString,C,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(130):null,c)),_?!s&&!r.containsRange(_.range)?this._getNextMatch(_.range.getEndPosition(),c,d,!0):_:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(m){const c=this._decorations.getDecorationRangeAt(m);c&&this._setCurrentFindMatch(c)}moveToMatch(m){this._moveToMatch(m)}_getReplacePattern(){return this._state.isRegex?(0,n.parseReplaceString)(this._state.replaceString):n.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const m=this._getReplacePattern(),c=this._editor.getSelection(),d=this._getNextMatch(c.getStartPosition(),!0,!1);if(d)if(c.equalsRange(d.range)){const s=m.buildReplaceString(d.matches,this._state.preserveCase),l=new D.ReplaceCommand(c,s);this._executeEditorCommand("replace",l),this._decorations.setStartPosition(new S.Position(c.startLineNumber,c.startColumn+s.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(d.range)}_findMatches(m,c,d){const s=(m||[null]).map(l=>o._getSearchRange(this._editor.getModel(),l));return this._editor.getModel().findMatches(this._state.searchString,s,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(130):null,c,d)}replaceAll(){if(!this._hasMatches())return;const m=this._decorations.getFindScopes();m===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(m),this.research(!1)}_largeReplaceAll(){const c=new v.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(130):null).parseSearchRequest();if(!c)return;let d=c.regex;if(!d.multiline){let _="mu";d.ignoreCase&&(_+="i"),d.global&&(_+="g"),d=new RegExp(d.source,_)}const s=this._editor.getModel(),l=s.getValue(1),r=s.getFullModelRange(),h=this._getReplacePattern();let u;const f=this._state.preserveCase;h.hasReplacementPatterns||f?u=l.replace(d,function(){return h.buildReplaceString(arguments,f)}):u=l.replace(d,h.buildReplaceString(null,f));const C=new D.ReplaceCommandThatPreservesSelection(r,u,this._editor.getSelection());this._executeEditorCommand("replaceAll",C)}_regularReplaceAll(m){const c=this._getReplacePattern(),d=this._findMatches(m,c.hasReplacementPatterns||this._state.preserveCase,1073741824),s=[];for(let r=0,h=d.length;r<h;r++)s[r]=c.buildReplaceString(d[r].matches,this._state.preserveCase);const l=new a.ReplaceAllCommand(this._editor.getSelection(),d.map(r=>r.range),s);this._executeEditorCommand("replaceAll",l)}selectAllMatches(){if(!this._hasMatches())return;const m=this._decorations.getFindScopes();let d=this._findMatches(m,!1,1073741824).map(l=>new w.Selection(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn));const s=this._editor.getSelection();for(let l=0,r=d.length;l<r;l++)if(d[l].equalsRange(s)){d=[s].concat(d.slice(0,l)).concat(d.slice(l+1));break}this._editor.setSelections(d)}_executeEditorCommand(m,c){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(m,c),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=o}),define(ne[909],se([1,0,6,331,77,15,201,31,466]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class w extends y.Widget{constructor(b,a,n){super(),this._hideSoon=this._register(new D.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=b,this._state=a,this._keybindingService=n,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const i={inputActiveOptionBorder:(0,p.asCssVariable)(p.inputActiveOptionBorder),inputActiveOptionForeground:(0,p.asCssVariable)(p.inputActiveOptionForeground),inputActiveOptionBackground:(0,p.asCssVariable)(p.inputActiveOptionBackground)};this.caseSensitive=this._register(new k.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,...i})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsToggle({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,...i})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexToggle({appendTitle:this._keybindingLabelFor(S.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,...i})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(t=>{let o=!1;t.isRegex&&(this.regex.checked=this._state.isRegex,o=!0),t.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,o=!0),t.matchCase&&(this.caseSensitive.checked=this._state.matchCase,o=!0),!this._state.isRevealed&&o&&this._revealTemporarily()})),this._register(L.addDisposableListener(this._domNode,L.EventType.MOUSE_LEAVE,t=>this._onMouseLeave())),this._register(L.addDisposableListener(this._domNode,"mouseover",t=>this._onMouseOver()))}_keybindingLabelFor(b){const a=this._keybindingService.lookupKeybinding(b);return a?` (${a.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return w.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}e.FindOptionsWidget=w,w.ID="editor.contrib.findOptionsWidget"}),define(ne[910],se([1,0,7,2,5,201]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function S(w,v){return w===1?!0:w===2?!1:v}class p extends k.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return S(this._isRegexOverride,this._isRegex)}get wholeWord(){return S(this._wholeWordOverride,this._wholeWord)}get matchCase(){return S(this._matchCaseOverride,this._matchCase)}get preserveCase(){return S(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new L.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(v,b,a){const n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let i=!1;b===0&&(v=0),v>b&&(v=b),this._matchesPosition!==v&&(this._matchesPosition=v,n.matchesPosition=!0,i=!0),this._matchesCount!==b&&(this._matchesCount=b,n.matchesCount=!0,i=!0),typeof a<"u"&&(y.Range.equalsRange(this._currentMatch,a)||(this._currentMatch=a,n.currentMatch=!0,i=!0)),i&&this._onFindReplaceStateChange.fire(n)}change(v,b,a=!0){var n;const i={moveCursor:b,updateHistory:a,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let t=!1;const o=this.isRegex,g=this.wholeWord,m=this.matchCase,c=this.preserveCase;typeof v.searchString<"u"&&this._searchString!==v.searchString&&(this._searchString=v.searchString,i.searchString=!0,t=!0),typeof v.replaceString<"u"&&this._replaceString!==v.replaceString&&(this._replaceString=v.replaceString,i.replaceString=!0,t=!0),typeof v.isRevealed<"u"&&this._isRevealed!==v.isRevealed&&(this._isRevealed=v.isRevealed,i.isRevealed=!0,t=!0),typeof v.isReplaceRevealed<"u"&&this._isReplaceRevealed!==v.isReplaceRevealed&&(this._isReplaceRevealed=v.isReplaceRevealed,i.isReplaceRevealed=!0,t=!0),typeof v.isRegex<"u"&&(this._isRegex=v.isRegex),typeof v.wholeWord<"u"&&(this._wholeWord=v.wholeWord),typeof v.matchCase<"u"&&(this._matchCase=v.matchCase),typeof v.preserveCase<"u"&&(this._preserveCase=v.preserveCase),typeof v.searchScope<"u"&&(!((n=v.searchScope)===null||n===void 0)&&n.every(d=>{var s;return(s=this._searchScope)===null||s===void 0?void 0:s.some(l=>!y.Range.equalsRange(l,d))})||(this._searchScope=v.searchScope,i.searchScope=!0,t=!0)),typeof v.loop<"u"&&this._loop!==v.loop&&(this._loop=v.loop,i.loop=!0,t=!0),typeof v.isSearching<"u"&&this._isSearching!==v.isSearching&&(this._isSearching=v.isSearching,i.isSearching=!0,t=!0),typeof v.filters<"u"&&(this._filters?this._filters.update(v.filters):this._filters=v.filters,i.filters=!0,t=!0),this._isRegexOverride=typeof v.isRegexOverride<"u"?v.isRegexOverride:0,this._wholeWordOverride=typeof v.wholeWordOverride<"u"?v.wholeWordOverride:0,this._matchCaseOverride=typeof v.matchCaseOverride<"u"?v.matchCaseOverride:0,this._preserveCaseOverride=typeof v.preserveCaseOverride<"u"?v.preserveCaseOverride:0,o!==this.isRegex&&(t=!0,i.isRegex=!0),g!==this.wholeWord&&(t=!0,i.wholeWord=!0),m!==this.matchCase&&(t=!0,i.matchCase=!0),c!==this.preserveCase&&(t=!0,i.preserveCase=!0),t&&this._onFindReplaceStateChange.fire(i)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=p}),define(ne[911],se([1,0,6,44,161,160,77,15,27,12,2,17,11,5,201,683,364,771,31,82,24,29,89,20,102,467]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const f=(0,d.registerIcon)("find-selection",w.Codicon.selection,o.localize(0,null)),C=(0,d.registerIcon)("find-collapsed",w.Codicon.chevronRight,o.localize(1,null)),_=(0,d.registerIcon)("find-expanded",w.Codicon.chevronDown,o.localize(2,null));e.findReplaceIcon=(0,d.registerIcon)("find-replace",w.Codicon.replace,o.localize(3,null)),e.findReplaceAllIcon=(0,d.registerIcon)("find-replace-all",w.Codicon.replaceAll,o.localize(4,null)),e.findPreviousMatchIcon=(0,d.registerIcon)("find-previous-match",w.Codicon.arrowUp,o.localize(5,null)),e.findNextMatchIcon=(0,d.registerIcon)("find-next-match",w.Codicon.arrowDown,o.localize(6,null));const E=o.localize(7,null),I=o.localize(8,null),T=o.localize(9,null),A=o.localize(10,null),R=o.localize(11,null),M=o.localize(12,null),N=o.localize(13,null),P=o.localize(14,null),F=o.localize(15,null),O=o.localize(16,null),B=o.localize(17,null),W=o.localize(18,null),V=o.localize(19,null,t.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=o.localize(20,null),e.NLS_NO_RESULTS=o.localize(21,null);const z=419,j=275-54;let x=69;const re=33,ie="ctrlEnterReplaceAll.windows.donotask",J=a.isMacintosh?256:2048;class X{constructor(Q){this.afterLineNumber=Q,this.heightInPx=re,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=X;function Y(pe,Q,U){const Z=!!Q.match(/\n/);if(U&&Z&&U.selectionStart>0){pe.stopPropagation();return}}function le(pe,Q,U){const Z=!!Q.match(/\n/);if(U&&Z&&U.selectionEnd<U.value.length){pe.stopPropagation();return}}class de extends S.Widget{constructor(Q,U,Z,H,q,te,G,$,oe){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=Q,this._controller=U,this._state=Z,this._contextViewProvider=H,this._keybindingService=q,this._contextKeyService=te,this._storageService=$,this._notificationService=oe,this._ctrlEnterReplaceAllWarningPrompted=!!$.getBoolean(ie,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new p.Delayer(500),this._register((0,b.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(ae=>this._onStateChanged(ae))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(ae=>{if(ae.hasChanged(91)&&(this._codeEditor.getOption(91)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),ae.hasChanged(144)&&this._tryUpdateWidgetWidth(),ae.hasChanged(2)&&this.updateAccessibilitySupport(),ae.hasChanged(41)){const ue=this._codeEditor.getOption(41).loop;this._state.change({loop:ue},!1);const ce=this._codeEditor.getOption(41).addExtraSpaceOnTop;ce&&!this._viewZone&&(this._viewZone=new X(0),this._showViewZone()),!ce&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(async()=>{if(this._isVisible){const ae=await this._controller.getGlobalBufferTerm();ae&&ae!==this._state.searchString&&(this._state.change({searchString:ae},!1),this._findInput.select())}})),this._findInputFocused=t.CONTEXT_FIND_INPUT_FOCUSED.bindTo(te),this._findFocusTracker=this._register(L.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=t.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(te),this._replaceFocusTracker=this._register(L.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new X(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(ae=>{if(ae.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return de.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(Q){if(Q.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(Q.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),Q.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),Q.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(91)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=L.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(Q.isRevealed||Q.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),Q.isRegex&&this._findInput.setRegex(this._state.isRegex),Q.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),Q.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),Q.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),Q.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),Q.searchString||Q.matchesCount||Q.matchesPosition){const U=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",U),this._updateMatchesCount(),this._updateButtons()}(Q.searchString||Q.currentMatch)&&this._layoutViewZone(),Q.updateHistory&&this._delayedUpdateHistory(),Q.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,v.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=x+"px",this._state.matchesCount>=t.MATCHES_LIMIT?this._matchesCount.title=V:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let Q;if(this._state.matchesCount>0){let U=String(this._state.matchesCount);this._state.matchesCount>=t.MATCHES_LIMIT&&(U+="+");let Z=String(this._state.matchesPosition);Z==="0"&&(Z="?"),Q=n.format(e.NLS_MATCHES_LOCATION,Z,U)}else Q=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(Q)),(0,k.alert)(this._getAriaLabel(Q,this._state.currentMatch,this._state.searchString)),x=Math.max(x,this._matchesCount.clientWidth)}_getAriaLabel(Q,U,Z){if(Q===e.NLS_NO_RESULTS)return Z===""?o.localize(22,null,Q):o.localize(23,null,Q,Z);if(U){const H=o.localize(24,null,Q,Z,U.startLineNumber+":"+U.startColumn),q=this._codeEditor.getModel();return q&&U.startLineNumber<=q.getLineCount()&&U.startLineNumber>=1?`${q.getLineContent(U.startLineNumber)}, ${H}`:H}return o.localize(25,null,Q,Z)}_updateToggleSelectionFindButton(){const Q=this._codeEditor.getSelection(),U=Q?Q.startLineNumber!==Q.endLineNumber||Q.startColumn!==Q.endColumn:!1,Z=this._toggleSelectionFind.checked;this._isVisible&&(Z||U)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const Q=this._state.searchString.length>0,U=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&Q&&U&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&Q&&U&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&Q),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&Q),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const Z=!this._codeEditor.getOption(91);this._toggleReplaceBtn.setEnabled(this._isVisible&&Z)}_reveal(){if(this._revealTimeouts.forEach(Q=>{clearTimeout(Q)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const Q=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const Z=!!Q&&Q.startLineNumber!==Q.endLineNumber;this._toggleSelectionFind.checked=Z;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let U=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&Q){const Z=this._codeEditor.getDomNode();if(Z){const H=L.getDomNodePagePosition(Z),q=this._codeEditor.getScrolledVisiblePosition(Q.getStartPosition()),te=H.left+(q?q.left:0),G=q?q.top:0;if(this._viewZone&&G<this._viewZone.heightInPx){Q.endLineNumber>Q.startLineNumber&&(U=!1);const $=L.getTopLeftOffset(this._domNode).left;te>$&&(U=!1);const oe=this._codeEditor.getScrolledVisiblePosition(Q.getEndPosition());H.left+(oe?oe.left:0)>$&&(U=!1)}}}this._showViewZone(U)}}_hide(Q){this._revealTimeouts.forEach(U=>{clearTimeout(U)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),Q&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(Q){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const Z=this._viewZone;this._viewZoneId!==void 0||!Z||this._codeEditor.changeViewZones(H=>{Z.heightInPx=this._getHeight(),this._viewZoneId=H.addZone(Z),this._codeEditor.setScrollTop(Q||this._codeEditor.getScrollTop()+Z.heightInPx)})}_showViewZone(Q=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new X(0));const Z=this._viewZone;this._codeEditor.changeViewZones(H=>{if(this._viewZoneId!==void 0){const q=this._getHeight();if(q===Z.heightInPx)return;const te=q-Z.heightInPx;Z.heightInPx=q,H.layoutZone(this._viewZoneId),Q&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+te);return}else{let q=this._getHeight();if(q-=this._codeEditor.getOption(84).top,q<=0)return;Z.heightInPx=q,this._viewZoneId=H.addZone(Z),Q&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+q)}})}_removeViewZone(){this._codeEditor.changeViewZones(Q=>{this._viewZoneId!==void 0&&(Q.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const Q=this._codeEditor.getLayoutInfo();if(Q.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const Z=Q.width,H=Q.minimap.minimapWidth;let q=!1,te=!1,G=!1;if(this._resized&&L.getTotalWidth(this._domNode)>z){this._domNode.style.maxWidth=`${Z-28-H-15}px`,this._replaceInput.width=L.getTotalWidth(this._findInput.domNode);return}if(z+28+H>=Z&&(te=!0),z+28+H-x>=Z&&(G=!0),z+28+H-x>=Z+50&&(q=!0),this._domNode.classList.toggle("collapsed-find-widget",q),this._domNode.classList.toggle("narrow-find-widget",G),this._domNode.classList.toggle("reduced-find-widget",te),!G&&!q&&(this._domNode.style.maxWidth=`${Z-28-H-15}px`),this._findInput.layout({collapsedFindWidget:q,narrowFindWidget:G,reducedFindWidget:te}),this._resized){const $=this._findInput.inputBox.element.clientWidth;$>0&&(this._replaceInput.width=$)}else this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode))}_getHeight(){let Q=0;return Q+=4,Q+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(Q+=4,Q+=this._replaceInput.inputBox.height+2),Q+=4,Q}_tryUpdateHeight(){const Q=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===Q?!1:(this._cachedHeight=Q,this._domNode.style.height=`${Q}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const Q=this._codeEditor.getSelections();Q.map(U=>{U.endColumn===1&&U.endLineNumber>U.startLineNumber&&(U=U.setEndPosition(U.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(U.endLineNumber-1)));const Z=this._state.currentMatch;return U.startLineNumber!==U.endLineNumber&&!i.Range.equalsRange(U,Z)?U:null}).filter(U=>!!U),Q.length&&this._state.change({searchScope:Q},!0)}}_onFindInputMouseDown(Q){Q.middleButton&&Q.stopPropagation()}_onFindInputKeyDown(Q){if(Q.equals(J|3))if(this._keybindingService.dispatchEvent(Q,Q.target)){Q.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),Q.preventDefault();return}if(Q.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),Q.preventDefault();return}if(Q.equals(2066)){this._codeEditor.focus(),Q.preventDefault();return}if(Q.equals(16))return Y(Q,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(Q.equals(18))return le(Q,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(Q){if(Q.equals(J|3))if(this._keybindingService.dispatchEvent(Q,Q.target)){Q.preventDefault();return}else{a.isWindows&&a.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(o.localize(26,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ie,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),Q.preventDefault();return}if(Q.equals(2)){this._findInput.focusOnCaseSensitive(),Q.preventDefault();return}if(Q.equals(1026)){this._findInput.focus(),Q.preventDefault();return}if(Q.equals(2066)){this._codeEditor.focus(),Q.preventDefault();return}if(Q.equals(16))return Y(Q,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(Q.equals(18))return le(Q,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(Q){return 0}_keybindingLabelFor(Q){const U=this._keybindingService.lookupKeybinding(Q);return U?` (${U.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new g.ContextScopedFindInput(null,this._contextViewProvider,{width:j,label:I,placeholder:T,appendCaseSensitiveLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleRegexCommand),validation:$=>{if($.length===0||!this._findInput.getRegex())return null;try{return new RegExp($,"gu"),null}catch(oe){return{content:oe.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,m.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:u.defaultInputBoxStyles,toggleStyles:u.defaultToggleStyles},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown($=>this._onFindInputKeyDown($))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown($=>{$.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),$.preventDefault())})),this._register(this._findInput.onRegexKeyDown($=>{$.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),$.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange($=>{this._tryUpdateHeight()&&this._showViewZone()})),a.isLinux&&this._register(this._findInput.onMouseDown($=>this._onFindInputMouseDown($))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new ge({label:A+this._keybindingLabelFor(t.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{(0,h.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.PreviousMatchFindAction)).run().then(void 0,v.onUnexpectedError)}})),this._nextBtn=this._register(new ge({label:R+this._keybindingLabelFor(t.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{(0,h.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.NextMatchFindAction)).run().then(void 0,v.onUnexpectedError)}}));const Z=document.createElement("div");Z.className="find-part",Z.appendChild(this._findInput.domNode);const H=document.createElement("div");H.className="find-actions",Z.appendChild(H),H.appendChild(this._matchesCount),H.appendChild(this._prevBtn.domNode),H.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new y.Toggle({icon:f,title:M+this._keybindingLabelFor(t.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,c.asCssVariable)(c.inputActiveOptionBackground),inputActiveOptionBorder:(0,c.asCssVariable)(c.inputActiveOptionBorder),inputActiveOptionForeground:(0,c.asCssVariable)(c.inputActiveOptionForeground)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let $=this._codeEditor.getSelections();$=$.map(oe=>(oe.endColumn===1&&oe.endLineNumber>oe.startLineNumber&&(oe=oe.setEndPosition(oe.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(oe.endLineNumber-1))),oe.isEmpty()?null:oe)).filter(oe=>!!oe),$.length&&this._state.change({searchScope:$},!0)}}else this._state.change({searchScope:null},!0)})),H.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new ge({label:N+this._keybindingLabelFor(t.FIND_IDS.CloseFindWidgetCommand),icon:d.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:$=>{$.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),$.preventDefault())}})),this._replaceInput=this._register(new g.ContextScopedReplaceInput(null,void 0,{label:P,placeholder:F,appendPreserveCaseLabel:this._keybindingLabelFor(t.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,m.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:u.defaultInputBoxStyles,toggleStyles:u.defaultToggleStyles},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown($=>this._onReplaceInputKeyDown($))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange($=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown($=>{$.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),$.preventDefault())})),this._replaceBtn=this._register(new ge({label:O+this._keybindingLabelFor(t.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:$=>{$.equals(1026)&&(this._closeBtn.focus(),$.preventDefault())}})),this._replaceAllBtn=this._register(new ge({label:B+this._keybindingLabelFor(t.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));const q=document.createElement("div");q.className="replace-part",q.appendChild(this._replaceInput.domNode);const te=document.createElement("div");te.className="replace-actions",q.appendChild(te),te.appendChild(this._replaceBtn.domNode),te.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new ge({label:W,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=E,this._domNode.role="dialog",this._domNode.style.width=`${z}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(Z),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(q),this._resizeSash=this._register(new D.Sash(this._domNode,this,{orientation:0,size:2})),this._resized=!1;let G=z;this._register(this._resizeSash.onDidStart(()=>{G=L.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange($=>{this._resized=!0;const oe=G+$.startX-$.currentX;if(oe<z)return;const ae=parseFloat(L.getComputedStyle(this._domNode).maxWidth)||0;oe>ae||(this._domNode.style.width=`${oe}px`,this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const $=L.getTotalWidth(this._domNode);if($<z)return;let oe=z;if(!this._resized||$===z){const ae=this._codeEditor.getLayoutInfo();oe=ae.width-28-ae.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${oe}px`,this._isReplaceVisible&&(this._replaceInput.width=L.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const Q=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(Q!==2)}}e.FindWidget=de,de.ID="editor.contrib.findWidget";class ge extends S.Widget{constructor(Q){super(),this._opts=Q;let U="button";this._opts.className&&(U=U+" "+this._opts.className),this._opts.icon&&(U=U+" "+l.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=U,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,Z=>{this._opts.onTrigger(),Z.preventDefault()}),this.onkeydown(this._domNode,Z=>{var H,q;if(Z.equals(10)||Z.equals(3)){this._opts.onTrigger(),Z.preventDefault();return}(q=(H=this._opts).onKeyDown)===null||q===void 0||q.call(H,Z)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(Q){this._domNode.classList.toggle("disabled",!Q),this._domNode.setAttribute("aria-disabled",String(!Q)),this._domNode.tabIndex=Q?0:-1}setExpanded(Q){this._domNode.setAttribute("aria-expanded",String(!!Q)),Q?(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(C)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(_))):(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(_)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(C)))}}e.SimpleButton=ge,(0,s.registerThemingParticipant)((pe,Q)=>{const U=pe.getColor(c.editorFindMatchHighlightBorder);U&&Q.addRule(`.monaco-editor .findMatch { border: 1px ${(0,r.isHighContrast)(pe.type)?"dotted":"solid"} ${U}; box-sizing: border-box; }`);const Z=pe.getColor(c.editorFindRangeHighlightBorder);Z&&Q.addRule(`.monaco-editor .findScope { border: 1px ${(0,r.isHighContrast)(pe.type)?"dashed":"solid"} ${Z}; }`);const H=pe.getColor(c.contrastBorder);H&&Q.addRule(`.monaco-editor .find-widget { border: 1px solid ${H}; }`)})}),define(ne[384],se([1,0,15,2,11,16,83,21,40,201,909,910,911,682,28,107,14,56,34,49,72,94,24]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.MoveToMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const u=524288;function f(W,V="single",z=!1){if(!W.hasModel())return null;const K=W.getSelection();if(V==="single"&&K.startLineNumber===K.endLineNumber||V==="multiple"){if(K.isEmpty()){const j=W.getConfiguredWordAtPosition(K.getStartPosition());if(j&&z===!1)return j.word}else if(W.getModel().getValueLengthInRange(K)<u)return W.getModel().getValueInRange(K)}return null}e.getSelectionSearchString=f;let C=h=class extends k.Disposable{get editor(){return this._editor}static get(V){return V.getContribution(h.ID)}constructor(V,z,K,j,x){super(),this._editor=V,this._findWidgetVisible=v.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(z),this._contextKeyService=z,this._storageService=K,this._clipboardService=j,this._notificationService=x,this._updateHistoryDelayer=new L.Delayer(500),this._state=this._register(new a.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(re=>this._onStateChanged(re))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const re=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),re&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(V){this.saveQueryState(V),V.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),V.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(V){V.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),V.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),V.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),V.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!v.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let V=this._editor.getSelections();V=V.map(z=>(z.endColumn===1&&z.endLineNumber>z.startLineNumber&&(z=z.setEndPosition(z.endLineNumber-1,this._editor.getModel().getLineMaxColumn(z.endLineNumber-1))),z.isEmpty()?null:z)).filter(z=>!!z),V.length&&this._state.change({searchScope:V},!0)}}setSearchString(V){this._state.isRegex&&(V=y.escapeRegExpCharacters(V)),this._state.change({searchString:V},!1)}highlightFindOptions(V=!1){}async _start(V,z){if(this.disposeModel(),!this._editor.hasModel())return;const K={...z,isRevealed:!0};if(V.seedSearchStringFromSelection==="single"){const j=f(this._editor,V.seedSearchStringFromSelection,V.seedSearchStringFromNonEmptySelection);j&&(this._state.isRegex?K.searchString=y.escapeRegExpCharacters(j):K.searchString=j)}else if(V.seedSearchStringFromSelection==="multiple"&&!V.updateSearchScope){const j=f(this._editor,V.seedSearchStringFromSelection);j&&(K.searchString=j)}if(!K.searchString&&V.seedSearchStringFromGlobalClipboard){const j=await this.getGlobalBufferTerm();if(!this._editor.hasModel())return;j&&(K.searchString=j)}if(V.forceRevealReplace||K.isReplaceRevealed?K.isReplaceRevealed=!0:this._findWidgetVisible.get()||(K.isReplaceRevealed=!1),V.updateSearchScope){const j=this._editor.getSelections();j.some(x=>!x.isEmpty())&&(K.searchScope=j)}K.loop=V.loop,this._state.change(K,!1),this._model||(this._model=new v.FindModelBoundToEditorModel(this._editor,this._state))}start(V,z){return this._start(V,z)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(V){return this._model?(this._model.moveToMatch(V),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var V;return this._model?!((V=this._editor.getModel())===null||V===void 0)&&V.isTooLargeForHeapOperation()?(this._notificationService.warn(i.localize(0,null)),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}async getGlobalBufferTerm(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}setGlobalBufferTerm(V){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(V)}};e.CommonFindController=C,C.ID="editor.contrib.findController",e.CommonFindController=C=h=De([he(1,g.IContextKeyService),he(2,l.IStorageService),he(3,o.IClipboardService),he(4,d.INotificationService)],C);let _=class extends C{constructor(V,z,K,j,x,re,ie,J){super(V,K,ie,J,re),this._contextViewService=z,this._keybindingService=j,this._themeService=x,this._widget=null,this._findOptionsWidget=null}async _start(V,z){this._widget||this._createFindWidget();const K=this._editor.getSelection();let j=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":j=!0;break;case"never":j=!1;break;case"multiline":{j=!!K&&K.startLineNumber!==K.endLineNumber;break}default:break}V.updateSearchScope=V.updateSearchScope||j,await super._start(V,z),this._widget&&(V.shouldFocus===2?this._widget.focusReplaceInput():V.shouldFocus===1&&this._widget.focusFindInput())}highlightFindOptions(V=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!V?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new n.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new b.FindOptionsWidget(this._editor,this._state,this._keybindingService))}};e.FindController=_,e.FindController=_=De([he(1,m.IContextViewService),he(2,g.IContextKeyService),he(3,c.IKeybindingService),he(4,r.IThemeService),he(5,d.INotificationService),he(6,l.IStorageService),he(7,o.IClipboardService)],_),e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:v.FIND_IDS.StartFindAction,label:i.localize(1,null),alias:"Find",precondition:g.ContextKeyExpr.or(p.EditorContextKeys.focus,g.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(2,null),order:1}})),e.StartFindAction.addImplementation(0,(W,V,z)=>{const K=C.get(V);return K?K.start({forceRevealReplace:!1,seedSearchStringFromSelection:V.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:V.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:V.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:V.getOption(41).loop}):!1});const E={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class I extends D.EditorAction{constructor(){super({id:v.FIND_IDS.StartFindWithArgs,label:i.localize(3,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:E})}async run(V,z,K){const j=C.get(z);if(j){const x=K?{searchString:K.searchString,replaceString:K.replaceString,isReplaceRevealed:K.replaceString!==void 0,isRegex:K.isRegex,wholeWord:K.matchWholeWord,matchCase:K.isCaseSensitive,preserveCase:K.preserveCase}:{};await j.start({forceRevealReplace:!1,seedSearchStringFromSelection:j.getState().searchString.length===0&&z.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:z.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:K?.findInSelection||!1,loop:z.getOption(41).loop},x),j.setGlobalBufferTerm(j.getState().searchString)}}}e.StartFindWithArgsAction=I;class T extends D.EditorAction{constructor(){super({id:v.FIND_IDS.StartFindWithSelection,label:i.localize(4,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}async run(V,z){const K=C.get(z);K&&(await K.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:z.getOption(41).loop}),K.setGlobalBufferTerm(K.getState().searchString))}}e.StartFindWithSelectionAction=T;class A extends D.EditorAction{async run(V,z){const K=C.get(z);K&&!this._run(K)&&(await K.start({forceRevealReplace:!1,seedSearchStringFromSelection:K.getState().searchString.length===0&&z.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:z.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:z.getOption(41).loop}),this._run(K))}}e.MatchFindAction=A;class R extends A{constructor(){super({id:v.FIND_IDS.NextMatchFindAction,label:i.localize(5,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:g.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(V){return V.moveToNextMatch()?(V.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=R;class M extends A{constructor(){super({id:v.FIND_IDS.PreviousMatchFindAction,label:i.localize(6,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:g.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}_run(V){return V.moveToPrevMatch()}}e.PreviousMatchFindAction=M;class N extends D.EditorAction{constructor(){super({id:v.FIND_IDS.GoToMatchFindAction,label:i.localize(7,null),alias:"Go to Match...",precondition:v.CONTEXT_FIND_WIDGET_VISIBLE}),this._highlightDecorations=[]}run(V,z,K){const j=C.get(z);if(!j)return;const x=j.getState().matchesCount;if(x<1){V.get(d.INotificationService).notify({severity:d.Severity.Warning,message:i.localize(8,null)});return}const ie=V.get(s.IQuickInputService).createInputBox();ie.placeholder=i.localize(9,null,x);const J=Y=>{const le=parseInt(Y);if(isNaN(le))return;const de=j.getState().matchesCount;if(le>0&&le<=de)return le-1;if(le<0&&le>=-de)return de+le},X=Y=>{const le=J(Y);if(typeof le=="number"){ie.validationMessage=void 0,j.goToMatch(le);const de=j.getState().currentMatch;de&&this.addDecorations(z,de)}else ie.validationMessage=i.localize(10,null,j.getState().matchesCount),this.clearDecorations(z)};ie.onDidChangeValue(Y=>{X(Y)}),ie.onDidAccept(()=>{const Y=J(ie.value);typeof Y=="number"?(j.goToMatch(Y),ie.hide()):ie.validationMessage=i.localize(11,null,j.getState().matchesCount)}),ie.onDidHide(()=>{this.clearDecorations(z),ie.dispose()}),ie.show()}clearDecorations(V){V.changeDecorations(z=>{this._highlightDecorations=z.deltaDecorations(this._highlightDecorations,[])})}addDecorations(V,z){V.changeDecorations(K=>{this._highlightDecorations=K.deltaDecorations(this._highlightDecorations,[{range:z,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:z,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,r.themeColorFromId)(S.overviewRulerRangeHighlight),position:w.OverviewRulerLane.Full}}}])})}}e.MoveToMatchFindAction=N;class P extends D.EditorAction{async run(V,z){const K=C.get(z);if(!K)return;const j=f(z,"single",!1);j&&K.setSearchString(j),this._run(K)||(await K.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:z.getOption(41).loop}),this._run(K))}}e.SelectionMatchFindAction=P;class F extends P{constructor(){super({id:v.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(12,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2109,weight:100}})}_run(V){return V.moveToNextMatch()}}e.NextSelectionMatchFindAction=F;class O extends P{constructor(){super({id:v.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(13,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:3133,weight:100}})}_run(V){return V.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=O,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:v.FIND_IDS.StartFindReplaceAction,label:i.localize(14,null),alias:"Replace",precondition:g.ContextKeyExpr.or(p.EditorContextKeys.focus,g.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(15,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(W,V,z)=>{if(!V.hasModel()||V.getOption(91))return!1;const K=C.get(V);if(!K)return!1;const j=V.getSelection(),x=K.isFindInputFocused(),re=!j.isEmpty()&&j.startLineNumber===j.endLineNumber&&V.getOption(41).seedSearchStringFromSelection!=="never"&&!x,ie=x||re?2:1;return K.start({forceRevealReplace:!0,seedSearchStringFromSelection:re?"single":"none",seedSearchStringFromNonEmptySelection:V.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:V.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:ie,shouldAnimate:!0,updateSearchScope:!1,loop:V.getOption(41).loop})}),(0,D.registerEditorContribution)(C.ID,_,0),(0,D.registerEditorAction)(I),(0,D.registerEditorAction)(T),(0,D.registerEditorAction)(R),(0,D.registerEditorAction)(M),(0,D.registerEditorAction)(N),(0,D.registerEditorAction)(F),(0,D.registerEditorAction)(O);const B=D.EditorCommand.bindToContribution(C.get);(0,D.registerEditorCommand)(new B({id:v.FIND_IDS.CloseFindWidgetCommand,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.closeFindWidget(),kbOpts:{weight:105,kbExpr:g.ContextKeyExpr.and(p.EditorContextKeys.focus,g.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,D.registerEditorCommand)(new B({id:v.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:W=>W.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleCaseSensitiveKeybinding.primary,mac:v.ToggleCaseSensitiveKeybinding.mac,win:v.ToggleCaseSensitiveKeybinding.win,linux:v.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new B({id:v.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:W=>W.toggleWholeWords(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleWholeWordKeybinding.primary,mac:v.ToggleWholeWordKeybinding.mac,win:v.ToggleWholeWordKeybinding.win,linux:v.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new B({id:v.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:W=>W.toggleRegex(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleRegexKeybinding.primary,mac:v.ToggleRegexKeybinding.mac,win:v.ToggleRegexKeybinding.win,linux:v.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new B({id:v.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:W=>W.toggleSearchScope(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:v.ToggleSearchScopeKeybinding.primary,mac:v.ToggleSearchScopeKeybinding.mac,win:v.ToggleSearchScopeKeybinding.win,linux:v.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new B({id:v.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:W=>W.togglePreserveCase(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:v.TogglePreserveCaseKeybinding.primary,mac:v.TogglePreserveCaseKeybinding.mac,win:v.TogglePreserveCaseKeybinding.win,linux:v.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new B({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replace(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:3094}})),(0,D.registerEditorCommand)(new B({id:v.FIND_IDS.ReplaceOneAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replace(),kbOpts:{weight:105,kbExpr:g.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new B({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replaceAll(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:2563}})),(0,D.registerEditorCommand)(new B({id:v.FIND_IDS.ReplaceAllAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.replaceAll(),kbOpts:{weight:105,kbExpr:g.ContextKeyExpr.and(p.EditorContextKeys.focus,v.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,D.registerEditorCommand)(new B({id:v.FIND_IDS.SelectAllMatchesAction,precondition:v.CONTEXT_FIND_WIDGET_VISIBLE,handler:W=>W.selectAllMatches(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:515}}))}),define(ne[385],se([1,0,27,40,38,685,31,82,24,29]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0;const b=(0,S.registerColor)("editor.foldBackground",{light:(0,S.transparent)(S.editorSelectionBackground,.3),dark:(0,S.transparent)(S.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,D.localize)(0,null),!0);(0,S.registerColor)("editorGutter.foldingControlForeground",{dark:S.iconForeground,light:S.iconForeground,hcDark:S.iconForeground,hcLight:S.iconForeground},(0,D.localize)(1,null)),e.foldingExpandedIcon=(0,p.registerIcon)("folding-expanded",L.Codicon.chevronDown,(0,D.localize)(2,null)),e.foldingCollapsedIcon=(0,p.registerIcon)("folding-collapsed",L.Codicon.chevronRight,(0,D.localize)(3,null)),e.foldingManualCollapsedIcon=(0,p.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,D.localize)(4,null)),e.foldingManualExpandedIcon=(0,p.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,D.localize)(5,null));const a={color:(0,w.themeColorFromId)(b),position:k.MinimapPosition.Inline},n=(0,D.localize)(6,null),i=(0,D.localize)(7,null);class t{constructor(g){this.editor=g,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(g,m,c){return m?t.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?g?this.showFoldingHighlights?t.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:t.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:t.NO_CONTROLS_EXPANDED_RANGE_DECORATION:g?c?this.showFoldingHighlights?t.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:t.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?t.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:t.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?c?t.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:t.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:c?t.MANUALLY_EXPANDED_VISUAL_DECORATION:t.EXPANDED_VISUAL_DECORATION}changeDecorations(g){return this.editor.changeDecorations(g)}removeDecorations(g){this.editor.removeDecorations(g)}}e.FoldingDecorationProvider=t,t.COLLAPSED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:n,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),t.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:a,isWholeLine:!0,linesDecorationsTooltip:n,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),t.MANUALLY_COLLAPSED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:n,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),t.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:a,isWholeLine:!0,linesDecorationsTooltip:n,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),t.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:n}),t.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:a,isWholeLine:!0,linesDecorationsTooltip:n}),t.EXPANDED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+v.ThemeIcon.asClassName(e.foldingExpandedIcon),linesDecorationsTooltip:i}),t.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingExpandedIcon),linesDecorationsTooltip:i}),t.MANUALLY_EXPANDED_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+v.ThemeIcon.asClassName(e.foldingManualExpandedIcon),linesDecorationsTooltip:i}),t.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=y.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:v.ThemeIcon.asClassName(e.foldingManualExpandedIcon),linesDecorationsTooltip:i}),t.NO_CONTROLS_EXPANDED_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),t.HIDDEN_RANGE_DECORATION=y.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(ne[268],se([1,0,15,19,12,66,2,11,20,131,16,21,30,33,310,567,311,684,14,385,188,312,49,80,63,18,7,25,22,51,26,468]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_,E,I,T){"use strict";var A;Object.defineProperty(e,"__esModule",{value:!0}),e.RangesLimitReporter=e.FoldingController=void 0;const R=new c.RawContextKey("foldingEnabled",!1);let M=A=class extends S.Disposable{static get(Z){return Z.getContribution(A.ID)}static getFoldingRangeProviders(Z,H){var q,te;const G=Z.foldingRangeProvider.ordered(H);return(te=(q=A._foldingRangeSelector)===null||q===void 0?void 0:q.call(A,G,H))!==null&&te!==void 0?te:G}constructor(Z,H,q,te,G,$){super(),this.contextKeyService=H,this.languageConfigurationService=q,this.languageFeaturesService=$,this.localToDispose=this._register(new S.DisposableStore),this.editor=Z,this._foldingLimitReporter=new N(Z);const oe=this.editor.getOptions();this._isEnabled=oe.get(43),this._useFoldingProviders=oe.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=oe.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=oe.get(46),this.updateDebounceInfo=G.for($.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new d.FoldingDecorationProvider(Z),this.foldingDecorationProvider.showFoldingControls=oe.get(110),this.foldingDecorationProvider.showFoldingHighlights=oe.get(45),this.foldingEnabled=R.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(ae=>{if(ae.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),ae.hasChanged(47)&&this.onModelChanged(),ae.hasChanged(110)||ae.hasChanged(45)){const ue=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=ue.get(110),this.foldingDecorationProvider.showFoldingHighlights=ue.get(45),this.triggerFoldingModelChanged()}ae.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),ae.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),ae.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const Z=this.editor.getModel();if(!Z||!this._isEnabled||Z.isTooLargeForTokenization())return{};if(this.foldingModel){const H=this.foldingModel.getMemento(),q=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:H,lineCount:Z.getLineCount(),provider:q,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(Z){const H=this.editor.getModel();if(!(!H||!this._isEnabled||H.isTooLargeForTokenization()||!this.hiddenRangeModel)&&Z&&(this._currentModelHasFoldedImports=!!Z.foldedImports,Z.collapsedRegions&&Z.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(Z.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const Z=this.editor.getModel();!this._isEnabled||!Z||Z.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new t.FoldingModel(Z,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new o.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(H=>this.onHiddenRangesChanges(H))),this.updateScheduler=new L.Delayer(this.updateDebounceInfo.get(Z)),this.cursorChangedScheduler=new L.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(H=>this.onDidChangeModelContent(H))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(H=>this.onEditorMouseDown(H))),this.localToDispose.add(this.editor.onMouseUp(H=>this.onEditorMouseUp(H))),this.localToDispose.add({dispose:()=>{var H,q;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(H=this.updateScheduler)===null||H===void 0||H.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(q=this.rangeProvider)===null||q===void 0||q.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var Z;(Z=this.rangeProvider)===null||Z===void 0||Z.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(Z){if(this.rangeProvider)return this.rangeProvider;const H=new g.IndentRangeProvider(Z,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=H,this._useFoldingProviders&&this.foldingModel){const q=A.getFoldingRangeProviders(this.languageFeaturesService,Z);q.length>0&&(this.rangeProvider=new l.SyntaxRangeProvider(Z,q,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,H))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(Z){var H;(H=this.hiddenRangeModel)===null||H===void 0||H.notifyChangeModelContent(Z),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const Z=this.foldingModel;if(!Z)return null;const H=new u.StopWatch,q=this.getRangeProvider(Z.textModel),te=this.foldingRegionPromise=(0,L.createCancelablePromise)(G=>q.compute(G));return te.then(G=>{if(G&&te===this.foldingRegionPromise){let $;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const ce=G.setCollapsedAllOfType(n.FoldingRangeKind.Imports.value,!0);ce&&($=v.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=ce)}const oe=this.editor.getSelections(),ae=oe?oe.map(ce=>ce.startLineNumber):[];Z.update(G,ae),$?.restore(this.editor);const ue=this.updateDebounceInfo.update(Z.textModel,H.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=ue)}return Z})}).then(void 0,Z=>((0,y.onUnexpectedError)(Z),null)))}onHiddenRangesChanges(Z){if(this.hiddenRangeModel&&Z.length&&!this._restoringViewState){const H=this.editor.getSelections();H&&this.hiddenRangeModel.adjustSelections(H)&&this.editor.setSelections(H)}this.editor.setHiddenAreas(Z,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const Z=this.getFoldingModel();Z&&Z.then(H=>{if(H){const q=this.editor.getSelections();if(q&&q.length>0){const te=[];for(const G of q){const $=G.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden($)&&te.push(...H.getAllRegionsAtLine($,oe=>oe.isCollapsed&&$>oe.startLineNumber))}te.length&&(H.toggleCollapseState(te),this.reveal(q[0].getPosition()))}}}).then(void 0,y.onUnexpectedError)}onEditorMouseDown(Z){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!Z.target||!Z.target.range||!Z.event.leftButton&&!Z.event.middleButton)return;const H=Z.target.range;let q=!1;switch(Z.target.type){case 4:{const te=Z.target.detail,G=Z.target.element.offsetLeft;if(te.offsetX-G<4)return;q=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!Z.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const te=this.editor.getModel();if(te&&H.startColumn===te.getLineMaxColumn(H.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:H.startLineNumber,iconClicked:q}}onEditorMouseUp(Z){const H=this.foldingModel;if(!H||!this.mouseDownInfo||!Z.target)return;const q=this.mouseDownInfo.lineNumber,te=this.mouseDownInfo.iconClicked,G=Z.target.range;if(!G||G.startLineNumber!==q)return;if(te){if(Z.target.type!==4)return}else{const oe=this.editor.getModel();if(!oe||G.startColumn!==oe.getLineMaxColumn(q))return}const $=H.getRegionAtLine(q);if($&&$.startLineNumber===q){const oe=$.isCollapsed;if(te||oe){const ae=Z.event.altKey;let ue=[];if(ae){const ce=ve=>!ve.containedBy($)&&!$.containedBy(ve),fe=H.getRegionsInside(null,ce);for(const ve of fe)ve.isCollapsed&&ue.push(ve);ue.length===0&&(ue=fe)}else{const ce=Z.event.middleButton||Z.event.shiftKey;if(ce)for(const fe of H.getRegionsInside($))fe.isCollapsed===oe&&ue.push(fe);(oe||!ce||ue.length===0)&&ue.push($)}H.toggleCollapseState(ue),this.reveal({lineNumber:q,column:1})}}}reveal(Z){this.editor.revealPositionInCenterIfOutsideViewport(Z,0)}};e.FoldingController=M,M.ID="editor.contrib.folding",e.FoldingController=M=A=De([he(1,c.IContextKeyService),he(2,i.ILanguageConfigurationService),he(3,r.INotificationService),he(4,h.ILanguageFeatureDebounceService),he(5,f.ILanguageFeaturesService)],M);class N{constructor(Z){this.editor=Z,this._onDidChange=new C.Emitter,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(Z,H){(Z!==this._computed||H!==this._limited)&&(this._computed=Z,this._limited=H,this._onDidChange.fire())}}e.RangesLimitReporter=N;class P extends b.EditorAction{runEditorCommand(Z,H,q){const te=Z.get(i.ILanguageConfigurationService),G=M.get(H);if(!G)return;const $=G.getFoldingModel();if($)return this.reportTelemetry(Z,H),$.then(oe=>{if(oe){this.invoke(G,oe,H,q,te);const ae=H.getSelection();ae&&G.reveal(ae.getStartPosition())}})}getSelectedLines(Z){const H=Z.getSelections();return H?H.map(q=>q.startLineNumber):[]}getLineNumbers(Z,H){return Z&&Z.selectionLines?Z.selectionLines.map(q=>q+1):this.getSelectedLines(H)}run(Z,H){}}function F(U){if(!w.isUndefined(U)){if(!w.isObject(U))return!1;const Z=U;if(!w.isUndefined(Z.levels)&&!w.isNumber(Z.levels)||!w.isUndefined(Z.direction)&&!w.isString(Z.direction)||!w.isUndefined(Z.selectionLines)&&(!Array.isArray(Z.selectionLines)||!Z.selectionLines.every(w.isNumber)))return!1}return!0}class O extends P{constructor(){super({id:"editor.unfold",label:m.localize(0,null),alias:"Unfold",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:F,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Z,H,q,te){const G=te&&te.levels||1,$=this.getLineNumbers(te,q);te&&te.direction==="up"?(0,t.setCollapseStateLevelsUp)(H,!1,G,$):(0,t.setCollapseStateLevelsDown)(H,!1,G,$)}}class B extends P{constructor(){super({id:"editor.unfoldRecursively",label:m.localize(1,null),alias:"Unfold Recursively",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2142),weight:100}})}invoke(Z,H,q,te){(0,t.setCollapseStateLevelsDown)(H,!1,Number.MAX_VALUE,this.getSelectedLines(q))}}class W extends P{constructor(){super({id:"editor.fold",label:m.localize(2,null),alias:"Fold",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:F,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(Z,H,q,te){const G=this.getLineNumbers(te,q),$=te&&te.levels,oe=te&&te.direction;typeof $!="number"&&typeof oe!="string"?(0,t.setCollapseStateUp)(H,!0,G):oe==="up"?(0,t.setCollapseStateLevelsUp)(H,!0,$||1,G):(0,t.setCollapseStateLevelsDown)(H,!0,$||1,G)}}class V extends P{constructor(){super({id:"editor.toggleFold",label:m.localize(3,null),alias:"Toggle Fold",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2090),weight:100}})}invoke(Z,H,q){const te=this.getSelectedLines(q);(0,t.toggleCollapseState)(H,1,te)}}class z extends P{constructor(){super({id:"editor.foldRecursively",label:m.localize(4,null),alias:"Fold Recursively",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2140),weight:100}})}invoke(Z,H,q){const te=this.getSelectedLines(q);(0,t.setCollapseStateLevelsDown)(H,!0,Number.MAX_VALUE,te)}}class K extends P{constructor(){super({id:"editor.foldAllBlockComments",label:m.localize(5,null),alias:"Fold All Block Comments",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2138),weight:100}})}invoke(Z,H,q,te,G){if(H.regions.hasTypes())(0,t.setCollapseStateForType)(H,n.FoldingRangeKind.Comment.value,!0);else{const $=q.getModel();if(!$)return;const oe=G.getLanguageConfiguration($.getLanguageId()).comments;if(oe&&oe.blockCommentStartToken){const ae=new RegExp("^\\s*"+(0,p.escapeRegExpCharacters)(oe.blockCommentStartToken));(0,t.setCollapseStateForMatchingLines)(H,ae,!0)}}}}class j extends P{constructor(){super({id:"editor.foldAllMarkerRegions",label:m.localize(6,null),alias:"Fold All Regions",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2077),weight:100}})}invoke(Z,H,q,te,G){if(H.regions.hasTypes())(0,t.setCollapseStateForType)(H,n.FoldingRangeKind.Region.value,!0);else{const $=q.getModel();if(!$)return;const oe=G.getLanguageConfiguration($.getLanguageId()).foldingRules;if(oe&&oe.markers&&oe.markers.start){const ae=new RegExp(oe.markers.start);(0,t.setCollapseStateForMatchingLines)(H,ae,!0)}}}}class x extends P{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:m.localize(7,null),alias:"Unfold All Regions",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2078),weight:100}})}invoke(Z,H,q,te,G){if(H.regions.hasTypes())(0,t.setCollapseStateForType)(H,n.FoldingRangeKind.Region.value,!1);else{const $=q.getModel();if(!$)return;const oe=G.getLanguageConfiguration($.getLanguageId()).foldingRules;if(oe&&oe.markers&&oe.markers.start){const ae=new RegExp(oe.markers.start);(0,t.setCollapseStateForMatchingLines)(H,ae,!1)}}}}class re extends P{constructor(){super({id:"editor.foldAllExcept",label:m.localize(8,null),alias:"Fold All Except Selected",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2136),weight:100}})}invoke(Z,H,q){const te=this.getSelectedLines(q);(0,t.setCollapseStateForRest)(H,!0,te)}}class ie extends P{constructor(){super({id:"editor.unfoldAllExcept",label:m.localize(9,null),alias:"Unfold All Except Selected",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2134),weight:100}})}invoke(Z,H,q){const te=this.getSelectedLines(q);(0,t.setCollapseStateForRest)(H,!1,te)}}class J extends P{constructor(){super({id:"editor.foldAll",label:m.localize(10,null),alias:"Fold All",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2069),weight:100}})}invoke(Z,H,q){(0,t.setCollapseStateLevelsDown)(H,!0)}}class X extends P{constructor(){super({id:"editor.unfoldAll",label:m.localize(11,null),alias:"Unfold All",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2088),weight:100}})}invoke(Z,H,q){(0,t.setCollapseStateLevelsDown)(H,!1)}}class Y extends P{getFoldingLevel(){return parseInt(this.id.substr(Y.ID_PREFIX.length))}invoke(Z,H,q){(0,t.setCollapseStateAtLevel)(H,this.getFoldingLevel(),!0,this.getSelectedLines(q))}}Y.ID_PREFIX="editor.foldLevel",Y.ID=U=>Y.ID_PREFIX+U;class le extends P{constructor(){super({id:"editor.gotoParentFold",label:m.localize(12,null),alias:"Go to Parent Fold",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100}})}invoke(Z,H,q){const te=this.getSelectedLines(q);if(te.length>0){const G=(0,t.getParentFoldLine)(te[0],H);G!==null&&q.setSelection({startLineNumber:G,startColumn:1,endLineNumber:G,endColumn:1})}}}class de extends P{constructor(){super({id:"editor.gotoPreviousFold",label:m.localize(13,null),alias:"Go to Previous Folding Range",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100}})}invoke(Z,H,q){const te=this.getSelectedLines(q);if(te.length>0){const G=(0,t.getPreviousFoldLine)(te[0],H);G!==null&&q.setSelection({startLineNumber:G,startColumn:1,endLineNumber:G,endColumn:1})}}}class ge extends P{constructor(){super({id:"editor.gotoNextFold",label:m.localize(14,null),alias:"Go to Next Folding Range",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,weight:100}})}invoke(Z,H,q){const te=this.getSelectedLines(q);if(te.length>0){const G=(0,t.getNextFoldLine)(te[0],H);G!==null&&q.setSelection({startLineNumber:G,startColumn:1,endLineNumber:G,endColumn:1})}}}class pe extends P{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:m.localize(15,null),alias:"Create Folding Range from Selection",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2135),weight:100}})}invoke(Z,H,q){var te;const G=[],$=q.getSelections();if($){for(const oe of $){let ae=oe.endLineNumber;oe.endColumn===1&&--ae,ae>oe.startLineNumber&&(G.push({startLineNumber:oe.startLineNumber,endLineNumber:ae,type:void 0,isCollapsed:!0,source:1}),q.setSelection({startLineNumber:oe.startLineNumber,startColumn:1,endLineNumber:oe.startLineNumber,endColumn:1}))}if(G.length>0){G.sort((ae,ue)=>ae.startLineNumber-ue.startLineNumber);const oe=s.FoldingRegions.sanitizeAndMerge(H.regions,G,(te=q.getModel())===null||te===void 0?void 0:te.getLineCount());H.updatePost(s.FoldingRegions.fromFoldRanges(oe))}}}}class Q extends P{constructor(){super({id:"editor.removeManualFoldingRanges",label:m.localize(16,null),alias:"Remove Manual Folding Ranges",precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2137),weight:100}})}invoke(Z,H,q){const te=q.getSelections();if(te){const G=[];for(const $ of te){const{startLineNumber:oe,endLineNumber:ae}=$;G.push(ae>=oe?{startLineNumber:oe,endLineNumber:ae}:{endLineNumber:ae,startLineNumber:oe})}H.removeManualRanges(G),Z.triggerFoldingModelChanged()}}}(0,b.registerEditorContribution)(M.ID,M,0),(0,b.registerEditorAction)(O),(0,b.registerEditorAction)(B),(0,b.registerEditorAction)(W),(0,b.registerEditorAction)(z),(0,b.registerEditorAction)(J),(0,b.registerEditorAction)(X),(0,b.registerEditorAction)(K),(0,b.registerEditorAction)(j),(0,b.registerEditorAction)(x),(0,b.registerEditorAction)(re),(0,b.registerEditorAction)(ie),(0,b.registerEditorAction)(V),(0,b.registerEditorAction)(le),(0,b.registerEditorAction)(de),(0,b.registerEditorAction)(ge),(0,b.registerEditorAction)(pe),(0,b.registerEditorAction)(Q);for(let U=1;U<=7;U++)(0,b.registerInstantiatedEditorAction)(new Y({id:Y.ID(U),label:m.localize(17,null,U),alias:`Fold Level ${U}`,precondition:R,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2048|21+U),weight:100}}));_.CommandsRegistry.registerCommand("_executeFoldingRangeProvider",async function(U,...Z){const[H]=Z;if(!(H instanceof E.URI))throw(0,y.illegalArgument)();const q=U.get(f.ILanguageFeaturesService),te=U.get(I.IModelService).getModel(H);if(!te)throw(0,y.illegalArgument)();const G=U.get(T.IConfigurationService);if(!G.getValue("editor.folding",{resource:H}))return[];const $=U.get(i.ILanguageConfigurationService),oe=G.getValue("editor.foldingStrategy",{resource:H}),ae={get limit(){return G.getValue("editor.foldingMaximumRegions",{resource:H})},update:(Ce,Se)=>{}},ue=new g.IndentRangeProvider(te,$,ae);let ce=ue;if(oe!=="indentation"){const Ce=M.getFoldingRangeProviders(q,te);Ce.length&&(ce=new l.SyntaxRangeProvider(te,Ce,()=>{},ae,ue))}const fe=await ce.compute(k.CancellationToken.None),ve=[];try{if(fe)for(let Ce=0;Ce<fe.length;Ce++){const Se=fe.getType(Ce);ve.push({start:fe.getStartLineNumber(Ce),end:fe.getEndLineNumber(Ce),kind:Se?n.FoldingRangeKind.fromValue(Se):void 0})}return ve}finally{ce.dispose()}})}),define(ne[386],se([1,0,6,233,13,2,9,5,38,30,338,93,8,34,15,21,14,626,26,71]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d){"use strict";var s,l;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorHoverStatusBar=e.ContentHoverWidget=e.ContentHoverController=void 0;const r=L.$;let h=s=class extends D.Disposable{constructor(P,F,O){super(),this._editor=P,this._instantiationService=F,this._keybindingService=O,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(T,this._editor)),this._participants=[];for(const B of a.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(B,this._editor));this._participants.sort((B,W)=>B.hoverOrdinal-W.hoverOrdinal),this._computer=new R(this._editor,this._participants),this._hoverOperation=this._register(new b.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(B=>{if(!this._computer.anchor)return;const W=B.hasLoadingMessage?this._addLoadingMessage(B.value):B.value;this._withResult(new u(this._computer.anchor,W,B.isComplete))})),this._register(L.addStandardDisposableListener(this._widget.getDomNode(),"keydown",B=>{B.equals(9)&&this.hide()})),this._register(v.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover(P,F,O,B,W){return!this._widget.position||!this._currentResult?P?(this._startHoverOperationIfNecessary(P,F,O,B,!1),!0):!1:this._editor.getOption(60).sticky&&W&&this._widget.isMouseGettingCloser(W.event.posx,W.event.posy)?(P&&this._startHoverOperationIfNecessary(P,F,O,B,!0),!0):P?P&&this._currentResult.anchor.equals(P)?!0:P.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(P)),this._startHoverOperationIfNecessary(P,F,O,B,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(P,F,O,B,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(P,F,O,B,W){this._computer.anchor&&this._computer.anchor.equals(P)||(this._hoverOperation.cancel(),this._computer.anchor=P,this._computer.shouldFocus=B,this._computer.source=O,this._computer.insistOnKeepingHoverVisible=W,this._hoverOperation.start(F))}_setCurrentResult(P){this._currentResult!==P&&(P&&P.messages.length===0&&(P=null),this._currentResult=P,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}_addLoadingMessage(P){if(this._computer.anchor){for(const F of this._participants)if(F.createLoadingMessage){const O=F.createLoadingMessage(this._computer.anchor);if(O)return P.slice(0).concat([O])}}return P}_withResult(P){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!P.isComplete||this._computer.insistOnKeepingHoverVisible&&P.messages.length===0)||this._setCurrentResult(P)}_renderMessages(P,F){const{showAtPosition:O,showAtSecondaryPosition:B,highlightRange:W}=s.computeHoverRanges(this._editor,P.range,F),V=new D.DisposableStore,z=V.add(new A(this._keybindingService)),K=document.createDocumentFragment();let j=null;const x={fragment:K,statusBar:z,setColorPicker:ie=>j=ie,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:ie=>this._widget.setMinimumDimensions(ie),hide:()=>this.hide()};for(const ie of this._participants){const J=F.filter(X=>X.owner===ie);J.length>0&&V.add(ie.renderHoverParts(x,J))}const re=F.some(ie=>ie.isBeforeContent);if(z.hasContent&&K.appendChild(z.hoverElement),K.hasChildNodes()){if(W){const ie=this._editor.createDecorationsCollection();ie.set([{range:W,options:s._DECORATION_OPTIONS}]),V.add((0,D.toDisposable)(()=>{ie.clear()}))}this._widget.showAt(K,new C(P.initialMousePosX,P.initialMousePosY,j,O,B,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,re,V))}else V.dispose()}static computeHoverRanges(P,F,O){let B=1;if(P.hasModel()){const re=P._getViewModel(),ie=re.coordinatesConverter,J=ie.convertModelRangeToViewRange(F),X=new S.Position(J.startLineNumber,re.getLineMinColumn(J.startLineNumber));B=ie.convertViewPositionToModelPosition(X).column}const W=F.startLineNumber;let V=F.startColumn,z=O[0].range,K=null;for(const re of O)z=p.Range.plusRange(z,re.range),re.range.startLineNumber===W&&re.range.endLineNumber===W&&(V=Math.max(Math.min(V,re.range.startColumn),B)),re.forceShowAtRange&&(K=re.range);const j=K?K.getStartPosition():new S.Position(W,F.startColumn),x=K?K.getStartPosition():new S.Position(W,V);return{showAtPosition:j,showAtSecondaryPosition:x,highlightRange:z}}showsOrWillShow(P){if(this._widget.isResizing)return!0;const F=[];for(const B of this._participants)if(B.suggestHoverAnchor){const W=B.suggestHoverAnchor(P);W&&F.push(W)}const O=P.target;if(O.type===6&&F.push(new a.HoverRangeAnchor(0,O.range,P.event.posx,P.event.posy)),O.type===7){const B=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!O.detail.isAfterLines&&typeof O.detail.horizontalDistanceToText=="number"&&O.detail.horizontalDistanceToText<B&&F.push(new a.HoverRangeAnchor(0,O.range,P.event.posx,P.event.posy))}return F.length===0?this._startShowingOrUpdateHover(null,0,0,!1,P):(F.sort((B,W)=>W.priority-B.priority),this._startShowingOrUpdateHover(F[0],0,0,!1,P))}startShowingAtRange(P,F,O,B){this._startShowingOrUpdateHover(new a.HoverRangeAnchor(0,P,void 0,void 0),F,O,B,null)}containsNode(P){return P?this._widget.getDomNode().contains(P):!1}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}get widget(){return this._widget}};e.ContentHoverController=h,h._DECORATION_OPTIONS=w.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),e.ContentHoverController=h=s=De([he(1,n.IInstantiationService),he(2,i.IKeybindingService)],h);class u{constructor(P,F,O){this.anchor=P,this.messages=F,this.isComplete=O}filter(P){const F=this.messages.filter(O=>O.isValidForHoverAnchor(P));return F.length===this.messages.length?this:new f(this,this.anchor,F,this.isComplete)}}class f extends u{constructor(P,F,O,B){super(F,O,B),this.original=P}filter(P){return this.original.filter(P)}}class C{constructor(P,F,O,B,W,V,z,K,j,x){this.initialMousePosX=P,this.initialMousePosY=F,this.colorPicker=O,this.showAtPosition=B,this.showAtSecondaryPosition=W,this.preferAbove=V,this.stoleFocus=z,this.source=K,this.isBeforeContent=j,this.disposables=x,this.closestMouseDistance=void 0}}const _=30,E=10,I=6;let T=l=class extends m.ResizableContentWidget{get isColorPickerVisible(){var P;return!!(!((P=this._visibleData)===null||P===void 0)&&P.colorPicker)}get isVisibleFromKeyboard(){var P;return((P=this._visibleData)===null||P===void 0?void 0:P.source)===1}get isVisible(){var P;return(P=this._hoverVisibleKey.get())!==null&&P!==void 0?P:!1}get isFocused(){var P;return(P=this._hoverFocusedKey.get())!==null&&P!==void 0?P:!1}constructor(P,F,O,B,W){const V=P.getOption(67)+8,z=150,K=new L.Dimension(z,V);super(P,K),this._configurationService=O,this._accessibilityService=B,this._keybindingService=W,this._hover=this._register(new k.HoverWidget),this._minimumSize=K,this._hoverVisibleKey=o.EditorContextKeys.hoverVisible.bindTo(F),this._hoverFocusedKey=o.EditorContextKeys.hoverFocused.bindTo(F),L.append(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(x=>{x.hasChanged(50)&&this._updateFont()}));const j=this._register(L.trackFocus(this._resizableNode.domNode));this._register(j.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(j.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._editor.addContentWidget(this)}dispose(){var P;super.dispose(),(P=this._visibleData)===null||P===void 0||P.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return l.ID}static _applyDimensions(P,F,O){const B=typeof F=="number"?`${F}px`:F,W=typeof O=="number"?`${O}px`:O;P.style.width=B,P.style.height=W}_setContentsDomNodeDimensions(P,F){const O=this._hover.contentsDomNode;return l._applyDimensions(O,P,F)}_setContainerDomNodeDimensions(P,F){const O=this._hover.containerDomNode;return l._applyDimensions(O,P,F)}_setHoverWidgetDimensions(P,F){this._setContentsDomNodeDimensions(P,F),this._setContainerDomNodeDimensions(P,F),this._layoutContentWidget()}static _applyMaxDimensions(P,F,O){const B=typeof F=="number"?`${F}px`:F,W=typeof O=="number"?`${O}px`:O;P.style.maxWidth=B,P.style.maxHeight=W}_setHoverWidgetMaxDimensions(P,F){l._applyMaxDimensions(this._hover.contentsDomNode,P,F),l._applyMaxDimensions(this._hover.containerDomNode,P,F),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof P=="number"?`${P}px`:P),this._layoutContentWidget()}_hasHorizontalScrollbar(){const P=this._hover.scrollbar.getScrollDimensions();return P.scrollWidth>P.width}_adjustContentsBottomPadding(){const P=this._hover.contentsDomNode,F=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;P.style.paddingBottom!==F&&(P.style.paddingBottom=F)}_setAdjustedHoverWidgetDimensions(P){this._setHoverWidgetMaxDimensions("none","none");const F=P.width,O=P.height;this._setHoverWidgetDimensions(F,O),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(F,O-E))}_updateResizableNodeMaxDimensions(){var P,F;const O=(P=this._findMaximumRenderingWidth())!==null&&P!==void 0?P:1/0,B=(F=this._findMaximumRenderingHeight())!==null&&F!==void 0?F:1/0;this._resizableNode.maxSize=new L.Dimension(O,B),this._setHoverWidgetMaxDimensions(O,B)}_resize(P){var F,O;l._lastDimensions=new L.Dimension(P.width,P.height),this._setAdjustedHoverWidgetDimensions(P),this._resizableNode.layout(P.height,P.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(O=(F=this._visibleData)===null||F===void 0?void 0:F.colorPicker)===null||O===void 0||O.layout()}_findAvailableSpaceVertically(){var P;const F=(P=this._visibleData)===null||P===void 0?void 0:P.showAtPosition;if(F)return this._positionPreference===1?this._availableVerticalSpaceAbove(F):this._availableVerticalSpaceBelow(F)}_findMaximumRenderingHeight(){const P=this._findAvailableSpaceVertically();if(!P)return;let F=I;return Array.from(this._hover.contentsDomNode.children).forEach(O=>{F+=O.clientHeight}),this._hasHorizontalScrollbar()&&(F+=E),Math.min(P,F)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const P=Array.from(this._hover.contentsDomNode.children).some(F=>F.scrollWidth>F.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),P}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const P=this._isHoverTextOverflowing(),F=typeof this._contentWidth>"u"?0:this._contentWidth-2;return P||this._hover.containerDomNode.clientWidth<F?L.getClientArea(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(P,F){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=P,this._visibleData.initialMousePosY=F,!1;const O=L.getDomNodePagePosition(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=M(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,O.left,O.top,O.width,O.height));const B=M(P,F,O.left,O.top,O.width,O.height);return B>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,B),!0)}_setHoverData(P){var F;(F=this._visibleData)===null||F===void 0||F.disposables.dispose(),this._visibleData=P,this._hoverVisibleKey.set(!!P),this._hover.containerDomNode.classList.toggle("hidden",!P)}_updateFont(){const{fontSize:P,lineHeight:F}=this._editor.getOption(50),O=this._hover.contentsDomNode;O.style.fontSize=`${P}px`,O.style.lineHeight=`${F/P}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(W=>this._editor.applyFontInfo(W))}_updateContent(P){const F=this._hover.contentsDomNode;F.style.paddingBottom="",F.textContent="",F.appendChild(P)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const P=Math.max(this._editor.getLayoutInfo().height/4,250,l._lastDimensions.height),F=Math.max(this._editor.getLayoutInfo().width*.66,500,l._lastDimensions.width);this._setHoverWidgetMaxDimensions(F,P)}_render(P,F){this._setHoverData(F),this._updateFont(),this._updateContent(P),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var P;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(P=this._positionPreference)!==null&&P!==void 0?P:1]}:null}showAt(P,F){var O,B,W,V;if(!this._editor||!this._editor.hasModel())return;this._render(P,F);const z=L.getTotalHeight(this._hover.containerDomNode),K=F.showAtPosition;this._positionPreference=(O=this._findPositionPreference(z,K))!==null&&O!==void 0?O:1,this.onContentsChanged(),F.stoleFocus&&this._hover.containerDomNode.focus(),(B=F.colorPicker)===null||B===void 0||B.layout();const x=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&(0,k.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(V=(W=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||W===void 0?void 0:W.getAriaLabel())!==null&&V!==void 0?V:"");x&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+x)}hide(){if(!this._visibleData)return;const P=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new L.Dimension(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),P&&this._editor.focus()}_removeConstraintsRenderNormally(){const P=this._editor.getLayoutInfo();this._resizableNode.layout(P.height,P.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(P){var F;const O=this._hover.containerDomNode,B=this._hover.contentsDomNode,W=(F=this._findMaximumRenderingHeight())!==null&&F!==void 0?F:1/0;this._setContainerDomNodeDimensions(L.getTotalWidth(O),Math.min(W,P)),this._setContentsDomNodeDimensions(L.getTotalWidth(B),Math.min(W,P-E))}setMinimumDimensions(P){this._minimumSize=new L.Dimension(Math.max(this._minimumSize.width,P.width),Math.max(this._minimumSize.height,P.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const P=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new L.Dimension(P,this._minimumSize.height)}onContentsChanged(){var P;this._removeConstraintsRenderNormally();const F=this._hover.containerDomNode;let O=L.getTotalHeight(F),B=L.getTotalWidth(F);if(this._resizableNode.layout(O,B),this._setHoverWidgetDimensions(B,O),O=L.getTotalHeight(F),B=L.getTotalWidth(F),this._contentWidth=B,this._updateMinimumWidth(),this._resizableNode.layout(O,B),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(O)),!((P=this._visibleData)===null||P===void 0)&&P.showAtPosition){const W=L.getTotalHeight(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(W,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,F=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:P-F.lineHeight})}scrollDown(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,F=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:P+F.lineHeight})}scrollLeft(){const P=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:P-_})}scrollRight(){const P=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:P+_})}pageUp(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,F=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:P-F})}pageDown(){const P=this._hover.scrollbar.getScrollPosition().scrollTop,F=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:P+F})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};e.ContentHoverWidget=T,T.ID="editor.contrib.resizableContentHoverWidget",T._lastDimensions=new L.Dimension(0,0),e.ContentHoverWidget=T=l=De([he(1,g.IContextKeyService),he(2,c.IConfigurationService),he(3,d.IAccessibilityService),he(4,i.IKeybindingService)],T);let A=class extends D.Disposable{get hasContent(){return this._hasContent}constructor(P){super(),this._keybindingService=P,this._hasContent=!1,this.hoverElement=r("div.hover-row.status-bar"),this.actionsElement=L.append(this.hoverElement,r("div.actions"))}addAction(P){const F=this._keybindingService.lookupKeybinding(P.commandId),O=F?F.getLabel():null;return this._hasContent=!0,this._register(k.HoverAction.render(this.actionsElement,P,O))}append(P){const F=L.append(this.actionsElement,P);return this._hasContent=!0,F}};e.EditorHoverStatusBar=A,e.EditorHoverStatusBar=A=De([he(0,i.IKeybindingService)],A);class R{get anchor(){return this._anchor}set anchor(P){this._anchor=P}get shouldFocus(){return this._shouldFocus}set shouldFocus(P){this._shouldFocus=P}get source(){return this._source}set source(P){this._source=P}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(P){this._insistOnKeepingHoverVisible=P}constructor(P,F){this._editor=P,this._participants=F,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(P,F){if(F.type!==1&&!F.supportsMarkerHover)return[];const O=P.getModel(),B=F.range.startLineNumber;if(B>O.getLineCount())return[];const W=O.getLineMaxColumn(B);return P.getLineDecorations(B).filter(V=>{if(V.options.isWholeLine)return!0;const z=V.range.startLineNumber===B?V.range.startColumn:1,K=V.range.endLineNumber===B?V.range.endColumn:W;if(V.options.showIfCollapsed){if(z>F.range.startColumn+1||F.range.endColumn-1>K)return!1}else if(z>F.range.startColumn||F.range.endColumn>K)return!1;return!0})}computeAsync(P){const F=this._anchor;if(!this._editor.hasModel()||!F)return t.AsyncIterableObject.EMPTY;const O=R._getLineDecorations(this._editor,F);return t.AsyncIterableObject.merge(this._participants.map(B=>B.computeAsync?B.computeAsync(F,O,P):t.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const P=R._getLineDecorations(this._editor,this._anchor);let F=[];for(const O of this._participants)F=F.concat(O.computeSync(this._anchor,P));return(0,y.coalesce)(F)}}function M(N,P,F,O,B,W){const V=F+B/2,z=O+W/2,K=Math.max(Math.abs(N-V)-B/2,0),j=Math.max(Math.abs(P-z)-W/2,0);return Math.sqrt(K*K+j*j)}}),define(ne[912],se([1,0,2,383,8,386,34,7,18,16,21,14,51,33,360,6,207]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";var g,m;Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerWidget=e.StandaloneColorPickerController=void 0;let c=g=class extends L.Disposable{constructor(u,f,C,_,E,I,T){super(),this._editor=u,this._modelService=C,this._keybindingService=_,this._instantiationService=E,this._languageFeatureService=I,this._languageConfigurationService=T,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=b.EditorContextKeys.standaloneColorPickerVisible.bindTo(f),this._standaloneColorPickerFocused=b.EditorContextKeys.standaloneColorPickerFocused.bindTo(f)}showOrFocus(){var u;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(u=this._standaloneColorPickerWidget)===null||u===void 0||u.focus():this._standaloneColorPickerWidget=new l(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var u;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(u=this._standaloneColorPickerWidget)===null||u===void 0||u.hide(),this._editor.focus()}insertColor(){var u;(u=this._standaloneColorPickerWidget)===null||u===void 0||u.updateEditor(),this.hide()}static get(u){return u.getContribution(g.ID)}};e.StandaloneColorPickerController=c,c.ID="editor.contrib.standaloneColorPickerController",e.StandaloneColorPickerController=c=g=De([he(1,a.IContextKeyService),he(2,n.IModelService),he(3,S.IKeybindingService),he(4,y.IInstantiationService),he(5,w.ILanguageFeaturesService),he(6,i.ILanguageConfigurationService)],c),(0,v.registerEditorContribution)(c.ID,c,1);const d=8,s=22;let l=m=class extends L.Disposable{constructor(u,f,C,_,E,I,T,A){var R;super(),this._editor=u,this._standaloneColorPickerVisible=f,this._standaloneColorPickerFocused=C,this._modelService=E,this._keybindingService=I,this._languageFeaturesService=T,this._languageConfigurationService=A,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new p.Emitter),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=_.createInstance(k.StandaloneColorPickerParticipant,this._editor),this._position=(R=this._editor._getViewModel())===null||R===void 0?void 0:R.getPrimaryCursorState().modelState.position;const M=this._editor.getSelection(),N=M?{startLineNumber:M.startLineNumber,startColumn:M.startColumn,endLineNumber:M.endLineNumber,endColumn:M.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},P=this._register(o.trackFocus(this._body));this._register(P.onDidBlur(F=>{this.hide()})),this._register(P.onDidFocus(F=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(F=>{var O;const B=(O=F.target.element)===null||O===void 0?void 0:O.classList;B&&B.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(F=>{this._render(F.value,F.foundInEditor)})),this._start(N),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return m.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const u=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:u?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}async _start(u){const f=await this._computeAsync(u);f&&this._onResult.fire(new r(f.result,f.foundInEditor))}async _computeAsync(u){if(!this._editor.hasModel())return null;const f={range:u,color:{red:0,green:0,blue:0,alpha:1}},C=await this._standaloneColorPickerParticipant.createColorHover(f,new t.DefaultDocumentColorProvider(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return C?{result:C.colorHover,foundInEditor:C.foundInEditor}:null}_render(u,f){const C=document.createDocumentFragment(),_=this._register(new D.EditorHoverStatusBar(this._keybindingService));let E;const I={fragment:C,statusBar:_,setColorPicker:B=>E=B,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=u,this._register(this._standaloneColorPickerParticipant.renderHoverParts(I,[u])),E===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(C),E.layout();const T=E.body,A=T.saturationBox.domNode.clientWidth,R=T.domNode.clientWidth-A-s-d,M=E.body.enterButton;M?.onClicked(()=>{this.updateEditor(),this.hide()});const N=E.header,P=N.pickedColorNode;P.style.width=A+d+"px";const F=N.originalColorNode;F.style.width=R+"px";const O=E.header.closeButton;O?.onClicked(()=>{this.hide()}),f&&(M&&(M.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(u.range)),this._editor.layoutContentWidget(this)}};e.StandaloneColorPickerWidget=l,l.ID="editor.contrib.standaloneColorPickerWidget",e.StandaloneColorPickerWidget=l=m=De([he(3,y.IInstantiationService),he(4,n.IModelService),he(5,S.IKeybindingService),he(6,w.ILanguageFeaturesService),he(7,i.ILanguageConfigurationService)],l);class r{constructor(u,f){this.value=u,this.foundInEditor=f}}}),define(ne[913],se([1,0,16,672,912,21,28,207]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOrFocusStandaloneColorPicker=void 0;class p extends L.EditorAction2{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{...(0,k.localize2)(3,"Show or Focus Standalone Color Picker"),mnemonicTitle:(0,k.localize)(0,null)},precondition:void 0,menu:[{id:S.MenuId.CommandPalette}]})}runEditorCommand(a,n){var i;(i=y.StandaloneColorPickerController.get(n))===null||i===void 0||i.showOrFocus()}}e.ShowOrFocusStandaloneColorPicker=p;class w extends L.EditorAction{constructor(){super({id:"editor.action.hideColorPicker",label:(0,k.localize)(1,null),alias:"Hide the Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(a,n){var i;(i=y.StandaloneColorPickerController.get(n))===null||i===void 0||i.hide()}}class v extends L.EditorAction{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,k.localize)(2,null),alias:"Insert Color with Standalone Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(a,n){var i;(i=y.StandaloneColorPickerController.get(n))===null||i===void 0||i.insertColor()}}(0,L.registerEditorAction)(w),(0,L.registerEditorAction)(v),(0,S.registerAction2)(p)}),define(ne[914],se([1,0,15,12,109,16,5,23,21,38,123,700,568,473]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});let t=i=class{static get(c){return c.getContribution(i.ID)}constructor(c,d){this.editor=c,this.editorWorkerService=d,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(c,d){var s;(s=this.currentRequest)===null||s===void 0||s.cancel();const l=this.editor.getSelection(),r=this.editor.getModel();if(!r||!l)return;let h=l;if(h.startLineNumber!==h.endLineNumber)return;const u=new y.EditorState(this.editor,5),f=r.uri;return this.editorWorkerService.canNavigateValueSet(f)?(this.currentRequest=(0,L.createCancelablePromise)(C=>this.editorWorkerService.navigateValueSet(f,h,d)),this.currentRequest.then(C=>{var _;if(!C||!C.range||!C.value||!u.validate(this.editor))return;const E=S.Range.lift(C.range);let I=C.range;const T=C.value.length-(h.endColumn-h.startColumn);I={startLineNumber:I.startLineNumber,startColumn:I.startColumn,endLineNumber:I.endLineNumber,endColumn:I.startColumn+C.value.length},T>1&&(h=new p.Selection(h.startLineNumber,h.startColumn,h.endLineNumber,h.endColumn+T-1));const A=new n.InPlaceReplaceCommand(E,h,C.value);this.editor.pushUndoStop(),this.editor.executeCommand(c,A),this.editor.pushUndoStop(),this.decorations.set([{range:I,options:i.DECORATION}]),(_=this.decorationRemover)===null||_===void 0||_.cancel(),this.decorationRemover=(0,L.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(k.onUnexpectedError)}).catch(k.onUnexpectedError)):Promise.resolve(void 0)}};t.ID="editor.contrib.inPlaceReplaceController",t.DECORATION=v.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),t=i=De([he(1,b.IEditorWorkerService)],t);class o extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:a.localize(0,null),alias:"Replace with Previous Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3159,weight:100}})}run(c,d){const s=t.get(d);return s?s.run(this.id,!1):Promise.resolve(void 0)}}class g extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:a.localize(1,null),alias:"Replace with Next Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3161,weight:100}})}run(c,d){const s=t.get(d);return s?s.run(this.id,!0):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(t.ID,t,4),(0,D.registerEditorAction)(o),(0,D.registerEditorAction)(g)}),define(ne[269],se([1,0,6,15,27,2,11,29,5,38,8,478]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineProgressManager=void 0;const a=v.ModelDecorationOptions.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:S.noBreakWhitespace,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class n extends D.Disposable{constructor(o,g,m,c,d){super(),this.typeId=o,this.editor=g,this.range=m,this.delegate=d,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(c),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(o){this.domNode=L.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=o;const g=L.$("span.icon");this.domNode.append(g),g.classList.add(...p.ThemeIcon.asClassNameArray(y.Codicon.loading),"codicon-modifier-spin");const m=()=>{const c=this.editor.getOption(67);this.domNode.style.height=`${c}px`,this.domNode.style.width=`${Math.ceil(.8*c)}px`};m(),this._register(this.editor.onDidChangeConfiguration(c=>{(c.hasChanged(52)||c.hasChanged(67))&&m()})),this._register(L.addDisposableListener(this.domNode,L.EventType.CLICK,c=>{this.delegate.cancel()}))}getId(){return n.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}n.baseId="editor.widget.inlineProgressWidget";let i=class extends D.Disposable{constructor(o,g,m){super(),this.id=o,this._editor=g,this._instantiationService=m,this._showDelay=500,this._showPromise=this._register(new D.MutableDisposable),this._currentWidget=new D.MutableDisposable,this._operationIdPool=0,this._currentDecorations=g.createDecorationsCollection()}async showWhile(o,g,m){const c=this._operationIdPool++;this._currentOperation=c,this.clear(),this._showPromise.value=(0,k.disposableTimeout)(()=>{const d=w.Range.fromPositions(o);this._currentDecorations.set([{range:d,options:a}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(n,this.id,this._editor,d,g,m))},this._showDelay);try{return await m}finally{this._currentOperation===c&&(this.clear(),this._currentOperation=void 0)}}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};e.InlineProgressManager=i,e.InlineProgressManager=i=De([he(2,b.IInstantiationService)],i)}),define(ne[387],se([1,0,6,13,15,179,2,113,17,178,196,359,142,5,18,245,109,269,677,107,14,8,88,72,353,168]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=e.pasteWidgetVisibleCtx=e.changePasteTypeCommandId=void 0,e.changePasteTypeCommandId="editor.changePasteType",e.pasteWidgetVisibleCtx=new s.RawContextKey("pasteWidgetVisible",!1,(0,c.localize)(0,null));const _="application/vnd.code.copyMetadata";let E=C=class extends S.Disposable{static get(A){return A.getContribution(C.ID)}constructor(A,R,M,N,P,F,O){super(),this._bulkEditService=M,this._clipboardService=N,this._languageFeaturesService=P,this._quickInputService=F,this._progressService=O,this._editor=A;const B=A.getContainerDomNode();this._register((0,L.addDisposableListener)(B,"copy",W=>this.handleCopy(W))),this._register((0,L.addDisposableListener)(B,"cut",W=>this.handleCopy(W))),this._register((0,L.addDisposableListener)(B,"paste",W=>this.handlePaste(W),!0)),this._pasteProgressManager=this._register(new m.InlineProgressManager("pasteIntoEditor",A,R)),this._postPasteWidgetManager=this._register(R.createInstance(u.PostEditWidgetManager,"pasteIntoEditor",A,e.pasteWidgetVisibleCtx,{id:e.changePasteTypeCommandId,label:(0,c.localize)(1,null)}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(A){this._editor.focus();try{this._pasteAsActionContext={preferredId:A},(0,L.getActiveDocument)().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(85).enabled&&!this._editor.getOption(91)}async finishedPaste(){await this._currentPasteOperation}handleCopy(A){var R,M;if(!this._editor.hasTextFocus()||(w.isWeb&&this._clipboardService.writeResources([]),!A.clipboardData||!this.isPasteAsEnabled()))return;const N=this._editor.getModel(),P=this._editor.getSelections();if(!N||!P?.length)return;const F=this._editor.getOption(37);let O=P;const B=P.length===1&&P[0].isEmpty();if(B){if(!F)return;O=[new i.Range(O[0].startLineNumber,1,O[0].startLineNumber,1+N.getLineLength(O[0].startLineNumber))]}const W=(R=this._editor._getViewModel())===null||R===void 0?void 0:R.getPlainTextToCopy(P,F,w.isWindows),z={multicursorText:Array.isArray(W)?W:null,pasteOnNewLine:B,mode:null},K=this._languageFeaturesService.documentPasteEditProvider.ordered(N).filter(J=>!!J.prepareDocumentPaste);if(!K.length){this.setCopyMetadata(A.clipboardData,{defaultPastePayload:z});return}const j=(0,a.toVSDataTransfer)(A.clipboardData),x=K.flatMap(J=>{var X;return(X=J.copyMimeTypes)!==null&&X!==void 0?X:[]}),re=(0,v.generateUuid)();this.setCopyMetadata(A.clipboardData,{id:re,providerCopyMimeTypes:x,defaultPastePayload:z});const ie=(0,y.createCancelablePromise)(async J=>{const X=(0,k.coalesce)(await Promise.all(K.map(async Y=>{try{return await Y.prepareDocumentPaste(N,O,j,J)}catch(le){console.error(le);return}})));X.reverse();for(const Y of X)for(const[le,de]of Y)j.replace(le,de);return j});(M=this._currentCopyOperation)===null||M===void 0||M.dataTransferPromise.cancel(),this._currentCopyOperation={handle:re,dataTransferPromise:ie}}async handlePaste(A){var R,M,N,P,F;if(!A.clipboardData||!this._editor.hasTextFocus())return;(R=f.MessageController.get(this._editor))===null||R===void 0||R.closeMessage(),(M=this._currentPasteOperation)===null||M===void 0||M.cancel(),this._currentPasteOperation=void 0;const O=this._editor.getModel(),B=this._editor.getSelections();if(!B?.length||!O||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return;const W=this.fetchCopyMetadata(A),V=(0,a.toExternalVSDataTransfer)(A.clipboardData);V.delete(_);const z=[...A.clipboardData.types,...(N=W?.providerCopyMimeTypes)!==null&&N!==void 0?N:[],p.Mimes.uriList],K=this._languageFeaturesService.documentPasteEditProvider.ordered(O).filter(j=>{var x,re;return!((x=this._pasteAsActionContext)===null||x===void 0)&&x.preferredId&&this._pasteAsActionContext.preferredId!==j.id?!1:(re=j.pasteMimeTypes)===null||re===void 0?void 0:re.some(ie=>(0,D.matchesMimeType)(ie,z))});if(!K.length){!((P=this._pasteAsActionContext)===null||P===void 0)&&P.preferredId&&this.showPasteAsNoEditMessage(B,(F=this._pasteAsActionContext)===null||F===void 0?void 0:F.preferredId);return}A.preventDefault(),A.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,K,B,V,W,{trigger:"explicit",only:this._pasteAsActionContext.preferredId}):this.doPasteInline(K,B,V,W,{trigger:"implicit"})}showPasteAsNoEditMessage(A,R){var M;(M=f.MessageController.get(this._editor))===null||M===void 0||M.showMessage((0,c.localize)(2,null,R),A[0].getStartPosition())}doPasteInline(A,R,M,N,P){const F=(0,y.createCancelablePromise)(async O=>{const B=this._editor;if(!B.hasModel())return;const W=B.getModel(),V=new g.EditorStateCancellationTokenSource(B,3,void 0,O);try{if(await this.mergeInDataFromCopy(M,N,V.token),V.token.isCancellationRequested)return;const z=A.filter(j=>I(j,M));if(!z.length||z.length===1&&z[0].id==="text"){await this.applyDefaultPasteHandler(M,N,V.token);return}const K=await this.getPasteEdits(z,M,W,R,P,V.token);if(V.token.isCancellationRequested)return;if(K.length===1&&K[0].providerId==="text"){await this.applyDefaultPasteHandler(M,N,V.token);return}if(K.length){const j=B.getOption(85).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(R,{activeEditIndex:0,allEdits:K},j,V.token)}await this.applyDefaultPasteHandler(M,N,V.token)}finally{V.dispose(),this._currentPasteOperation===F&&(this._currentPasteOperation=void 0)}});this._pasteProgressManager.showWhile(R[0].getEndPosition(),(0,c.localize)(3,null),F),this._currentPasteOperation=F}showPasteAsPick(A,R,M,N,P,F){const O=(0,y.createCancelablePromise)(async B=>{const W=this._editor;if(!W.hasModel())return;const V=W.getModel(),z=new g.EditorStateCancellationTokenSource(W,3,void 0,B);try{if(await this.mergeInDataFromCopy(N,P,z.token),z.token.isCancellationRequested)return;let K=R.filter(ie=>I(ie,N));A&&(K=K.filter(ie=>ie.id===A));const j=await this.getPasteEdits(K,N,V,M,F,z.token);if(z.token.isCancellationRequested)return;if(!j.length){F.only&&this.showPasteAsNoEditMessage(M,F.only);return}let x;if(A)x=j.at(0);else{const ie=await this._quickInputService.pick(j.map(J=>({label:J.label,description:J.providerId,detail:J.detail,edit:J})),{placeHolder:(0,c.localize)(4,null)});x=ie?.edit}if(!x)return;const re=(0,o.createCombinedWorkspaceEdit)(V.uri,M,x);await this._bulkEditService.apply(re,{editor:this._editor})}finally{z.dispose(),this._currentPasteOperation===O&&(this._currentPasteOperation=void 0)}});this._progressService.withProgress({location:10,title:(0,c.localize)(5,null)},()=>O)}setCopyMetadata(A,R){A.setData(_,JSON.stringify(R))}fetchCopyMetadata(A){var R;if(!A.clipboardData)return;const M=A.clipboardData.getData(_);if(M)try{return JSON.parse(M)}catch{return}const[N,P]=b.ClipboardEventUtils.getTextData(A.clipboardData);if(P)return{defaultPastePayload:{mode:P.mode,multicursorText:(R=P.multicursorText)!==null&&R!==void 0?R:null,pasteOnNewLine:!!P.isFromEmptySelection}}}async mergeInDataFromCopy(A,R,M){var N;if(R?.id&&((N=this._currentCopyOperation)===null||N===void 0?void 0:N.handle)===R.id){const P=await this._currentCopyOperation.dataTransferPromise;if(M.isCancellationRequested)return;for(const[F,O]of P)A.replace(F,O)}if(!A.has(p.Mimes.uriList)){const P=await this._clipboardService.readResources();if(M.isCancellationRequested)return;P.length&&A.append(p.Mimes.uriList,(0,D.createStringDataTransferItem)(D.UriList.create(P)))}}async getPasteEdits(A,R,M,N,P,F){const O=await(0,y.raceCancellation)(Promise.all(A.map(async W=>{var V;try{const z=await((V=W.provideDocumentPasteEdits)===null||V===void 0?void 0:V.call(W,M,N,R,P,F));if(z)return{...z,providerId:W.id}}catch(z){console.error(z)}})),F),B=(0,k.coalesce)(O??[]);return(0,o.sortEditsByYieldTo)(B)}async applyDefaultPasteHandler(A,R,M){var N,P,F;const O=(N=A.get(p.Mimes.text))!==null&&N!==void 0?N:A.get("text");if(!O)return;const B=await O.asString();if(M.isCancellationRequested)return;const W={text:B,pasteOnNewLine:(P=R?.defaultPastePayload.pasteOnNewLine)!==null&&P!==void 0?P:!1,multicursorText:(F=R?.defaultPastePayload.multicursorText)!==null&&F!==void 0?F:null,mode:null};this._editor.trigger("keyboard","paste",W)}};e.CopyPasteController=E,E.ID="editor.contrib.copyPasteActionController",e.CopyPasteController=E=C=De([he(1,l.IInstantiationService),he(2,n.IBulkEditService),he(3,d.IClipboardService),he(4,t.ILanguageFeaturesService),he(5,h.IQuickInputService),he(6,r.IProgressService)],E);function I(T,A){var R;return!!(!((R=T.pasteMimeTypes)===null||R===void 0)&&R.some(M=>A.matches(M)))}}),define(ne[915],se([1,0,59,6,17,196,16,35,21,387,663,28,107,14]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const t="9_cutcopypaste",o=y.isNative||document.queryCommandSupported("cut"),g=y.isNative||document.queryCommandSupported("copy"),m=typeof navigator.clipboard>"u"||L.isFirefox?document.queryCommandSupported("paste"):!0;function c(l){return l.register(),l}e.CutAction=o?c(new S.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:y.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:a.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(0,null),order:1},{menuId:a.MenuId.EditorContext,group:t,title:b.localize(1,null),when:w.EditorContextKeys.writable,order:1},{menuId:a.MenuId.CommandPalette,group:"",title:b.localize(2,null),order:1},{menuId:a.MenuId.SimpleEditorContext,group:t,title:b.localize(3,null),when:w.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=g?c(new S.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:y.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:a.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(4,null),order:2},{menuId:a.MenuId.EditorContext,group:t,title:b.localize(5,null),order:2},{menuId:a.MenuId.CommandPalette,group:"",title:b.localize(6,null),order:1},{menuId:a.MenuId.SimpleEditorContext,group:t,title:b.localize(7,null),order:2}]})):void 0,a.MenuRegistry.appendMenuItem(a.MenuId.MenubarEditMenu,{submenu:a.MenuId.MenubarCopy,title:b.localize2(13,"Copy As"),group:"2_ccp",order:3}),a.MenuRegistry.appendMenuItem(a.MenuId.EditorContext,{submenu:a.MenuId.EditorContextCopy,title:b.localize2(14,"Copy As"),group:t,order:3}),a.MenuRegistry.appendMenuItem(a.MenuId.EditorContext,{submenu:a.MenuId.EditorContextShare,title:b.localize2(15,"Share"),group:"11_share",order:-1,when:i.ContextKeyExpr.and(i.ContextKeyExpr.notEquals("resourceScheme","output"),w.EditorContextKeys.editorTextFocus)}),a.MenuRegistry.appendMenuItem(a.MenuId.EditorTitleContext,{submenu:a.MenuId.EditorTitleContextShare,title:b.localize2(16,"Share"),group:"11_share",order:-1}),a.MenuRegistry.appendMenuItem(a.MenuId.ExplorerContext,{submenu:a.MenuId.ExplorerContextShare,title:b.localize2(17,"Share"),group:"11_share",order:-1}),e.PasteAction=m?c(new S.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:y.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:a.MenuId.MenubarEditMenu,group:"2_ccp",title:b.localize(8,null),order:4},{menuId:a.MenuId.EditorContext,group:t,title:b.localize(9,null),when:w.EditorContextKeys.writable,order:4},{menuId:a.MenuId.CommandPalette,group:"",title:b.localize(10,null),order:1},{menuId:a.MenuId.SimpleEditorContext,group:t,title:b.localize(11,null),when:w.EditorContextKeys.writable,order:4}]})):void 0;class d extends S.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:b.localize(12,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(r,h){!h.hasModel()||!h.getOption(37)&&h.getSelection().isEmpty()||(D.CopyOptions.forceCopyWithSyntaxHighlighting=!0,h.focus(),h.getContainerDomNode().ownerDocument.execCommand("copy"),D.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function s(l,r){l&&(l.addImplementation(1e4,"code-editor",(h,u)=>{const f=h.get(p.ICodeEditorService).getFocusedCodeEditor();if(f&&f.hasTextFocus()){const C=f.getOption(37),_=f.getSelection();return _&&_.isEmpty()&&!C||f.getContainerDomNode().ownerDocument.execCommand(r),!0}return!1}),l.addImplementation(0,"generic-dom",(h,u)=>((0,k.getActiveDocument)().execCommand(r),!0)))}s(e.CutAction,"cut"),s(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(l,r)=>{var h,u;const f=l.get(p.ICodeEditorService),C=l.get(n.IClipboardService),_=f.getFocusedCodeEditor();return _&&_.hasTextFocus()?_.getContainerDomNode().ownerDocument.execCommand("paste")?(u=(h=v.CopyPasteController.get(_))===null||h===void 0?void 0:h.finishedPaste())!==null&&u!==void 0?u:Promise.resolve():y.isWeb?(async()=>{const I=await C.readText();if(I!==""){const T=D.InMemoryClipboardMetadataManager.INSTANCE.get(I);let A=!1,R=null,M=null;T&&(A=_.getOption(37)&&!!T.isFromEmptySelection,R=typeof T.multicursorText<"u"?T.multicursorText:null,M=T.mode),_.trigger("keyboard","paste",{text:I,pasteOnNewLine:A,multicursorText:R,mode:M})}})():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(l,r)=>((0,k.getActiveDocument)().execCommand("paste"),!0))),g&&(0,S.registerEditorAction)(d)}),define(ne[916],se([1,0,13,15,179,2,359,5,18,303,774,109,269,680,26,14,358,8,245,353]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=e.dropWidgetVisibleCtx=e.changeDropTypeCommandId=e.defaultProviderConfig=void 0,e.defaultProviderConfig="editor.experimental.dropIntoEditor.defaultProvider",e.changeDropTypeCommandId="editor.changeDropType",e.dropWidgetVisibleCtx=new o.RawContextKey("dropWidgetVisible",!1,(0,i.localize)(0,null));let l=s=class extends D.Disposable{static get(h){return h.getContribution(s.ID)}constructor(h,u,f,C,_){super(),this._configService=f,this._languageFeaturesService=C,this._treeViewsDragAndDropService=_,this.treeItemsTransfer=g.LocalSelectionTransfer.getInstance(),this._dropProgressManager=this._register(u.createInstance(n.InlineProgressManager,"dropIntoEditor",h)),this._postDropWidgetManager=this._register(u.createInstance(d.PostEditWidgetManager,"dropIntoEditor",h,e.dropWidgetVisibleCtx,{id:e.changeDropTypeCommandId,label:(0,i.localize)(1,null)})),this._register(h.onDropIntoEditor(E=>this.onDropIntoEditor(h,E.position,E.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}async onDropIntoEditor(h,u,f){var C;if(!f.dataTransfer||!h.hasModel())return;(C=this._currentOperation)===null||C===void 0||C.cancel(),h.focus(),h.setPosition(u);const _=(0,k.createCancelablePromise)(async E=>{const I=new a.EditorStateCancellationTokenSource(h,1,void 0,E);try{const T=await this.extractDataTransferData(f);if(T.size===0||I.token.isCancellationRequested)return;const A=h.getModel();if(!A)return;const R=this._languageFeaturesService.documentOnDropEditProvider.ordered(A).filter(N=>N.dropMimeTypes?N.dropMimeTypes.some(P=>T.matches(P)):!0),M=await this.getDropEdits(R,A,u,T,I);if(I.token.isCancellationRequested)return;if(M.length){const N=this.getInitialActiveEditIndex(A,M),P=h.getOption(36).showDropSelector==="afterDrop";await this._postDropWidgetManager.applyEditAndShowIfNeeded([p.Range.fromPositions(u)],{activeEditIndex:N,allEdits:M},P,E)}}finally{I.dispose(),this._currentOperation===_&&(this._currentOperation=void 0)}});this._dropProgressManager.showWhile(u,(0,i.localize)(2,null),_),this._currentOperation=_}async getDropEdits(h,u,f,C,_){const E=await(0,k.raceCancellation)(Promise.all(h.map(async T=>{try{const A=await T.provideDocumentOnDropEdits(u,f,C,_.token);if(A)return{...A,providerId:T.id}}catch(A){console.error(A)}})),_.token),I=(0,L.coalesce)(E??[]);return(0,c.sortEditsByYieldTo)(I)}getInitialActiveEditIndex(h,u){const f=this._configService.getValue(e.defaultProviderConfig,{resource:h.uri});for(const[C,_]of Object.entries(f)){const E=u.findIndex(I=>_===I.providerId&&I.handledMimeType&&(0,y.matchesMimeType)(C,[I.handledMimeType]));if(E>=0)return E}return 0}async extractDataTransferData(h){if(!h.dataTransfer)return new y.VSDataTransfer;const u=(0,S.toExternalVSDataTransfer)(h.dataTransfer);if(this.treeItemsTransfer.hasData(v.DraggedTreeItemsIdentifier.prototype)){const f=this.treeItemsTransfer.getData(v.DraggedTreeItemsIdentifier.prototype);if(Array.isArray(f))for(const C of f){const _=await this._treeViewsDragAndDropService.removeDragOperationTransfer(C.identifier);if(_)for(const[E,I]of _)u.replace(E,I)}}return u}};e.DropIntoEditorController=l,l.ID="editor.contrib.dropIntoEditorController",e.DropIntoEditorController=l=s=De([he(1,m.IInstantiationService),he(2,t.IConfigurationService),he(3,w.ILanguageFeaturesService),he(4,b.ITreeViewsDnDService)],l)}),define(ne[917],se([1,0,13,15,19,39,12,7,2,11,22,16,35,9,5,21,38,33,710,14,18,31,80,63,479]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new d.RawContextKey("LinkedEditingInputVisible",!1);const f="linked-editing-decoration";let C=u=class extends w.Disposable{static get(A){return A.getContribution(u.ID)}constructor(A,R,M,N,P){super(),this.languageConfigurationService=N,this._syncRangesToken=0,this._localToDispose=this._register(new w.DisposableStore),this._editor=A,this._providers=M.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(R),this._debounceInformation=P.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new w.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(F=>{(F.hasChanged(70)||F.hasChanged(93))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(A){const R=this._editor.getModel(),M=R!==null&&(this._editor.getOption(70)||this._editor.getOption(93))&&this._providers.has(R);if(M===this._enabled&&!A||(this._enabled=M,this.clearRanges(),this._localToDispose.clear(),!M||R===null))return;this._localToDispose.add(p.Event.runAndSubscribe(R.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(R.getLanguageId()).getWordDefinition()}));const N=new k.Delayer(this._debounceInformation.get(R)),P=()=>{var B;this._rangeUpdateTriggerPromise=N.trigger(()=>this.updateRanges(),(B=this._debounceDuration)!==null&&B!==void 0?B:this._debounceInformation.get(R))},F=new k.Delayer(0),O=B=>{this._rangeSyncTriggerPromise=F.trigger(()=>this._syncRanges(B))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{P()})),this._localToDispose.add(this._editor.onDidChangeModelContent(B=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const W=this._currentDecorations.getRange(0);if(W&&B.changes.every(V=>W.intersectRanges(V.range))){O(this._syncRangesToken);return}}P()})),this._localToDispose.add({dispose:()=>{N.dispose(),F.dispose()}}),this.updateRanges()}_syncRanges(A){if(!this._editor.hasModel()||A!==this._syncRangesToken||this._currentDecorations.length===0)return;const R=this._editor.getModel(),M=this._currentDecorations.getRange(0);if(!M||M.startLineNumber!==M.endLineNumber)return this.clearRanges();const N=R.getValueInRange(M);if(this._currentWordPattern){const F=N.match(this._currentWordPattern);if((F?F[0].length:0)!==N.length)return this.clearRanges()}const P=[];for(let F=1,O=this._currentDecorations.length;F<O;F++){const B=this._currentDecorations.getRange(F);if(B)if(B.startLineNumber!==B.endLineNumber)P.push({range:B,text:N});else{let W=R.getValueInRange(B),V=N,z=B.startColumn,K=B.endColumn;const j=v.commonPrefixLength(W,V);z+=j,W=W.substr(j),V=V.substr(j);const x=v.commonSuffixLength(W,V);K-=x,W=W.substr(0,W.length-x),V=V.substr(0,V.length-x),(z!==K||V.length!==0)&&P.push({range:new t.Range(B.startLineNumber,z,B.endLineNumber,K),text:V})}}if(P.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const F=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",P),this._editor._getViewModel().setPrevEditOperationType(F)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}async updateRanges(A=!1){if(!this._editor.hasModel()){this.clearRanges();return}const R=this._editor.getPosition();if(!this._enabled&&!A||this._editor.getSelections().length>1){this.clearRanges();return}const M=this._editor.getModel(),N=M.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===N){if(R.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const F=this._currentDecorations.getRange(0);if(F&&F.containsPosition(R))return}}this.clearRanges(),this._currentRequestPosition=R,this._currentRequestModelVersion=N;const P=this._currentRequestCts=new y.CancellationTokenSource;try{const F=new h.StopWatch(!1),O=await I(this._providers,M,R,P.token);if(this._debounceInformation.update(M,F.elapsed()),P!==this._currentRequestCts||(this._currentRequestCts=null,N!==M.getVersionId()))return;let B=[];O?.ranges&&(B=O.ranges),this._currentWordPattern=O?.wordPattern||this._languageWordPattern;let W=!1;for(let z=0,K=B.length;z<K;z++)if(t.Range.containsPosition(B[z],R)){if(W=!0,z!==0){const j=B[z];B.splice(z,1),B.unshift(j)}break}if(!W){this.clearRanges();return}const V=B.map(z=>({range:z,options:u.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(V),this._syncRangesToken++}catch(F){(0,S.isCancellationError)(F)||(0,S.onUnexpectedError)(F),(this._currentRequestCts===P||!this._currentRequestCts)&&this.clearRanges()}}};e.LinkedEditingContribution=C,C.ID="editor.contrib.linkedEditing",C.DECORATION=g.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:f}),e.LinkedEditingContribution=C=u=De([he(1,d.IContextKeyService),he(2,s.ILanguageFeaturesService),he(3,m.ILanguageConfigurationService),he(4,r.ILanguageFeatureDebounceService)],C);class _ extends a.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:c.localize(0,null),alias:"Start Linked Editing",precondition:d.ContextKeyExpr.and(o.EditorContextKeys.writable,o.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(A,R){const M=A.get(n.ICodeEditorService),[N,P]=Array.isArray(R)&&R||[void 0,void 0];return b.URI.isUri(N)&&i.Position.isIPosition(P)?M.openCodeEditor({resource:N},M.getActiveCodeEditor()).then(F=>{F&&(F.setPosition(P),F.invokeWithinContext(O=>(this.reportTelemetry(O,F),this.run(O,F))))},S.onUnexpectedError):super.runCommand(A,R)}run(A,R){const M=C.get(R);return M?Promise.resolve(M.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=_;const E=a.EditorCommand.bindToContribution(C.get);(0,a.registerEditorCommand)(new E({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:T=>T.clearRanges(),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function I(T,A,R,M){const N=T.ordered(A);return(0,k.first)(N.map(P=>async()=>{try{return await P.provideLinkedEditingRanges(A,R,M)}catch(F){(0,S.onUnexpectedExternalError)(F);return}}),P=>!!P&&L.isNonEmptyArray(P?.ranges))}e.editorLinkedEditingBackground=(0,l.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hcDark:D.Color.fromHex("#f00").transparent(.3),hcLight:D.Color.white},c.localize(1,null)),(0,a.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(T,A,R)=>{const{linkedEditingRangeProvider:M}=T.get(s.ILanguageFeaturesService);return I(M,A,R,y.CancellationToken.None)}),(0,a.registerEditorContribution)(C.ID,C,1),(0,a.registerEditorAction)(_)}),define(ne[918],se([1,0,15,19,12,58,2,47,17,48,63,22,16,38,80,18,193,776,711,49,57,480]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let r=l=class extends S.Disposable{static get(E){return E.getContribution(l.ID)}constructor(E,I,T,A,R){super(),this.editor=E,this.openerService=I,this.notificationService=T,this.languageFeaturesService=A,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=R.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new L.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const M=this._register(new g.ClickLinkGesture(E));this._register(M.onMouseMoveOrRelevantKeyDown(([N,P])=>{this._onEditorMouseMove(N,P)})),this._register(M.onExecute(N=>{this.onEditorMouseUp(N)})),this._register(M.onCancel(N=>{this.cleanUpActiveLinkDecoration()})),this._register(E.onDidChangeConfiguration(N=>{N.hasChanged(71)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(E.onDidChangeModelContent(N=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(E.onDidChangeModel(N=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(E.onDidChangeModelLanguage(N=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(N=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}async computeLinksNow(){if(!this.editor.hasModel()||!this.editor.getOption(71))return;const E=this.editor.getModel();if(!E.isTooLargeForSyncing()&&this.providers.has(E)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,L.createCancelablePromise)(I=>(0,m.getLinks)(this.providers,E,I));try{const I=new b.StopWatch(!1);if(this.activeLinksList=await this.computePromise,this.debounceInformation.update(E,I.elapsed()),E.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(I){(0,y.onUnexpectedError)(I)}finally{this.computePromise=null}}}updateDecorations(E){const I=this.editor.getOption(78)==="altKey",T=[],A=Object.keys(this.currentOccurrences);for(const M of A){const N=this.currentOccurrences[M];T.push(N.decorationId)}const R=[];if(E)for(const M of E)R.push(u.decoration(M,I));this.editor.changeDecorations(M=>{const N=M.deltaDecorations(T,R);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let P=0,F=N.length;P<F;P++){const O=new u(E[P],N[P]);this.currentOccurrences[O.decorationId]=O}})}_onEditorMouseMove(E,I){const T=this.editor.getOption(78)==="altKey";if(this.isEnabled(E,I)){this.cleanUpActiveLinkDecoration();const A=this.getLinkOccurrence(E.target.position);A&&this.editor.changeDecorations(R=>{A.activate(R,T),this.activeLinkDecorationId=A.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const E=this.editor.getOption(78)==="altKey";if(this.activeLinkDecorationId){const I=this.currentOccurrences[this.activeLinkDecorationId];I&&this.editor.changeDecorations(T=>{I.deactivate(T,E)}),this.activeLinkDecorationId=null}}onEditorMouseUp(E){if(!this.isEnabled(E))return;const I=this.getLinkOccurrence(E.target.position);I&&this.openLinkOccurrence(I,E.hasSideBySideModifier,!0)}openLinkOccurrence(E,I,T=!1){if(!this.openerService)return;const{link:A}=E;A.resolve(k.CancellationToken.None).then(R=>{if(typeof R=="string"&&this.editor.hasModel()){const M=this.editor.getModel().uri;if(M.scheme===p.Schemas.file&&R.startsWith(`${p.Schemas.file}:`)){const N=a.URI.parse(R);if(N.scheme===p.Schemas.file){const P=v.originalFSPath(N);let F=null;P.startsWith("/./")?F=`.${P.substr(1)}`:P.startsWith("//./")&&(F=`.${P.substr(2)}`),F&&(R=v.joinPath(M,F))}}}return this.openerService.open(R,{openToSide:I,fromUserGesture:T,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},R=>{const M=R instanceof Error?R.message:R;M==="invalid"?this.notificationService.warn(c.localize(0,null,A.url.toString())):M==="missing"?this.notificationService.warn(c.localize(1,null)):(0,y.onUnexpectedError)(R)})}getLinkOccurrence(E){if(!this.editor.hasModel()||!E)return null;const I=this.editor.getModel().getDecorationsInRange({startLineNumber:E.lineNumber,startColumn:E.column,endLineNumber:E.lineNumber,endColumn:E.column},0,!0);for(const T of I){const A=this.currentOccurrences[T.id];if(A)return A}return null}isEnabled(E,I){return!!(E.target.type===6&&(E.hasTriggerModifier||I&&I.keyCodeIsTriggerKey))}stop(){var E;this.computeLinks.cancel(),this.activeLinksList&&((E=this.activeLinksList)===null||E===void 0||E.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};e.LinkDetector=r,r.ID="editor.linkDetector",e.LinkDetector=r=l=De([he(1,s.IOpenerService),he(2,d.INotificationService),he(3,o.ILanguageFeaturesService),he(4,t.ILanguageFeatureDebounceService)],r);const h={general:i.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:i.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class u{static decoration(E,I){return{range:E.range,options:u._getOptions(E,I,!1)}}static _getOptions(E,I,T){const A={...T?h.active:h.general};return A.hoverMessage=f(E,I),A}constructor(E,I){this.link=E,this.decorationId=I}activate(E,I){E.changeDecorationOptions(this.decorationId,u._getOptions(this.link,I,!0))}deactivate(E,I){E.changeDecorationOptions(this.decorationId,u._getOptions(this.link,I,!1))}}function f(_,E){const I=_.url&&/^command:/i.test(_.url.toString()),T=_.tooltip?_.tooltip:I?c.localize(2,null):c.localize(3,null),A=E?w.isMacintosh?c.localize(4,null):c.localize(5,null):w.isMacintosh?c.localize(6,null):c.localize(7,null);if(_.url){let R="";if(/^command:/i.test(_.url.toString())){const N=_.url.toString().match(/^command:([^?#]+)/);if(N){const P=N[1];R=c.localize(8,null,P)}}return new D.MarkdownString("",!0).appendLink(_.url.toString(!0).replace(/ /g,"%20"),T,R).appendMarkdown(` (${A})`)}else return new D.MarkdownString().appendText(`${T} (${A})`)}class C extends n.EditorAction{constructor(){super({id:"editor.action.openLink",label:c.localize(9,null),alias:"Open Link",precondition:void 0})}run(E,I){const T=r.get(I);if(!T||!I.hasModel())return;const A=I.getSelections();for(const R of A){const M=T.getLinkOccurrence(R.getEndPosition());M&&T.openLinkOccurrence(M,!1)}}}(0,n.registerEditorContribution)(r.ID,r,1),(0,n.registerEditorAction)(C)}),define(ne[919],se([1,0,2,18,167,15,268,312,311,33,12,317,52]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModelProvider=void 0;var i;(function(l){l.OUTLINE_MODEL="outlineModel",l.FOLDING_PROVIDER_MODEL="foldingProviderModel",l.INDENTATION_MODEL="indentationModel"})(i||(i={}));var t;(function(l){l[l.VALID=0]="VALID",l[l.INVALID=1]="INVALID",l[l.CANCELED=2]="CANCELED"})(t||(t={}));let o=class extends L.Disposable{constructor(r,h,u,f){super(),this._editor=r,this._languageConfigurationService=h,this._languageFeaturesService=u,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new D.Delayer(300)),this._updateOperation=this._register(new L.DisposableStore);const C=new m(u),_=new s(this._editor,u),E=new d(this._editor,h);switch(f){case i.OUTLINE_MODEL:this._modelProviders.push(C),this._modelProviders.push(_),this._modelProviders.push(E);break;case i.FOLDING_PROVIDER_MODEL:this._modelProviders.push(_),this._modelProviders.push(E);break;case i.INDENTATION_MODEL:this._modelProviders.push(E);break}}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}async update(r,h,u){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),await this._updateScheduler.trigger(async()=>{for(const f of this._modelProviders){const{statusPromise:C,modelPromise:_}=f.computeStickyModel(r,h,u);this._modelPromise=_;const E=await C;if(this._modelPromise!==_)return null;switch(E){case t.CANCELED:return this._updateOperation.clear(),null;case t.VALID:return f.stickyModel}}return null}).catch(f=>((0,b.onUnexpectedError)(f),null))}};e.StickyModelProvider=o,e.StickyModelProvider=o=De([he(1,v.ILanguageConfigurationService),he(2,k.ILanguageFeaturesService)],o);class g{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,t.INVALID}computeStickyModel(r,h,u){if(u.isCancellationRequested||!this.isProviderValid(r))return{statusPromise:this._invalid(),modelPromise:null};const f=(0,D.createCancelablePromise)(C=>this.createModelFromProvider(r,h,C));return{statusPromise:f.then(C=>this.isModelValid(C)?u.isCancellationRequested?t.CANCELED:(this._stickyModel=this.createStickyModel(r,h,u,C),t.VALID):this._invalid()).then(void 0,C=>((0,b.onUnexpectedError)(C),t.CANCELED)),modelPromise:f}}isModelValid(r){return!0}isProviderValid(r){return!0}}let m=class extends g{constructor(r){super(),this._languageFeaturesService=r}createModelFromProvider(r,h,u){return y.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,r,u)}createStickyModel(r,h,u,f){var C;const{stickyOutlineElement:_,providerID:E}=this._stickyModelFromOutlineModel(f,(C=this._stickyModel)===null||C===void 0?void 0:C.outlineProviderId);return new a.StickyModel(r.uri,h,_,E)}isModelValid(r){return r&&r.children.size>0}_stickyModelFromOutlineModel(r,h){let u;if(n.Iterable.first(r.children.values())instanceof y.OutlineGroup){const E=n.Iterable.find(r.children.values(),I=>I.id===h);if(E)u=E.children;else{let I="",T=-1,A;for(const[R,M]of r.children.entries()){const N=this._findSumOfRangesOfGroup(M);N>T&&(A=M,T=N,I=M.id)}h=I,u=A.children}}else u=r.children;const f=[],C=Array.from(u.values()).sort((E,I)=>{const T=new a.StickyRange(E.symbol.range.startLineNumber,E.symbol.range.endLineNumber),A=new a.StickyRange(I.symbol.range.startLineNumber,I.symbol.range.endLineNumber);return this._comparator(T,A)});for(const E of C)f.push(this._stickyModelFromOutlineElement(E,E.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new a.StickyElement(void 0,f,void 0),providerID:h}}_stickyModelFromOutlineElement(r,h){const u=[];for(const C of r.children.values())if(C.symbol.selectionRange.startLineNumber!==C.symbol.range.endLineNumber)if(C.symbol.selectionRange.startLineNumber!==h)u.push(this._stickyModelFromOutlineElement(C,C.symbol.selectionRange.startLineNumber));else for(const _ of C.children.values())u.push(this._stickyModelFromOutlineElement(_,C.symbol.selectionRange.startLineNumber));u.sort((C,_)=>this._comparator(C.range,_.range));const f=new a.StickyRange(r.symbol.selectionRange.startLineNumber,r.symbol.range.endLineNumber);return new a.StickyElement(f,u,void 0)}_comparator(r,h){return r.startLineNumber!==h.startLineNumber?r.startLineNumber-h.startLineNumber:h.endLineNumber-r.endLineNumber}_findSumOfRangesOfGroup(r){let h=0;for(const u of r.children.values())h+=this._findSumOfRangesOfGroup(u);return r instanceof y.OutlineElement?h+r.symbol.range.endLineNumber-r.symbol.selectionRange.startLineNumber:h}};m=De([he(0,k.ILanguageFeaturesService)],m);class c extends g{constructor(r){super(),this._foldingLimitReporter=new S.RangesLimitReporter(r)}createStickyModel(r,h,u,f){const C=this._fromFoldingRegions(f);return new a.StickyModel(r.uri,h,C,void 0)}isModelValid(r){return r!==null}_fromFoldingRegions(r){const h=r.length,u=[],f=new a.StickyElement(void 0,[],void 0);for(let C=0;C<h;C++){const _=r.getParentIndex(C);let E;_!==-1?E=u[_]:E=f;const I=new a.StickyElement(new a.StickyRange(r.getStartLineNumber(C),r.getEndLineNumber(C)+1),[],E);E.children.push(I),u.push(I)}return f}}let d=class extends c{constructor(r,h){super(r),this._languageConfigurationService=h}createModelFromProvider(r,h,u){return new w.IndentRangeProvider(r,this._languageConfigurationService,this._foldingLimitReporter).compute(u)}};d=De([he(1,v.ILanguageConfigurationService)],d);let s=class extends c{constructor(r,h){super(r),this._languageFeaturesService=h}isProviderValid(r){return S.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,r).length>0}createModelFromProvider(r,h,u){const f=S.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,r);return new p.SyntaxRangeProvider(r,f,()=>this.createModelFromProvider(r,h,u),this._foldingLimitReporter,void 0).compute(u)}};s=De([he(1,k.ILanguageFeaturesService)],s)}),define(ne[920],se([1,0,2,18,19,15,13,7,33,919]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=void 0;class b{constructor(i,t,o){this.startLineNumber=i,this.endLineNumber=t,this.nestingDepth=o}}e.StickyLineCandidate=b;let a=class extends L.Disposable{constructor(i,t,o){super(),this._languageFeaturesService=t,this._languageConfigurationService=o,this._onDidChangeStickyScroll=this._register(new p.Emitter),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=i,this._sessionStore=this._register(new L.DisposableStore),this._updateSoon=this._register(new D.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(g=>{g.hasChanged(115)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._stickyModelProvider=null,this._sessionStore.clear(),this._options=this._editor.getOption(115),this._options.enabled&&(this._stickyModelProvider=this._sessionStore.add(new v.StickyModelProvider(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel)),this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update())}getVersionId(){var i;return(i=this._model)===null||i===void 0?void 0:i.version}async update(){var i;(i=this._cts)===null||i===void 0||i.dispose(!0),this._cts=new y.CancellationTokenSource,await this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()}async updateStickyModel(i){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const t=this._editor.getModel(),o=t.getVersionId(),g=await this._stickyModelProvider.update(t,o,i);i.isCancellationRequested||(this._model=g)}updateIndex(i){return i===-1?i=0:i<0&&(i=-i-2),i}getCandidateStickyLinesIntersectingFromStickyModel(i,t,o,g,m){if(t.children.length===0)return;let c=m;const d=[];for(let r=0;r<t.children.length;r++){const h=t.children[r];h.range&&d.push(h.range.startLineNumber)}const s=this.updateIndex((0,S.binarySearch)(d,i.startLineNumber,(r,h)=>r-h)),l=this.updateIndex((0,S.binarySearch)(d,i.startLineNumber+g,(r,h)=>r-h));for(let r=s;r<=l;r++){const h=t.children[r];if(!h)return;if(h.range){const u=h.range.startLineNumber,f=h.range.endLineNumber;i.startLineNumber<=f+1&&u-1<=i.endLineNumber&&u!==c&&(c=u,o.push(new b(u,f-1,g+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(i,h,o,g+1,u))}else this.getCandidateStickyLinesIntersectingFromStickyModel(i,h,o,g,m)}}getCandidateStickyLinesIntersecting(i){var t,o;if(!(!((t=this._model)===null||t===void 0)&&t.element))return[];let g=[];this.getCandidateStickyLinesIntersectingFromStickyModel(i,this._model.element,g,0,-1);const m=(o=this._editor._getViewModel())===null||o===void 0?void 0:o.getHiddenAreas();if(m)for(const c of m)g=g.filter(d=>!(d.startLineNumber>=c.startLineNumber&&d.endLineNumber<=c.endLineNumber+1));return g}};e.StickyLineCandidateProvider=a,e.StickyLineCandidateProvider=a=De([he(1,k.ILanguageFeaturesService),he(2,w.ILanguageConfigurationService)],a)}),define(ne[921],se([1,0,6,95,13,2,29,260,170,9,106,139,122,385,486]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class t{constructor(u,f,C,_=null){this.startLineNumbers=u,this.endLineNumbers=f,this.lastLineRelativePosition=C,this.showEndForLine=_}equals(u){return!!u&&this.lastLineRelativePosition===u.lastLineRelativePosition&&this.showEndForLine===u.showEndForLine&&(0,y.equals)(this.startLineNumbers,u.startLineNumbers)&&(0,y.equals)(this.endLineNumbers,u.endLineNumbers)}}e.StickyScrollWidgetState=t;const o=(0,k.createTrustedTypesPolicy)("stickyScrollViewLayer",{createHTML:h=>h}),g="data-sticky-line-index",m="data-sticky-is-line",c="data-sticky-is-line-number",d="data-sticky-is-folding-icon";class s extends D.Disposable{constructor(u){super(),this._editor=u,this._foldingIconStore=new D.DisposableStore,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(67),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",u instanceof w.EmbeddedCodeEditorWidget),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const f=()=>{this._linesDomNode.style.left=this._editor.getOption(115).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(C=>{C.hasChanged(115)&&f(),C.hasChanged(67)&&(this._lineHeight=this._editor.getOption(67))})),this._register(this._editor.onDidScrollChange(C=>{C.scrollLeftChanged&&f(),C.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{f(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),f(),this._register(this._editor.onDidLayoutChange(C=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(u){return this._renderedStickyLines.find(f=>f.lineNumber===u)}getCurrentLines(){return this._lineNumbers}setState(u,f,C){if(C===void 0&&(!this._previousState&&!u||this._previousState&&this._previousState.equals(u)))return;const _=this._isWidgetHeightZero(u),E=_?void 0:u,I=_?0:this._findLineToRebuildWidgetFrom(u,C);this._renderRootNode(E,f,I),this._previousState=u}_isWidgetHeightZero(u){if(!u)return!0;const f=u.startLineNumbers.length*this._lineHeight+u.lastLineRelativePosition;if(f>0){this._lastLineRelativePosition=u.lastLineRelativePosition;const C=[...u.startLineNumbers];u.showEndForLine!==null&&(C[u.showEndForLine]=u.endLineNumbers[u.showEndForLine]),this._lineNumbers=C}else this._lastLineRelativePosition=0,this._lineNumbers=[];return f===0}_findLineToRebuildWidgetFrom(u,f){if(!u||!this._previousState)return 0;if(f!==void 0)return f;const C=this._previousState,_=u.startLineNumbers.findIndex(E=>!C.startLineNumbers.includes(E));return _===-1?0:_}_updateWidgetWidth(){const u=this._editor.getLayoutInfo(),f=u.contentLeft;this._lineNumbersDomNode.style.width=`${f}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-u.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${u.width-u.verticalScrollbarWidth}px`}_clearStickyLinesFromLine(u){this._foldingIconStore.clear();for(let f=u;f<this._renderedStickyLines.length;f++){const C=this._renderedStickyLines[f];C.lineNumberDomNode.remove(),C.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,u),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(u){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${u?.5:0}s`)}_setFoldingIconsVisibility(u){for(const f of this._renderedStickyLines){const C=f.foldingIcon;C&&C.setVisible(u?!0:C.isCollapsed)}}async _renderRootNode(u,f,C){if(this._clearStickyLinesFromLine(C),!u)return;for(const T of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(T);const _=this._editor.getLayoutInfo(),E=this._lineNumbers.slice(C);for(const[T,A]of E.entries()){const R=this._renderChildNode(T+C,A,f,_);R&&(this._linesDomNode.appendChild(R.lineDomNode),this._lineNumbersDomNode.appendChild(R.lineNumberDomNode),this._renderedStickyLines.push(R))}f&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const I=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${I}px`,this._linesDomNodeScrollable.style.height=`${I}px`,this._rootDomNode.style.height=`${I}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(T=>T.scrollWidth))+_.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)}_setFoldingHoverListeners(){this._editor.getOption(110)==="mouseover"&&(this._foldingIconStore.add(L.addDisposableListener(this._lineNumbersDomNode,L.EventType.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(L.addDisposableListener(this._lineNumbersDomNode,L.EventType.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(u,f,C,_){const E=this._editor._getViewModel();if(!E)return;const I=E.coordinatesConverter.convertModelPositionToViewPosition(new v.Position(f,1)).lineNumber,T=E.getViewLineRenderingData(I),A=this._editor.getOption(68);let R;try{R=a.LineDecoration.filter(T.inlineDecorations,I,T.minColumn,T.maxColumn)}catch{R=[]}const M=new n.RenderLineInput(!0,!0,T.content,T.continuesWithWrappedLine,T.isBasicASCII,T.containsRTL,0,T.tokens,R,T.tabSize,T.startVisibleColumn,1,1,1,500,"none",!0,!0,null),N=new b.StringBuilder(2e3),P=(0,n.renderViewLine)(M,N);let F;o?F=o.createHTML(N.build()):F=N.build();const O=document.createElement("span");O.setAttribute(g,String(u)),O.setAttribute(m,""),O.setAttribute("role","listitem"),O.tabIndex=0,O.className="sticky-line-content",O.classList.add(`stickyLine${f}`),O.style.lineHeight=`${this._lineHeight}px`,O.innerHTML=F;const B=document.createElement("span");B.setAttribute(g,String(u)),B.setAttribute(c,""),B.className="sticky-line-number",B.style.lineHeight=`${this._lineHeight}px`;const W=_.contentLeft;B.style.width=`${W}px`;const V=document.createElement("span");A.renderType===1||A.renderType===3&&f%10===0?V.innerText=f.toString():A.renderType===2&&(V.innerText=Math.abs(f-this._editor.getPosition().lineNumber).toString()),V.className="sticky-line-number-inner",V.style.lineHeight=`${this._lineHeight}px`,V.style.width=`${_.lineNumbersWidth}px`,V.style.paddingLeft=`${_.lineNumbersLeft}px`,B.appendChild(V);const z=this._renderFoldingIconForLine(C,f);z&&B.appendChild(z.domNode),this._editor.applyFontInfo(O),this._editor.applyFontInfo(V),B.style.lineHeight=`${this._lineHeight}px`,O.style.lineHeight=`${this._lineHeight}px`,B.style.height=`${this._lineHeight}px`,O.style.height=`${this._lineHeight}px`;const K=new l(u,f,O,B,z,P.characterMapping,O.scrollWidth);return this._updateTopAndZIndexOfStickyLine(K)}_updateTopAndZIndexOfStickyLine(u){var f;const C=u.index,_=u.lineDomNode,E=u.lineNumberDomNode,I=C===this._lineNumbers.length-1,T="0",A="1";_.style.zIndex=I?T:A,E.style.zIndex=I?T:A;const R=`${C*this._lineHeight+this._lastLineRelativePosition+(!((f=u.foldingIcon)===null||f===void 0)&&f.isCollapsed?1:0)}px`,M=`${C*this._lineHeight}px`;return _.style.top=I?R:M,E.style.top=I?R:M,u}_renderFoldingIconForLine(u,f){const C=this._editor.getOption(110);if(!u||C==="never")return;const _=u.regions,E=_.findRange(f),I=_.getStartLineNumber(E);if(!(f===I))return;const A=_.isCollapsed(E),R=new r(A,I,_.getEndLineNumber(E),this._lineHeight);return R.setVisible(this._isOnGlyphMargin?!0:A||C==="always"),R.domNode.setAttribute(d,""),R}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(u){0<=u&&u<this._renderedStickyLines.length&&this._renderedStickyLines[u].lineDomNode.focus()}getEditorPositionFromNode(u){if(!u||u.children.length>0)return null;const f=this._getRenderedStickyLineFromChildDomNode(u);if(!f)return null;const C=(0,p.getColumnOfNodeOffset)(f.characterMapping,u,0);return new v.Position(f.lineNumber,C)}getLineNumberFromChildDomNode(u){var f,C;return(C=(f=this._getRenderedStickyLineFromChildDomNode(u))===null||f===void 0?void 0:f.lineNumber)!==null&&C!==void 0?C:null}_getRenderedStickyLineFromChildDomNode(u){const f=this.getLineIndexFromChildDomNode(u);return f===null||f<0||f>=this._renderedStickyLines.length?null:this._renderedStickyLines[f]}getLineIndexFromChildDomNode(u){const f=this._getAttributeValue(u,g);return f?parseInt(f,10):null}isInStickyLine(u){return this._getAttributeValue(u,m)!==void 0}isInFoldingIconDomNode(u){return this._getAttributeValue(u,d)!==void 0}_getAttributeValue(u,f){for(;u&&u!==this._rootDomNode;){const C=u.getAttribute(f);if(C!==null)return C;u=u.parentElement}}}e.StickyScrollWidget=s;class l{constructor(u,f,C,_,E,I,T){this.index=u,this.lineNumber=f,this.lineDomNode=C,this.lineNumberDomNode=_,this.foldingIcon=E,this.characterMapping=I,this.scrollWidth=T}}class r{constructor(u,f,C,_){this.isCollapsed=u,this.foldingStartLine=f,this.foldingEndLine=C,this.dimension=_,this.domNode=document.createElement("div"),this.domNode.style.width=`${_}px`,this.domNode.style.height=`${_}px`,this.domNode.className=S.ThemeIcon.asClassName(u?i.foldingCollapsedIcon:i.foldingExpandedIcon)}setVisible(u){this.domNode.style.cursor=u?"pointer":"default",this.domNode.style.opacity=u?"1":"0"}}}),define(ne[922],se([1,0,6,105,15,12,7,2,128,11,170,887,728,14,8,94,31,89,24,231,144,362,882,102,44,180,487,259]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u){"use strict";var f;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetSelectedBackground=void 0,(0,g.registerColor)("editorSuggestWidget.background",{dark:g.editorWidgetBackground,light:g.editorWidgetBackground,hcDark:g.editorWidgetBackground,hcLight:g.editorWidgetBackground},n.localize(0,null)),(0,g.registerColor)("editorSuggestWidget.border",{dark:g.editorWidgetBorder,light:g.editorWidgetBorder,hcDark:g.editorWidgetBorder,hcLight:g.editorWidgetBorder},n.localize(1,null));const C=(0,g.registerColor)("editorSuggestWidget.foreground",{dark:g.editorForeground,light:g.editorForeground,hcDark:g.editorForeground,hcLight:g.editorForeground},n.localize(2,null));(0,g.registerColor)("editorSuggestWidget.selectedForeground",{dark:g.quickInputListFocusForeground,light:g.quickInputListFocusForeground,hcDark:g.quickInputListFocusForeground,hcLight:g.quickInputListFocusForeground},n.localize(3,null)),(0,g.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:g.quickInputListFocusIconForeground,light:g.quickInputListFocusIconForeground,hcDark:g.quickInputListFocusIconForeground,hcLight:g.quickInputListFocusIconForeground},n.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,g.registerColor)("editorSuggestWidget.selectedBackground",{dark:g.quickInputListFocusBackground,light:g.quickInputListFocusBackground,hcDark:g.quickInputListFocusBackground,hcLight:g.quickInputListFocusBackground},n.localize(5,null)),(0,g.registerColor)("editorSuggestWidget.highlightForeground",{dark:g.listHighlightForeground,light:g.listHighlightForeground,hcDark:g.listHighlightForeground,hcLight:g.listHighlightForeground},n.localize(6,null)),(0,g.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:g.listFocusHighlightForeground,light:g.listFocusHighlightForeground,hcDark:g.listFocusHighlightForeground,hcLight:g.listFocusHighlightForeground},n.localize(7,null)),(0,g.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,g.transparent)(C,.5),light:(0,g.transparent)(C,.5),hcDark:(0,g.transparent)(C,.5),hcLight:(0,g.transparent)(C,.5)},n.localize(8,null));class _{constructor(A,R){this._service=A,this._key=`suggestWidget.size/${R.getEditorType()}/${R instanceof b.EmbeddedCodeEditorWidget}`}restore(){var A;const R=(A=this._service.get(this._key,0))!==null&&A!==void 0?A:"";try{const M=JSON.parse(R);if(L.Dimension.is(M))return L.Dimension.lift(M)}catch{}}store(A){this._service.store(this._key,JSON.stringify(A),0,1)}reset(){this._service.remove(this._key,0)}}let E=f=class{constructor(A,R,M,N,P){this.editor=A,this._storageService=R,this._state=0,this._isAuto=!1,this._pendingLayout=new p.MutableDisposable,this._pendingShowDetails=new p.MutableDisposable,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new y.TimeoutTimer,this._disposables=new p.DisposableStore,this._onDidSelect=new S.PauseableEmitter,this._onDidFocus=new S.PauseableEmitter,this._onDidHide=new S.Emitter,this._onDidShow=new S.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new S.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new d.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new I(this,A),this._persistedSize=new _(R,A);class F{constructor(j,x,re=!1,ie=!1){this.persistedSize=j,this.currentSize=x,this.persistHeight=re,this.persistWidth=ie}}let O;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),O=new F(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(K=>{var j,x,re,ie;if(this._resize(K.dimension.width,K.dimension.height),O&&(O.persistHeight=O.persistHeight||!!K.north||!!K.south,O.persistWidth=O.persistWidth||!!K.east||!!K.west),!!K.done){if(O){const{itemHeight:J,defaultSize:X}=this.getLayoutInfo(),Y=Math.round(J/2);let{width:le,height:de}=this.element.size;(!O.persistHeight||Math.abs(O.currentSize.height-de)<=Y)&&(de=(x=(j=O.persistedSize)===null||j===void 0?void 0:j.height)!==null&&x!==void 0?x:X.height),(!O.persistWidth||Math.abs(O.currentSize.width-le)<=Y)&&(le=(ie=(re=O.persistedSize)===null||re===void 0?void 0:re.width)!==null&&ie!==void 0?ie:X.width),this._persistedSize.store(new L.Dimension(le,de))}this._contentWidget.unlockPreference(),O=void 0}})),this._messageElement=L.append(this.element.domNode,L.$(".message")),this._listElement=L.append(this.element.domNode,L.$(".tree"));const B=this._disposables.add(P.createInstance(l.SuggestDetailsWidget,this.editor));B.onDidClose(this.toggleDetails,this,this._disposables),this._details=new l.SuggestDetailsOverlay(B,this.editor);const W=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(118).showIcons);W();const V=P.createInstance(r.ItemRenderer,this.editor);this._disposables.add(V),this._disposables.add(V.onDidToggleDetails(()=>this.toggleDetails())),this._list=new k.List("SuggestWidget",this._listElement,{getHeight:K=>this.getLayoutInfo().itemHeight,getTemplateId:K=>"suggestion"},[V],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>n.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:K=>{let j=K.textLabel;if(typeof K.completion.label!="string"){const{detail:J,description:X}=K.completion.label;J&&X?j=n.localize(12,null,j,J,X):J?j=n.localize(13,null,j,J):X&&(j=n.localize(14,null,j,X))}if(!K.isResolved||!this._isDetailsVisible())return j;const{documentation:x,detail:re}=K.completion,ie=v.format("{0}{1}",re||"",x?typeof x=="string"?x:x.value:"");return n.localize(15,null,j,ie)}}}),this._list.style((0,h.getListStyles)({listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:g.activeContrastBorder})),this._status=P.createInstance(a.SuggestWidgetStatus,this.element.domNode,s.suggestWidgetStatusbarMenu);const z=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(118).showStatusBar);z(),this._disposables.add(N.onDidColorThemeChange(K=>this._onThemeChange(K))),this._onThemeChange(N.getColorTheme()),this._disposables.add(this._list.onMouseDown(K=>this._onListMouseDownOrTap(K))),this._disposables.add(this._list.onTap(K=>this._onListMouseDownOrTap(K))),this._disposables.add(this._list.onDidChangeSelection(K=>this._onListSelection(K))),this._disposables.add(this._list.onDidChangeFocus(K=>this._onListFocus(K))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(K=>{K.hasChanged(118)&&(z(),W()),this._completionModel&&(K.hasChanged(50)||K.hasChanged(119)||K.hasChanged(120))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=s.Context.Visible.bindTo(M),this._ctxSuggestWidgetDetailsVisible=s.Context.DetailsVisible.bindTo(M),this._ctxSuggestWidgetMultipleSuggestions=s.Context.MultipleSuggestions.bindTo(M),this._ctxSuggestWidgetHasFocusedSuggestion=s.Context.HasFocusedSuggestion.bindTo(M),this._disposables.add(L.addStandardDisposableListener(this._details.widget.domNode,"keydown",K=>{this._onDetailsKeydown.fire(K)})),this._disposables.add(this.editor.onMouseDown(K=>this._onEditorMouseDown(K)))}dispose(){var A;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(A=this._loadingTimeout)===null||A===void 0||A.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(A){this._details.widget.domNode.contains(A.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(A.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(A){typeof A.element>"u"||typeof A.index>"u"||(A.browserEvent.preventDefault(),A.browserEvent.stopPropagation(),this._select(A.element,A.index))}_onListSelection(A){A.elements.length&&this._select(A.elements[0],A.indexes[0])}_select(A,R){const M=this._completionModel;M&&(this._onDidSelect.fire({item:A,index:R,model:M}),this.editor.focus())}_onThemeChange(A){this._details.widget.borderWidth=(0,m.isHighContrast)(A.type)?2:1}_onListFocus(A){var R;if(this._ignoreFocusEvents)return;if(!A.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const M=A.elements[0],N=A.indexes[0];M!==this._focusedItem&&((R=this._currentSuggestionDetails)===null||R===void 0||R.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=M,this._list.reveal(N),this._currentSuggestionDetails=(0,y.createCancelablePromise)(async P=>{const F=(0,y.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),O=P.onCancellationRequested(()=>F.dispose());try{return await M.resolve(P)}finally{F.dispose(),O.dispose()}}),this._currentSuggestionDetails.then(()=>{N>=this._list.length||M!==this._list.element(N)||(this._ignoreFocusEvents=!0,this._list.splice(N,1,[M]),this._list.setFocus([N]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,r.getAriaId)(N)}))}).catch(D.onUnexpectedError)),this._onDidFocus.fire({item:M,index:N,model:this._completionModel})}_setState(A){if(this._state!==A)switch(this._state=A,this.element.domNode.classList.toggle("frozen",A===4),this.element.domNode.classList.remove("message"),A){case 0:L.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=f.LOADING_MESSAGE,L.hide(this._listElement,this._status.element),L.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,u.status)(f.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=f.NO_SUGGESTIONS_MESSAGE,L.hide(this._listElement,this._status.element),L.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,u.status)(f.NO_SUGGESTIONS_MESSAGE);break;case 3:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._show();break;case 4:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._show();break;case 5:L.hide(this._messageElement),L.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(A,R){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!A,this._isAuto||(this._loadingTimeout=(0,y.disposableTimeout)(()=>this._setState(1),R)))}showSuggestions(A,R,M,N,P){var F,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(F=this._loadingTimeout)===null||F===void 0||F.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==A&&(this._completionModel=A),M&&this._state!==2&&this._state!==0){this._setState(4);return}const B=this._completionModel.items.length,W=B===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(B>1),W){this._setState(N?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(M?4:3),this._list.reveal(R,0),this._list.setFocus(P?[]:[R])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=L.runAtThisOrScheduleAtNextAnimationFrame(L.getWindow(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,l.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(A){this._pendingShowDetails.value=L.runAtThisOrScheduleAtNextAnimationFrame(L.getWindow(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),A?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var A;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(A=this._loadingTimeout)===null||A===void 0||A.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const R=this._persistedSize.restore(),M=Math.ceil(this.getLayoutInfo().itemHeight*4.3);R&&R.height<M&&this._persistedSize.store(R.with(void 0,M))}isFrozen(){return this._state===4}_afterRender(A){if(A===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails())}_layout(A){var R,M,N;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const P=L.getClientArea(this.element.domNode.ownerDocument.body),F=this.getLayoutInfo();A||(A=F.defaultSize);let O=A.height,B=A.width;if(this._status.element.style.height=`${F.itemHeight}px`,this._state===2||this._state===1)O=F.itemHeight+F.borderHeight,B=F.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new L.Dimension(B,O),this._contentWidget.setPreference(2);else{const W=P.width-F.borderHeight-2*F.horizontalPadding;B>W&&(B=W);const V=this._completionModel?this._completionModel.stats.pLabelLen*F.typicalHalfwidthCharacterWidth:B,z=F.statusBarHeight+this._list.contentHeight+F.borderHeight,K=F.itemHeight+F.statusBarHeight,j=L.getDomNodePagePosition(this.editor.getDomNode()),x=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),re=j.top+x.top+x.height,ie=Math.min(P.height-re-F.verticalPadding,z),J=j.top+x.top-F.verticalPadding,X=Math.min(J,z);let Y=Math.min(Math.max(X,ie)+F.borderHeight,z);O===((R=this._cappedHeight)===null||R===void 0?void 0:R.capped)&&(O=this._cappedHeight.wanted),O<K&&(O=K),O>Y&&(O=Y),O>ie||this._forceRenderingAbove&&J>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Y=X):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Y=ie),this.element.preferredSize=new L.Dimension(V,F.defaultSize.height),this.element.maxSize=new L.Dimension(W,Y),this.element.minSize=new L.Dimension(220,K),this._cappedHeight=O===z?{wanted:(N=(M=this._cappedHeight)===null||M===void 0?void 0:M.wanted)!==null&&N!==void 0?N:A.height,capped:O}:void 0}this._resize(B,O)}_resize(A,R){const{width:M,height:N}=this.element.maxSize;A=Math.min(M,A),R=Math.min(N,R);const{statusBarHeight:P}=this.getLayoutInfo();this._list.layout(R-P,A),this._listElement.style.height=`${R-P}px`,this.element.layout(R,A),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var A;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((A=this._contentWidget.getPosition())===null||A===void 0?void 0:A.preference[0])===2)}getLayoutInfo(){const A=this.editor.getOption(50),R=(0,w.clamp)(this.editor.getOption(120)||A.lineHeight,8,1e3),M=!this.editor.getOption(118).showStatusBar||this._state===2||this._state===1?0:R,N=this._details.widget.borderWidth,P=2*N;return{itemHeight:R,statusBarHeight:M,borderWidth:N,borderHeight:P,typicalHalfwidthCharacterWidth:A.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new L.Dimension(430,M+12*R+P)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(A){this._storageService.store("expandSuggestionDocs",A,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};e.SuggestWidget=E,E.LOADING_MESSAGE=n.localize(9,null),E.NO_SUGGESTIONS_MESSAGE=n.localize(10,null),e.SuggestWidget=E=f=De([he(1,o.IStorageService),he(2,i.IContextKeyService),he(3,c.IThemeService),he(4,t.IInstantiationService)],E);class I{constructor(A,R){this._widget=A,this._editor=R,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:A,width:R}=this._widget.element.size,{borderWidth:M,horizontalPadding:N}=this._widget.getLayoutInfo();return new L.Dimension(R+2*M+N,A+2*M)}afterRender(A){this._widget._afterRender(A)}setPreference(A){this._preferenceLocked||(this._preference=A)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(A){this._position=A}}e.SuggestContentWidget=I}),define(ne[388],se([1,0,40,38,30,737,31,24,491]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectionHighlightDecorationOptions=e.getHighlightDecorationOptions=void 0;const w=(0,S.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},D.localize(0,null),!0);(0,S.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},D.localize(1,null),!0),(0,S.registerColor)("editor.wordHighlightTextBackground",{light:w,dark:w,hcDark:w,hcLight:w},D.localize(2,null),!0);const v=(0,S.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:S.activeContrastBorder,hcLight:S.activeContrastBorder},D.localize(3,null));(0,S.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:S.activeContrastBorder,hcLight:S.activeContrastBorder},D.localize(4,null)),(0,S.registerColor)("editor.wordHighlightTextBorder",{light:v,dark:v,hcDark:v,hcLight:v},D.localize(5,null));const b=(0,S.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},D.localize(6,null),!0),a=(0,S.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},D.localize(7,null),!0),n=(0,S.registerColor)("editorOverviewRuler.wordHighlightTextForeground",{dark:S.overviewRulerSelectionHighlightForeground,light:S.overviewRulerSelectionHighlightForeground,hcDark:S.overviewRulerSelectionHighlightForeground,hcLight:S.overviewRulerSelectionHighlightForeground},D.localize(8,null),!0),i=k.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,p.themeColorFromId)(a),position:L.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),t=k.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,p.themeColorFromId)(n),position:L.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),o=k.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,p.themeColorFromId)(S.overviewRulerSelectionHighlightForeground),position:L.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}}),g=k.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),m=k.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,p.themeColorFromId)(b),position:L.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(S.minimapSelectionOccurrenceHighlight),position:L.MinimapPosition.Inline}});function c(s){return s===y.DocumentHighlightKind.Write?i:s===y.DocumentHighlightKind.Text?t:m}e.getHighlightDecorationOptions=c;function d(s){return s?g:o}e.getSelectionHighlightDecorationOptions=d,(0,p.registerThemingParticipant)((s,l)=>{const r=s.getColor(S.editorSelectionHighlight);r&&l.addRule(`.monaco-editor .selectionHighlight { background-color: ${r.transparent(.5)}; }`)})}),define(ne[923],se([1,0,44,15,66,2,16,214,5,23,21,384,713,28,14,18,388,8]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function d(z,K){const j=K.filter(x=>!z.find(re=>re.equals(x)));if(j.length>=1){const x=j.map(ie=>`line ${ie.viewState.position.lineNumber} column ${ie.viewState.position.column}`).join(", "),re=j.length===1?n.localize(0,null,x):n.localize(1,null,x);(0,L.status)(re)}}class s extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:n.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(3,null),order:2}})}run(K,j,x){if(!j.hasModel())return;let re=!0;x&&x.logicalLine===!1&&(re=!1);const ie=j._getViewModel();if(ie.cursorConfig.readOnly)return;ie.model.pushStackElement();const J=ie.getCursorStates();ie.setCursorStates(x.source,3,p.CursorMoveCommands.addCursorUp(ie,J,re)),ie.revealTopMostCursor(x.source),d(J,ie.getCursorStates())}}e.InsertCursorAbove=s;class l extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:n.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(5,null),order:3}})}run(K,j,x){if(!j.hasModel())return;let re=!0;x&&x.logicalLine===!1&&(re=!1);const ie=j._getViewModel();if(ie.cursorConfig.readOnly)return;ie.model.pushStackElement();const J=ie.getCursorStates();ie.setCursorStates(x.source,3,p.CursorMoveCommands.addCursorDown(ie,J,re)),ie.revealBottomMostCursor(x.source),d(J,ie.getCursorStates())}}e.InsertCursorBelow=l;class r extends S.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:n.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(7,null),order:4}})}getCursorsForSelection(K,j,x){if(!K.isEmpty()){for(let re=K.startLineNumber;re<K.endLineNumber;re++){const ie=j.getLineMaxColumn(re);x.push(new v.Selection(re,ie,re,ie))}K.endColumn>1&&x.push(new v.Selection(K.endLineNumber,K.endColumn,K.endLineNumber,K.endColumn))}}run(K,j){if(!j.hasModel())return;const x=j.getModel(),re=j.getSelections(),ie=j._getViewModel(),J=ie.getCursorStates(),X=[];re.forEach(Y=>this.getCursorsForSelection(Y,x,X)),X.length>0&&j.setSelections(X),d(J,ie.getCursorStates())}}class h extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:n.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(K,j){if(!j.hasModel())return;const x=j.getSelections(),re=j.getModel().getLineCount(),ie=[];for(let Y=x[0].startLineNumber;Y<=re;Y++)ie.push(new v.Selection(Y,x[0].startColumn,Y,x[0].endColumn));const J=j._getViewModel(),X=J.getCursorStates();ie.length>0&&j.setSelections(ie),d(X,J.getCursorStates())}}class u extends S.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:n.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(K,j){if(!j.hasModel())return;const x=j.getSelections(),re=[];for(let X=x[0].startLineNumber;X>=1;X--)re.push(new v.Selection(X,x[0].startColumn,X,x[0].endColumn));const ie=j._getViewModel(),J=ie.getCursorStates();re.length>0&&j.setSelections(re),d(J,ie.getCursorStates())}}class f{constructor(K,j,x){this.selections=K,this.revealRange=j,this.revealScrollType=x}}e.MultiCursorSessionResult=f;class C{static create(K,j){if(!K.hasModel())return null;const x=j.getState();if(!K.hasTextFocus()&&x.isRevealed&&x.searchString.length>0)return new C(K,j,!1,x.searchString,x.wholeWord,x.matchCase,null);let re=!1,ie,J;const X=K.getSelections();X.length===1&&X[0].isEmpty()?(re=!0,ie=!0,J=!0):(ie=x.wholeWord,J=x.matchCase);const Y=K.getSelection();let le,de=null;if(Y.isEmpty()){const ge=K.getConfiguredWordAtPosition(Y.getStartPosition());if(!ge)return null;le=ge.word,de=new v.Selection(Y.startLineNumber,ge.startColumn,Y.startLineNumber,ge.endColumn)}else le=K.getModel().getValueInRange(Y).replace(/\r\n/g,`
`);return new C(K,j,re,le,ie,J,de)}constructor(K,j,x,re,ie,J,X){this._editor=K,this.findController=j,this.isDisconnectedFromFindController=x,this.searchText=re,this.wholeWord=ie,this.matchCase=J,this.currentMatch=X}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const j=this._editor.getSelections();return new f(j.concat(K),K,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const j=this._editor.getSelections();return new f(j.slice(0,j.length-1).concat(K),K,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const re=this.currentMatch;return this.currentMatch=null,re}this.findController.highlightFindOptions();const K=this._editor.getSelections(),j=K[K.length-1],x=this._editor.getModel().findNextMatch(this.searchText,j.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(130):null,!1);return x?new v.Selection(x.range.startLineNumber,x.range.startColumn,x.range.endLineNumber,x.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const j=this._editor.getSelections();return new f(j.concat(K),K,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const j=this._editor.getSelections();return new f(j.slice(0,j.length-1).concat(K),K,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const re=this.currentMatch;return this.currentMatch=null,re}this.findController.highlightFindOptions();const K=this._editor.getSelections(),j=K[K.length-1],x=this._editor.getModel().findPreviousMatch(this.searchText,j.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(130):null,!1);return x?new v.Selection(x.range.startLineNumber,x.range.startColumn,x.range.endLineNumber,x.range.endColumn):null}selectAll(K){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const j=this._editor.getModel();return K?j.findMatches(this.searchText,K,!1,this.matchCase,this.wholeWord?this._editor.getOption(130):null,!1,1073741824):j.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(130):null,!1,1073741824)}}e.MultiCursorSession=C;class _ extends D.Disposable{static get(K){return K.getContribution(_.ID)}constructor(K){super(),this._sessionDispose=this._register(new D.DisposableStore),this._editor=K,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(K){if(!this._session){const j=C.create(this._editor,K);if(!j)return;this._session=j;const x={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(x.wholeWordOverride=1,x.matchCaseOverride=1,x.isRegexOverride=2),K.getState().change(x,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(re=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(K.getState().onFindReplaceStateChange(re=>{(re.matchCase||re.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const K={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(K,!1)}this._session=null}_setSelections(K){this._ignoreSelectionChange=!0,this._editor.setSelections(K),this._ignoreSelectionChange=!1}_expandEmptyToWord(K,j){if(!j.isEmpty())return j;const x=this._editor.getConfiguredWordAtPosition(j.getStartPosition());return x?new v.Selection(j.startLineNumber,x.startColumn,j.startLineNumber,x.endColumn):j}_applySessionResult(K){K&&(this._setSelections(K.selections),K.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(K.revealRange,K.revealScrollType))}getSession(K){return this._session}addSelectionToNextFindMatch(K){if(this._editor.hasModel()){if(!this._session){const j=this._editor.getSelections();if(j.length>1){const re=K.getState().matchCase;if(!O(this._editor.getModel(),j,re)){const J=this._editor.getModel(),X=[];for(let Y=0,le=j.length;Y<le;Y++)X[Y]=this._expandEmptyToWord(J,j[Y]);this._editor.setSelections(X);return}}}this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(K){if(!this._editor.hasModel())return;let j=null;const x=K.getState();if(x.isRevealed&&x.searchString.length>0&&x.isRegex){const re=this._editor.getModel();x.searchScope?j=re.findMatches(x.searchString,x.searchScope,x.isRegex,x.matchCase,x.wholeWord?this._editor.getOption(130):null,!1,1073741824):j=re.findMatches(x.searchString,!0,x.isRegex,x.matchCase,x.wholeWord?this._editor.getOption(130):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(K),!this._session)return;j=this._session.selectAll(x.searchScope)}if(j.length>0){const re=this._editor.getSelection();for(let ie=0,J=j.length;ie<J;ie++){const X=j[ie];if(X.range.intersectRanges(re)){j[ie]=j[0],j[0]=X;break}}this._setSelections(j.map(ie=>new v.Selection(ie.range.startLineNumber,ie.range.startColumn,ie.range.endLineNumber,ie.range.endColumn)))}}}e.MultiCursorSelectionController=_,_.ID="editor.contrib.multiCursorController";class E extends S.EditorAction{run(K,j){const x=_.get(j);if(!x)return;const re=j._getViewModel();if(re){const ie=re.getCursorStates(),J=a.CommonFindController.get(j);if(J)this._run(x,J);else{const X=K.get(m.IInstantiationService).createInstance(a.CommonFindController,j);this._run(x,X),X.dispose()}d(ie,re.getCursorStates())}}}e.MultiCursorSelectionControllerAction=E;class I extends E{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:n.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(11,null),order:5}})}_run(K,j){K.addSelectionToNextFindMatch(j)}}e.AddSelectionToNextFindMatchAction=I;class T extends E{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:n.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(13,null),order:6}})}_run(K,j){K.addSelectionToPreviousFindMatch(j)}}e.AddSelectionToPreviousFindMatchAction=T;class A extends E{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:n.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:(0,y.KeyChord)(2089,2082),weight:100}})}_run(K,j){K.moveSelectionToNextFindMatch(j)}}e.MoveSelectionToNextFindMatchAction=A;class R extends E{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:n.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(K,j){K.moveSelectionToPreviousFindMatch(j)}}e.MoveSelectionToPreviousFindMatchAction=R;class M extends E{constructor(){super({id:"editor.action.selectHighlights",label:n.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize(17,null),order:7}})}_run(K,j){K.selectAll(j)}}e.SelectHighlightsAction=M;class N extends E{constructor(){super({id:"editor.action.changeAll",label:n.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(b.EditorContextKeys.writable,b.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(K,j){K.selectAll(j)}}e.CompatChangeAll=N;class P{constructor(K,j,x,re,ie){this._model=K,this._searchText=j,this._matchCase=x,this._wordSeparators=re,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,ie&&this._model===ie._model&&this._searchText===ie._searchText&&this._matchCase===ie._matchCase&&this._wordSeparators===ie._wordSeparators&&this._modelVersionId===ie._modelVersionId&&(this._cachedFindMatches=ie._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(K=>K.range),this._cachedFindMatches.sort(w.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let F=c=class extends D.Disposable{constructor(K,j){super(),this._languageFeaturesService=j,this.editor=K,this._isEnabled=K.getOption(108),this._decorations=K.createDecorationsCollection(),this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(K.onDidChangeConfiguration(re=>{this._isEnabled=K.getOption(108)})),this._register(K.onDidChangeCursorSelection(re=>{this._isEnabled&&(re.selection.isEmpty()?re.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(K.onDidChangeModel(re=>{this._setState(null)})),this._register(K.onDidChangeModelContent(re=>{this._isEnabled&&this.updateSoon.schedule()}));const x=a.CommonFindController.get(K);x&&this._register(x.getState().onFindReplaceStateChange(re=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(c._createState(this.state,this._isEnabled,this.editor))}static _createState(K,j,x){if(!j||!x.hasModel())return null;const re=x.getSelection();if(re.startLineNumber!==re.endLineNumber)return null;const ie=_.get(x);if(!ie)return null;const J=a.CommonFindController.get(x);if(!J)return null;let X=ie.getSession(J);if(!X){const de=x.getSelections();if(de.length>1){const pe=J.getState().matchCase;if(!O(x.getModel(),de,pe))return null}X=C.create(x,J)}if(!X||X.currentMatch||/^[ \t]+$/.test(X.searchText)||X.searchText.length>200)return null;const Y=J.getState(),le=Y.matchCase;if(Y.isRevealed){let de=Y.searchString;le||(de=de.toLowerCase());let ge=X.searchText;if(le||(ge=ge.toLowerCase()),de===ge&&X.matchCase===Y.matchCase&&X.wholeWord===Y.wholeWord&&!Y.isRegex)return null}return new P(x.getModel(),X.searchText,X.matchCase,X.wholeWord?x.getOption(130):null,K)}_setState(K){if(this.state=K,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const j=this.editor.getModel();if(j.isTooLargeForTokenization())return;const x=this.state.findMatches(),re=this.editor.getSelections();re.sort(w.Range.compareRangesUsingStarts);const ie=[];for(let le=0,de=0,ge=x.length,pe=re.length;le<ge;){const Q=x[le];if(de>=pe)ie.push(Q),le++;else{const U=w.Range.compareRangesUsingStarts(Q,re[de]);U<0?((re[de].isEmpty()||!w.Range.areIntersecting(Q,re[de]))&&ie.push(Q),le++):(U>0||le++,de++)}}const J=this.editor.getOption(81)!=="off",X=this._languageFeaturesService.documentHighlightProvider.has(j)&&J,Y=ie.map(le=>({range:le,options:(0,g.getSelectionHighlightDecorationOptions)(X)}));this._decorations.set(Y)}dispose(){this._setState(null),super.dispose()}};e.SelectionHighlighter=F,F.ID="editor.contrib.selectionHighlighter",e.SelectionHighlighter=F=c=De([he(1,o.ILanguageFeaturesService)],F);function O(z,K,j){const x=B(z,K[0],!j);for(let re=1,ie=K.length;re<ie;re++){const J=K[re];if(J.isEmpty())return!1;const X=B(z,J,!j);if(x!==X)return!1}return!0}function B(z,K,j){const x=z.getValueInRange(K);return j?x.toLowerCase():x}class W extends S.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:n.localize(19,null),metadata:{description:n.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(K,j,x){if(!j.hasModel())return;const re=j._getViewModel();if(re.cursorConfig.readOnly)return;re.model.pushStackElement();const ie=Array.from(re.getCursorStates()),J=ie.shift();J&&(ie.push(J),re.setCursorStates(x.source,3,ie),re.revealPrimaryCursor(x.source,!0),d(ie,re.getCursorStates()))}}e.FocusNextCursor=W;class V extends S.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:n.localize(21,null),metadata:{description:n.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(K,j,x){if(!j.hasModel())return;const re=j._getViewModel();if(re.cursorConfig.readOnly)return;re.model.pushStackElement();const ie=Array.from(re.getCursorStates()),J=ie.pop();J&&(ie.unshift(J),re.setCursorStates(x.source,3,ie),re.revealPrimaryCursor(x.source,!0),d(ie,re.getCursorStates()))}}e.FocusPreviousCursor=V,(0,S.registerEditorContribution)(_.ID,_,4),(0,S.registerEditorContribution)(F.ID,F,1),(0,S.registerEditorAction)(s),(0,S.registerEditorAction)(l),(0,S.registerEditorAction)(r),(0,S.registerEditorAction)(I),(0,S.registerEditorAction)(T),(0,S.registerEditorAction)(A),(0,S.registerEditorAction)(R),(0,S.registerEditorAction)(M),(0,S.registerEditorAction)(N),(0,S.registerEditorAction)(h),(0,S.registerEditorAction)(u),(0,S.registerEditorAction)(W),(0,S.registerEditorAction)(V)}),define(ne[924],se([1,0,738,13,44,15,19,12,2,157,16,35,5,21,30,40,18,388,14,47,53,336]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l){"use strict";var r,h;Object.defineProperty(e,"__esModule",{value:!0}),e.WordHighlighterContribution=e.getOccurrencesAcrossMultipleModels=e.getOccurrencesAtPosition=void 0;const u=new c.RawContextKey("hasWordHighlights",!1);function f(W,V,z,K){const j=W.ordered(V);return(0,D.first)(j.map(x=>()=>Promise.resolve(x.provideDocumentHighlights(V,z,K)).then(void 0,p.onUnexpectedExternalError)),k.isNonEmptyArray).then(x=>{if(x){const re=new s.ResourceMap;return re.set(V.uri,x),re}return new s.ResourceMap})}e.getOccurrencesAtPosition=f;function C(W,V,z,K,j,x){const re=W.ordered(V);return(0,D.first)(re.map(ie=>()=>{const J=x.filter(X=>(0,o.shouldSynchronizeModel)(X)).filter(X=>(0,l.score)(ie.selector,X.uri,X.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(ie.provideMultiDocumentHighlights(V,z,J,j)).then(void 0,p.onUnexpectedExternalError)}),ie=>ie instanceof s.ResourceMap&&ie.size>0)}e.getOccurrencesAcrossMultipleModels=C;class _{constructor(V,z,K){this._model=V,this._selection=z,this._wordSeparators=K,this._wordRange=this._getCurrentWordRange(V,z),this._result=null}get result(){return this._result||(this._result=(0,D.createCancelablePromise)(V=>this._compute(this._model,this._selection,this._wordSeparators,V))),this._result}_getCurrentWordRange(V,z){const K=V.getWordAtPosition(z.getPosition());return K?new n.Range(z.startLineNumber,K.startColumn,z.startLineNumber,K.endColumn):null}isValid(V,z,K){const j=z.startLineNumber,x=z.startColumn,re=z.endColumn,ie=this._getCurrentWordRange(V,z);let J=!!(this._wordRange&&this._wordRange.equalsRange(ie));for(let X=0,Y=K.length;!J&&X<Y;X++){const le=K.getRange(X);le&&le.startLineNumber===j&&le.startColumn<=x&&le.endColumn>=re&&(J=!0)}return J}cancel(){this.result.cancel()}}class E extends _{constructor(V,z,K,j){super(V,z,K),this._providers=j}_compute(V,z,K,j){return f(this._providers,V,z.getPosition(),j).then(x=>x||new s.ResourceMap)}}class I extends _{constructor(V,z,K,j,x){super(V,z,K),this._providers=j,this._otherModels=x}_compute(V,z,K,j){return C(this._providers,V,z.getPosition(),K,j,this._otherModels).then(x=>x||new s.ResourceMap)}}class T extends _{constructor(V,z,K,j,x){super(V,z,j),this._otherModels=x,this._selectionIsEmpty=z.isEmpty(),this._word=K}_compute(V,z,K,j){return(0,D.timeout)(250,j).then(()=>{const x=new s.ResourceMap;let re;if(this._word?re=this._word:re=V.getWordAtPosition(z.getPosition()),!re)return new s.ResourceMap;const ie=[V,...this._otherModels];for(const J of ie){if(J.isDisposed())continue;const Y=J.findMatches(re.word,!0,!1,!0,K,!1).map(le=>({range:le.range,kind:t.DocumentHighlightKind.Text}));Y&&x.set(J.uri,Y)}return x})}isValid(V,z,K){const j=z.isEmpty();return this._selectionIsEmpty!==j?!1:super.isValid(V,z,K)}}function A(W,V,z,K,j){return W.has(V)?new E(V,z,j,W):new T(V,z,K,j,[])}function R(W,V,z,K,j,x){return W.has(V)?new I(V,z,j,W,x):new T(V,z,K,j,x)}(0,b.registerModelAndPositionCommand)("_executeDocumentHighlights",async(W,V,z)=>{const K=W.get(g.ILanguageFeaturesService),j=await f(K.documentHighlightProvider,V,z,S.CancellationToken.None);return j?.get(V.uri)});let M=r=class{constructor(V,z,K,j,x){this.toUnhook=new w.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new s.ResourceMap,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=V,this.providers=z,this.multiDocumentProviders=K,this.codeEditorService=x,this._hasWordHighlights=u.bindTo(j),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(V.onDidChangeCursorPosition(re=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this._onPositionChanged(re)})),this.toUnhook.add(V.onDidFocusEditorText(re=>{this.occurrencesHighlight!=="off"&&(this.workerRequest||this._run())})),this.toUnhook.add(V.onDidChangeModelContent(re=>{this._stopAll()})),this.toUnhook.add(V.onDidChangeModel(re=>{!re.newModelUrl&&re.oldModelUrl?this._stopSingular():r.query&&this._run()})),this.toUnhook.add(V.onDidChangeConfiguration(re=>{const ie=this.editor.getOption(81);this.occurrencesHighlight!==ie&&(this.occurrencesHighlight=ie,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,r.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(n.Range.compareRangesUsingStarts)}moveNext(){const V=this._getSortedHighlights(),K=(V.findIndex(x=>x.containsPosition(this.editor.getPosition()))+1)%V.length,j=V[K];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(j.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(j);const x=this._getWord();if(x){const re=this.editor.getModel().getLineContent(j.startLineNumber);(0,y.alert)(`${re}, ${K+1} of ${V.length} for '${x.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const V=this._getSortedHighlights(),K=(V.findIndex(x=>x.containsPosition(this.editor.getPosition()))-1+V.length)%V.length,j=V[K];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(j.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(j);const x=this._getWord();if(x){const re=this.editor.getModel().getLineContent(j.startLineNumber);(0,y.alert)(`${re}, ${K+1} of ${V.length} for '${x.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const V=r.storedDecorations.get(this.editor.getModel().uri);V&&(this.editor.removeDecorations(V),r.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(){const V=this.codeEditorService.listCodeEditors(),z=[];for(const K of V){if(!K.hasModel())continue;const j=r.storedDecorations.get(K.getModel().uri);if(!j)continue;K.removeDecorations(j),z.push(K.getModel().uri);const x=N.get(K);x?.wordHighlighter&&x.wordHighlighter.decorations.length>0&&(x.wordHighlighter.decorations.clear(),x.wordHighlighter.workerRequest=null,x.wordHighlighter._hasWordHighlights.set(!1))}for(const K of z)r.storedDecorations.delete(K)}_stopSingular(){var V,z,K,j;this._removeSingleDecorations(),this.editor.hasTextFocus()&&(((V=this.editor.getModel())===null||V===void 0?void 0:V.uri.scheme)!==d.Schemas.vscodeNotebookCell&&((K=(z=r.query)===null||z===void 0?void 0:z.modelInfo)===null||K===void 0?void 0:K.model.uri.scheme)!==d.Schemas.vscodeNotebookCell?(r.query=null,this._run()):!((j=r.query)===null||j===void 0)&&j.modelInfo&&(r.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(){this._removeAllDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(V){var z;if(this.occurrencesHighlight==="off"){this._stopAll();return}if(V.reason!==3&&((z=this.editor.getModel())===null||z===void 0?void 0:z.uri.scheme)!==d.Schemas.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){const V=this.editor.getSelection(),z=V.startLineNumber,K=V.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:z,column:K})}getOtherModelsToHighlight(V){if(!V)return[];if(V.uri.scheme===d.Schemas.vscodeNotebookCell){const x=[],re=this.codeEditorService.listCodeEditors();for(const ie of re){const J=ie.getModel();J&&J!==V&&J.uri.scheme===d.Schemas.vscodeNotebookCell&&x.push(J)}return x}const K=[],j=this.codeEditorService.listCodeEditors();for(const x of j){if(!(0,v.isDiffEditor)(x))continue;const re=x.getModel();re&&V===re.modified&&K.push(re.modified)}if(K.length)return K;if(this.occurrencesHighlight==="singleFile")return[];for(const x of j){const re=x.getModel();re&&re!==V&&K.push(re)}return K}_run(){var V;let z;if(this.editor.hasTextFocus()){const j=this.editor.getSelection();if(!j||j.startLineNumber!==j.endLineNumber){r.query=null,this._stopAll();return}const x=j.startColumn,re=j.endColumn,ie=this._getWord();if(!ie||ie.startColumn>x||ie.endColumn<re){r.query=null,this._stopAll();return}z=this.workerRequest&&this.workerRequest.isValid(this.model,j,this.decorations),r.query={modelInfo:{model:this.model,selection:j},word:ie}}else if(!r.query)return;if(this.lastCursorPositionChangeTime=new Date().getTime(),z)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const j=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const x=this.getOtherModelsToHighlight(this.editor.getModel());if(!r.query.modelInfo||r.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(r.query.modelInfo.model,r.query.modelInfo.selection,r.query.word,x),(V=this.workerRequest)===null||V===void 0||V.result.then(re=>{j===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=re||[],this._beginRenderDecorations())},p.onUnexpectedError)}}computeWithModel(V,z,K,j){return j.length?R(this.multiDocumentProviders,V,z,K,this.editor.getOption(130),j):A(this.providers,V,z,K,this.editor.getOption(130))}_beginRenderDecorations(){const V=new Date().getTime(),z=this.lastCursorPositionChangeTime+250;V>=z?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},z-V)}renderDecorations(){var V,z,K;this.renderDecorationsTimer=-1;const j=this.codeEditorService.listCodeEditors();for(const x of j){const re=N.get(x);if(!re)continue;const ie=[],J=(V=x.getModel())===null||V===void 0?void 0:V.uri;if(J&&this.workerRequestValue.has(J)){const X=r.storedDecorations.get(J),Y=this.workerRequestValue.get(J);if(Y)for(const de of Y)de.range&&ie.push({range:de.range,options:(0,m.getHighlightDecorationOptions)(de.kind)});let le=[];x.changeDecorations(de=>{le=de.deltaDecorations(X??[],ie)}),r.storedDecorations=r.storedDecorations.set(J,le),ie.length>0&&((z=re.wordHighlighter)===null||z===void 0||z.decorations.set(ie),(K=re.wordHighlighter)===null||K===void 0||K._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};M.storedDecorations=new s.ResourceMap,M.query=null,M=r=De([he(4,a.ICodeEditorService)],M);let N=h=class extends w.Disposable{static get(V){return V.getContribution(h.ID)}constructor(V,z,K,j){super(),this._wordHighlighter=null;const x=()=>{V.hasModel()&&!V.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new M(V,K.documentHighlightProvider,K.multiDocumentHighlightProvider,z,j))};this._register(V.onDidChangeModel(re=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),x()})),x()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var V;(V=this._wordHighlighter)===null||V===void 0||V.moveNext()}moveBack(){var V;(V=this._wordHighlighter)===null||V===void 0||V.moveBack()}restoreViewState(V){this._wordHighlighter&&V&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};e.WordHighlighterContribution=N,N.ID="editor.contrib.wordHighlighter",e.WordHighlighterContribution=N=h=De([he(1,c.IContextKeyService),he(2,g.ILanguageFeaturesService),he(3,a.ICodeEditorService)],N);class P extends b.EditorAction{constructor(V,z){super(z),this._isNext=V}run(V,z){const K=N.get(z);K&&(this._isNext?K.moveNext():K.moveBack())}}class F extends P{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:L.localize(0,null),alias:"Go to Next Symbol Highlight",precondition:u,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class O extends P{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:L.localize(1,null),alias:"Go to Previous Symbol Highlight",precondition:u,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}class B extends b.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:L.localize(2,null),alias:"Trigger Symbol Highlight",precondition:u.toNegated(),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(V,z,K){const j=N.get(z);j&&j.restoreViewState(!0)}}(0,b.registerEditorContribution)(N.ID,N,0),(0,b.registerEditorAction)(F),(0,b.registerEditorAction)(O),(0,b.registerEditorAction)(B)}),define(ne[925],se([1,0,6,160,39,172,2,54,5,38,492]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=void 0;const b=new y.Color(new y.RGBA(0,122,204)),a={showArrow:!0,showFrame:!0,className:"",frameColor:b,arrowColor:b,keepEditorSelection:!1},n="vs.editor.contrib.zoneWidget";class i{constructor(c,d,s,l,r,h,u,f){this.id="",this.domNode=c,this.afterLineNumber=d,this.afterColumn=s,this.heightInLines=l,this.showInHiddenAreas=u,this.ordinal=f,this._onDomNodeTop=r,this._onComputedHeight=h}onDomNodeTop(c){this._onDomNodeTop(c)}onComputedHeight(c){this._onComputedHeight(c)}}class t{constructor(c,d){this._id=c,this._domNode=d}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=t;class o{constructor(c){this._editor=c,this._ruleName=o._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),L.removeCSSRulesContainingSelector(this._ruleName)}set color(c){this._color!==c&&(this._color=c,this._updateStyle())}set height(c){this._height!==c&&(this._height=c,this._updateStyle())}_updateStyle(){L.removeCSSRulesContainingSelector(this._ruleName),L.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(c){c.column===1&&(c={lineNumber:c.lineNumber,column:2}),this._decorations.set([{range:w.Range.fromPositions(c),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}o._IdGenerator=new D.IdGenerator(".arrow-decoration-");class g{constructor(c,d={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new S.DisposableStore,this.container=null,this._isShowing=!1,this.editor=c,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=p.deepClone(d),p.mixin(this.options,a,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(s=>{const l=this._getWidth(s);this.domNode.style.width=l+"px",this.domNode.style.left=this._getLeft(s)+"px",this._onWidth(l)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(c=>{this._viewZone&&c.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new o(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(c){c.frameColor&&(this.options.frameColor=c.frameColor),c.arrowColor&&(this.options.arrowColor=c.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const c=this.options.frameColor.toString();this.container.style.borderTopColor=c,this.container.style.borderBottomColor=c}if(this._arrow&&this.options.arrowColor){const c=this.options.arrowColor.toString();this._arrow.color=c}}_getWidth(c){return c.width-c.minimap.minimapWidth-c.verticalScrollbarWidth}_getLeft(c){return c.minimap.minimapWidth>0&&c.minimap.minimapLeft===0?c.minimap.minimapWidth:0}_onViewZoneTop(c){this.domNode.style.top=c+"px"}_onViewZoneHeight(c){var d;if(this.domNode.style.height=`${c}px`,this.container){const s=c-this._decoratingElementsHeight();this.container.style.height=`${s}px`;const l=this.editor.getLayoutInfo();this._doLayout(s,this._getWidth(l))}(d=this._resizeSash)===null||d===void 0||d.layout()}get position(){const c=this._positionMarkerId.getRange(0);if(c)return c.getStartPosition()}show(c,d){const s=w.Range.isIRange(c)?w.Range.lift(c):w.Range.fromPositions(c);this._isShowing=!0,this._showImpl(s,d),this._isShowing=!1,this._positionMarkerId.set([{range:s,options:v.ModelDecorationOptions.EMPTY}])}hide(){var c;this._viewZone&&(this.editor.changeViewZones(d=>{this._viewZone&&d.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(c=this._arrow)===null||c===void 0||c.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const c=this.editor.getOption(67);let d=0;if(this.options.showArrow){const s=Math.round(c/3);d+=2*s}if(this.options.showFrame){const s=Math.round(c/9);d+=2*s}return d}_showImpl(c,d){const s=c.getStartPosition(),l=this.editor.getLayoutInfo(),r=this._getWidth(l);this.domNode.style.width=`${r}px`,this.domNode.style.left=this._getLeft(l)+"px";const h=document.createElement("div");h.style.overflow="hidden";const u=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){const I=Math.max(12,this.editor.getLayoutInfo().height/u*.8);d=Math.min(d,I)}let f=0,C=0;if(this._arrow&&this.options.showArrow&&(f=Math.round(u/3),this._arrow.height=f,this._arrow.show(s)),this.options.showFrame&&(C=Math.round(u/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new i(h,s.lineNumber,s.column,d,T=>this._onViewZoneTop(T),T=>this._onViewZoneHeight(T),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new t(n+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:C;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}const _=d*u-this._decoratingElementsHeight();this.container&&(this.container.style.top=f+"px",this.container.style.height=_+"px",this.container.style.overflow="hidden"),this._doLayout(_,r),this.options.keepEditorSelection||this.editor.setSelection(c);const E=this.editor.getModel();if(E){const I=E.validateRange(new w.Range(c.startLineNumber,1,c.endLineNumber+1,1));this.revealRange(I,I.startLineNumber===E.getLineCount())}}revealRange(c,d){d?this.editor.revealLineNearTop(c.endLineNumber,0):this.editor.revealRange(c,0)}setCssClass(c,d){this.container&&(d&&this.container.classList.remove(d),this.container.classList.add(c))}_onWidth(c){}_doLayout(c,d){}_relayout(c){this._viewZone&&this._viewZone.heightInLines!==c&&this.editor.changeViewZones(d=>{this._viewZone&&(this._viewZone.heightInLines=c,d.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let c;this._disposables.add(this._resizeSash.onDidStart(d=>{this._viewZone&&(c={startY:d.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{c=void 0})),this._disposables.add(this._resizeSash.onDidChange(d=>{if(c){const s=(d.currentY-c.startY)/this.editor.getOption(67),l=s<0?Math.ceil(s):Math.floor(s),r=c.heightInLines+l;r>5&&r<35&&this._relayout(r)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const c=this.editor.getLayoutInfo();return c.width-c.minimap.minimapWidth}}e.ZoneWidget=g}),define(ne[147],se([1,0,6,79,42,27,29,39,7,54,16,35,170,925,716,110,14,45,8,31,483]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorStickyScrollBackground=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,c.createDecorator)("IPeekViewService"),(0,m.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(f,C){const _=this._widgets.get(f);_&&(_.listener.dispose(),_.widget.dispose());const E=()=>{const I=this._widgets.get(f);I&&I.widget===C&&(I.listener.dispose(),this._widgets.delete(f))};this._widgets.set(f,{widget:C,listener:C.onDidClose(E)})}},1);var s;(function(f){f.inPeekEditor=new g.RawContextKey("inReferenceSearchEditor",!0,t.localize(0,null)),f.notInPeekEditor=f.inPeekEditor.toNegated()})(s||(e.PeekContext=s={}));let l=class{constructor(C,_){C instanceof n.EmbeddedCodeEditorWidget&&s.inPeekEditor.bindTo(_)}dispose(){}};l.ID="editor.contrib.referenceController",l=De([he(1,g.IContextKeyService)],l),(0,b.registerEditorContribution)(l.ID,l,0);function r(f){const C=f.get(a.ICodeEditorService).getFocusedCodeEditor();return C instanceof n.EmbeddedCodeEditorWidget?C.getParentEditor():C}e.getOuterEditor=r;const h={headerBackgroundColor:p.Color.white,primaryHeadingColor:p.Color.fromHex("#333333"),secondaryHeadingColor:p.Color.fromHex("#6c6c6cb3")};let u=class extends i.ZoneWidget{constructor(C,_,E){super(C,_),this.instantiationService=E,this._onDidClose=new w.Emitter,this.onDidClose=this._onDidClose.event,v.mixin(this.options,h,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(C){const _=this.options;C.headerBackgroundColor&&(_.headerBackgroundColor=C.headerBackgroundColor),C.primaryHeadingColor&&(_.primaryHeadingColor=C.primaryHeadingColor),C.secondaryHeadingColor&&(_.secondaryHeadingColor=C.secondaryHeadingColor),super.style(C)}_applyStyles(){super._applyStyles();const C=this.options;this._headElement&&C.headerBackgroundColor&&(this._headElement.style.backgroundColor=C.headerBackgroundColor.toString()),this._primaryHeading&&C.primaryHeadingColor&&(this._primaryHeading.style.color=C.primaryHeadingColor.toString()),this._secondaryHeading&&C.secondaryHeadingColor&&(this._secondaryHeading.style.color=C.secondaryHeadingColor.toString()),this._bodyElement&&C.frameColor&&(this._bodyElement.style.borderColor=C.frameColor.toString())}_fillContainer(C){this.setCssClass("peekview-widget"),this._headElement=L.$(".head"),this._bodyElement=L.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),C.appendChild(this._headElement),C.appendChild(this._bodyElement)}_fillHead(C,_){this._titleElement=L.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),L.addStandardDisposableListener(this._titleElement,"click",T=>this._onTitleClick(T))),L.append(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=L.$("span.filename"),this._secondaryHeading=L.$("span.dirname"),this._metaHeading=L.$("span.meta"),L.append(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const E=L.$(".peekview-actions");L.append(this._headElement,E);const I=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(E,I),this._disposables.add(this._actionbarWidget),_||this._actionbarWidget.push(new y.Action("peekview.close",t.localize(1,null),S.ThemeIcon.asClassName(D.Codicon.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(C){}_getActionBarOptions(){return{actionViewItemProvider:o.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(C){}setTitle(C,_){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=C,this._primaryHeading.setAttribute("title",C),_?this._secondaryHeading.innerText=_:L.clearNode(this._secondaryHeading))}setMetaTitle(C){this._metaHeading&&(C?(this._metaHeading.innerText=C,L.show(this._metaHeading)):L.hide(this._metaHeading))}_doLayout(C,_){if(!this._isShowing&&C<0){this.dispose();return}const E=Math.ceil(this.editor.getOption(67)*1.2),I=Math.round(C-(E+2));this._doLayoutHead(E,_),this._doLayoutBody(I,_)}_doLayoutHead(C,_){this._headElement&&(this._headElement.style.height=`${C}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(C,_){this._bodyElement&&(this._bodyElement.style.height=`${C}px`)}};e.PeekViewWidget=u,e.PeekViewWidget=u=De([he(2,c.IInstantiationService)],u),e.peekViewTitleBackground=(0,d.registerColor)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:p.Color.black,hcLight:p.Color.white},t.localize(2,null)),e.peekViewTitleForeground=(0,d.registerColor)("peekViewTitleLabel.foreground",{dark:p.Color.white,light:p.Color.black,hcDark:p.Color.white,hcLight:d.editorForeground},t.localize(3,null)),e.peekViewTitleInfoForeground=(0,d.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},t.localize(4,null)),e.peekViewBorder=(0,d.registerColor)("peekView.border",{dark:d.editorInfoForeground,light:d.editorInfoForeground,hcDark:d.contrastBorder,hcLight:d.contrastBorder},t.localize(5,null)),e.peekViewResultsBackground=(0,d.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:p.Color.black,hcLight:p.Color.white},t.localize(6,null)),e.peekViewResultsMatchForeground=(0,d.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:p.Color.white,hcLight:d.editorForeground},t.localize(7,null)),e.peekViewResultsFileForeground=(0,d.registerColor)("peekViewResult.fileForeground",{dark:p.Color.white,light:"#1E1E1E",hcDark:p.Color.white,hcLight:d.editorForeground},t.localize(8,null)),e.peekViewResultsSelectionBackground=(0,d.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},t.localize(9,null)),e.peekViewResultsSelectionForeground=(0,d.registerColor)("peekViewResult.selectionForeground",{dark:p.Color.white,light:"#6C6C6C",hcDark:p.Color.white,hcLight:d.editorForeground},t.localize(10,null)),e.peekViewEditorBackground=(0,d.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:p.Color.black,hcLight:p.Color.white},t.localize(11,null)),e.peekViewEditorGutterBackground=(0,d.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(12,null)),e.peekViewEditorStickyScrollBackground=(0,d.registerColor)("peekViewEditorStickyScroll.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(13,null)),e.peekViewResultsMatchHighlight=(0,d.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},t.localize(14,null)),e.peekViewEditorMatchHighlight=(0,d.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},t.localize(15,null)),e.peekViewEditorMatchHighlightBorder=(0,d.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:d.activeContrastBorder,hcLight:d.activeContrastBorder},t.localize(16,null))}),define(ne[926],se([1,0,6,78,13,39,7,2,48,11,5,147,689,110,28,14,8,166,100,57,814,31,24,469]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerNavigationWidget=void 0;class u{constructor(O,B,W,V,z){this._openerService=V,this._labelService=z,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new p.DisposableStore,this._editor=B;const K=document.createElement("div");K.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),K.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),K.appendChild(this._relatedBlock),this._disposables.add(L.addStandardDisposableListener(this._relatedBlock,"click",j=>{j.preventDefault();const x=this._relatedDiagnostics.get(j.target);x&&W(x)})),this._scrollable=new k.ScrollableElement(K,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),O.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(j=>{K.style.left=`-${j.scrollLeft}px`,K.style.top=`-${j.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,p.dispose)(this._disposables)}update(O){const{source:B,message:W,relatedInformation:V,code:z}=O;let K=(B?.length||0)+2;z&&(typeof z=="string"?K+=z.length:K+=z.value.length);const j=(0,v.splitLines)(W);this._lines=j.length,this._longestLineLength=0;for(const X of j)this._longestLineLength=Math.max(X.length+K,this._longestLineLength);L.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(O)),this._editor.applyFontInfo(this._messageBlock);let x=this._messageBlock;for(const X of j)x=document.createElement("div"),x.innerText=X,X===""&&(x.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(x);if(B||z){const X=document.createElement("span");if(X.classList.add("details"),x.appendChild(X),B){const Y=document.createElement("span");Y.innerText=B,Y.classList.add("source"),X.appendChild(Y)}if(z)if(typeof z=="string"){const Y=document.createElement("span");Y.innerText=`(${z})`,Y.classList.add("code"),X.appendChild(Y)}else{this._codeLink=L.$("a.code-link"),this._codeLink.setAttribute("href",`${z.target.toString()}`),this._codeLink.onclick=le=>{this._openerService.open(z.target,{allowCommands:!0}),le.preventDefault(),le.stopPropagation()};const Y=L.append(this._codeLink,L.$("span"));Y.innerText=z.value,X.appendChild(this._codeLink)}}if(L.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,y.isNonEmptyArray)(V)){const X=this._relatedBlock.appendChild(document.createElement("div"));X.style.paddingTop=`${Math.floor(this._editor.getOption(67)*.66)}px`,this._lines+=1;for(const Y of V){const le=document.createElement("div"),de=document.createElement("a");de.classList.add("filename"),de.innerText=`${this._labelService.getUriBasenameLabel(Y.resource)}(${Y.startLineNumber}, ${Y.startColumn}): `,de.title=this._labelService.getUriLabel(Y.resource),this._relatedDiagnostics.set(de,Y);const ge=document.createElement("span");ge.innerText=Y.message,le.appendChild(de),le.appendChild(ge),this._lines+=1,X.appendChild(le)}}const re=this._editor.getOption(50),ie=Math.ceil(re.typicalFullwidthCharacterWidth*this._longestLineLength*.75),J=re.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:ie,scrollHeight:J})}layout(O,B){this._scrollable.getDomNode().style.height=`${O}px`,this._scrollable.getDomNode().style.width=`${B}px`,this._scrollable.setScrollDimensions({width:B,height:O})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(O){let B="";switch(O.severity){case c.MarkerSeverity.Error:B=n.localize(0,null);break;case c.MarkerSeverity.Warning:B=n.localize(1,null);break;case c.MarkerSeverity.Info:B=n.localize(2,null);break;case c.MarkerSeverity.Hint:B=n.localize(3,null);break}let W=n.localize(4,null,B,O.startLineNumber+":"+O.startColumn);const V=this._editor.getModel();return V&&O.startLineNumber<=V.getLineCount()&&O.startLineNumber>=1&&(W=`${V.getLineContent(O.startLineNumber)}, ${W}`),W}}let f=h=class extends a.PeekViewWidget{constructor(O,B,W,V,z,K,j){super(O,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},z),this._themeService=B,this._openerService=W,this._menuService=V,this._contextKeyService=K,this._labelService=j,this._callOnDispose=new p.DisposableStore,this._onDidSelectRelatedInformation=new S.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=c.MarkerSeverity.Warning,this._backgroundColor=D.Color.white,this._applyTheme(B.getColorTheme()),this._callOnDispose.add(B.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(O){this._backgroundColor=O.getColor(P);let B=I,W=T;this._severity===c.MarkerSeverity.Warning?(B=A,W=R):this._severity===c.MarkerSeverity.Info&&(B=M,W=N);const V=O.getColor(B),z=O.getColor(W);this.style({arrowColor:V,frameColor:V,headerBackgroundColor:z,primaryHeadingColor:O.getColor(a.peekViewTitleForeground),secondaryHeadingColor:O.getColor(a.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(O){super._fillHead(O),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(V=>this.editor.focus()));const B=[],W=this._menuService.createMenu(h.TitleMenu,this._contextKeyService);(0,i.createAndFillInActionBarActions)(W,void 0,B),this._actionbarWidget.push(B,{label:!1,icon:!0,index:0}),W.dispose()}_fillTitleIcon(O){this._icon=L.append(O,L.$(""))}_fillBody(O){this._parentContainer=O,O.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),O.appendChild(this._container),this._message=new u(this._container,this.editor,B=>this._onDidSelectRelatedInformation.fire(B),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(O,B,W){this._container.classList.remove("stale"),this._message.update(O),this._severity=O.severity,this._applyTheme(this._themeService.getColorTheme());const V=b.Range.lift(O),z=this.editor.getPosition(),K=z&&V.containsPosition(z)?z:V.getStartPosition();super.show(K,this.computeRequiredHeight());const j=this.editor.getModel();if(j){const x=W>1?n.localize(5,null,B,W):n.localize(6,null,B,W);this.setTitle((0,w.basename)(j.uri),x)}this._icon.className=`codicon ${s.SeverityIcon.className(c.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(K,0),this.editor.focus()}updateMarker(O){this._container.classList.remove("stale"),this._message.update(O)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(O,B){super._doLayoutBody(O,B),this._heightInPixel=O,this._message.layout(O,B),this._container.style.height=`${O}px`}_onWidth(O){this._message.layout(this._heightInPixel,O)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};e.MarkerNavigationWidget=f,f.TitleMenu=new t.MenuId("gotoErrorTitleMenu"),e.MarkerNavigationWidget=f=h=De([he(1,r.IThemeService),he(2,d.IOpenerService),he(3,t.IMenuService),he(4,g.IInstantiationService),he(5,o.IContextKeyService),he(6,m.ILabelService)],f);const C=(0,l.oneOf)(l.editorErrorForeground,l.editorErrorBorder),_=(0,l.oneOf)(l.editorWarningForeground,l.editorWarningBorder),E=(0,l.oneOf)(l.editorInfoForeground,l.editorInfoBorder),I=(0,l.registerColor)("editorMarkerNavigationError.background",{dark:C,light:C,hcDark:l.contrastBorder,hcLight:l.contrastBorder},n.localize(7,null)),T=(0,l.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,l.transparent)(I,.1),light:(0,l.transparent)(I,.1),hcDark:null,hcLight:null},n.localize(8,null)),A=(0,l.registerColor)("editorMarkerNavigationWarning.background",{dark:_,light:_,hcDark:l.contrastBorder,hcLight:l.contrastBorder},n.localize(9,null)),R=(0,l.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,l.transparent)(A,.1),light:(0,l.transparent)(A,.1),hcDark:"#0C141F",hcLight:(0,l.transparent)(A,.2)},n.localize(10,null)),M=(0,l.registerColor)("editorMarkerNavigationInfo.background",{dark:E,light:E,hcDark:l.contrastBorder,hcLight:l.contrastBorder},n.localize(11,null)),N=(0,l.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,l.transparent)(M,.1),light:(0,l.transparent)(M,.1),hcDark:null,hcLight:null},n.localize(12,null)),P=(0,l.registerColor)("editorMarkerNavigation.background",{dark:l.editorBackground,light:l.editorBackground,hcDark:l.editorBackground,hcLight:l.editorBackground},n.localize(13,null))}),define(ne[389],se([1,0,27,2,16,35,9,5,21,793,688,28,14,8,82,926]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let m=g=class{static get(C){return C.getContribution(g.ID)}constructor(C,_,E,I,T){this._markerNavigationService=_,this._contextKeyService=E,this._editorService=I,this._instantiationService=T,this._sessionDispoables=new k.DisposableStore,this._editor=C,this._widgetVisible=h.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(C){if(this._model&&this._model.matches(C))return this._model;let _=!1;return this._model&&(_=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(C),_&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(o.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(E=>{var I,T,A;(!(!((I=this._model)===null||I===void 0)&&I.selected)||!p.Range.containsPosition((T=this._model)===null||T===void 0?void 0:T.selected.marker,E.position))&&((A=this._model)===null||A===void 0||A.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const E=this._model.find(this._editor.getModel().uri,this._widget.position);E?this._widget.updateMarker(E.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(E=>{this._editorService.openCodeEditor({resource:E.resource,options:{pinned:!0,revealIfOpened:!0,selection:p.Range.lift(E).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(C=!0){this._cleanUp(),C&&this._editor.focus()}showAtMarker(C){if(this._editor.hasModel()){const _=this._getOrCreateModel(this._editor.getModel().uri);_.resetIndex(),_.move(!0,this._editor.getModel(),new S.Position(C.startLineNumber,C.startColumn)),_.selected&&this._widget.showAtMarker(_.selected.marker,_.selected.index,_.selected.total)}}async nagivate(C,_){var E,I;if(this._editor.hasModel()){const T=this._getOrCreateModel(_?void 0:this._editor.getModel().uri);if(T.move(C,this._editor.getModel(),this._editor.getPosition()),!T.selected)return;if(T.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const A=await this._editorService.openCodeEditor({resource:T.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:T.selected.marker}},this._editor);A&&((E=g.get(A))===null||E===void 0||E.close(),(I=g.get(A))===null||I===void 0||I.nagivate(C,_))}else this._widget.showAtMarker(T.selected.marker,T.selected.index,T.selected.total)}}};e.MarkerController=m,m.ID="editor.contrib.markerController",e.MarkerController=m=g=De([he(1,v.IMarkerNavigationService),he(2,n.IContextKeyService),he(3,D.ICodeEditorService),he(4,i.IInstantiationService)],m);class c extends y.EditorAction{constructor(C,_,E){super(E),this._next=C,this._multiFile=_}async run(C,_){var E;_.hasModel()&&((E=m.get(_))===null||E===void 0||E.nagivate(this._next,this._multiFile))}}class d extends c{constructor(){super(!0,!1,{id:d.ID,label:d.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:o.MarkerNavigationWidget.TitleMenu,title:d.LABEL,icon:(0,t.registerIcon)("marker-navigation-next",L.Codicon.arrowDown,b.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=d,d.ID="editor.action.marker.next",d.LABEL=b.localize(0,null);class s extends c{constructor(){super(!1,!1,{id:s.ID,label:s.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:o.MarkerNavigationWidget.TitleMenu,title:s.LABEL,icon:(0,t.registerIcon)("marker-navigation-previous",L.Codicon.arrowUp,b.localize(3,null)),group:"navigation",order:2}})}}s.ID="editor.action.marker.prev",s.LABEL=b.localize(2,null);class l extends c{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:b.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:a.MenuId.MenubarGoMenu,title:b.localize(5,null),group:"6_problem_nav",order:1}})}}class r extends c{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:b.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:a.MenuId.MenubarGoMenu,title:b.localize(7,null),group:"6_problem_nav",order:2}})}}(0,y.registerEditorContribution)(m.ID,m,4),(0,y.registerEditorAction)(d),(0,y.registerEditorAction)(s),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(r);const h=new n.RawContextKey("markersNavigationVisible",!1),u=y.EditorCommand.bindToContribution(m.get);(0,y.registerEditorCommand)(new u({id:"closeMarkersNavigation",precondition:h,handler:f=>f.close(),kbOpts:{weight:150,kbExpr:w.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(ne[927],se([1,0,6,329,39,7,2,47,48,170,5,38,33,81,43,70,847,147,694,8,34,166,198,24,199,163,471]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class C{constructor(A,R){this._editor=A,this._model=R,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new S.DisposableStore,this._callOnModelChange=new S.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const A=this._editor.getModel();if(A){for(const R of this._model.references)if(R.uri.toString()===A.uri.toString()){this._addDecorations(R.parent);return}}}_addDecorations(A){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const R=[],M=[];for(let N=0,P=A.children.length;N<P;N++){const F=A.children[N];this._decorationIgnoreSet.has(F.id)||F.uri.toString()===this._editor.getModel().uri.toString()&&(R.push({range:F.range,options:C.DecorationOptions}),M.push(N))}this._editor.changeDecorations(N=>{const P=N.deltaDecorations([],R);for(let F=0;F<P.length;F++)this._decorations.set(P[F],A.children[M[F]])})}_onDecorationChanged(){const A=[],R=this._editor.getModel();if(R){for(const[M,N]of this._decorations){const P=R.getDecorationRange(M);if(!P)continue;let F=!1;if(!b.Range.equalsRange(P,N.range)){if(b.Range.spansMultipleLines(P))F=!0;else{const O=N.range.endColumn-N.range.startColumn,B=P.endColumn-P.startColumn;O!==B&&(F=!0)}F?(this._decorationIgnoreSet.add(N.id),A.push(M)):N.range=P}}for(let M=0,N=A.length;M<N;M++)this._decorations.delete(A[M]);this._editor.removeDecorations(A)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}C.DecorationOptions=a.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class _{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(A){let R,M;try{const N=JSON.parse(A);R=N.ratio,M=N.heightInLines}catch{}return{ratio:R||.7,heightInLines:M||18}}}e.LayoutData=_;class E extends r.WorkbenchAsyncDataTree{}let I=class extends m.PeekViewWidget{constructor(A,R,M,N,P,F,O,B,W,V,z,K){super(A,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},F),this._defaultTreeKeyboardSupport=R,this.layoutData=M,this._textModelResolverService=P,this._instantiationService=F,this._peekViewService=O,this._uriLabel=B,this._undoRedoService=W,this._keybindingService=V,this._languageService=z,this._languageConfigurationService=K,this._disposeOnNewModel=new S.DisposableStore,this._callOnDispose=new S.DisposableStore,this._onDidSelectReference=new D.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new L.Dimension(0,0),this._applyTheme(N.getColorTheme()),this._callOnDispose.add(N.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(A,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,S.dispose)(this._preview),(0,S.dispose)(this._previewNotAvailableMessage),(0,S.dispose)(this._tree),(0,S.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(A){const R=A.getColor(m.peekViewBorder)||y.Color.transparent;this.style({arrowColor:R,frameColor:R,headerBackgroundColor:A.getColor(m.peekViewTitleBackground)||y.Color.transparent,primaryHeadingColor:A.getColor(m.peekViewTitleForeground),secondaryHeadingColor:A.getColor(m.peekViewTitleInfoForeground)})}show(A){super.show(A,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(A){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:A.ctrlKey||A.metaKey||A.altKey?"side":"open",source:"title"})}_fillBody(A){this.setCssClass("reference-zone-widget"),this._messageContainer=L.append(A,L.$("div.messages")),L.hide(this._messageContainer),this._splitView=new k.SplitView(A,{orientation:1}),this._previewContainer=L.append(A,L.$("div.preview.inline"));const R={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(v.EmbeddedCodeEditorWidget,this._previewContainer,R,{},this.editor),L.hide(this._previewContainer),this._previewNotAvailableMessage=new a.TextModel(c.localize(0,null),i.PLAINTEXT_LANGUAGE_ID,a.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=L.append(A,L.$("div.ref-tree.inline"));const M={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new g.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(g.StringRepresentationProvider),identityProvider:new g.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:m.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(L.addStandardDisposableListener(this._treeContainer,"keydown",P=>{P.equals(9)&&(this._keybindingService.dispatchEvent(P,P.target),P.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(E,"ReferencesWidget",this._treeContainer,new g.Delegate,[this._instantiationService.createInstance(g.FileReferencesRenderer),this._instantiationService.createInstance(g.OneReferenceRenderer)],this._instantiationService.createInstance(g.DataSource),M),this._splitView.addView({onDidChange:D.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:P=>{this._preview.layout({height:this._dim.height,width:P})}},k.Sizing.Distribute),this._splitView.addView({onDidChange:D.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:P=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${P}px`,this._tree.layout(this._dim.height,P)}},k.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const N=(P,F)=>{P instanceof f.OneReference&&(F==="show"&&this._revealReference(P,!1),this._onDidSelectReference.fire({element:P,kind:F,source:"tree"}))};this._tree.onDidOpen(P=>{P.sideBySide?N(P.element,"side"):P.editorOptions.pinned?N(P.element,"goto"):N(P.element,"show")}),L.hide(this._treeContainer)}_onWidth(A){this._dim&&this._doLayoutBody(this._dim.height,A)}_doLayoutBody(A,R){super._doLayoutBody(A,R),this._dim=new L.Dimension(R,A),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(R),this._splitView.resizeView(0,R*this.layoutData.ratio)}setSelection(A){return this._revealReference(A,!0).then(()=>{this._model&&(this._tree.setSelection([A]),this._tree.setFocus([A]))})}setModel(A){return this._disposeOnNewModel.clear(),this._model=A,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=c.localize(1,null),L.show(this._messageContainer),Promise.resolve(void 0)):(L.hide(this._messageContainer),this._decorationsManager=new C(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(A=>this._tree.rerender(A))),this._disposeOnNewModel.add(this._preview.onMouseDown(A=>{const{event:R,target:M}=A;if(R.detail!==2)return;const N=this._getFocusedReference();N&&this._onDidSelectReference.fire({element:{uri:N.uri,range:M.range},kind:R.ctrlKey||R.metaKey||R.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),L.show(this._treeContainer),L.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[A]=this._tree.getFocus();if(A instanceof f.OneReference)return A;if(A instanceof f.FileReferences&&A.children.length>0)return A.children[0]}async revealReference(A){await this._revealReference(A,!1),this._onDidSelectReference.fire({element:A,kind:"goto",source:"tree"})}async _revealReference(A,R){if(this._revealedReference===A)return;this._revealedReference=A,A.uri.scheme!==p.Schemas.inMemory?this.setTitle((0,w.basenameOrAuthority)(A.uri),this._uriLabel.getUriLabel((0,w.dirname)(A.uri))):this.setTitle(c.localize(2,null));const M=this._textModelResolverService.createModelReference(A.uri);this._tree.getInput()===A.parent?this._tree.reveal(A):(R&&this._tree.reveal(A.parent),await this._tree.expand(A.parent),this._tree.reveal(A));const N=await M;if(!this._model){N.dispose();return}(0,S.dispose)(this._previewModelReference);const P=N.object;if(P){const F=this._preview.getModel()===P.textEditorModel?0:1,O=b.Range.lift(A.range).collapseToStart();this._previewModelReference=N,this._preview.setModel(P.textEditorModel),this._preview.setSelection(O),this._preview.revealRangeInCenter(O,F)}else this._preview.setModel(this._previewNotAvailableMessage),N.dispose()}};e.ReferenceWidget=I,e.ReferenceWidget=I=De([he(3,h.IThemeService),he(4,o.ITextModelService),he(5,d.IInstantiationService),he(6,m.IPeekViewService),he(7,l.ILabelService),he(8,u.IUndoRedoService),he(9,s.IKeybindingService),he(10,t.ILanguageService),he(11,n.ILanguageConfigurationService)],I)}),define(ne[390],se([1,0,15,12,66,2,35,9,5,147,692,25,26,14,8,126,198,49,94,163,927,21,195]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new i.RawContextKey("referenceSearchVisible",!1,b.localize(0,null));let u=h=class{static get(_){return _.getContribution(h.ID)}constructor(_,E,I,T,A,R,M,N){this._defaultTreeKeyboardSupport=_,this._editor=E,this._editorService=T,this._notificationService=A,this._instantiationService=R,this._storageService=M,this._configurationService=N,this._disposables=new D.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(I)}dispose(){var _,E;this._referenceSearchVisible.reset(),this._disposables.dispose(),(_=this._widget)===null||_===void 0||_.dispose(),(E=this._model)===null||E===void 0||E.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(_,E,I){let T;if(this._widget&&(T=this._widget.position),this.closeWidget(),T&&_.containsPosition(T))return;this._peekMode=I,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const A="peekViewLayout",R=s.LayoutData.fromJSON(this._storageService.get(A,0,"{}"));this._widget=this._instantiationService.createInstance(s.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,R),this._widget.setTitle(b.localize(1,null)),this._widget.show(_),this._disposables.add(this._widget.onDidClose(()=>{E.cancel(),this._widget&&(this._storageService.store(A,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(N=>{const{element:P,kind:F}=N;if(P)switch(F){case"open":(N.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(P,!1,!1);break;case"side":this.openReference(P,!0,!1);break;case"goto":I?this._gotoReference(P,!0):this.openReference(P,!1,!0);break}}));const M=++this._requestIdPool;E.then(N=>{var P;if(M!==this._requestIdPool||!this._widget){N.dispose();return}return(P=this._model)===null||P===void 0||P.dispose(),this._model=N,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(b.localize(2,null,this._model.title,this._model.references.length));const F=this._editor.getModel().uri,O=new p.Position(_.startLineNumber,_.startColumn),B=this._model.nearestReference(F,O);if(B)return this._widget.setSelection(B).then(()=>{this._widget&&this._editor.getOption(87)==="editor"&&this._widget.focusOnPreviewEditor()})}})},N=>{this._notificationService.error(N)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}async goToNextOrPreviousReference(_){if(!this._editor.hasModel()||!this._model||!this._widget)return;const E=this._widget.position;if(!E)return;const I=this._model.nearestReference(this._editor.getModel().uri,E);if(!I)return;const T=this._model.nextOrPreviousReference(I,_),A=this._editor.hasTextFocus(),R=this._widget.isPreviewEditorFocused();await this._widget.setSelection(T),await this._gotoReference(T,!1),A?this._editor.focus():this._widget&&R&&this._widget.focusOnPreviewEditor()}async revealReference(_){!this._editor.hasModel()||!this._model||!this._widget||await this._widget.revealReference(_)}closeWidget(_=!0){var E,I;(E=this._widget)===null||E===void 0||E.dispose(),(I=this._model)===null||I===void 0||I.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,_&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(_,E){var I;(I=this._widget)===null||I===void 0||I.hide(),this._ignoreModelChangeEvent=!0;const T=w.Range.lift(_.range).collapseToStart();return this._editorService.openCodeEditor({resource:_.uri,options:{selection:T,selectionSource:"code.jump",pinned:E}},this._editor).then(A=>{var R;if(this._ignoreModelChangeEvent=!1,!A||!this._widget){this.closeWidget();return}if(this._editor===A)this._widget.show(T),this._widget.focusOnReferenceTree();else{const M=h.get(A),N=this._model.clone();this.closeWidget(),A.focus(),M?.toggleWidget(T,(0,L.createCancelablePromise)(P=>Promise.resolve(N)),(R=this._peekMode)!==null&&R!==void 0?R:!1)}},A=>{this._ignoreModelChangeEvent=!1,(0,k.onUnexpectedError)(A)})}openReference(_,E,I){E||this.closeWidget();const{uri:T,range:A}=_;this._editorService.openCodeEditor({resource:T,options:{selection:A,selectionSource:"code.jump",pinned:I}},this._editor,E)}};e.ReferencesController=u,u.ID="editor.contrib.referencesController",e.ReferencesController=u=h=De([he(2,i.IContextKeyService),he(3,S.ICodeEditorService),he(4,m.INotificationService),he(5,t.IInstantiationService),he(6,c.IStorageService),he(7,n.IConfigurationService)],u);function f(C,_){const E=(0,v.getOuterEditor)(C);if(!E)return;const I=u.get(E);I&&_(I)}o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,y.KeyChord)(2089,60),when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,v.PeekContext.inPeekEditor),handler(C){f(C,_=>{_.changeFocusBetweenPreviewAndReferences()})}}),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,v.PeekContext.inPeekEditor),handler(C){f(C,_=>{_.goToNextOrPreviousReference(!0)})}}),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,v.PeekContext.inPeekEditor),handler(C){f(C,_=>{_.goToNextOrPreviousReference(!1)})}}),a.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),a.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),a.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),a.CommandsRegistry.registerCommand("closeReferenceSearch",C=>f(C,_=>_.closeWidget())),o.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(v.PeekContext.inPeekEditor,i.ContextKeyExpr.not("config.editor.stablePeek"))}),o.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,i.ContextKeyExpr.not("config.editor.stablePeek"),i.ContextKeyExpr.or(l.EditorContextKeys.editorTextFocus,r.InputFocusedContext.negate()))}),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,g.WorkbenchListFocusContextKey,g.WorkbenchTreeElementCanCollapse.negate(),g.WorkbenchTreeElementCanExpand.negate()),handler(C){var _;const I=(_=C.get(g.IListService).lastFocusedList)===null||_===void 0?void 0:_.getFocus();Array.isArray(I)&&I[0]instanceof d.OneReference&&f(C,T=>T.revealReference(I[0]))}}),o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,g.WorkbenchListFocusContextKey,g.WorkbenchTreeElementCanCollapse.negate(),g.WorkbenchTreeElementCanExpand.negate()),handler(C){var _;const I=(_=C.get(g.IListService).lastFocusedList)===null||_===void 0?void 0:_.getFocus();Array.isArray(I)&&I[0]instanceof d.OneReference&&f(C,T=>T.openReference(I[0],!0,!0))}}),a.CommandsRegistry.registerCommand("openReference",C=>{var _;const I=(_=C.get(g.IListService).lastFocusedList)===null||_===void 0?void 0:_.getFocus();Array.isArray(I)&&I[0]instanceof d.OneReference&&f(C,T=>T.openReference(I[0],!1,!0))})}),define(ne[270],se([1,0,44,15,66,20,22,109,157,16,35,170,9,5,21,30,390,163,829,168,147,690,28,25,14,8,49,88,257,18,52,195]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_,E,I,T,A){"use strict";var R,M,N,P,F,O,B,W;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,r.MenuRegistry.appendMenuItem(r.MenuId.EditorContext,{submenu:r.MenuId.EditorContextPeek,title:l.localize(0,null),group:"navigation",order:100});class V{static is(Y){return!Y||typeof Y!="object"?!1:!!(Y instanceof V||n.Position.isIPosition(Y.position)&&Y.model)}constructor(Y,le){this.model=Y,this.position=le}}e.SymbolNavigationAnchor=V;class z extends v.EditorAction2{static all(){return z._allSymbolNavigationCommands.values()}static _patchConfig(Y){const le={...Y,f1:!0};if(le.menu)for(const de of T.Iterable.wrap(le.menu))(de.id===r.MenuId.EditorContext||de.id===r.MenuId.EditorContextPeek)&&(de.when=u.ContextKeyExpr.and(Y.precondition,de.when));return le}constructor(Y,le){super(z._patchConfig(le)),this.configuration=Y,z._allSymbolNavigationCommands.set(le.id,this)}runEditorCommand(Y,le,de,ge){if(!le.hasModel())return Promise.resolve(void 0);const pe=Y.get(C.INotificationService),Q=Y.get(b.ICodeEditorService),U=Y.get(_.IEditorProgressService),Z=Y.get(c.ISymbolNavigationService),H=Y.get(I.ILanguageFeaturesService),q=Y.get(f.IInstantiationService),te=le.getModel(),G=le.getPosition(),$=V.is(de)?de:new V(te,G),oe=new p.EditorStateCancellationTokenSource(le,5),ae=(0,k.raceCancellation)(this._getLocationModel(H,$.model,$.position,oe.token),oe.token).then(async ue=>{var ce;if(!ue||oe.token.isCancellationRequested)return;(0,L.alert)(ue.ariaMessage);let fe;if(ue.referenceAt(te.uri,G)){const Ce=this._getAlternativeCommand(le);!z._activeAlternativeCommands.has(Ce)&&z._allSymbolNavigationCommands.has(Ce)&&(fe=z._allSymbolNavigationCommands.get(Ce))}const ve=ue.references.length;if(ve===0){if(!this.configuration.muteMessage){const Ce=te.getWordAtPosition(G);(ce=d.MessageController.get(le))===null||ce===void 0||ce.showMessage(this._getNoResultFoundMessage(Ce),G)}}else if(ve===1&&fe)z._activeAlternativeCommands.add(this.desc.id),q.invokeFunction(Ce=>fe.runEditorCommand(Ce,le,de,ge).finally(()=>{z._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(Q,Z,le,ue,ge)},ue=>{pe.error(ue)}).finally(()=>{oe.dispose()});return U.showWhile(ae,250),ae}async _onResult(Y,le,de,ge,pe){const Q=this._getGoToPreference(de);if(!(de instanceof a.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||Q==="peek"&&ge.references.length>1))this._openInPeek(de,ge,pe);else{const U=ge.firstReference(),Z=ge.references.length>1&&Q==="gotoAndPeek",H=await this._openReference(de,Y,U,this.configuration.openToSide,!Z);Z&&H?this._openInPeek(H,ge,pe):ge.dispose(),Q==="goto"&&le.put(U)}}async _openReference(Y,le,de,ge,pe){let Q;if((0,o.isLocationLink)(de)&&(Q=de.targetSelectionRange),Q||(Q=de.range),!Q)return;const U=await le.openCodeEditor({resource:de.uri,options:{selection:i.Range.collapseToStart(Q),selectionRevealType:3,selectionSource:"code.jump"}},Y,ge);if(U){if(pe){const Z=U.getModel(),H=U.createDecorationsCollection([{range:Q,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{U.getModel()===Z&&H.clear()},350)}return U}}_openInPeek(Y,le,de){const ge=g.ReferencesController.get(Y);ge&&Y.hasModel()?ge.toggleWidget(de??Y.getSelection(),(0,k.createCancelablePromise)(pe=>Promise.resolve(le)),this.configuration.openInPeek):le.dispose()}}e.SymbolNavigationAction=z,z._allSymbolNavigationCommands=new Map,z._activeAlternativeCommands=new Set;class K extends z{async _getLocationModel(Y,le,de,ge){return new m.ReferencesModel(await(0,E.getDefinitionsAtPosition)(Y.definitionProvider,le,de,ge),l.localize(1,null))}_getNoResultFoundMessage(Y){return Y&&Y.word?l.localize(2,null,Y.word):l.localize(3,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeDefinitionCommand}_getGoToPreference(Y){return Y.getOption(58).multipleDefinitions}}e.DefinitionAction=K,(0,r.registerAction2)((R=class extends K{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:R.id,title:{...l.localize2(27,"Go to Definition"),mnemonicTitle:l.localize(4,null)},precondition:t.EditorContextKeys.hasDefinitionProvider,keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:70,weight:100},{when:u.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,A.IsWebContext),primary:2118,weight:100}],menu:[{id:r.MenuId.EditorContext,group:"navigation",order:1.1},{id:r.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),h.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",R.id)}},R.id="editor.action.revealDefinition",R)),(0,r.registerAction2)((M=class extends K{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:M.id,title:l.localize2(28,"Open Definition to the Side"),precondition:u.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:(0,y.KeyChord)(2089,70),weight:100},{when:u.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,A.IsWebContext),primary:(0,y.KeyChord)(2089,2118),weight:100}]}),h.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",M.id)}},M.id="editor.action.revealDefinitionAside",M)),(0,r.registerAction2)((N=class extends K{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:N.id,title:l.localize2(29,"Peek Definition"),precondition:u.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,s.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:r.MenuId.EditorContextPeek,group:"peek",order:2}}),h.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",N.id)}},N.id="editor.action.peekDefinition",N));class j extends z{async _getLocationModel(Y,le,de,ge){return new m.ReferencesModel(await(0,E.getDeclarationsAtPosition)(Y.declarationProvider,le,de,ge),l.localize(5,null))}_getNoResultFoundMessage(Y){return Y&&Y.word?l.localize(6,null,Y.word):l.localize(7,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeDeclarationCommand}_getGoToPreference(Y){return Y.getOption(58).multipleDeclarations}}(0,r.registerAction2)((P=class extends j{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:P.id,title:{...l.localize2(30,"Go to Declaration"),mnemonicTitle:l.localize(8,null)},precondition:u.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:[{id:r.MenuId.EditorContext,group:"navigation",order:1.3},{id:r.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(Y){return Y&&Y.word?l.localize(9,null,Y.word):l.localize(10,null)}},P.id="editor.action.revealDeclaration",P)),(0,r.registerAction2)(class extends j{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:l.localize2(31,"Peek Declaration"),precondition:u.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,s.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:r.MenuId.EditorContextPeek,group:"peek",order:3}})}});class x extends z{async _getLocationModel(Y,le,de,ge){return new m.ReferencesModel(await(0,E.getTypeDefinitionsAtPosition)(Y.typeDefinitionProvider,le,de,ge),l.localize(11,null))}_getNoResultFoundMessage(Y){return Y&&Y.word?l.localize(12,null,Y.word):l.localize(13,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(Y){return Y.getOption(58).multipleTypeDefinitions}}(0,r.registerAction2)((F=class extends x{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:F.ID,title:{...l.localize2(32,"Go to Type Definition"),mnemonicTitle:l.localize(14,null)},precondition:t.EditorContextKeys.hasTypeDefinitionProvider,keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:0,weight:100},menu:[{id:r.MenuId.EditorContext,group:"navigation",order:1.4},{id:r.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},F.ID="editor.action.goToTypeDefinition",F)),(0,r.registerAction2)((O=class extends x{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:O.ID,title:l.localize2(33,"Peek Type Definition"),precondition:u.ContextKeyExpr.and(t.EditorContextKeys.hasTypeDefinitionProvider,s.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:r.MenuId.EditorContextPeek,group:"peek",order:4}})}},O.ID="editor.action.peekTypeDefinition",O));class re extends z{async _getLocationModel(Y,le,de,ge){return new m.ReferencesModel(await(0,E.getImplementationsAtPosition)(Y.implementationProvider,le,de,ge),l.localize(15,null))}_getNoResultFoundMessage(Y){return Y&&Y.word?l.localize(16,null,Y.word):l.localize(17,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeImplementationCommand}_getGoToPreference(Y){return Y.getOption(58).multipleImplementations}}(0,r.registerAction2)((B=class extends re{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:B.ID,title:{...l.localize2(34,"Go to Implementations"),mnemonicTitle:l.localize(18,null)},precondition:t.EditorContextKeys.hasImplementationProvider,keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menu:[{id:r.MenuId.EditorContext,group:"navigation",order:1.45},{id:r.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},B.ID="editor.action.goToImplementation",B)),(0,r.registerAction2)((W=class extends re{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:W.ID,title:l.localize2(35,"Peek Implementations"),precondition:u.ContextKeyExpr.and(t.EditorContextKeys.hasImplementationProvider,s.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:3142,weight:100},menu:{id:r.MenuId.EditorContextPeek,group:"peek",order:5}})}},W.ID="editor.action.peekImplementation",W));class ie extends z{_getNoResultFoundMessage(Y){return Y?l.localize(19,null,Y.word):l.localize(20,null)}_getAlternativeCommand(Y){return Y.getOption(58).alternativeReferenceCommand}_getGoToPreference(Y){return Y.getOption(58).multipleReferences}}(0,r.registerAction2)(class extends ie{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{...l.localize2(36,"Go to References"),mnemonicTitle:l.localize(21,null)},precondition:u.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,s.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:1094,weight:100},menu:[{id:r.MenuId.EditorContext,group:"navigation",order:1.45},{id:r.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}async _getLocationModel(Y,le,de,ge){return new m.ReferencesModel(await(0,E.getReferencesAtPosition)(Y.referenceProvider,le,de,!0,ge),l.localize(22,null))}}),(0,r.registerAction2)(class extends ie{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:l.localize2(37,"Peek References"),precondition:u.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,s.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:r.MenuId.EditorContextPeek,group:"peek",order:6}})}async _getLocationModel(Y,le,de,ge){return new m.ReferencesModel(await(0,E.getReferencesAtPosition)(Y.referenceProvider,le,de,!1,ge),l.localize(23,null))}});class J extends z{constructor(Y,le,de){super(Y,{id:"editor.action.goToLocation",title:l.localize2(38,"Go to Any Symbol"),precondition:u.ContextKeyExpr.and(s.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated())}),this._references=le,this._gotoMultipleBehaviour=de}async _getLocationModel(Y,le,de,ge){return new m.ReferencesModel(this._references,l.localize(24,null))}_getNoResultFoundMessage(Y){return Y&&l.localize(25,null,Y.word)||""}_getGoToPreference(Y){var le;return(le=this._gotoMultipleBehaviour)!==null&&le!==void 0?le:Y.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}h.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.URI},{name:"position",description:"The position at which to start",constraint:n.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:async(X,Y,le,de,ge,pe,Q)=>{(0,D.assertType)(S.URI.isUri(Y)),(0,D.assertType)(n.Position.isIPosition(le)),(0,D.assertType)(Array.isArray(de)),(0,D.assertType)(typeof ge>"u"||typeof ge=="string"),(0,D.assertType)(typeof Q>"u"||typeof Q=="boolean");const U=X.get(b.ICodeEditorService),Z=await U.openCodeEditor({resource:Y},U.getFocusedCodeEditor());if((0,w.isCodeEditor)(Z))return Z.setPosition(le),Z.revealPositionInCenterIfOutsideViewport(le,0),Z.invokeWithinContext(H=>{const q=new class extends J{_getNoResultFoundMessage(te){return pe||super._getNoResultFoundMessage(te)}}({muteMessage:!pe,openInPeek:!!Q,openToSide:!1},de,ge);H.get(f.IInstantiationService).invokeFunction(q.run.bind(q),Z)})}}),h.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:S.URI},{name:"position",description:"The position at which to start",constraint:n.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:async(X,Y,le,de,ge)=>{X.get(h.ICommandService).executeCommand("editor.action.goToLocations",Y,le,de,ge,void 0,!0)}}),h.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(X,Y,le)=>{(0,D.assertType)(S.URI.isUri(Y)),(0,D.assertType)(n.Position.isIPosition(le));const de=X.get(I.ILanguageFeaturesService),ge=X.get(b.ICodeEditorService);return ge.openCodeEditor({resource:Y},ge.getFocusedCodeEditor()).then(pe=>{if(!(0,w.isCodeEditor)(pe)||!pe.hasModel())return;const Q=g.ReferencesController.get(pe);if(!Q)return;const U=(0,k.createCancelablePromise)(H=>(0,E.getReferencesAtPosition)(de.referenceProvider,pe.getModel(),n.Position.lift(le),!1,H).then(q=>new m.ReferencesModel(q,l.localize(26,null)))),Z=new i.Range(le.lineNumber,le.column,le.lineNumber,le.column);return Promise.resolve(Q.toggleWidget(Z,U,!1))})}}),h.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(ne[391],se([1,0,15,12,58,2,109,16,5,43,70,193,147,691,14,270,257,18,38,470]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let s=d=class{constructor(r,h,u,f){this.textModelResolverService=h,this.languageService=u,this.languageFeaturesService=f,this.toUnhook=new D.DisposableStore,this.toUnhookForKeyboard=new D.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=r,this.linkDecorations=this.editor.createDecorationsCollection();const C=new a.ClickLinkGesture(r);this.toUnhook.add(C),this.toUnhook.add(C.onMouseMoveOrRelevantKeyDown(([_,E])=>{this.startFindDefinitionFromMouse(_,E??void 0)})),this.toUnhook.add(C.onExecute(_=>{this.isEnabled(_)&&this.gotoDefinition(_.target.position,_.hasSideBySideModifier).catch(E=>{(0,k.onUnexpectedError)(E)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(C.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(r){return r.getContribution(d.ID)}async startFindDefinitionFromCursor(r){await this.startFindDefinition(r),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(h=>{h&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))}startFindDefinitionFromMouse(r,h){if(r.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(r,h)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const u=r.target.position;this.startFindDefinition(u)}async startFindDefinition(r){var h;this.toUnhookForKeyboard.clear();const u=r?(h=this.editor.getModel())===null||h===void 0?void 0:h.getWordAtPosition(r):null;if(!u){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===u.startColumn&&this.currentWordAtPosition.endColumn===u.endColumn&&this.currentWordAtPosition.word===u.word)return;this.currentWordAtPosition=u;const f=new S.EditorState(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,L.createCancelablePromise)(E=>this.findDefinition(r,E));let C;try{C=await this.previousPromise}catch(E){(0,k.onUnexpectedError)(E);return}if(!C||!C.length||!f.validate(this.editor)){this.removeLinkDecorations();return}const _=C[0].originSelectionRange?w.Range.lift(C[0].originSelectionRange):new w.Range(r.lineNumber,u.startColumn,r.lineNumber,u.endColumn);if(C.length>1){let E=_;for(const{originSelectionRange:I}of C)I&&(E=w.Range.plusRange(E,I));this.addDecoration(E,new y.MarkdownString().appendText(i.localize(0,null,C.length)))}else{const E=C[0];if(!E.uri)return;this.textModelResolverService.createModelReference(E.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:T}}=I,{startLineNumber:A}=E.range;if(A<1||A>T.getLineCount()){I.dispose();return}const R=this.getPreviewValue(T,A,E),M=this.languageService.guessLanguageIdByFilepathOrFirstLine(T.uri);this.addDecoration(_,R?new y.MarkdownString().appendCodeblock(M||"",R):void 0),I.dispose()})}}getPreviewValue(r,h,u){let f=u.range;return f.endLineNumber-f.startLineNumber>=d.MAX_SOURCE_PREVIEW_LINES&&(f=this.getPreviewRangeBasedOnIndentation(r,h)),this.stripIndentationFromPreviewRange(r,h,f)}stripIndentationFromPreviewRange(r,h,u){let C=r.getLineFirstNonWhitespaceColumn(h);for(let E=h+1;E<u.endLineNumber;E++){const I=r.getLineFirstNonWhitespaceColumn(E);C=Math.min(C,I)}return r.getValueInRange(u).replace(new RegExp(`^\\s{${C-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(r,h){const u=r.getLineFirstNonWhitespaceColumn(h),f=Math.min(r.getLineCount(),h+d.MAX_SOURCE_PREVIEW_LINES);let C=h+1;for(;C<f;C++){const _=r.getLineFirstNonWhitespaceColumn(C);if(u===_)break}return new w.Range(h,1,C+1,1)}addDecoration(r,h){const u={range:r,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:h}};this.linkDecorations.set([u])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(r,h){var u;return this.editor.hasModel()&&r.isLeftClick&&r.isNoneOrSingleMouseDown&&r.target.type===6&&!(((u=r.target.detail.injectedText)===null||u===void 0?void 0:u.options)instanceof c.ModelDecorationInjectedTextOptions)&&(r.hasTriggerModifier||(h?h.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(r,h){const u=this.editor.getModel();return u?(0,g.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,u,r,h):Promise.resolve(null)}gotoDefinition(r,h){return this.editor.setPosition(r),this.editor.invokeWithinContext(u=>{const f=!h&&this.editor.getOption(88)&&!this.isInPeekEditor(u);return new o.DefinitionAction({openToSide:h,openInPeek:f,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(u)})}isInPeekEditor(r){const h=r.get(t.IContextKeyService);return n.PeekContext.inPeekEditor.getValue(h)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};e.GotoDefinitionAtPositionEditorContribution=s,s.ID="editor.contrib.gotodefinitionatposition",s.MAX_SOURCE_PREVIEW_LINES=8,e.GotoDefinitionAtPositionEditorContribution=s=d=De([he(1,b.ITextModelService),he(2,v.ILanguageService),he(3,m.ILanguageFeaturesService)],s),(0,p.registerEditorContribution)(s.ID,s,2)}),define(ne[928],se([1,0,6,13,15,12,2,48,5,18,243,146,267,119,389,699,100,57,88]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const d=L.$;class s{constructor(u,f,C){this.owner=u,this.range=f,this.marker=C}isValidForHoverAnchor(u){return u.type===1&&this.range.startColumn<=u.range.startColumn&&this.range.endColumn>=u.range.endColumn}}e.MarkerHover=s;const l={type:1,filter:{include:i.CodeActionKind.QuickFix},triggerAction:i.CodeActionTriggerSource.QuickFixHover};let r=class{constructor(u,f,C,_){this._editor=u,this._markerDecorationsService=f,this._openerService=C,this._languageFeaturesService=_,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(u,f){if(!this._editor.hasModel()||u.type!==1&&!u.supportsMarkerHover)return[];const C=this._editor.getModel(),_=u.range.startLineNumber,E=C.getLineMaxColumn(_),I=[];for(const T of f){const A=T.range.startLineNumber===_?T.range.startColumn:1,R=T.range.endLineNumber===_?T.range.endColumn:E,M=this._markerDecorationsService.getMarker(C.uri,T);if(!M)continue;const N=new w.Range(u.range.startLineNumber,A,u.range.startLineNumber,R);I.push(new s(this,N,M))}return I}renderHoverParts(u,f){if(!f.length)return S.Disposable.None;const C=new S.DisposableStore;f.forEach(E=>u.fragment.appendChild(this.renderMarkerHover(E,C)));const _=f.length===1?f[0]:f.sort((E,I)=>g.MarkerSeverity.compare(E.marker.severity,I.marker.severity))[0];return this.renderMarkerStatusbar(u,_,C),C}renderMarkerHover(u,f){const C=d("div.hover-row"),_=L.append(C,d("div.marker.hover-contents")),{source:E,message:I,code:T,relatedInformation:A}=u.marker;this._editor.applyFontInfo(_);const R=L.append(_,d("span"));if(R.style.whiteSpace="pre-wrap",R.innerText=I,E||T)if(T&&typeof T!="string"){const M=d("span");if(E){const O=L.append(M,d("span"));O.innerText=E}const N=L.append(M,d("a.code-link"));N.setAttribute("href",T.target.toString()),f.add(L.addDisposableListener(N,"click",O=>{this._openerService.open(T.target,{allowCommands:!0}),O.preventDefault(),O.stopPropagation()}));const P=L.append(N,d("span"));P.innerText=T.value;const F=L.append(_,M);F.style.opacity="0.6",F.style.paddingLeft="6px"}else{const M=L.append(_,d("span"));M.style.opacity="0.6",M.style.paddingLeft="6px",M.innerText=E&&T?`${E}(${T})`:E||`(${T})`}if((0,k.isNonEmptyArray)(A))for(const{message:M,resource:N,startLineNumber:P,startColumn:F}of A){const O=L.append(_,d("div"));O.style.marginTop="8px";const B=L.append(O,d("a"));B.innerText=`${(0,p.basename)(N)}(${P}, ${F}): `,B.style.cursor="pointer",f.add(L.addDisposableListener(B,"click",V=>{V.stopPropagation(),V.preventDefault(),this._openerService&&this._openerService.open(N,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:P,startColumn:F}}}).catch(D.onUnexpectedError)}));const W=L.append(O,d("span"));W.innerText=M,this._editor.applyFontInfo(W)}return C}renderMarkerStatusbar(u,f,C){if(f.marker.severity===g.MarkerSeverity.Error||f.marker.severity===g.MarkerSeverity.Warning||f.marker.severity===g.MarkerSeverity.Info){const _=t.MarkerController.get(this._editor);_&&u.statusBar.addAction({label:o.localize(0,null),commandId:t.NextMarkerAction.ID,run:()=>{u.hide(),_.showAtMarker(f.marker),this._editor.focus()}})}if(!this._editor.getOption(91)){const _=u.statusBar.append(d("div"));this.recentMarkerCodeActionsInfo&&(g.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===g.IMarkerData.makeKey(f.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(_.textContent=o.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const E=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?S.Disposable.None:(0,y.disposableTimeout)(()=>_.textContent=o.localize(2,null),200,C);_.textContent||(_.textContent="\xA0");const I=this.getCodeActions(f.marker);C.add((0,S.toDisposable)(()=>I.cancel())),I.then(T=>{if(E.dispose(),this.recentMarkerCodeActionsInfo={marker:f.marker,hasCodeActions:T.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){T.dispose(),_.textContent=o.localize(3,null);return}_.style.display="none";let A=!1;C.add((0,S.toDisposable)(()=>{A||T.dispose()})),u.statusBar.addAction({label:o.localize(4,null),commandId:a.quickFixCommandId,run:R=>{A=!0;const M=n.CodeActionController.get(this._editor),N=L.getDomNodePagePosition(R);u.hide(),M?.showCodeActions(l,T,{x:N.left,y:N.top,width:N.width,height:N.height})}})},D.onUnexpectedError)}}getCodeActions(u){return(0,y.createCancelablePromise)(f=>(0,a.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new w.Range(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn),l,c.Progress.None,f))}};e.MarkerHoverParticipant=r,e.MarkerHoverParticipant=r=De([he(1,b.IMarkerDecorationsService),he(2,m.IOpenerService),he(3,v.ILanguageFeaturesService)],r)}),define(ne[392],se([1,0,66,2,16,5,21,43,391,386,806,8,57,31,24,93,258,928,263,34,15,697,472]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.HoverController=void 0;const h=!1;let u=r=class extends k.Disposable{constructor(O,B,W,V,z){super(),this._editor=O,this._instantiationService=B,this._openerService=W,this._languageService=V,this._keybindingService=z,this._listenersStore=new k.DisposableStore,this._hoverState={mouseDown:!1,contentHoverFocused:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new s.RunOnceScheduler(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(K=>{K.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get(O){return O.getContribution(r.ID)}_hookListeners(){const O=this._editor.getOption(60);this._hoverSettings={enabled:O.enabled,sticky:O.sticky,hidingDelay:O.delay},O.enabled?(this._listenersStore.add(this._editor.onMouseDown(B=>this._onEditorMouseDown(B))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(B=>this._onEditorMouseMove(B))),this._listenersStore.add(this._editor.onKeyDown(B=>this._onKeyDown(B)))):(this._listenersStore.add(this._editor.onMouseMove(B=>this._onEditorMouseMove(B))),this._listenersStore.add(this._editor.onKeyDown(B=>this._onKeyDown(B)))),this._listenersStore.add(this._editor.onMouseLeave(B=>this._onEditorMouseLeave(B))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(B=>this._onEditorScrollChanged(B)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(O){(O.scrollTopChanged||O.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(O){var B;this._hoverState.mouseDown=!0;const W=O.target;if(W.type===9&&W.detail===v.ContentHoverWidget.ID){this._hoverState.contentHoverFocused=!0;return}W.type===12&&W.detail===b.MarginHoverWidget.ID||(W.type!==12&&(this._hoverState.contentHoverFocused=!1),!(!((B=this._contentWidget)===null||B===void 0)&&B.widget.isResizing)&&this._hideWidgets())}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(O){var B,W;this._cancelScheduler();const V=O.event.browserEvent.relatedTarget;!((B=this._contentWidget)===null||B===void 0)&&B.widget.isResizing||!((W=this._contentWidget)===null||W===void 0)&&W.containsNode(V)||h||this._hideWidgets()}_isMouseOverWidget(O){var B,W,V,z,K;const j=O.target,x=this._hoverSettings.sticky;return!!(x&&j.type===9&&j.detail===v.ContentHoverWidget.ID||x&&(!((B=this._contentWidget)===null||B===void 0)&&B.containsNode((W=O.event.browserEvent.view)===null||W===void 0?void 0:W.document.activeElement))&&!(!((z=(V=O.event.browserEvent.view)===null||V===void 0?void 0:V.getSelection())===null||z===void 0)&&z.isCollapsed)||!x&&j.type===9&&j.detail===v.ContentHoverWidget.ID&&(!((K=this._contentWidget)===null||K===void 0)&&K.isColorPickerVisible)||x&&j.type===12&&j.detail===b.MarginHoverWidget.ID)}_onEditorMouseMove(O){var B,W,V,z;if(this._mouseMoveEvent=O,!((B=this._contentWidget)===null||B===void 0)&&B.isFocused||!((W=this._contentWidget)===null||W===void 0)&&W.isResizing||this._hoverState.mouseDown&&this._hoverState.contentHoverFocused)return;const K=this._hoverSettings.sticky;if(K&&(!((V=this._contentWidget)===null||V===void 0)&&V.isVisibleFromKeyboard))return;if(this._isMouseOverWidget(O)){this._reactToEditorMouseMoveRunner.cancel();return}const x=this._hoverSettings.hidingDelay;if(!((z=this._contentWidget)===null||z===void 0)&&z.isVisible&&K&&x>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(x);return}this._reactToEditorMouseMove(O)}_reactToEditorMouseMove(O){var B,W,V,z;if(!O)return;const K=O.target,j=(B=K.element)===null||B===void 0?void 0:B.classList.contains("colorpicker-color-decoration"),x=this._editor.getOption(147),re=this._hoverSettings.enabled,ie=this._hoverState.activatedByDecoratorClick;if(j&&(x==="click"&&!ie||x==="hover"&&!re&&!h||x==="clickAndHover"&&!re&&!ie)||!j&&!re&&!ie){this._hideWidgets();return}if(this._getOrCreateContentWidget().showsOrWillShow(O)){(W=this._glyphWidget)===null||W===void 0||W.hide();return}if(K.type===2&&K.position&&K.detail.glyphMarginLane){(V=this._contentWidget)===null||V===void 0||V.hide(),this._getOrCreateGlyphWidget().startShowingAt(K.position.lineNumber,K.detail.glyphMarginLane);return}if(K.type===3&&K.position){(z=this._contentWidget)===null||z===void 0||z.hide(),this._getOrCreateGlyphWidget().startShowingAt(K.position.lineNumber,"lineNo");return}h||this._hideWidgets()}_onKeyDown(O){var B;if(!this._editor.hasModel())return;const W=this._keybindingService.softDispatch(O,this._editor.getDomNode()),V=W.kind===1||W.kind===2&&W.commandId==="editor.action.showHover"&&((B=this._contentWidget)===null||B===void 0?void 0:B.isVisible);O.keyCode===5||O.keyCode===6||O.keyCode===57||O.keyCode===4||V||this._hideWidgets()}_hideWidgets(){var O,B,W;h||this._hoverState.mouseDown&&this._hoverState.contentHoverFocused&&(!((O=this._contentWidget)===null||O===void 0)&&O.isColorPickerVisible)||c.InlineSuggestionHintsContentWidget.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,this._hoverState.contentHoverFocused=!1,(B=this._glyphWidget)===null||B===void 0||B.hide(),(W=this._contentWidget)===null||W===void 0||W.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(v.ContentHoverController,this._editor)),this._contentWidget}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=new b.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget}showContentHover(O,B,W,V,z=!1){this._hoverState.activatedByDecoratorClick=z,this._getOrCreateContentWidget().startShowingAtRange(O,B,W,V)}focus(){var O;(O=this._contentWidget)===null||O===void 0||O.focus()}scrollUp(){var O;(O=this._contentWidget)===null||O===void 0||O.scrollUp()}scrollDown(){var O;(O=this._contentWidget)===null||O===void 0||O.scrollDown()}scrollLeft(){var O;(O=this._contentWidget)===null||O===void 0||O.scrollLeft()}scrollRight(){var O;(O=this._contentWidget)===null||O===void 0||O.scrollRight()}pageUp(){var O;(O=this._contentWidget)===null||O===void 0||O.pageUp()}pageDown(){var O;(O=this._contentWidget)===null||O===void 0||O.pageDown()}goToTop(){var O;(O=this._contentWidget)===null||O===void 0||O.goToTop()}goToBottom(){var O;(O=this._contentWidget)===null||O===void 0||O.goToBottom()}get isColorPickerVisible(){var O;return(O=this._contentWidget)===null||O===void 0?void 0:O.isColorPickerVisible}get isHoverVisible(){var O;return(O=this._contentWidget)===null||O===void 0?void 0:O.isVisible}dispose(){var O,B;super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),(O=this._glyphWidget)===null||O===void 0||O.dispose(),(B=this._contentWidget)===null||B===void 0||B.dispose()}};e.HoverController=u,u.ID="editor.contrib.hover",e.HoverController=u=r=De([he(1,a.IInstantiationService),he(2,n.IOpenerService),he(3,p.ILanguageService),he(4,d.IKeybindingService)],u);var f;(function(F){F.NoAutoFocus="noAutoFocus",F.FocusIfVisible="focusIfVisible",F.AutoFocusImmediately="autoFocusImmediately"})(f||(f={}));class C extends y.EditorAction{constructor(){super({id:"editor.action.showHover",label:l.localize(0,null),metadata:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[f.NoAutoFocus,f.FocusIfVisible,f.AutoFocusImmediately],enumDescriptions:[l.localize(1,null),l.localize(2,null),l.localize(3,null)],default:f.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:S.EditorContextKeys.editorTextFocus,primary:(0,L.KeyChord)(2089,2087),weight:100}})}run(O,B,W){if(!B.hasModel())return;const V=u.get(B);if(!V)return;const z=W?.focus;let K=f.FocusIfVisible;Object.values(f).includes(z)?K=z:typeof z=="boolean"&&z&&(K=f.AutoFocusImmediately);const j=re=>{const ie=B.getPosition(),J=new D.Range(ie.lineNumber,ie.column,ie.lineNumber,ie.column);V.showContentHover(J,1,1,re)},x=B.getOption(2)===2;V.isHoverVisible?K!==f.NoAutoFocus?V.focus():j(x):j(x||K===f.AutoFocusImmediately)}}class _ extends y.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:l.localize(4,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(O,B){const W=u.get(B);if(!W)return;const V=B.getPosition();if(!V)return;const z=new D.Range(V.lineNumber,V.column,V.lineNumber,V.column),K=w.GotoDefinitionAtPositionEditorContribution.get(B);if(!K)return;K.startFindDefinitionFromCursor(V).then(()=>{W.showContentHover(z,1,1,!0)})}}class E extends y.EditorAction{constructor(){super({id:"editor.action.scrollUpHover",label:l.localize(5,null),alias:"Scroll Up Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:16,weight:100}})}run(O,B){const W=u.get(B);W&&W.scrollUp()}}class I extends y.EditorAction{constructor(){super({id:"editor.action.scrollDownHover",label:l.localize(6,null),alias:"Scroll Down Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:18,weight:100}})}run(O,B){const W=u.get(B);W&&W.scrollDown()}}class T extends y.EditorAction{constructor(){super({id:"editor.action.scrollLeftHover",label:l.localize(7,null),alias:"Scroll Left Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:15,weight:100}})}run(O,B){const W=u.get(B);W&&W.scrollLeft()}}class A extends y.EditorAction{constructor(){super({id:"editor.action.scrollRightHover",label:l.localize(8,null),alias:"Scroll Right Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:17,weight:100}})}run(O,B){const W=u.get(B);W&&W.scrollRight()}}class R extends y.EditorAction{constructor(){super({id:"editor.action.pageUpHover",label:l.localize(9,null),alias:"Page Up Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:11,secondary:[528],weight:100}})}run(O,B){const W=u.get(B);W&&W.pageUp()}}class M extends y.EditorAction{constructor(){super({id:"editor.action.pageDownHover",label:l.localize(10,null),alias:"Page Down Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:12,secondary:[530],weight:100}})}run(O,B){const W=u.get(B);W&&W.pageDown()}}class N extends y.EditorAction{constructor(){super({id:"editor.action.goToTopHover",label:l.localize(11,null),alias:"Go To Bottom Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(O,B){const W=u.get(B);W&&W.goToTop()}}class P extends y.EditorAction{constructor(){super({id:"editor.action.goToBottomHover",label:l.localize(12,null),alias:"Go To Bottom Hover",precondition:S.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:S.EditorContextKeys.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(O,B){const W=u.get(B);W&&W.goToBottom()}}(0,y.registerEditorContribution)(u.ID,u,2),(0,y.registerEditorAction)(C),(0,y.registerEditorAction)(_),(0,y.registerEditorAction)(E),(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(T),(0,y.registerEditorAction)(A),(0,y.registerEditorAction)(R),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(N),(0,y.registerEditorAction)(P),o.HoverParticipantRegistry.register(g.MarkdownHoverParticipant),o.HoverParticipantRegistry.register(m.MarkerHoverParticipant),(0,t.registerThemingParticipant)((F,O)=>{const B=F.getColor(i.editorHoverBorder);B&&(O.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${B.transparent(.5)}; }`),O.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${B.transparent(.5)}; }`),O.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${B.transparent(.5)}; }`))})}),define(ne[929],se([1,0,2,16,5,382,383,392,93]),function(ee,e,L,k,y,D,S,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class v extends L.Disposable{constructor(a){super(),this._editor=a,this._register(a.onMouseDown(n=>this.onMouseDown(n)))}dispose(){super.dispose()}onMouseDown(a){const n=this._editor.getOption(147);if(n!=="click"&&n!=="clickAndHover")return;const i=a.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==D.ColorDecorationInjectedTextMarker||!i.range)return;const t=this._editor.getContribution(p.HoverController.ID);if(t&&!t.isColorPickerVisible){const o=new y.Range(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);t.showContentHover(o,1,0,!1,!0)}}}e.ColorContribution=v,v.ID="editor.contrib.colorContribution",(0,k.registerEditorContribution)(v.ID,v,2),w.HoverParticipantRegistry.register(S.ColorHoverParticipant)}),define(ne[393],se([1,0,6,42,19,178,5,70,270,147,28,25,14,56,8,49]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;async function g(c,d,s,l){var r;const h=c.get(p.ITextModelService),u=c.get(i.IContextMenuService),f=c.get(a.ICommandService),C=c.get(t.IInstantiationService),_=c.get(o.INotificationService);if(await l.item.resolve(y.CancellationToken.None),!l.part.location)return;const E=l.part.location,I=[],T=new Set(b.MenuRegistry.getMenuItems(b.MenuId.EditorContext).map(R=>(0,b.isIMenuItem)(R)?R.command.id:(0,D.generateUuid)()));for(const R of w.SymbolNavigationAction.all())T.has(R.desc.id)&&I.push(new k.Action(R.desc.id,b.MenuItemAction.label(R.desc,{renderShortTitle:!0}),void 0,!0,async()=>{const M=await h.createModelReference(E.uri);try{const N=new w.SymbolNavigationAnchor(M.object.textEditorModel,S.Range.getStartPosition(E.range)),P=l.item.anchor.range;await C.invokeFunction(R.runEditorCommand.bind(R),d,N,P)}finally{M.dispose()}}));if(l.part.command){const{command:R}=l.part;I.push(new k.Separator),I.push(new k.Action(R.id,R.title,void 0,!0,async()=>{var M;try{await f.executeCommand(R.id,...(M=R.arguments)!==null&&M!==void 0?M:[])}catch(N){_.notify({severity:o.Severity.Error,source:l.item.provider.displayName,message:N})}}))}const A=d.getOption(127);u.showContextMenu({domForShadowRoot:A&&(r=d.getDomNode())!==null&&r!==void 0?r:void 0,getAnchor:()=>{const R=L.getDomNodePagePosition(s);return{x:R.left,y:R.top+R.height+8}},getActions:()=>I,onHide:()=>{d.focus()},autoSelectFirstItem:!0})}e.showGoToContextMenu=g;async function m(c,d,s,l){const h=await c.get(p.ITextModelService).createModelReference(l.uri);await s.invokeWithinContext(async u=>{const f=d.hasSideBySideModifier,C=u.get(n.IContextKeyService),_=v.PeekContext.inPeekEditor.getValue(C),E=!f&&s.getOption(88)&&!_;return new w.DefinitionAction({openToSide:f,openInPeek:E,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(u,new w.SymbolNavigationAnchor(h.object.textEditorModel,S.Range.getStartPosition(l.range)),S.Range.lift(l.range))}),h.dispose()}e.goToDefinitionWithLocation=m}),define(ne[394],se([1,0,6,13,15,19,12,2,53,20,22,169,131,36,68,5,30,40,38,80,18,70,193,339,393,25,45,8,49,31,24]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_,E,I,T){"use strict";var A;Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class R{constructor(){this._entries=new w.LRUCache(50)}get(W){const V=R._key(W);return this._entries.get(V)}set(W,V){const z=R._key(W);this._entries.set(z,V)}static _key(W){return`${W.uri.toString()}/${W.getVersionId()}`}}const M=(0,_.createDecorator)("IInlayHintsCache");(0,C.registerSingleton)(M,R,1);class N{constructor(W,V){this.item=W,this.index=V}get part(){const W=this.item.hint.label;return typeof W=="string"?{label:W}:W[this.index]}}e.RenderedInlayHintLabelPart=N;class P{constructor(W,V){this.part=W,this.hasTriggerModifier=V}}let F=A=class{static get(W){var V;return(V=W.getContribution(A.ID))!==null&&V!==void 0?V:void 0}constructor(W,V,z,K,j,x,re){this._editor=W,this._languageFeaturesService=V,this._inlayHintsCache=K,this._commandService=j,this._notificationService=x,this._instaService=re,this._disposables=new p.DisposableStore,this._sessionDisposables=new p.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new a.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=z.for(V.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(V.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(W.onDidChangeModel(()=>this._update())),this._disposables.add(W.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(W.onDidChangeConfiguration(ie=>{ie.hasChanged(140)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const W=this._editor.getOption(140);if(W.enabled==="off")return;const V=this._editor.getModel();if(!V||!this._languageFeaturesService.inlayHintsProvider.has(V))return;if(W.enabled==="on")this._activeRenderMode=0;else{let re,ie;W.enabled==="onUnlessPressed"?(re=0,ie=1):(re=1,ie=0),this._activeRenderMode=re,this._sessionDisposables.add(L.ModifierKeyEmitter.getInstance().event(J=>{if(!this._editor.hasModel())return;const X=J.altKey&&J.ctrlKey&&!(J.shiftKey||J.metaKey)?ie:re;if(X!==this._activeRenderMode){this._activeRenderMode=X;const Y=this._editor.getModel(),le=this._copyInlayHintsWithCurrentAnchor(Y);this._updateHintsDecorators([Y.getFullModelRange()],le),x.schedule(0)}}))}const z=this._inlayHintsCache.get(V);z&&this._updateHintsDecorators([V.getFullModelRange()],z),this._sessionDisposables.add((0,p.toDisposable)(()=>{V.isDisposed()||this._cacheHintsForFastRestore(V)}));let K;const j=new Set,x=new y.RunOnceScheduler(async()=>{const re=Date.now();K?.dispose(!0),K=new D.CancellationTokenSource;const ie=V.onWillDispose(()=>K?.cancel());try{const J=K.token,X=await h.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,V,this._getHintsRanges(),J);if(x.delay=this._debounceInfo.update(V,Date.now()-re),J.isCancellationRequested){X.dispose();return}for(const Y of X.provider)typeof Y.onDidChangeInlayHints=="function"&&!j.has(Y)&&(j.add(Y),this._sessionDisposables.add(Y.onDidChangeInlayHints(()=>{x.isScheduled()||x.schedule()})));this._sessionDisposables.add(X),this._updateHintsDecorators(X.ranges,X.items),this._cacheHintsForFastRestore(V)}catch(J){(0,S.onUnexpectedError)(J)}finally{K.dispose(),ie.dispose()}},this._debounceInfo.get(V));this._sessionDisposables.add(x),this._sessionDisposables.add((0,p.toDisposable)(()=>K?.dispose(!0))),x.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(re=>{(re.scrollTopChanged||!x.isScheduled())&&x.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(re=>{K?.cancel();const ie=Math.max(x.delay,1250);x.schedule(ie)})),this._sessionDisposables.add(this._installDblClickGesture(()=>x.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const W=new p.DisposableStore,V=W.add(new r.ClickLinkGesture(this._editor)),z=new p.DisposableStore;return W.add(z),W.add(V.onMouseMoveOrRelevantKeyDown(K=>{const[j]=K,x=this._getInlayHintLabelPart(j),re=this._editor.getModel();if(!x||!re){z.clear();return}const ie=new D.CancellationTokenSource;z.add((0,p.toDisposable)(()=>ie.dispose(!0))),x.item.resolve(ie.token),this._activeInlayHintPart=x.part.command||x.part.location?new P(x,j.hasTriggerModifier):void 0;const J=re.validatePosition(x.item.hint.position).lineNumber,X=new o.Range(J,1,J,re.getLineMaxColumn(J)),Y=this._getInlineHintsForRange(X);this._updateHintsDecorators([X],Y),z.add((0,p.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([X],Y)}))})),W.add(V.onCancel(()=>z.clear())),W.add(V.onExecute(async K=>{const j=this._getInlayHintLabelPart(K);if(j){const x=j.part;x.location?this._instaService.invokeFunction(u.goToDefinitionWithLocation,K,this._editor,x.location):g.Command.is(x.command)&&await this._invokeCommand(x.command,j.item)}})),W}_getInlineHintsForRange(W){const V=new Set;for(const z of this._decorationsMetadata.values())W.containsRange(z.item.anchor.range)&&V.add(z.item);return Array.from(V)}_installDblClickGesture(W){return this._editor.onMouseUp(async V=>{if(V.event.detail!==2)return;const z=this._getInlayHintLabelPart(V);if(z&&(V.event.preventDefault(),await z.item.resolve(D.CancellationToken.None),(0,k.isNonEmptyArray)(z.item.hint.textEdits))){const K=z.item.hint.textEdits.map(j=>t.EditOperation.replace(o.Range.lift(j.range),j.text));this._editor.executeEdits("inlayHint.default",K),W()}})}_installContextMenu(){return this._editor.onContextMenu(async W=>{if(!(W.event.target instanceof HTMLElement))return;const V=this._getInlayHintLabelPart(W);V&&await this._instaService.invokeFunction(u.showGoToContextMenu,this._editor,W.event.target,V)})}_getInlayHintLabelPart(W){var V;if(W.target.type!==6)return;const z=(V=W.target.detail.injectedText)===null||V===void 0?void 0:V.options;if(z instanceof c.ModelDecorationInjectedTextOptions&&z?.attachedData instanceof N)return z.attachedData}async _invokeCommand(W,V){var z;try{await this._commandService.executeCommand(W.id,...(z=W.arguments)!==null&&z!==void 0?z:[])}catch(K){this._notificationService.notify({severity:E.Severity.Error,source:V.provider.displayName,message:K})}}_cacheHintsForFastRestore(W){const V=this._copyInlayHintsWithCurrentAnchor(W);this._inlayHintsCache.set(W,V)}_copyInlayHintsWithCurrentAnchor(W){const V=new Map;for(const[z,K]of this._decorationsMetadata){if(V.has(K.item))continue;const j=W.getDecorationRange(z);if(j){const x=new h.InlayHintAnchor(j,K.item.anchor.direction),re=K.item.with({anchor:x});V.set(K.item,re)}}return Array.from(V.values())}_getHintsRanges(){const V=this._editor.getModel(),z=this._editor.getVisibleRangesPlusViewportAboveBelow(),K=[];for(const j of z.sort(o.Range.compareRangesUsingStarts)){const x=V.validateRange(new o.Range(j.startLineNumber-30,j.startColumn,j.endLineNumber+30,j.endColumn));K.length===0||!o.Range.areIntersectingOrTouching(K[K.length-1],x)?K.push(x):K[K.length-1]=o.Range.plusRange(K[K.length-1],x)}return K}_updateHintsDecorators(W,V){var z,K;const j=[],x=(Q,U,Z,H,q)=>{const te={content:Z,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:U.className,cursorStops:H,attachedData:q};j.push({item:Q,classNameRef:U,decoration:{range:Q.anchor.range,options:{description:"InlayHint",showIfCollapsed:Q.anchor.range.isEmpty(),collapseOnReplaceEdit:!Q.anchor.range.isEmpty(),stickiness:0,[Q.anchor.direction]:this._activeRenderMode===0?te:void 0}}})},re=(Q,U)=>{const Z=this._ruleFactory.createClassNameRef({width:`${ie/3|0}px`,display:"inline-block"});x(Q,Z,"\u200A",U?m.InjectedTextCursorStops.Right:m.InjectedTextCursorStops.None)},{fontSize:ie,fontFamily:J,padding:X,isUniform:Y}=this._getLayoutInfo(),le="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(le,J);let de={line:0,totalLen:0};for(const Q of V){if(de.line!==Q.anchor.range.startLineNumber&&(de={line:Q.anchor.range.startLineNumber,totalLen:0}),de.totalLen>A._MAX_LABEL_LEN)continue;Q.hint.paddingLeft&&re(Q,!1);const U=typeof Q.hint.label=="string"?[{label:Q.hint.label}]:Q.hint.label;for(let Z=0;Z<U.length;Z++){const H=U[Z],q=Z===0,te=Z===U.length-1,G={fontSize:`${ie}px`,fontFamily:`var(${le}), ${i.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:Y?"baseline":"middle",unicodeBidi:"isolate"};(0,k.isNonEmptyArray)(Q.hint.textEdits)&&(G.cursor="default"),this._fillInColors(G,Q.hint),(H.command||H.location)&&((z=this._activeInlayHintPart)===null||z===void 0?void 0:z.part.item)===Q&&this._activeInlayHintPart.part.index===Z&&(G.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(G.color=(0,T.themeColorFromId)(I.editorActiveLinkForeground),G.cursor="pointer")),X&&(q&&te?(G.padding=`1px ${Math.max(1,ie/4)|0}px`,G.borderRadius=`${ie/4|0}px`):q?(G.padding=`1px 0 1px ${Math.max(1,ie/4)|0}px`,G.borderRadius=`${ie/4|0}px 0 0 ${ie/4|0}px`):te?(G.padding=`1px ${Math.max(1,ie/4)|0}px 1px 0`,G.borderRadius=`0 ${ie/4|0}px ${ie/4|0}px 0`):G.padding="1px 0 1px 0");let $=H.label;de.totalLen+=$.length;let oe=!1;const ae=de.totalLen-A._MAX_LABEL_LEN;if(ae>0&&($=$.slice(0,-ae)+"\u2026",oe=!0),x(Q,this._ruleFactory.createClassNameRef(G),O($),te&&!Q.hint.paddingRight?m.InjectedTextCursorStops.Right:m.InjectedTextCursorStops.None,new N(Q,Z)),oe)break}if(Q.hint.paddingRight&&re(Q,!0),j.length>A._MAX_DECORATORS)break}const ge=[];for(const[Q,U]of this._decorationsMetadata){const Z=(K=this._editor.getModel())===null||K===void 0?void 0:K.getDecorationRange(Q);Z&&W.some(H=>H.containsRange(Z))&&(ge.push(Q),U.classNameRef.dispose(),this._decorationsMetadata.delete(Q))}const pe=n.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(Q=>{const U=Q.deltaDecorations(ge,j.map(Z=>Z.decoration));for(let Z=0;Z<U.length;Z++){const H=j[Z];this._decorationsMetadata.set(U[Z],H)}}),pe.restore(this._editor)}_fillInColors(W,V){V.kind===g.InlayHintKind.Parameter?(W.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintParameterBackground),W.color=(0,T.themeColorFromId)(I.editorInlayHintParameterForeground)):V.kind===g.InlayHintKind.Type?(W.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintTypeBackground),W.color=(0,T.themeColorFromId)(I.editorInlayHintTypeForeground)):(W.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintBackground),W.color=(0,T.themeColorFromId)(I.editorInlayHintForeground))}_getLayoutInfo(){const W=this._editor.getOption(140),V=W.padding,z=this._editor.getOption(52),K=this._editor.getOption(49);let j=W.fontSize;(!j||j<5||j>z)&&(j=z);const x=W.fontFamily||K;return{fontSize:j,fontFamily:x,padding:V,isUniform:!V&&x===K&&j===z}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const W of this._decorationsMetadata.values())W.classNameRef.dispose();this._decorationsMetadata.clear()}};e.InlayHintsController=F,F.ID="editor.contrib.InlayHints",F._MAX_DECORATORS=1500,F._MAX_LABEL_LEN=43,e.InlayHintsController=F=A=De([he(1,s.ILanguageFeaturesService),he(2,d.ILanguageFeatureDebounceService),he(3,M),he(4,f.ICommandService),he(5,E.INotificationService),he(6,_.IInstantiationService)],F);function O(B){return B.replace(/[ \t]/g,"\xA0")}f.CommandsRegistry.registerCommand("_executeInlayHintProvider",async(B,...W)=>{const[V,z]=W;(0,v.assertType)(b.URI.isUri(V)),(0,v.assertType)(o.Range.isIRange(z));const{inlayHintsProvider:K}=B.get(s.ILanguageFeaturesService),j=await B.get(l.ITextModelService).createModelReference(V);try{const x=await h.InlayHintsFragments.create(K,j.object.textEditorModel,[o.Range.lift(z)],D.CancellationToken.None),re=x.items.map(ie=>ie.hint);return setTimeout(()=>x.dispose(),0),re}finally{j.dispose()}})}),define(ne[930],se([1,0,15,58,9,38,93,43,70,370,258,394,26,57,18,702,17,339,13]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class d extends S.HoverForeignElementAnchor{constructor(r,h,u,f){super(10,h,r.item.anchor.range,u,f,!0),this.part=r}}let s=class extends b.MarkdownHoverParticipant{constructor(r,h,u,f,C,_){super(r,h,u,f,_),this._resolverService=C,this.hoverOrdinal=6}suggestHoverAnchor(r){var h;if(!a.InlayHintsController.get(this._editor)||r.target.type!==6)return null;const f=(h=r.target.detail.injectedText)===null||h===void 0?void 0:h.options;return f instanceof D.ModelDecorationInjectedTextOptions&&f.attachedData instanceof a.RenderedInlayHintLabelPart?new d(f.attachedData,this,r.event.posx,r.event.posy):null}computeSync(){return[]}computeAsync(r,h,u){return r instanceof d?new L.AsyncIterableObject(async f=>{const{part:C}=r;if(await C.item.resolve(u),u.isCancellationRequested)return;let _;typeof C.item.hint.tooltip=="string"?_=new k.MarkdownString().appendText(C.item.hint.tooltip):C.item.hint.tooltip&&(_=C.item.hint.tooltip),_&&f.emitOne(new b.MarkdownHover(this,r.range,[_],!1,0)),(0,c.isNonEmptyArray)(C.item.hint.textEdits)&&f.emitOne(new b.MarkdownHover(this,r.range,[new k.MarkdownString().appendText((0,o.localize)(0,null))],!1,10001));let E;if(typeof C.part.tooltip=="string"?E=new k.MarkdownString().appendText(C.part.tooltip):C.part.tooltip&&(E=C.part.tooltip),E&&f.emitOne(new b.MarkdownHover(this,r.range,[E],!1,1)),C.part.location||C.part.command){let T;const R=this._editor.getOption(78)==="altKey"?g.isMacintosh?(0,o.localize)(1,null):(0,o.localize)(2,null):g.isMacintosh?(0,o.localize)(3,null):(0,o.localize)(4,null);C.part.location&&C.part.command?T=new k.MarkdownString().appendText((0,o.localize)(5,null,R)):C.part.location?T=new k.MarkdownString().appendText((0,o.localize)(6,null,R)):C.part.command&&(T=new k.MarkdownString(`[${(0,o.localize)(7,null)}](${(0,m.asCommandLink)(C.part.command)} "${C.part.command.title}") (${R})`,{isTrusted:!0})),T&&f.emitOne(new b.MarkdownHover(this,r.range,[T],!1,1e4))}const I=await this._resolveInlayHintLabelPartHover(C,u);for await(const T of I)f.emitOne(T)}):L.AsyncIterableObject.EMPTY}async _resolveInlayHintLabelPartHover(r,h){if(!r.part.location)return L.AsyncIterableObject.EMPTY;const{uri:u,range:f}=r.part.location,C=await this._resolverService.createModelReference(u);try{const _=C.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(_)?(0,v.getHover)(this._languageFeaturesService.hoverProvider,_,new y.Position(f.startLineNumber,f.startColumn),h).filter(E=>!(0,k.isEmptyMarkdownString)(E.hover.contents)).map(E=>new b.MarkdownHover(this,r.item.anchor.range,E.hover.contents,!1,2+E.ordinal)):L.AsyncIterableObject.EMPTY}finally{C.dispose()}}};e.InlayHintsHover=s,e.InlayHintsHover=s=De([he(1,p.ILanguageService),he(2,i.IOpenerService),he(3,n.IConfigurationService),he(4,w.ITextModelService),he(5,t.ILanguageFeaturesService)],s)}),define(ne[931],se([1,0,16,93,394,930]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.InlayHintsController.ID,y.InlayHintsController,1),k.HoverParticipantRegistry.register(D.InlayHintsHover)}),define(ne[395],se([1,0,2,18,921,920,8,56,28,14,21,193,5,257,393,9,19,33,80,6,317,69,268,310]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let f=u=class extends L.Disposable{constructor(_,E,I,T,A,R,M){super(),this._editor=_,this._contextMenuService=E,this._languageFeaturesService=I,this._instaService=T,this._contextKeyService=M,this._sessionStore=new L.DisposableStore,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new y.StickyScrollWidget(this._editor),this._stickyLineCandidateProvider=new D.StickyLineCandidateProvider(this._editor,I,A),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new y.StickyScrollWidgetState([],[],0),this._onDidResize(),this._readConfiguration();const N=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(F=>{(F.hasChanged(115)||F.hasChanged(73)||F.hasChanged(67)||F.hasChanged(110))&&this._readConfiguration()})),this._register(d.addDisposableListener(N,d.EventType.CONTEXT_MENU,async F=>{this._onContextMenu(d.getWindow(N),F)})),this._stickyScrollFocusedContextKey=b.EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=b.EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);const P=this._register(d.trackFocus(N));this._register(P.onDidBlur(F=>{this._positionRevealed===!1&&N.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(P.onDidFocus(F=>{this.focus()})),this._registerMouseListeners(),this._register(d.addDisposableListener(N,d.EventType.MOUSE_DOWN,F=>{this._onMouseDown=!0}))}static get(_){return _.getContribution(u.ID)}_disposeFocusStickyScrollStore(){var _;this._stickyScrollFocusedContextKey.set(!1),(_=this._focusDisposableStore)===null||_===void 0||_.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new L.DisposableStore,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(_){this._focusedStickyElementIndex=_?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const _=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:_[this._focusedStickyElementIndex],column:1})}_revealPosition(_){this._reveaInEditor(_,()=>this._editor.revealPosition(_))}_revealLineInCenterIfOutsideViewport(_){this._reveaInEditor(_,()=>this._editor.revealLineInCenterIfOutsideViewport(_.lineNumber,0))}_reveaInEditor(_,E){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,E(),this._editor.setSelection(n.Range.fromPositions(_)),this._editor.focus()}_registerMouseListeners(){const _=this._register(new L.DisposableStore),E=this._register(new a.ClickLinkGesture(this._editor,{extractLineNumberFromMouseEvent:A=>{const R=this._stickyScrollWidget.getEditorPositionFromNode(A.target.element);return R?R.lineNumber:0}})),I=A=>{if(!this._editor.hasModel()||A.target.type!==12||A.target.detail!==this._stickyScrollWidget.getId())return null;const R=A.target.element;if(!R||R.innerText!==R.innerHTML)return null;const M=this._stickyScrollWidget.getEditorPositionFromNode(R);return M?{range:new n.Range(M.lineNumber,M.column,M.lineNumber,M.column+R.innerText.length),textElement:R}:null},T=this._stickyScrollWidget.getDomNode();this._register(d.addStandardDisposableListener(T,d.EventType.CLICK,A=>{if(A.ctrlKey||A.altKey||A.metaKey||!A.leftButton)return;if(A.shiftKey){const P=this._stickyScrollWidget.getLineIndexFromChildDomNode(A.target);if(P===null)return;const F=new o.Position(this._endLineNumbers[P],1);this._revealLineInCenterIfOutsideViewport(F);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(A.target)){const P=this._stickyScrollWidget.getLineNumberFromChildDomNode(A.target);this._toggleFoldingRegionForLine(P);return}if(!this._stickyScrollWidget.isInStickyLine(A.target))return;let N=this._stickyScrollWidget.getEditorPositionFromNode(A.target);if(!N){const P=this._stickyScrollWidget.getLineNumberFromChildDomNode(A.target);if(P===null)return;N=new o.Position(P,1)}this._revealPosition(N)})),this._register(d.addStandardDisposableListener(T,d.EventType.MOUSE_MOVE,A=>{if(A.shiftKey){const R=this._stickyScrollWidget.getLineIndexFromChildDomNode(A.target);if(R===null||this._showEndForLine!==null&&this._showEndForLine===R)return;this._showEndForLine=R,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(d.addDisposableListener(T,d.EventType.MOUSE_LEAVE,A=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(E.onMouseMoveOrRelevantKeyDown(([A,R])=>{const M=I(A);if(!M||!A.hasTriggerModifier||!this._editor.hasModel()){_.clear();return}const{range:N,textElement:P}=M;if(!N.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=N,_.clear();else if(P.style.textDecoration==="underline")return;const F=new g.CancellationTokenSource;_.add((0,L.toDisposable)(()=>F.dispose(!0)));let O;(0,i.getDefinitionsAtPosition)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new o.Position(N.startLineNumber,N.startColumn+1),F.token).then(B=>{if(!F.token.isCancellationRequested)if(B.length!==0){this._candidateDefinitionsLength=B.length;const W=P;O!==W?(_.clear(),O=W,O.style.textDecoration="underline",_.add((0,L.toDisposable)(()=>{O.style.textDecoration="none"}))):O||(O=W,O.style.textDecoration="underline",_.add((0,L.toDisposable)(()=>{O.style.textDecoration="none"})))}else _.clear()})})),this._register(E.onCancel(()=>{_.clear()})),this._register(E.onExecute(async A=>{if(A.target.type!==12||A.target.detail!==this._stickyScrollWidget.getId())return;const R=this._stickyScrollWidget.getEditorPositionFromNode(A.target.element);R&&(!this._editor.hasModel()||!this._stickyRangeProjectedOnEditor||(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:R.lineNumber,column:1})),this._instaService.invokeFunction(t.goToDefinitionWithLocation,A,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})))}))}_onContextMenu(_,E){const I=new l.StandardMouseEvent(_,E);this._contextMenuService.showContextMenu({menuId:w.MenuId.StickyScrollContext,getAnchor:()=>I})}_toggleFoldingRegionForLine(_){if(!this._foldingModel||_===null)return;const E=this._stickyScrollWidget.getRenderedStickyLine(_),I=E?.foldingIcon;if(!I)return;(0,h.toggleCollapseState)(this._foldingModel,Number.MAX_VALUE,[_]),I.isCollapsed=!I.isCollapsed;const T=(I.isCollapsed?this._editor.getTopForLineNumber(I.foldingEndLine):this._editor.getTopForLineNumber(I.foldingStartLine))-this._editor.getOption(67)*E.index+1;this._editor.setScrollTop(T),this._renderStickyScroll(_)}_readConfiguration(){const _=this._editor.getOption(115);if(_.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else _.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(I=>{I.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(I=>this._onTokensChange(I))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(68).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll(0)}))}_needsUpdate(_){const E=this._stickyScrollWidget.getCurrentLines();for(const I of E)for(const T of _.ranges)if(I>=T.fromLineNumber&&I<=T.toLineNumber)return!0;return!1}_onTokensChange(_){this._needsUpdate(_)&&this._renderStickyScroll(0)}_onDidResize(){const E=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(E*.25)}async _renderStickyScroll(_){var E,I;const T=this._editor.getModel();if(!T||T.isTooLargeForTokenization()){this._foldingModel=null,this._stickyScrollWidget.setState(void 0,null);return}const A=this._stickyLineCandidateProvider.getVersionId();if(A===void 0||A===T.getVersionId())if(this._foldingModel=(I=await((E=r.FoldingController.get(this._editor))===null||E===void 0?void 0:E.getFoldingModel()))!==null&&I!==void 0?I:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,_);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,_),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const R=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,_),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(R)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}}findScrollWidgetState(){const _=this._editor.getOption(67),E=Math.min(this._maxStickyLines,this._editor.getOption(115).maxLineCount),I=this._editor.getScrollTop();let T=0;const A=[],R=[],M=this._editor.getVisibleRanges();if(M.length!==0){const N=new s.StickyRange(M[0].startLineNumber,M[M.length-1].endLineNumber),P=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(N);for(const F of P){const O=F.startLineNumber,B=F.endLineNumber,W=F.nestingDepth;if(B-O>0){const V=(W-1)*_,z=W*_,K=this._editor.getBottomForLineNumber(O)-I,j=this._editor.getTopForLineNumber(B)-I,x=this._editor.getBottomForLineNumber(B)-I;if(V>j&&V<=x){A.push(O),R.push(B+1),T=x-z;break}else z>K&&z<=x&&(A.push(O),R.push(B+1));if(A.length===E)break}}}return this._endLineNumbers=R,new y.StickyScrollWidgetState(A,R,T,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};e.StickyScrollController=f,f.ID="store.contrib.stickyScrollController",e.StickyScrollController=f=u=De([he(1,p.IContextMenuService),he(2,k.ILanguageFeaturesService),he(3,S.IInstantiationService),he(4,m.ILanguageConfigurationService),he(5,c.ILanguageFeatureDebounceService),he(6,v.IContextKeyService)],f)}),define(ne[932],se([1,0,16,725,767,28,26,14,21,395]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectEditor=e.GoToStickyScrollLine=e.SelectPreviousStickyScrollLine=e.SelectNextStickyScrollLine=e.FocusStickyScroll=e.ToggleStickyScroll=void 0;class b extends D.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{...(0,k.localize2)(4,"Toggle Editor Sticky Scroll"),mnemonicTitle:(0,k.localize)(0,null)},category:y.Categories.View,toggled:{condition:p.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,k.localize)(1,null),mnemonicTitle:(0,k.localize)(2,null)},menu:[{id:D.MenuId.CommandPalette},{id:D.MenuId.MenubarAppearanceMenu,group:"4_editor",order:3},{id:D.MenuId.StickyScrollContext}]})}async run(c){const d=c.get(S.IConfigurationService),s=!d.getValue("editor.stickyScroll.enabled");return d.updateValue("editor.stickyScroll.enabled",s)}}e.ToggleStickyScroll=b;const a=100;class n extends L.EditorAction2{constructor(){super({id:"editor.action.focusStickyScroll",title:{...(0,k.localize2)(5,"Focus Sticky Scroll"),mnemonicTitle:(0,k.localize)(3,null)},precondition:p.ContextKeyExpr.and(p.ContextKeyExpr.has("config.editor.stickyScroll.enabled"),w.EditorContextKeys.stickyScrollVisible),menu:[{id:D.MenuId.CommandPalette}]})}runEditorCommand(c,d){var s;(s=v.StickyScrollController.get(d))===null||s===void 0||s.focus()}}e.FocusStickyScroll=n;class i extends L.EditorAction2{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:(0,k.localize2)(6,"Select next sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:a,primary:18}})}runEditorCommand(c,d){var s;(s=v.StickyScrollController.get(d))===null||s===void 0||s.focusNext()}}e.SelectNextStickyScrollLine=i;class t extends L.EditorAction2{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:(0,k.localize2)(7,"Select previous sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:a,primary:16}})}runEditorCommand(c,d){var s;(s=v.StickyScrollController.get(d))===null||s===void 0||s.focusPrevious()}}e.SelectPreviousStickyScrollLine=t;class o extends L.EditorAction2{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:(0,k.localize2)(8,"Go to focused sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:a,primary:3}})}runEditorCommand(c,d){var s;(s=v.StickyScrollController.get(d))===null||s===void 0||s.goToFocused()}}e.GoToStickyScrollLine=o;class g extends L.EditorAction2{constructor(){super({id:"editor.action.selectEditor",title:(0,k.localize2)(9,"Select Editor"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:a,primary:9}})}runEditorCommand(c,d){var s;(s=v.StickyScrollController.get(d))===null||s===void 0||s.selectEditor()}}e.SelectEditor=g}),define(ne[933],se([1,0,16,932,395,28]),function(ee,e,L,k,y,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(y.StickyScrollController.ID,y.StickyScrollController,1),(0,D.registerAction2)(k.ToggleStickyScroll),(0,D.registerAction2)(k.FocusStickyScroll),(0,D.registerAction2)(k.SelectPreviousStickyScrollLine),(0,D.registerAction2)(k.SelectNextStickyScrollLine),(0,D.registerAction2)(k.GoToStickyScrollLine),(0,D.registerAction2)(k.SelectEditor)}),define(ne[934],se([1,0,16,35,390,26,14,8,49,94]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let b=class extends y.ReferencesController{constructor(n,i,t,o,g,m,c){super(!0,n,i,t,o,g,m,c)}};e.StandaloneReferencesController=b,e.StandaloneReferencesController=b=De([he(1,S.IContextKeyService),he(2,k.ICodeEditorService),he(3,w.INotificationService),he(4,p.IInstantiationService),he(5,v.IStorageService),he(6,D.IConfigurationService)],b),(0,L.registerEditorContribution)(y.ReferencesController.ID,b,4)}),define(ne[935],se([1,0,12,2,47,103,764,164,45,49,199]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const a=!1;function n(h){return h.scheme===y.Schemas.file?h.fsPath:h.path}let i=0;class t{constructor(u,f,C,_,E,I,T){this.id=++i,this.type=0,this.actual=u,this.label=u.label,this.confirmBeforeUndo=u.confirmBeforeUndo||!1,this.resourceLabel=f,this.strResource=C,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=_,this.groupOrder=E,this.sourceId=I,this.sourceOrder=T,this.isValid=!0}setValid(u){this.isValid=u}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class o{constructor(u,f){this.resourceLabel=u,this.reason=f}}class g{constructor(){this.elements=new Map}createMessage(){const u=[],f=[];for(const[,_]of this.elements)(_.reason===0?u:f).push(_.resourceLabel);const C=[];return u.length>0&&C.push(S.localize(0,null,u.join(", "))),f.length>0&&C.push(S.localize(1,null,f.join(", "))),C.join(`
`)}get size(){return this.elements.size}has(u){return this.elements.has(u)}set(u,f){this.elements.set(u,f)}delete(u){return this.elements.delete(u)}}class m{constructor(u,f,C,_,E,I,T){this.id=++i,this.type=1,this.actual=u,this.label=u.label,this.confirmBeforeUndo=u.confirmBeforeUndo||!1,this.resourceLabels=f,this.strResources=C,this.groupId=_,this.groupOrder=E,this.sourceId=I,this.sourceOrder=T,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(u,f,C){this.removedResources||(this.removedResources=new g),this.removedResources.has(f)||this.removedResources.set(f,new o(u,C))}setValid(u,f,C){C?this.invalidatedResources&&(this.invalidatedResources.delete(f),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new g),this.invalidatedResources.has(f)||this.invalidatedResources.set(f,new o(u,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class c{constructor(u,f){this.resourceLabel=u,this.strResource=f,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const u of this._past)u.type===1&&u.removeResource(this.resourceLabel,this.strResource,0);for(const u of this._future)u.type===1&&u.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const u=[];u.push(`* ${this.strResource}:`);for(let f=0;f<this._past.length;f++)u.push(`   * [UNDO] ${this._past[f]}`);for(let f=this._future.length-1;f>=0;f--)u.push(`   * [REDO] ${this._future[f]}`);return u.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(u,f){u.type===1?u.setValid(this.resourceLabel,this.strResource,f):u.setValid(f)}setElementsValidFlag(u,f){for(const C of this._past)f(C.actual)&&this._setElementValidFlag(C,u);for(const C of this._future)f(C.actual)&&this._setElementValidFlag(C,u)}pushElement(u){for(const f of this._future)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(u),this.versionId++}createSnapshot(u){const f=[];for(let C=0,_=this._past.length;C<_;C++)f.push(this._past[C].id);for(let C=this._future.length-1;C>=0;C--)f.push(this._future[C].id);return new b.ResourceEditStackSnapshot(u,f)}restoreSnapshot(u){const f=u.elements.length;let C=!0,_=0,E=-1;for(let T=0,A=this._past.length;T<A;T++,_++){const R=this._past[T];C&&(_>=f||R.id!==u.elements[_])&&(C=!1,E=0),!C&&R.type===1&&R.removeResource(this.resourceLabel,this.strResource,0)}let I=-1;for(let T=this._future.length-1;T>=0;T--,_++){const A=this._future[T];C&&(_>=f||A.id!==u.elements[_])&&(C=!1,I=T),!C&&A.type===1&&A.removeResource(this.resourceLabel,this.strResource,0)}E!==-1&&(this._past=this._past.slice(0,E)),I!==-1&&(this._future=this._future.slice(I+1)),this.versionId++}getElements(){const u=[],f=[];for(const C of this._past)u.push(C.actual);for(const C of this._future)f.push(C.actual);return{past:u,future:f}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(u,f){for(let C=this._past.length-1;C>=0;C--)if(this._past[C]===u){f.has(this.strResource)?this._past[C]=f.get(this.strResource):this._past.splice(C,1);break}this.versionId++}splitFutureWorkspaceElement(u,f){for(let C=this._future.length-1;C>=0;C--)if(this._future[C]===u){f.has(this.strResource)?this._future[C]=f.get(this.strResource):this._future.splice(C,1);break}this.versionId++}moveBackward(u){this._past.pop(),this._future.push(u),this.versionId++}moveForward(u){this._future.pop(),this._past.push(u),this.versionId++}}class d{constructor(u){this.editStacks=u,this._versionIds=[];for(let f=0,C=this.editStacks.length;f<C;f++)this._versionIds[f]=this.editStacks[f].versionId}isValid(){for(let u=0,f=this.editStacks.length;u<f;u++)if(this._versionIds[u]!==this.editStacks[u].versionId)return!1;return!0}}const s=new c("","");s.locked=!0;let l=class{constructor(u,f){this._dialogService=u,this._notificationService=f,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(u){for(const f of this._uriComparisonKeyComputers)if(f[0]===u.scheme)return f[1].getComparisonKey(u);return u.toString()}_print(u){console.log("------------------------------------"),console.log(`AFTER ${u}: `);const f=[];for(const C of this._editStacks)f.push(C[1].toString());console.log(f.join(`
`))}pushElement(u,f=b.UndoRedoGroup.None,C=b.UndoRedoSource.None){if(u.type===0){const _=n(u.resource),E=this.getUriComparisonKey(u.resource);this._pushElement(new t(u,_,E,f.id,f.nextOrder(),C.id,C.nextOrder()))}else{const _=new Set,E=[],I=[];for(const T of u.resources){const A=n(T),R=this.getUriComparisonKey(T);_.has(R)||(_.add(R),E.push(A),I.push(R))}E.length===1?this._pushElement(new t(u,E[0],I[0],f.id,f.nextOrder(),C.id,C.nextOrder())):this._pushElement(new m(u,E,I,f.id,f.nextOrder(),C.id,C.nextOrder()))}a&&this._print("pushElement")}_pushElement(u){for(let f=0,C=u.strResources.length;f<C;f++){const _=u.resourceLabels[f],E=u.strResources[f];let I;this._editStacks.has(E)?I=this._editStacks.get(E):(I=new c(_,E),this._editStacks.set(E,I)),I.pushElement(u)}}getLastElement(u){const f=this.getUriComparisonKey(u);if(this._editStacks.has(f)){const C=this._editStacks.get(f);if(C.hasFutureElements())return null;const _=C.getClosestPastElement();return _?_.actual:null}return null}_splitPastWorkspaceElement(u,f){const C=u.actual.split(),_=new Map;for(const E of C){const I=n(E.resource),T=this.getUriComparisonKey(E.resource),A=new t(E,I,T,0,0,0,0);_.set(A.strResource,A)}for(const E of u.strResources){if(f&&f.has(E))continue;this._editStacks.get(E).splitPastWorkspaceElement(u,_)}}_splitFutureWorkspaceElement(u,f){const C=u.actual.split(),_=new Map;for(const E of C){const I=n(E.resource),T=this.getUriComparisonKey(E.resource),A=new t(E,I,T,0,0,0,0);_.set(A.strResource,A)}for(const E of u.strResources){if(f&&f.has(E))continue;this._editStacks.get(E).splitFutureWorkspaceElement(u,_)}}removeElements(u){const f=typeof u=="string"?u:this.getUriComparisonKey(u);this._editStacks.has(f)&&(this._editStacks.get(f).dispose(),this._editStacks.delete(f)),a&&this._print("removeElements")}setElementsValidFlag(u,f,C){const _=this.getUriComparisonKey(u);this._editStacks.has(_)&&this._editStacks.get(_).setElementsValidFlag(f,C),a&&this._print("setElementsValidFlag")}createSnapshot(u){const f=this.getUriComparisonKey(u);return this._editStacks.has(f)?this._editStacks.get(f).createSnapshot(u):new b.ResourceEditStackSnapshot(u,[])}restoreSnapshot(u){const f=this.getUriComparisonKey(u.resource);if(this._editStacks.has(f)){const C=this._editStacks.get(f);C.restoreSnapshot(u),!C.hasPastElements()&&!C.hasFutureElements()&&(C.dispose(),this._editStacks.delete(f))}a&&this._print("restoreSnapshot")}getElements(u){const f=this.getUriComparisonKey(u);return this._editStacks.has(f)?this._editStacks.get(f).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(u){if(!u)return[null,null];let f=null,C=null;for(const[_,E]of this._editStacks){const I=E.getClosestPastElement();I&&I.sourceId===u&&(!f||I.sourceOrder>f.sourceOrder)&&(f=I,C=_)}return[f,C]}canUndo(u){if(u instanceof b.UndoRedoSource){const[,C]=this._findClosestUndoElementWithSource(u.id);return!!C}const f=this.getUriComparisonKey(u);return this._editStacks.has(f)?this._editStacks.get(f).hasPastElements():!1}_onError(u,f){(0,L.onUnexpectedError)(u);for(const C of f.strResources)this.removeElements(C);this._notificationService.error(u)}_acquireLocks(u){for(const f of u.editStacks)if(f.locked)throw new Error("Cannot acquire edit stack lock");for(const f of u.editStacks)f.locked=!0;return()=>{for(const f of u.editStacks)f.locked=!1}}_safeInvokeWithLocks(u,f,C,_,E){const I=this._acquireLocks(C);let T;try{T=f()}catch(A){return I(),_.dispose(),this._onError(A,u)}return T?T.then(()=>(I(),_.dispose(),E()),A=>(I(),_.dispose(),this._onError(A,u))):(I(),_.dispose(),E())}async _invokeWorkspacePrepare(u){if(typeof u.actual.prepareUndoRedo>"u")return k.Disposable.None;const f=u.actual.prepareUndoRedo();return typeof f>"u"?k.Disposable.None:f}_invokeResourcePrepare(u,f){if(u.actual.type!==1||typeof u.actual.prepareUndoRedo>"u")return f(k.Disposable.None);const C=u.actual.prepareUndoRedo();return C?(0,k.isDisposable)(C)?f(C):C.then(_=>f(_)):f(k.Disposable.None)}_getAffectedEditStacks(u){const f=[];for(const C of u.strResources)f.push(this._editStacks.get(C)||s);return new d(f)}_tryToSplitAndUndo(u,f,C,_){if(f.canSplit())return this._splitPastWorkspaceElement(f,C),this._notificationService.warn(_),new r(this._undo(u,0,!0));for(const E of f.strResources)this.removeElements(E);return this._notificationService.warn(_),new r}_checkWorkspaceUndo(u,f,C,_){if(f.removedResources)return this._tryToSplitAndUndo(u,f,f.removedResources,S.localize(2,null,f.label,f.removedResources.createMessage()));if(_&&f.invalidatedResources)return this._tryToSplitAndUndo(u,f,f.invalidatedResources,S.localize(3,null,f.label,f.invalidatedResources.createMessage()));const E=[];for(const T of C.editStacks)T.getClosestPastElement()!==f&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndUndo(u,f,null,S.localize(4,null,f.label,E.join(", ")));const I=[];for(const T of C.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndUndo(u,f,null,S.localize(5,null,f.label,I.join(", "))):C.isValid()?null:this._tryToSplitAndUndo(u,f,null,S.localize(6,null,f.label))}_workspaceUndo(u,f,C){const _=this._getAffectedEditStacks(f),E=this._checkWorkspaceUndo(u,f,_,!1);return E?E.returnValue:this._confirmAndExecuteWorkspaceUndo(u,f,_,C)}_isPartOfUndoGroup(u){if(!u.groupId)return!1;for(const[,f]of this._editStacks){const C=f.getClosestPastElement();if(C){if(C===u){const _=f.getSecondClosestPastElement();if(_&&_.groupId===u.groupId)return!0}if(C.groupId===u.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(u,f,C,_){if(f.canSplit()&&!this._isPartOfUndoGroup(f)){let T;(function(M){M[M.All=0]="All",M[M.This=1]="This",M[M.Cancel=2]="Cancel"})(T||(T={}));const{result:A}=await this._dialogService.prompt({type:D.default.Info,message:S.localize(7,null,f.label),buttons:[{label:S.localize(8,null,C.editStacks.length),run:()=>T.All},{label:S.localize(9,null),run:()=>T.This}],cancelButton:{run:()=>T.Cancel}});if(A===T.Cancel)return;if(A===T.This)return this._splitPastWorkspaceElement(f,null),this._undo(u,0,!0);const R=this._checkWorkspaceUndo(u,f,C,!1);if(R)return R.returnValue;_=!0}let E;try{E=await this._invokeWorkspacePrepare(f)}catch(T){return this._onError(T,f)}const I=this._checkWorkspaceUndo(u,f,C,!0);if(I)return E.dispose(),I.returnValue;for(const T of C.editStacks)T.moveBackward(f);return this._safeInvokeWithLocks(f,()=>f.actual.undo(),C,E,()=>this._continueUndoInGroup(f.groupId,_))}_resourceUndo(u,f,C){if(!f.isValid){u.flushAllElements();return}if(u.locked){const _=S.localize(10,null,f.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(f,_=>(u.moveBackward(f),this._safeInvokeWithLocks(f,()=>f.actual.undo(),new d([u]),_,()=>this._continueUndoInGroup(f.groupId,C))))}_findClosestUndoElementInGroup(u){if(!u)return[null,null];let f=null,C=null;for(const[_,E]of this._editStacks){const I=E.getClosestPastElement();I&&I.groupId===u&&(!f||I.groupOrder>f.groupOrder)&&(f=I,C=_)}return[f,C]}_continueUndoInGroup(u,f){if(!u)return;const[,C]=this._findClosestUndoElementInGroup(u);if(C)return this._undo(C,0,f)}undo(u){if(u instanceof b.UndoRedoSource){const[,f]=this._findClosestUndoElementWithSource(u.id);return f?this._undo(f,u.id,!1):void 0}return typeof u=="string"?this._undo(u,0,!1):this._undo(this.getUriComparisonKey(u),0,!1)}_undo(u,f=0,C){if(!this._editStacks.has(u))return;const _=this._editStacks.get(u),E=_.getClosestPastElement();if(!E)return;if(E.groupId){const[T,A]=this._findClosestUndoElementInGroup(E.groupId);if(E!==T&&A)return this._undo(A,f,C)}if((E.sourceId!==f||E.confirmBeforeUndo)&&!C)return this._confirmAndContinueUndo(u,f,E);try{return E.type===1?this._workspaceUndo(u,E,C):this._resourceUndo(_,E,C)}finally{a&&this._print("undo")}}async _confirmAndContinueUndo(u,f,C){if((await this._dialogService.confirm({message:S.localize(11,null,C.label),primaryButton:S.localize(12,null),cancelButton:S.localize(13,null)})).confirmed)return this._undo(u,f,!0)}_findClosestRedoElementWithSource(u){if(!u)return[null,null];let f=null,C=null;for(const[_,E]of this._editStacks){const I=E.getClosestFutureElement();I&&I.sourceId===u&&(!f||I.sourceOrder<f.sourceOrder)&&(f=I,C=_)}return[f,C]}canRedo(u){if(u instanceof b.UndoRedoSource){const[,C]=this._findClosestRedoElementWithSource(u.id);return!!C}const f=this.getUriComparisonKey(u);return this._editStacks.has(f)?this._editStacks.get(f).hasFutureElements():!1}_tryToSplitAndRedo(u,f,C,_){if(f.canSplit())return this._splitFutureWorkspaceElement(f,C),this._notificationService.warn(_),new r(this._redo(u));for(const E of f.strResources)this.removeElements(E);return this._notificationService.warn(_),new r}_checkWorkspaceRedo(u,f,C,_){if(f.removedResources)return this._tryToSplitAndRedo(u,f,f.removedResources,S.localize(14,null,f.label,f.removedResources.createMessage()));if(_&&f.invalidatedResources)return this._tryToSplitAndRedo(u,f,f.invalidatedResources,S.localize(15,null,f.label,f.invalidatedResources.createMessage()));const E=[];for(const T of C.editStacks)T.getClosestFutureElement()!==f&&E.push(T.resourceLabel);if(E.length>0)return this._tryToSplitAndRedo(u,f,null,S.localize(16,null,f.label,E.join(", ")));const I=[];for(const T of C.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndRedo(u,f,null,S.localize(17,null,f.label,I.join(", "))):C.isValid()?null:this._tryToSplitAndRedo(u,f,null,S.localize(18,null,f.label))}_workspaceRedo(u,f){const C=this._getAffectedEditStacks(f),_=this._checkWorkspaceRedo(u,f,C,!1);return _?_.returnValue:this._executeWorkspaceRedo(u,f,C)}async _executeWorkspaceRedo(u,f,C){let _;try{_=await this._invokeWorkspacePrepare(f)}catch(I){return this._onError(I,f)}const E=this._checkWorkspaceRedo(u,f,C,!0);if(E)return _.dispose(),E.returnValue;for(const I of C.editStacks)I.moveForward(f);return this._safeInvokeWithLocks(f,()=>f.actual.redo(),C,_,()=>this._continueRedoInGroup(f.groupId))}_resourceRedo(u,f){if(!f.isValid){u.flushAllElements();return}if(u.locked){const C=S.localize(19,null,f.label);this._notificationService.warn(C);return}return this._invokeResourcePrepare(f,C=>(u.moveForward(f),this._safeInvokeWithLocks(f,()=>f.actual.redo(),new d([u]),C,()=>this._continueRedoInGroup(f.groupId))))}_findClosestRedoElementInGroup(u){if(!u)return[null,null];let f=null,C=null;for(const[_,E]of this._editStacks){const I=E.getClosestFutureElement();I&&I.groupId===u&&(!f||I.groupOrder<f.groupOrder)&&(f=I,C=_)}return[f,C]}_continueRedoInGroup(u){if(!u)return;const[,f]=this._findClosestRedoElementInGroup(u);if(f)return this._redo(f)}redo(u){if(u instanceof b.UndoRedoSource){const[,f]=this._findClosestRedoElementWithSource(u.id);return f?this._redo(f):void 0}return typeof u=="string"?this._redo(u):this._redo(this.getUriComparisonKey(u))}_redo(u){if(!this._editStacks.has(u))return;const f=this._editStacks.get(u),C=f.getClosestFutureElement();if(C){if(C.groupId){const[_,E]=this._findClosestRedoElementInGroup(C.groupId);if(C!==_&&E)return this._redo(E)}try{return C.type===1?this._workspaceRedo(u,C):this._resourceRedo(f,C)}finally{a&&this._print("redo")}}}};e.UndoRedoService=l,e.UndoRedoService=l=De([he(0,p.IDialogService),he(1,v.INotificationService)],l);class r{constructor(u){this.returnValue=u}}(0,w.registerSingleton)(b.IUndoRedoService,l,1)}),define(ne[171],se([1,0,765,98,205,22,8]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandaloneEditorWorkspace=e.STANDALONE_EDITOR_WORKSPACE_ID=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.isWorkspaceIdentifier=e.toWorkspaceIdentifier=e.UNKNOWN_EMPTY_WINDOW_WORKSPACE=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.isEmptyWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,S.createDecorator)("contextService");function p(t){const o=t;return typeof o?.id=="string"&&D.URI.isUri(o.uri)}e.isSingleFolderWorkspaceIdentifier=p;function w(t){const o=t;return typeof o?.id=="string"&&!p(t)&&!b(t)}e.isEmptyWorkspaceIdentifier=w,e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},e.UNKNOWN_EMPTY_WINDOW_WORKSPACE={id:"empty-window"};function v(t,o){if(typeof t=="string"||typeof t>"u")return typeof t=="string"?{id:(0,k.basename)(t)}:o?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:e.UNKNOWN_EMPTY_WINDOW_WORKSPACE;const g=t;return g.configuration?{id:g.id,configPath:g.configuration}:g.folders.length===1?{id:g.id,uri:g.folders[0].uri}:{id:g.id}}e.toWorkspaceIdentifier=v;function b(t){const o=t;return typeof o?.id=="string"&&D.URI.isUri(o.configPath)}e.isWorkspaceIdentifier=b;class a{constructor(o,g,m,c,d){this._id=o,this._transient=m,this._configuration=c,this._ignorePathCasing=d,this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=g}get folders(){return this._folders}set folders(o){this._folders=o,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(o){this._configuration=o}getFolder(o){return o&&this._foldersMap.findSubstr(o)||null}updateFoldersMap(){this._foldersMap=y.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const o of this.folders)this._foldersMap.set(o.uri,o)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=a;class n{constructor(o,g){this.raw=g,this.uri=o.uri,this.index=o.index,this.name=o.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=n,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,L.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.STANDALONE_EDITOR_WORKSPACE_ID="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function i(t){return t.id===e.STANDALONE_EDITOR_WORKSPACE_ID}e.isStandaloneEditorWorkspace=i}),define(ne[936],se([1,0,6,141,42,2,17,16,21,674,28,14,56,34,26,171]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let m=g=class{static get(s){return s.getContribution(g.ID)}constructor(s,l,r,h,u,f,C,_){this._contextMenuService=l,this._contextViewService=r,this._contextKeyService=h,this._keybindingService=u,this._menuService=f,this._configurationService=C,this._workspaceContextService=_,this._toDispose=new D.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=s,this._toDispose.add(this._editor.onContextMenu(E=>this._onContextMenu(E))),this._toDispose.add(this._editor.onMouseWheel(E=>{if(this._contextMenuIsBeingShownCount>0){const I=this._contextViewService.getContextViewElement(),T=E.srcElement;T.shadowRoot&&L.getShadowRoot(I)===T.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(E=>{this._editor.getOption(24)&&E.keyCode===58&&(E.preventDefault(),E.stopPropagation(),this.showContextMenu())}))}_onContextMenu(s){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),s.target.position&&!this._editor.getSelection().containsPosition(s.target.position)&&this._editor.setPosition(s.target.position);return}if(s.target.type===12||s.target.type===6&&s.target.detail.injectedText)return;if(s.event.preventDefault(),s.event.stopPropagation(),s.target.type===11)return this._showScrollbarContextMenu(s.event);if(s.target.type!==6&&s.target.type!==7&&s.target.type!==1)return;if(this._editor.focus(),s.target.position){let r=!1;for(const h of this._editor.getSelections())if(h.containsPosition(s.target.position)){r=!0;break}r||this._editor.setPosition(s.target.position)}let l=null;s.target.type!==1&&(l=s.event),this.showContextMenu(l)}showContextMenu(s){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const l=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?b.MenuId.SimpleEditorContext:b.MenuId.EditorContext);l.length>0&&this._doShowContextMenu(l,s)}_getMenuActions(s,l){const r=[],h=this._menuService.createMenu(l,this._contextKeyService),u=h.getActions({arg:s.uri});h.dispose();for(const f of u){const[,C]=f;let _=0;for(const E of C)if(E instanceof b.SubmenuItemAction){const I=this._getMenuActions(s,E.item.submenu);I.length>0&&(r.push(new y.SubmenuAction(E.id,E.label,I)),_++)}else r.push(E),_++;_&&r.push(new y.Separator)}return r.length&&r.pop(),r}_doShowContextMenu(s,l=null){if(!this._editor.hasModel())return;const r=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let h=l;if(!h){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const f=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),C=L.getDomNodePagePosition(this._editor.getDomNode()),_=C.left+f.left,E=C.top+f.top+f.height;h={x:_,y:E}}const u=this._editor.getOption(127)&&!S.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:u?this._editor.getDomNode():void 0,getAnchor:()=>h,getActions:()=>s,getActionViewItem:f=>{const C=this._keybindingFor(f);if(C)return new k.ActionViewItem(f,f,{label:!0,keybinding:C.getLabel(),isMenu:!0});const _=f;return typeof _.getActionViewItem=="function"?_.getActionViewItem():new k.ActionViewItem(f,f,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:f=>this._keybindingFor(f),onHide:f=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:r})}})}_showScrollbarContextMenu(s){if(!this._editor.hasModel()||(0,o.isStandaloneEditorWorkspace)(this._workspaceContextService.getWorkspace()))return;const l=this._editor.getOption(73);let r=0;const h=E=>({id:`menu-action-${++r}`,label:E.label,tooltip:"",class:void 0,enabled:typeof E.enabled>"u"?!0:E.enabled,checked:E.checked,run:E.run}),u=(E,I)=>new y.SubmenuAction(`menu-action-${++r}`,E,I,void 0),f=(E,I,T,A,R)=>{if(!I)return h({label:E,enabled:I,run:()=>{}});const M=P=>()=>{this._configurationService.updateValue(T,P)},N=[];for(const P of R)N.push(h({label:P.label,checked:A===P.value,run:M(P.value)}));return u(E,N)},C=[];C.push(h({label:v.localize(0,null),checked:l.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!l.enabled)}})),C.push(new y.Separator),C.push(h({label:v.localize(1,null),enabled:l.enabled,checked:l.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!l.renderCharacters)}})),C.push(f(v.localize(2,null),l.enabled,"editor.minimap.size",l.size,[{label:v.localize(3,null),value:"proportional"},{label:v.localize(4,null),value:"fill"},{label:v.localize(5,null),value:"fit"}])),C.push(f(v.localize(6,null),l.enabled,"editor.minimap.showSlider",l.showSlider,[{label:v.localize(7,null),value:"mouseover"},{label:v.localize(8,null),value:"always"}]));const _=this._editor.getOption(127)&&!S.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:_?this._editor.getDomNode():void 0,getAnchor:()=>s,getActions:()=>C,onHide:E=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(s){return this._keybindingService.lookupKeybinding(s.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};e.ContextMenuController=m,m.ID="editor.contrib.contextmenu",e.ContextMenuController=m=g=De([he(1,n.IContextMenuService),he(2,n.IContextViewService),he(3,a.IContextKeyService),he(4,i.IKeybindingService),he(5,b.IMenuService),he(6,t.IConfigurationService),he(7,o.IWorkspaceContextService)],m);class c extends p.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:v.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(s,l){var r;(r=m.get(l))===null||r===void 0||r.showContextMenu()}}(0,p.registerEditorContribution)(m.ID,m,2),(0,p.registerEditorAction)(c)}),define(ne[396],se([1,0,13,179,2,113,47,48,22,18,678,171]),function(ee,e,L,k,y,D,S,p,w,v,b,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPasteProvidersFeature=e.DefaultDropProvidersFeature=void 0;const n=(0,b.localize)(0,null);class i{async provideDocumentPasteEdits(r,h,u,f,C){const _=await this.getEdit(u,C);return _?{insertText:_.insertText,label:_.label,detail:_.detail,handledMimeType:_.handledMimeType,yieldTo:_.yieldTo}:void 0}async provideDocumentOnDropEdits(r,h,u,f){const C=await this.getEdit(u,f);return C?{insertText:C.insertText,label:C.label,handledMimeType:C.handledMimeType,yieldTo:C.yieldTo}:void 0}}class t extends i{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[D.Mimes.text],this.pasteMimeTypes=[D.Mimes.text]}async getEdit(r,h){const u=r.get(D.Mimes.text);if(!u||r.has(D.Mimes.uriList))return;const f=await u.asString();return{handledMimeType:D.Mimes.text,label:(0,b.localize)(1,null),detail:n,insertText:f}}}class o extends i{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[D.Mimes.uriList],this.pasteMimeTypes=[D.Mimes.uriList]}async getEdit(r,h){const u=await c(r);if(!u.length||h.isCancellationRequested)return;let f=0;const C=u.map(({uri:E,originalText:I})=>E.scheme===S.Schemas.file?E.fsPath:(f++,I)).join(" ");let _;return f>0?_=u.length>1?(0,b.localize)(2,null):(0,b.localize)(3,null):_=u.length>1?(0,b.localize)(4,null):(0,b.localize)(5,null),{handledMimeType:D.Mimes.uriList,insertText:C,label:_,detail:n}}}let g=class extends i{constructor(r){super(),this._workspaceContextService=r,this.id="relativePath",this.dropMimeTypes=[D.Mimes.uriList],this.pasteMimeTypes=[D.Mimes.uriList]}async getEdit(r,h){const u=await c(r);if(!u.length||h.isCancellationRequested)return;const f=(0,L.coalesce)(u.map(({uri:C})=>{const _=this._workspaceContextService.getWorkspaceFolder(C);return _?(0,p.relativePath)(_.uri,C):void 0}));if(f.length)return{handledMimeType:D.Mimes.uriList,insertText:f.join(" "),label:u.length>1?(0,b.localize)(6,null):(0,b.localize)(7,null),detail:n}}};g=De([he(0,a.IWorkspaceContextService)],g);class m{constructor(){this.id="html",this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:D.Mimes.text}]}async provideDocumentPasteEdits(r,h,u,f,C){if(f.trigger!=="explicit"&&f.only!==this.id)return;const _=u.get("text/html"),E=await _?.asString();if(!(!E||C.isCancellationRequested))return{insertText:E,yieldTo:this._yieldTo,label:(0,b.localize)(8,null),detail:n}}}async function c(l){const r=l.get(D.Mimes.uriList);if(!r)return[];const h=await r.asString(),u=[];for(const f of k.UriList.parse(h))try{u.push({uri:w.URI.parse(f),originalText:f})}catch{}return u}let d=class extends y.Disposable{constructor(r,h){super(),this._register(r.documentOnDropEditProvider.register("*",new t)),this._register(r.documentOnDropEditProvider.register("*",new o)),this._register(r.documentOnDropEditProvider.register("*",new g(h)))}};e.DefaultDropProvidersFeature=d,e.DefaultDropProvidersFeature=d=De([he(0,v.ILanguageFeaturesService),he(1,a.IWorkspaceContextService)],d);let s=class extends y.Disposable{constructor(r,h){super(),this._register(r.documentPasteEditProvider.register("*",new t)),this._register(r.documentPasteEditProvider.register("*",new o)),this._register(r.documentPasteEditProvider.register("*",new g(h))),this._register(r.documentPasteEditProvider.register("*",new m))}};e.DefaultPasteProvidersFeature=s,e.DefaultPasteProvidersFeature=s=De([he(0,v.ILanguageFeaturesService),he(1,a.IWorkspaceContextService)],s)}),define(ne[937],se([1,0,16,21,135,387,396,676]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(D.CopyPasteController.ID,D.CopyPasteController,0),(0,y.registerEditorFeature)(S.DefaultPasteProvidersFeature),(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:D.changePasteTypeCommandId,precondition:D.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(w,v,b){var a;return(a=D.CopyPasteController.get(v))===null||a===void 0?void 0:a.changePasteType()}}),(0,L.registerEditorAction)(class extends L.EditorAction{constructor(){super({id:"editor.action.pasteAs",label:p.localize(0,null),alias:"Paste As...",precondition:k.EditorContextKeys.writable,metadata:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:p.localize(1,null)}}}}]}})}run(w,v,b){var a;const n=typeof b?.id=="string"?b.id:void 0;return(a=D.CopyPasteController.get(v))===null||a===void 0?void 0:a.pasteAs(n)}}),(0,L.registerEditorAction)(class extends L.EditorAction{constructor(){super({id:"editor.action.pasteAsText",label:p.localize(2,null),alias:"Paste as Text",precondition:k.EditorContextKeys.writable})}run(w,v,b){var a;return(a=D.CopyPasteController.get(v))===null||a===void 0?void 0:a.pasteAs("text")}})}),define(ne[938],se([1,0,16,251,135,396,679,101,37,916]),function(ee,e,L,k,y,D,S,p,w,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(v.DropIntoEditorController.ID,v.DropIntoEditorController,2),(0,L.registerEditorCommand)(new class extends L.EditorCommand{constructor(){super({id:v.changeDropTypeCommandId,precondition:v.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(b,a,n){var i;(i=v.DropIntoEditorController.get(a))===null||i===void 0||i.changeDropType()}}),(0,y.registerEditorFeature)(D.DefaultDropProvidersFeature),w.Registry.as(p.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{[v.defaultProviderConfig]:{type:"object",scope:5,description:S.localize(0,null),default:{},additionalProperties:{type:"string"}}}})}),define(ne[939],se([1,0,597,98,48,11,178,33,120,724,171]),function(ee,e,L,k,y,D,S,p,w,v,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class a{constructor(s){this._delegates=s}resolve(s){for(const l of this._delegates){const r=l.resolve(s);if(r!==void 0)return r}}}e.CompositeSnippetVariableResolver=a;class n{constructor(s,l,r,h){this._model=s,this._selection=l,this._selectionIdx=r,this._overtypingCapturer=h}resolve(s){const{name:l}=s;if(l==="SELECTION"||l==="TM_SELECTED_TEXT"){let r=this._model.getValueInRange(this._selection)||void 0,h=this._selection.startLineNumber!==this._selection.endLineNumber;if(!r&&this._overtypingCapturer){const u=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);u&&(r=u.value,h=u.multiline)}if(r&&h&&s.snippet){const u=this._model.getLineContent(this._selection.startLineNumber),f=(0,D.getLeadingWhitespace)(u,0,this._selection.startColumn-1);let C=f;s.snippet.walk(E=>E===s?!1:(E instanceof w.Text&&(C=(0,D.getLeadingWhitespace)((0,D.splitLines)(E.value).pop())),!0));const _=(0,D.commonPrefixLength)(C,f);r=r.replace(/(\r\n|\r|\n)(.*)/g,(E,I,T)=>`${I}${C.substr(_)}${T}`)}return r}else{if(l==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(l==="TM_CURRENT_WORD"){const r=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return r&&r.word||void 0}else{if(l==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(l==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(l==="CURSOR_INDEX")return String(this._selectionIdx);if(l==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=n;class i{constructor(s,l){this._labelService=s,this._model=l}resolve(s){const{name:l}=s;if(l==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(l==="TM_FILENAME_BASE"){const r=k.basename(this._model.uri.fsPath),h=r.lastIndexOf(".");return h<=0?r:r.slice(0,h)}else{if(l==="TM_DIRECTORY")return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,y.dirname)(this._model.uri));if(l==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(l==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=i;class t{constructor(s,l,r,h){this._readClipboardText=s,this._selectionIdx=l,this._selectionCount=r,this._spread=h}resolve(s){if(s.name!=="CLIPBOARD")return;const l=this._readClipboardText();if(l){if(this._spread){const r=l.split(/\r\n|\n|\r/).filter(h=>!(0,D.isFalsyOrWhitespace)(h));if(r.length===this._selectionCount)return r[this._selectionIdx]}return l}}}e.ClipboardBasedVariableResolver=t;let o=class{constructor(s,l,r){this._model=s,this._selection=l,this._languageConfigurationService=r}resolve(s){const{name:l}=s,r=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),h=this._languageConfigurationService.getLanguageConfiguration(r).comments;if(h){if(l==="LINE_COMMENT")return h.lineCommentToken||void 0;if(l==="BLOCK_COMMENT_START")return h.blockCommentStartToken||void 0;if(l==="BLOCK_COMMENT_END")return h.blockCommentEndToken||void 0}}};e.CommentBasedVariableResolver=o,e.CommentBasedVariableResolver=o=De([he(2,p.ILanguageConfigurationService)],o);class g{constructor(){this._date=new Date}resolve(s){const{name:l}=s;if(l==="CURRENT_YEAR")return String(this._date.getFullYear());if(l==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(l==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(l==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(l==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(l==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(l==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(l==="CURRENT_DAY_NAME")return g.dayNames[this._date.getDay()];if(l==="CURRENT_DAY_NAME_SHORT")return g.dayNamesShort[this._date.getDay()];if(l==="CURRENT_MONTH_NAME")return g.monthNames[this._date.getMonth()];if(l==="CURRENT_MONTH_NAME_SHORT")return g.monthNamesShort[this._date.getMonth()];if(l==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(l==="CURRENT_TIMEZONE_OFFSET"){const r=this._date.getTimezoneOffset(),h=r>0?"-":"+",u=Math.trunc(Math.abs(r/60)),f=u<10?"0"+u:u,C=Math.abs(r)-u*60,_=C<10?"0"+C:C;return h+f+":"+_}}}e.TimeBasedVariableResolver=g,g.dayNames=[v.localize(0,null),v.localize(1,null),v.localize(2,null),v.localize(3,null),v.localize(4,null),v.localize(5,null),v.localize(6,null)],g.dayNamesShort=[v.localize(7,null),v.localize(8,null),v.localize(9,null),v.localize(10,null),v.localize(11,null),v.localize(12,null),v.localize(13,null)],g.monthNames=[v.localize(14,null),v.localize(15,null),v.localize(16,null),v.localize(17,null),v.localize(18,null),v.localize(19,null),v.localize(20,null),v.localize(21,null),v.localize(22,null),v.localize(23,null),v.localize(24,null),v.localize(25,null)],g.monthNamesShort=[v.localize(26,null),v.localize(27,null),v.localize(28,null),v.localize(29,null),v.localize(30,null),v.localize(31,null),v.localize(32,null),v.localize(33,null),v.localize(34,null),v.localize(35,null),v.localize(36,null),v.localize(37,null)];class m{constructor(s){this._workspaceService=s}resolve(s){if(!this._workspaceService)return;const l=(0,b.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!(0,b.isEmptyWorkspaceIdentifier)(l)){if(s.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(l);if(s.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(l)}}_resolveWorkspaceName(s){if((0,b.isSingleFolderWorkspaceIdentifier)(s))return k.basename(s.uri.path);let l=k.basename(s.configPath.path);return l.endsWith(b.WORKSPACE_EXTENSION)&&(l=l.substr(0,l.length-b.WORKSPACE_EXTENSION.length-1)),l}_resoveWorkspacePath(s){if((0,b.isSingleFolderWorkspaceIdentifier)(s))return(0,L.normalizeDriveLetter)(s.uri.fsPath);const l=k.basename(s.configPath.path);let r=s.configPath.fsPath;return r.endsWith(l)&&(r=r.substr(0,r.length-l.length-1)),r?(0,L.normalizeDriveLetter)(r):"/"}}e.WorkspaceBasedVariableResolver=m;class c{resolve(s){const{name:l}=s;if(l==="RANDOM")return Math.random().toString().slice(-6);if(l==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(l==="UUID")return(0,S.generateUuid)()}}e.RandomBasedVariableResolver=c}),define(ne[397],se([1,0,13,2,11,68,5,23,33,38,166,171,120,939,485]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class o{constructor(d,s,l){this._editor=d,this._snippet=s,this._snippetLineLeadingWhitespace=l,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,L.groupBy)(s.placeholders,n.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(d){this._offset=d.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const d=this._editor.getModel();this._editor.changeDecorations(s=>{for(const l of this._snippet.placeholders){const r=this._snippet.offset(l),h=this._snippet.fullLen(l),u=S.Range.fromPositions(d.getPositionAt(this._offset+r),d.getPositionAt(this._offset+r+h)),f=l.isFinalTabstop?o._decor.inactiveFinal:o._decor.inactive,C=s.addDecoration(u,f);this._placeholderDecorations.set(l,C)}})}move(d){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const r=[];for(const h of this._placeholderGroups[this._placeholderGroupsIdx])if(h.transform){const u=this._placeholderDecorations.get(h),f=this._editor.getModel().getDecorationRange(u),C=this._editor.getModel().getValueInRange(f),_=h.transform.resolve(C).split(/\r\n|\r|\n/);for(let E=1;E<_.length;E++)_[E]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+_[E]);r.push(D.EditOperation.replace(f,_.join(this._editor.getModel().getEOL())))}r.length>0&&this._editor.executeEdits("snippet.placeholderTransform",r)}let s=!1;d===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,s=!0):d===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,s=!0);const l=this._editor.getModel().changeDecorations(r=>{const h=new Set,u=[];for(const f of this._placeholderGroups[this._placeholderGroupsIdx]){const C=this._placeholderDecorations.get(f),_=this._editor.getModel().getDecorationRange(C);u.push(new p.Selection(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn)),s=s&&this._hasPlaceholderBeenCollapsed(f),r.changeDecorationOptions(C,f.isFinalTabstop?o._decor.activeFinal:o._decor.active),h.add(f);for(const E of this._snippet.enclosingPlaceholders(f)){const I=this._placeholderDecorations.get(E);r.changeDecorationOptions(I,E.isFinalTabstop?o._decor.activeFinal:o._decor.active),h.add(E)}}for(const[f,C]of this._placeholderDecorations)h.has(f)||r.changeDecorationOptions(C,f.isFinalTabstop?o._decor.inactiveFinal:o._decor.inactive);return u});return s?this.move(d):l??[]}_hasPlaceholderBeenCollapsed(d){let s=d;for(;s;){if(s instanceof n.Placeholder){const l=this._placeholderDecorations.get(s);if(this._editor.getModel().getDecorationRange(l).isEmpty()&&s.toString().length>0)return!0}s=s.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[d]=this._snippet.placeholders;if(d.isFinalTabstop&&this._snippet.rightMostDescendant===d)return!0}return!1}computePossibleSelections(){const d=new Map;for(const s of this._placeholderGroups){let l;for(const r of s){if(r.isFinalTabstop)break;l||(l=[],d.set(r.index,l));const h=this._placeholderDecorations.get(r),u=this._editor.getModel().getDecorationRange(h);if(!u){d.delete(r.index);break}l.push(u)}}return d}get activeChoice(){if(!this._placeholderDecorations)return;const d=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!d?.choice)return;const s=this._placeholderDecorations.get(d);if(!s)return;const l=this._editor.getModel().getDecorationRange(s);if(l)return{range:l,choice:d.choice}}get hasChoice(){let d=!1;return this._snippet.walk(s=>(d=s instanceof n.Choice,!d)),d}merge(d){const s=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(l=>{for(const r of this._placeholderGroups[this._placeholderGroupsIdx]){const h=d.shift();console.assert(h._offset!==-1),console.assert(!h._placeholderDecorations);const u=h._snippet.placeholderInfo.last.index;for(const C of h._snippet.placeholderInfo.all)C.isFinalTabstop?C.index=r.index+(u+1)/this._nestingLevel:C.index=r.index+C.index/this._nestingLevel;this._snippet.replace(r,h._snippet.children);const f=this._placeholderDecorations.get(r);l.removeDecoration(f),this._placeholderDecorations.delete(r);for(const C of h._snippet.placeholders){const _=h._snippet.offset(C),E=h._snippet.fullLen(C),I=S.Range.fromPositions(s.getPositionAt(h._offset+_),s.getPositionAt(h._offset+_+E)),T=l.addDecoration(I,o._decor.inactive);this._placeholderDecorations.set(C,T)}}this._placeholderGroups=(0,L.groupBy)(this._snippet.placeholders,n.Placeholder.compareByIndex)})}}e.OneSnippet=o,o._decor={active:v.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:v.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:v.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const g={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let m=t=class{static adjustWhitespace(d,s,l,r,h){const u=d.getLineContent(s.lineNumber),f=(0,y.getLeadingWhitespace)(u,0,s.column-1);let C;return r.walk(_=>{if(!(_ instanceof n.Text)||_.parent instanceof n.Choice||h&&!h.has(_))return!0;const E=_.value.split(/\r\n|\r|\n/);if(l){const T=r.offset(_);if(T===0)E[0]=d.normalizeIndentation(E[0]);else{C=C??r.toString();const A=C.charCodeAt(T-1);(A===10||A===13)&&(E[0]=d.normalizeIndentation(f+E[0]))}for(let A=1;A<E.length;A++)E[A]=d.normalizeIndentation(f+E[A])}const I=E.join(d.getEOL());return I!==_.value&&(_.parent.replace(_,[new n.Text(I)]),C=void 0),!0}),f}static adjustSelection(d,s,l,r){if(l!==0||r!==0){const{positionLineNumber:h,positionColumn:u}=s,f=u-l,C=u+r,_=d.validateRange({startLineNumber:h,startColumn:f,endLineNumber:h,endColumn:C});s=p.Selection.createWithDirection(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn,s.getDirection())}return s}static createEditsAndSnippetsFromSelections(d,s,l,r,h,u,f,C,_){const E=[],I=[];if(!d.hasModel())return{edits:E,snippets:I};const T=d.getModel(),A=d.invokeWithinContext(B=>B.get(a.IWorkspaceContextService)),R=d.invokeWithinContext(B=>new i.ModelBasedVariableResolver(B.get(b.ILabelService),T)),M=()=>f,N=T.getValueInRange(t.adjustSelection(T,d.getSelection(),l,0)),P=T.getValueInRange(t.adjustSelection(T,d.getSelection(),0,r)),F=T.getLineFirstNonWhitespaceColumn(d.getSelection().positionLineNumber),O=d.getSelections().map((B,W)=>({selection:B,idx:W})).sort((B,W)=>S.Range.compareRangesUsingStarts(B.selection,W.selection));for(const{selection:B,idx:W}of O){let V=t.adjustSelection(T,B,l,0),z=t.adjustSelection(T,B,0,r);N!==T.getValueInRange(V)&&(V=B),P!==T.getValueInRange(z)&&(z=B);const K=B.setStartPosition(V.startLineNumber,V.startColumn).setEndPosition(z.endLineNumber,z.endColumn),j=new n.SnippetParser().parse(s,!0,h),x=K.getStartPosition(),re=t.adjustWhitespace(T,x,u||W>0&&F!==T.getLineFirstNonWhitespaceColumn(B.positionLineNumber),j);j.resolveVariables(new i.CompositeSnippetVariableResolver([R,new i.ClipboardBasedVariableResolver(M,W,O.length,d.getOption(79)==="spread"),new i.SelectionBasedVariableResolver(T,B,W,C),new i.CommentBasedVariableResolver(T,B,_),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(A),new i.RandomBasedVariableResolver])),E[W]=D.EditOperation.replace(K,j.toString()),E[W].identifier={major:W,minor:0},E[W]._isTracked=!0,I[W]=new o(d,j,re)}return{edits:E,snippets:I}}static createEditsAndSnippetsFromEdits(d,s,l,r,h,u,f){if(!d.hasModel()||s.length===0)return{edits:[],snippets:[]};const C=[],_=d.getModel(),E=new n.SnippetParser,I=new n.TextmateSnippet,T=new i.CompositeSnippetVariableResolver([d.invokeWithinContext(R=>new i.ModelBasedVariableResolver(R.get(b.ILabelService),_)),new i.ClipboardBasedVariableResolver(()=>h,0,d.getSelections().length,d.getOption(79)==="spread"),new i.SelectionBasedVariableResolver(_,d.getSelection(),0,u),new i.CommentBasedVariableResolver(_,d.getSelection(),f),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(d.invokeWithinContext(R=>R.get(a.IWorkspaceContextService))),new i.RandomBasedVariableResolver]);s=s.sort((R,M)=>S.Range.compareRangesUsingStarts(R.range,M.range));let A=0;for(let R=0;R<s.length;R++){const{range:M,template:N}=s[R];if(R>0){const W=s[R-1].range,V=S.Range.fromPositions(W.getEndPosition(),M.getStartPosition()),z=new n.Text(_.getValueInRange(V));I.appendChild(z),A+=z.value.length}const P=E.parseFragment(N,I);t.adjustWhitespace(_,M.getStartPosition(),!0,I,new Set(P)),I.resolveVariables(T);const F=I.toString(),O=F.slice(A);A=F.length;const B=D.EditOperation.replace(M,O);B.identifier={major:R,minor:0},B._isTracked=!0,C.push(B)}return E.ensureFinalTabstop(I,l,!0),{edits:C,snippets:[new o(d,I,"")]}}constructor(d,s,l=g,r){this._editor=d,this._template=s,this._options=l,this._languageConfigurationService=r,this._templateMerges=[],this._snippets=[]}dispose(){(0,k.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:d,snippets:s}=typeof this._template=="string"?t.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):t.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=s,this._editor.executeEdits("snippet",d,l=>{const r=l.filter(h=>!!h.identifier);for(let h=0;h<s.length;h++)s[h].initialize(r[h].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):r.map(h=>p.Selection.fromPositions(h.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(d,s=g){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,d]);const{edits:l,snippets:r}=t.createEditsAndSnippetsFromSelections(this._editor,d,s.overwriteBefore,s.overwriteAfter,!0,s.adjustWhitespace,s.clipboardText,s.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",l,h=>{const u=h.filter(C=>!!C.identifier);for(let C=0;C<r.length;C++)r[C].initialize(u[C].textChange);const f=r[0].isTrivialSnippet;if(!f){for(const C of this._snippets)C.merge(r);console.assert(r.length===0)}return this._snippets[0].hasPlaceholder&&!f?this._move(void 0):u.map(C=>p.Selection.fromPositions(C.range.getEndPosition()))})}next(){const d=this._move(!0);this._editor.setSelections(d),this._editor.revealPositionInCenterIfOutsideViewport(d[0].getPosition())}prev(){const d=this._move(!1);this._editor.setSelections(d),this._editor.revealPositionInCenterIfOutsideViewport(d[0].getPosition())}_move(d){const s=[];for(const l of this._snippets){const r=l.move(d);s.push(...r)}return s}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const d=this._editor.getSelections();if(d.length<this._snippets.length)return!1;const s=new Map;for(const l of this._snippets){const r=l.computePossibleSelections();if(s.size===0)for(const[h,u]of r){u.sort(S.Range.compareRangesUsingStarts);for(const f of d)if(u[0].containsRange(f)){s.set(h,[]);break}}if(s.size===0)return!1;s.forEach((h,u)=>{h.push(...r.get(u))})}d.sort(S.Range.compareRangesUsingStarts);for(const[l,r]of s){if(r.length!==d.length){s.delete(l);continue}r.sort(S.Range.compareRangesUsingStarts);for(let h=0;h<r.length;h++)if(!r[h].containsRange(d[h])){s.delete(l);continue}}return s.size>0}};e.SnippetSession=m,e.SnippetSession=m=t=De([he(3,w.ILanguageConfigurationService)],m)}),define(ne[202],se([1,0,2,20,16,9,21,33,18,144,723,14,60,397]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const o={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let g=t=class{static get(d){return d.getContribution(t.ID)}constructor(d,s,l,r,h){this._editor=d,this._logService=s,this._languageFeaturesService=l,this._languageConfigurationService=h,this._snippetListener=new L.DisposableStore,this._modelVersionId=-1,this._inSnippet=t.InSnippetMode.bindTo(r),this._hasNextTabstop=t.HasNextTabstop.bindTo(r),this._hasPrevTabstop=t.HasPrevTabstop.bindTo(r)}dispose(){var d;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(d=this._session)===null||d===void 0||d.dispose(),this._snippetListener.dispose()}insert(d,s){try{this._doInsert(d,typeof s>"u"?o:{...o,...s})}catch(l){this.cancel(),this._logService.error(l),this._logService.error("snippet_error"),this._logService.error("insert_template=",d),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(d,s){var l;if(this._editor.hasModel()){if(this._snippetListener.clear(),s.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof d!="string"&&this.cancel(),this._session?((0,k.assertType)(typeof d=="string"),this._session.merge(d,s)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new i.SnippetSession(this._editor,d,s,this._languageConfigurationService),this._session.insert()),s.undoStopAfter&&this._editor.getModel().pushStackElement(),!((l=this._session)===null||l===void 0)&&l.hasChoice){const r={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(E,I)=>{if(!this._session||E!==this._editor.getModel()||!D.Position.equals(this._editor.getPosition(),I))return;const{activeChoice:T}=this._session;if(!T||T.choice.options.length===0)return;const A=E.getValueInRange(T.range),R=!!T.choice.options.find(N=>N.value===A),M=[];for(let N=0;N<T.choice.options.length;N++){const P=T.choice.options[N];M.push({kind:13,label:P.value,insertText:P.value,sortText:"a".repeat(N+1),range:T.range,filterText:R?`${A}_${P.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,b.localize)(3,null)}})}return{suggestions:M}}},h=this._editor.getModel();let u,f=!1;const C=()=>{u?.dispose(),f=!1},_=()=>{f||(u=this._languageFeaturesService.completionProvider.register({language:h.getLanguageId(),pattern:h.uri.fsPath,scheme:h.uri.scheme,exclusive:!0},r),this._snippetListener.add(u),f=!0)};this._choiceCompletions={provider:r,enable:_,disable:C}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(r=>r.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var d;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:s}=this._session;if(!s||!this._choiceCompletions){(d=this._choiceCompletions)===null||d===void 0||d.disable(),this._currentChoice=void 0;return}this._currentChoice!==s.choice&&(this._currentChoice=s.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,v.showSimpleSuggestions)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(d=!1){var s;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(s=this._session)===null||s===void 0||s.dispose(),this._session=void 0,this._modelVersionId=-1,d&&this._editor.setSelections([this._editor.getSelection()])}prev(){var d;(d=this._session)===null||d===void 0||d.prev(),this._updateState()}next(){var d;(d=this._session)===null||d===void 0||d.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};e.SnippetController2=g,g.ID="snippetController2",g.InSnippetMode=new a.RawContextKey("inSnippetMode",!1,(0,b.localize)(0,null)),g.HasNextTabstop=new a.RawContextKey("hasNextTabstop",!1,(0,b.localize)(1,null)),g.HasPrevTabstop=new a.RawContextKey("hasPrevTabstop",!1,(0,b.localize)(2,null)),e.SnippetController2=g=t=De([he(1,n.ILogService),he(2,w.ILanguageFeaturesService),he(3,a.IContextKeyService),he(4,p.ILanguageConfigurationService)],g),(0,y.registerEditorContribution)(g.ID,g,4);const m=y.EditorCommand.bindToContribution(g.get);(0,y.registerEditorCommand)(new m({id:"jumpToNextSnippetPlaceholder",precondition:a.ContextKeyExpr.and(g.InSnippetMode,g.HasNextTabstop),handler:c=>c.next(),kbOpts:{weight:130,kbExpr:S.EditorContextKeys.editorTextFocus,primary:2}})),(0,y.registerEditorCommand)(new m({id:"jumpToPrevSnippetPlaceholder",precondition:a.ContextKeyExpr.and(g.InSnippetMode,g.HasPrevTabstop),handler:c=>c.prev(),kbOpts:{weight:130,kbExpr:S.EditorContextKeys.editorTextFocus,primary:1026}})),(0,y.registerEditorCommand)(new m({id:"leaveSnippet",precondition:g.InSnippetMode,handler:c=>c.cancel(!0),kbOpts:{weight:130,kbExpr:S.EditorContextKeys.editorTextFocus,primary:9,secondary:[1033]}})),(0,y.registerEditorCommand)(new m({id:"acceptSnippet",precondition:g.InSnippetMode,handler:c=>c.finish()}))}),define(ne[940],se([1,0,62,12,2,32,11,20,68,9,5,23,30,33,189,807,223,140,202,25,8]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSecondaryEdits=e.InlineCompletionsModel=e.VersionIdChangeReason=void 0;var l;(function(C){C[C.Undo=0]="Undo",C[C.Redo=1]="Redo",C[C.AcceptWord=2]="AcceptWord",C[C.Other=3]="Other"})(l||(e.VersionIdChangeReason=l={}));let r=class extends y.Disposable{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(_,E,I,T,A,R,M,N,P,F,O,B){super(),this.textModel=_,this.selectedSuggestItem=E,this.textModelVersionId=I,this._positions=T,this._debounceValue=A,this._suggestPreviewEnabled=R,this._suggestPreviewMode=M,this._inlineSuggestMode=N,this._enabled=P,this._instantiationService=F,this._commandService=O,this._languageConfigurationService=B,this._source=this._register(this._instantiationService.createInstance(o.InlineCompletionsSource,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,D.observableValue)(this,!1),this._forceUpdateSignal=(0,D.observableSignal)("forceUpdate"),this._selectedInlineCompletionId=(0,D.observableValue)(this,void 0),this._primaryPosition=(0,D.derived)(this,V=>{var z;return(z=this._positions.read(V)[0])!==null&&z!==void 0?z:new v.Position(1,1)}),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([l.Redo,l.Undo,l.AcceptWord]),this._fetchInlineCompletions=(0,D.derivedHandleChanges)({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:n.InlineCompletionTriggerKind.Automatic}),handleChange:(V,z)=>(V.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(V.change)?z.preserveCurrentCompletion=!0:V.didChange(this._forceUpdateSignal)&&(z.inlineCompletionTriggerKind=V.change),!0)},(V,z)=>{if(this._forceUpdateSignal.read(V),!(this._enabled.read(V)&&this.selectedSuggestItem.read(V)||this._isActive.read(V))){this._source.cancelUpdate();return}this.textModelVersionId.read(V);const j=this.selectedInlineCompletion.get(),x=z.preserveCurrentCompletion||j?.forwardStable?j:void 0,re=this._source.suggestWidgetInlineCompletions.get(),ie=this.selectedSuggestItem.read(V);if(re&&!ie){const Y=this._source.inlineCompletions.get();(0,D.transaction)(le=>{(!Y||re.request.versionId>Y.request.versionId)&&this._source.inlineCompletions.set(re.clone(),le),this._source.clearSuggestWidgetInlineCompletions(le)})}const J=this._primaryPosition.read(V),X={triggerKind:z.inlineCompletionTriggerKind,selectedSuggestionInfo:ie?.toSelectedSuggestionInfo()};return this._source.fetch(J,X,x)}),this._filteredInlineCompletionItems=(0,D.derived)(this,V=>{const z=this._source.inlineCompletions.read(V);if(!z)return[];const K=this._primaryPosition.read(V);return z.inlineCompletions.filter(x=>x.isVisible(this.textModel,K,V))}),this.selectedInlineCompletionIndex=(0,D.derived)(this,V=>{const z=this._selectedInlineCompletionId.read(V),K=this._filteredInlineCompletionItems.read(V),j=this._selectedInlineCompletionId===void 0?-1:K.findIndex(x=>x.semanticId===z);return j===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):j}),this.selectedInlineCompletion=(0,D.derived)(this,V=>{const z=this._filteredInlineCompletionItems.read(V),K=this.selectedInlineCompletionIndex.read(V);return z[K]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,V=>V?.request.context.triggerKind),this.inlineCompletionsCount=(0,D.derived)(this,V=>{if(this.lastTriggerKind.read(V)===n.InlineCompletionTriggerKind.Explicit)return this._filteredInlineCompletionItems.read(V).length}),this.state=(0,D.derivedOpts)({owner:this,equalityComparer:(V,z)=>!V||!z?V===z:(0,t.ghostTextsOrReplacementsEqual)(V.ghostTexts,z.ghostTexts)&&V.inlineCompletion===z.inlineCompletion&&V.suggestItem===z.suggestItem},V=>{var z,K;const j=this.textModel,x=this.selectedSuggestItem.read(V);if(x){const re=x.toSingleTextEdit().removeCommonPrefix(j),ie=this._computeAugmentation(re,V);if(!this._suggestPreviewEnabled.read(V)&&!ie)return;const X=(z=ie?.edit)!==null&&z!==void 0?z:re,Y=ie?ie.edit.text.length-re.text.length:0,le=this._suggestPreviewMode.read(V),de=this._positions.read(V),ge=[X,...h(this.textModel,de,X)],pe=ge.map((U,Z)=>U.computeGhostText(j,le,de[Z],Y)).filter(p.isDefined),Q=(K=pe[0])!==null&&K!==void 0?K:new t.GhostText(X.range.endLineNumber,[]);return{edits:ge,primaryGhostText:Q,ghostTexts:pe,inlineCompletion:ie?.completion,suggestItem:x}}else{if(!this._isActive.read(V))return;const re=this.selectedInlineCompletion.read(V);if(!re)return;const ie=re.toSingleTextEdit(V),J=this._inlineSuggestMode.read(V),X=this._positions.read(V),Y=[ie,...h(this.textModel,X,ie)],le=Y.map((de,ge)=>de.computeGhostText(j,J,X[ge],0)).filter(p.isDefined);return le[0]?{edits:Y,primaryGhostText:le[0],ghostTexts:le,inlineCompletion:re,suggestItem:void 0}:void 0}}),this.ghostTexts=(0,D.derivedOpts)({owner:this,equalityComparer:t.ghostTextsOrReplacementsEqual},V=>{const z=this.state.read(V);if(z)return z.ghostTexts}),this.primaryGhostText=(0,D.derivedOpts)({owner:this,equalityComparer:t.ghostTextOrReplacementEquals},V=>{const z=this.state.read(V);if(z)return z?.primaryGhostText}),this._register((0,D.recomputeInitiallyAndOnChange)(this._fetchInlineCompletions));let W;this._register((0,D.autorun)(V=>{var z,K;const j=this.state.read(V),x=j?.inlineCompletion;if(x?.semanticId!==W?.semanticId&&(W=x,x)){const re=x.inlineCompletion,ie=re.source;(K=(z=ie.provider).handleItemDidShow)===null||K===void 0||K.call(z,ie.inlineCompletions,re.sourceInlineCompletion,re.insertText)}}))}async trigger(_){this._isActive.set(!0,_),await this._fetchInlineCompletions.get()}async triggerExplicitly(_){(0,D.subtransaction)(_,E=>{this._isActive.set(!0,E),this._forceUpdateSignal.trigger(E,n.InlineCompletionTriggerKind.Explicit)}),await this._fetchInlineCompletions.get()}stop(_){(0,D.subtransaction)(_,E=>{this._isActive.set(!1,E),this._source.clear(E)})}_computeAugmentation(_,E){const I=this.textModel,T=this._source.suggestWidgetInlineCompletions.read(E),A=T?T.inlineCompletions:[this.selectedInlineCompletion.read(E)].filter(p.isDefined);return(0,L.mapFindFirst)(A,M=>{let N=M.toSingleTextEdit(E);return N=N.removeCommonPrefix(I,b.Range.fromPositions(N.range.getStartPosition(),_.range.getEndPosition())),N.augments(_)?{completion:M,edit:N}:void 0})}async _deltaSelectedInlineCompletionIndex(_){await this.triggerExplicitly();const E=this._filteredInlineCompletionItems.get()||[];if(E.length>0){const I=(this.selectedInlineCompletionIndex.get()+_+E.length)%E.length;this._selectedInlineCompletionId.set(E[I].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}async next(){await this._deltaSelectedInlineCompletionIndex(1)}async previous(){await this._deltaSelectedInlineCompletionIndex(-1)}async accept(_){var E;if(_.getModel()!==this.textModel)throw new k.BugIndicatingError;const I=this.state.get();if(!I||I.primaryGhostText.isEmpty()||!I.inlineCompletion)return;const T=I.inlineCompletion.toInlineCompletion(void 0);if(_.pushUndoStop(),T.snippetInfo)_.executeEdits("inlineSuggestion.accept",[w.EditOperation.replaceMove(T.range,""),...T.additionalTextEdits]),_.setPosition(T.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),(E=c.SnippetController2.get(_))===null||E===void 0||E.insert(T.snippetInfo.snippet,{undoStopBefore:!1});else{const A=I.edits,R=f(A).map(M=>a.Selection.fromPositions(M));_.executeEdits("inlineSuggestion.accept",[...A.map(M=>w.EditOperation.replaceMove(M.range,M.text)),...T.additionalTextEdits]),_.setSelections(R,"inlineCompletionAccept")}T.command&&T.source.addRef(),(0,D.transaction)(A=>{this._source.clear(A),this._isActive.set(!1,A)}),T.command&&(await this._commandService.executeCommand(T.command.id,...T.command.arguments||[]).then(void 0,k.onUnexpectedExternalError),T.source.removeRef())}async acceptNextWord(_){await this._acceptNext(_,(E,I)=>{const T=this.textModel.getLanguageIdAtPosition(E.lineNumber,E.column),A=this._languageConfigurationService.getLanguageConfiguration(T),R=new RegExp(A.wordDefinition.source,A.wordDefinition.flags.replace("g","")),M=I.match(R);let N=0;M&&M.index!==void 0?M.index===0?N=M[0].length:N=M.index:N=I.length;const F=/\s+/g.exec(I);return F&&F.index!==void 0&&F.index+F[0].length<N&&(N=F.index+F[0].length),N})}async acceptNextLine(_){await this._acceptNext(_,(E,I)=>{const T=I.match(/\n/);return T&&T.index!==void 0?T.index+1:I.length})}async _acceptNext(_,E){if(_.getModel()!==this.textModel)throw new k.BugIndicatingError;const I=this.state.get();if(!I||I.primaryGhostText.isEmpty()||!I.inlineCompletion)return;const T=I.primaryGhostText,A=I.inlineCompletion.toInlineCompletion(void 0);if(A.snippetInfo||A.filterText!==A.insertText){await this.accept(_);return}const R=T.parts[0],M=new v.Position(T.lineNumber,R.column),N=R.text,P=E(M,N);if(P===N.length&&T.parts.length===1){this.accept(_);return}const F=N.substring(0,P),O=this._positions.get(),B=O[0];A.source.addRef();try{this._isAcceptingPartially=!0;try{_.pushUndoStop();const W=b.Range.fromPositions(B,M),V=_.getModel().getValueInRange(W)+F,z=new g.SingleTextEdit(W,V),K=[z,...h(this.textModel,O,z)],j=f(K).map(x=>a.Selection.fromPositions(x));_.executeEdits("inlineSuggestion.accept",K.map(x=>w.EditOperation.replaceMove(x.range,x.text))),_.setSelections(j,"inlineCompletionPartialAccept")}finally{this._isAcceptingPartially=!1}if(A.source.provider.handlePartialAccept){const W=b.Range.fromPositions(A.range.getStartPosition(),(0,m.addPositions)(M,(0,m.lengthOfText)(F))),V=_.getModel().getValueInRange(W,1);A.source.provider.handlePartialAccept(A.source.inlineCompletions,A.sourceInlineCompletion,V.length)}}finally{A.source.removeRef()}}handleSuggestAccepted(_){var E,I;const T=_.toSingleTextEdit().removeCommonPrefix(this.textModel),A=this._computeAugmentation(T,void 0);if(!A)return;const R=A.completion.inlineCompletion;(I=(E=R.source.provider).handlePartialAccept)===null||I===void 0||I.call(E,R.source.inlineCompletions,R.sourceInlineCompletion,T.text.length)}};e.InlineCompletionsModel=r,e.InlineCompletionsModel=r=De([he(9,s.IInstantiationService),he(10,d.ICommandService),he(11,i.ILanguageConfigurationService)],r);function h(C,_,E){if(_.length===1)return[];const I=_[0],T=_.slice(1),A=E.range.getStartPosition(),R=E.range.getEndPosition(),M=C.getValueInRange(b.Range.fromPositions(I,R)),N=(0,m.subtractPositions)(I,A);if(N.lineNumber<1)return(0,k.onUnexpectedError)(new k.BugIndicatingError(`positionWithinTextEdit line number should be bigger than 0.
			Invalid subtraction between ${I.toString()} and ${A.toString()}`)),[];const P=u(E.text,N);return T.map(F=>{const O=(0,m.addPositions)((0,m.subtractPositions)(F,A),R),B=C.getValueInRange(b.Range.fromPositions(F,O)),W=(0,S.commonPrefixLength)(M,B),V=b.Range.fromPositions(F,F.delta(0,W));return new g.SingleTextEdit(V,P)})}e.getSecondaryEdits=h;function u(C,_){let E="";const I=(0,S.splitLinesIncludeSeparators)(C);for(let T=_.lineNumber-1;T<I.length;T++)E+=I[T].substring(T===_.lineNumber-1?_.column-1:0);return E}function f(C){const _=m.Permutation.createSortPermutation(C,(T,A)=>b.Range.compareRangesUsingStarts(T.range,A.range)),E=(0,m.getNewRanges)(_.apply(C));return _.inverse().apply(E).map(T=>T.getEndPosition())}}),define(ne[398],se([1,0,15,19,12,7,2,11,23,123,319,107,26,14,60,61,318,144,18,73,20,246,202,248]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class f{static shouldAutoTrigger(T){if(!T.hasModel())return!1;const A=T.getModel(),R=T.getPosition();A.tokenization.tokenizeIfCheap(R.lineNumber);const M=A.getWordAtPosition(R);return!(!M||M.endColumn!==R.column&&M.startColumn+1!==R.column||!isNaN(Number(M.word)))}constructor(T,A,R){this.leadingLineContent=T.getLineContent(A.lineNumber).substr(0,A.column-1),this.leadingWord=T.getWordUntilPosition(A),this.lineNumber=A.lineNumber,this.column=A.column,this.triggerOptions=R}}e.LineContext=f;function C(I,T,A){if(!T.getContextKeyValue(l.InlineCompletionContextKeys.inlineSuggestionVisible.key))return!0;const R=T.getContextKeyValue(l.InlineCompletionContextKeys.suppressSuggestions.key);return R!==void 0?!R:!I.getOption(62).suppressSuggestions}function _(I,T,A){if(!T.getContextKeyValue("inlineSuggestionVisible"))return!0;const R=T.getContextKeyValue(l.InlineCompletionContextKeys.suppressSuggestions.key);return R!==void 0?!R:!I.getOption(62).suppressSuggestions}let E=u=class{constructor(T,A,R,M,N,P,F,O,B){this._editor=T,this._editorWorkerService=A,this._clipboardService=R,this._telemetryService=M,this._logService=N,this._contextKeyService=P,this._configurationService=F,this._languageFeaturesService=O,this._envService=B,this._toDispose=new S.DisposableStore,this._triggerCharacterListener=new S.DisposableStore,this._triggerQuickSuggest=new L.TimeoutTimer,this._triggerState=void 0,this._completionDisposables=new S.DisposableStore,this._onDidCancel=new D.Emitter,this._onDidTrigger=new D.Emitter,this._onDidSuggest=new D.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new w.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let W=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{W=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{W=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(V=>{W||this._onCursorChange(V)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!W&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,S.dispose)(this._triggerCharacterListener),(0,S.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(91)||!this._editor.hasModel()||!this._editor.getOption(121))return;const T=new Map;for(const R of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const M of R.triggerCharacters||[]){let N=T.get(M);N||(N=new Set,N.add((0,m.getSnippetSuggestSupport)()),T.set(M,N)),N.add(R)}const A=R=>{var M;if(!_(this._editor,this._contextKeyService,this._configurationService)||f.shouldAutoTrigger(this._editor))return;if(!R){const F=this._editor.getPosition();R=this._editor.getModel().getLineContent(F.lineNumber).substr(0,F.column-1)}let N="";(0,p.isLowSurrogate)(R.charCodeAt(R.length-1))?(0,p.isHighSurrogate)(R.charCodeAt(R.length-2))&&(N=R.substr(R.length-2)):N=R.charAt(R.length-1);const P=T.get(N);if(P){const F=new Map;if(this._completionModel)for(const[O,B]of this._completionModel.getItemsByProvider())P.has(O)||F.set(O,B);this.trigger({auto:!0,triggerKind:1,triggerCharacter:N,retrigger:!!this._completionModel,clipboardText:(M=this._completionModel)===null||M===void 0?void 0:M.clipboardText,completionOptions:{providerFilter:P,providerItemsToReuse:F}})}};this._triggerCharacterListener.add(this._editor.onDidType(A)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>A()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(T=!1){var A;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(A=this._requestToken)===null||A===void 0||A.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:T}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(T){if(!this._editor.hasModel())return;const A=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!T.selection.isEmpty()||T.reason!==0&&T.reason!==3||T.source!=="keyboard"&&T.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&T.reason===0?(A.containsRange(this._currentSelection)||A.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&T.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var T;m.QuickSuggestionsOptions.isAllOff(this._editor.getOption(89))||this._editor.getOption(118).snippetsPreventQuickSuggestions&&(!((T=r.SnippetController2.get(this._editor))===null||T===void 0)&&T.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!f.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const A=this._editor.getModel(),R=this._editor.getPosition(),M=this._editor.getOption(89);if(!m.QuickSuggestionsOptions.isAllOff(M)){if(!m.QuickSuggestionsOptions.isAllOn(M)){A.tokenization.tokenizeIfCheap(R.lineNumber);const N=A.tokenization.getLineTokens(R.lineNumber),P=N.getStandardTokenType(N.findTokenIndexAtOffset(Math.max(R.column-1-1,0)));if(m.QuickSuggestionsOptions.valueFor(M,P)!=="on")return}C(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(A)&&this.trigger({auto:!0})}},this._editor.getOption(90)))}_refilterCompletionItems(){(0,s.assertType)(this._editor.hasModel()),(0,s.assertType)(this._triggerState!==void 0);const T=this._editor.getModel(),A=this._editor.getPosition(),R=new f(T,A,{...this._triggerState,refilter:!0});this._onNewContext(R)}trigger(T){var A,R,M,N,P,F;if(!this._editor.hasModel())return;const O=this._editor.getModel(),B=new f(O,this._editor.getPosition(),T);this.cancel(T.retrigger),this._triggerState=T,this._onDidTrigger.fire({auto:T.auto,shy:(A=T.shy)!==null&&A!==void 0?A:!1,position:this._editor.getPosition()}),this._context=B;let W={triggerKind:(R=T.triggerKind)!==null&&R!==void 0?R:0};T.triggerCharacter&&(W={triggerKind:1,triggerCharacter:T.triggerCharacter}),this._requestToken=new k.CancellationTokenSource;const V=this._editor.getOption(112);let z=1;switch(V){case"top":z=0;break;case"bottom":z=2;break}const{itemKind:K,showDeprecated:j}=u.createSuggestFilter(this._editor),x=new m.CompletionOptions(z,(N=(M=T.completionOptions)===null||M===void 0?void 0:M.kindFilter)!==null&&N!==void 0?N:K,(P=T.completionOptions)===null||P===void 0?void 0:P.providerFilter,(F=T.completionOptions)===null||F===void 0?void 0:F.providerItemsToReuse,j),re=b.WordDistance.create(this._editorWorkerService,this._editor),ie=(0,m.provideSuggestionItems)(this._languageFeaturesService.completionProvider,O,this._editor.getPosition(),x,W,this._requestToken.token);Promise.all([ie,re]).then(async([J,X])=>{var Y;if((Y=this._requestToken)===null||Y===void 0||Y.dispose(),!this._editor.hasModel())return;let le=T?.clipboardText;if(!le&&J.needsClipboard&&(le=await this._clipboardService.readText()),this._triggerState===void 0)return;const de=this._editor.getModel(),ge=new f(de,this._editor.getPosition(),T),pe={...d.FuzzyScoreOptions.default,firstMatchCanBeWeak:!this._editor.getOption(118).matchOnWordStartOnly};if(this._completionModel=new g.CompletionModel(J.items,this._context.column,{leadingLineContent:ge.leadingLineContent,characterCountDelta:ge.column-this._context.column},X,this._editor.getOption(118),this._editor.getOption(112),pe,le),this._completionDisposables.add(J.disposable),this._onNewContext(ge),this._reportDurationsTelemetry(J.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const Q of J.items)Q.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${Q.provider._debugDisplayName}`,Q.completion)}).catch(y.onUnexpectedError)}_reportDurationsTelemetry(T){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(T)}),this._logService.debug("suggest.durations.json",T)})}static createSuggestFilter(T){const A=new Set;T.getOption(112)==="none"&&A.add(27);const M=T.getOption(118);return M.showMethods||A.add(0),M.showFunctions||A.add(1),M.showConstructors||A.add(2),M.showFields||A.add(3),M.showVariables||A.add(4),M.showClasses||A.add(5),M.showStructs||A.add(6),M.showInterfaces||A.add(7),M.showModules||A.add(8),M.showProperties||A.add(9),M.showEvents||A.add(10),M.showOperators||A.add(11),M.showUnits||A.add(12),M.showValues||A.add(13),M.showConstants||A.add(14),M.showEnums||A.add(15),M.showEnumMembers||A.add(16),M.showKeywords||A.add(17),M.showWords||A.add(18),M.showColors||A.add(19),M.showFiles||A.add(20),M.showReferences||A.add(21),M.showColors||A.add(22),M.showFolders||A.add(23),M.showTypeParameters||A.add(24),M.showSnippets||A.add(27),M.showUsers||A.add(25),M.showIssues||A.add(26),{itemKind:A,showDeprecated:M.showDeprecated}}_onNewContext(T){if(this._context){if(T.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,p.getLeadingWhitespace)(T.leadingLineContent)!==(0,p.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(T.column<this._context.column){T.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(T.leadingWord.word.length!==0&&T.leadingWord.startColumn>this._context.leadingWord.startColumn){if(f.shouldAutoTrigger(this._editor)&&this._context){const R=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:R}})}return}if(T.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&T.leadingWord.word.length!==0){const A=new Map,R=new Set;for(const[M,N]of this._completionModel.getItemsByProvider())N.length>0&&N[0].container.incomplete?R.add(M):A.set(M,N);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:R,providerItemsToReuse:A}})}else{const A=this._completionModel.lineContext;let R=!1;if(this._completionModel.lineContext={leadingLineContent:T.leadingLineContent,characterCountDelta:T.column-this._context.column},this._completionModel.items.length===0){const M=f.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(M&&this._context.leadingWord.endColumn<T.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=A,R=this._completionModel.items.length>0,R&&T.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:T.triggerOptions,isFrozen:R})}}}}};e.SuggestModel=E,e.SuggestModel=E=u=De([he(1,v.IEditorWorkerService),he(2,a.IClipboardService),he(3,o.ITelemetryService),he(4,t.ILogService),he(5,i.IContextKeyService),he(6,n.IConfigurationService),he(7,c.ILanguageFeaturesService),he(8,h.IEnvironmentService)],E)}),define(ne[399],se([1,0,44,13,19,12,7,127,2,17,63,20,131,16,68,9,5,21,202,120,365,780,727,25,14,8,60,144,779,573,398,574,922,61,48,114,6,38]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_,E,I,T,A,R,M,N,P,F,O){"use strict";var B;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const W=!1;class V{constructor(J,X){if(this._model=J,this._position=X,this._decorationOptions=O.ModelDecorationOptions.register({description:"suggest-line-suffix",stickiness:1}),J.getLineMaxColumn(X.lineNumber)!==X.column){const le=J.getOffsetAt(X),de=J.getPositionAt(le+1);J.changeDecorations(ge=>{this._marker&&ge.removeDecoration(this._marker),this._marker=ge.addDecoration(g.Range.fromPositions(X,de),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations(J=>{J.removeDecoration(this._marker),this._marker=void 0})}delta(J){if(this._model.isDisposed()||this._position.lineNumber!==J.lineNumber)return 0;if(this._marker){const X=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(X.getStartPosition())-this._model.getOffsetAt(J)}else return this._model.getLineMaxColumn(J.lineNumber)-J.column}}let z=B=class{static get(J){return J.getContribution(B.ID)}constructor(J,X,Y,le,de,ge,pe){this._memoryService=X,this._commandService=Y,this._contextKeyService=le,this._instantiationService=de,this._logService=ge,this._telemetryService=pe,this._lineSuffix=new w.MutableDisposable,this._toDispose=new w.DisposableStore,this._selectors=new K(H=>H.priority),this._onWillInsertSuggestItem=new S.Emitter,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=J,this.model=de.createInstance(T.SuggestModel,this.editor),this._selectors.register({priority:0,select:(H,q,te)=>this._memoryService.select(H,q,te)});const Q=_.Context.InsertMode.bindTo(le);Q.set(J.getOption(118).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>Q.set(J.getOption(118).insertMode))),this.widget=this._toDispose.add(new F.WindowIdleValue((0,F.getWindow)(J.getDomNode()),()=>{const H=this._instantiationService.createInstance(R.SuggestWidget,this.editor);this._toDispose.add(H),this._toDispose.add(H.onDidSelect(oe=>this._insertSuggestion(oe,0),this));const q=new I.CommitCharacterController(this.editor,H,this.model,oe=>this._insertSuggestion(oe,2));this._toDispose.add(q);const te=_.Context.MakesTextEdit.bindTo(this._contextKeyService),G=_.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),$=_.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,w.toDisposable)(()=>{te.reset(),G.reset(),$.reset()})),this._toDispose.add(H.onDidFocus(({item:oe})=>{const ae=this.editor.getPosition(),ue=oe.editStart.column,ce=ae.column;let fe=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!oe.completion.additionalTextEdits&&!(oe.completion.insertTextRules&4)&&ce-ue===oe.completion.insertText.length&&(fe=this.editor.getModel().getValueInRange({startLineNumber:ae.lineNumber,startColumn:ue,endLineNumber:ae.lineNumber,endColumn:ce})!==oe.completion.insertText),te.set(fe),G.set(!o.Position.equals(oe.editInsertEnd,oe.editReplaceEnd)),$.set(!!oe.provider.resolveCompletionItem||!!oe.completion.documentation||oe.completion.detail!==oe.completion.label)})),this._toDispose.add(H.onDetailsKeyDown(oe=>{if(oe.toKeyCodeChord().equals(new p.KeyCodeChord(!0,!1,!1,!1,33))||v.isMacintosh&&oe.toKeyCodeChord().equals(new p.KeyCodeChord(!1,!1,!1,!0,33))){oe.stopPropagation();return}oe.toKeyCodeChord().isModifierKey()||this.editor.focus()})),H})),this._overtypingCapturer=this._toDispose.add(new F.WindowIdleValue((0,F.getWindow)(J.getDomNode()),()=>this._toDispose.add(new A.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new F.WindowIdleValue((0,F.getWindow)(J.getDomNode()),()=>this._toDispose.add(new E.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(de.createInstance(l.WordContextKey,J)),this._toDispose.add(this.model.onDidTrigger(H=>{this.widget.value.showTriggered(H.auto,H.shy?250:50),this._lineSuffix.value=new V(this.editor.getModel(),H.position)})),this._toDispose.add(this.model.onDidSuggest(H=>{if(H.triggerOptions.shy)return;let q=-1;for(const G of this._selectors.itemsOrderedByPriorityDesc)if(q=G.select(this.editor.getModel(),this.editor.getPosition(),H.completionModel.items),q!==-1)break;if(q===-1&&(q=0),this.model.state===0)return;let te=!1;if(H.triggerOptions.auto){const G=this.editor.getOption(118);G.selectionMode==="never"||G.selectionMode==="always"?te=G.selectionMode==="never":G.selectionMode==="whenTriggerCharacter"?te=H.triggerOptions.triggerKind!==1:G.selectionMode==="whenQuickSuggestion"&&(te=H.triggerOptions.triggerKind===1&&!H.triggerOptions.refilter)}this.widget.value.showSuggestions(H.completionModel,q,H.isFrozen,H.triggerOptions.auto,te)})),this._toDispose.add(this.model.onDidCancel(H=>{H.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{W||(this.model.cancel(),this.model.clear())}));const U=_.Context.AcceptSuggestionsOnEnter.bindTo(le),Z=()=>{const H=this.editor.getOption(1);U.set(H==="on"||H==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>Z())),Z()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(J,X){if(!J||!J.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Y=c.SnippetController2.get(this.editor);if(!Y)return;this._onWillInsertSuggestItem.fire({item:J.item});const le=this.editor.getModel(),de=le.getAlternativeVersionId(),{item:ge}=J,pe=[],Q=new y.CancellationTokenSource;X&1||this.editor.pushUndoStop();const U=this.getOverwriteInfo(ge,!!(X&8));this._memoryService.memorize(le,this.editor.getPosition(),ge);const Z=ge.isResolved;let H=-1,q=-1;if(Array.isArray(ge.completion.additionalTextEdits)){this.model.cancel();const G=n.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",ge.completion.additionalTextEdits.map($=>{let oe=g.Range.lift($.range);if(oe.startLineNumber===ge.position.lineNumber&&oe.startColumn>ge.position.column){const ae=this.editor.getPosition().column-ge.position.column,ue=ae,ce=g.Range.spansMultipleLines(oe)?0:ae;oe=new g.Range(oe.startLineNumber,oe.startColumn+ue,oe.endLineNumber,oe.endColumn+ce)}return t.EditOperation.replaceMove(oe,$.text)})),G.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!Z){const G=new b.StopWatch;let $;const oe=le.onDidChangeContent(fe=>{if(fe.isFlush){Q.cancel(),oe.dispose();return}for(const ve of fe.changes){const Ce=g.Range.getEndPosition(ve.range);(!$||o.Position.isBefore(Ce,$))&&($=Ce)}}),ae=X;X|=2;let ue=!1;const ce=this.editor.onWillType(()=>{ce.dispose(),ue=!0,ae&2||this.editor.pushUndoStop()});pe.push(ge.resolve(Q.token).then(()=>{if(!ge.completion.additionalTextEdits||Q.token.isCancellationRequested)return;if($&&ge.completion.additionalTextEdits.some(ve=>o.Position.isBefore($,g.Range.getStartPosition(ve.range))))return!1;ue&&this.editor.pushUndoStop();const fe=n.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",ge.completion.additionalTextEdits.map(ve=>t.EditOperation.replaceMove(g.Range.lift(ve.range),ve.text))),fe.restoreRelativeVerticalPositionOfCursor(this.editor),(ue||!(ae&2))&&this.editor.pushUndoStop(),!0}).then(fe=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",G.elapsed(),fe),q=fe===!0?1:fe===!1?0:-2}).finally(()=>{oe.dispose(),ce.dispose()}))}let{insertText:te}=ge.completion;if(ge.completion.insertTextRules&4||(te=d.SnippetParser.escape(te)),this.model.cancel(),Y.insert(te,{overwriteBefore:U.overwriteBefore,overwriteAfter:U.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(ge.completion.insertTextRules&1),clipboardText:J.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),X&2||this.editor.pushUndoStop(),ge.completion.command)if(ge.completion.command.id===j.id)this.model.trigger({auto:!0,retrigger:!0});else{const G=new b.StopWatch;pe.push(this._commandService.executeCommand(ge.completion.command.id,...ge.completion.command.arguments?[...ge.completion.command.arguments]:[]).catch($=>{ge.completion.extensionId?(0,D.onUnexpectedExternalError)($):(0,D.onUnexpectedError)($)}).finally(()=>{H=G.elapsed()}))}X&4&&this._alternatives.value.set(J,G=>{for(Q.cancel();le.canUndo();){de!==le.getAlternativeVersionId()&&le.undo(),this._insertSuggestion(G,3|(X&8?8:0));break}}),this._alertCompletionItem(ge),Promise.all(pe).finally(()=>{this._reportSuggestionAcceptedTelemetry(ge,le,Z,H,q),this.model.clear(),Q.dispose()})}_reportSuggestionAcceptedTelemetry(J,X,Y,le,de){var ge,pe,Q;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(pe=(ge=J.extensionId)===null||ge===void 0?void 0:ge.value)!==null&&pe!==void 0?pe:"unknown",providerId:(Q=J.provider._debugDisplayName)!==null&&Q!==void 0?Q:"unknown",kind:J.completion.kind,basenameHash:(0,P.hash)((0,N.basename)(X.uri)).toString(16),languageId:X.getLanguageId(),fileExtension:(0,N.extname)(X.uri),resolveInfo:J.provider.resolveCompletionItem?Y?1:0:-1,resolveDuration:J.resolveDuration,commandDuration:le,additionalEditsAsync:de})}getOverwriteInfo(J,X){(0,a.assertType)(this.editor.hasModel());let Y=this.editor.getOption(118).insertMode==="replace";X&&(Y=!Y);const le=J.position.column-J.editStart.column,de=(Y?J.editReplaceEnd.column:J.editInsertEnd.column)-J.position.column,ge=this.editor.getPosition().column-J.position.column,pe=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:le+ge,overwriteAfter:de+pe}}_alertCompletionItem(J){if((0,k.isNonEmptyArray)(J.completion.additionalTextEdits)){const X=r.localize(0,null,J.textLabel,J.completion.additionalTextEdits.length);(0,L.alert)(X)}}triggerSuggest(J,X,Y){this.editor.hasModel()&&(this.model.trigger({auto:X??!1,completionOptions:{providerFilter:J,kindFilter:Y?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(J){if(!this.editor.hasModel())return;const X=this.editor.getPosition(),Y=()=>{X.equals(this.editor.getPosition())&&this._commandService.executeCommand(J.fallback)},le=de=>{if(de.completion.insertTextRules&4||de.completion.additionalTextEdits)return!0;const ge=this.editor.getPosition(),pe=de.editStart.column,Q=ge.column;return Q-pe!==de.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:ge.lineNumber,startColumn:pe,endLineNumber:ge.lineNumber,endColumn:Q})!==de.completion.insertText};S.Event.once(this.model.onDidTrigger)(de=>{const ge=[];S.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,w.dispose)(ge),Y()},void 0,ge),this.model.onDidSuggest(({completionModel:pe})=>{if((0,w.dispose)(ge),pe.items.length===0){Y();return}const Q=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),pe.items),U=pe.items[Q];if(!le(U)){Y();return}this.editor.pushUndoStop(),this._insertSuggestion({index:Q,item:U,model:pe},7)},void 0,ge)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(X,0),this.editor.focus()}acceptSelectedSuggestion(J,X){const Y=this.widget.value.getFocusedItem();let le=0;J&&(le|=4),X&&(le|=8),this._insertSuggestion(Y,le)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(J){return this._selectors.register(J)}};e.SuggestController=z,z.ID="editor.contrib.suggestController",e.SuggestController=z=B=De([he(1,s.ISuggestMemoryService),he(2,h.ICommandService),he(3,u.IContextKeyService),he(4,f.IInstantiationService),he(5,C.ILogService),he(6,M.ITelemetryService)],z);class K{constructor(J){this.prioritySelector=J,this._items=new Array}register(J){if(this._items.indexOf(J)!==-1)throw new Error("Value is already registered");return this._items.push(J),this._items.sort((X,Y)=>this.prioritySelector(Y)-this.prioritySelector(X)),{dispose:()=>{const X=this._items.indexOf(J);X>=0&&this._items.splice(X,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class j extends i.EditorAction{constructor(){super({id:j.id,label:r.localize(1,null),alias:"Trigger Suggest",precondition:u.ContextKeyExpr.and(m.EditorContextKeys.writable,m.EditorContextKeys.hasCompletionItemProvider,_.Context.Visible.toNegated()),kbOpts:{kbExpr:m.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(J,X,Y){const le=z.get(X);if(!le)return;let de;Y&&typeof Y=="object"&&Y.auto===!0&&(de=!0),le.triggerSuggest(void 0,de,void 0)}}e.TriggerSuggestAction=j,j.id="editor.action.triggerSuggest",(0,i.registerEditorContribution)(z.ID,z,2),(0,i.registerEditorAction)(j);const x=190,re=i.EditorCommand.bindToContribution(z.get);(0,i.registerEditorCommand)(new re({id:"acceptSelectedSuggestion",precondition:u.ContextKeyExpr.and(_.Context.Visible,_.Context.HasFocusedSuggestion),handler(ie){ie.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:u.ContextKeyExpr.and(_.Context.Visible,m.EditorContextKeys.textInputFocus),weight:x},{primary:3,kbExpr:u.ContextKeyExpr.and(_.Context.Visible,m.EditorContextKeys.textInputFocus,_.Context.AcceptSuggestionsOnEnter,_.Context.MakesTextEdit),weight:x}],menuOpts:[{menuId:_.suggestWidgetStatusbarMenu,title:r.localize(2,null),group:"left",order:1,when:_.Context.HasInsertAndReplaceRange.toNegated()},{menuId:_.suggestWidgetStatusbarMenu,title:r.localize(3,null),group:"left",order:1,when:u.ContextKeyExpr.and(_.Context.HasInsertAndReplaceRange,_.Context.InsertMode.isEqualTo("insert"))},{menuId:_.suggestWidgetStatusbarMenu,title:r.localize(4,null),group:"left",order:1,when:u.ContextKeyExpr.and(_.Context.HasInsertAndReplaceRange,_.Context.InsertMode.isEqualTo("replace"))}]})),(0,i.registerEditorCommand)(new re({id:"acceptAlternativeSelectedSuggestion",precondition:u.ContextKeyExpr.and(_.Context.Visible,m.EditorContextKeys.textInputFocus,_.Context.HasFocusedSuggestion),kbOpts:{weight:x,kbExpr:m.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(ie){ie.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:_.suggestWidgetStatusbarMenu,group:"left",order:2,when:u.ContextKeyExpr.and(_.Context.HasInsertAndReplaceRange,_.Context.InsertMode.isEqualTo("insert")),title:r.localize(5,null)},{menuId:_.suggestWidgetStatusbarMenu,group:"left",order:2,when:u.ContextKeyExpr.and(_.Context.HasInsertAndReplaceRange,_.Context.InsertMode.isEqualTo("replace")),title:r.localize(6,null)}]})),h.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,i.registerEditorCommand)(new re({id:"hideSuggestWidget",precondition:_.Context.Visible,handler:ie=>ie.cancelSuggestWidget(),kbOpts:{weight:x,kbExpr:m.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,i.registerEditorCommand)(new re({id:"selectNextSuggestion",precondition:u.ContextKeyExpr.and(_.Context.Visible,u.ContextKeyExpr.or(_.Context.MultipleSuggestions,_.Context.HasFocusedSuggestion.negate())),handler:ie=>ie.selectNextSuggestion(),kbOpts:{weight:x,kbExpr:m.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,i.registerEditorCommand)(new re({id:"selectNextPageSuggestion",precondition:u.ContextKeyExpr.and(_.Context.Visible,u.ContextKeyExpr.or(_.Context.MultipleSuggestions,_.Context.HasFocusedSuggestion.negate())),handler:ie=>ie.selectNextPageSuggestion(),kbOpts:{weight:x,kbExpr:m.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,i.registerEditorCommand)(new re({id:"selectLastSuggestion",precondition:u.ContextKeyExpr.and(_.Context.Visible,u.ContextKeyExpr.or(_.Context.MultipleSuggestions,_.Context.HasFocusedSuggestion.negate())),handler:ie=>ie.selectLastSuggestion()})),(0,i.registerEditorCommand)(new re({id:"selectPrevSuggestion",precondition:u.ContextKeyExpr.and(_.Context.Visible,u.ContextKeyExpr.or(_.Context.MultipleSuggestions,_.Context.HasFocusedSuggestion.negate())),handler:ie=>ie.selectPrevSuggestion(),kbOpts:{weight:x,kbExpr:m.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,i.registerEditorCommand)(new re({id:"selectPrevPageSuggestion",precondition:u.ContextKeyExpr.and(_.Context.Visible,u.ContextKeyExpr.or(_.Context.MultipleSuggestions,_.Context.HasFocusedSuggestion.negate())),handler:ie=>ie.selectPrevPageSuggestion(),kbOpts:{weight:x,kbExpr:m.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,i.registerEditorCommand)(new re({id:"selectFirstSuggestion",precondition:u.ContextKeyExpr.and(_.Context.Visible,u.ContextKeyExpr.or(_.Context.MultipleSuggestions,_.Context.HasFocusedSuggestion.negate())),handler:ie=>ie.selectFirstSuggestion()})),(0,i.registerEditorCommand)(new re({id:"focusSuggestion",precondition:u.ContextKeyExpr.and(_.Context.Visible,_.Context.HasFocusedSuggestion.negate()),handler:ie=>ie.focusSuggestion(),kbOpts:{weight:x,kbExpr:m.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,i.registerEditorCommand)(new re({id:"focusAndAcceptSuggestion",precondition:u.ContextKeyExpr.and(_.Context.Visible,_.Context.HasFocusedSuggestion.negate()),handler:ie=>{ie.focusSuggestion(),ie.acceptSelectedSuggestion(!0,!1)}})),(0,i.registerEditorCommand)(new re({id:"toggleSuggestionDetails",precondition:u.ContextKeyExpr.and(_.Context.Visible,_.Context.HasFocusedSuggestion),handler:ie=>ie.toggleSuggestionDetails(),kbOpts:{weight:x,kbExpr:m.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:_.suggestWidgetStatusbarMenu,group:"right",order:1,when:u.ContextKeyExpr.and(_.Context.DetailsVisible,_.Context.CanResolve),title:r.localize(7,null)},{menuId:_.suggestWidgetStatusbarMenu,group:"right",order:1,when:u.ContextKeyExpr.and(_.Context.DetailsVisible.toNegated(),_.Context.CanResolve),title:r.localize(8,null)}]})),(0,i.registerEditorCommand)(new re({id:"toggleExplainMode",precondition:_.Context.Visible,handler:ie=>ie.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,i.registerEditorCommand)(new re({id:"toggleSuggestionFocus",precondition:_.Context.Visible,handler:ie=>ie.toggleSuggestionFocus(),kbOpts:{weight:x,kbExpr:m.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,i.registerEditorCommand)(new re({id:"insertBestCompletion",precondition:u.ContextKeyExpr.and(m.EditorContextKeys.textInputFocus,u.ContextKeyExpr.equals("config.editor.tabCompletion","on"),l.WordContextKey.AtEnd,_.Context.Visible.toNegated(),E.SuggestAlternatives.OtherSuggestions.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:(ie,J)=>{ie.triggerSuggestAndAcceptBest((0,a.isObject)(J)?{fallback:"tab",...J}:{fallback:"tab"})},kbOpts:{weight:x,primary:2}})),(0,i.registerEditorCommand)(new re({id:"insertNextSuggestion",precondition:u.ContextKeyExpr.and(m.EditorContextKeys.textInputFocus,u.ContextKeyExpr.equals("config.editor.tabCompletion","on"),E.SuggestAlternatives.OtherSuggestions,_.Context.Visible.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:ie=>ie.acceptNextSuggestion(),kbOpts:{weight:x,kbExpr:m.EditorContextKeys.textInputFocus,primary:2}})),(0,i.registerEditorCommand)(new re({id:"insertPrevSuggestion",precondition:u.ContextKeyExpr.and(m.EditorContextKeys.textInputFocus,u.ContextKeyExpr.equals("config.editor.tabCompletion","on"),E.SuggestAlternatives.OtherSuggestions,_.Context.Visible.toNegated(),c.SnippetController2.InSnippetMode.toNegated()),handler:ie=>ie.acceptPrevSuggestion(),kbOpts:{weight:x,kbExpr:m.EditorContextKeys.textInputFocus,primary:1026}})),(0,i.registerEditorAction)(class extends i.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:r.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(ie,J){var X;(X=z.get(J))===null||X===void 0||X.resetWidgetSize()}})}),define(ne[941],se([1,0,7,2,9,5,30,120,397,399,32,223,13,62]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestItemInfo=e.SuggestWidgetAdaptor=void 0;class t extends k.Disposable{get selectedItem(){return this._selectedItem}constructor(c,d,s,l){super(),this.editor=c,this.suggestControllerPreselector=d,this.checkModelVersion=s,this.onWillAccept=l,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,b.observableValue)(this,void 0),this._register(c.onKeyDown(h=>{h.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(c.onKeyUp(h=>{h.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const r=v.SuggestController.get(this.editor);if(r){this._register(r.registerSelector({priority:100,select:(f,C,_)=>{var E;(0,b.transaction)(N=>this.checkModelVersion(N));const I=this.editor.getModel();if(!I)return-1;const T=(E=this.suggestControllerPreselector())===null||E===void 0?void 0:E.removeCommonPrefix(I);if(!T)return-1;const A=y.Position.lift(C),R=_.map((N,P)=>{const O=o.fromSuggestion(r,I,A,N,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(I),B=T.augments(O);return{index:P,valid:B,prefixLength:O.text.length,suggestItem:N}}).filter(N=>N&&N.valid&&N.prefixLength>0),M=(0,i.findFirstMaxBy)(R,(0,n.compareBy)(N=>N.prefixLength,n.numberComparator));return M?M.index:-1}}));let h=!1;const u=()=>{h||(h=!0,this._register(r.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(r.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(r.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(L.Event.once(r.model.onDidTrigger)(f=>{u()})),this._register(r.onWillInsertSuggestItem(f=>{const C=this.editor.getPosition(),_=this.editor.getModel();if(!C||!_)return;const E=o.fromSuggestion(r,_,C,f.item,this.isShiftKeyPressed);this.onWillAccept(E)}))}this.update(this._isActive)}update(c){const d=this.getSuggestItemInfo();(this._isActive!==c||!g(this._currentSuggestItemInfo,d))&&(this._isActive=c,this._currentSuggestItemInfo=d,(0,b.transaction)(s=>{this.checkModelVersion(s),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,s)}))}getSuggestItemInfo(){const c=v.SuggestController.get(this.editor);if(!c||!this.isSuggestWidgetVisible)return;const d=c.widget.value.getFocusedItem(),s=this.editor.getPosition(),l=this.editor.getModel();if(!(!d||!s||!l))return o.fromSuggestion(c,l,s,d.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const c=v.SuggestController.get(this.editor);c?.stopForceRenderingAbove()}forceRenderingAbove(){const c=v.SuggestController.get(this.editor);c?.forceRenderingAbove()}}e.SuggestWidgetAdaptor=t;class o{static fromSuggestion(c,d,s,l,r){let{insertText:h}=l.completion,u=!1;if(l.completion.insertTextRules&4){const C=new p.SnippetParser().parse(h);C.children.length<100&&w.SnippetSession.adjustWhitespace(d,s,!0,C),h=C.toString(),u=!0}const f=c.getOverwriteInfo(l,r);return new o(D.Range.fromPositions(s.delta(0,-f.overwriteBefore),s.delta(0,Math.max(f.overwriteAfter,0))),h,l.completion.kind,u)}constructor(c,d,s,l){this.range=c,this.insertText=d,this.completionItemKind=s,this.isSnippetText=l}equals(c){return this.range.equalsRange(c.range)&&this.insertText===c.insertText&&this.completionItemKind===c.completionItemKind&&this.isSnippetText===c.isSnippetText}toSelectedSuggestionInfo(){return new S.SelectedSuggestionInfo(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new a.SingleTextEdit(this.range,this.insertText)}}e.SuggestItemInfo=o;function g(m,c){return m===c?!0:!m||!c?!1:m.equals(c)}}),define(ne[271],se([1,0,6,44,2,32,197,9,80,18,222,349,246,263,940,941,706,124,25,26,14,8,34,277]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsController=void 0;let f=u=class extends y.Disposable{static get(E){return E.getContribution(u.ID)}constructor(E,I,T,A,R,M,N,P,F){super(),this.editor=E,this._instantiationService=I,this._contextKeyService=T,this._configurationService=A,this._commandService=R,this._debounceService=M,this._languageFeaturesService=N,this._accessibilitySignalService=P,this._keybindingService=F,this.model=this._register((0,D.disposableObservableValue)("inlineCompletionModel",void 0)),this._textModelVersionId=(0,D.observableValue)(this,-1),this._positions=(0,D.observableValue)(this,[new p.Position(1,1)]),this._suggestWidgetAdaptor=this._register(new o.SuggestWidgetAdaptor(this.editor,()=>{var V,z;return(z=(V=this.model.get())===null||V===void 0?void 0:V.selectedInlineCompletion.get())===null||z===void 0?void 0:z.toSingleTextEdit(void 0)},V=>this.updateObservables(V,t.VersionIdChangeReason.Other),V=>{(0,D.transaction)(z=>{var K;this.updateObservables(z,t.VersionIdChangeReason.Other),(K=this.model.get())===null||K===void 0||K.handleSuggestAccepted(V)})})),this._enabled=(0,D.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._fontFamily=(0,D.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._ghostTexts=(0,D.derived)(this,V=>{var z;const K=this.model.read(V);return(z=K?.ghostTexts.read(V))!==null&&z!==void 0?z:[]}),this._stablizedGhostTexts=C(this._ghostTexts,this._store),this._ghostTextWidgets=(0,h.mapObservableArrayCached)(this,this._stablizedGhostTexts,(V,z)=>z.add(this._instantiationService.createInstance(a.GhostTextWidget,this.editor,{ghostText:V,minReservedLineCount:(0,D.constObservable)(0),targetTextModel:this.model.map(K=>K?.textModel)}))).recomputeInitiallyAndOnChange(this._store),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._playAccessibilitySignal=(0,D.observableSignal)(this),this._isReadonly=(0,D.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(91)),this._textModel=(0,D.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this._textModelIfWritable=(0,D.derived)(V=>this._isReadonly.read(V)?void 0:this._textModel.read(V)),this._register(new n.InlineCompletionContextKeys(this._contextKeyService,this.model)),this._register((0,D.autorun)(V=>{const z=this._textModelIfWritable.read(V);(0,D.transaction)(K=>{if(this.model.set(void 0,K),this.updateObservables(K,t.VersionIdChangeReason.Other),z){const j=I.createInstance(t.InlineCompletionsModel,z,this._suggestWidgetAdaptor.selectedItem,this._textModelVersionId,this._positions,this._debounceValue,(0,D.observableFromEvent)(E.onDidChangeConfiguration,()=>E.getOption(118).preview),(0,D.observableFromEvent)(E.onDidChangeConfiguration,()=>E.getOption(118).previewMode),(0,D.observableFromEvent)(E.onDidChangeConfiguration,()=>E.getOption(62).mode),this._enabled);this.model.set(j,K)}})}));const O=this._register((0,L.createStyleSheet2)());this._register((0,D.autorun)(V=>{const z=this._fontFamily.read(V);O.setStyle(z===""||z==="default"?"":`
.monaco-editor .ghost-text-decoration,
.monaco-editor .ghost-text-decoration-preview,
.monaco-editor .ghost-text {
	font-family: ${z};
}`)}));const B=V=>{var z;return V.isUndoing?t.VersionIdChangeReason.Undo:V.isRedoing?t.VersionIdChangeReason.Redo:!((z=this.model.get())===null||z===void 0)&&z.isAcceptingPartially?t.VersionIdChangeReason.AcceptWord:t.VersionIdChangeReason.Other};this._register(E.onDidChangeModelContent(V=>(0,D.transaction)(z=>this.updateObservables(z,B(V))))),this._register(E.onDidChangeCursorPosition(V=>(0,D.transaction)(z=>{var K;this.updateObservables(z,t.VersionIdChangeReason.Other),(V.reason===3||V.source==="api")&&((K=this.model.get())===null||K===void 0||K.stop(z))}))),this._register(E.onDidType(()=>(0,D.transaction)(V=>{var z;this.updateObservables(V,t.VersionIdChangeReason.Other),this._enabled.get()&&((z=this.model.get())===null||z===void 0||z.trigger(V))}))),this._register(this._commandService.onDidExecuteCommand(V=>{new Set([S.CoreEditingCommands.Tab.id,S.CoreEditingCommands.DeleteLeft.id,S.CoreEditingCommands.DeleteRight.id,b.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(V.commandId)&&E.hasTextFocus()&&this._enabled.get()&&(0,D.transaction)(K=>{var j;(j=this.model.get())===null||j===void 0||j.trigger(K)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||E.getOption(62).keepOnBlur||i.InlineSuggestionHintsContentWidget.dropDownVisible||(0,D.transaction)(V=>{var z;(z=this.model.get())===null||z===void 0||z.stop(V)})})),this._register((0,D.autorun)(V=>{var z;const K=(z=this.model.read(V))===null||z===void 0?void 0:z.state.read(V);K?.suggestItem?K.primaryGhostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,y.toDisposable)(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));let W;this._register((0,D.autorunHandleChanges)({handleChange:(V,z)=>(V.didChange(this._playAccessibilitySignal)&&(W=void 0),!0)},async V=>{this._playAccessibilitySignal.read(V);const z=this.model.read(V),K=z?.state.read(V);if(!z||!K||!K.inlineCompletion){W=void 0;return}if(K.inlineCompletion.semanticId!==W){W=K.inlineCompletion.semanticId;const j=z.textModel.getLineContent(K.primaryGhostText.lineNumber);this._accessibilitySignalService.playSignal(m.AccessibilitySignal.inlineSuggestion).then(()=>{this.editor.getOption(8)&&this.provideScreenReaderUpdate(K.primaryGhostText.renderForScreenReader(j))})}})),this._register(new i.InlineCompletionsHintsWidget(this.editor,this.model,this._instantiationService)),this._register(this._configurationService.onDidChangeConfiguration(V=>{V.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAccessibilitySignal(E){this._playAccessibilitySignal.trigger(E)}provideScreenReaderUpdate(E){const I=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),T=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let A;!I&&T&&this.editor.getOption(148)&&(A=(0,g.localize)(0,null,T.getAriaLabel())),A?(0,k.alert)(E+", "+A):(0,k.alert)(E)}updateObservables(E,I){var T,A,R;const M=this.editor.getModel();this._textModelVersionId.set((T=M?.getVersionId())!==null&&T!==void 0?T:-1,E,I),this._positions.set((R=(A=this.editor.getSelections())===null||A===void 0?void 0:A.map(N=>N.getPosition()))!==null&&R!==void 0?R:[new p.Position(1,1)],E)}shouldShowHoverAt(E){var I;const T=(I=this.model.get())===null||I===void 0?void 0:I.primaryGhostText.get();return T?T.parts.some(A=>E.containsPosition(new p.Position(T.lineNumber,A.column))):!1}shouldShowHoverAtViewZone(E){var I,T;return(T=(I=this._ghostTextWidgets.get()[0])===null||I===void 0?void 0:I.ownsViewZone(E))!==null&&T!==void 0?T:!1}};e.InlineCompletionsController=f,f.ID="editor.contrib.inlineCompletionsController",e.InlineCompletionsController=f=u=De([he(1,l.IInstantiationService),he(2,s.IContextKeyService),he(3,d.IConfigurationService),he(4,c.ICommandService),he(5,w.ILanguageFeatureDebounceService),he(6,v.ILanguageFeaturesService),he(7,m.IAccessibilitySignalService),he(8,r.IKeybindingService)],f);function C(_,E){const I=(0,D.observableValue)("result",[]),T=[];return E.add((0,D.autorun)(A=>{const R=_.read(A);(0,D.transaction)(M=>{if(R.length!==T.length){T.length=R.length;for(let N=0;N<T.length;N++)T[N]||(T[N]=(0,D.observableValue)("item",R[N]));I.set([...T],M)}T.forEach((N,P)=>N.set(R[P],M))})})),I}}),define(ne[942],se([1,0,32,129,16,21,222,246,271,144,703,28,26,14]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleAlwaysShowInlineSuggestionToolbar=e.HideInlineCompletion=e.AcceptInlineCompletion=e.AcceptNextLineOfInlineCompletion=e.AcceptNextWordOfInlineCompletion=e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=void 0;class t extends y.EditorAction{constructor(){super({id:t.ID,label:b.localize(0,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(D.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}async run(h,u){var f;const C=w.InlineCompletionsController.get(u);(f=C?.model.get())===null||f===void 0||f.next()}}e.ShowNextInlineSuggestionAction=t,t.ID=S.showNextInlineSuggestionActionId;class o extends y.EditorAction{constructor(){super({id:o.ID,label:b.localize(1,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(D.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}async run(h,u){var f;const C=w.InlineCompletionsController.get(u);(f=C?.model.get())===null||f===void 0||f.previous()}}e.ShowPreviousInlineSuggestionAction=o,o.ID=S.showPreviousInlineSuggestionActionId;class g extends y.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:b.localize(2,null),alias:"Trigger Inline Suggestion",precondition:D.EditorContextKeys.writable})}async run(h,u){const f=w.InlineCompletionsController.get(u);await(0,k.asyncTransaction)(async C=>{var _;await((_=f?.model.get())===null||_===void 0?void 0:_.triggerExplicitly(C)),f?.playAccessibilitySignal(C)})}}e.TriggerInlineSuggestionAction=g;class m extends y.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:b.localize(3,null),alias:"Accept Next Word Of Inline Suggestion",precondition:i.ContextKeyExpr.and(D.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:i.ContextKeyExpr.and(D.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible)},menuOpts:[{menuId:a.MenuId.InlineSuggestionToolbar,title:b.localize(4,null),group:"primary",order:2}]})}async run(h,u){var f;const C=w.InlineCompletionsController.get(u);await((f=C?.model.get())===null||f===void 0?void 0:f.acceptNextWord(C.editor))}}e.AcceptNextWordOfInlineCompletion=m;class c extends y.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:b.localize(5,null),alias:"Accept Next Line Of Inline Suggestion",precondition:i.ContextKeyExpr.and(D.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:a.MenuId.InlineSuggestionToolbar,title:b.localize(6,null),group:"secondary",order:2}]})}async run(h,u){var f;const C=w.InlineCompletionsController.get(u);await((f=C?.model.get())===null||f===void 0?void 0:f.acceptNextLine(C.editor))}}e.AcceptNextLineOfInlineCompletion=c;class d extends y.EditorAction{constructor(){super({id:S.inlineSuggestCommitId,label:b.localize(7,null),alias:"Accept Inline Suggestion",precondition:p.InlineCompletionContextKeys.inlineSuggestionVisible,menuOpts:[{menuId:a.MenuId.InlineSuggestionToolbar,title:b.localize(8,null),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:i.ContextKeyExpr.and(p.InlineCompletionContextKeys.inlineSuggestionVisible,D.EditorContextKeys.tabMovesFocus.toNegated(),p.InlineCompletionContextKeys.inlineSuggestionHasIndentationLessThanTabSize,v.Context.Visible.toNegated(),D.EditorContextKeys.hoverFocused.toNegated())}})}async run(h,u){var f;const C=w.InlineCompletionsController.get(u);C&&((f=C.model.get())===null||f===void 0||f.accept(C.editor),C.editor.focus())}}e.AcceptInlineCompletion=d;class s extends y.EditorAction{constructor(){super({id:s.ID,label:b.localize(9,null),alias:"Hide Inline Suggestion",precondition:p.InlineCompletionContextKeys.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}async run(h,u){const f=w.InlineCompletionsController.get(u);(0,L.transaction)(C=>{var _;(_=f?.model.get())===null||_===void 0||_.stop(C)})}}e.HideInlineCompletion=s,s.ID="editor.action.inlineSuggest.hide";class l extends a.Action2{constructor(){super({id:l.ID,title:b.localize(10,null),f1:!1,precondition:void 0,menu:[{id:a.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:i.ContextKeyExpr.equals("config.editor.inlineSuggest.showToolbar","always")})}async run(h,u){const f=h.get(n.IConfigurationService),_=f.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";f.updateValue("editor.inlineSuggest.showToolbar",_)}}e.ToggleAlwaysShowInlineSuggestionToolbar=l,l.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}),define(ne[943],se([1,0,6,58,2,32,5,43,93,271,263,108,704,71,8,57,61]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class m{constructor(s,l,r){this.owner=s,this.range=l,this.controller=r}isValidForHoverAnchor(s){return s.type===1&&this.range.startColumn<=s.range.startColumn&&this.range.endColumn>=s.range.endColumn}}e.InlineCompletionsHover=m;let c=class{constructor(s,l,r,h,u,f){this._editor=s,this._languageService=l,this._openerService=r,this.accessibilityService=h,this._instantiationService=u,this._telemetryService=f,this.hoverOrdinal=4}suggestHoverAnchor(s){const l=v.InlineCompletionsController.get(this._editor);if(!l)return null;const r=s.target;if(r.type===8){const h=r.detail;if(l.shouldShowHoverAtViewZone(h.viewZoneId))return new w.HoverForeignElementAnchor(1e3,this,S.Range.fromPositions(this._editor.getModel().validatePosition(h.positionBefore||h.position)),s.event.posx,s.event.posy,!1)}return r.type===7&&l.shouldShowHoverAt(r.range)?new w.HoverForeignElementAnchor(1e3,this,r.range,s.event.posx,s.event.posy,!1):r.type===6&&r.detail.mightBeForeignElement&&l.shouldShowHoverAt(r.range)?new w.HoverForeignElementAnchor(1e3,this,r.range,s.event.posx,s.event.posy,!1):null}computeSync(s,l){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const r=v.InlineCompletionsController.get(this._editor);return r&&r.shouldShowHoverAt(s.range)?[new m(this,s.range,r)]:[]}renderHoverParts(s,l){const r=new y.DisposableStore,h=l[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(s,h,r);const u=h.controller.model.get(),f=this._instantiationService.createInstance(b.InlineSuggestionHintsContentWidget,this._editor,!1,(0,D.constObservable)(null),u.selectedInlineCompletionIndex,u.inlineCompletionsCount,u.selectedInlineCompletion.map(C=>{var _;return(_=C?.inlineCompletion.source.inlineCompletions.commands)!==null&&_!==void 0?_:[]}));return s.fragment.appendChild(f.getDomNode()),u.triggerExplicitly(),r.add(f),r}renderScreenReaderText(s,l,r){const h=L.$,u=h("div.hover-row.markdown-hover"),f=L.append(u,h("div.hover-contents",{"aria-live":"assertive"})),C=r.add(new a.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),_=E=>{r.add(C.onDidRenderAsync(()=>{f.className="hover-contents code-hover-contents",s.onContentsChanged()}));const I=n.localize(0,null),T=r.add(C.render(new k.MarkdownString().appendText(I).appendCodeblock("text",E)));f.replaceChildren(T.element)};r.add((0,D.autorun)(E=>{var I;const T=(I=l.controller.model.read(E))===null||I===void 0?void 0:I.primaryGhostText.read(E);if(T){const A=this._editor.getModel().getLineContent(T.lineNumber);_(T.renderForScreenReader(A))}else L.reset(f)})),s.fragment.appendChild(u)}};e.InlineCompletionsHoverParticipant=c,e.InlineCompletionsHoverParticipant=c=De([he(1,p.ILanguageService),he(2,o.IOpenerService),he(3,i.IAccessibilityService),he(4,t.IInstantiationService),he(5,g.ITelemetryService)],c)}),define(ne[944],se([1,0,16,93,942,943,271,28]),function(ee,e,L,k,y,D,S,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,L.registerEditorContribution)(S.InlineCompletionsController.ID,S.InlineCompletionsController,3),(0,L.registerEditorAction)(y.TriggerInlineSuggestionAction),(0,L.registerEditorAction)(y.ShowNextInlineSuggestionAction),(0,L.registerEditorAction)(y.ShowPreviousInlineSuggestionAction),(0,L.registerEditorAction)(y.AcceptNextWordOfInlineCompletion),(0,L.registerEditorAction)(y.AcceptNextLineOfInlineCompletion),(0,L.registerEditorAction)(y.AcceptInlineCompletion),(0,L.registerEditorAction)(y.HideInlineCompletion),(0,p.registerAction2)(y.ToggleAlwaysShowInlineSuggestionToolbar),k.HoverParticipantRegistry.register(D.InlineCompletionsHoverParticipant)}),define(ne[945],se([1,0,19,73,52,2,35,5,135,18,318,144,365,398,319,107]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class g{constructor(s,l,r,h,u,f){this.range=s,this.insertText=l,this.filterText=r,this.additionalTextEdits=h,this.command=u,this.completion=f}}let m=class extends D.RefCountedDisposable{constructor(s,l,r,h,u,f){super(u.disposable),this.model=s,this.line=l,this.word=r,this.completionModel=h,this._suggestMemoryService=f}canBeReused(s,l,r){return this.model===s&&this.line===l&&this.word.word.length>0&&this.word.startColumn===r.startColumn&&this.word.endColumn<r.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var s;const l=[],{items:r}=this.completionModel,h=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},r),u=y.Iterable.slice(r,h),f=y.Iterable.slice(r,0,h);let C=5;for(const _ of y.Iterable.concat(u,f)){if(_.score===k.FuzzyScore.Default)continue;const E=new p.Range(_.editStart.lineNumber,_.editStart.column,_.editInsertEnd.lineNumber,_.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),I=_.completion.insertTextRules&&_.completion.insertTextRules&4?{snippet:_.completion.insertText}:_.completion.insertText;l.push(new g(E,I,(s=_.filterTextLow)!==null&&s!==void 0?s:_.labelLow,_.completion.additionalTextEdits,_.completion.command,_)),C-->=0&&_.resolve(L.CancellationToken.None)}return l}};m=De([he(5,n.ISuggestMemoryService)],m);let c=class extends D.Disposable{constructor(s,l,r,h){super(),this._languageFeatureService=s,this._clipboardService=l,this._suggestMemoryService=r,this._editorService=h,this._store.add(s.inlineCompletionsProvider.register("*",this))}async provideInlineCompletions(s,l,r,h){var u;if(r.selectedSuggestionInfo)return;let f;for(const M of this._editorService.listCodeEditors())if(M.getModel()===s){f=M;break}if(!f)return;const C=f.getOption(89);if(a.QuickSuggestionsOptions.isAllOff(C))return;s.tokenization.tokenizeIfCheap(l.lineNumber);const _=s.tokenization.getLineTokens(l.lineNumber),E=_.getStandardTokenType(_.findTokenIndexAtOffset(Math.max(l.column-1-1,0)));if(a.QuickSuggestionsOptions.valueFor(C,E)!=="inline")return;let I=s.getWordAtPosition(l),T;if(I?.word||(T=this._getTriggerCharacterInfo(s,l)),!I?.word&&!T||(I||(I=s.getWordUntilPosition(l)),I.endColumn!==l.column))return;let A;const R=s.getValueInRange(new p.Range(l.lineNumber,1,l.lineNumber,l.column));if(!T&&(!((u=this._lastResult)===null||u===void 0)&&u.canBeReused(s,l.lineNumber,I))){const M=new b.LineContext(R,l.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=M,this._lastResult.acquire(),A=this._lastResult}else{const M=await(0,a.provideSuggestionItems)(this._languageFeatureService.completionProvider,s,l,new a.CompletionOptions(void 0,i.SuggestModel.createSuggestFilter(f).itemKind,T?.providers),T&&{triggerKind:1,triggerCharacter:T.ch},h);let N;M.needsClipboard&&(N=await this._clipboardService.readText());const P=new b.CompletionModel(M.items,l.column,new b.LineContext(R,0),t.WordDistance.None,f.getOption(118),f.getOption(112),{boostFullMatch:!1,firstMatchCanBeWeak:!1},N);A=new m(s,l.lineNumber,I,P,M,this._suggestMemoryService)}return this._lastResult=A,A}handleItemDidShow(s,l){l.completion.resolve(L.CancellationToken.None)}freeInlineCompletions(s){s.release()}_getTriggerCharacterInfo(s,l){var r;const h=s.getValueInRange(p.Range.fromPositions({lineNumber:l.lineNumber,column:l.column-1},l)),u=new Set;for(const f of this._languageFeatureService.completionProvider.all(s))!((r=f.triggerCharacters)===null||r===void 0)&&r.includes(h)&&u.add(f);if(u.size!==0)return{providers:u,ch:h}}};e.SuggestInlineCompletions=c,e.SuggestInlineCompletions=c=De([he(0,v.ILanguageFeaturesService),he(1,o.IClipboardService),he(2,n.ISuggestMemoryService),he(3,S.ICodeEditorService)],c),(0,w.registerEditorFeature)(c)}),define(ne[400],se([1,0,8]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,L.createDecorator)("workspaceTrustManagementService")}),define(ne[946],se([1,0,15,27,58,2,17,11,16,36,38,304,123,43,342,93,258,855,735,26,8,57,72,82,400,490]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,h.registerIcon)("extensions-warning-message",k.Codicon.warning,c.localize(0,null));let f=class extends D.Disposable{constructor(ie,J,X,Y){super(),this._editor=ie,this._editorWorkerService=J,this._workspaceTrustService=X,this._highlighter=null,this._bannerClosed=!1,this._updateState=le=>{if(le&&le.hasMore){if(this._bannerClosed)return;const de=Math.max(le.ambiguousCharacterCount,le.nonBasicAsciiCharacterCount,le.invisibleCharacterCount);let ge;if(le.nonBasicAsciiCharacterCount>=de)ge={message:c.localize(1,null),command:new V};else if(le.ambiguousCharacterCount>=de)ge={message:c.localize(2,null),command:new B};else if(le.invisibleCharacterCount>=de)ge={message:c.localize(3,null),command:new W};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:ge.message,icon:e.warningIcon,actions:[{label:ge.command.shortLabel,href:`command:${ge.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Y.createInstance(m.BannerController,ie)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=ie.getOption(125),this._register(X.onDidChangeTrust(le=>{this._updateHighlighter()})),this._register(ie.onDidChangeConfiguration(le=>{le.hasChanged(125)&&(this._options=ie.getOption(125),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const ie=C(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([ie.nonBasicASCII,ie.ambiguousCharacters,ie.invisibleCharacters].every(X=>X===!1))return;const J={nonBasicASCII:ie.nonBasicASCII,ambiguousCharacters:ie.ambiguousCharacters,invisibleCharacters:ie.invisibleCharacters,includeComments:ie.includeComments,includeStrings:ie.includeStrings,allowedCodePoints:Object.keys(ie.allowedCharacters).map(X=>X.codePointAt(0)),allowedLocales:Object.keys(ie.allowedLocales).map(X=>X==="_os"?new Intl.NumberFormat().resolvedOptions().locale:X==="_vscode"?S.language:X)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new _(this._editor,J,this._updateState,this._editorWorkerService):this._highlighter=new E(this._editor,J,this._updateState)}getDecorationInfo(ie){return this._highlighter?this._highlighter.getDecorationInfo(ie):null}};e.UnicodeHighlighter=f,f.ID="editor.contrib.unicodeHighlighter",e.UnicodeHighlighter=f=De([he(1,n.IEditorWorkerService),he(2,u.IWorkspaceTrustManagementService),he(3,s.IInstantiationService)],f);function C(re,ie){return{nonBasicASCII:ie.nonBasicASCII===v.inUntrustedWorkspace?!re:ie.nonBasicASCII,ambiguousCharacters:ie.ambiguousCharacters,invisibleCharacters:ie.invisibleCharacters,includeComments:ie.includeComments===v.inUntrustedWorkspace?!re:ie.includeComments,includeStrings:ie.includeStrings===v.inUntrustedWorkspace?!re:ie.includeStrings,allowedCharacters:ie.allowedCharacters,allowedLocales:ie.allowedLocales}}let _=class extends D.Disposable{constructor(ie,J,X,Y){super(),this._editor=ie,this._options=J,this._updateState=X,this._editorWorkerService=Y,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new L.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ie=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(J=>{if(this._model.isDisposed()||this._model.getVersionId()!==ie)return;this._updateState(J);const X=[];if(!J.hasMore)for(const Y of J.ranges)X.push({range:Y,options:P.instance.getDecorationFromOptions(this._options)});this._decorations.set(X)})}getDecorationInfo(ie){if(!this._decorations.has(ie))return null;const J=this._editor.getModel();if(!(0,t.isModelDecorationVisible)(J,ie))return null;const X=J.getValueInRange(ie.range);return{reason:N(X,this._options),inComment:(0,t.isModelDecorationInComment)(J,ie),inString:(0,t.isModelDecorationInString)(J,ie)}}};_=De([he(3,n.IEditorWorkerService)],_);class E extends D.Disposable{constructor(ie,J,X){super(),this._editor=ie,this._options=J,this._updateState=X,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new L.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ie=this._editor.getVisibleRanges(),J=[],X={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const Y of ie){const le=a.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,Y);for(const de of le.ranges)X.ranges.push(de);X.ambiguousCharacterCount+=X.ambiguousCharacterCount,X.invisibleCharacterCount+=X.invisibleCharacterCount,X.nonBasicAsciiCharacterCount+=X.nonBasicAsciiCharacterCount,X.hasMore=X.hasMore||le.hasMore}if(!X.hasMore)for(const Y of X.ranges)J.push({range:Y,options:P.instance.getDecorationFromOptions(this._options)});this._updateState(X),this._decorations.set(J)}getDecorationInfo(ie){if(!this._decorations.has(ie))return null;const J=this._editor.getModel(),X=J.getValueInRange(ie.range);return(0,t.isModelDecorationVisible)(J,ie)?{reason:N(X,this._options),inComment:(0,t.isModelDecorationInComment)(J,ie),inString:(0,t.isModelDecorationInString)(J,ie)}:null}}const I=c.localize(4,null);let T=class{constructor(ie,J,X){this._editor=ie,this._languageService=J,this._openerService=X,this.hoverOrdinal=5}computeSync(ie,J){if(!this._editor.hasModel()||ie.type!==1)return[];const X=this._editor.getModel(),Y=this._editor.getContribution(f.ID);if(!Y)return[];const le=[],de=new Set;let ge=300;for(const pe of J){const Q=Y.getDecorationInfo(pe);if(!Q)continue;const Z=X.getValueInRange(pe.range).codePointAt(0),H=R(Z);let q;switch(Q.reason.kind){case 0:{(0,p.isBasicASCII)(Q.reason.confusableWith)?q=c.localize(5,null,H,R(Q.reason.confusableWith.codePointAt(0))):q=c.localize(6,null,H,R(Q.reason.confusableWith.codePointAt(0)));break}case 1:q=c.localize(7,null,H);break;case 2:q=c.localize(8,null,H);break}if(de.has(q))continue;de.add(q);const te={codePoint:Z,reason:Q.reason,inComment:Q.inComment,inString:Q.inString},G=c.localize(9,null),$=`command:${z.ID}?${encodeURIComponent(JSON.stringify(te))}`,oe=new y.MarkdownString("",!0).appendMarkdown(q).appendText(" ").appendLink($,G,I);le.push(new g.MarkdownHover(this,pe.range,[oe],!1,ge++))}return le}renderHoverParts(ie,J){return(0,g.renderMarkdownHovers)(ie,J,this._editor,this._languageService,this._openerService)}};e.UnicodeHighlighterHoverParticipant=T,e.UnicodeHighlighterHoverParticipant=T=De([he(1,i.ILanguageService),he(2,l.IOpenerService)],T);function A(re){return`U+${re.toString(16).padStart(4,"0")}`}function R(re){let ie=`\`${A(re)}\``;return p.InvisibleCharacters.isInvisibleCharacter(re)||(ie+=` "${`${M(re)}`}"`),ie}function M(re){return re===96?"`` ` ``":"`"+String.fromCodePoint(re)+"`"}function N(re,ie){return a.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(re,ie)}class P{constructor(){this.map=new Map}getDecorationFromOptions(ie){return this.getDecoration(!ie.includeComments,!ie.includeStrings)}getDecoration(ie,J){const X=`${ie}${J}`;let Y=this.map.get(X);return Y||(Y=b.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:ie,hideInStringTokens:J}),this.map.set(X,Y)),Y}}P.instance=new P;class F extends w.EditorAction{constructor(){super({id:B.ID,label:c.localize(11,null),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=c.localize(10,null)}async run(ie,J,X){const Y=ie?.get(d.IConfigurationService);Y&&this.runAction(Y)}async runAction(ie){await ie.updateValue(v.unicodeHighlightConfigKeys.includeComments,!1,2)}}e.DisableHighlightingInCommentsAction=F;class O extends w.EditorAction{constructor(){super({id:B.ID,label:c.localize(13,null),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=c.localize(12,null)}async run(ie,J,X){const Y=ie?.get(d.IConfigurationService);Y&&this.runAction(Y)}async runAction(ie){await ie.updateValue(v.unicodeHighlightConfigKeys.includeStrings,!1,2)}}e.DisableHighlightingInStringsAction=O;class B extends w.EditorAction{constructor(){super({id:B.ID,label:c.localize(15,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=c.localize(14,null)}async run(ie,J,X){const Y=ie?.get(d.IConfigurationService);Y&&this.runAction(Y)}async runAction(ie){await ie.updateValue(v.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)}}e.DisableHighlightingOfAmbiguousCharactersAction=B,B.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class W extends w.EditorAction{constructor(){super({id:W.ID,label:c.localize(17,null),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=c.localize(16,null)}async run(ie,J,X){const Y=ie?.get(d.IConfigurationService);Y&&this.runAction(Y)}async runAction(ie){await ie.updateValue(v.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)}}e.DisableHighlightingOfInvisibleCharactersAction=W,W.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class V extends w.EditorAction{constructor(){super({id:V.ID,label:c.localize(19,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=c.localize(18,null)}async run(ie,J,X){const Y=ie?.get(d.IConfigurationService);Y&&this.runAction(Y)}async runAction(ie){await ie.updateValue(v.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=V,V.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class z extends w.EditorAction{constructor(){super({id:z.ID,label:c.localize(20,null),alias:"Show Exclude Options",precondition:void 0})}async run(ie,J,X){const{codePoint:Y,reason:le,inString:de,inComment:ge}=X,pe=String.fromCodePoint(Y),Q=ie.get(r.IQuickInputService),U=ie.get(d.IConfigurationService);function Z(te){return p.InvisibleCharacters.isInvisibleCharacter(te)?c.localize(21,null,A(te)):c.localize(22,null,`${A(te)} "${pe}"`)}const H=[];if(le.kind===0)for(const te of le.notAmbiguousInLocales)H.push({label:c.localize(23,null,te),run:async()=>{j(U,[te])}});if(H.push({label:Z(Y),run:()=>K(U,[Y])}),ge){const te=new F;H.push({label:te.label,run:async()=>te.runAction(U)})}else if(de){const te=new O;H.push({label:te.label,run:async()=>te.runAction(U)})}if(le.kind===0){const te=new B;H.push({label:te.label,run:async()=>te.runAction(U)})}else if(le.kind===1){const te=new W;H.push({label:te.label,run:async()=>te.runAction(U)})}else if(le.kind===2){const te=new V;H.push({label:te.label,run:async()=>te.runAction(U)})}else x(le);const q=await Q.pick(H,{title:I});q&&await q.run()}}e.ShowExcludeOptions=z,z.ID="editor.action.unicodeHighlight.showExcludeOptions";async function K(re,ie){const J=re.getValue(v.unicodeHighlightConfigKeys.allowedCharacters);let X;typeof J=="object"&&J?X=J:X={};for(const Y of ie)X[String.fromCodePoint(Y)]=!0;await re.updateValue(v.unicodeHighlightConfigKeys.allowedCharacters,X,2)}async function j(re,ie){var J;const X=(J=re.inspect(v.unicodeHighlightConfigKeys.allowedLocales).user)===null||J===void 0?void 0:J.value;let Y;typeof X=="object"&&X?Y=Object.assign({},X):Y={};for(const le of ie)Y[le]=!0;await re.updateValue(v.unicodeHighlightConfigKeys.allowedLocales,Y,2)}function x(re){throw new Error(`Unexpected value: ${re}`)}(0,w.registerEditorAction)(B),(0,w.registerEditorAction)(W),(0,w.registerEditorAction)(V),(0,w.registerEditorAction)(z),(0,w.registerEditorContribution)(f.ID,f,1),o.HoverParticipantRegistry.register(T)}),define(ne[947],se([1,0,197,200,899,820,902,821,822,915,904,906,929,913,823,936,824,907,937,938,384,268,827,828,790,944,269,270,391,389,392,830,931,914,831,832,917,918,833,923,890,854,879,880,881,835,202,933,399,945,836,810,946,837,924,371,838,834,789,99,180]),function(ee,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ne[272],se([1,0,11,6,46,7,127,2,17,103,22,142,251,68,9,5,51,70,194,25,26,363,14,164,8,785,34,354,126,355,786,166,49,88,61,171,125,99,48,35,60,400,56,788,805,891,45,795,123,252,43,874,243,896,893,379,143,787,71,28,816,791,107,782,242,783,165,198,100,794,57,72,94,809,124,792,135,12,248,50,33,378,356,935,80,875,773,862]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_,E,I,T,A,R,M,N,P,F,O,B,W,V,z,K,j,x,re,ie,J,X,Y,le,de,ge,pe,Q,U,Z,H,q,te,G,$,oe,ae,ue,ce,fe,ve,Ce,Se,_e,Ie,Ne,Oe,xe,We,ye,Me,me,be){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class Ae{constructor(Fe){this.disposed=!1,this.model=Fe,this._onWillDispose=new D.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Be=class{constructor(Fe){this.modelService=Fe}createModelReference(Fe){const Ve=this.modelService.getModel(Fe);return Ve?Promise.resolve(new p.ImmortalReference(new Ae(Ve))):Promise.reject(new Error("Model not found"))}};Be=De([he(0,g.IModelService)],Be);class Ke{show(){return Ke.NULL_PROGRESS_RUNNER}async showWhile(Fe,Ve){await Fe}}Ke.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class qe{withProgress(Fe,Ve,ze){return Ve({report:()=>{}})}}class Ge{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class st{async confirm(Fe){return{confirmed:this.doConfirm(Fe.message,Fe.detail),checkboxChecked:!1}}doConfirm(Fe,Ve){let ze=Fe;return Ve&&(ze=ze+`

`+Ve),be.mainWindow.confirm(ze)}async prompt(Fe){var Ve,ze;let je;if(this.doConfirm(Fe.message,Fe.detail)){const Je=[...(Ve=Fe.buttons)!==null&&Ve!==void 0?Ve:[]];Fe.cancelButton&&typeof Fe.cancelButton!="string"&&typeof Fe.cancelButton!="boolean"&&Je.push(Fe.cancelButton),je=await((ze=Je[0])===null||ze===void 0?void 0:ze.run({checkboxChecked:!1}))}return{result:je}}async error(Fe,Ve){await this.prompt({type:v.default.Error,message:Fe,detail:Ve})}}class Xe{info(Fe){return this.notify({severity:v.default.Info,message:Fe})}warn(Fe){return this.notify({severity:v.default.Warning,message:Fe})}error(Fe){return this.notify({severity:v.default.Error,message:Fe})}notify(Fe){switch(Fe.severity){case v.default.Error:console.error(Fe.message);break;case v.default.Warning:console.warn(Fe.message);break;default:console.log(Fe.message);break}return Xe.NO_OP}prompt(Fe,Ve,ze,je){return Xe.NO_OP}status(Fe,Ve){return p.Disposable.None}}e.StandaloneNotificationService=Xe,Xe.NO_OP=new R.NoOpNotification;let ot=class{constructor(Fe){this._onWillExecuteCommand=new D.Emitter,this._onDidExecuteCommand=new D.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Fe}executeCommand(Fe,...Ve){const ze=d.CommandsRegistry.getCommand(Fe);if(!ze)return Promise.reject(new Error(`command '${Fe}' not found`));try{this._onWillExecuteCommand.fire({commandId:Fe,args:Ve});const je=this._instantiationService.invokeFunction.apply(this._instantiationService,[ze.handler,...Ve]);return this._onDidExecuteCommand.fire({commandId:Fe,args:Ve}),Promise.resolve(je)}catch(je){return Promise.reject(je)}}};e.StandaloneCommandService=ot,e.StandaloneCommandService=ot=De([he(0,u.IInstantiationService)],ot);let nt=class extends f.AbstractKeybindingService{constructor(Fe,Ve,ze,je,et,Je){super(Fe,Ve,ze,je,et),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const lt=ct=>{const St=new p.DisposableStore;St.add(k.addDisposableListener(ct,k.EventType.KEY_DOWN,yt=>{const Lt=new y.StandardKeyboardEvent(yt);this._dispatch(Lt,Lt.target)&&(Lt.preventDefault(),Lt.stopPropagation())})),St.add(k.addDisposableListener(ct,k.EventType.KEY_UP,yt=>{const Lt=new y.StandardKeyboardEvent(yt);this._singleModifierDispatch(Lt,Lt.target)&&Lt.preventDefault()})),this._domNodeListeners.push(new rt(ct,St))},tt=ct=>{for(let St=0;St<this._domNodeListeners.length;St++){const yt=this._domNodeListeners[St];yt.domNode===ct&&(this._domNodeListeners.splice(St,1),yt.dispose())}},it=ct=>{ct.getOption(61)||lt(ct.getContainerDomNode())},gt=ct=>{ct.getOption(61)||tt(ct.getContainerDomNode())};this._register(Je.onCodeEditorAdd(it)),this._register(Je.onCodeEditorRemove(gt)),Je.listCodeEditors().forEach(it);const ht=ct=>{lt(ct.getContainerDomNode())},wt=ct=>{tt(ct.getContainerDomNode())};this._register(Je.onDiffEditorAdd(ht)),this._register(Je.onDiffEditorRemove(wt)),Je.listDiffEditors().forEach(ht)}addDynamicKeybinding(Fe,Ve,ze,je){return(0,p.combinedDisposable)(d.CommandsRegistry.registerCommand(Fe,ze),this.addDynamicKeybindings([{keybinding:Ve,command:Fe,when:je}]))}addDynamicKeybindings(Fe){const Ve=Fe.map(ze=>{var je;return{keybinding:(0,S.decodeKeybinding)(ze.keybinding,w.OS),command:(je=ze.command)!==null&&je!==void 0?je:null,commandArgs:ze.commandArgs,when:ze.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(Ve),this.updateResolver(),(0,p.toDisposable)(()=>{for(let ze=0;ze<this._dynamicKeybindings.length;ze++)if(this._dynamicKeybindings[ze]===Ve[0]){this._dynamicKeybindings.splice(ze,Ve.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Fe=this._toNormalizedKeybindingItems(E.KeybindingsRegistry.getDefaultKeybindings(),!0),Ve=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new _.KeybindingResolver(Fe,Ve,ze=>this._log(ze))}return this._cachedResolver}_documentHasFocus(){return be.mainWindow.document.hasFocus()}_toNormalizedKeybindingItems(Fe,Ve){const ze=[];let je=0;for(const et of Fe){const Je=et.when||void 0,lt=et.keybinding;if(!lt)ze[je++]=new I.ResolvedKeybindingItem(void 0,et.command,et.commandArgs,Je,Ve,null,!1);else{const tt=T.USLayoutResolvedKeybinding.resolveKeybinding(lt,w.OS);for(const it of tt)ze[je++]=new I.ResolvedKeybindingItem(it,et.command,et.commandArgs,Je,Ve,null,!1)}}return ze}resolveKeyboardEvent(Fe){const Ve=new S.KeyCodeChord(Fe.ctrlKey,Fe.shiftKey,Fe.altKey,Fe.metaKey,Fe.keyCode);return new T.USLayoutResolvedKeybinding([Ve],w.OS)}};e.StandaloneKeybindingService=nt,e.StandaloneKeybindingService=nt=De([he(0,r.IContextKeyService),he(1,d.ICommandService),he(2,N.ITelemetryService),he(3,R.INotificationService),he(4,V.ILogService),he(5,W.ICodeEditorService)],nt);class rt extends p.Disposable{constructor(Fe,Ve){super(),this.domNode=Fe,this._register(Ve)}}function at($e){return $e&&typeof $e=="object"&&(!$e.overrideIdentifier||typeof $e.overrideIdentifier=="string")&&(!$e.resource||$e.resource instanceof b.URI)}class ut{constructor(){this._onDidChangeConfiguration=new D.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const Fe=new Oe.DefaultConfiguration;this._configuration=new l.Configuration(Fe.reload(),new l.ConfigurationModel,new l.ConfigurationModel,new l.ConfigurationModel),Fe.dispose()}getValue(Fe,Ve){const ze=typeof Fe=="string"?Fe:void 0,je=at(Fe)?Fe:at(Ve)?Ve:{};return this._configuration.getValue(ze,je,void 0)}updateValues(Fe){const Ve={data:this._configuration.toData()},ze=[];for(const je of Fe){const[et,Je]=je;this.getValue(et)!==Je&&(this._configuration.updateValue(et,Je),ze.push(et))}if(ze.length>0){const je=new l.ConfigurationChangeEvent({keys:ze,overrides:[]},Ve,this._configuration);je.source=8,this._onDidChangeConfiguration.fire(je)}return Promise.resolve()}updateValue(Fe,Ve,ze,je){return this.updateValues([[Fe,Ve]])}inspect(Fe,Ve={}){return this._configuration.inspect(Fe,Ve,void 0)}}e.StandaloneConfigurationService=ut;let dt=class{constructor(Fe,Ve,ze){this.configurationService=Fe,this.modelService=Ve,this.languageService=ze,this._onDidChangeConfiguration=new D.Emitter,this.configurationService.onDidChangeConfiguration(je=>{this._onDidChangeConfiguration.fire({affectedKeys:je.affectedKeys,affectsConfiguration:(et,Je)=>je.affectsConfiguration(Je)})})}getValue(Fe,Ve,ze){const je=t.Position.isIPosition(Ve)?Ve:null,et=je?typeof ze=="string"?ze:void 0:typeof Ve=="string"?Ve:void 0,Je=Fe?this.getLanguage(Fe,je):void 0;return typeof et>"u"?this.configurationService.getValue({resource:Fe,overrideIdentifier:Je}):this.configurationService.getValue(et,{resource:Fe,overrideIdentifier:Je})}getLanguage(Fe,Ve){const ze=this.modelService.getModel(Fe);return ze?Ve?ze.getLanguageIdAtPosition(Ve.lineNumber,Ve.column):ze.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(Fe)}};dt=De([he(0,s.IConfigurationService),he(1,g.IModelService),he(2,le.ILanguageService)],dt);let vt=class{constructor(Fe){this.configurationService=Fe}getEOL(Fe,Ve){const ze=this.configurationService.getValue("files.eol",{overrideIdentifier:Ve,resource:Fe});return ze&&typeof ze=="string"&&ze!=="auto"?ze:w.isLinux||w.isMacintosh?`
`:`\r
`}};vt=De([he(0,s.IConfigurationService)],vt);class mt{publicLog2(){}}class Le{constructor(){const Fe=b.URI.from({scheme:Le.SCHEME,authority:"model",path:"/"});this.workspace={id:P.STANDALONE_EDITOR_WORKSPACE_ID,folders:[new P.WorkspaceFolder({uri:Fe,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Fe){return Fe&&Fe.scheme===Le.SCHEME?this.workspace.folders[0]:null}}Le.SCHEME="inmemory";function we($e,Fe,Ve){if(!Fe||!($e instanceof ut))return;const ze=[];Object.keys(Fe).forEach(je=>{(0,n.isEditorConfigurationKey)(je)&&ze.push([`editor.${je}`,Fe[je]]),Ve&&(0,n.isDiffEditorConfigurationKey)(je)&&ze.push([`diffEditor.${je}`,Fe[je]])}),ze.length>0&&$e.updateValues(ze)}e.updateConfigurationService=we;let Te=class{constructor(Fe){this._modelService=Fe}hasPreviewHandler(){return!1}async apply(Fe,Ve){const ze=Array.isArray(Fe)?Fe:a.ResourceEdit.convert(Fe),je=new Map;for(const lt of ze){if(!(lt instanceof a.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const tt=this._modelService.getModel(lt.resource);if(!tt)throw new Error("bad edit - model not found");if(typeof lt.versionId=="number"&&tt.getVersionId()!==lt.versionId)throw new Error("bad state - model changed in the meantime");let it=je.get(tt);it||(it=[],je.set(tt,it)),it.push(i.EditOperation.replaceMove(o.Range.lift(lt.textEdit.range),lt.textEdit.text))}let et=0,Je=0;for(const[lt,tt]of je)lt.pushStackElement(),lt.pushEditOperations([],tt,()=>[]),lt.pushStackElement(),Je+=1,et+=tt.length;return{ariaSummary:L.format(O.StandaloneServicesNLS.bulkEditServiceSummary,et,Je),isApplied:et>0}}};Te=De([he(0,g.IModelService)],Te);class ke{getUriLabel(Fe,Ve){return Fe.scheme==="file"?Fe.fsPath:Fe.path}getUriBasenameLabel(Fe){return(0,B.basename)(Fe)}}let Ee=class extends j.ContextViewService{constructor(Fe,Ve){super(Fe),this._codeEditorService=Ve}showContextView(Fe,Ve,ze){if(!Ve){const je=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();je&&(Ve=je.getContainerDomNode())}return super.showContextView(Fe,Ve,ze)}};Ee=De([he(0,F.ILayoutService),he(1,W.ICodeEditorService)],Ee);class Re{constructor(){this._neverEmitter=new D.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Pe extends x.LanguageService{constructor(){super()}}class He extends We.LogService{constructor(){super(new V.ConsoleLogger)}}let Ue=class extends re.ContextMenuService{constructor(Fe,Ve,ze,je,et,Je){super(Fe,Ve,ze,je,et,Je),this.configure({blockMouse:!1})}};Ue=De([he(0,N.ITelemetryService),he(1,R.INotificationService),he(2,K.IContextViewService),he(3,C.IKeybindingService),he(4,te.IMenuService),he(5,r.IContextKeyService)],Ue);class Ze{async playSignal(Fe,Ve){}}(0,ie.registerSingleton)(s.IConfigurationService,ut,0),(0,ie.registerSingleton)(c.ITextResourceConfigurationService,dt,0),(0,ie.registerSingleton)(c.ITextResourcePropertiesService,vt,0),(0,ie.registerSingleton)(P.IWorkspaceContextService,Le,0),(0,ie.registerSingleton)(A.ILabelService,ke,0),(0,ie.registerSingleton)(N.ITelemetryService,mt,0),(0,ie.registerSingleton)(h.IDialogService,st,0),(0,ie.registerSingleton)(me.IEnvironmentService,Ge,0),(0,ie.registerSingleton)(R.INotificationService,Xe,0),(0,ie.registerSingleton)(Ce.IMarkerService,Se.MarkerService,0),(0,ie.registerSingleton)(le.ILanguageService,Pe,0),(0,ie.registerSingleton)(Z.IStandaloneThemeService,U.StandaloneThemeService,0),(0,ie.registerSingleton)(V.ILogService,He,0),(0,ie.registerSingleton)(g.IModelService,pe.ModelService,0),(0,ie.registerSingleton)(ge.IMarkerDecorationsService,de.MarkerDecorationsService,0),(0,ie.registerSingleton)(r.IContextKeyService,ae.ContextKeyService,0),(0,ie.registerSingleton)(M.IProgressService,qe,0),(0,ie.registerSingleton)(M.IEditorProgressService,Ke,0),(0,ie.registerSingleton)(Ne.IStorageService,Ne.InMemoryStorageService,0),(0,ie.registerSingleton)(X.IEditorWorkerService,Y.EditorWorkerService,0),(0,ie.registerSingleton)(a.IBulkEditService,Te,0),(0,ie.registerSingleton)(z.IWorkspaceTrustManagementService,Re,0),(0,ie.registerSingleton)(m.ITextModelService,Be,0),(0,ie.registerSingleton)(q.IAccessibilityService,H.AccessibilityService,0),(0,ie.registerSingleton)(ve.IListService,ve.ListService,0),(0,ie.registerSingleton)(d.ICommandService,ot,0),(0,ie.registerSingleton)(C.IKeybindingService,nt,0),(0,ie.registerSingleton)(Ie.IQuickInputService,Q.StandaloneQuickInputService,0),(0,ie.registerSingleton)(K.IContextViewService,Ee,0),(0,ie.registerSingleton)(_e.IOpenerService,J.OpenerService,0),(0,ie.registerSingleton)(oe.IClipboardService,$.BrowserClipboardService,0),(0,ie.registerSingleton)(K.IContextMenuService,Ue,0),(0,ie.registerSingleton)(te.IMenuService,G.MenuService,0),(0,ie.registerSingleton)(xe.IAccessibilitySignalService,Ze,0);var Ye;(function($e){const Fe=new fe.ServiceCollection;for(const[tt,it]of(0,ie.getSingletonServiceDescriptors)())Fe.set(tt,it);const Ve=new ce.InstantiationService(Fe,!0);Fe.set(u.IInstantiationService,Ve);function ze(tt){je||Je({});const it=Fe.get(tt);if(!it)throw new Error("Missing service "+tt);return it instanceof ue.SyncDescriptor?Ve.invokeFunction(gt=>gt.get(tt)):it}$e.get=ze;let je=!1;const et=new D.Emitter;function Je(tt){if(je)return Ve;je=!0;for(const[gt,ht]of(0,ie.getSingletonServiceDescriptors)())Fe.get(gt)||Fe.set(gt,ht);for(const gt in tt)if(tt.hasOwnProperty(gt)){const ht=(0,u.createDecorator)(gt);Fe.get(ht)instanceof ue.SyncDescriptor&&Fe.set(ht,tt[gt])}const it=(0,ye.getEditorFeatures)();for(const gt of it)try{Ve.createInstance(gt)}catch(ht){(0,Me.onUnexpectedError)(ht)}return et.fire(),Ve}$e.initialize=Je;function lt(tt){if(je)return tt();const it=new p.DisposableStore,gt=it.add(et.event(()=>{gt.dispose(),it.add(tt())}));return it}$e.withServices=lt})(Ye||(e.StandaloneServices=Ye={}))}),define(ne[948],se([1,0,44,2,35,200,295,272,143,28,25,26,14,56,8,34,49,24,71,99,107,88,51,43,378,81,33,18,266,124,50,91,249]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_,E,I,T,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor2=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let M=0,N=!1;function P(z){if(!z){if(N)return;N=!0}L.setARIAContainer(z||T.mainWindow.document.body)}let F=class extends D.CodeEditorWidget{constructor(K,j,x,re,ie,J,X,Y,le,de,ge,pe){const Q={...j};Q.ariaLabel=Q.ariaLabel||d.StandaloneCodeEditorNLS.editorViewAccessibleLabel,Q.ariaLabel=Q.ariaLabel+";"+d.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(K,Q,{},x,re,ie,J,Y,le,de,ge,pe),X instanceof p.StandaloneKeybindingService?this._standaloneKeybindingService=X:this._standaloneKeybindingService=null,P(Q.ariaContainerElement),(0,A.setHoverDelegateFactory)((U,Z)=>x.createInstance(R.WorkbenchHoverDelegate,U,Z,{}))}addCommand(K,j,x){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const re="DYNAMIC_"+ ++M,ie=n.ContextKeyExpr.deserialize(x);return this._standaloneKeybindingService.addDynamicKeybinding(re,K,j,ie),re}createContextKey(K,j){return this._contextKeyService.createKey(K,j)}addAction(K){if(typeof K.id!="string"||typeof K.label!="string"||typeof K.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const j=K.id,x=K.label,re=n.ContextKeyExpr.and(n.ContextKeyExpr.equals("editorId",this.getId()),n.ContextKeyExpr.deserialize(K.precondition)),ie=K.keybindings,J=n.ContextKeyExpr.and(re,n.ContextKeyExpr.deserialize(K.keybindingContext)),X=K.contextMenuGroupId||null,Y=K.contextMenuOrder||0,le=(Q,...U)=>Promise.resolve(K.run(this,...U)),de=new k.DisposableStore,ge=this.getId()+":"+j;if(de.add(b.CommandsRegistry.registerCommand(ge,le)),X){const Q={command:{id:ge,title:x},when:re,group:X,order:Y};de.add(v.MenuRegistry.appendMenuItem(v.MenuId.EditorContext,Q))}if(Array.isArray(ie))for(const Q of ie)de.add(this._standaloneKeybindingService.addDynamicKeybinding(ge,Q,le,J));const pe=new S.InternalEditorAction(ge,x,x,void 0,re,(...Q)=>Promise.resolve(K.run(this,...Q)),this._contextKeyService);return this._actions.set(j,pe),de.add((0,k.toDisposable)(()=>{this._actions.delete(j)})),de}_triggerCommand(K,j){if(this._codeEditorService instanceof u.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(K,j)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(K,j)}};e.StandaloneCodeEditor=F,e.StandaloneCodeEditor=F=De([he(2,t.IInstantiationService),he(3,y.ICodeEditorService),he(4,b.ICommandService),he(5,n.IContextKeyService),he(6,o.IKeybindingService),he(7,m.IThemeService),he(8,g.INotificationService),he(9,c.IAccessibilityService),he(10,C.ILanguageConfigurationService),he(11,_.ILanguageFeaturesService)],F);let O=class extends F{constructor(K,j,x,re,ie,J,X,Y,le,de,ge,pe,Q,U,Z){const H={...j};(0,p.updateConfigurationService)(de,H,!1);const q=Y.registerEditorContainer(K);typeof H.theme=="string"&&Y.setTheme(H.theme),typeof H.autoDetectHighContrast<"u"&&Y.setAutoDetectHighContrast(!!H.autoDetectHighContrast);const te=H.model;delete H.model,super(K,H,x,re,ie,J,X,Y,le,ge,U,Z),this._configurationService=de,this._standaloneThemeService=Y,this._register(q);let G;if(typeof te>"u"){const $=Q.getLanguageIdByMimeType(H.language)||H.language||f.PLAINTEXT_LANGUAGE_ID;G=W(pe,Q,H.value||"",$,void 0),this._ownsModel=!0}else G=te,this._ownsModel=!1;if(this._attachModel(G),G){const $={oldModelUrl:null,newModelUrl:G.uri};this._onDidChangeModel.fire($)}}dispose(){super.dispose()}updateOptions(K){(0,p.updateConfigurationService)(this._configurationService,K,!1),typeof K.theme=="string"&&this._standaloneThemeService.setTheme(K.theme),typeof K.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!K.autoDetectHighContrast),super.updateOptions(K)}_postDetachModelCleanup(K){super._postDetachModelCleanup(K),K&&this._ownsModel&&(K.dispose(),this._ownsModel=!1)}};e.StandaloneEditor=O,e.StandaloneEditor=O=De([he(2,t.IInstantiationService),he(3,y.ICodeEditorService),he(4,b.ICommandService),he(5,n.IContextKeyService),he(6,o.IKeybindingService),he(7,w.IStandaloneThemeService),he(8,g.INotificationService),he(9,a.IConfigurationService),he(10,c.IAccessibilityService),he(11,r.IModelService),he(12,h.ILanguageService),he(13,C.ILanguageConfigurationService),he(14,_.ILanguageFeaturesService)],O);let B=class extends E.DiffEditorWidget{constructor(K,j,x,re,ie,J,X,Y,le,de,ge,pe){const Q={...j};(0,p.updateConfigurationService)(Y,Q,!0);const U=J.registerEditorContainer(K);typeof Q.theme=="string"&&J.setTheme(Q.theme),typeof Q.autoDetectHighContrast<"u"&&J.setAutoDetectHighContrast(!!Q.autoDetectHighContrast),super(K,Q,{},re,x,ie,pe,de),this._configurationService=Y,this._standaloneThemeService=J,this._register(U)}dispose(){super.dispose()}updateOptions(K){(0,p.updateConfigurationService)(this._configurationService,K,!0),typeof K.theme=="string"&&this._standaloneThemeService.setTheme(K.theme),typeof K.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!K.autoDetectHighContrast),super.updateOptions(K)}_createInnerEditor(K,j,x){return K.createInstance(F,j,x)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(K,j,x){return this.getModifiedEditor().addCommand(K,j,x)}createContextKey(K,j){return this.getModifiedEditor().createContextKey(K,j)}addAction(K){return this.getModifiedEditor().addAction(K)}};e.StandaloneDiffEditor2=B,e.StandaloneDiffEditor2=B=De([he(2,t.IInstantiationService),he(3,n.IContextKeyService),he(4,y.ICodeEditorService),he(5,w.IStandaloneThemeService),he(6,g.INotificationService),he(7,a.IConfigurationService),he(8,i.IContextMenuService),he(9,l.IEditorProgressService),he(10,s.IClipboardService),he(11,I.IAccessibilitySignalService)],B);function W(z,K,j,x,re){if(j=j||"",!x){const ie=j.indexOf(`
`);let J=j;return ie!==-1&&(J=j.substring(0,ie)),V(z,j,K.createByFilepathOrFirstLine(re||null,J),re)}return V(z,j,K.createById(x),re)}e.createTextModel=W;function V(z,K,j,x){return z.createModel(K,j,x)}}),define(ne[949],se([1,0,50,2,11,22,341,16,35,800,36,153,241,183,30,43,33,81,162,40,51,217,777,948,272,143,28,25,14,34,100,57,901,496]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o,g,m,c,d,s,l,r,h,u,f,C,_,E,I,T,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerEditorOpener=e.registerLinkOpener=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.removeAllMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.addKeybindingRules=e.addKeybindingRule=e.addEditorAction=e.addCommand=e.createMultiFileDiffEditor=e.createDiffEditor=e.getDiffEditors=e.getEditors=e.onDidCreateDiffEditor=e.onDidCreateEditor=e.create=void 0;function M(Ce,Se,_e){return u.StandaloneServices.initialize(_e||{}).createInstance(h.StandaloneEditor,Ce,Se)}e.create=M;function N(Ce){return u.StandaloneServices.get(w.ICodeEditorService).onCodeEditorAdd(_e=>{Ce(_e)})}e.onDidCreateEditor=N;function P(Ce){return u.StandaloneServices.get(w.ICodeEditorService).onDiffEditorAdd(_e=>{Ce(_e)})}e.onDidCreateDiffEditor=P;function F(){return u.StandaloneServices.get(w.ICodeEditorService).listCodeEditors()}e.getEditors=F;function O(){return u.StandaloneServices.get(w.ICodeEditorService).listDiffEditors()}e.getDiffEditors=O;function B(Ce,Se,_e){return u.StandaloneServices.initialize(_e||{}).createInstance(h.StandaloneDiffEditor2,Ce,Se)}e.createDiffEditor=B;function W(Ce,Se){const _e=u.StandaloneServices.initialize(Se||{});return new R.MultiDiffEditorWidget(Ce,{},_e)}e.createMultiFileDiffEditor=W;function V(Ce){if(typeof Ce.id!="string"||typeof Ce.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return _.CommandsRegistry.registerCommand(Ce.id,Ce.run)}e.addCommand=V;function z(Ce){if(typeof Ce.id!="string"||typeof Ce.label!="string"||typeof Ce.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const Se=E.ContextKeyExpr.deserialize(Ce.precondition),_e=(Ne,...Oe)=>p.EditorCommand.runEditorCommand(Ne,Oe,Se,(xe,We,ye)=>Promise.resolve(Ce.run(We,...ye))),Ie=new k.DisposableStore;if(Ie.add(_.CommandsRegistry.registerCommand(Ce.id,_e)),Ce.contextMenuGroupId){const Ne={command:{id:Ce.id,title:Ce.label},when:Se,group:Ce.contextMenuGroupId,order:Ce.contextMenuOrder||0};Ie.add(C.MenuRegistry.appendMenuItem(C.MenuId.EditorContext,Ne))}if(Array.isArray(Ce.keybindings)){const Ne=u.StandaloneServices.get(I.IKeybindingService);if(!(Ne instanceof u.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const Oe=E.ContextKeyExpr.and(Se,E.ContextKeyExpr.deserialize(Ce.keybindingContext));Ie.add(Ne.addDynamicKeybindings(Ce.keybindings.map(xe=>({keybinding:xe,command:Ce.id,when:Oe}))))}}return Ie}e.addEditorAction=z;function K(Ce){return j([Ce])}e.addKeybindingRule=K;function j(Ce){const Se=u.StandaloneServices.get(I.IKeybindingService);return Se instanceof u.StandaloneKeybindingService?Se.addDynamicKeybindings(Ce.map(_e=>({keybinding:_e.keybinding,command:_e.command,commandArgs:_e.commandArgs,when:E.ContextKeyExpr.deserialize(_e.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None)}e.addKeybindingRules=j;function x(Ce,Se,_e){const Ie=u.StandaloneServices.get(o.ILanguageService),Ne=Ie.getLanguageIdByMimeType(Se)||Se;return(0,h.createTextModel)(u.StandaloneServices.get(s.IModelService),Ie,Ce,Ne,_e)}e.createModel=x;function re(Ce,Se){const _e=u.StandaloneServices.get(o.ILanguageService),Ie=_e.getLanguageIdByMimeType(Se)||Se||m.PLAINTEXT_LANGUAGE_ID;Ce.setLanguage(_e.createById(Ie))}e.setModelLanguage=re;function ie(Ce,Se,_e){Ce&&u.StandaloneServices.get(T.IMarkerService).changeOne(Se,Ce.uri,_e)}e.setModelMarkers=ie;function J(Ce){u.StandaloneServices.get(T.IMarkerService).changeAll(Ce,[])}e.removeAllMarkers=J;function X(Ce){return u.StandaloneServices.get(T.IMarkerService).read(Ce)}e.getModelMarkers=X;function Y(Ce){return u.StandaloneServices.get(T.IMarkerService).onMarkerChanged(Ce)}e.onDidChangeMarkers=Y;function le(Ce){return u.StandaloneServices.get(s.IModelService).getModel(Ce)}e.getModel=le;function de(){return u.StandaloneServices.get(s.IModelService).getModels()}e.getModels=de;function ge(Ce){return u.StandaloneServices.get(s.IModelService).onModelAdded(Ce)}e.onDidCreateModel=ge;function pe(Ce){return u.StandaloneServices.get(s.IModelService).onModelRemoved(Ce)}e.onWillDisposeModel=pe;function Q(Ce){return u.StandaloneServices.get(s.IModelService).onModelLanguageChanged(_e=>{Ce({model:_e.model,oldLanguage:_e.oldLanguageId})})}e.onDidChangeModelLanguage=Q;function U(Ce){return(0,v.createWebWorker)(u.StandaloneServices.get(s.IModelService),u.StandaloneServices.get(g.ILanguageConfigurationService),Ce)}e.createWebWorker=U;function Z(Ce,Se){const _e=u.StandaloneServices.get(o.ILanguageService),Ie=u.StandaloneServices.get(f.IStandaloneThemeService);return r.Colorizer.colorizeElement(Ie,_e,Ce,Se).then(()=>{Ie.registerEditorContainer(Ce)})}e.colorizeElement=Z;function H(Ce,Se,_e){const Ie=u.StandaloneServices.get(o.ILanguageService);return u.StandaloneServices.get(f.IStandaloneThemeService).registerEditorContainer(L.mainWindow.document.body),r.Colorizer.colorize(Ie,Ce,Se,_e)}e.colorize=H;function q(Ce,Se,_e=4){return u.StandaloneServices.get(f.IStandaloneThemeService).registerEditorContainer(L.mainWindow.document.body),r.Colorizer.colorizeModelLine(Ce,Se,_e)}e.colorizeModelLine=q;function te(Ce){const Se=t.TokenizationRegistry.get(Ce);return Se||{getInitialState:()=>c.NullState,tokenize:(_e,Ie,Ne)=>(0,c.nullTokenize)(Ce,Ne)}}function G(Ce,Se){t.TokenizationRegistry.getOrCreate(Se);const _e=te(Se),Ie=(0,y.splitLines)(Ce),Ne=[];let Oe=_e.getInitialState();for(let xe=0,We=Ie.length;xe<We;xe++){const ye=Ie[xe],Me=_e.tokenize(ye,!0,Oe);Ne[xe]=Me.tokens,Oe=Me.endState}return Ne}e.tokenize=G;function $(Ce,Se){u.StandaloneServices.get(f.IStandaloneThemeService).defineTheme(Ce,Se)}e.defineTheme=$;function oe(Ce){u.StandaloneServices.get(f.IStandaloneThemeService).setTheme(Ce)}e.setTheme=oe;function ae(){S.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=ae;function ue(Ce,Se){return _.CommandsRegistry.registerCommand({id:Ce,handler:Se})}e.registerCommand=ue;function ce(Ce){return u.StandaloneServices.get(A.IOpenerService).registerOpener({async open(_e){return typeof _e=="string"&&(_e=D.URI.parse(_e)),Ce.open(_e)}})}e.registerLinkOpener=ce;function fe(Ce){return u.StandaloneServices.get(w.ICodeEditorService).registerCodeEditorOpenHandler(async(_e,Ie,Ne)=>{var Oe;if(!Ie)return null;const xe=(Oe=_e.options)===null||Oe===void 0?void 0:Oe.selection;let We;return xe&&typeof xe.endLineNumber=="number"&&typeof xe.endColumn=="number"?We=xe:xe&&(We={lineNumber:xe.startLineNumber,column:xe.startColumn}),await Ce.openCodeEditor(Ie,_e.resource,We)?Ie:null})}e.registerEditorOpener=fe;function ve(){return{create:M,getEditors:F,getDiffEditors:O,onDidCreateEditor:N,onDidCreateDiffEditor:P,createDiffEditor:B,addCommand:V,addEditorAction:z,addKeybindingRule:K,addKeybindingRules:j,createModel:x,setModelLanguage:re,setModelMarkers:ie,getModelMarkers:X,removeAllMarkers:J,onDidChangeMarkers:Y,getModels:de,getModel:le,onDidCreateModel:ge,onWillDisposeModel:pe,onDidChangeModelLanguage:Q,createWebWorker:U,colorizeElement:Z,colorize:H,colorizeModelLine:q,tokenize:G,defineTheme:$,setTheme:oe,remeasureFonts:ae,registerCommand:ue,registerLinkOpener:ce,registerEditorOpener:fe,AccessibilitySupport:l.AccessibilitySupport,ContentWidgetPositionPreference:l.ContentWidgetPositionPreference,CursorChangeReason:l.CursorChangeReason,DefaultEndOfLine:l.DefaultEndOfLine,EditorAutoIndentStrategy:l.EditorAutoIndentStrategy,EditorOption:l.EditorOption,EndOfLinePreference:l.EndOfLinePreference,EndOfLineSequence:l.EndOfLineSequence,MinimapPosition:l.MinimapPosition,MouseTargetType:l.MouseTargetType,OverlayWidgetPositionPreference:l.OverlayWidgetPositionPreference,OverviewRulerLane:l.OverviewRulerLane,GlyphMarginLane:l.GlyphMarginLane,RenderLineNumbersType:l.RenderLineNumbersType,RenderMinimap:l.RenderMinimap,ScrollbarVisibility:l.ScrollbarVisibility,ScrollType:l.ScrollType,TextEditorCursorBlinkingStyle:l.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:l.TextEditorCursorStyle,TrackedRangeStickiness:l.TrackedRangeStickiness,WrappingIndent:l.WrappingIndent,InjectedTextCursorStops:l.InjectedTextCursorStops,PositionAffinity:l.PositionAffinity,ShowLightbulbIconMode:l.ShowLightbulbIconMode,ConfigurationChangedEvent:b.ConfigurationChangedEvent,BareFontInfo:n.BareFontInfo,FontInfo:n.FontInfo,TextModelResolvedOptions:d.TextModelResolvedOptions,FindMatch:d.FindMatch,ApplyUpdateResult:b.ApplyUpdateResult,EditorZoom:a.EditorZoom,createMultiFileDiffEditor:W,EditorType:i.EditorType,EditorOptions:b.EditorOptions}}e.createMonacoEditorAPI=ve}),define(ne[950],se([1,0,39,5,30,33,81,43,217,272,575,352,143,100,18,26]),function(ee,e,L,k,y,D,S,p,w,v,b,a,n,i,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineEditProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerNewSymbolNameProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguageEncountered=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function g(G){S.ModesRegistry.registerLanguage(G)}e.register=g;function m(){let G=[];return G=G.concat(S.ModesRegistry.getLanguages()),G}e.getLanguages=m;function c(G){return v.StandaloneServices.get(p.ILanguageService).languageIdCodec.encodeLanguageId(G)}e.getEncodedLanguageId=c;function d(G,$){return v.StandaloneServices.withServices(()=>{const ae=v.StandaloneServices.get(p.ILanguageService).onDidRequestRichLanguageFeatures(ue=>{ue===G&&(ae.dispose(),$())});return ae})}e.onLanguage=d;function s(G,$){return v.StandaloneServices.withServices(()=>{const ae=v.StandaloneServices.get(p.ILanguageService).onDidRequestBasicLanguageFeatures(ue=>{ue===G&&(ae.dispose(),$())});return ae})}e.onLanguageEncountered=s;function l(G,$){if(!v.StandaloneServices.get(p.ILanguageService).isRegisteredLanguageId(G))throw new Error(`Cannot set configuration for unknown language ${G}`);return v.StandaloneServices.get(D.ILanguageConfigurationService).register(G,$,100)}e.setLanguageConfiguration=l;class r{constructor($,oe){this._languageId=$,this._actual=oe}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize($,oe,ae){if(typeof this._actual.tokenize=="function")return h.adaptTokenize(this._languageId,this._actual,$,ae);throw new Error("Not supported!")}tokenizeEncoded($,oe,ae){const ue=this._actual.tokenizeEncoded($,ae);return new y.EncodedTokenizationResult(ue.tokens,ue.endState)}}e.EncodedTokenizationSupportAdapter=r;class h{constructor($,oe,ae,ue){this._languageId=$,this._actual=oe,this._languageService=ae,this._standaloneThemeService=ue}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens($,oe){const ae=[];let ue=0;for(let ce=0,fe=$.length;ce<fe;ce++){const ve=$[ce];let Ce=ve.startIndex;ce===0?Ce=0:Ce<ue&&(Ce=ue),ae[ce]=new y.Token(Ce,ve.scopes,oe),ue=Ce}return ae}static adaptTokenize($,oe,ae,ue){const ce=oe.tokenize(ae,ue),fe=h._toClassicTokens(ce.tokens,$);let ve;return ce.endState.equals(ue)?ve=ue:ve=ce.endState,new y.TokenizationResult(fe,ve)}tokenize($,oe,ae){return h.adaptTokenize(this._languageId,this._actual,$,ae)}_toBinaryTokens($,oe){const ae=$.encodeLanguageId(this._languageId),ue=this._standaloneThemeService.getColorTheme().tokenTheme,ce=[];let fe=0,ve=0;for(let Se=0,_e=oe.length;Se<_e;Se++){const Ie=oe[Se],Ne=ue.match(ae,Ie.scopes)|1024;if(fe>0&&ce[fe-1]===Ne)continue;let Oe=Ie.startIndex;Se===0?Oe=0:Oe<ve&&(Oe=ve),ce[fe++]=Oe,ce[fe++]=Ne,ve=Oe}const Ce=new Uint32Array(fe);for(let Se=0;Se<fe;Se++)Ce[Se]=ce[Se];return Ce}tokenizeEncoded($,oe,ae){const ue=this._actual.tokenize($,ae),ce=this._toBinaryTokens(this._languageService.languageIdCodec,ue.tokens);let fe;return ue.endState.equals(ae)?fe=ae:fe=ue.endState,new y.EncodedTokenizationResult(ce,fe)}}e.TokenizationSupportAdapter=h;function u(G){return typeof G.getInitialState=="function"}function f(G){return"tokenizeEncoded"in G}function C(G){return G&&typeof G.then=="function"}function _(G){const $=v.StandaloneServices.get(n.IStandaloneThemeService);if(G){const oe=[null];for(let ae=1,ue=G.length;ae<ue;ae++)oe[ae]=L.Color.fromHex(G[ae]);$.setColorMapOverride(oe)}else $.setColorMapOverride(null)}e.setColorMap=_;function E(G,$){return f($)?new r(G,$):new h(G,$,v.StandaloneServices.get(p.ILanguageService),v.StandaloneServices.get(n.IStandaloneThemeService))}function I(G,$){const oe=new y.LazyTokenizationSupport(async()=>{const ae=await Promise.resolve($.create());return ae?u(ae)?E(G,ae):new a.MonarchTokenizer(v.StandaloneServices.get(p.ILanguageService),v.StandaloneServices.get(n.IStandaloneThemeService),G,(0,b.compile)(G,ae),v.StandaloneServices.get(o.IConfigurationService)):null});return y.TokenizationRegistry.registerFactory(G,oe)}e.registerTokensProviderFactory=I;function T(G,$){if(!v.StandaloneServices.get(p.ILanguageService).isRegisteredLanguageId(G))throw new Error(`Cannot set tokens provider for unknown language ${G}`);return C($)?I(G,{create:()=>$}):y.TokenizationRegistry.register(G,E(G,$))}e.setTokensProvider=T;function A(G,$){const oe=ae=>new a.MonarchTokenizer(v.StandaloneServices.get(p.ILanguageService),v.StandaloneServices.get(n.IStandaloneThemeService),G,(0,b.compile)(G,ae),v.StandaloneServices.get(o.IConfigurationService));return C($)?I(G,{create:()=>$}):y.TokenizationRegistry.register(G,oe($))}e.setMonarchTokensProvider=A;function R(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).referenceProvider.register(G,$)}e.registerReferenceProvider=R;function M(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).renameProvider.register(G,$)}e.registerRenameProvider=M;function N(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).newSymbolNamesProvider.register(G,$)}e.registerNewSymbolNameProvider=N;function P(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).signatureHelpProvider.register(G,$)}e.registerSignatureHelpProvider=P;function F(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).hoverProvider.register(G,{provideHover:(ae,ue,ce)=>{const fe=ae.getWordAtPosition(ue);return Promise.resolve($.provideHover(ae,ue,ce)).then(ve=>{if(ve)return!ve.range&&fe&&(ve.range=new k.Range(ue.lineNumber,fe.startColumn,ue.lineNumber,fe.endColumn)),ve.range||(ve.range=new k.Range(ue.lineNumber,ue.column,ue.lineNumber,ue.column)),ve})}})}e.registerHoverProvider=F;function O(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentSymbolProvider.register(G,$)}e.registerDocumentSymbolProvider=O;function B(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentHighlightProvider.register(G,$)}e.registerDocumentHighlightProvider=B;function W(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).linkedEditingRangeProvider.register(G,$)}e.registerLinkedEditingRangeProvider=W;function V(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).definitionProvider.register(G,$)}e.registerDefinitionProvider=V;function z(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).implementationProvider.register(G,$)}e.registerImplementationProvider=z;function K(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).typeDefinitionProvider.register(G,$)}e.registerTypeDefinitionProvider=K;function j(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).codeLensProvider.register(G,$)}e.registerCodeLensProvider=j;function x(G,$,oe){return v.StandaloneServices.get(t.ILanguageFeaturesService).codeActionProvider.register(G,{providedCodeActionKinds:oe?.providedCodeActionKinds,documentation:oe?.documentation,provideCodeActions:(ue,ce,fe,ve)=>{const Se=v.StandaloneServices.get(i.IMarkerService).read({resource:ue.uri}).filter(_e=>k.Range.areIntersectingOrTouching(_e,ce));return $.provideCodeActions(ue,ce,{markers:Se,only:fe.only,trigger:fe.trigger},ve)},resolveCodeAction:$.resolveCodeAction})}e.registerCodeActionProvider=x;function re(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentFormattingEditProvider.register(G,$)}e.registerDocumentFormattingEditProvider=re;function ie(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(G,$)}e.registerDocumentRangeFormattingEditProvider=ie;function J(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).onTypeFormattingEditProvider.register(G,$)}e.registerOnTypeFormattingEditProvider=J;function X(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).linkProvider.register(G,$)}e.registerLinkProvider=X;function Y(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).completionProvider.register(G,$)}e.registerCompletionItemProvider=Y;function le(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).colorProvider.register(G,$)}e.registerColorProvider=le;function de(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).foldingRangeProvider.register(G,$)}e.registerFoldingRangeProvider=de;function ge(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).declarationProvider.register(G,$)}e.registerDeclarationProvider=ge;function pe(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).selectionRangeProvider.register(G,$)}e.registerSelectionRangeProvider=pe;function Q(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentSemanticTokensProvider.register(G,$)}e.registerDocumentSemanticTokensProvider=Q;function U(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(G,$)}e.registerDocumentRangeSemanticTokensProvider=U;function Z(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).inlineCompletionsProvider.register(G,$)}e.registerInlineCompletionsProvider=Z;function H(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).inlineEditProvider.register(G,$)}e.registerInlineEditProvider=H;function q(G,$){return v.StandaloneServices.get(t.ILanguageFeaturesService).inlayHintsProvider.register(G,$)}e.registerInlayHintsProvider=q;function te(){return{register:g,getLanguages:m,onLanguage:d,onLanguageEncountered:s,getEncodedLanguageId:c,setLanguageConfiguration:l,setColorMap:_,registerTokensProviderFactory:I,setTokensProvider:T,setMonarchTokensProvider:A,registerReferenceProvider:R,registerRenameProvider:M,registerNewSymbolNameProvider:N,registerCompletionItemProvider:Y,registerSignatureHelpProvider:P,registerHoverProvider:F,registerDocumentSymbolProvider:O,registerDocumentHighlightProvider:B,registerLinkedEditingRangeProvider:W,registerDefinitionProvider:V,registerImplementationProvider:z,registerTypeDefinitionProvider:K,registerCodeLensProvider:j,registerCodeActionProvider:x,registerDocumentFormattingEditProvider:re,registerDocumentRangeFormattingEditProvider:ie,registerOnTypeFormattingEditProvider:J,registerLinkProvider:X,registerColorProvider:le,registerFoldingRangeProvider:de,registerDeclarationProvider:ge,registerSelectionRangeProvider:pe,registerDocumentSemanticTokensProvider:Q,registerDocumentRangeSemanticTokensProvider:U,registerInlineCompletionsProvider:Z,registerInlineEditProvider:H,registerInlayHintsProvider:q,DocumentHighlightKind:w.DocumentHighlightKind,CompletionItemKind:w.CompletionItemKind,CompletionItemTag:w.CompletionItemTag,CompletionItemInsertTextRule:w.CompletionItemInsertTextRule,SymbolKind:w.SymbolKind,SymbolTag:w.SymbolTag,IndentAction:w.IndentAction,CompletionTriggerKind:w.CompletionTriggerKind,SignatureHelpTriggerKind:w.SignatureHelpTriggerKind,InlayHintKind:w.InlayHintKind,InlineCompletionTriggerKind:w.InlineCompletionTriggerKind,InlineEditTriggerKind:w.InlineEditTriggerKind,CodeActionTriggerType:w.CodeActionTriggerType,NewSymbolNameTag:w.NewSymbolNameTag,FoldingRangeKind:y.FoldingRangeKind,SelectedSuggestionInfo:y.SelectedSuggestionInfo}}e.createMonacoLanguagesAPI=te}),define(ne[951],se([1,0,36,344,949,950,369]),function(ee,e,L,k,y,D,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,L.EditorOptions.wrappingIndent.defaultValue=0,L.EditorOptions.glyphMargin.defaultValue=!1,L.EditorOptions.autoIndent.defaultValue=3,L.EditorOptions.overviewRulerLanes.defaultValue=2,S.FormattingConflicts.setFormatterSelector((v,b,a)=>Promise.resolve(v[0]));const p=(0,k.createMonacoBaseAPI)();p.editor=(0,y.createMonacoEditorAPI)(),p.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=p.CancellationTokenSource,e.Emitter=p.Emitter,e.KeyCode=p.KeyCode,e.KeyMod=p.KeyMod,e.Position=p.Position,e.Range=p.Range,e.Selection=p.Selection,e.SelectionDirection=p.SelectionDirection,e.MarkerSeverity=p.MarkerSeverity,e.MarkerTag=p.MarkerTag,e.Uri=p.Uri,e.Token=p.Token,e.editor=p.editor,e.languages=p.languages;const w=globalThis.MonacoEnvironment;(w?.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=p),typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var pi=this&&this.__createBinding||(Object.create?function(ee,e,L,k){k===void 0&&(k=L);var y=Object.getOwnPropertyDescriptor(e,L);(!y||("get"in y?!e.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return e[L]}}),Object.defineProperty(ee,k,y)}:function(ee,e,L,k){k===void 0&&(k=L),ee[k]=e[L]}),vi=this&&this.__exportStar||function(ee,e){for(var L in ee)L!=="default"&&!Object.prototype.hasOwnProperty.call(e,L)&&pi(e,ee,L)};define(ne[953],se([1,0,951,947,839,840,812,883,884,843,934,886]),function(ee,e,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),vi(L,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.47.0(69991d66135e4a1fc1cf0b1ac4ad25d429866a0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var y=Object.create;var g=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,s)=>(typeof require<"u"?require:r)[s]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var l=(e,r,s,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of q(r))!M.call(e,o)&&o!==s&&g(e,o,{get:()=>r[o],enumerable:!(n=x(r,o))||n.enumerable});return e},p=(e,r,s)=>(l(e,r,"default"),s&&l(s,r,"default")),c=(e,r,s)=>(s=e!=null?y(A(e)):{},l(r||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));var v=D((w,d)=>{var b=c(a("vs/editor/editor.api"));d.exports=b});var t={};p(t,c(v()));var f={},m={},u=class e{static getOrCreate(r){return m[r]||(m[r]=new e(r)),m[r]}constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,n)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,f[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;f[r]=e,t.languages.register(e);let s=u.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await s.load()).language}),t.languages.onLanguageEncountered(r,async()=>{let n=await s.load();t.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cypher/cypher"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mdx/mdx"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/wgsl/wgsl"],e,r)})});i({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.47.0(69991d66135e4a1fc1cf0b1ac4ad25d429866a0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,r)=>(typeof require<"u"?require:n)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{constructor(n,r,a){this._onDidChange=new o.Emitter;this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.47.0(69991d66135e4a1fc1cf0b1ac4ad25d429866a0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{constructor(n,t,r){this._onDidChange=new a.Emitter;this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.47.0(69991d66135e4a1fc1cf0b1ac4ad25d429866a0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var y=Object.create;var i=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var s=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,o)=>(typeof require<"u"?require:n)[o]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var O=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),v=(e,n)=>{for(var o in n)i(e,o,{get:n[o],enumerable:!0})},g=(e,n,o,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of h(n))!b.call(e,r)&&r!==o&&i(e,r,{get:()=>n[r],enumerable:!(a=f(n,r))||a.enumerable});return e};var m=(e,n,o)=>(o=e!=null?y(N(e)):{},g(n||!e||!e.__esModule?i(o,"default",{value:e,enumerable:!0}):o,e)),x=e=>g(i({},"__esModule",{value:!0}),e);var u=O((J,c)=>{var A=m(s("vs/editor/editor.api"));c.exports=A});var C={};v(C,{getWorker:()=>S,jsonDefaults:()=>l});var t=m(u());var d=class{constructor(n,o,a){this._onDidChange=new t.Emitter;this._languageId=n,this.setDiagnosticsOptions(o),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},T={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},D={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},l=new d("json",T,D),S=()=>p().then(e=>e.getWorker());t.languages.json={jsonDefaults:l,getWorker:S};function p(){return new Promise((e,n)=>{s(["vs/language/json/jsonMode"],e,n)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{p().then(e=>e.setupMode(l))});return x(C);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.47.0(69991d66135e4a1fc1cf0b1ac4ad25d429866a0d)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var N=Object.create;var d=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var c=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var t in e)d(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of M(e))!F.call(n,r)&&r!==t&&d(n,r,{get:()=>e[r],enumerable:!(i=H(e,r))||i.enumerable});return n},D=(n,e,t)=>(g(n,e,"default"),t&&g(t,e,"default")),C=(n,e,t)=>(t=n!=null?N(R(n)):{},g(e||!n||!n.__esModule?d(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>g(d({},"__esModule",{value:!0}),n);var _=w((B,E)=>{var V=C(c("vs/editor/editor.api"));E.exports=V});var T={};A(T,{JsxEmit:()=>f,ModuleKind:()=>b,ModuleResolutionKind:()=>O,NewLineKind:()=>y,ScriptTarget:()=>h,getJavaScriptWorker:()=>k,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>I});var L="5.0.2";var l={};D(l,C(_()));var b=(s=>(s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext",s))(b||{}),f=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(f||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),h=(o=>(o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest",o))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),m=class{constructor(e,t,i,r,p){this._onDidChange=new l.Emitter;this._onDidExtraLibsChange=new l.Emitter;this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this.setModeConfiguration(p),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t>"u"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[i];p&&p.version===r&&(delete this._extraLibs[i],this._removedExtraLibs[i]=r,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,r=t.content,p=1;this._removedExtraLibs[i]&&(p=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:r,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(void 0)}},I=L,S={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},x=new m({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),v=new m({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),P=()=>u().then(n=>n.getTypeScriptWorker()),k=()=>u().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:b,JsxEmit:f,NewLineKind:y,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:I,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:k};function u(){return new Promise((n,e)=>{c(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>u().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>u().then(n=>n.setupJavaScript(v)));return W(T);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map